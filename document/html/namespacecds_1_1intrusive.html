<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>source: cds::intrusive 命名空间参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">source
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacecds_1_1intrusive.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">命名空间</a> &#124;
<a href="#nested-classes">类</a>  </div>
  <div class="headertitle"><div class="title">cds::intrusive 命名空间参考<div class="ingroups"><a class="el" href="group__cds__intrusive__containers.html">Intrusive containers</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Intrusive containers  
<a href="#details">更多...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
命名空间</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1basket__queue.html">basket_queue</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1basket__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_basket_queue.html" title="Basket lock-free queue (intrusive variant)">BasketQueue</a> -related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1cuckoo.html">cuckoo</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1cuckoo"><td class="mdescLeft">&#160;</td><td class="mdescRight">CuckooSet-related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1ellen__bintree.html">ellen_bintree</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1ellen__bintree"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_ellen_bin_tree.html" title="Ellen&#39;s et al binary search tree">EllenBinTree</a> related declarations <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1fcqueue.html">fcqueue</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1fcqueue"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code class="param"><a class="el" href="classcds_1_1intrusive_1_1_f_c_queue.html" title="Flat-combining intrusive queue">FCQueue</a></code> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1fcstack.html">fcstack</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1fcstack"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_f_c_stack.html" title="Flat-combining intrusive stack">FCStack</a> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1feldman__hashset.html">feldman_hashset</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1feldman__hashset"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_feldman_hash_set.html" title="Intrusive hash set based on multi-level array">FeldmanHashSet</a> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1iterable__list.html">iterable_list</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1iterable__list"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code class="param"><a class="el" href="classcds_1_1intrusive_1_1_iterable_list.html" title="Iterable lock-free ordered single-linked list">IterableList</a></code> ordered list related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1lazy__list.html">lazy_list</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1lazy__list"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_lazy_list.html" title="Lazy ordered single-linked list">LazyList</a> ordered list related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1michael__list.html">michael_list</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1michael__list"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_michael_list.html" title="Michael&#39;s lock-free ordered single-linked list">MichaelList</a> ordered list related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1michael__set.html">michael_set</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1michael__set"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_michael_hash_set.html" title="Michael&#39;s hash set">MichaelHashSet</a> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1mspriority__queue.html">mspriority_queue</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1mspriority__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_m_s_priority_queue.html" title="Michael &amp; Scott array-based lock-based concurrent priority queue heap">MSPriorityQueue</a> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1msqueue.html">msqueue</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1msqueue"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html" title="Michael &amp; Scott&#39;s intrusive lock-free queue">MSQueue</a> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1opt.html">opt</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1opt"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common options for intrusive containers <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1optimistic__queue.html">optimistic_queue</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1optimistic__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code class="param"><a class="el" href="classcds_1_1intrusive_1_1_optimistic_queue.html" title="Optimistic intruive lock-free queue">OptimisticQueue</a></code> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1segmented__queue.html">segmented_queue</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1segmented__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_segmented_queue.html" title="Segmented queue">SegmentedQueue</a> -related declarations <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1single__link.html">single_link</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1single__link"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definitions common for single-linked data structures <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1skip__list.html">skip_list</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1skip__list"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_skip_list_set.html" title="Lock-free skip-list set">SkipListSet</a> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1split__list.html">split_list</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1split__list"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split-ordered list related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1striped__set.html">striped_set</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1striped__set"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_striped_set.html" title="Striped hash set">StripedSet</a> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1treiber__stack.html">treiber_stack</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1treiber__stack"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_treiber_stack.html" title="Treiber intrusive stack">TreiberStack</a> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecds_1_1intrusive_1_1vyukov__queue.html">vyukov_queue</a></td></tr>
<tr class="memdesc:namespacecds_1_1intrusive_1_1vyukov__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcds_1_1intrusive_1_1_vyukov_m_p_m_c_cycle_queue.html" title="Vyukov&#39;s MPMC bounded queue">VyukovMPMCCycleQueue</a> related definitions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_basket_queue.html">BasketQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basket lock-free queue (intrusive variant)  <a href="classcds_1_1intrusive_1_1_basket_queue.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_cached_free_list.html">CachedFreeList</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cached free list  <a href="classcds_1_1intrusive_1_1_cached_free_list.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_cuckoo_set.html">CuckooSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cuckoo hash set  <a href="classcds_1_1intrusive_1_1_cuckoo_set.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_ellen_bin_tree.html">EllenBinTree</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ellen's et al binary search tree  <a href="classcds_1_1intrusive_1_1_ellen_bin_tree.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_ellen_bin_tree_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_key_00_01_t_00_01_traits_01_4.html">EllenBinTree&lt; cds::urcu::gc&lt; RCU &gt;, Key, T, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ellen's et al binary search tree (RCU specialization)  <a href="classcds_1_1intrusive_1_1_ellen_bin_tree_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_key_00_01_t_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_f_c_queue.html">FCQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flat-combining intrusive queue  <a href="classcds_1_1intrusive_1_1_f_c_queue.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_f_c_stack.html">FCStack</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flat-combining intrusive stack  <a href="classcds_1_1intrusive_1_1_f_c_stack.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_feldman_hash_set.html">FeldmanHashSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Intrusive hash set based on multi-level array  <a href="classcds_1_1intrusive_1_1_feldman_hash_set.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_feldman_hash_set_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_t_00_01_traits_01_4.html">FeldmanHashSet&lt; cds::urcu::gc&lt; RCU &gt;, T, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Intrusive hash set based on multi-level array, <a class="el" href="namespacecds_1_1urcu.html#cds_urcu_desc">RCU</a> specialization  <a href="classcds_1_1intrusive_1_1_feldman_hash_set_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_t_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_free_list.html">FreeList</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock-free free list  <a href="classcds_1_1intrusive_1_1_free_list.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1intrusive_1_1get__node__traits.html">get_node_traits</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_node.html">Node</a> traits selector metafunction  <a href="structcds_1_1intrusive_1_1get__node__traits.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_iterable_list.html">IterableList</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterable lock-free ordered single-linked list  <a href="classcds_1_1intrusive_1_1_iterable_list.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_lazy_list.html">LazyList</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lazy ordered single-linked list  <a href="classcds_1_1intrusive_1_1_lazy_list.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_lazy_list_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_t_00_01_traits_01_4.html">LazyList&lt; cds::urcu::gc&lt; RCU &gt;, T, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lazy ordered single-linked list (template specialization for <a class="el" href="namespacecds_1_1urcu.html#cds_urcu_desc">RCU</a>)  <a href="classcds_1_1intrusive_1_1_lazy_list_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_t_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_lazy_list_3_01gc_1_1nogc_00_01_t_00_01_traits_01_4.html">LazyList&lt; gc::nogc, T, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lazy single-linked list (template specialization for <code class="param"><a class="el" href="classcds_1_1gc_1_1nogc.html" title="No garbage collecting">gc::nogc</a></code>)  <a href="classcds_1_1intrusive_1_1_lazy_list_3_01gc_1_1nogc_00_01_t_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_michael_hash_set.html">MichaelHashSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Michael's hash set  <a href="classcds_1_1intrusive_1_1_michael_hash_set.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_michael_hash_set_3_01cds_1_1gc_1_1nogc_00_01_ordered_list_00_01_traits_01_4.html">MichaelHashSet&lt; cds::gc::nogc, OrderedList, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Michael's hash set (template specialization for <a class="el" href="classcds_1_1gc_1_1nogc.html" title="No garbage collecting">gc::nogc</a>)  <a href="classcds_1_1intrusive_1_1_michael_hash_set_3_01cds_1_1gc_1_1nogc_00_01_ordered_list_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_michael_hash_set_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_ordered_list_00_01_traits_01_4.html">MichaelHashSet&lt; cds::urcu::gc&lt; RCU &gt;, OrderedList, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Michael's hash set, <a class="el" href="namespacecds_1_1urcu.html#cds_urcu_desc">RCU</a> specialization  <a href="classcds_1_1intrusive_1_1_michael_hash_set_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_ordered_list_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_michael_list.html">MichaelList</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Michael's lock-free ordered single-linked list  <a href="classcds_1_1intrusive_1_1_michael_list.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_michael_list_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_t_00_01_traits_01_4.html">MichaelList&lt; cds::urcu::gc&lt; RCU &gt;, T, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Michael's lock-free ordered single-linked list (template specialization for <a class="el" href="namespacecds_1_1urcu.html#cds_urcu_desc">RCU</a>)  <a href="classcds_1_1intrusive_1_1_michael_list_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_t_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_michael_list_3_01gc_1_1nogc_00_01_t_00_01_traits_01_4.html">MichaelList&lt; gc::nogc, T, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Michael's lock-free ordered single-linked list (template specialization for <a class="el" href="classcds_1_1gc_1_1nogc.html" title="No garbage collecting">gc::nogc</a>)  <a href="classcds_1_1intrusive_1_1_michael_list_3_01gc_1_1nogc_00_01_t_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_moir_queue.html">MoirQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="bench__gemm_8cpp.html#addc86e8508f14411ec98f521c520f875">A</a> variation of Michael &amp; Scott's lock-free queue (intrusive variant)  <a href="classcds_1_1intrusive_1_1_moir_queue.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_priority_queue.html">MSPriorityQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Michael &amp; Scott array-based lock-based concurrent priority queue heap  <a href="classcds_1_1intrusive_1_1_m_s_priority_queue.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_m_s_queue.html">MSQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Michael &amp; Scott's intrusive lock-free queue  <a href="classcds_1_1intrusive_1_1_m_s_queue.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1intrusive_1_1node__traits.html">node_traits</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_optimistic_queue.html">OptimisticQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optimistic intruive lock-free queue  <a href="classcds_1_1intrusive_1_1_optimistic_queue.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_segmented_queue.html">SegmentedQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segmented queue  <a href="classcds_1_1intrusive_1_1_segmented_queue.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_skip_list_set.html">SkipListSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock-free skip-list set  <a href="classcds_1_1intrusive_1_1_skip_list_set.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_skip_list_set_3_01cds_1_1gc_1_1nogc_00_01_t_00_01_traits_01_4.html">SkipListSet&lt; cds::gc::nogc, T, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock-free skip-list set (template specialization for <a class="el" href="classcds_1_1gc_1_1nogc.html" title="No garbage collecting">gc::nogc</a>)  <a href="classcds_1_1intrusive_1_1_skip_list_set_3_01cds_1_1gc_1_1nogc_00_01_t_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_skip_list_set_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_t_00_01_traits_01_4.html">SkipListSet&lt; cds::urcu::gc&lt; RCU &gt;, T, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock-free skip-list set (template specialization for <a class="el" href="namespacecds_1_1urcu.html#cds_urcu_desc">RCU</a>)  <a href="classcds_1_1intrusive_1_1_skip_list_set_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_t_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_split_list_set.html">SplitListSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split-ordered list  <a href="classcds_1_1intrusive_1_1_split_list_set.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_split_list_set_3_01cds_1_1gc_1_1nogc_00_01_ordered_list_00_01_traits_01_4.html">SplitListSet&lt; cds::gc::nogc, OrderedList, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split-ordered list (template specialization for <a class="el" href="classcds_1_1gc_1_1nogc.html" title="No garbage collecting">gc::nogc</a>)  <a href="classcds_1_1intrusive_1_1_split_list_set_3_01cds_1_1gc_1_1nogc_00_01_ordered_list_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_split_list_set_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_ordered_list_00_01_traits_01_4.html">SplitListSet&lt; cds::urcu::gc&lt; RCU &gt;, OrderedList, Traits &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split-ordered list RCU specialization  <a href="classcds_1_1intrusive_1_1_split_list_set_3_01cds_1_1urcu_1_1gc_3_01_r_c_u_01_4_00_01_ordered_list_00_01_traits_01_4.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_striped_set.html">StripedSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Striped hash set  <a href="classcds_1_1intrusive_1_1_striped_set.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tagged_free_list.html">TaggedFreeList</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock-free free list based on tagged pointers (required double-width CAS)  <a href="classcds_1_1intrusive_1_1_tagged_free_list.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_treiber_stack.html">TreiberStack</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Treiber intrusive stack  <a href="classcds_1_1intrusive_1_1_treiber_stack.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_vyukov_m_p_m_c_cycle_queue.html">VyukovMPMCCycleQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vyukov's MPMC bounded queue  <a href="classcds_1_1intrusive_1_1_vyukov_m_p_m_c_cycle_queue.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>Intrusive containers </p>
<p>The namespace <code class="param"><a class="el" href="namespacecds_1_1intrusive.html" title="Intrusive containers">cds::intrusive</a></code> contains intrusive lock-free containers. The idea comes from <code class="param">boost::intrusive</code> library, see <a href="http://boost.org/doc/">http://boost.org/doc/</a> as a good introduction to intrusive approach. The intrusive containers of libcds library is developed as close to <code class="param">boost::intrusive</code> </p>
<p>In terms of lock-free approach, the main advantage of intrusive containers is that no memory allocation is performed to maintain container elements. However, additional requirements are imposed for types and values that can be stored in intrusive container. See the container documentation for details.</p>
<p><a class="anchor" id="cds_intrusive_hook_tag"></a></p><dl class="section user"><dt>Tags</dt><dd>Many hooks and nodes for intrusive containers contain template argument <code class="param">Tag</code>. This argument serves as a tag, so you can derive from more than one container's node and hence put an object in multiple intrusive containers at the same time. An incomplete type can serve as a tag. If you specify two hooks, you must specify a different tag for each one. Example: <div class="fragment"><div class="line"><span class="keyword">struct </span>tag1;</div>
<div class="line"><a class="code hl_typedef" href="namespacecds_1_1intrusive_1_1treiber__stack.html#a85584c428a6759dd94a1f337a5c7d2b4">cds::intrusive::treiber_stack::node&lt; cds::gc::HP, tag&lt;tag1&gt;</a> &gt;</div>
<div class="ttc" id="anamespacecds_1_1intrusive_1_1treiber__stack_html_a85584c428a6759dd94a1f337a5c7d2b4"><div class="ttname"><a href="namespacecds_1_1intrusive_1_1treiber__stack.html#a85584c428a6759dd94a1f337a5c7d2b4">cds::intrusive::treiber_stack::node</a></div><div class="ttdeci">cds::intrusive::single_link::node&lt; GC, Tag &gt; node</div><div class="ttdoc">Stack node</div><div class="ttdef"><b>定义</b> treiber_stack.h:31</div></div>
</div><!-- fragment --> If no tag is specified the default <code class="param"><a class="el" href="structcds_1_1opt_1_1none.html" title="Type indicates that an option is not specified and the default one should be used">cds::opt::none</a></code> will be used.</dd></dl>
<p><a class="anchor" id="cds_intrusive_item_creating"></a></p><dl class="section user"><dt>Inserting items</dt><dd>Many intrusive and non-intrusive (standard-like) containers in the library have the member functions that take a functor argument to initialize the inserted item after it has been successfully inserted, for example: <div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Q, <span class="keyword">typename</span> Func&gt;</div>
<div class="line"><span class="keywordtype">bool</span> <a class="code hl_variable" href="_sparse_matrix__coeffs_8cpp.html#ab35a6a022462a2c6584f51173eb05af6">insert</a>( <a class="code hl_variable" href="_householder_q_r__householder_q_8cpp.html#a7e56035a736d269ad670f312496a0846">Q</a>&amp; <a class="code hl_variable" href="ittnotify__static_8h.html#aeeaf6235e69da2907f537f67e598fc9d">key</a>, Func <a class="code hl_function" href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a> );</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Q, <span class="keyword">typename</span> Func&gt;</div>
<div class="line">std::pair&lt;bool, bool&gt; update( <a class="code hl_variable" href="_householder_q_r__householder_q_8cpp.html#a7e56035a736d269ad670f312496a0846">Q</a>&amp; <a class="code hl_variable" href="ittnotify__static_8h.html#aeeaf6235e69da2907f537f67e598fc9d">key</a>, Func <a class="code hl_function" href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a>, <span class="keywordtype">bool</span> bAllowInsert = <span class="keyword">true</span> );</div>
<div class="ttc" id="a_householder_q_r__householder_q_8cpp_html_a7e56035a736d269ad670f312496a0846"><div class="ttname"><a href="_householder_q_r__householder_q_8cpp.html#a7e56035a736d269ad670f312496a0846">Q</a></div><div class="ttdeci">MatrixXf Q</div><div class="ttdef"><b>定义</b> HouseholderQR_householderQ.cpp:1</div></div>
<div class="ttc" id="a_sparse_matrix__coeffs_8cpp_html_ab35a6a022462a2c6584f51173eb05af6"><div class="ttname"><a href="_sparse_matrix__coeffs_8cpp.html#ab35a6a022462a2c6584f51173eb05af6">insert</a></div><div class="ttdeci">A insert(1, 2)=0</div></div>
<div class="ttc" id="acxx11__tensor__map_8cpp_html_a7f507fea02198f6cb81c86640c7b1a4e"><div class="ttname"><a href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a></div><div class="ttdeci">static int f(const TensorMap&lt; Tensor&lt; int, 3 &gt; &gt; &amp;tensor)</div><div class="ttdef"><b>定义</b> cxx11_tensor_map.cpp:238</div></div>
<div class="ttc" id="aittnotify__static_8h_html_aeeaf6235e69da2907f537f67e598fc9d"><div class="ttname"><a href="ittnotify__static_8h.html#aeeaf6235e69da2907f537f67e598fc9d">key</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p void ITT_FORMAT p no args __itt_suppress_mode_t unsigned int void size_t ITT_FORMAT d void ITT_FORMAT p void ITT_FORMAT p __itt_model_site __itt_model_site_instance ITT_FORMAT p __itt_model_task __itt_model_task_instance ITT_FORMAT p void ITT_FORMAT p void ITT_FORMAT p void size_t ITT_FORMAT d void ITT_FORMAT p const wchar_t ITT_FORMAT s const char ITT_FORMAT s const char ITT_FORMAT s const char ITT_FORMAT s no args void ITT_FORMAT p size_t ITT_FORMAT d no args const wchar_t const wchar_t ITT_FORMAT s __itt_heap_function void size_t int ITT_FORMAT d __itt_heap_function void ITT_FORMAT p __itt_heap_function void void size_t int ITT_FORMAT d no args no args unsigned int ITT_FORMAT u const __itt_domain __itt_id ITT_FORMAT lu const __itt_domain __itt_id __itt_id __itt_string_handle ITT_FORMAT p const __itt_domain __itt_id ITT_FORMAT p const __itt_domain __itt_id __itt_timestamp __itt_timestamp ITT_FORMAT lu const __itt_domain __itt_id __itt_id __itt_string_handle ITT_FORMAT p const __itt_domain ITT_FORMAT p const __itt_domain __itt_string_handle unsigned long long ITT_FORMAT lu const __itt_domain __itt_string_handle unsigned long long ITT_FORMAT lu const __itt_domain __itt_id __itt_string_handle * key</div><div class="ttdef"><b>定义</b> ittnotify_static.h:198</div></div>
</div><!-- fragment --> The first member function calls <code class="param">f</code> functor iif a new item has been inserted. The functor takes two parameter: a reference to inserted item and <code class="param">key</code>.</dd></dl>
<p>The second member function, <code class="param">update()</code>, allows to insert a new item to the container if <code class="param">key</code> is not found, or to find the item with <code class="param">key</code> and to perform some action with it. The <code class="param">f</code> signature is: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a>( <span class="keywordtype">bool</span> bNew, item_type&amp; item, <a class="code hl_variable" href="_householder_q_r__householder_q_8cpp.html#a7e56035a736d269ad670f312496a0846">Q</a>&amp; <a class="code hl_variable" href="ittnotify__static_8h.html#aeeaf6235e69da2907f537f67e598fc9d">key</a> );</div>
</div><!-- fragment --><p> where <code class="param">bNew</code> is a flag to indicate whether <code class="param">item</code> is a new created node or not.</p>
<p>Such functions should be used with caution in multi-threaded environment since they can cause races. The library does not synchronize access to container's items, so many threads can access to one item simultaneously. For example, for <code class="param">insert</code> member function the following race is possible: </p><div class="fragment"><div class="line"><span class="comment">// Suppose, Foo is a complex structure with int key field</span></div>
<div class="line">SomeContainer&lt;Foo&gt; <a class="code hl_variable" href="som__graph_8cpp.html#ae900b2add8deca663438fb20de69acce">q</a>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_thread.html">Thread</a> 1                                  <a class="code hl_struct" href="struct_thread.html">Thread</a> 2</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="som__graph_8cpp.html#ae900b2add8deca663438fb20de69acce">q</a>.insert( <a class="code hl_namespace" href="namespace_foo.html">Foo</a>(5),                         <a class="code hl_variable" href="som__graph_8cpp.html#ae900b2add8deca663438fb20de69acce">q</a>.find( 5, []( <a class="code hl_namespace" href="namespace_foo.html">Foo</a>&amp; item ) {</div>
<div class="line">    []( Foo&amp; item ){                         <span class="comment">// access to item fields</span></div>
<div class="line">       <span class="comment">// complex initialization             ...</span></div>
<div class="line">       item.f1 = ...;                     });</div>
<div class="line">       ...</div>
<div class="line">    });</div>
<div class="ttc" id="anamespace_foo_html"><div class="ttname"><a href="namespace_foo.html">Foo</a></div><div class="ttdef"><b>定义</b> jacobisvd.cpp:72</div></div>
<div class="ttc" id="asom__graph_8cpp_html_ae900b2add8deca663438fb20de69acce"><div class="ttname"><a href="som__graph_8cpp.html#ae900b2add8deca663438fb20de69acce">q</a></div><div class="ttdeci">queue_node&lt; search_result_type &gt; * q[SPECULATION_CNT]</div><div class="ttdef"><b>定义</b> som_graph.cpp:95</div></div>
<div class="ttc" id="astruct_thread_html"><div class="ttname"><a href="struct_thread.html">Thread</a></div><div class="ttdef"><b>定义</b> threads.c:43</div></div>
</div><!-- fragment --><p> Execute sequence: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_find.html">Find</a> 5 in the <a class="code hl_namespace" href="namespacecds_1_1container.html">container</a>.</div>
<div class="line">Key 5 is not found</div>
<div class="line">Create <a class="code hl_variable" href="_cwise__product_8cpp.html#ad2cbe4616e813eb9af81732dca777b24">a</a> <span class="keyword">new</span> item                         <a class="code hl_struct" href="struct_find.html">Find</a> <a class="code hl_variable" href="ittnotify__static_8h.html#aeeaf6235e69da2907f537f67e598fc9d">key</a> 5</div>
<div class="line">    with calling <a class="code hl_namespace" href="namespace_foo.html">Foo</a>(5) ctor</div>
<div class="line"><a class="code hl_struct" href="struct_insert.html">Insert</a> the new item</div>
<div class="line">                                          The <a class="code hl_variable" href="ittnotify__static_8h.html#aeeaf6235e69da2907f537f67e598fc9d">key</a> 5 is found -</div>
<div class="line">                                             call the functor     (!)</div>
<div class="line">Perform <a class="code hl_struct" href="structcomplex.html">complex</a></div>
<div class="line">   initialization -</div>
<div class="line">   call the functor</div>
<div class="ttc" id="a_cwise__product_8cpp_html_ad2cbe4616e813eb9af81732dca777b24"><div class="ttname"><a href="_cwise__product_8cpp.html#ad2cbe4616e813eb9af81732dca777b24">a</a></div><div class="ttdeci">Array33i a</div><div class="ttdef"><b>定义</b> Cwise_product.cpp:1</div></div>
<div class="ttc" id="anamespacecds_1_1container_html"><div class="ttname"><a href="namespacecds_1_1container.html">cds::container</a></div><div class="ttdoc">Standard (non-intrusive) containers</div><div class="ttdef"><b>定义</b> basket_queue.h:13</div></div>
<div class="ttc" id="astruct_find_html"><div class="ttname"><a href="struct_find.html">Find</a></div><div class="ttdef"><b>定义</b> test_concurrent_hash_map.cpp:290</div></div>
<div class="ttc" id="astruct_insert_html"><div class="ttname"><a href="struct_insert.html">Insert</a></div><div class="ttdef"><b>定义</b> test_concurrent_hash_map.cpp:227</div></div>
<div class="ttc" id="astructcomplex_html"><div class="ttname"><a href="structcomplex.html">complex</a></div><div class="ttdef"><b>定义</b> datatypes.h:12</div></div>
</div><!-- fragment --><p> (!): <a class="el" href="struct_thread.html">Thread</a> 2 found the key and call its functor on incomplete initialized item. Simultaneous access to the item also is possible. In this case <a class="el" href="struct_thread.html">Thread</a> 1 is initializing the item, thread 2 is reading (or writing) the item's fields. In any case, <a class="el" href="struct_thread.html">Thread</a> 2 can read uninitialized or incomplete initialized fields.</p>
<p><code class="param">update()</code> member function race. Suppose, thread 1 and thread 2 perform the following code: </p><div class="fragment"><div class="line"><a class="code hl_variable" href="som__graph_8cpp.html#ae900b2add8deca663438fb20de69acce">q</a>.update( 5, []( <span class="keywordtype">bool</span> bNew, <a class="code hl_namespace" href="namespace_foo.html">Foo</a>&amp; item, <span class="keywordtype">int</span>  <a class="code hl_typedef" href="mimalloc_8h.html#ac9ca0390aa991912667416f6baf99e51">arg</a> )</div>
<div class="line">   {</div>
<div class="line">      <span class="comment">// bNew: true if the new element has been created</span></div>
<div class="line">      <span class="comment">//       false otherwise</span></div>
<div class="line">      <span class="keywordflow">if</span> ( bNew ) {</div>
<div class="line">         <span class="comment">// initialize item</span></div>
<div class="line">         item.f1=...;</div>
<div class="line">         <span class="comment">//...</span></div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">else</span> {</div>
<div class="line">         <span class="comment">// do some work</span></div>
<div class="line">         <span class="keywordflow">if</span> ( !item.f1 )</div>
<div class="line">            item.f1 = ...;</div>
<div class="line">         <span class="keywordflow">else</span> {</div>
<div class="line">           <span class="comment">//...</span></div>
<div class="line">         }</div>
<div class="line">         <span class="comment">//...</span></div>
<div class="line">      }</div>
<div class="line">   }</div>
<div class="line">);</div>
<div class="ttc" id="amimalloc_8h_html_ac9ca0390aa991912667416f6baf99e51"><div class="ttname"><a href="mimalloc_8h.html#ac9ca0390aa991912667416f6baf99e51">arg</a></div><div class="ttdeci">unsigned long long void * arg</div><div class="ttdef"><b>定义</b> mimalloc.h:141</div></div>
</div><!-- fragment --><p> Execute sequence: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_thread.html">Thread</a> 1                                  <a class="code hl_struct" href="struct_thread.html">Thread</a> 2</div>
<div class="line"><a class="code hl_variable" href="ittnotify__static_8h.html#aeeaf6235e69da2907f537f67e598fc9d">key</a> 5 not found</div>
<div class="line"><a class="code hl_variable" href="_sparse_matrix__coeffs_8cpp.html#ab35a6a022462a2c6584f51173eb05af6">insert</a> <span class="keyword">new</span> item <a class="code hl_namespace" href="namespace_foo.html">Foo</a>(5)                    <a class="code hl_struct" href="struct_find.html">Find</a> 5</div>
<div class="line">                                          Key 5 found</div>
<div class="line">                                          call the functor with</div>
<div class="line">                                             bNew = <a class="code hl_define" href="yyjson_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>        (!)</div>
<div class="line">call the functor with</div>
<div class="line">   bNew = <a class="code hl_define" href="yyjson_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></div>
<div class="ttc" id="ayyjson_8h_html_a41f9c5fb8b08eb5dc3edce4dcb37fee7"><div class="ttname"><a href="yyjson_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></div><div class="ttdeci">#define true</div><div class="ttdef"><b>定义</b> yyjson.h:462</div></div>
<div class="ttc" id="ayyjson_8h_html_a65e9886d74aaee76545e83dd09011727"><div class="ttname"><a href="yyjson_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></div><div class="ttdeci">#define false</div><div class="ttdef"><b>定义</b> yyjson.h:463</div></div>
</div><!-- fragment --><p> (!): <a class="el" href="struct_thread.html">Thread</a> 2 executes its functor on incomplete initialized item.</p>
<p>To protect your code from such races you can use some item-level synchronization, for example: </p><div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_namespace" href="namespace_foo.html">Foo</a> {</div>
<div class="line">   spinlock <a class="code hl_variable" href="ittnotify__static_8h.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a>;       <span class="comment">// item-level lock</span></div>
<div class="line">   <span class="keywordtype">bool</span> <a class="code hl_variable" href="_open_g_l_view_8m.html#a3fc86b118a59fbc63f6be3c1293300ff">initialized</a> = <span class="keyword">false</span>;    <span class="comment">// initialization flag</span></div>
<div class="line">   <span class="comment">// other fields</span></div>
<div class="line">   <span class="comment">// ....</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="som__graph_8cpp.html#ae900b2add8deca663438fb20de69acce">q</a>.update( 5, []( <span class="keywordtype">bool</span> bNew, <a class="code hl_namespace" href="namespace_foo.html">Foo</a>&amp; item, <span class="keywordtype">int</span>  <a class="code hl_typedef" href="mimalloc_8h.html#ac9ca0390aa991912667416f6baf99e51">arg</a> )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Lock access to the item</span></div>
<div class="line">        std::unique_lock( item.lock );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ( !item.initialized ) {</div>
<div class="line">            <span class="comment">// initialize item</span></div>
<div class="line">            item.f1=...;</div>
<div class="line">            <span class="comment">//...</span></div>
<div class="line">            item.initialized = <span class="keyword">true</span>; <span class="comment">// mark the item as initialized</span></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">// do some work</span></div>
<div class="line">            <span class="keywordflow">if</span> ( !item.f1 )</div>
<div class="line">                item.f1 = ...;</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="comment">//...</span></div>
<div class="line">            }</div>
<div class="line">            <span class="comment">//...</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">);</div>
<div class="ttc" id="a_open_g_l_view_8m_html_a3fc86b118a59fbc63f6be3c1293300ff"><div class="ttname"><a href="_open_g_l_view_8m.html#a3fc86b118a59fbc63f6be3c1293300ff">initialized</a></div><div class="ttdeci">bool initialized</div><div class="ttdef"><b>定义</b> OpenGLView.m:28</div></div>
<div class="ttc" id="aittnotify__static_8h_html_a46e8be2e3aadb2f6ee62e762a36b9243"><div class="ttname"><a href="ittnotify__static_8h.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p void ITT_FORMAT p no args __itt_suppress_mode_t unsigned int void size_t ITT_FORMAT d void ITT_FORMAT p void ITT_FORMAT p __itt_model_site __itt_model_site_instance ITT_FORMAT p __itt_model_task __itt_model_task_instance ITT_FORMAT p void * lock</div><div class="ttdef"><b>定义</b> ittnotify_static.h:121</div></div>
</div><!-- fragment --><p> If the item-level synchronization is not suitable, you should not use any inserting member function with post-insert functor argument.</p>
<p><a class="anchor" id="cds_intrusive_item_destroying"></a></p><dl class="section user"><dt>Destroying items</dt><dd></dd></dl>
<p>It should be very careful when destroying an item removed from intrusive container. In other threads the references to popped item may exists some time after removing. To destroy the removed item in thread-safe manner you should call static function <code class="param">retire</code> of garbage collector you use, for example: </p><div class="fragment"><div class="line"><span class="keyword">struct </span>destroyer  {</div>
<div class="line">    <span class="keywordtype">void</span> operator ()( <a class="code hl_struct" href="structmy__type.html">my_type</a> * <a class="code hl_variable" href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a> )</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">delete</span> <a class="code hl_variable" href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a>;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <a class="code hl_class" href="classcds_1_1intrusive_1_1_treiber_stack.html">cds::intrusive::TreiberStack&lt; cds::gc::HP, my_type, cds::opt::disposer&lt; destroyer &gt;</a> &gt; <a class="code hl_namespace" href="namespacestack.html">stack</a>;</div>
<div class="line"><a class="code hl_namespace" href="namespacestack.html">stack</a> <a class="code hl_variable" href="main-override_8cpp.html#a1384e7608274313a9433fa573868557b">s</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ....</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="structmy__type.html">my_type</a> * <a class="code hl_variable" href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a> = <a class="code hl_variable" href="main-override_8cpp.html#a1384e7608274313a9433fa573868557b">s</a>.pop();</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> ( <a class="code hl_variable" href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a> ) {</div>
<div class="line">    <span class="comment">// It is wrong</span></div>
<div class="line">    <span class="comment">// delete p;</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// It is correct</span></div>
<div class="line">    <a class="code hl_namespace" href="namespacecds_1_1gc.html">cds::gc</a>:HP::retire&lt; destroyer &gt;( <a class="code hl_variable" href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a> );</div>
<div class="line">}</div>
<div class="ttc" id="aclasscds_1_1intrusive_1_1_treiber_stack_html"><div class="ttname"><a href="classcds_1_1intrusive_1_1_treiber_stack.html">cds::intrusive::TreiberStack</a></div><div class="ttdoc">Treiber intrusive stack</div><div class="ttdef"><b>定义</b> treiber_stack.h:624</div></div>
<div class="ttc" id="amain-override_8cpp_html_a117104b82864d3b23ec174af6d392709"><div class="ttname"><a href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a></div><div class="ttdeci">static void * p</div><div class="ttdef"><b>定义</b> main-override.cpp:75</div></div>
<div class="ttc" id="amain-override_8cpp_html_a1384e7608274313a9433fa573868557b"><div class="ttname"><a href="main-override_8cpp.html#a1384e7608274313a9433fa573868557b">s</a></div><div class="ttdeci">static Static s</div><div class="ttdef"><b>定义</b> main-override.cpp:135</div></div>
<div class="ttc" id="anamespacecds_1_1gc_html"><div class="ttname"><a href="namespacecds_1_1gc.html">cds::gc</a></div><div class="ttdoc">Different safe memory reclamation schemas (garbage collectors)</div><div class="ttdef"><b>定义</b> default_gc.h:11</div></div>
<div class="ttc" id="anamespacestack_html"><div class="ttname"><a href="namespacestack.html">stack</a></div><div class="ttdef"><b>定义</b> stack_type.h:25</div></div>
<div class="ttc" id="astructmy__type_html"><div class="ttname"><a href="structmy__type.html">my_type</a></div><div class="ttdef"><b>定义</b> example.cpp:269</div></div>
</div><!-- fragment --><p> The situation becomes even more complicated when you want store items in different intrusive containers. In this case the best way is using reference counting: </p><div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structmy__type.html">my_type</a> {</div>
<div class="line">    ...</div>
<div class="line">    std::atomic&lt;unsigned int&gt; nRefCount;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedef" href="time__split__node_8cpp.html#ac7d42ca9867b385e4bd85e57929bd9be">my_type</a>()</div>
<div class="line">        : nRefCount(0)</div>
<div class="line">    {}</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>destroyer  {</div>
<div class="line">    <span class="keywordtype">void</span> operator ()( <a class="code hl_struct" href="structmy__type.html">my_type</a> * <a class="code hl_variable" href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a> )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( --<a class="code hl_variable" href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a>-&gt;nRefCount == 0 )</div>
<div class="line">            <span class="keyword">delete</span> <a class="code hl_variable" href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a>    ;   <span class="comment">// delete only after no reference pointing to p</span></div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> cds::intrusive::TreiberStack&lt; cds::gc::HP, my_type, cds::opt::disposer&lt; destroyer &gt; &gt; <a class="code hl_typedef" href="namespaceluisa.html#aac116168b3a7f5580f82d7da42bd1c42">stack</a>;</div>
<div class="line"><span class="keyword">typedef</span> cds::intrusive::MSQueue&lt; cds::gc::HP, my_type, cds::opt::disposer&lt; destroyer &gt; &gt; <a class="code hl_typedef" href="namespaceluisa.html#aa1eb922874c2e5b0b13f4fc9a37747eb">queue</a>;</div>
<div class="line"><a class="code hl_typedef" href="namespaceluisa.html#aac116168b3a7f5580f82d7da42bd1c42">stack</a> <a class="code hl_variable" href="main-override_8cpp.html#a1384e7608274313a9433fa573868557b">s</a>;</div>
<div class="line"><a class="code hl_typedef" href="namespaceluisa.html#aa1eb922874c2e5b0b13f4fc9a37747eb">queue</a> <a class="code hl_variable" href="som__graph_8cpp.html#ae900b2add8deca663438fb20de69acce">q</a>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="time__split__node_8cpp.html#ac7d42ca9867b385e4bd85e57929bd9be">my_type</a> * <a class="code hl_variable" href="_cwise__arg_8cpp.html#a49bb5a0db288a22a099643d44c5abbd6">v</a> = <span class="keyword">new</span> <a class="code hl_typedef" href="time__split__node_8cpp.html#ac7d42ca9867b385e4bd85e57929bd9be">my_type</a>();</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="_cwise__arg_8cpp.html#a49bb5a0db288a22a099643d44c5abbd6">v</a>.nRefCount++   ; <span class="comment">// increment counter before pushing the item to the stack</span></div>
<div class="line"><a class="code hl_variable" href="main-override_8cpp.html#a1384e7608274313a9433fa573868557b">s</a>.push(<a class="code hl_variable" href="_cwise__arg_8cpp.html#a49bb5a0db288a22a099643d44c5abbd6">v</a>);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="_cwise__arg_8cpp.html#a49bb5a0db288a22a099643d44c5abbd6">v</a>.nRefCount++   ; <span class="comment">// increment counter before pushing the item to the queue</span></div>
<div class="line"><a class="code hl_variable" href="som__graph_8cpp.html#ae900b2add8deca663438fb20de69acce">q</a>.push(<a class="code hl_variable" href="_cwise__arg_8cpp.html#a49bb5a0db288a22a099643d44c5abbd6">v</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ....</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="time__split__node_8cpp.html#ac7d42ca9867b385e4bd85e57929bd9be">my_type</a> * <a class="code hl_variable" href="level1__cplx__impl_8h.html#a6280e894a2fd5ef320bda62ca65dcb3f">ps</a> = <a class="code hl_variable" href="main-override_8cpp.html#a1384e7608274313a9433fa573868557b">s</a>.pop();</div>
<div class="line"><span class="keywordflow">if</span> ( <a class="code hl_variable" href="level1__cplx__impl_8h.html#a6280e894a2fd5ef320bda62ca65dcb3f">ps</a> ) {</div>
<div class="line">    <span class="comment">// It is wrong</span></div>
<div class="line">    <span class="comment">// delete ps;</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// It is correct</span></div>
<div class="line">    cds::gc:HP::retire&lt; destroyer &gt;( <a class="code hl_variable" href="level1__cplx__impl_8h.html#a6280e894a2fd5ef320bda62ca65dcb3f">ps</a> );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="time__split__node_8cpp.html#ac7d42ca9867b385e4bd85e57929bd9be">my_type</a> * pq = <a class="code hl_variable" href="som__graph_8cpp.html#ae900b2add8deca663438fb20de69acce">q</a>.pop();</div>
<div class="line"><span class="keywordflow">if</span> ( pq ) {</div>
<div class="line">    <span class="comment">// It is wrong</span></div>
<div class="line">    <span class="comment">// delete pq;</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// It is correct</span></div>
<div class="line">    cds::gc:HP::retire&lt; destroyer &gt;( pq );</div>
<div class="line">}</div>
<div class="ttc" id="a_cwise__arg_8cpp_html_a49bb5a0db288a22a099643d44c5abbd6"><div class="ttname"><a href="_cwise__arg_8cpp.html#a49bb5a0db288a22a099643d44c5abbd6">v</a></div><div class="ttdeci">ArrayXcf v</div><div class="ttdef"><b>定义</b> Cwise_arg.cpp:1</div></div>
<div class="ttc" id="alevel1__cplx__impl_8h_html_a6280e894a2fd5ef320bda62ca65dcb3f"><div class="ttname"><a href="level1__cplx__impl_8h.html#a6280e894a2fd5ef320bda62ca65dcb3f">ps</a></div><div class="ttdeci">int RealScalar int RealScalar int RealScalar RealScalar * ps</div><div class="ttdef"><b>定义</b> level1_cplx_impl.h:98</div></div>
<div class="ttc" id="anamespaceluisa_html_aa1eb922874c2e5b0b13f4fc9a37747eb"><div class="ttname"><a href="namespaceluisa.html#aa1eb922874c2e5b0b13f4fc9a37747eb">luisa::queue</a></div><div class="ttdeci">eastl::queue&lt; T, Container &gt; queue</div><div class="ttdef"><b>定义</b> queue.h:16</div></div>
<div class="ttc" id="anamespaceluisa_html_aac116168b3a7f5580f82d7da42bd1c42"><div class="ttname"><a href="namespaceluisa.html#aac116168b3a7f5580f82d7da42bd1c42">luisa::stack</a></div><div class="ttdeci">eastl::stack&lt; T, Container &gt; stack</div><div class="ttdef"><b>定义</b> stack.h:18</div></div>
<div class="ttc" id="atime__split__node_8cpp_html_ac7d42ca9867b385e4bd85e57929bd9be"><div class="ttname"><a href="time__split__node_8cpp.html#ac7d42ca9867b385e4bd85e57929bd9be">my_type</a></div><div class="ttdeci">int my_type</div><div class="ttdef"><b>定义</b> time_split_node.cpp:26</div></div>
</div><!-- fragment --><p> Violation of these rules may lead to a crash.</p>
<dl class="section user"><dt>Intrusive containers and Hazard Pointer-like garbage collectors</dt><dd></dd></dl>
<p>If you develop your intrusive container based on <b>libcds</b> library framework, you should take in the account the following. The main idea of garbage collectors (GC) based on Hazard Pointer schema is protecting a shared pointer by publishing it as a "hazard" i.e. as a pointer that is changing at the current time and cannot be deleted at this moment. In intrusive container paradigm, the pointer to a node of the container and the pointer to a item stored in the container are not equal in the general case. However, any pointer to node should be castable to appropriate pointer to container's item. In general, any item can be placed to two or more intrusive containers simultaneously, and each of those container holds an unique pointer to its node that refers to the same item. When we protect a pointer, we want to protect an <b>item</b> pointer that is the invariant for any container stored that item. In your intrusive container, instead of protecting by GC's guard a pointer to node you should cast it to the pointer to item and then protect that item pointer. Otherwise an unpredictable result may occur. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecds.html">cds</a></li><li class="navelem"><a class="el" href="namespacecds_1_1intrusive.html">intrusive</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
