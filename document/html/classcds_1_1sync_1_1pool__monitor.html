<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>source: cds::sync::pool_monitor&lt; LockPool, BackOff, Stat &gt; 模板类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">source
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classcds_1_1sync_1_1pool__monitor.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#pub-types">Public 类型</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pub-static-attribs">静态 Public 属性</a> &#124;
<a href="classcds_1_1sync_1_1pool__monitor-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">cds::sync::pool_monitor&lt; LockPool, BackOff, Stat &gt; 模板类 参考</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="cds_sync_monitor.html">Monitor</a> that allocates node's lock when needed  
 <a href="#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="pool__monitor_8h_source.html">pool_monitor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1sync_1_1pool__monitor_1_1node__injection.html">node_injection</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_node.html">Node</a> injection  <a href="structcds_1_1sync_1_1pool__monitor_1_1node__injection.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public 类型</h2></td></tr>
<tr class="memitem:a3acc874643e2a5d5e2d62f3182d2bdef" id="r_a3acc874643e2a5d5e2d62f3182d2bdef"><td class="memItemLeft" align="right" valign="top">typedef LockPool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3acc874643e2a5d5e2d62f3182d2bdef">pool_type</a></td></tr>
<tr class="memdesc:a3acc874643e2a5d5e2d62f3182d2bdef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pool type  <br /></td></tr>
<tr class="separator:a3acc874643e2a5d5e2d62f3182d2bdef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab517389de9b49eebcb82f21bb3e3d401" id="r_ab517389de9b49eebcb82f21bb3e3d401"><td class="memItemLeft" align="right" valign="top">typedef pool_type::value_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab517389de9b49eebcb82f21bb3e3d401">lock_type</a></td></tr>
<tr class="memdesc:ab517389de9b49eebcb82f21bb3e3d401"><td class="mdescLeft">&#160;</td><td class="mdescRight">node lock type  <br /></td></tr>
<tr class="separator:ab517389de9b49eebcb82f21bb3e3d401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe84d1316a57bee3d9e6a54505b2beaf" id="r_abe84d1316a57bee3d9e6a54505b2beaf"><td class="memItemLeft" align="right" valign="top">typedef std::conditional&lt; std::is_same&lt; BackOff, <a class="el" href="structcds_1_1opt_1_1none.html">cds::opt::none</a> &gt;<a class="el" href="imgui__impl__opengl3__loader_8h.html#abe8e049f756b5ba547bda825af81b645">::value</a>, <a class="el" href="structcds_1_1backoff_1_1yield.html">cds::backoff::yield</a>, BackOff &gt;<a class="el" href="imgui__impl__opengl3__loader_8h.html#ae8396ff85d63082521e3324820df1009">::type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe84d1316a57bee3d9e6a54505b2beaf">back_off</a></td></tr>
<tr class="memdesc:abe84d1316a57bee3d9e6a54505b2beaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">back-off strategy for spinning  <br /></td></tr>
<tr class="separator:abe84d1316a57bee3d9e6a54505b2beaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af58a28f1e53b4f8144ab6cc43d4fdae1" id="r_af58a28f1e53b4f8144ab6cc43d4fdae1"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="eabase_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af58a28f1e53b4f8144ab6cc43d4fdae1">refspin_type</a></td></tr>
<tr class="memdesc:af58a28f1e53b4f8144ab6cc43d4fdae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference counter + spin-lock bit  <br /></td></tr>
<tr class="separator:af58a28f1e53b4f8144ab6cc43d4fdae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc003f1441ab7816b2321648462a4d3" id="r_aebc003f1441ab7816b2321648462a4d3"><td class="memItemLeft" align="right" valign="top">typedef std::conditional&lt; Stat, typenamepool_monitor_traits::stat&lt;&gt;, typenamepool_monitor_traits::empty_stat &gt;<a class="el" href="imgui__impl__opengl3__loader_8h.html#ae8396ff85d63082521e3324820df1009">::type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aebc003f1441ab7816b2321648462a4d3">internal_stat</a></td></tr>
<tr class="memdesc:aebc003f1441ab7816b2321648462a4d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal statistics  <br /></td></tr>
<tr class="separator:aebc003f1441ab7816b2321648462a4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23cd9dceaa50ef0f31bb48a7cd76029e" id="r_a23cd9dceaa50ef0f31bb48a7cd76029e"><td class="memTemplParams" colspan="2">template&lt;typename <a class="el" href="class_node.html">Node</a>&gt; </td></tr>
<tr class="memitem:a23cd9dceaa50ef0f31bb48a7cd76029e"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a23cd9dceaa50ef0f31bb48a7cd76029e">scoped_lock</a> = <a class="el" href="structcds_1_1sync_1_1monitor__scoped__lock.html">monitor_scoped_lock</a>&lt; <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">pool_monitor</a>, <a class="el" href="class_node.html">Node</a> &gt;</td></tr>
<tr class="memdesc:a23cd9dceaa50ef0f31bb48a7cd76029e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scoped lock  <br /></td></tr>
<tr class="separator:a23cd9dceaa50ef0f31bb48a7cd76029e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a21015b3884f9824bac0f508d2619248e" id="r_a21015b3884f9824bac0f508d2619248e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21015b3884f9824bac0f508d2619248e">pool_monitor</a> ()</td></tr>
<tr class="memdesc:a21015b3884f9824bac0f508d2619248e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the pool of 256 preallocated mutexes  <br /></td></tr>
<tr class="separator:a21015b3884f9824bac0f508d2619248e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47e487730cb48823de115993bacd83f2" id="r_a47e487730cb48823de115993bacd83f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47e487730cb48823de115993bacd83f2">pool_monitor</a> (size_t nPoolCapacity)</td></tr>
<tr class="memdesc:a47e487730cb48823de115993bacd83f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the pool of <code class="param">nPoolCapacity</code> preallocated mutexes  <br /></td></tr>
<tr class="separator:a47e487730cb48823de115993bacd83f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2157308a86e9407d9b637021dfb944a8" id="r_a2157308a86e9407d9b637021dfb944a8"><td class="memTemplParams" colspan="2">template&lt;typename <a class="el" href="class_node.html">Node</a>&gt; </td></tr>
<tr class="memitem:a2157308a86e9407d9b637021dfb944a8"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2157308a86e9407d9b637021dfb944a8">lock</a> (<a class="el" href="class_node.html">Node</a> const &amp;<a class="el" href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a>) const</td></tr>
<tr class="memdesc:a2157308a86e9407d9b637021dfb944a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes exclusive access to node <code class="param">p</code>  <br /></td></tr>
<tr class="separator:a2157308a86e9407d9b637021dfb944a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde58b4154ee69ce59d1a356da92e1f4" id="r_adde58b4154ee69ce59d1a356da92e1f4"><td class="memTemplParams" colspan="2">template&lt;typename <a class="el" href="class_node.html">Node</a>&gt; </td></tr>
<tr class="memitem:adde58b4154ee69ce59d1a356da92e1f4"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#adde58b4154ee69ce59d1a356da92e1f4">unlock</a> (<a class="el" href="class_node.html">Node</a> const &amp;<a class="el" href="main-override_8cpp.html#a117104b82864d3b23ec174af6d392709">p</a>) const</td></tr>
<tr class="memdesc:adde58b4154ee69ce59d1a356da92e1f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks the node <code class="param">p</code>  <br /></td></tr>
<tr class="separator:adde58b4154ee69ce59d1a356da92e1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa250a332149906b9d336c121e082ce" id="r_a0aa250a332149906b9d336c121e082ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#aebc003f1441ab7816b2321648462a4d3">internal_stat</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0aa250a332149906b9d336c121e082ce">statistics</a> () const</td></tr>
<tr class="memdesc:a0aa250a332149906b9d336c121e082ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the reference to internal statistics  <br /></td></tr>
<tr class="separator:a0aa250a332149906b9d336c121e082ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
静态 Public 属性</h2></td></tr>
<tr class="memitem:ad592a406bde9ba932a62e1964db2052c" id="r_ad592a406bde9ba932a62e1964db2052c"><td class="memItemLeft" align="right" valign="top">static constexpr size_t const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad592a406bde9ba932a62e1964db2052c">c_nDefaultCapacity</a> = 256</td></tr>
<tr class="memdesc:ad592a406bde9ba932a62e1964db2052c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pool's default capacity  <br /></td></tr>
<tr class="separator:ad592a406bde9ba932a62e1964db2052c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt;<br />
class cds::sync::pool_monitor&lt; LockPool, BackOff, Stat &gt;</div><p><a class="el" href="cds_sync_monitor.html">Monitor</a> that allocates node's lock when needed </p>
<p>The monitor is intended for reducing the number of system mutexes for huge containers like a tree. The monitor allocates the mutex from the pool <code class="param">LockPool</code> only when container's node should be locked. Lifetime of node's mutex is managed by reference counter. When the reference counter to node's mutex becomes zero, the mutex is given back to the pool.</p>
<p>The monitor is blocked: the access to node's mutex is performed under the spin-lock. However, node locking/unlocking is performed beyond the spin-lock.</p>
<p>Template arguments:</p><ul>
<li><code class="param">LockPool</code> - the <a class="el" href="group__cds__memory__pool.html">pool type</a>. The pool must maintain the objects of type <code class="param">std::mutex</code> or similar. The access to the pool is not synchronized.</li>
<li><code class="param">BackOff</code> - back-off strategy for spinning, default is <code class="param"><a class="el" href="namespacecds_1_1backoff.html#a0f64f7bc371e3ad006fba5bd855d6e96" title="Default backoff strategy">cds::backoff::Default</a></code> </li>
<li><code class="param">Stat</code> - enable (<code class="param">true</code>) or disable (<code class="param">false</code>, the default) monitor's internal statistics.</li>
</ul>
<p><b>How to use</b> </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code hl_class" href="classcds_1_1memory_1_1vyukov__queue__pool.html">cds::memory::vyukov_queue_pool&lt; std::mutex &gt;</a> <a class="code hl_typedef" href="#a3acc874643e2a5d5e2d62f3182d2bdef">pool_type</a>;</div>
<div class="line"><span class="keyword">typedef</span> <a class="code hl_class" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor&lt; pool_type &gt;</a> sync_monitor;</div>
<div class="ttc" id="aclasscds_1_1memory_1_1vyukov__queue__pool_html"><div class="ttname"><a href="classcds_1_1memory_1_1vyukov__queue__pool.html">cds::memory::vyukov_queue_pool&lt; std::mutex &gt;</a></div></div>
<div class="ttc" id="aclasscds_1_1sync_1_1pool__monitor_html"><div class="ttname"><a href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a></div><div class="ttdoc">Monitor that allocates node&#39;s lock when needed</div><div class="ttdef"><b>定义</b> pool_monitor.h:96</div></div>
<div class="ttc" id="aclasscds_1_1sync_1_1pool__monitor_html_a3acc874643e2a5d5e2d62f3182d2bdef"><div class="ttname"><a href="#a3acc874643e2a5d5e2d62f3182d2bdef">cds::sync::pool_monitor::pool_type</a></div><div class="ttdeci">LockPool pool_type</div><div class="ttdoc">Pool type</div><div class="ttdef"><b>定义</b> pool_monitor.h:98</div></div>
</div><!-- fragment --> </div><h2 class="groupheader">成员类型定义说明</h2>
<a id="abe84d1316a57bee3d9e6a54505b2beaf" name="abe84d1316a57bee3d9e6a54505b2beaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe84d1316a57bee3d9e6a54505b2beaf">&#9670;&#160;</a></span>back_off</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef std::conditional&lt;std::is_same&lt;BackOff,<a class="el" href="structcds_1_1opt_1_1none.html">cds::opt::none</a>&gt;<a class="el" href="imgui__impl__opengl3__loader_8h.html#abe8e049f756b5ba547bda825af81b645">::value</a>,<a class="el" href="structcds_1_1backoff_1_1yield.html">cds::backoff::yield</a>,BackOff&gt;<a class="el" href="imgui__impl__opengl3__loader_8h.html#ae8396ff85d63082521e3324820df1009">::type</a> <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::back_off</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>back-off strategy for spinning </p>

</div>
</div>
<a id="aebc003f1441ab7816b2321648462a4d3" name="aebc003f1441ab7816b2321648462a4d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc003f1441ab7816b2321648462a4d3">&#9670;&#160;</a></span>internal_stat</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef std::conditional&lt;Stat,typenamepool_monitor_traits::stat&lt;&gt;,typenamepool_monitor_traits::empty_stat&gt;<a class="el" href="imgui__impl__opengl3__loader_8h.html#ae8396ff85d63082521e3324820df1009">::type</a> <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::internal_stat</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal statistics </p>

</div>
</div>
<a id="ab517389de9b49eebcb82f21bb3e3d401" name="ab517389de9b49eebcb82f21bb3e3d401"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab517389de9b49eebcb82f21bb3e3d401">&#9670;&#160;</a></span>lock_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef pool_type::value_type <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::lock_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>node lock type </p>

</div>
</div>
<a id="a3acc874643e2a5d5e2d62f3182d2bdef" name="a3acc874643e2a5d5e2d62f3182d2bdef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3acc874643e2a5d5e2d62f3182d2bdef">&#9670;&#160;</a></span>pool_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef LockPool <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::pool_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pool type </p>

</div>
</div>
<a id="af58a28f1e53b4f8144ab6cc43d4fdae1" name="af58a28f1e53b4f8144ab6cc43d4fdae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af58a28f1e53b4f8144ab6cc43d4fdae1">&#9670;&#160;</a></span>refspin_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="eabase_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::refspin_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reference counter + spin-lock bit </p>

</div>
</div>
<a id="a23cd9dceaa50ef0f31bb48a7cd76029e" name="a23cd9dceaa50ef0f31bb48a7cd76029e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23cd9dceaa50ef0f31bb48a7cd76029e">&#9670;&#160;</a></span>scoped_lock</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
<div class="memtemplate">
template&lt;typename <a class="el" href="class_node.html">Node</a>&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::scoped_lock = <a class="el" href="structcds_1_1sync_1_1monitor__scoped__lock.html">monitor_scoped_lock</a>&lt; <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">pool_monitor</a>, <a class="el" href="class_node.html">Node</a> &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scoped lock </p>

</div>
</div>
<h2 class="groupheader">构造及析构函数说明</h2>
<a id="a21015b3884f9824bac0f508d2619248e" name="a21015b3884f9824bac0f508d2619248e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21015b3884f9824bac0f508d2619248e">&#9670;&#160;</a></span>pool_monitor() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::pool_monitor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the pool of 256 preallocated mutexes </p>

</div>
</div>
<a id="a47e487730cb48823de115993bacd83f2" name="a47e487730cb48823de115993bacd83f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47e487730cb48823de115993bacd83f2">&#9670;&#160;</a></span>pool_monitor() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::pool_monitor </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>nPoolCapacity</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the pool of <code class="param">nPoolCapacity</code> preallocated mutexes </p>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="a2157308a86e9407d9b637021dfb944a8" name="a2157308a86e9407d9b637021dfb944a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2157308a86e9407d9b637021dfb944a8">&#9670;&#160;</a></span>lock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
<div class="memtemplate">
template&lt;typename <a class="el" href="class_node.html">Node</a>&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a> <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_node.html">Node</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>p</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Makes exclusive access to node <code class="param">p</code> </p>

</div>
</div>
<a id="a0aa250a332149906b9d336c121e082ce" name="a0aa250a332149906b9d336c121e082ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aa250a332149906b9d336c121e082ce">&#9670;&#160;</a></span>statistics()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#aebc003f1441ab7816b2321648462a4d3">internal_stat</a> const  &amp; <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::statistics </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the reference to internal statistics </p>
<p>If class' template argument <code class="param">Stat</code> is <code class="param">false</code>, the function returns <a class="el" href="structcds_1_1sync_1_1pool__monitor__traits_1_1empty__stat.html">dummy statistics</a>. Otherwise, it returns the reference to monitor's internal statistics of type <a class="el" href="structcds_1_1sync_1_1pool__monitor__traits_1_1stat.html">pool_monitor_traits::stat</a>. </p>

</div>
</div>
<a id="adde58b4154ee69ce59d1a356da92e1f4" name="adde58b4154ee69ce59d1a356da92e1f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde58b4154ee69ce59d1a356da92e1f4">&#9670;&#160;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
<div class="memtemplate">
template&lt;typename <a class="el" href="class_node.html">Node</a>&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a> <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_node.html">Node</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>p</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlocks the node <code class="param">p</code> </p>

</div>
</div>
<h2 class="groupheader">类成员变量说明</h2>
<a id="ad592a406bde9ba932a62e1964db2052c" name="ad592a406bde9ba932a62e1964db2052c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad592a406bde9ba932a62e1964db2052c">&#9670;&#160;</a></span>c_nDefaultCapacity</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class LockPool, typename BackOff = cds::backoff::Default, <a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> Stat = false&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t const <a class="el" href="classcds_1_1sync_1_1pool__monitor.html">cds::sync::pool_monitor</a>&lt; LockPool, BackOff, Stat &gt;::c_nDefaultCapacity = 256</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pool's default capacity </p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>external/libcds/cds/sync/<a class="el" href="pool__monitor_8h_source.html">pool_monitor.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecds.html">cds</a></li><li class="navelem"><a class="el" href="namespacecds_1_1sync.html">sync</a></li><li class="navelem"><a class="el" href="classcds_1_1sync_1_1pool__monitor.html">pool_monitor</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
