<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>source: cds::sync::reentrant_spin_lock&lt; Integral, Backoff &gt; 模板类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">source
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classcds_1_1sync_1_1reentrant__spin__lock.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public 类型</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pri-types">Private 类型</a> &#124;
<a href="classcds_1_1sync_1_1reentrant__spin__lock-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">cds::sync::reentrant_spin_lock&lt; Integral, Backoff &gt; 模板类 参考</div></div>
</div><!--header-->
<div class="contents">

<p>Recursive spin lock.  
 <a href="#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="sync_2spinlock_8h_source.html">spinlock.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public 类型</h2></td></tr>
<tr class="memitem:abb6bfd61462a701b4bc48733d027e628" id="r_abb6bfd61462a701b4bc48733d027e628"><td class="memItemLeft" align="right" valign="top">typedef Integral&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb6bfd61462a701b4bc48733d027e628">integral_type</a></td></tr>
<tr class="memdesc:abb6bfd61462a701b4bc48733d027e628"><td class="mdescLeft">&#160;</td><td class="mdescRight">The integral type  <br /></td></tr>
<tr class="separator:abb6bfd61462a701b4bc48733d027e628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79ad2e76b0f3c24abba506d92fa9cdc" id="r_ae79ad2e76b0f3c24abba506d92fa9cdc"><td class="memItemLeft" align="right" valign="top">typedef Backoff&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae79ad2e76b0f3c24abba506d92fa9cdc">backoff_strategy</a></td></tr>
<tr class="memdesc:ae79ad2e76b0f3c24abba506d92fa9cdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The backoff type  <br /></td></tr>
<tr class="separator:ae79ad2e76b0f3c24abba506d92fa9cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a32b5432fd400276c54e5b47232cbf787" id="r_a32b5432fd400276c54e5b47232cbf787"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32b5432fd400276c54e5b47232cbf787">reentrant_spin_lock</a> () noexcept</td></tr>
<tr class="memdesc:a32b5432fd400276c54e5b47232cbf787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor initializes spin to free (unlocked) state  <br /></td></tr>
<tr class="separator:a32b5432fd400276c54e5b47232cbf787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415031f598d1fb85428ab5ec73798509" id="r_a415031f598d1fb85428ab5ec73798509"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a415031f598d1fb85428ab5ec73798509">reentrant_spin_lock</a> (const <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">reentrant_spin_lock</a>&lt; Integral, Backoff &gt; &amp;) noexcept</td></tr>
<tr class="memdesc:a415031f598d1fb85428ab5ec73798509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dummy copy constructor  <br /></td></tr>
<tr class="separator:a415031f598d1fb85428ab5ec73798509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e46e5cc3048986b00a479ad9bb91368" id="r_a7e46e5cc3048986b00a479ad9bb91368"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e46e5cc3048986b00a479ad9bb91368">reentrant_spin_lock</a> (<a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> bLocked)</td></tr>
<tr class="memdesc:a7e46e5cc3048986b00a479ad9bb91368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct object in specified state  <br /></td></tr>
<tr class="separator:a7e46e5cc3048986b00a479ad9bb91368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b4df566e19a92dff00c0bcb26c3f68" id="r_a07b4df566e19a92dff00c0bcb26c3f68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07b4df566e19a92dff00c0bcb26c3f68">~reentrant_spin_lock</a> ()</td></tr>
<tr class="memdesc:a07b4df566e19a92dff00c0bcb26c3f68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dtor. Spin-lock must be unlocked  <br /></td></tr>
<tr class="separator:a07b4df566e19a92dff00c0bcb26c3f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3170b379f3a0207c2b5ac5624dd220a9" id="r_a3170b379f3a0207c2b5ac5624dd220a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3170b379f3a0207c2b5ac5624dd220a9">is_locked</a> () const noexcept</td></tr>
<tr class="memdesc:a3170b379f3a0207c2b5ac5624dd220a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the spin is locked  <br /></td></tr>
<tr class="separator:a3170b379f3a0207c2b5ac5624dd220a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8baef04e94afa95455e633227017df95" id="r_a8baef04e94afa95455e633227017df95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8baef04e94afa95455e633227017df95">try_lock</a> () noexcept(noexcept(std::declval&lt; <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">reentrant_spin_lock</a> &gt;().try_acquire()))</td></tr>
<tr class="memdesc:a8baef04e94afa95455e633227017df95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to lock the spin-lock  <br /></td></tr>
<tr class="separator:a8baef04e94afa95455e633227017df95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da523929eba26406730fc604176651b" id="r_a7da523929eba26406730fc604176651b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7da523929eba26406730fc604176651b">try_lock</a> (unsigned <a class="el" href="sugar_8h.html#ae4f82344f573c70aa1066a2394bba345">int</a> nTryCount) noexcept(noexcept(std::declval&lt; <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">reentrant_spin_lock</a> &gt;().try_acquire(nTryCount)))</td></tr>
<tr class="memdesc:a7da523929eba26406730fc604176651b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to lock up to <code class="param">nTryCount</code> attempts  <br /></td></tr>
<tr class="separator:a7da523929eba26406730fc604176651b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf53f3c6149e5b745246f5a3310b1b6" id="r_a0cf53f3c6149e5b745246f5a3310b1b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0cf53f3c6149e5b745246f5a3310b1b6">lock</a> () noexcept(noexcept(std::declval&lt; <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">reentrant_spin_lock</a> &gt;().acquire()))</td></tr>
<tr class="memdesc:a0cf53f3c6149e5b745246f5a3310b1b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the object waits if it is busy  <br /></td></tr>
<tr class="separator:a0cf53f3c6149e5b745246f5a3310b1b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab08da0541a623dc1e7d4b7ce06b0d4cf" id="r_ab08da0541a623dc1e7d4b7ce06b0d4cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab08da0541a623dc1e7d4b7ce06b0d4cf">unlock</a> () noexcept</td></tr>
<tr class="memdesc:ab08da0541a623dc1e7d4b7ce06b0d4cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the spin-lock  <br /></td></tr>
<tr class="separator:ab08da0541a623dc1e7d4b7ce06b0d4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a851537906c037fe983e6a85be52e4295" id="r_a851537906c037fe983e6a85be52e4295"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a851537906c037fe983e6a85be52e4295">change_owner</a> (<a class="el" href="namespacecds_1_1_o_s_1_1posix.html#aa5d1cef6c4dd410d6d21c851201bfc40">OS::ThreadId</a> newOwnerId) noexcept</td></tr>
<tr class="memdesc:a851537906c037fe983e6a85be52e4295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the owner of locked spin-lock. May be called by thread that owns spin-lock  <br /></td></tr>
<tr class="separator:a851537906c037fe983e6a85be52e4295"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private 类型</h2></td></tr>
<tr class="memitem:ab4355f98c06a161db177d0eb416956bf" id="r_ab4355f98c06a161db177d0eb416956bf"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespacecds_1_1_o_s_1_1posix.html#aa5d1cef6c4dd410d6d21c851201bfc40">OS::ThreadId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4355f98c06a161db177d0eb416956bf">thread_id</a></td></tr>
<tr class="memdesc:ab4355f98c06a161db177d0eb416956bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of thread id  <br /></td></tr>
<tr class="separator:ab4355f98c06a161db177d0eb416956bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Integral, class Backoff&gt;<br />
class cds::sync::reentrant_spin_lock&lt; Integral, Backoff &gt;</div><p>Recursive spin lock. </p>
<p>Allows recursive calls: the owner thread may recursive enter to critical section guarded by the spin-lock.</p>
<p>Template parameters:</p><ul>
<li><code class="param">Integral</code> one of integral atomic type: <code>unsigned int</code>, <code class="param">int</code>, and others</li>
<li><code class="param">Backoff</code> backoff strategy. Used when spin lock is locked </li>
</ul>
</div><h2 class="groupheader">成员类型定义说明</h2>
<a id="ae79ad2e76b0f3c24abba506d92fa9cdc" name="ae79ad2e76b0f3c24abba506d92fa9cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae79ad2e76b0f3c24abba506d92fa9cdc">&#9670;&#160;</a></span>backoff_strategy</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Backoff <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::backoff_strategy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The backoff type </p>

</div>
</div>
<a id="abb6bfd61462a701b4bc48733d027e628" name="abb6bfd61462a701b4bc48733d027e628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb6bfd61462a701b4bc48733d027e628">&#9670;&#160;</a></span>integral_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Integral <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::integral_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The integral type </p>

</div>
</div>
<a id="ab4355f98c06a161db177d0eb416956bf" name="ab4355f98c06a161db177d0eb416956bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4355f98c06a161db177d0eb416956bf">&#9670;&#160;</a></span>thread_id</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="namespacecds_1_1_o_s_1_1posix.html#aa5d1cef6c4dd410d6d21c851201bfc40">OS::ThreadId</a> <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::thread_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The type of thread id </p>

</div>
</div>
<h2 class="groupheader">构造及析构函数说明</h2>
<a id="a32b5432fd400276c54e5b47232cbf787" name="a32b5432fd400276c54e5b47232cbf787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b5432fd400276c54e5b47232cbf787">&#9670;&#160;</a></span>reentrant_spin_lock() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::reentrant_spin_lock </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor initializes spin to free (unlocked) state </p>

</div>
</div>
<a id="a415031f598d1fb85428ab5ec73798509" name="a415031f598d1fb85428ab5ec73798509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a415031f598d1fb85428ab5ec73798509">&#9670;&#160;</a></span>reentrant_spin_lock() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::reentrant_spin_lock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">reentrant_spin_lock</a>&lt; Integral, Backoff &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dummy copy constructor </p>
<p>In theory, spin-lock cannot be copied. However, it is not practical. Therefore, we provide dummy copy constructor that do no copy in fact. The ctor initializes the spin to free (unlocked) state like default ctor. </p>

</div>
</div>
<a id="a7e46e5cc3048986b00a479ad9bb91368" name="a7e46e5cc3048986b00a479ad9bb91368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e46e5cc3048986b00a479ad9bb91368">&#9670;&#160;</a></span>reentrant_spin_lock() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::reentrant_spin_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>bLocked</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct object in specified state </p>

</div>
</div>
<a id="a07b4df566e19a92dff00c0bcb26c3f68" name="a07b4df566e19a92dff00c0bcb26c3f68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b4df566e19a92dff00c0bcb26c3f68">&#9670;&#160;</a></span>~reentrant_spin_lock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::~<a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">reentrant_spin_lock</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dtor. Spin-lock must be unlocked </p>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="a851537906c037fe983e6a85be52e4295" name="a851537906c037fe983e6a85be52e4295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a851537906c037fe983e6a85be52e4295">&#9670;&#160;</a></span>change_owner()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a> <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::change_owner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecds_1_1_o_s_1_1posix.html#aa5d1cef6c4dd410d6d21c851201bfc40">OS::ThreadId</a></td>          <td class="paramname"><span class="paramname"><em>newOwnerId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change the owner of locked spin-lock. May be called by thread that owns spin-lock </p>

</div>
</div>
<a id="a3170b379f3a0207c2b5ac5624dd220a9" name="a3170b379f3a0207c2b5ac5624dd220a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3170b379f3a0207c2b5ac5624dd220a9">&#9670;&#160;</a></span>is_locked()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::is_locked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the spin is locked </p>
<p>The spin is locked if lock count &gt; 0 and the current thread is not an owner of the lock. Otherwise (i.e. lock count == 0 or the curren thread owns the spin) the spin is unlocked. </p>

</div>
</div>
<a id="a0cf53f3c6149e5b745246f5a3310b1b6" name="a0cf53f3c6149e5b745246f5a3310b1b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cf53f3c6149e5b745246f5a3310b1b6">&#9670;&#160;</a></span>lock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a> <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::lock </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock the object waits if it is busy </p>

</div>
</div>
<a id="a8baef04e94afa95455e633227017df95" name="a8baef04e94afa95455e633227017df95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8baef04e94afa95455e633227017df95">&#9670;&#160;</a></span>try_lock() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::try_lock </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to lock the spin-lock </p>

</div>
</div>
<a id="a7da523929eba26406730fc604176651b" name="a7da523929eba26406730fc604176651b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da523929eba26406730fc604176651b">&#9670;&#160;</a></span>try_lock() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sugar_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::try_lock </td>
          <td>(</td>
          <td class="paramtype">unsigned <a class="el" href="sugar_8h.html#ae4f82344f573c70aa1066a2394bba345">int</a></td>          <td class="paramname"><span class="paramname"><em>nTryCount</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to lock up to <code class="param">nTryCount</code> attempts </p>

</div>
</div>
<a id="ab08da0541a623dc1e7d4b7ce06b0d4cf" name="ab08da0541a623dc1e7d4b7ce06b0d4cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab08da0541a623dc1e7d4b7ce06b0d4cf">&#9670;&#160;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Integral, class Backoff&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a> <a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">cds::sync::reentrant_spin_lock</a>&lt; Integral, Backoff &gt;::unlock </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlock the spin-lock </p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>external/libcds/cds/sync/<a class="el" href="sync_2spinlock_8h_source.html">spinlock.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecds.html">cds</a></li><li class="navelem"><a class="el" href="namespacecds_1_1sync.html">sync</a></li><li class="navelem"><a class="el" href="classcds_1_1sync_1_1reentrant__spin__lock.html">reentrant_spin_lock</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
