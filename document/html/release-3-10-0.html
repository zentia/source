<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>source: Release 3.10.0 (Master)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">source
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('release-3-10-0.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Release 3.10.0 (Master)</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>目录</h3>
<ul>
  <li class="level1">
    <a href="#release-3-10-0_download">Download</a>
  </li>
  <li class="level1">
    <a href="#release-3-10-0_system_requirements">System Requirements</a>
  </li>
  <li class="level1">
    <a href="#release-3-10-0_summary">Release Summary</a>
  </li>
  <li class="level1">
    <a href="#release-3-10-0_new_features">New Features</a>
    <ul>
      <li class="level2">
        <a href="#release-3-10-0_taskflow_core">Taskflow Core</a>
      </li>
      <li class="level2">
        <a href="#release-3-10-0_utilities">Utilities</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#release-3-10-0_bug_fixes">Bug Fixes</a>
  </li>
  <li class="level1">
    <a href="#release-3-10-0_breaking_changes">Breaking Changes</a>
  </li>
  <li class="level1">
    <a href="#release-3-10-0_documentation">Documentation</a>
  </li>
  <li class="level1">
    <a href="#release-3-10-0_miscellaneous_items">Miscellaneous Items</a>
  </li>
</ul>
</div>
<div class="textblock"><p>Taskflow 3.10.0 is the newest developing line to new features and improvements we continue to support. It is also where this documentation is generated. Many things are considered <em>experimental</em> and may change or break from time to time. While it may be difficult to be keep all things consistent when introducing new features, we continue to try our best to ensure backward compatibility.</p>
<h1><a class="anchor" id="release-3-10-0_download"></a>
Download</h1>
<p>To download the newest version of Taskflow, please clone the master branch from <a href="https://github.com/taskflow/taskflow">Taskflow's GitHub</a>.</p>
<h1><a class="anchor" id="release-3-10-0_system_requirements"></a>
System Requirements</h1>
<p>To use Taskflow v3.10.0, you need a compiler that supports C++17:</p>
<ul>
<li>GNU C++ Compiler at least v8.4 with -std=c++17 </li>
<li>Clang C++ Compiler at least v6.0 with -std=c++17 </li>
<li>Microsoft Visual Studio at least v19.27 with /std:c++17 </li>
<li>AppleClang Xcode Version at least v12.0 with -std=c++17 </li>
<li>Nvidia CUDA Toolkit and Compiler (nvcc) at least v11.1 with -std=c++17 </li>
<li>Intel C++ Compiler at least v19.0.1 with -std=c++17 </li>
<li>Intel DPC++ Clang Compiler at least v13.0.0 with -std=c++17</li>
</ul>
<p>Taskflow works on Linux, Windows, and Mac OS X.</p>
<dl class="section attention"><dt>注意</dt><dd>Although Taskflow supports primarily C++17, you can enable C++20 compilation through <code>-std=c++20</code> to achieve better performance due to new C++20 features.</dd></dl>
<h1><a class="anchor" id="release-3-10-0_summary"></a>
Release Summary</h1>
<p>This release improves the scheduling performance via a better work-stealing threshold tuning and a constrained decentralized buffer.</p>
<h1><a class="anchor" id="release-3-10-0_new_features"></a>
New Features</h1>
<h2><a class="anchor" id="release-3-10-0_taskflow_core"></a>
Taskflow Core</h2>
<ul>
<li>improved work-stealing loop with an adaptive breaking strategy</li>
<li>improved shut-down signal detection using decentralized variables</li>
<li>added debug mode for the windows CI to GitHub actions</li>
<li>added index range-based parallel-for algorithm (<a href="https://github.com/taskflow/taskflow/issues/551">#551</a>)</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// initialize data1 and data2 to 10 using two different approaches</span></div>
<div class="line">std::vector&lt;int&gt; data1(100), data2(100);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Approach 1: initialize data1 using explicit index range</span></div>
<div class="line"><a class="code hl_function" href="poisson_8hpp.html#aa56fe360bb0ae38e0082f49e394ff825">taskflow</a>.for_each_index(0, 100, 1, [&amp;](<span class="keywordtype">int</span> <a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>){ data1[<a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 10; });</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Approach 2: initialize data2 using tf::IndexRange</span></div>
<div class="line"><a class="code hl_class" href="classtf_1_1_index_range.html">tf::IndexRange&lt;int&gt;</a> range(0, 100, 1);</div>
<div class="line"><a class="code hl_function" href="poisson_8hpp.html#aa56fe360bb0ae38e0082f49e394ff825">taskflow</a>.for_each_by_index(range, [&amp;](<a class="code hl_class" href="classtf_1_1_index_range.html">tf::IndexRange&lt;int&gt;</a>&amp; subrange){</div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=subrange.<a class="code hl_function" href="classtf_1_1_index_range.html#a2b52381358ab392efa257e185a33d4af">begin</a>(); <a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;subrange.<a class="code hl_function" href="classtf_1_1_index_range.html#a280096cb4056bc19b86da77d019434e4">end</a>(); <a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>+=subrange.<a class="code hl_function" href="classtf_1_1_index_range.html#aafd4f2d04614e550649cd9b7912e0bf1">step_size</a>()) {</div>
<div class="line">    data2[<a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 10;</div>
<div class="line">  }</div>
<div class="line">});</div>
<div class="ttc" id="a_bi_c_g_s_t_a_b__step__by__step_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>定义</b> BiCGSTAB_step_by_step.cpp:9</div></div>
<div class="ttc" id="aclasstf_1_1_index_range_html"><div class="ttname"><a href="classtf_1_1_index_range.html">tf::IndexRange</a></div><div class="ttdoc">class to create an index range of integral indices with a step size</div><div class="ttdef"><b>定义</b> iterator.hpp:98</div></div>
<div class="ttc" id="aclasstf_1_1_index_range_html_a280096cb4056bc19b86da77d019434e4"><div class="ttname"><a href="classtf_1_1_index_range.html#a280096cb4056bc19b86da77d019434e4">tf::IndexRange::end</a></div><div class="ttdeci">T end() const</div><div class="ttdoc">queries the ending index of the range</div><div class="ttdef"><b>定义</b> iterator.hpp:131</div></div>
<div class="ttc" id="aclasstf_1_1_index_range_html_a2b52381358ab392efa257e185a33d4af"><div class="ttname"><a href="classtf_1_1_index_range.html#a2b52381358ab392efa257e185a33d4af">tf::IndexRange::begin</a></div><div class="ttdeci">T begin() const</div><div class="ttdoc">queries the starting index of the range</div><div class="ttdef"><b>定义</b> iterator.hpp:126</div></div>
<div class="ttc" id="aclasstf_1_1_index_range_html_aafd4f2d04614e550649cd9b7912e0bf1"><div class="ttname"><a href="classtf_1_1_index_range.html#aafd4f2d04614e550649cd9b7912e0bf1">tf::IndexRange::step_size</a></div><div class="ttdeci">T step_size() const</div><div class="ttdoc">queries the step size of the range</div><div class="ttdef"><b>定义</b> iterator.hpp:136</div></div>
<div class="ttc" id="apoisson_8hpp_html_aa56fe360bb0ae38e0082f49e394ff825"><div class="ttname"><a href="poisson_8hpp.html#aa56fe360bb0ae38e0082f49e394ff825">taskflow</a></div><div class="ttdeci">void taskflow(int nx, int ny, double dx, double dy, double *f, int itold, int itnew, double *u, double *unew, int block_size, unsigned num_threads)</div><div class="ttdef"><b>定义</b> taskflow.cpp:6</div></div>
</div><!-- fragment --><ul>
<li>added index range-based parallel-reduction algorithm (<a href="https://github.com/taskflow/taskflow/issues/654">i#654</a>)</li>
</ul>
<div class="fragment"><div class="line">std::vector&lt;double&gt; <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#a02796e583e939f923a255e43d2c3b177">data</a>(100000);</div>
<div class="line"><span class="keywordtype">double</span> <a class="code hl_variable" href="_partial_redux__count_8cpp.html#acbe60897559b79afc28b79b0687b5f29">res</a> = 1.0;</div>
<div class="line"><a class="code hl_function" href="poisson_8hpp.html#aa56fe360bb0ae38e0082f49e394ff825">taskflow</a>.reduce_by_index(</div>
<div class="line">  <span class="comment">// index range</span></div>
<div class="line">  <a class="code hl_class" href="classtf_1_1_index_range.html">tf::IndexRange&lt;size_t&gt;</a>(0, <a class="code hl_define" href="main-override-static_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 1),</div>
<div class="line">  <span class="comment">// final result</span></div>
<div class="line">  <a class="code hl_variable" href="_partial_redux__count_8cpp.html#acbe60897559b79afc28b79b0687b5f29">res</a>,</div>
<div class="line">  <span class="comment">// local reducer</span></div>
<div class="line">  [&amp;](<a class="code hl_class" href="classtf_1_1_index_range.html">tf::IndexRange&lt;size_t&gt;</a> subrange, std::optional&lt;double&gt; running_total) { </div>
<div class="line">    <span class="keywordtype">double</span> residual = running_total ? *running_total : 0.0;</div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=subrange.<a class="code hl_function" href="classtf_1_1_index_range.html#a2b52381358ab392efa257e185a33d4af">begin</a>(); <a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;subrange.<a class="code hl_function" href="classtf_1_1_index_range.html#a280096cb4056bc19b86da77d019434e4">end</a>(); <a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>+=subrange.<a class="code hl_function" href="classtf_1_1_index_range.html#aafd4f2d04614e550649cd9b7912e0bf1">step_size</a>()) {</div>
<div class="line">      <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#a02796e583e939f923a255e43d2c3b177">data</a>[<a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 1.0;</div>
<div class="line">      residual += <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#a02796e583e939f923a255e43d2c3b177">data</a>[<a class="code hl_variable" href="_bi_c_g_s_t_a_b__step__by__step_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="printf_8h.html#aee3ed3a831f25f07e7be3919fff2203a">printf</a>(<span class="stringliteral">&quot;partial sum = %lf\n&quot;</span>, residual);</div>
<div class="line">    <span class="keywordflow">return</span> residual;</div>
<div class="line">  },</div>
<div class="line">  <span class="comment">// global reducer</span></div>
<div class="line">  std::plus&lt;double&gt;()</div>
<div class="line">);</div>
<div class="ttc" id="a_partial_redux__count_8cpp_html_acbe60897559b79afc28b79b0687b5f29"><div class="ttname"><a href="_partial_redux__count_8cpp.html#acbe60897559b79afc28b79b0687b5f29">res</a></div><div class="ttdeci">cout&lt;&lt; &quot;Here is the matrix m:&quot;&lt;&lt; endl&lt;&lt; m&lt;&lt; endl;Matrix&lt; ptrdiff_t, 3, 1 &gt; res</div><div class="ttdef"><b>定义</b> PartialRedux_count.cpp:3</div></div>
<div class="ttc" id="aimgui__impl__opengl3__loader_8h_html_a02796e583e939f923a255e43d2c3b177"><div class="ttname"><a href="imgui__impl__opengl3__loader_8h.html#a02796e583e939f923a255e43d2c3b177">data</a></div><div class="ttdeci">GLint * data</div><div class="ttdef"><b>定义</b> imgui_impl_opengl3_loader.h:199</div></div>
<div class="ttc" id="amain-override-static_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="main-override-static_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div><div class="ttdef"><b>定义</b> main-override-static.c:141</div></div>
<div class="ttc" id="aprintf_8h_html_aee3ed3a831f25f07e7be3919fff2203a"><div class="ttname"><a href="printf_8h.html#aee3ed3a831f25f07e7be3919fff2203a">printf</a></div><div class="ttdeci">auto printf(string_view fmt, const T &amp;... args) -&gt; int</div><div class="ttdef"><b>定义</b> printf.h:621</div></div>
</div><!-- fragment --><ul>
<li>added <code>static</code> keyword to the executor creation in taskflow benchmarks</li>
</ul>
<h2><a class="anchor" id="release-3-10-0_utilities"></a>
Utilities</h2>
<ul>
<li>added <a class="el" href="classtf_1_1_index_range.html" title="class to create an index range of integral indices with a step size">tf::IndexRange</a> for index range-based parallel-for algorithm</li>
<li>added <a class="el" href="namespacetf.html#af00f6babb0818202960cbbf0a83bd8e7" title="calculates the number of iterations in the given index range">tf::distance</a> to calculate the number of iterations in an index range</li>
<li>added <a class="el" href="namespacetf.html#aa4db761760106ce6f6d2e7c1ac4d8520" title="checks if the given index range is invalid">tf::is_index_range_invalid</a> to check if the given index range is valid</li>
</ul>
<h1><a class="anchor" id="release-3-10-0_bug_fixes"></a>
Bug Fixes</h1>
<ul>
<li>fixed the compilation error of CLI11 due to version incompatibility (<a href="https://github.com/taskflow/taskflow/issues/672">#672</a>)</li>
<li>fixed the compilation error of template deduction on packaged_task (<a href="https://github.com/taskflow/taskflow/issues/657">#657</a>)</li>
<li>fixed the MSVC compilation error due to macro clash with <a class="el" href="namespacestd.html#ac7b9885417769949d76890454b6d072e">std::min</a> and std::max (<a href="https://github.com/taskflow/taskflow/issues/670">#670</a>)</li>
<li>fixed the runtime error due to the use of latch in <a class="el" href="classtf_1_1_executor.html#a4910e89d89146b6d563d598b795eb4a9" title="constructs the executor with N worker threads">tf::Executor::Executor</a> (<a href="https://github.com/taskflow/taskflow/issues/667">#667</a>)</li>
<li>fixed the compilation error due to incorrect const qualifier used in algorithms (<a href="https://github.com/taskflow/taskflow/issues/673">#673</a>)</li>
</ul>
<h1><a class="anchor" id="release-3-10-0_breaking_changes"></a>
Breaking Changes</h1>
<ul>
<li>corrected the terminology by replacing 'dependents' with 'predecessors'<ul>
<li><a class="el" href="classtf_1_1_task.html#adefb65d68a64bd8a75364a8801cfec44" title="queries the number of predecessors of the task">tf::Task::num_predecessors</a> (previously tf::Task::num_dependents)</li>
<li>tf::Task::for_each_dependent (previously tf::Task::for_each_dependent)</li>
<li><a class="el" href="classtf_1_1_task.html#a0b7b789c9b8a21927a992f6ccc11de81" title="queries the number of strong dependents of the task">tf::Task::num_strong_dependencies</a> (previously tf::Task::num_strong_dependents)</li>
<li><a class="el" href="classtf_1_1_task.html#ad5e874b7cc77df1e7dc875d436ff7b72" title="queries the number of weak dependents of the task">tf::Task::num_weak_dependencies</a> (previously tf::Task::num_weak_dependents)</li>
</ul>
</li>
</ul>
<p>Currently, there are no breaking changes.</p>
<h1><a class="anchor" id="release-3-10-0_documentation"></a>
Documentation</h1>
<ul>
<li>revised <a class="el" href="_parallel_iterations.html">Parallel Iterations</a></li>
<li>revised <a class="el" href="_parallel_reduction.html">Parallel Reduction</a></li>
<li>revised <a class="el" href="_parallel_find.html">Parallel Find</a></li>
</ul>
<h1><a class="anchor" id="release-3-10-0_miscellaneous_items"></a>
Miscellaneous Items</h1>
<p>Please do not hesitate to contact @twhuang if you intend to collaborate with us on using Taskflow in your scientific computing projects. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
