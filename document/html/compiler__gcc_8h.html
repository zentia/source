<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>source: runtime/EASTL/include/EASTL/internal/atomic/compiler/gcc/compiler_gcc.h 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">source
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('compiler__gcc_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">宏定义</a>  </div>
  <div class="headertitle"><div class="title">compiler_gcc.h 文件参考</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="compiler__gcc__fetch__add_8h_source.html">compiler_gcc_fetch_add.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__fetch__sub_8h_source.html">compiler_gcc_fetch_sub.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__fetch__and_8h_source.html">compiler_gcc_fetch_and.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__fetch__xor_8h_source.html">compiler_gcc_fetch_xor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__fetch__or_8h_source.html">compiler_gcc_fetch_or.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__add__fetch_8h_source.html">compiler_gcc_add_fetch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__sub__fetch_8h_source.html">compiler_gcc_sub_fetch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__and__fetch_8h_source.html">compiler_gcc_and_fetch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__xor__fetch_8h_source.html">compiler_gcc_xor_fetch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__or__fetch_8h_source.html">compiler_gcc_or_fetch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__exchange_8h_source.html">compiler_gcc_exchange.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__cmpxchg__weak_8h_source.html">compiler_gcc_cmpxchg_weak.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__cmpxchg__strong_8h_source.html">compiler_gcc_cmpxchg_strong.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__load_8h_source.html">compiler_gcc_load.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__store_8h_source.html">compiler_gcc_store.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__barrier_8h_source.html">compiler_gcc_barrier.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__cpu__pause_8h_source.html">compiler_gcc_cpu_pause.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__signal__fence_8h_source.html">compiler_gcc_signal_fence.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compiler__gcc__thread__fence_8h_source.html">compiler_gcc_thread_fence.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
compiler_gcc.h 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="compiler__gcc_8h__incl.png" border="0" usemap="#aruntime_2_e_a_s_t_l_2include_2_e_a_s_t_l_2internal_2atomic_2compiler_2gcc_2compiler__gcc_8h" alt=""/></div>
<!-- MAP 0 -->
</div>
</div>
<p><a href="compiler__gcc_8h_source.html">浏览该文件的源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:a8ce6b90ff66c39a1c61e19f53fbdaa6f" id="r_a8ce6b90ff66c39a1c61e19f53fbdaa6f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ce6b90ff66c39a1c61e19f53fbdaa6f">EASTL_COMPILER_ATOMIC_HAS_8BIT</a></td></tr>
<tr class="separator:a8ce6b90ff66c39a1c61e19f53fbdaa6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3960b98688970a22f2bd0b325064b78f" id="r_a3960b98688970a22f2bd0b325064b78f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3960b98688970a22f2bd0b325064b78f">EASTL_COMPILER_ATOMIC_HAS_16BIT</a></td></tr>
<tr class="separator:a3960b98688970a22f2bd0b325064b78f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18652aed4df1449dd514a94785727b7" id="r_ae18652aed4df1449dd514a94785727b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae18652aed4df1449dd514a94785727b7">EASTL_COMPILER_ATOMIC_HAS_32BIT</a></td></tr>
<tr class="separator:ae18652aed4df1449dd514a94785727b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e4ceadf0ba2e0796d067c5b0524337" id="r_a59e4ceadf0ba2e0796d067c5b0524337"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59e4ceadf0ba2e0796d067c5b0524337">EASTL_COMPILER_ATOMIC_HAS_64BIT</a></td></tr>
<tr class="separator:a59e4ceadf0ba2e0796d067c5b0524337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8c51974c034a2b040c2d1f8873d2fd" id="r_a5e8c51974c034a2b040c2d1f8873d2fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e8c51974c034a2b040c2d1f8873d2fd">EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_8</a>&#160;&#160;&#160;<a class="el" href="eabase_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td></tr>
<tr class="separator:a5e8c51974c034a2b040c2d1f8873d2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee66fb5f77ad3be32254a5997a20c86" id="r_a8ee66fb5f77ad3be32254a5997a20c86"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ee66fb5f77ad3be32254a5997a20c86">EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_16</a>&#160;&#160;&#160;<a class="el" href="eabase_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a></td></tr>
<tr class="separator:a8ee66fb5f77ad3be32254a5997a20c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b512b05a090729fbaff72f2156ef468" id="r_a9b512b05a090729fbaff72f2156ef468"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b512b05a090729fbaff72f2156ef468">EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_32</a>&#160;&#160;&#160;<a class="el" href="eabase_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td></tr>
<tr class="separator:a9b512b05a090729fbaff72f2156ef468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d9f77bc5a46e0de66493bad3ee19774" id="r_a0d9f77bc5a46e0de66493bad3ee19774"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d9f77bc5a46e0de66493bad3ee19774">EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_64</a>&#160;&#160;&#160;<a class="el" href="eabase_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></td></tr>
<tr class="separator:a0d9f77bc5a46e0de66493bad3ee19774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea0a8468fb015c791f156ae10631bd0" id="r_abea0a8468fb015c791f156ae10631bd0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abea0a8468fb015c791f156ae10631bd0">EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_128</a>&#160;&#160;&#160;__uint128_t</td></tr>
<tr class="separator:abea0a8468fb015c791f156ae10631bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a680ffd75feaa9cafe3b181804ef3e" id="r_a90a680ffd75feaa9cafe3b181804ef3e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90a680ffd75feaa9cafe3b181804ef3e">EASTL_GCC_ATOMIC_FETCH_INTRIN_N</a>(integralType,  fetchIntrinsic,  <a class="el" href="imgui__impl__opengl3__loader_8h.html#a63267399cd2a2ee217572c11d2e54f07">type</a>,  ret,  <a class="el" href="spdlog_2include_2spdlog_2fmt_2bundled_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>,  val,  gccMemoryOrder)</td></tr>
<tr class="separator:a90a680ffd75feaa9cafe3b181804ef3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26b80521402844042f0be604c5b086ac" id="r_a26b80521402844042f0be604c5b086ac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26b80521402844042f0be604c5b086ac">EASTL_GCC_ATOMIC_CMPXCHG_INTRIN_N</a>(integralType,  <a class="el" href="imgui__impl__opengl3__loader_8h.html#a63267399cd2a2ee217572c11d2e54f07">type</a>,  ret,  <a class="el" href="spdlog_2include_2spdlog_2fmt_2bundled_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>,  expected,  desired,  weak,  successOrder,  failOrder)</td></tr>
<tr class="separator:a26b80521402844042f0be604c5b086ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba70e4ccea70941c7c4f308aa8e6ca0" id="r_a1ba70e4ccea70941c7c4f308aa8e6ca0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ba70e4ccea70941c7c4f308aa8e6ca0">EASTL_GCC_ATOMIC_EXCHANGE_INTRIN_N</a>(integralType,  <a class="el" href="imgui__impl__opengl3__loader_8h.html#a63267399cd2a2ee217572c11d2e54f07">type</a>,  ret,  <a class="el" href="spdlog_2include_2spdlog_2fmt_2bundled_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>,  val,  gccMemoryOrder)</td></tr>
<tr class="separator:a1ba70e4ccea70941c7c4f308aa8e6ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">宏定义说明</h2>
<a id="abea0a8468fb015c791f156ae10631bd0" name="abea0a8468fb015c791f156ae10631bd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abea0a8468fb015c791f156ae10631bd0">&#9670;&#160;</a></span>EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_128</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_128&#160;&#160;&#160;__uint128_t</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8ee66fb5f77ad3be32254a5997a20c86" name="a8ee66fb5f77ad3be32254a5997a20c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ee66fb5f77ad3be32254a5997a20c86">&#9670;&#160;</a></span>EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_16&#160;&#160;&#160;<a class="el" href="eabase_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b512b05a090729fbaff72f2156ef468" name="a9b512b05a090729fbaff72f2156ef468"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b512b05a090729fbaff72f2156ef468">&#9670;&#160;</a></span>EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_32&#160;&#160;&#160;<a class="el" href="eabase_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0d9f77bc5a46e0de66493bad3ee19774" name="a0d9f77bc5a46e0de66493bad3ee19774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d9f77bc5a46e0de66493bad3ee19774">&#9670;&#160;</a></span>EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_64</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_64&#160;&#160;&#160;<a class="el" href="eabase_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5e8c51974c034a2b040c2d1f8873d2fd" name="a5e8c51974c034a2b040c2d1f8873d2fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8c51974c034a2b040c2d1f8873d2fd">&#9670;&#160;</a></span>EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_COMPILER_ATOMIC_FIXED_WIDTH_TYPE_8&#160;&#160;&#160;<a class="el" href="eabase_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3960b98688970a22f2bd0b325064b78f" name="a3960b98688970a22f2bd0b325064b78f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3960b98688970a22f2bd0b325064b78f">&#9670;&#160;</a></span>EASTL_COMPILER_ATOMIC_HAS_16BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_COMPILER_ATOMIC_HAS_16BIT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae18652aed4df1449dd514a94785727b7" name="ae18652aed4df1449dd514a94785727b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae18652aed4df1449dd514a94785727b7">&#9670;&#160;</a></span>EASTL_COMPILER_ATOMIC_HAS_32BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_COMPILER_ATOMIC_HAS_32BIT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a59e4ceadf0ba2e0796d067c5b0524337" name="a59e4ceadf0ba2e0796d067c5b0524337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59e4ceadf0ba2e0796d067c5b0524337">&#9670;&#160;</a></span>EASTL_COMPILER_ATOMIC_HAS_64BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_COMPILER_ATOMIC_HAS_64BIT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8ce6b90ff66c39a1c61e19f53fbdaa6f" name="a8ce6b90ff66c39a1c61e19f53fbdaa6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ce6b90ff66c39a1c61e19f53fbdaa6f">&#9670;&#160;</a></span>EASTL_COMPILER_ATOMIC_HAS_8BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_COMPILER_ATOMIC_HAS_8BIT</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NOTE:</p>
<p>gcc __atomic builtins may defer to function calls in libatomic.so for architectures that do not support atomic instructions of a given size. These functions will be implemented with pthread_mutex_t. It also requires the explicit linking against the compiler runtime libatomic.so. On architectures that do not support atomics, like armv6 the builtins may defer to kernel helpers or on classic uniprocessor systems just disable interrupts.</p>
<p>We do not want to have to link against libatomic.so or fall into the trap of our atomics degrading into locks. We would rather have user-code explicitly use locking primitives if their code cannot be satisfied with atomic instructions on the given platform. NOTE:</p>
<p>The following can fail on gcc/clang on 64-bit systems. Firstly, it depends on the -march setting on clang whether or not it calls out to libatomic for 128-bit operations. Second, gcc always calls out to libatomic for 128-bit atomics. It is unclear if it uses locks or tries to look at the cpuid and use cmpxchg16b if its available. gcc mailing lists argue that since load must be implemented with cmpxchg16b, then the __atomic bultin cannot be used in read-only memory which is why they always call out to libatomic. There is no way to tell gcc to not do that, unfortunately. We don't care about the read-only restriction because our <a class="el" href="structeastl_1_1atomic.html">eastl::atomic&lt;T&gt;</a> object is mutable and also msvc doesn't enforce this restriction thus to be fully platform agnostic we cannot either.</p>
<p>Therefore, the follow static_assert is commented out for the time being, as it always fails on these compilers. We still guarantee 128-bit atomics are lock-free by handrolling the inline assembly ourselves.</p>
<p>static_assert(__atomic_always_lock_free(16, 0), "eastl::atomic&lt;T&gt; where sizeof(T) == 16 must be lock-free!"); NOTE:</p>
<p>Why do we do the cast to the unsigned fixed width types for every operation even though gcc/clang builtins are generics? Well gcc/clang correctly-incorrectly call out to libatomic and do locking on user types that may be potentially misaligned. struct UserType { <a class="el" href="eabase_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> a,b; }; This given struct is 2 bytes in size but has only 1 byte alignment. gcc/clang cannot and doesn't know that we always guarantee every type T is size aligned within <a class="el" href="structeastl_1_1atomic.html">eastl::atomic&lt;T&gt;</a>. Therefore it always emits calls into libatomic and does locking for structs like these which we do not want. Therefore you'll notice we always cast each atomic ptr type to the equivalent unsigned fixed width type when doing the atomic operations. This ensures all user types are size aligned and thus are lock free. </p>

</div>
</div>
<a id="a26b80521402844042f0be604c5b086ac" name="a26b80521402844042f0be604c5b086ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26b80521402844042f0be604c5b086ac">&#9670;&#160;</a></span>EASTL_GCC_ATOMIC_CMPXCHG_INTRIN_N</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_GCC_ATOMIC_CMPXCHG_INTRIN_N</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>integralType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="imgui__impl__opengl3__loader_8h.html#a63267399cd2a2ee217572c11d2e54f07">type</a></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ret</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="spdlog_2include_2spdlog_2fmt_2bundled_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>expected</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>desired</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>weak</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>successOrder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>failOrder</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line">    ret = __atomic_compare_exchange(<a class="code hl_define" href="atomic__casts_8h.html#a8fed0f7f77b82add0a3a7d6e9f9e0114">EASTL_ATOMIC_VOLATILE_INTEGRAL_CAST</a>(integralType, (<a class="code hl_function" href="spdlog_2include_2spdlog_2fmt_2bundled_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>)),                           \</div>
<div class="line">                                    <a class="code hl_define" href="atomic__casts_8h.html#ad11669168a8b506324b0de079abb9404">EASTL_ATOMIC_INTEGRAL_CAST</a>(integralType, (expected)),                                   \</div>
<div class="line">                                    <a class="code hl_define" href="atomic__casts_8h.html#ad11669168a8b506324b0de079abb9404">EASTL_ATOMIC_INTEGRAL_CAST</a>(integralType, &amp;(desired)),                                   \</div>
<div class="line">                                    weak, successOrder, failOrder)</div>
<div class="ttc" id="aatomic__casts_8h_html_a8fed0f7f77b82add0a3a7d6e9f9e0114"><div class="ttname"><a href="atomic__casts_8h.html#a8fed0f7f77b82add0a3a7d6e9f9e0114">EASTL_ATOMIC_VOLATILE_INTEGRAL_CAST</a></div><div class="ttdeci">#define EASTL_ATOMIC_VOLATILE_INTEGRAL_CAST(IntegralType, ptr)</div><div class="ttdef"><b>定义</b> atomic_casts.h:171</div></div>
<div class="ttc" id="aatomic__casts_8h_html_ad11669168a8b506324b0de079abb9404"><div class="ttname"><a href="atomic__casts_8h.html#ad11669168a8b506324b0de079abb9404">EASTL_ATOMIC_INTEGRAL_CAST</a></div><div class="ttdeci">#define EASTL_ATOMIC_INTEGRAL_CAST(IntegralType, ptr)</div><div class="ttdef"><b>定义</b> atomic_casts.h:174</div></div>
<div class="ttc" id="aspdlog_2include_2spdlog_2fmt_2bundled_2format_8h_html_adb6e274f8eb0b74b2865215e1b49c535"><div class="ttname"><a href="spdlog_2include_2spdlog_2fmt_2bundled_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a></div><div class="ttdeci">auto ptr(T p) -&gt; const void *</div><div class="ttdef"><b>定义</b> format.h:3827</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ba70e4ccea70941c7c4f308aa8e6ca0" name="a1ba70e4ccea70941c7c4f308aa8e6ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ba70e4ccea70941c7c4f308aa8e6ca0">&#9670;&#160;</a></span>EASTL_GCC_ATOMIC_EXCHANGE_INTRIN_N</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_GCC_ATOMIC_EXCHANGE_INTRIN_N</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>integralType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="imgui__impl__opengl3__loader_8h.html#a63267399cd2a2ee217572c11d2e54f07">type</a></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ret</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="spdlog_2include_2spdlog_2fmt_2bundled_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>gccMemoryOrder</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line">    {                                                                   \</div>
<div class="line">        integralType retIntegral;                                       \</div>
<div class="line">        integralType valIntegral = <a class="code hl_define" href="atomic__casts_8h.html#adc7901bdf990e6ba416029238d56d245">EASTL_ATOMIC_TYPE_PUN_CAST</a>(integralType, (val)); \</div>
<div class="line">                                                                        \</div>
<div class="line">        __atomic_exchange(<a class="code hl_define" href="atomic__casts_8h.html#a8fed0f7f77b82add0a3a7d6e9f9e0114">EASTL_ATOMIC_VOLATILE_INTEGRAL_CAST</a>(integralType, (<a class="code hl_function" href="spdlog_2include_2spdlog_2fmt_2bundled_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>)), \</div>
<div class="line">                          &amp;valIntegral, &amp;retIntegral, gccMemoryOrder);  \</div>
<div class="line">                                                                        \</div>
<div class="line">        ret = <a class="code hl_define" href="atomic__casts_8h.html#adc7901bdf990e6ba416029238d56d245">EASTL_ATOMIC_TYPE_PUN_CAST</a>(<a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#a63267399cd2a2ee217572c11d2e54f07">type</a>, retIntegral);          \</div>
<div class="line">    }</div>
<div class="ttc" id="aatomic__casts_8h_html_adc7901bdf990e6ba416029238d56d245"><div class="ttname"><a href="atomic__casts_8h.html#adc7901bdf990e6ba416029238d56d245">EASTL_ATOMIC_TYPE_PUN_CAST</a></div><div class="ttdeci">#define EASTL_ATOMIC_TYPE_PUN_CAST(PunType, fromType)</div><div class="ttdef"><b>定义</b> atomic_casts.h:183</div></div>
<div class="ttc" id="aimgui__impl__opengl3__loader_8h_html_a63267399cd2a2ee217572c11d2e54f07"><div class="ttname"><a href="imgui__impl__opengl3__loader_8h.html#a63267399cd2a2ee217572c11d2e54f07">type</a></div><div class="ttdeci">GLint GLint GLsizei GLsizei GLint GLenum GLenum type</div><div class="ttdef"><b>定义</b> imgui_impl_opengl3_loader.h:190</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a90a680ffd75feaa9cafe3b181804ef3e" name="a90a680ffd75feaa9cafe3b181804ef3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90a680ffd75feaa9cafe3b181804ef3e">&#9670;&#160;</a></span>EASTL_GCC_ATOMIC_FETCH_INTRIN_N</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EASTL_GCC_ATOMIC_FETCH_INTRIN_N</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>integralType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fetchIntrinsic</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="imgui__impl__opengl3__loader_8h.html#a63267399cd2a2ee217572c11d2e54f07">type</a></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ret</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="spdlog_2include_2spdlog_2fmt_2bundled_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>gccMemoryOrder</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line">    {                                                                   \</div>
<div class="line">        integralType retIntegral;                                       \</div>
<div class="line">        integralType valIntegral = <a class="code hl_define" href="atomic__casts_8h.html#adc7901bdf990e6ba416029238d56d245">EASTL_ATOMIC_TYPE_PUN_CAST</a>(integralType, (val)); \</div>
<div class="line">                                                                        \</div>
<div class="line">        retIntegral = fetchIntrinsic(<a class="code hl_define" href="atomic__casts_8h.html#a8fed0f7f77b82add0a3a7d6e9f9e0114">EASTL_ATOMIC_VOLATILE_INTEGRAL_CAST</a>(integralType, (<a class="code hl_function" href="spdlog_2include_2spdlog_2fmt_2bundled_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>)), valIntegral, gccMemoryOrder); \</div>
<div class="line">                                                                        \</div>
<div class="line">        ret = <a class="code hl_define" href="atomic__casts_8h.html#adc7901bdf990e6ba416029238d56d245">EASTL_ATOMIC_TYPE_PUN_CAST</a>(<a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#a63267399cd2a2ee217572c11d2e54f07">type</a>, retIntegral);          \</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_cb031e414f281a658b23dddb30bb9d2c.html">runtime</a></li><li class="navelem"><a class="el" href="dir_46d996951237f3a811adda0775610b84.html">EASTL</a></li><li class="navelem"><a class="el" href="dir_06f2802bae06e0b7e2ef6af4877ff7fa.html">include</a></li><li class="navelem"><a class="el" href="dir_7072dc190ed4e9ada04739833358a74a.html">EASTL</a></li><li class="navelem"><a class="el" href="dir_7923ec330a5c1d2a00aed0df1ab55131.html">internal</a></li><li class="navelem"><a class="el" href="dir_e84c0d1611b2682ec84fd8008e83093d.html">atomic</a></li><li class="navelem"><a class="el" href="dir_57868ce3729b1365ba386861d4037ba1.html">compiler</a></li><li class="navelem"><a class="el" href="dir_b1416b7c2e99012395b61f462024febe.html">gcc</a></li><li class="navelem"><a class="el" href="compiler__gcc_8h.html">compiler_gcc.h</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
