<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>source: external/reflect-cpp 目录参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">source
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_ec22af54b9d0dc12688f514bfd105c6b.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">reflect-cpp 目录参考</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
reflect-cpp 的目录依赖关系图</div>
<div class="dyncontent">
<div class="center"><img src="dir_ec22af54b9d0dc12688f514bfd105c6b_dep.png" border="0" usemap="#adir__ec22af54b9d0dc12688f514bfd105c6b__dep" alt="external/reflect-cpp"/></div>
<!-- MAP 0 -->
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="subdirs" name="subdirs"></a>
目录</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_17b3c94f839c7491730765e846979a5b.html">benchmarks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_a3ee9bc60eb4fb71bcdf41cb201a0ac6.html">docs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_52db5b9842da2a9d3126408803d2a092.html">include</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_ef01ec61f5dae2bd3f3a89ac0de05a9c.html">src</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_96ed9f99bdafb7b1db11ea23481da3f6.html">tests</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_fe763c7555057702fe8e67941795fb0a.html">vcpkg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
文件</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="icondoc"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="conanfile_8py.html">conanfile.py</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<p><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/getml/reflect-cpp/graphs/commit-activity"><img src="https://img.shields.io/badge/Maintained%3F-yes-green.svg" alt="Maintenance" style="pointer-events: none;" class="inline"/></a> <a href="https://shields.io/"><img src="https://img.shields.io/badge/C++-20-blue.svg" alt="Generic badge" style="pointer-events: none;" class="inline"/></a> <a href="https://shields.io/"><img src="https://img.shields.io/badge/gcc-11+-blue.svg" alt="Generic badge" style="pointer-events: none;" class="inline"/></a> <a href="https://shields.io/"><img src="https://img.shields.io/badge/clang-14+-blue.svg" alt="Generic badge" style="pointer-events: none;" class="inline"/></a> <a href="https://shields.io/"><img src="https://img.shields.io/badge/MSVC-17+-blue.svg" alt="Generic badge" style="pointer-events: none;" class="inline"/></a> <a href="https://conan.io/center/recipes/reflect-cpp"><img src="https://img.shields.io/conan/v/reflect-cpp" alt="Conan Center" class="inline"/></a></p>
<p><b>📖 Documentation</b>: <a href="https://rfl.getml.com">https://rfl.getml.com</a></p>
<p><img src="banner1.png" alt="image" class="inline"/></p>
<p><b>reflect-cpp</b> is a C++-20 library for <b>fast serialization, deserialization and validation</b> using reflection, similar to <a href="https://github.com/pydantic/pydantic">pydantic</a> in Python, <a href="https://github.com/serde-rs">serde</a> in Rust, <a href="https://github.com/golang/go/tree/master/src/encoding">encoding</a> in Go or <a href="https://github.com/haskell/aeson/tree/master">aeson</a> in Haskell.</p>
<p>As the aforementioned libraries are among the most widely used in the respective languages, reflect-cpp fills an important gap in C++ development. It reduces boilerplate code and increases code safety.</p>
<h2><a class="anchor" id="autotoc_md712"></a>
Design principles for reflect-cpp include:</h2>
<ul>
<li>Close integration with <a href="https://github.com/getml/reflect-cpp?tab=readme-ov-file#support-for-containers">containers</a> from the C++ standard library</li>
<li>Close adherence to C++ idioms</li>
<li>Out-of-the-box support for <a href="https://rfl.getml.com/supported_formats/json">JSON</a></li>
<li>Simple <a href="https://rfl.getml.com/install">installation</a></li>
<li>Simple extendability to <a href="https://rfl.getml.com/supported_formats/supporting_your_own_format">other serialization formats</a></li>
<li>Simple extendability to <a href="https://rfl.getml.com/concepts/custom_classes">custom classes</a></li>
<li>Being one of the fastest serialization libraries in existence, as demonstrated by our <a href="https://rfl.getml.com/benchmarks">benchmarks</a></li>
</ul>
<p><br  />
</p>
<h1><a class="anchor" id="autotoc_md713"></a>
Table of Contents</h1>
<h2><a class="anchor" id="autotoc_md714"></a>
On this page</h2>
<ul>
<li>Serialization formats</li>
<li>Feature Overview<ul>
<li>Simple Example</li>
<li>More Comprehensive Example</li>
<li>Error messages</li>
<li>JSON schema</li>
<li><a class="el" href="group__enums.html">Enums</a></li>
<li>Algebraic data types</li>
<li>Extra fields</li>
<li>Reflective programming</li>
<li>Standard Library Integration</li>
</ul>
</li>
<li>The team behind reflect-cpp</li>
<li>License</li>
</ul>
<h2><a class="anchor" id="autotoc_md715"></a>
More in our <a href="https://rfl.getml.com">documentation</a>:</h2>
<ul>
<li><a href="https://rfl.getml.com/install/#option-2-compilation-using-cmake">Installation ↗</a></li>
<li><a href="https://rfl.getml.com/benchmarks">Benchmarks ↗</a></li>
<li><a href="https://rfl.getml.com/contributing">How to contribute ↗</a></li>
<li><a href="https://rfl.getml.com/contributing/#compiling-and-running-the-tests">Compiling and running the tests ↗</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md716"></a>
Serialization formats</h1>
<p>reflect-cpp provides a unified reflection-based interface across different serialization formats. It is deliberately designed in a very modular way, using <a href="https://en.cppreference.com/w/cpp/language/constraints">concepts</a>, to make it as easy as possible to interface various C or C++ libraries related to serialization. Refer to the <a href="https://rfl.getml.com/supported_formats/bson/">documentation</a> for details.</p>
<p>The following table lists the serialization formats currently supported by reflect-cpp and the underlying libraries used:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Format   </th><th class="markdownTableHeadNone">Library   </th><th class="markdownTableHeadNone">Version   </th><th class="markdownTableHeadNone">License   </th><th class="markdownTableHeadNone">Remarks    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">JSON   </td><td class="markdownTableBodyNone"><a href="https://github.com/ibireme/yyjson">yyjson</a>   </td><td class="markdownTableBodyNone">&gt;= 0.8.0   </td><td class="markdownTableBodyNone">MIT   </td><td class="markdownTableBodyNone">out-of-the-box support, included in this repository    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Avro   </td><td class="markdownTableBodyNone"><a href="https://avro.apache.org/docs/1.11.1/api/c/">avro-c</a>   </td><td class="markdownTableBodyNone">&gt;= 1.11.3   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone">Schemaful binary format    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BSON   </td><td class="markdownTableBodyNone"><a href="https://github.com/mongodb/mongo-c-driver">libbson</a>   </td><td class="markdownTableBodyNone">&gt;= 1.25.1   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone">JSON-like binary format    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Cap'n <a class="el" href="ff__network_8hpp.html#a935ab6746fea268e5bb60a8755bc3c1e">Proto</a>   </td><td class="markdownTableBodyNone"><a href="https://capnproto.org">capnproto</a>   </td><td class="markdownTableBodyNone">&gt;= 1.0.2   </td><td class="markdownTableBodyNone">MIT   </td><td class="markdownTableBodyNone">Schemaful binary format    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CBOR   </td><td class="markdownTableBodyNone"><a href="https://github.com/danielaparker/jsoncons">jsoncons</a>   </td><td class="markdownTableBodyNone">&gt;= 0.176.0   </td><td class="markdownTableBodyNone">BSL 1.0   </td><td class="markdownTableBodyNone">JSON-like binary format    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">flexbuffers   </td><td class="markdownTableBodyNone"><a href="https://github.com/google/flatbuffers">flatbuffers</a>   </td><td class="markdownTableBodyNone">&gt;= 23.5.26   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone">Schema-less version of flatbuffers, binary format    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">msgpack   </td><td class="markdownTableBodyNone"><a href="https://github.com/msgpack/msgpack-c">msgpack-c</a>   </td><td class="markdownTableBodyNone">&gt;= 6.0.0   </td><td class="markdownTableBodyNone">BSL 1.0   </td><td class="markdownTableBodyNone">JSON-like binary format    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TOML   </td><td class="markdownTableBodyNone"><a href="https://github.com/ToruNiina/toml11">toml11</a>   </td><td class="markdownTableBodyNone">&gt;= 4.2.0   </td><td class="markdownTableBodyNone">MIT   </td><td class="markdownTableBodyNone">Textual format with an emphasis on readability    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">UBJSON   </td><td class="markdownTableBodyNone"><a href="https://github.com/danielaparker/jsoncons">jsoncons</a>   </td><td class="markdownTableBodyNone">&gt;= 0.176.0   </td><td class="markdownTableBodyNone">BSL 1.0   </td><td class="markdownTableBodyNone">JSON-like binary format    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">XML   </td><td class="markdownTableBodyNone"><a href="https://github.com/zeux/pugixml">pugixml</a>   </td><td class="markdownTableBodyNone">&gt;= 1.14   </td><td class="markdownTableBodyNone">MIT   </td><td class="markdownTableBodyNone">Textual format used in many legacy projects    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">YAML   </td><td class="markdownTableBodyNone"><a href="https://github.com/jbeder/yaml-cpp">yaml-cpp</a>   </td><td class="markdownTableBodyNone">&gt;= 0.8.0   </td><td class="markdownTableBodyNone">MIT   </td><td class="markdownTableBodyNone">Textual format with an emphasis on readability   </td></tr>
</table>
<p>Support for more serialization formats is in development. Refer to the <a href="https://github.com/getml/reflect-cpp/issues">issues</a> for details.</p>
<p>Please also refer to the <em><a class="el" href="conanfile_8py.html">conanfile.py</a></em> or <em>vcpkg.json</em> in this repository.</p>
<h1><a class="anchor" id="autotoc_md717"></a>
Feature Overview</h1>
<h2><a class="anchor" id="autotoc_md718"></a>
Simple Example</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="reflect-cpp_2include_2rfl_2json_8hpp.html">rfl/json.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rfl_8hpp.html">rfl.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>Person {</div>
<div class="line">  std::string first_name;</div>
<div class="line">  std::string last_name;</div>
<div class="line">  <span class="keywordtype">int</span> age;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> homer =</div>
<div class="line">    Person{.first_name = <span class="stringliteral">&quot;Homer&quot;</span>,</div>
<div class="line">           .last_name = <span class="stringliteral">&quot;Simpson&quot;</span>,</div>
<div class="line">           .age = 45};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// We can now write into and read from a JSON string.</span></div>
<div class="line"><span class="keyword">const</span> std::string json_string = <a class="code hl_function" href="namespacerfl_1_1json.html#af39a23539424555b8c970d12a58e547f">rfl::json::write</a>(homer);</div>
<div class="line"><span class="keyword">auto</span> homer2 = <a class="code hl_function" href="namespacerfl_1_1json.html#a905573518eca04a9c269d1bb32de7dd1">rfl::json::read&lt;Person&gt;</a>(json_string).value();</div>
<div class="ttc" id="anamespacerfl_1_1json_html_a905573518eca04a9c269d1bb32de7dd1"><div class="ttname"><a href="namespacerfl_1_1json.html#a905573518eca04a9c269d1bb32de7dd1">rfl::json::read</a></div><div class="ttdeci">auto read(const InputVarType &amp;_obj)</div><div class="ttdoc">Parses an object from a JSON var.</div><div class="ttdef"><b>定义</b> read.hpp:26</div></div>
<div class="ttc" id="anamespacerfl_1_1json_html_af39a23539424555b8c970d12a58e547f"><div class="ttname"><a href="namespacerfl_1_1json.html#af39a23539424555b8c970d12a58e547f">rfl::json::write</a></div><div class="ttdeci">std::string write(const auto &amp;_obj, const yyjson_write_flag _flag=0)</div><div class="ttdoc">Returns a JSON string.</div><div class="ttdef"><b>定义</b> write.hpp:26</div></div>
<div class="ttc" id="areflect-cpp_2include_2rfl_2json_8hpp_html"><div class="ttname"><a href="reflect-cpp_2include_2rfl_2json_8hpp.html">json.hpp</a></div></div>
<div class="ttc" id="arfl_8hpp_html"><div class="ttname"><a href="rfl_8hpp.html">rfl.hpp</a></div></div>
</div><!-- fragment --><p>The resulting JSON string looks like this:</p>
<div class="fragment"><div class="line">{&quot;first_name&quot;:&quot;Homer&quot;,&quot;last_name&quot;:&quot;Simpson&quot;,&quot;age&quot;:45}</div>
</div><!-- fragment --><p>You can transform the field names from <code>snake_case</code> to <code>camelCase</code> like this:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> std::string json_string = </div>
<div class="line">  <a class="code hl_function" href="namespacerfl_1_1json.html#af39a23539424555b8c970d12a58e547f">rfl::json::write&lt;rfl::SnakeCaseToCamelCase&gt;</a>(homer);</div>
<div class="line"><span class="keyword">auto</span> homer2 = </div>
<div class="line">  <a class="code hl_function" href="namespacerfl_1_1json.html#a905573518eca04a9c269d1bb32de7dd1">rfl::json::read&lt;Person, rfl::SnakeCaseToCamelCase&gt;</a>(json_string).value();</div>
</div><!-- fragment --><p>The resulting JSON string looks like this:</p>
<div class="fragment"><div class="line">{&quot;firstName&quot;:&quot;Homer&quot;,&quot;lastName&quot;:&quot;Simpson&quot;,&quot;age&quot;:45}</div>
</div><!-- fragment --><p>Or you can use another format, such as YAML.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="yaml_8hpp.html">rfl/yaml.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// ... (same as above)</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> std::string yaml_string = <a class="code hl_function" href="namespacerfl_1_1yaml.html#a7205f5625b788c093f657a9df7579306">rfl::yaml::write</a>(homer);</div>
<div class="line"><span class="keyword">auto</span> homer2 = <a class="code hl_function" href="namespacerfl_1_1yaml.html#ae9a58bf475f01ac893556ab0a9769c40">rfl::yaml::read&lt;Person&gt;</a>(yaml_string).value();</div>
<div class="ttc" id="anamespacerfl_1_1yaml_html_a7205f5625b788c093f657a9df7579306"><div class="ttname"><a href="namespacerfl_1_1yaml.html#a7205f5625b788c093f657a9df7579306">rfl::yaml::write</a></div><div class="ttdeci">std::ostream &amp; write(const auto &amp;_obj, std::ostream &amp;_stream)</div><div class="ttdoc">Writes a YAML into an ostream.</div><div class="ttdef"><b>定义</b> write.hpp:20</div></div>
<div class="ttc" id="anamespacerfl_1_1yaml_html_ae9a58bf475f01ac893556ab0a9769c40"><div class="ttname"><a href="namespacerfl_1_1yaml.html#ae9a58bf475f01ac893556ab0a9769c40">rfl::yaml::read</a></div><div class="ttdeci">auto read(const InputVarType &amp;_var)</div><div class="ttdoc">Parses an object from a YAML var.</div><div class="ttdef"><b>定义</b> read.hpp:21</div></div>
<div class="ttc" id="ayaml_8hpp_html"><div class="ttname"><a href="yaml_8hpp.html">yaml.hpp</a></div></div>
</div><!-- fragment --><p>The resulting YAML string looks like this:</p>
<div class="fragment"><div class="line">first_name: Homer</div>
<div class="line">last_name: Simpson</div>
<div class="line">age: 45</div>
</div><!-- fragment --><p>This will work for just about any example in the entire documentation and any supported format, except where explicitly noted otherwise:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="namespacerfl_1_1avro.html#a35363ef7356277226dac5c8cb4fb6b4a">rfl::avro::write</a>(homer);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1bson.html#a831235515905859b528912061602090a">rfl::bson::write</a>(homer);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1capnproto.html#a97cdd1f9f6fde9fa46ecb92e3acbe944">rfl::capnproto::write</a>(homer);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1cbor.html#aa91469562abe00ea499db9f0b48c4ba7">rfl::cbor::write</a>(homer);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1flexbuf.html#a43e68ebf4a20d5e185c1f9b216c72f7a">rfl::flexbuf::write</a>(homer);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1msgpack.html#ac67b48aca2868d1b9f48ebbefa511df1">rfl::msgpack::write</a>(homer);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1toml.html#ac8fb8467129862f01e1312fef7176e0c">rfl::toml::write</a>(homer);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1ubjson.html#ae5eff9fbb6a419029978ea624558b02c">rfl::ubjson::write</a>(homer);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1xml.html#a903c1af58b9d930d9eed463bc53d2f67">rfl::xml::write</a>(homer);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1avro.html#aea11cfdc519efbaee04bd766ce499db1">rfl::avro::read&lt;Person&gt;</a>(avro_bytes);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1bson.html#ad53952c45b2c4dee0d3b55a757ff48e6">rfl::bson::read&lt;Person&gt;</a>(bson_bytes);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1capnproto.html#adeed5ace86b284cc00ea03de1c1d1fd8">rfl::capnproto::read&lt;Person&gt;</a>(capnproto_bytes);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1cbor.html#a13fab040b12c0df89343e3c2b4b097ff">rfl::cbor::read&lt;Person&gt;</a>(cbor_bytes);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1flexbuf.html#a3be0ed76817ef6f55d6988546b580fe6">rfl::flexbuf::read&lt;Person&gt;</a>(flexbuf_bytes);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1msgpack.html#a5e018bd8119e3ec1e125da4c6ae3a4e3">rfl::msgpack::read&lt;Person&gt;</a>(msgpack_bytes);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1toml.html#a1739d57c7abd0bf263bad5ce5c1ac0da">rfl::toml::read&lt;Person&gt;</a>(toml_string);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1ubjson.html#a7237f51363a66109ced397899bcb2870">rfl::ubjson::read&lt;Person&gt;</a>(ubjson_bytes);</div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1xml.html#a1063ad7ef9b341b08b38318ab2965403">rfl::xml::read&lt;Person&gt;</a>(xml_string);</div>
<div class="ttc" id="anamespacerfl_1_1avro_html_a35363ef7356277226dac5c8cb4fb6b4a"><div class="ttname"><a href="namespacerfl_1_1avro.html#a35363ef7356277226dac5c8cb4fb6b4a">rfl::avro::write</a></div><div class="ttdeci">std::vector&lt; char &gt; write(const auto &amp;_obj, const auto &amp;_schema) noexcept</div><div class="ttdoc">Returns AVRO bytes.</div><div class="ttdef"><b>定义</b> write.hpp:24</div></div>
<div class="ttc" id="anamespacerfl_1_1avro_html_aea11cfdc519efbaee04bd766ce499db1"><div class="ttname"><a href="namespacerfl_1_1avro.html#aea11cfdc519efbaee04bd766ce499db1">rfl::avro::read</a></div><div class="ttdeci">auto read(const InputVarType &amp;_obj)</div><div class="ttdoc">Parses an object from a AVRO var.</div><div class="ttdef"><b>定义</b> read.hpp:25</div></div>
<div class="ttc" id="anamespacerfl_1_1bson_html_a831235515905859b528912061602090a"><div class="ttname"><a href="namespacerfl_1_1bson.html#a831235515905859b528912061602090a">rfl::bson::write</a></div><div class="ttdeci">std::vector&lt; char &gt; write(const auto &amp;_obj) noexcept</div><div class="ttdoc">Returns BSON bytes.</div><div class="ttdef"><b>定义</b> write.hpp:46</div></div>
<div class="ttc" id="anamespacerfl_1_1bson_html_ad53952c45b2c4dee0d3b55a757ff48e6"><div class="ttname"><a href="namespacerfl_1_1bson.html#ad53952c45b2c4dee0d3b55a757ff48e6">rfl::bson::read</a></div><div class="ttdeci">Result&lt; internal::wrap_in_rfl_array_t&lt; T &gt; &gt; read(const InputVarType &amp;_obj)</div><div class="ttdoc">Parses an object from a BSON var.</div><div class="ttdef"><b>定义</b> read.hpp:23</div></div>
<div class="ttc" id="anamespacerfl_1_1capnproto_html_a97cdd1f9f6fde9fa46ecb92e3acbe944"><div class="ttname"><a href="namespacerfl_1_1capnproto.html#a97cdd1f9f6fde9fa46ecb92e3acbe944">rfl::capnproto::write</a></div><div class="ttdeci">std::vector&lt; char &gt; write(const auto &amp;_obj, const auto &amp;_schema)</div><div class="ttdoc">Returns CAPNPROTO bytes.</div><div class="ttdef"><b>定义</b> write.hpp:33</div></div>
<div class="ttc" id="anamespacerfl_1_1capnproto_html_adeed5ace86b284cc00ea03de1c1d1fd8"><div class="ttname"><a href="namespacerfl_1_1capnproto.html#adeed5ace86b284cc00ea03de1c1d1fd8">rfl::capnproto::read</a></div><div class="ttdeci">auto read(const InputVarType &amp;_obj)</div><div class="ttdoc">Parses an object from a CAPNPROTO var.</div><div class="ttdef"><b>定义</b> read.hpp:30</div></div>
<div class="ttc" id="anamespacerfl_1_1cbor_html_a13fab040b12c0df89343e3c2b4b097ff"><div class="ttname"><a href="namespacerfl_1_1cbor.html#a13fab040b12c0df89343e3c2b4b097ff">rfl::cbor::read</a></div><div class="ttdeci">Result&lt; internal::wrap_in_rfl_array_t&lt; T &gt; &gt; read(const std::vector&lt; char &gt; &amp;_bytes)</div><div class="ttdoc">Parses an object from CBOR using reflection.</div><div class="ttdef"><b>定义</b> read.hpp:22</div></div>
<div class="ttc" id="anamespacerfl_1_1cbor_html_aa91469562abe00ea499db9f0b48c4ba7"><div class="ttname"><a href="namespacerfl_1_1cbor.html#aa91469562abe00ea499db9f0b48c4ba7">rfl::cbor::write</a></div><div class="ttdeci">std::vector&lt; char &gt; write(const auto &amp;_obj) noexcept</div><div class="ttdoc">Returns CBOR bytes.</div><div class="ttdef"><b>定义</b> write.hpp:19</div></div>
<div class="ttc" id="anamespacerfl_1_1flexbuf_html_a3be0ed76817ef6f55d6988546b580fe6"><div class="ttname"><a href="namespacerfl_1_1flexbuf.html#a3be0ed76817ef6f55d6988546b580fe6">rfl::flexbuf::read</a></div><div class="ttdeci">auto read(const InputVarType &amp;_obj)</div><div class="ttdoc">Parses an object from flexbuf var.</div><div class="ttdef"><b>定义</b> read.hpp:21</div></div>
<div class="ttc" id="anamespacerfl_1_1flexbuf_html_a43e68ebf4a20d5e185c1f9b216c72f7a"><div class="ttname"><a href="namespacerfl_1_1flexbuf.html#a43e68ebf4a20d5e185c1f9b216c72f7a">rfl::flexbuf::write</a></div><div class="ttdeci">std::vector&lt; char &gt; write(const auto &amp;_obj)</div><div class="ttdoc">Writes an object to flexbuf.</div><div class="ttdef"><b>定义</b> write.hpp:33</div></div>
<div class="ttc" id="anamespacerfl_1_1msgpack_html_a5e018bd8119e3ec1e125da4c6ae3a4e3"><div class="ttname"><a href="namespacerfl_1_1msgpack.html#a5e018bd8119e3ec1e125da4c6ae3a4e3">rfl::msgpack::read</a></div><div class="ttdeci">auto read(const InputVarType &amp;_obj)</div><div class="ttdoc">Parses an object from a MSGPACK var.</div><div class="ttdef"><b>定义</b> read.hpp:22</div></div>
<div class="ttc" id="anamespacerfl_1_1msgpack_html_ac67b48aca2868d1b9f48ebbefa511df1"><div class="ttname"><a href="namespacerfl_1_1msgpack.html#ac67b48aca2868d1b9f48ebbefa511df1">rfl::msgpack::write</a></div><div class="ttdeci">std::vector&lt; char &gt; write(const auto &amp;_obj) noexcept</div><div class="ttdoc">Returns msgpack bytes.</div><div class="ttdef"><b>定义</b> write.hpp:20</div></div>
<div class="ttc" id="anamespacerfl_1_1toml_html_a1739d57c7abd0bf263bad5ce5c1ac0da"><div class="ttname"><a href="namespacerfl_1_1toml.html#a1739d57c7abd0bf263bad5ce5c1ac0da">rfl::toml::read</a></div><div class="ttdeci">auto read(InputVarType _var)</div><div class="ttdoc">Parses an object from a TOML var.</div><div class="ttdef"><b>定义</b> read.hpp:24</div></div>
<div class="ttc" id="anamespacerfl_1_1toml_html_ac8fb8467129862f01e1312fef7176e0c"><div class="ttname"><a href="namespacerfl_1_1toml.html#ac8fb8467129862f01e1312fef7176e0c">rfl::toml::write</a></div><div class="ttdeci">std::string write(const auto &amp;_obj)</div><div class="ttdoc">Returns a TOML string.</div><div class="ttdef"><b>定义</b> write.hpp:18</div></div>
<div class="ttc" id="anamespacerfl_1_1ubjson_html_a7237f51363a66109ced397899bcb2870"><div class="ttname"><a href="namespacerfl_1_1ubjson.html#a7237f51363a66109ced397899bcb2870">rfl::ubjson::read</a></div><div class="ttdeci">Result&lt; internal::wrap_in_rfl_array_t&lt; T &gt; &gt; read(const std::vector&lt; char &gt; &amp;_bytes)</div><div class="ttdoc">Parses an object from UBJSON using reflection.</div><div class="ttdef"><b>定义</b> read.hpp:22</div></div>
<div class="ttc" id="anamespacerfl_1_1ubjson_html_ae5eff9fbb6a419029978ea624558b02c"><div class="ttname"><a href="namespacerfl_1_1ubjson.html#ae5eff9fbb6a419029978ea624558b02c">rfl::ubjson::write</a></div><div class="ttdeci">std::vector&lt; char &gt; write(const auto &amp;_obj) noexcept</div><div class="ttdoc">Returns UBJSON bytes.</div><div class="ttdef"><b>定义</b> write.hpp:19</div></div>
<div class="ttc" id="anamespacerfl_1_1xml_html_a1063ad7ef9b341b08b38318ab2965403"><div class="ttname"><a href="namespacerfl_1_1xml.html#a1063ad7ef9b341b08b38318ab2965403">rfl::xml::read</a></div><div class="ttdeci">auto read(const InputVarType &amp;_var)</div><div class="ttdoc">Parses an object from a XML var.</div><div class="ttdef"><b>定义</b> read.hpp:22</div></div>
<div class="ttc" id="anamespacerfl_1_1xml_html_a903c1af58b9d930d9eed463bc53d2f67"><div class="ttname"><a href="namespacerfl_1_1xml.html#a903c1af58b9d930d9eed463bc53d2f67">rfl::xml::write</a></div><div class="ttdeci">std::ostream &amp; write(const auto &amp;_obj, std::ostream &amp;_stream, const std::string &amp;_indent=&quot;    &quot;)</div><div class="ttdoc">Writes a XML into an ostream.</div><div class="ttdef"><b>定义</b> write.hpp:33</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md719"></a>
More Comprehensive Example</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="reflect-cpp_2include_2rfl_2json_8hpp.html">rfl/json.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rfl_8hpp.html">rfl.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Age must be a plausible number, between 0 and 130. This will</span></div>
<div class="line"><span class="comment">// be validated automatically.</span></div>
<div class="line"><span class="keyword">using </span>Age = <a class="code hl_struct" href="structrfl_1_1_validator.html">rfl::Validator&lt;int, rfl::Minimum&lt;0&gt;</a>, <a class="code hl_struct" href="structrfl_1_1_maximum.html">rfl::Maximum&lt;130&gt;</a>&gt;;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>Person {</div>
<div class="line">  <a class="code hl_struct" href="structrfl_1_1_rename.html">rfl::Rename</a>&lt;<span class="stringliteral">&quot;firstName&quot;</span>, std::string&gt; first_name;</div>
<div class="line">  <a class="code hl_struct" href="structrfl_1_1_rename.html">rfl::Rename</a>&lt;<span class="stringliteral">&quot;lastName&quot;</span>, std::string&gt; last_name = <span class="stringliteral">&quot;Simpson&quot;</span>;</div>
<div class="line">  std::string town = <span class="stringliteral">&quot;Springfield&quot;</span>;</div>
<div class="line">  <a class="code hl_class" href="classrfl_1_1_timestamp.html">rfl::Timestamp</a>&lt;<span class="stringliteral">&quot;%Y-%m-%d&quot;</span>&gt; birthday;</div>
<div class="line">  Age age;</div>
<div class="line">  <a class="code hl_typedef" href="namespacerfl.html#a12c736fb0b0b2ecae42c2ba1b4b61c08">rfl::Email</a> email;</div>
<div class="line">  std::vector&lt;Person&gt; children;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> bart = Person{.first_name = <span class="stringliteral">&quot;Bart&quot;</span>,</div>
<div class="line">                         .birthday = <span class="stringliteral">&quot;1987-04-19&quot;</span>,</div>
<div class="line">                         .age = 10,</div>
<div class="line">                         .email = <span class="stringliteral">&quot;bart@simpson.com&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> lisa = Person{.first_name = <span class="stringliteral">&quot;Lisa&quot;</span>,</div>
<div class="line">                         .birthday = <span class="stringliteral">&quot;1987-04-19&quot;</span>,</div>
<div class="line">                         .age = 8,</div>
<div class="line">                         .email = <span class="stringliteral">&quot;lisa@simpson.com&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> maggie = Person{.first_name = <span class="stringliteral">&quot;Maggie&quot;</span>,</div>
<div class="line">                           .birthday = <span class="stringliteral">&quot;1987-04-19&quot;</span>,</div>
<div class="line">                           .age = 0,</div>
<div class="line">                           .email = <span class="stringliteral">&quot;maggie@simpson.com&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> homer =</div>
<div class="line">    Person{.first_name = <span class="stringliteral">&quot;Homer&quot;</span>,</div>
<div class="line">           .birthday = <span class="stringliteral">&quot;1987-04-19&quot;</span>,</div>
<div class="line">           .age = 45,</div>
<div class="line">           .email = <span class="stringliteral">&quot;homer@simpson.com&quot;</span>,</div>
<div class="line">           .children = std::vector&lt;Person&gt;({bart, lisa, maggie})};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// We can now transform this into a JSON string.</span></div>
<div class="line"><span class="keyword">const</span> std::string json_string = <a class="code hl_function" href="namespacerfl_1_1json.html#af39a23539424555b8c970d12a58e547f">rfl::json::write</a>(homer);</div>
<div class="line">std::cout &lt;&lt; json_string &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// We can also directly write into std::cout (or any other std::ostream).</span></div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1json.html#af39a23539424555b8c970d12a58e547f">rfl::json::write</a>(homer, std::cout) &lt;&lt; std::endl;</div>
<div class="ttc" id="aclassrfl_1_1_timestamp_html"><div class="ttname"><a href="classrfl_1_1_timestamp.html">rfl::Timestamp</a></div><div class="ttdoc">For serializing and deserializing time stamps.</div><div class="ttdef"><b>定义</b> Timestamp.hpp:17</div></div>
<div class="ttc" id="anamespacerfl_html_a12c736fb0b0b2ecae42c2ba1b4b61c08"><div class="ttname"><a href="namespacerfl.html#a12c736fb0b0b2ecae42c2ba1b4b61c08">rfl::Email</a></div><div class="ttdeci">Pattern&lt; R&quot;(^[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}$)&quot;, &quot;Email&quot;&gt; Email</div><div class="ttdoc">This pattern will match email addresses.</div><div class="ttdef"><b>定义</b> patterns.hpp:17</div></div>
<div class="ttc" id="astructrfl_1_1_maximum_html"><div class="ttname"><a href="structrfl_1_1_maximum.html">rfl::Maximum</a></div><div class="ttdef"><b>定义</b> comparisons.hpp:84</div></div>
<div class="ttc" id="astructrfl_1_1_rename_html"><div class="ttname"><a href="structrfl_1_1_rename.html">rfl::Rename</a></div><div class="ttdef"><b>定义</b> Rename.hpp:19</div></div>
<div class="ttc" id="astructrfl_1_1_validator_html"><div class="ttname"><a href="structrfl_1_1_validator.html">rfl::Validator</a></div><div class="ttdef"><b>定义</b> Validator.hpp:17</div></div>
</div><!-- fragment --><p>This results in the following JSON string:</p>
<div class="fragment"><div class="line">{&quot;firstName&quot;:&quot;Homer&quot;,&quot;lastName&quot;:&quot;Simpson&quot;,&quot;town&quot;:&quot;Springfield&quot;,&quot;birthday&quot;:&quot;1987-04-19&quot;,&quot;age&quot;:45,&quot;email&quot;:&quot;homer@simpson.com&quot;,&quot;children&quot;:[{&quot;firstName&quot;:&quot;Bart&quot;,&quot;lastName&quot;:&quot;Simpson&quot;,&quot;town&quot;:&quot;Springfield&quot;,&quot;birthday&quot;:&quot;1987-04-19&quot;,&quot;age&quot;:10,&quot;email&quot;:&quot;bart@simpson.com&quot;,&quot;children&quot;:[]},{&quot;firstName&quot;:&quot;Lisa&quot;,&quot;lastName&quot;:&quot;Simpson&quot;,&quot;town&quot;:&quot;Springfield&quot;,&quot;birthday&quot;:&quot;1987-04-19&quot;,&quot;age&quot;:8,&quot;email&quot;:&quot;lisa@simpson.com&quot;,&quot;children&quot;:[]},{&quot;firstName&quot;:&quot;Maggie&quot;,&quot;lastName&quot;:&quot;Simpson&quot;,&quot;town&quot;:&quot;Springfield&quot;,&quot;birthday&quot;:&quot;1987-04-19&quot;,&quot;age&quot;:0,&quot;email&quot;:&quot;maggie@simpson.com&quot;,&quot;children&quot;:[]}]}</div>
</div><!-- fragment --><p>We can also create structs from the string:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> homer2 = <a class="code hl_function" href="namespacerfl_1_1json.html#a905573518eca04a9c269d1bb32de7dd1">rfl::json::read&lt;Person&gt;</a>(json_string).value();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fields can be accessed like this:</span></div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Hello, my name is &quot;</span> &lt;&lt; homer.first_name() &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line">          &lt;&lt; homer.last_name() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Since homer2 is mutable, we can also change the values like this:</span></div>
<div class="line">homer2.first_name = <span class="stringliteral">&quot;Marge&quot;</span>;</div>
<div class="line"> </div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Hello, my name is &quot;</span> &lt;&lt; homer2.first_name() &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line">          &lt;&lt; homer2.last_name() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md720"></a>
Error messages</h2>
<p>reflect-cpp returns clear and comprehensive error messages:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> std::string faulty_json_string =</div>
<div class="line">    R<span class="stringliteral">&quot;({&quot;firstName&quot;:&quot;Homer&quot;,&quot;lastName&quot;:12345,&quot;town&quot;:&quot;Springfield&quot;,&quot;birthday&quot;:&quot;04/19/1987&quot;,&quot;age&quot;:145,&quot;email&quot;:&quot;homer(at)simpson.com&quot;})&quot;;</span></div>
<div class="line"><span class="stringliteral"></span><span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#aa7f56a70231ed8bc64f97aa7c37fcb19">result</a> = <a class="code hl_function" href="namespacerfl_1_1json.html#a905573518eca04a9c269d1bb32de7dd1">rfl::json::read&lt;Person&gt;</a>(faulty_json_string);</div>
<div class="ttc" id="aimgui__impl__opengl3__loader_8h_html_aa7f56a70231ed8bc64f97aa7c37fcb19"><div class="ttname"><a href="imgui__impl__opengl3__loader_8h.html#aa7f56a70231ed8bc64f97aa7c37fcb19">result</a></div><div class="ttdeci">GLuint GLuint64EXT * result</div><div class="ttdef"><b>定义</b> imgui_impl_opengl3_loader.h:446</div></div>
</div><!-- fragment --><p>Yields the following error message:</p>
<div class="fragment"><div class="line">Found 5 errors:</div>
<div class="line">1) Failed to parse field &#39;lastName&#39;: Could not cast to string.</div>
<div class="line">2) Failed to parse field &#39;birthday&#39;: String &#39;04/19/1987&#39; did not match format &#39;%Y-%m-%d&#39;.</div>
<div class="line">3) Failed to parse field &#39;age&#39;: Value expected to be less than or equal to 130, but got 145.</div>
<div class="line">4) Failed to parse field &#39;email&#39;: String &#39;homer(at)simpson.com&#39; did not match format &#39;Email&#39;: &#39;^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$&#39;.</div>
<div class="line">5) Field named &#39;children&#39; not found.</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md721"></a>
JSON schema</h2>
<p>reflect-cpp also supports generating JSON schemata:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>Person {</div>
<div class="line">  std::string first_name;</div>
<div class="line">  std::string last_name;</div>
<div class="line">  <a class="code hl_struct" href="structrfl_1_1_description.html">rfl::Description</a>&lt;<span class="stringliteral">&quot;Must be a proper email in the form xxx@xxx.xxx.&quot;</span>,</div>
<div class="line">                   <a class="code hl_typedef" href="namespacerfl.html#a12c736fb0b0b2ecae42c2ba1b4b61c08">rfl::Email</a>&gt;</div>
<div class="line">      email;</div>
<div class="line">  <a class="code hl_struct" href="structrfl_1_1_description.html">rfl::Description</a>&lt;</div>
<div class="line">      <span class="stringliteral">&quot;The person&#39;s children. Pass an empty array for no children.&quot;</span>,</div>
<div class="line">      std::vector&lt;Person&gt;&gt;</div>
<div class="line">      children;</div>
<div class="line">  <span class="keywordtype">float</span> salary;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> std::string json_schema = <a class="code hl_function" href="namespacerfl_1_1json.html#a88db200032568f881dc57ded6b138608">rfl::json::to_schema&lt;Person&gt;</a>();</div>
<div class="ttc" id="anamespacerfl_1_1json_html_a88db200032568f881dc57ded6b138608"><div class="ttname"><a href="namespacerfl_1_1json.html#a88db200032568f881dc57ded6b138608">rfl::json::to_schema</a></div><div class="ttdeci">std::string to_schema(const yyjson_write_flag _flag=0)</div><div class="ttdoc">Returns the JSON schema for a class.</div><div class="ttdef"><b>定义</b> to_schema.hpp:42</div></div>
<div class="ttc" id="astructrfl_1_1_description_html"><div class="ttname"><a href="structrfl_1_1_description.html">rfl::Description</a></div><div class="ttdef"><b>定义</b> Description.hpp:19</div></div>
</div><!-- fragment --><p>The resulting JSON schema looks like this:</p>
<div class="fragment"><div class="line">{&quot;$schema&quot;:&quot;https://json-schema.org/draft/2020-12/schema&quot;,&quot;$ref&quot;:&quot;#/definitions/Person&quot;,&quot;definitions&quot;:{&quot;Person&quot;:{&quot;type&quot;:&quot;object&quot;,&quot;properties&quot;:{&quot;children&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;description&quot;:&quot;The person&#39;s children. Pass an empty array for no children.&quot;,&quot;items&quot;:{&quot;$ref&quot;:&quot;#/definitions/Person&quot;}},&quot;email&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;description&quot;:&quot;Must be a proper email in the form xxx@xxx.xxx.&quot;,&quot;pattern&quot;:&quot;^[a-zA-Z0-9._%+\\-]+@[a-zA-Z0-9.\\-]+\\.[a-zA-Z]{2,}$&quot;},&quot;first_name&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;last_name&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;salary&quot;:{&quot;type&quot;:&quot;number&quot;}},&quot;required&quot;:[&quot;children&quot;,&quot;email&quot;,&quot;first_name&quot;,&quot;last_name&quot;,&quot;salary&quot;]}}}</div>
</div><!-- fragment --><p>Note that this is currently supported for JSON only, since most other formats do not support schemata in the first place.</p>
<h2><a class="anchor" id="autotoc_md722"></a>
Enums</h2>
<p>reflect-cpp supports scoped enumerations:</p>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> Shape { circle, <a class="code hl_function" href="_array_cwise_unary_ops_8h.html#aa1e484838873e960b8c8ba7e066ba837">square</a>, rectangle };</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum class</span> <a class="code hl_enumeration" href="external_2magic__enum_2example_2example_8cpp.html#a692f5062ca261bdb3a62a63faddfd27f">Color</a> { <a class="code hl_enumvalue" href="runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2color_8h.html#a80d1dc5f416b97f92939a4166d41203cabda9643ac6601722a28f238714274da4">red</a> = 256, <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#aef30e4e3dccbffce99b7509d5366faef">green</a> = 512, <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#ab4fcc6ff520ae4d9de259c8468a5cd93">blue</a> = 1024, <a class="code hl_enumvalue" href="runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2color_8h.html#a80d1dc5f416b97f92939a4166d41203cad487dd0b55dfcacdd920ccbdaeafa351">yellow</a> = 2048 };</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>Item {</div>
<div class="line">  <span class="keywordtype">float</span> pos_x;</div>
<div class="line">  <span class="keywordtype">float</span> pos_y;</div>
<div class="line">  Shape shape;</div>
<div class="line">  <a class="code hl_enumeration" href="external_2magic__enum_2example_2example_8cpp.html#a692f5062ca261bdb3a62a63faddfd27f">Color</a> <a class="code hl_struct" href="structcolor.html">color</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> item = Item{.pos_x = 2.0,  </div>
<div class="line">                       .pos_y = 3.0,</div>
<div class="line">                       .shape = Shape::square,</div>
<div class="line">                       .color = Color::red | Color::blue};</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="namespacerfl_1_1json.html#af39a23539424555b8c970d12a58e547f">rfl::json::write</a>(item);</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_aa1e484838873e960b8c8ba7e066ba837"><div class="ttname"><a href="_array_cwise_unary_ops_8h.html#aa1e484838873e960b8c8ba7e066ba837">square</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SquareReturnType square() const</div><div class="ttdef"><b>定义</b> ArrayCwiseUnaryOps.h:346</div></div>
<div class="ttc" id="aexternal_2magic__enum_2example_2example_8cpp_html_a692f5062ca261bdb3a62a63faddfd27f"><div class="ttname"><a href="external_2magic__enum_2example_2example_8cpp.html#a692f5062ca261bdb3a62a63faddfd27f">Color</a></div><div class="ttdeci">Color</div><div class="ttdef"><b>定义</b> example.cpp:28</div></div>
<div class="ttc" id="aimgui__impl__opengl3__loader_8h_html_ab4fcc6ff520ae4d9de259c8468a5cd93"><div class="ttname"><a href="imgui__impl__opengl3__loader_8h.html#ab4fcc6ff520ae4d9de259c8468a5cd93">blue</a></div><div class="ttdeci">GLfloat GLfloat blue</div><div class="ttdef"><b>定义</b> imgui_impl_opengl3_loader.h:192</div></div>
<div class="ttc" id="aimgui__impl__opengl3__loader_8h_html_aef30e4e3dccbffce99b7509d5366faef"><div class="ttname"><a href="imgui__impl__opengl3__loader_8h.html#aef30e4e3dccbffce99b7509d5366faef">green</a></div><div class="ttdeci">GLfloat green</div><div class="ttdef"><b>定义</b> imgui_impl_opengl3_loader.h:192</div></div>
<div class="ttc" id="aruntime_2spdlog_2include_2spdlog_2fmt_2bundled_2color_8h_html_a80d1dc5f416b97f92939a4166d41203cabda9643ac6601722a28f238714274da4"><div class="ttname"><a href="runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2color_8h.html#a80d1dc5f416b97f92939a4166d41203cabda9643ac6601722a28f238714274da4">color::red</a></div><div class="ttdeci">@ red</div><div class="ttdef"><b>定义</b> color.h:131</div></div>
<div class="ttc" id="aruntime_2spdlog_2include_2spdlog_2fmt_2bundled_2color_8h_html_a80d1dc5f416b97f92939a4166d41203cad487dd0b55dfcacdd920ccbdaeafa351"><div class="ttname"><a href="runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2color_8h.html#a80d1dc5f416b97f92939a4166d41203cad487dd0b55dfcacdd920ccbdaeafa351">color::yellow</a></div><div class="ttdeci">@ yellow</div><div class="ttdef"><b>定义</b> color.h:156</div></div>
<div class="ttc" id="astructcolor_html"><div class="ttname"><a href="structcolor.html">color</a></div><div class="ttdef"><b>定义</b> types.h:105</div></div>
</div><!-- fragment --><p>This results in the following JSON string:</p>
<div class="fragment"><div class="line">{&quot;pos_x&quot;:2.0,&quot;pos_y&quot;:3.0,&quot;shape&quot;:&quot;square&quot;,&quot;color&quot;:&quot;red|blue&quot;}</div>
</div><!-- fragment --><p>You can also directly convert between enumerator values and strings with <code><a class="el" href="namespacerfl.html#a41b4390798709a48210689d0f7e94e30">rfl::enum_to_string()</a></code> and <code><a class="el" href="namespacerfl.html#aa726030311286ff78fb683688312747a">rfl::string_to_enum()</a></code>, or obtain list of enumerator name and value pairs with <code><a class="el" href="namespacerfl.html#ab4b348f6c5ab4777fc4b8c4041173921">rfl::get_enumerators</a>&lt;EnumType&gt;()</code> or <code><a class="el" href="namespacerfl.html#a6f93e733506dbf340e0cd1ba17c29072">rfl::get_enumerator_array</a>&lt;EnumType&gt;()</code>.</p>
<h2><a class="anchor" id="autotoc_md723"></a>
Algebraic data types</h2>
<p>reflect-cpp supports Pydantic-style tagged unions, which allow you to form algebraic data types:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>Circle {</div>
<div class="line">    <span class="keywordtype">double</span> radius;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>Rectangle {</div>
<div class="line">    <span class="keywordtype">double</span> <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#a31d490b16f4b63c2afa4c7198ef2c31e">height</a>;</div>
<div class="line">    <span class="keywordtype">double</span> <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#a4c3bd78046e1e69b575cace337a4a9a3">width</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>Square {</div>
<div class="line">    <span class="keywordtype">double</span> <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#a4c3bd78046e1e69b575cace337a4a9a3">width</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">using </span><a class="code hl_typedef" href="namespacetest__field__variant.html#afd8bf28fb645386345e74b945ec0fbf6">Shapes</a> = <a class="code hl_struct" href="structrfl_1_1_tagged_union.html">rfl::TaggedUnion</a>&lt;<span class="stringliteral">&quot;shape&quot;</span>, Circle, Square, Rectangle&gt;;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <a class="code hl_typedef" href="namespacetest__field__variant.html#afd8bf28fb645386345e74b945ec0fbf6">Shapes</a> <a class="code hl_variable" href="offscreen_8c.html#a4788d82c901b9367dd5c0daff8a7616b">r</a> = Rectangle{.height = 10, .width = 5};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> json_string = <a class="code hl_function" href="namespacerfl_1_1json.html#af39a23539424555b8c970d12a58e547f">rfl::json::write</a>(<a class="code hl_variable" href="offscreen_8c.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>);</div>
<div class="ttc" id="aimgui__impl__opengl3__loader_8h_html_a31d490b16f4b63c2afa4c7198ef2c31e"><div class="ttname"><a href="imgui__impl__opengl3__loader_8h.html#a31d490b16f4b63c2afa4c7198ef2c31e">height</a></div><div class="ttdeci">GLint GLsizei GLsizei height</div><div class="ttdef"><b>定义</b> imgui_impl_opengl3_loader.h:188</div></div>
<div class="ttc" id="aimgui__impl__opengl3__loader_8h_html_a4c3bd78046e1e69b575cace337a4a9a3"><div class="ttname"><a href="imgui__impl__opengl3__loader_8h.html#a4c3bd78046e1e69b575cace337a4a9a3">width</a></div><div class="ttdeci">GLint GLsizei width</div><div class="ttdef"><b>定义</b> imgui_impl_opengl3_loader.h:188</div></div>
<div class="ttc" id="anamespacetest__field__variant_html_afd8bf28fb645386345e74b945ec0fbf6"><div class="ttname"><a href="namespacetest__field__variant.html#afd8bf28fb645386345e74b945ec0fbf6">test_field_variant::Shapes</a></div><div class="ttdeci">rfl::Variant&lt; rfl::Field&lt;&quot;circle&quot;, Circle &gt;, rfl::Field&lt;&quot;rectangle&quot;, Rectangle &gt;, rfl::Field&lt;&quot;square&quot;, rfl::Box&lt; Square &gt; &gt; &gt; Shapes</div><div class="ttdef"><b>定义</b> test_field_variant.cpp:24</div></div>
<div class="ttc" id="aoffscreen_8c_html_a4788d82c901b9367dd5c0daff8a7616b"><div class="ttname"><a href="offscreen_8c.html#a4788d82c901b9367dd5c0daff8a7616b">r</a></div><div class="ttdeci">float r</div><div class="ttdef"><b>定义</b> offscreen.c:42</div></div>
<div class="ttc" id="astructrfl_1_1_tagged_union_html"><div class="ttname"><a href="structrfl_1_1_tagged_union.html">rfl::TaggedUnion</a></div><div class="ttdef"><b>定义</b> TaggedUnion.hpp:14</div></div>
</div><!-- fragment --><p>This results in the following JSON string:</p>
<div class="fragment"><div class="line">{&quot;shape&quot;:&quot;Rectangle&quot;,&quot;height&quot;:10.0,&quot;width&quot;:5.0}</div>
</div><!-- fragment --><p>Other forms of tagging are supported as well. Refer to the <a href="https://rfl.getml.com/docs-readme">documentation</a> for details.</p>
<h2><a class="anchor" id="autotoc_md724"></a>
Extra fields</h2>
<p>If you don't know all of your fields at compile time, no problem. Just use <code><a class="el" href="classrfl_1_1_extra_fields.html">rfl::ExtraFields</a></code>:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>Person {</div>
<div class="line">  std::string first_name;</div>
<div class="line">  std::string last_name = <span class="stringliteral">&quot;Simpson&quot;</span>;</div>
<div class="line">  <a class="code hl_class" href="classrfl_1_1_extra_fields.html">rfl::ExtraFields&lt;rfl::Generic&gt;</a> extra_fields;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> homer = Person{.first_name = <span class="stringliteral">&quot;Homer&quot;</span>};</div>
<div class="line"> </div>
<div class="line">homer.extra_fields[<span class="stringliteral">&quot;age&quot;</span>] = 45;</div>
<div class="line">homer.extra_fields[<span class="stringliteral">&quot;email&quot;</span>] = <span class="stringliteral">&quot;homer@simpson.com&quot;</span>;</div>
<div class="line">homer.extra_fields[<span class="stringliteral">&quot;town&quot;</span>] = <span class="stringliteral">&quot;Springfield&quot;</span>;</div>
<div class="ttc" id="aclassrfl_1_1_extra_fields_html"><div class="ttname"><a href="classrfl_1_1_extra_fields.html">rfl::ExtraFields</a></div><div class="ttdef"><b>定义</b> ExtraFields.hpp:11</div></div>
</div><!-- fragment --><p>This results in the following JSON string:</p>
<div class="fragment"><div class="line">{&quot;firstName&quot;:&quot;Homer&quot;,&quot;lastName&quot;:&quot;Simpson&quot;,&quot;age&quot;:45,&quot;email&quot;:&quot;homer@simpson.com&quot;,&quot;town&quot;:&quot;Springfield&quot;}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md725"></a>
Reflective programming</h2>
<p>Beyond serialization and deserialization, reflect-cpp also supports reflective programming in general.</p>
<p>For instance:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>Person {</div>
<div class="line">  std::string first_name;</div>
<div class="line">  std::string last_name = <span class="stringliteral">&quot;Simpson&quot;</span>;</div>
<div class="line">  std::string town = <span class="stringliteral">&quot;Springfield&quot;</span>;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> age;</div>
<div class="line">  std::vector&lt;Person&gt; children;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_function" href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a> : <a class="code hl_function" href="namespacerfl.html#a1405c13db27d8b25aca3f538390890a1">rfl::fields&lt;Person&gt;</a>()) {</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;name: &quot;</span> &lt;&lt; <a class="code hl_function" href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a>.name() &lt;&lt; <span class="stringliteral">&quot;, type: &quot;</span> &lt;&lt; <a class="code hl_function" href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a>.type() &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="acxx11__tensor__map_8cpp_html_a7f507fea02198f6cb81c86640c7b1a4e"><div class="ttname"><a href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a></div><div class="ttdeci">static int f(const TensorMap&lt; Tensor&lt; int, 3 &gt; &gt; &amp;tensor)</div><div class="ttdef"><b>定义</b> cxx11_tensor_map.cpp:238</div></div>
<div class="ttc" id="anamespacerfl_html_a1405c13db27d8b25aca3f538390890a1"><div class="ttname"><a href="namespacerfl.html#a1405c13db27d8b25aca3f538390890a1">rfl::fields</a></div><div class="ttdeci">auto fields()</div><div class="ttdoc">Returns meta-information about the fields.</div><div class="ttdef"><b>定义</b> fields.hpp:11</div></div>
</div><!-- fragment --><p>You can also create a view and then access these fields using <code><a class="el" href="namespacestd.html#aae41d8280b7ccc3f0e0a0be2dab21c8f" title="Gets an element by index.">std::get</a></code> or <code><a class="el" href="namespacerfl.html#ac379420409251e5a3c0bea4a701daf0a" title="Gets a field by index.">rfl::get</a></code>, or iterate over the fields at compile-time:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> lisa = Person{.first_name = <span class="stringliteral">&quot;Lisa&quot;</span>, .last_name = <span class="stringliteral">&quot;Simpson&quot;</span>, .age = 8};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="gnuplot__common__settings_8hh.html#a59282150228df4e42afd9a0010e45183">view</a> = <a class="code hl_function" href="namespacerfl.html#a6d13127a52ba17e9fb281ddb39b5f220">rfl::to_view</a>(lisa);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// view.values() is a std::tuple containing</span></div>
<div class="line"><span class="comment">// pointers to the original fields.</span></div>
<div class="line"><span class="comment">// This will modify the struct `lisa`:</span></div>
<div class="line">*<a class="code hl_function" href="namespacestd.html#aae41d8280b7ccc3f0e0a0be2dab21c8f">std::get&lt;0&gt;</a>(<a class="code hl_variable" href="gnuplot__common__settings_8hh.html#a59282150228df4e42afd9a0010e45183">view</a>.values()) = <span class="stringliteral">&quot;Maggie&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// All of this is supported as well:</span></div>
<div class="line">*<a class="code hl_variable" href="gnuplot__common__settings_8hh.html#a59282150228df4e42afd9a0010e45183">view</a>.get&lt;1&gt;() = <span class="stringliteral">&quot;Simpson&quot;</span>;</div>
<div class="line">*<a class="code hl_variable" href="gnuplot__common__settings_8hh.html#a59282150228df4e42afd9a0010e45183">view</a>.get&lt;<span class="stringliteral">&quot;age&quot;</span>&gt;() = 0;</div>
<div class="line">*<a class="code hl_function" href="namespacerfl.html#ac379420409251e5a3c0bea4a701daf0a">rfl::get&lt;0&gt;</a>(<a class="code hl_variable" href="gnuplot__common__settings_8hh.html#a59282150228df4e42afd9a0010e45183">view</a>) = <span class="stringliteral">&quot;Maggie&quot;</span>;</div>
<div class="line">*<a class="code hl_function" href="namespacerfl.html#ac379420409251e5a3c0bea4a701daf0a">rfl::get</a>&lt;<span class="stringliteral">&quot;first_name&quot;</span>&gt;(<a class="code hl_variable" href="gnuplot__common__settings_8hh.html#a59282150228df4e42afd9a0010e45183">view</a>) = <span class="stringliteral">&quot;Maggie&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_variable" href="gnuplot__common__settings_8hh.html#a59282150228df4e42afd9a0010e45183">view</a>.apply([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_function" href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a>) {</div>
<div class="line">  <span class="comment">// f is an rfl::Field pointing to the original field.</span></div>
<div class="line">  std::cout &lt;&lt; <a class="code hl_function" href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a>.name() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacerfl_1_1json.html#af39a23539424555b8c970d12a58e547f">rfl::json::write</a>(*<a class="code hl_function" href="cxx11__tensor__map_8cpp.html#a7f507fea02198f6cb81c86640c7b1a4e">f</a>.value()) &lt;&lt; std::endl;</div>
<div class="line">});</div>
<div class="ttc" id="agnuplot__common__settings_8hh_html_a59282150228df4e42afd9a0010e45183"><div class="ttname"><a href="gnuplot__common__settings_8hh.html#a59282150228df4e42afd9a0010e45183">view</a></div><div class="ttdeci">set noclip points set clip one set noclip two set bar set border lt lw set xdata set ydata set zdata set x2data set y2data set boxwidth set dummy y set format x g set format y g set format x2 g set format y2 g set format z g set angles radians set nogrid set key title set key left top Right noreverse box linetype linewidth samplen spacing width set nolabel set noarrow set nologscale set logscale x set set pointsize set encoding default set nopolar set noparametric set view</div><div class="ttdef"><b>定义</b> gnuplot_common_settings.hh:27</div></div>
<div class="ttc" id="anamespacerfl_html_a6d13127a52ba17e9fb281ddb39b5f220"><div class="ttname"><a href="namespacerfl.html#a6d13127a52ba17e9fb281ddb39b5f220">rfl::to_view</a></div><div class="ttdeci">auto to_view(T &amp;_t)</div><div class="ttdef"><b>定义</b> to_view.hpp:14</div></div>
<div class="ttc" id="anamespacerfl_html_ac379420409251e5a3c0bea4a701daf0a"><div class="ttname"><a href="namespacerfl.html#ac379420409251e5a3c0bea4a701daf0a">rfl::get</a></div><div class="ttdeci">auto &amp; get(NamedTupleType &amp;_tup)</div><div class="ttdoc">Gets a field by index.</div><div class="ttdef"><b>定义</b> get.hpp:11</div></div>
<div class="ttc" id="anamespacestd_html_aae41d8280b7ccc3f0e0a0be2dab21c8f"><div class="ttname"><a href="namespacestd.html#aae41d8280b7ccc3f0e0a0be2dab21c8f">std::get</a></div><div class="ttdeci">constexpr auto &amp; get(rfl::Tuple&lt; Types... &gt; &amp;_tup)</div><div class="ttdoc">Gets an element by index.</div><div class="ttdef"><b>定义</b> Tuple.hpp:264</div></div>
</div><!-- fragment --><p>It also possible to replace fields:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>Person {</div>
<div class="line">  std::string first_name;</div>
<div class="line">  std::string last_name;</div>
<div class="line">  std::vector&lt;Person&gt; children;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> lisa = Person{.first_name = <span class="stringliteral">&quot;Lisa&quot;</span>, .last_name = <span class="stringliteral">&quot;Simpson&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Returns a deep copy of &quot;lisa&quot; with the first_name replaced.</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> maggie = <a class="code hl_function" href="namespacerfl.html#ac4bd3c990469707252d797a9d81a3680">rfl::replace</a>(</div>
<div class="line">    lisa, <a class="code hl_function" href="namespacerfl.html#afb5f68a22d5b6a42a5b4477c35559ce9">rfl::make_field&lt;&quot;first_name&quot;&gt;</a>(std::string(<span class="stringliteral">&quot;Maggie&quot;</span>)));</div>
<div class="ttc" id="anamespacerfl_html_ac4bd3c990469707252d797a9d81a3680"><div class="ttname"><a href="namespacerfl.html#ac4bd3c990469707252d797a9d81a3680">rfl::replace</a></div><div class="ttdeci">auto replace(T &amp;&amp;_t, RField &amp;&amp;_field, OtherRFields &amp;&amp;... _other_fields)</div><div class="ttdef"><b>定义</b> replace.hpp:13</div></div>
<div class="ttc" id="anamespacerfl_html_afb5f68a22d5b6a42a5b4477c35559ce9"><div class="ttname"><a href="namespacerfl.html#afb5f68a22d5b6a42a5b4477c35559ce9">rfl::make_field</a></div><div class="ttdeci">auto make_field(T &amp;&amp;_value)</div><div class="ttdef"><b>定义</b> Field.hpp:143</div></div>
</div><!-- fragment --><p>Or you can create structs from other structs:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_typedef" href="bench__gemm_8cpp.html#addc86e8508f14411ec98f521c520f875">A</a> {</div>
<div class="line">  std::string <a class="code hl_function" href="parallel__graph__pipeline_8cpp.html#a20ea9116f00e19915f910ca726f7518f">f1</a>;</div>
<div class="line">  std::string <a class="code hl_function" href="parallel__graph__pipeline_8cpp.html#a894124d17350678007462a79ecc7eb36">f2</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_typedef" href="bench__gemm_8cpp.html#a37a83060ac796961b44991c836f083f7">B</a> {</div>
<div class="line">  std::string <a class="code hl_function" href="parallel__graph__pipeline_8cpp.html#a4e249d464ae215ce0d4d53e0b369ab98">f3</a>;</div>
<div class="line">  std::string f4;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_define" href="test__buffer__node_8cpp.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a> {</div>
<div class="line">  std::string <a class="code hl_function" href="parallel__graph__pipeline_8cpp.html#a20ea9116f00e19915f910ca726f7518f">f1</a>;</div>
<div class="line">  std::string <a class="code hl_function" href="parallel__graph__pipeline_8cpp.html#a894124d17350678007462a79ecc7eb36">f2</a>;</div>
<div class="line">  std::string f4;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="_cwise__product_8cpp.html#ad2cbe4616e813eb9af81732dca777b24">a</a> = <a class="code hl_typedef" href="bench__gemm_8cpp.html#addc86e8508f14411ec98f521c520f875">A</a>{.f1 = <span class="stringliteral">&quot;Hello&quot;</span>, .f2 = <span class="stringliteral">&quot;World&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="offscreen_8c.html#a846c9667e34d56c560bb7f0ac6e173f6">b</a> = <a class="code hl_typedef" href="bench__gemm_8cpp.html#a37a83060ac796961b44991c836f083f7">B</a>{.f3 = <span class="stringliteral">&quot;Hello&quot;</span>, .f4 = <span class="stringliteral">&quot;World&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// f1 and f2 are taken from a, f4 is taken from b, f3 is ignored.</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="bench_vec_add_8cpp.html#a41689956983587b085f9da3e48f31d99">c</a> = <a class="code hl_function" href="namespacerfl.html#a6ed469a6082d8180235db125c13fc410">rfl::as&lt;C&gt;</a>(<a class="code hl_variable" href="_cwise__product_8cpp.html#ad2cbe4616e813eb9af81732dca777b24">a</a>, <a class="code hl_variable" href="offscreen_8c.html#a846c9667e34d56c560bb7f0ac6e173f6">b</a>);</div>
<div class="ttc" id="a_cwise__product_8cpp_html_ad2cbe4616e813eb9af81732dca777b24"><div class="ttname"><a href="_cwise__product_8cpp.html#ad2cbe4616e813eb9af81732dca777b24">a</a></div><div class="ttdeci">Array33i a</div><div class="ttdef"><b>定义</b> Cwise_product.cpp:1</div></div>
<div class="ttc" id="abench__gemm_8cpp_html_a37a83060ac796961b44991c836f083f7"><div class="ttname"><a href="bench__gemm_8cpp.html#a37a83060ac796961b44991c836f083f7">B</a></div><div class="ttdeci">Matrix&lt; SCALARB, Dynamic, Dynamic &gt; B</div><div class="ttdef"><b>定义</b> bench_gemm.cpp:36</div></div>
<div class="ttc" id="abench__gemm_8cpp_html_addc86e8508f14411ec98f521c520f875"><div class="ttname"><a href="bench__gemm_8cpp.html#addc86e8508f14411ec98f521c520f875">A</a></div><div class="ttdeci">Matrix&lt; SCALARA, Dynamic, Dynamic &gt; A</div><div class="ttdef"><b>定义</b> bench_gemm.cpp:35</div></div>
<div class="ttc" id="abench_vec_add_8cpp_html_a41689956983587b085f9da3e48f31d99"><div class="ttname"><a href="bench_vec_add_8cpp.html#a41689956983587b085f9da3e48f31d99">c</a></div><div class="ttdeci">Scalar Scalar * c</div><div class="ttdef"><b>定义</b> benchVecAdd.cpp:17</div></div>
<div class="ttc" id="anamespacerfl_html_a6ed469a6082d8180235db125c13fc410"><div class="ttname"><a href="namespacerfl.html#a6ed469a6082d8180235db125c13fc410">rfl::as</a></div><div class="ttdeci">T as(Head &amp;&amp;_head, Tail &amp;&amp;... _tail)</div><div class="ttdoc">Generates a type T from the input values.</div><div class="ttdef"><b>定义</b> as.hpp:12</div></div>
<div class="ttc" id="aoffscreen_8c_html_a846c9667e34d56c560bb7f0ac6e173f6"><div class="ttname"><a href="offscreen_8c.html#a846c9667e34d56c560bb7f0ac6e173f6">b</a></div><div class="ttdeci">float b</div><div class="ttdef"><b>定义</b> offscreen.c:42</div></div>
<div class="ttc" id="aparallel__graph__pipeline_8cpp_html_a20ea9116f00e19915f910ca726f7518f"><div class="ttname"><a href="parallel__graph__pipeline_8cpp.html#a20ea9116f00e19915f910ca726f7518f">f1</a></div><div class="ttdeci">void f1(const std::string &amp;node)</div><div class="ttdef"><b>定义</b> parallel_graph_pipeline.cpp:8</div></div>
<div class="ttc" id="aparallel__graph__pipeline_8cpp_html_a4e249d464ae215ce0d4d53e0b369ab98"><div class="ttname"><a href="parallel__graph__pipeline_8cpp.html#a4e249d464ae215ce0d4d53e0b369ab98">f3</a></div><div class="ttdeci">void f3(const std::string &amp;node)</div><div class="ttdef"><b>定义</b> parallel_graph_pipeline.cpp:18</div></div>
<div class="ttc" id="aparallel__graph__pipeline_8cpp_html_a894124d17350678007462a79ecc7eb36"><div class="ttname"><a href="parallel__graph__pipeline_8cpp.html#a894124d17350678007462a79ecc7eb36">f2</a></div><div class="ttdeci">void f2(const std::string &amp;node)</div><div class="ttdef"><b>定义</b> parallel_graph_pipeline.cpp:13</div></div>
<div class="ttc" id="atest__buffer__node_8cpp_html_ac4cf4b2ab929bd23951a8676eeac086b"><div class="ttname"><a href="test__buffer__node_8cpp.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a></div><div class="ttdeci">#define C</div><div class="ttdef"><b>定义</b> test_buffer_node.cpp:28</div></div>
</div><!-- fragment --><p>You can also replace fields in structs using fields from other structs:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="_cwise__product_8cpp.html#ad2cbe4616e813eb9af81732dca777b24">a</a> = <a class="code hl_typedef" href="bench__gemm_8cpp.html#addc86e8508f14411ec98f521c520f875">A</a>{.f1 = <span class="stringliteral">&quot;Hello&quot;</span>, .f2 = <span class="stringliteral">&quot;World&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="bench_vec_add_8cpp.html#a41689956983587b085f9da3e48f31d99">c</a> = <a class="code hl_define" href="test__buffer__node_8cpp.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>{.f1 = <span class="stringliteral">&quot;C++&quot;</span>, .f2 = <span class="stringliteral">&quot;is&quot;</span>, .f4 = <span class="stringliteral">&quot;great&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// The fields f1 and f2 are replaced with the fields f1 and f2 in a.</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> c2 = <a class="code hl_function" href="namespacerfl.html#ac4bd3c990469707252d797a9d81a3680">rfl::replace</a>(<a class="code hl_variable" href="bench_vec_add_8cpp.html#a41689956983587b085f9da3e48f31d99">c</a>, <a class="code hl_variable" href="_cwise__product_8cpp.html#ad2cbe4616e813eb9af81732dca777b24">a</a>);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md726"></a>
Support for containers</h2>
<h3><a class="anchor" id="autotoc_md727"></a>
C++ standard library</h3>
<p>reflect-cpp supports the following containers from the C++ standard library:</p>
<ul>
<li><code>std::array</code></li>
<li><code>std::deque</code></li>
<li><code>std::filesystem::path</code></li>
<li><code>std::forward_list</code></li>
<li><code>std::map</code></li>
<li><code>std::multimap</code></li>
<li><code>std::multiset</code></li>
<li><code>std::list</code></li>
<li><code>std::optional</code></li>
<li><code>std::pair</code></li>
<li><code>std::set</code></li>
<li><code>std::shared_ptr</code></li>
<li><code>std::string</code></li>
<li><code>std::tuple</code></li>
<li><code>std::unique_ptr</code></li>
<li><code>std::unordered_map</code></li>
<li><code>std::unordered_multimap</code></li>
<li><code>std::unordered_multiset</code></li>
<li><code>std::unordered_set</code></li>
<li><code>std::variant</code></li>
<li><code>std::vector</code></li>
<li><code>std::wstring</code></li>
</ul>
<h3><a class="anchor" id="autotoc_md728"></a>
Additional containers</h3>
<p>In addition, it supports the following custom containers:</p>
<ul>
<li><code><a class="el" href="structrfl_1_1_binary.html" title="Used to define a field in the NamedTuple.">rfl::Binary</a></code>: Used to express numbers in binary format.</li>
<li><code><a class="el" href="classrfl_1_1_box.html">rfl::Box</a></code>: Similar to <code>std::unique_ptr</code>, but (almost) guaranteed to never be null.</li>
<li><code><a class="el" href="namespacerfl.html#ae134e12037ae435ba35e99a44abfb9d8">rfl::Bytestring</a></code>: An alias for <code>std::vector&lt;std::byte&gt;</code>. Supported by Avro, BSON, Cap'n <a class="el" href="ff__network_8hpp.html#a935ab6746fea268e5bb60a8755bc3c1e">Proto</a>, CBOR, flexbuffers, msgpack and UBJSON.</li>
<li><code><a class="el" href="classrfl_1_1_generic.html">rfl::Generic</a></code>: <a class="el" href="bench__gemm_8cpp.html#addc86e8508f14411ec98f521c520f875">A</a> catch-all type that can represent (almost) anything.</li>
<li><code><a class="el" href="structrfl_1_1_hex.html" title="Used to define a field in the NamedTuple.">rfl::Hex</a></code>: Used to express numbers in hex format.</li>
<li><code><a class="el" href="classrfl_1_1_literal.html">rfl::Literal</a></code>: An explicitly enumerated string.</li>
<li><code><a class="el" href="classrfl_1_1_named_tuple.html">rfl::NamedTuple</a></code>: Similar to <code>std::tuple</code>, but with named fields that can be retrieved via their name at compile time.</li>
<li><code><a class="el" href="classrfl_1_1_object.html">rfl::Object</a></code>: <a class="el" href="bench__gemm_8cpp.html#addc86e8508f14411ec98f521c520f875">A</a> map-like type representing a object with field names that are unknown at compile time.</li>
<li><code><a class="el" href="structrfl_1_1_oct.html" title="Used to define a field in the NamedTuple.">rfl::Oct</a></code>: Used to express numbers in octal format.</li>
<li><code><a class="el" href="classrfl_1_1_ref.html">rfl::Ref</a></code>: Similar to <code>std::shared_ptr</code>, but (almost) guaranteed to never be null.</li>
<li><code><a class="el" href="classrfl_1_1_result.html" title="The Result class is used for monadic error handling.">rfl::Result</a></code>: Allows for exception-free programming.</li>
<li><code><a class="el" href="structrfl_1_1_tagged_union.html">rfl::TaggedUnion</a></code>: Similar to <code>std::variant</code>, but with explicit tags that make parsing more efficient.</li>
<li><code><a class="el" href="classrfl_1_1_tuple.html">rfl::Tuple</a></code>: An alternative to <code>std::tuple</code> that compiles considerably faster.</li>
<li><code><a class="el" href="structrfl_1_1_validator.html">rfl::Validator</a></code>: Allows for automatic input validation.</li>
<li><code><a class="el" href="classrfl_1_1_variant.html">rfl::Variant</a></code>: An alternative to <code>std::variant</code> that compiles considerably faster.</li>
</ul>
<h3><a class="anchor" id="autotoc_md729"></a>
Custom classes</h3>
<p>Finally, it is very easy to extend full support to your own classes, refer to the <a href="https://rfl.getml.com/docs-readme">documentation</a> for details.</p>
<h1><a class="anchor" id="autotoc_md730"></a>
Installation</h1>
<p>The following compilers are supported:</p><ul>
<li>GCC 11.4 or higher</li>
<li>Clang 14.0 or higher</li>
<li>MSVC 17.8 (19.38) or higher</li>
</ul>
<h2><a class="anchor" id="autotoc_md731"></a>
Using vcpkg</h2>
<p><a href="https://vcpkg.io/en/package/reflectcpp">https://vcpkg.io/en/package/reflectcpp</a></p>
<h2><a class="anchor" id="autotoc_md732"></a>
Using Conan</h2>
<p><a href="https://conan.io/center/recipes/reflect-cpp">https://conan.io/center/recipes/reflect-cpp</a></p>
<h2><a class="anchor" id="autotoc_md733"></a>
Compilation using cmake</h2>
<p>This will compile reflect-cpp with JSON support only. You can then include reflect-cpp in your project and link to the binary.</p>
<div class="fragment"><div class="line">cmake -S . -B build -DCMAKE_CXX_STANDARD=20 -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">cmake --build build -j 4  # gcc, clang</div>
<div class="line">cmake --build build --config Release -j 4  # MSVC</div>
</div><!-- fragment --><p>If you need support for any other supported serialization formats, refer to the <a href="https://rfl.getml.com/docs-readme">documentation</a> for installation instructions.</p>
<p>You can also <a href="https://rfl.getml.com/install/#option-1-include-source-files-into-your-own-build">include the source files</a> into your build or compile it using <a href="https://rfl.getml.com/install/#option-3-compilation-using-cmake-and-vcpkg">cmake and vcpkg.</a> For detailed installation instructions, please refer to the <a href="https://rfl.getml.com/install">install guide</a>.</p>
<h1><a class="anchor" id="autotoc_md734"></a>
The team behind reflect-cpp</h1>
<p>reflect-cpp has been developed by <a href="https://getml.com">getML (Code17 GmbH)</a>, a company specializing in software engineering and machine learning for enterprise applications. reflect-cpp is currently maintained by Patrick Urbanke and Manuel Bellersen, with major contributions coming from the community.</p>
<h2><a class="anchor" id="autotoc_md735"></a>
Related projects</h2>
<p>reflect-cpp was originally developed for <a href="https://github.com/getml/getml-community">getml-community</a>, the fastest open-source tool for feature engineering on relational data and time series. If you are interested in <a class="el" href="class_data.html">Data</a> Science and/or Machine Learning, please check it out.</p>
<h2><a class="anchor" id="autotoc_md736"></a>
Professional C++ Support</h2>
<p>For comprehensive C++ support beyond the scope of GitHub discussions, we’re here to help! Reach out at <a href="#" onclick="location.href='mai'+'lto:'+'sup'+'po'+'rt%'+'40'+'get'+'ml'+'.co'+'m?'+'sub'+'je'+'ct='+'C+'+'+%2'+'0s'+'upp'+'or'+'t%2'+'0r'+'equ'+'es'+'t'; return false;">support@getml.com</a> to discuss any technical challenges or project requirements. We’re excited to support your work as independent software consultants.</p>
<h1><a class="anchor" id="autotoc_md737"></a>
License</h1>
<p>reflect-cpp is released under the MIT License. Refer to the LICENSE file for details.</p>
<p>reflect-cpp includes <a href="https://github.com/ibireme/yyjson">YYJSON</a>, the fastest JSON library currently in existence. YYJSON is written by YaoYuan and also released under the MIT License.</p>
<p>reflect-cpp includes <a href="https://github.com/hanickadot/compile-time-regular-expressions">compile-time-regular-expressions</a>. CTRE is written by Hana Dusíková and released under the Apache-2.0 License with LLVM exceptions. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_397d9aeee4af8edecac90968d93b57df.html">external</a></li><li class="navelem"><a class="el" href="dir_ec22af54b9d0dc12688f514bfd105c6b.html">reflect-cpp</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
