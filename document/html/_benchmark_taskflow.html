<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>source: Benchmark Taskflow</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">source
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_benchmark_taskflow.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Benchmark Taskflow</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>目录</h3>
<ul>
  <li class="level1">
    <a href="#CompileAndRunBenchmarks">Compile and Run Benchmarks</a>
  </li>
  <li class="level1">
    <a href="#ConfigureRunOptions">Configure Run Options</a>
    <ul>
      <li class="level2">
        <a href="#SpecifyTheRunModel">Specify the Run Model</a>
      </li>
      <li class="level2">
        <a href="#SpecifyTheNumberOfThreads">Specify the Number of Threads</a>
      </li>
      <li class="level2">
        <a href="#SpecifyTheNumberOfRounds">Specify the Number of Rounds</a>
      </li>
    </ul>
  </li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="CompileAndRunBenchmarks"></a>
Compile and Run Benchmarks</h1>
<p>To build the benchmark code, enable the CMake option <code>TF_BUILD_BENCHMARKS</code> to <code>ON</code> as follows:</p>
<div class="fragment"><div class="line">{.shell-session} </div>
<div class="line"><span class="preprocessor"># under /taskflow/build</span></div>
<div class="line">~$ <a class="code hl_function" href="cblat2_8f.html#a02c505d1046fe3c18a9f17c1f1dc6b51">cmake</a> ../ -DTF_BUILD_BENCHMARKS=ON</div>
<div class="line">~$ make</div>
<div class="ttc" id="acblat2_8f_html_a02c505d1046fe3c18a9f17c1f1dc6b51"><div class="ttname"><a href="cblat2_8f.html#a02c505d1046fe3c18a9f17c1f1dc6b51">cmake</a></div><div class="ttdeci">subroutine cmake(type, uplo, diag, m, n, a, nmax, aa, lda, kl, ku, reset, transl)</div><div class="ttdef"><b>定义</b> cblat2.f:2719</div></div>
</div><!-- fragment --><p>After you successfully build the benchmark code, you can find all benchmark instances in the <code>benchmarks/</code> folder. You can run the executable of each instance in the corresponding folder.</p>
<div class="fragment"><div class="line">{.shell-session} </div>
<div class="line">~$ cd <a class="code hl_namespace" href="namespacebenchmarks.html">benchmarks</a> &amp; ls</div>
<div class="line">bench_black_scholes bench_binary_tree bench_graph_traversal ...</div>
<div class="line">~$ ./bench_graph_traversal</div>
<div class="line">|<a class="code hl_variable" href="_eigen_solver___eigen_solver___matrix_type_8cpp.html#a77c224aa52b434918ce65c33175aa8ad">V</a>|+|<a class="code hl_define" href="sandbox_2strassen_2omp_8cpp.html#a4bfa035cad7c3258704669810cd5de5d">E</a>|     Runtime</div>
<div class="line">      2       0.197</div>
<div class="line">    842       0.198</div>
<div class="line">   3284       0.488</div>
<div class="line">   7288       0.774</div>
<div class="line">    ...         ...</div>
<div class="line">    ...         ...</div>
<div class="line"> 619802      75.135</div>
<div class="line"> 664771      77.436</div>
<div class="line"> 711200      83.957</div>
<div class="ttc" id="a_eigen_solver___eigen_solver___matrix_type_8cpp_html_a77c224aa52b434918ce65c33175aa8ad"><div class="ttname"><a href="_eigen_solver___eigen_solver___matrix_type_8cpp.html#a77c224aa52b434918ce65c33175aa8ad">V</a></div><div class="ttdeci">MatrixXcd V</div><div class="ttdef"><b>定义</b> EigenSolver_EigenSolver_MatrixType.cpp:15</div></div>
<div class="ttc" id="anamespacebenchmarks_html"><div class="ttname"><a href="namespacebenchmarks.html">benchmarks</a></div><div class="ttdef"><b>定义</b> benchmarks.py:1</div></div>
<div class="ttc" id="asandbox_2strassen_2omp_8cpp_html_a4bfa035cad7c3258704669810cd5de5d"><div class="ttname"><a href="sandbox_2strassen_2omp_8cpp.html#a4bfa035cad7c3258704669810cd5de5d">E</a></div><div class="ttdeci">#define E(Matrix)</div></div>
</div><!-- fragment --><p>You can display the help message by giving the option <code>--help</code>.</p>
<div class="fragment"><div class="line">{.shell-session} </div>
<div class="line">~$ ./bench_graph_traversal --<a class="code hl_function" href="runtime_2xx_hash_2tests_2bench_2main_8c.html#ac4face814e17650939f9b68ff35b2866">help</a></div>
<div class="line"><a class="code hl_class" href="class_graph.html">Graph</a> Traversal</div>
<div class="line"><a class="code hl_function" href="polymain_8cpp.html#a5b80af9316419761d9ee0e8fd53455fd">Usage</a>: ./bench_graph_traversal [OPTIONS]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  -<a class="code hl_variable" href="ittnotify__static_8h.html#ae68700d2ebda197674e2fdd0f916f00c">h</a>,--<a class="code hl_function" href="runtime_2xx_hash_2tests_2bench_2main_8c.html#ac4face814e17650939f9b68ff35b2866">help</a>                   Print <span class="keyword">this</span> <a class="code hl_function" href="runtime_2xx_hash_2tests_2bench_2main_8c.html#ac4face814e17650939f9b68ff35b2866">help</a> message and exit</div>
<div class="line">  -<a class="code hl_variable" href="boing_8c.html#a87accd1af8e0aff4b818d891374f7cec">t</a>,--num_threads <a class="code hl_typedef" href="test__malloc__compliance_8cpp.html#a36cb3b01d81ffd844bbbfb54003e06ec">UINT</a>       <a class="code hl_enumeration" href="test_8cpp.html#a8d6e50e84adba3fc984a0433cb254ea0">number</a> of threads (<span class="keywordflow">default</span>=1)</div>
<div class="line">  -<a class="code hl_variable" href="offscreen_8c.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>,--num_rounds <a class="code hl_typedef" href="test__malloc__compliance_8cpp.html#a36cb3b01d81ffd844bbbfb54003e06ec">UINT</a>        <a class="code hl_enumeration" href="test_8cpp.html#a8d6e50e84adba3fc984a0433cb254ea0">number</a> of <a class="code hl_variable" href="time__hash__map__fill_8cpp.html#ab951ebd61b5fff7fb5c4212d7fc63254">rounds</a> (<span class="keywordflow">default</span>=1)</div>
<div class="line">  -<a class="code hl_variable" href="_angle_axis__mimic__euler_8cpp.html#ab3cd915d758008bd19d0f2428fbb354a">m</a>,--model <a class="code hl_define" href="_core_types_8h.html#a2978f60d40d64f3605b5a99f66f292a9">TEXT</a>             model <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#aab18cfce5ee7c6881ae04f18be70d94a">name</a> <a class="code hl_namespace" href="namespacetbb.html">tbb</a>|omp|<a class="code hl_namespace" href="namespacetf.html">tf</a> (<span class="keywordflow">default</span>=<a class="code hl_namespace" href="namespacetf.html">tf</a>)</div>
<div class="ttc" id="a_angle_axis__mimic__euler_8cpp_html_ab3cd915d758008bd19d0f2428fbb354a"><div class="ttname"><a href="_angle_axis__mimic__euler_8cpp.html#ab3cd915d758008bd19d0f2428fbb354a">m</a></div><div class="ttdeci">Matrix3f m</div><div class="ttdef"><b>定义</b> AngleAxis_mimic_euler.cpp:1</div></div>
<div class="ttc" id="a_core_types_8h_html_a2978f60d40d64f3605b5a99f66f292a9"><div class="ttname"><a href="_core_types_8h.html#a2978f60d40d64f3605b5a99f66f292a9">TEXT</a></div><div class="ttdeci">#define TEXT(x)</div></div>
<div class="ttc" id="aboing_8c_html_a87accd1af8e0aff4b818d891374f7cec"><div class="ttname"><a href="boing_8c.html#a87accd1af8e0aff4b818d891374f7cec">t</a></div><div class="ttdeci">double t</div><div class="ttdef"><b>定义</b> boing.c:106</div></div>
<div class="ttc" id="aclass_graph_html"><div class="ttname"><a href="class_graph.html">Graph</a></div><div class="ttdoc">A directed graph where the vertices are Cells.</div><div class="ttdef"><b>定义</b> Graph.h:67</div></div>
<div class="ttc" id="aimgui__impl__opengl3__loader_8h_html_aab18cfce5ee7c6881ae04f18be70d94a"><div class="ttname"><a href="imgui__impl__opengl3__loader_8h.html#aab18cfce5ee7c6881ae04f18be70d94a">name</a></div><div class="ttdeci">const GLchar * name</div><div class="ttdef"><b>定义</b> imgui_impl_opengl3_loader.h:312</div></div>
<div class="ttc" id="aittnotify__static_8h_html_ae68700d2ebda197674e2fdd0f916f00c"><div class="ttname"><a href="ittnotify__static_8h.html#ae68700d2ebda197674e2fdd0f916f00c">h</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p void ITT_FORMAT p no args __itt_suppress_mode_t unsigned int void size_t ITT_FORMAT d void ITT_FORMAT p void ITT_FORMAT p __itt_model_site __itt_model_site_instance ITT_FORMAT p __itt_model_task __itt_model_task_instance ITT_FORMAT p void ITT_FORMAT p void ITT_FORMAT p void size_t ITT_FORMAT d void ITT_FORMAT p const wchar_t ITT_FORMAT s const char ITT_FORMAT s const char ITT_FORMAT s const char ITT_FORMAT s no args void ITT_FORMAT p size_t ITT_FORMAT d no args const wchar_t const wchar_t ITT_FORMAT s __itt_heap_function h</div><div class="ttdef"><b>定义</b> ittnotify_static.h:159</div></div>
<div class="ttc" id="anamespacetbb_html"><div class="ttname"><a href="namespacetbb.html">tbb</a></div><div class="ttdoc">The graph class</div><div class="ttdef"><b>定义</b> parallel_for.h:46</div></div>
<div class="ttc" id="anamespacetf_html"><div class="ttname"><a href="namespacetf.html">tf</a></div><div class="ttdoc">taskflow namespace</div><div class="ttdef"><b>定义</b> algorithms.dox:1</div></div>
<div class="ttc" id="aoffscreen_8c_html_a4788d82c901b9367dd5c0daff8a7616b"><div class="ttname"><a href="offscreen_8c.html#a4788d82c901b9367dd5c0daff8a7616b">r</a></div><div class="ttdeci">float r</div><div class="ttdef"><b>定义</b> offscreen.c:42</div></div>
<div class="ttc" id="apolymain_8cpp_html_a5b80af9316419761d9ee0e8fd53455fd"><div class="ttname"><a href="polymain_8cpp.html#a5b80af9316419761d9ee0e8fd53455fd">Usage</a></div><div class="ttdeci">void Usage(int argc, char **argv)</div><div class="ttdef"><b>定义</b> polymain.cpp:104</div></div>
<div class="ttc" id="aruntime_2xx_hash_2tests_2bench_2main_8c_html_ac4face814e17650939f9b68ff35b2866"><div class="ttname"><a href="runtime_2xx_hash_2tests_2bench_2main_8c.html#ac4face814e17650939f9b68ff35b2866">help</a></div><div class="ttdeci">static int help(const char *exename)</div><div class="ttdef"><b>定义</b> main.c:150</div></div>
<div class="ttc" id="atest_8cpp_html_a8d6e50e84adba3fc984a0433cb254ea0"><div class="ttname"><a href="test_8cpp.html#a8d6e50e84adba3fc984a0433cb254ea0">number</a></div><div class="ttdeci">number</div><div class="ttdef"><b>定义</b> test.cpp:54</div></div>
<div class="ttc" id="atest__malloc__compliance_8cpp_html_a36cb3b01d81ffd844bbbfb54003e06ec"><div class="ttname"><a href="test__malloc__compliance_8cpp.html#a36cb3b01d81ffd844bbbfb54003e06ec">UINT</a></div><div class="ttdeci">unsigned int UINT</div><div class="ttdef"><b>定义</b> test_malloc_compliance.cpp:139</div></div>
<div class="ttc" id="atime__hash__map__fill_8cpp_html_ab951ebd61b5fff7fb5c4212d7fc63254"><div class="ttname"><a href="time__hash__map__fill_8cpp.html#ab951ebd61b5fff7fb5c4212d7fc63254">rounds</a></div><div class="ttdeci">int rounds</div><div class="ttdef"><b>定义</b> time_hash_map_fill.cpp:131</div></div>
</div><!-- fragment --><p>We currently implement the following instances that are commonly used by the parallel computing community to evaluate the system performance.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Instance   </th><th class="markdownTableHeadCenter">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">bench_binary_tree   </td><td class="markdownTableBodyCenter">traverses a complete binary tree    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">bench_black_scholes   </td><td class="markdownTableBodyCenter">computes option pricing with Black-Shcoles Models    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">bench_graph_traversal   </td><td class="markdownTableBodyCenter">traverses a randomly generated direct acyclic graph    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">bench_linear_chain   </td><td class="markdownTableBodyCenter">traverses a linear chain of tasks    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">bench_mandelbrot   </td><td class="markdownTableBodyCenter">exploits imbalanced workloads in a Mandelbrot set    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">bench_matrix_multiplication   </td><td class="markdownTableBodyCenter">multiplies two 2D matrices    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">bench_mnist   </td><td class="markdownTableBodyCenter">trains a neural network-based image classifier on the <a class="el" href="struct_m_n_i_s_t.html">MNIST</a> dataset    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">bench_parallel_sort   </td><td class="markdownTableBodyCenter">sorts a range of items    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">bench_reduce_sum   </td><td class="markdownTableBodyCenter">sums a range of items using reduction    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">bench_wavefront   </td><td class="markdownTableBodyCenter">propagates computations in a 2D grid    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">bench_linear_pipeline   </td><td class="markdownTableBodyCenter">pipeline scheduling on a linear chain of pipes    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">bench_graph_pipeline   </td><td class="markdownTableBodyCenter">pipeline scheduling on a graph of pipes   </td></tr>
</table>
<h1><a class="anchor" id="ConfigureRunOptions"></a>
Configure Run Options</h1>
<p>We implement consistent options for each benchmark instance. Common options are:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">option   </th><th class="markdownTableHeadCenter">value   </th><th class="markdownTableHeadCenter">function    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>-h</code>   </td><td class="markdownTableBodyCenter">none   </td><td class="markdownTableBodyCenter">display the help message    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>-t</code>   </td><td class="markdownTableBodyCenter">integer   </td><td class="markdownTableBodyCenter">configure the number of threads to run    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>-r</code>   </td><td class="markdownTableBodyCenter">integer   </td><td class="markdownTableBodyCenter">configure the number of rounds to run    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>-m</code>   </td><td class="markdownTableBodyCenter">string   </td><td class="markdownTableBodyCenter">configure the baseline models to run, tbb, omp, or tf   </td></tr>
</table>
<p>You can configure the benchmarking environment by giving different options.</p>
<h2><a class="anchor" id="SpecifyTheRunModel"></a>
Specify the Run Model</h2>
<p>In addition to a Taskflow-based implementation for each benchmark instance, we have implemented two baseline models using the state-of-the-art parallel programming libraries, @OpenMP and @TBB, to measure and evaluate the performance of Taskflow. You can select different implementations by passing the option <code>-m</code>.</p>
<div class="fragment"><div class="line">{.shell-session} </div>
<div class="line">~$ ./bench_graph_traversal -<a class="code hl_variable" href="_angle_axis__mimic__euler_8cpp.html#ab3cd915d758008bd19d0f2428fbb354a">m</a> <a class="code hl_namespace" href="namespacetf.html">tf</a>   # <a class="code hl_function" href="poisson_8cpp.html#ae12af222b820baf64e953be588c5bbbe">run</a> the Taskflow implementation (<span class="keywordflow">default</span>)</div>
<div class="line">~$ ./bench_graph_traversal -<a class="code hl_variable" href="_angle_axis__mimic__euler_8cpp.html#ab3cd915d758008bd19d0f2428fbb354a">m</a> <a class="code hl_namespace" href="namespacetbb.html">tbb</a>  # <a class="code hl_function" href="poisson_8cpp.html#ae12af222b820baf64e953be588c5bbbe">run</a> the <a class="code hl_namespace" href="namespace_t_b_b.html">TBB</a> implementation</div>
<div class="line">~$ ./bench_graph_traversal -<a class="code hl_variable" href="_angle_axis__mimic__euler_8cpp.html#ab3cd915d758008bd19d0f2428fbb354a">m</a> omp  # <a class="code hl_function" href="poisson_8cpp.html#ae12af222b820baf64e953be588c5bbbe">run</a> the OpenMP implementation</div>
<div class="ttc" id="anamespace_t_b_b_html"><div class="ttname"><a href="namespace_t_b_b.html">TBB</a></div><div class="ttdef"><b>定义</b> TBB.py:1</div></div>
<div class="ttc" id="apoisson_8cpp_html_ae12af222b820baf64e953be588c5bbbe"><div class="ttname"><a href="poisson_8cpp.html#ae12af222b820baf64e953be588c5bbbe">run</a></div><div class="ttdeci">double run(struct user_parameters *params, unsigned num_threads, std::string model)</div><div class="ttdef"><b>定义</b> poisson.cpp:63</div></div>
</div><!-- fragment --><h2><a class="anchor" id="SpecifyTheNumberOfThreads"></a>
Specify the Number of Threads</h2>
<p>You can configure the number of threads to run a benchmark instance by passing the option <code>-t</code>. The default value is one.</p>
<div class="fragment"><div class="line">{.shell-session} </div>
<div class="line"><span class="preprocessor"># run the Taskflow implementation using 4 threads</span></div>
<div class="line">~$ ./bench_graph_traversal -<a class="code hl_variable" href="_angle_axis__mimic__euler_8cpp.html#ab3cd915d758008bd19d0f2428fbb354a">m</a> <a class="code hl_namespace" href="namespacetf.html">tf</a> -<a class="code hl_variable" href="boing_8c.html#a87accd1af8e0aff4b818d891374f7cec">t</a> 4</div>
</div><!-- fragment --><p>Depending on your environment, you may need to use <code>taskset</code> to set the CPU affinity of the running process. This allows the OS scheduler to keep process on the same CPU(s) as long as practical for performance reason.</p>
<div class="fragment"><div class="line">{.shell-session} </div>
<div class="line"><span class="preprocessor"># affine the process to 4 CPUs, CPU 0, CPU 1, CPU 2, and CPU 3</span></div>
<div class="line">~$ taskset -<a class="code hl_variable" href="bench_vec_add_8cpp.html#a41689956983587b085f9da3e48f31d99">c</a> 0-3 bench_graph_traversal -<a class="code hl_variable" href="boing_8c.html#a87accd1af8e0aff4b818d891374f7cec">t</a> 4  </div>
<div class="ttc" id="abench_vec_add_8cpp_html_a41689956983587b085f9da3e48f31d99"><div class="ttname"><a href="bench_vec_add_8cpp.html#a41689956983587b085f9da3e48f31d99">c</a></div><div class="ttdeci">Scalar Scalar * c</div><div class="ttdef"><b>定义</b> benchVecAdd.cpp:17</div></div>
</div><!-- fragment --><h2><a class="anchor" id="SpecifyTheNumberOfRounds"></a>
Specify the Number of Rounds</h2>
<p>Each benchmark instance evaluates the runtime of the implementation at different problem sizes. Each problem size corresponds to one iteration. You can configure the number of rounds per iteration to average the runtime.</p>
<div class="fragment"><div class="line">{.shell-session} </div>
<div class="line"><span class="preprocessor"># measure the runtime in an average of 10 runs</span></div>
<div class="line">~$ ./bench_graph_traversal -<a class="code hl_variable" href="offscreen_8c.html#a4788d82c901b9367dd5c0daff8a7616b">r</a> 10</div>
<div class="line">|<a class="code hl_variable" href="_eigen_solver___eigen_solver___matrix_type_8cpp.html#a77c224aa52b434918ce65c33175aa8ad">V</a>|+|<a class="code hl_define" href="sandbox_2strassen_2omp_8cpp.html#a4bfa035cad7c3258704669810cd5de5d">E</a>|     Runtime</div>
<div class="line">      2       0.109   # the <a class="code hl_function" href="runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2base_8h.html#a8c5f2060819744fc66f8fbce25a480be">runtime</a> <a class="code hl_typedef" href="imgui__impl__opengl3__loader_8h.html#abe8e049f756b5ba547bda825af81b645">value</a> 0.109 is an average of 10 runs</div>
<div class="line">    842       0.298</div>
<div class="line">    ...         ...</div>
<div class="line"> 619802      73.135</div>
<div class="line"> 664771      74.436</div>
<div class="ttc" id="aimgui__impl__opengl3__loader_8h_html_abe8e049f756b5ba547bda825af81b645"><div class="ttname"><a href="imgui__impl__opengl3__loader_8h.html#abe8e049f756b5ba547bda825af81b645">value</a></div><div class="ttdeci">GLsizei GLboolean const GLfloat * value</div><div class="ttdef"><b>定义</b> imgui_impl_opengl3_loader.h:325</div></div>
<div class="ttc" id="aruntime_2spdlog_2include_2spdlog_2fmt_2bundled_2base_8h_html_a8c5f2060819744fc66f8fbce25a480be"><div class="ttname"><a href="runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2base_8h.html#a8c5f2060819744fc66f8fbce25a480be">runtime</a></div><div class="ttdeci">auto runtime(string_view s) -&gt; runtime_format_string&lt;&gt;</div><div class="ttdef"><b>定义</b> base.h:2684</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
