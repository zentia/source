<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>source: external/taskflow/taskflow/dsl/task_dsl.hpp 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">source
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('task__dsl_8hpp_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">task_dsl.hpp</div></div>
</div><!--header-->
<div class="contents">
<a href="task__dsl_8hpp.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// 2020/08/28 - Created by netcan: https://github.com/netcan</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &quot;<a class="code" href="flow__builder_8hpp.html">../core/flow_builder.hpp</a>&quot;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &quot;<a class="code" href="meta__macro_8hpp.html">meta_macro.hpp</a>&quot;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="task__analyzer_8hpp.html">task_analyzer.hpp</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="task__trait_8hpp.html">task_trait.hpp</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacetf.html">tf</a> {</div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacetf_1_1dsl.html">dsl</a> {</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno"><a class="line" href="structtf_1_1dsl_1_1_empty_context.html">   10</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structtf_1_1dsl_1_1_empty_context.html">EmptyContext</a> {};</div>
<div class="foldopen" id="foldopen00011" data-start="{" data-end="};">
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html">   11</a></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> CONTEXT = <a class="code hl_struct" href="structtf_1_1dsl_1_1_empty_context.html">EmptyContext</a>, <span class="keyword">typename</span>... Chains&gt; <span class="keyword">class </span><a class="code hl_function" href="classtf_1_1dsl_1_1_task_dsl.html#a7ec8bd0e7518f2e95265067ddaad7dd9">TaskDsl</a> {</div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#a39e2219ec45b4d16c867d5f943f9ca90">   12</a></span>  <span class="keyword">using </span><a class="code hl_typedef" href="classtf_1_1dsl_1_1_task_dsl.html#a39e2219ec45b4d16c867d5f943f9ca90">Links</a> = <a class="code hl_typedef" href="namespacetf_1_1dsl.html#a09576ad6e39020850ce8531914ee195d">Unique_t&lt;Flatten_t&lt;TypeList&lt;typename Chain&lt;Chains&gt;::type</a>...&gt;&gt;&gt;;</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#a5789c11e7a3ce21765d6a6d886b1e25f">   13</a></span>  <span class="keyword">using </span><a class="code hl_typedef" href="classtf_1_1dsl_1_1_task_dsl.html#a5789c11e7a3ce21765d6a6d886b1e25f">Analyzer</a> = <span class="keyword">typename</span> Links::template exportTo&lt;TaskAnalyzer&gt;;</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#ae9fd3ffee6d1389bc6402a64d9dac310">   15</a></span>  <span class="keyword">using </span><a class="code hl_typedef" href="classtf_1_1dsl_1_1_task_dsl.html#ae9fd3ffee6d1389bc6402a64d9dac310">AllTasks</a> = <span class="keyword">typename</span> Analyzer::AllTasks;</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="foldopen" id="foldopen00017" data-start="{" data-end="};">
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno"><a class="line" href="structtf_1_1dsl_1_1_task_dsl_1_1_task_cb_with_context.html">   17</a></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TASK&gt; <span class="keyword">struct </span><a class="code hl_struct" href="structtf_1_1dsl_1_1_task_dsl_1_1_task_cb_with_context.html">TaskCbWithContext</a> {</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno"><a class="line" href="structtf_1_1dsl_1_1_task_dsl_1_1_task_cb_with_context.html#a914c603c5c8e1bc904c26ccf52316f4c">   18</a></span>    <span class="keyword">using </span><a class="code hl_typedef" href="structtf_1_1dsl_1_1_task_dsl_1_1_task_cb_with_context.html#a914c603c5c8e1bc904c26ccf52316f4c">type</a> = <a class="code hl_struct" href="structtf_1_1dsl_1_1_task_cb.html">TaskCb&lt;TASK, CONTEXT&gt;</a>;</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>  };</div>
</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#a559464f8aee7a719790b5a198b62d4cb">   20</a></span>  <span class="keyword">using </span><a class="code hl_typedef" href="classtf_1_1dsl_1_1_task_dsl.html#a559464f8aee7a719790b5a198b62d4cb">TasksCB</a> =</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>      <span class="keyword">typename</span> <a class="code hl_typedef" href="namespacetf_1_1dsl.html#a3fa11ca485f1f49049558cb2e2e72986">Map_t</a>&lt;<a class="code hl_typedef" href="classtf_1_1dsl_1_1_task_dsl.html#ae9fd3ffee6d1389bc6402a64d9dac310">AllTasks</a>,</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>                     <a class="code hl_struct" href="structtf_1_1dsl_1_1_task_dsl_1_1_task_cb_with_context.html">TaskCbWithContext</a>&gt;::template exportTo&lt;std::tuple&gt;;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#a415ae6f0b52878101658590924794003">   24</a></span>  <span class="keyword">using </span><a class="code hl_typedef" href="classtf_1_1dsl_1_1_task_dsl.html#a415ae6f0b52878101658590924794003">OneToOneLinkSet</a> = <span class="keyword">typename</span> Analyzer::OneToOneLinkSet;</div>
<div class="foldopen" id="foldopen00025" data-start="{" data-end="};">
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="structtf_1_1dsl_1_1_task_dsl_1_1_one_to_one_link_instance_type.html">   25</a></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OneToOneLink&gt; <span class="keyword">struct </span><a class="code hl_struct" href="structtf_1_1dsl_1_1_task_dsl_1_1_one_to_one_link_instance_type.html">OneToOneLinkInstanceType</a> {</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="structtf_1_1dsl_1_1_task_dsl_1_1_one_to_one_link_instance_type.html#afe12ded7e4bb8b3171158afef4056757">   26</a></span>    <span class="keyword">using </span><a class="code hl_typedef" href="structtf_1_1dsl_1_1_task_dsl_1_1_one_to_one_link_instance_type.html#afe12ded7e4bb8b3171158afef4056757">type</a> = <span class="keyword">typename</span> OneToOneLink::template InstanceType&lt;TasksCB&gt;;</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>  };</div>
</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#af09b2694fc86afdc042b7a577820724a">   28</a></span>  <span class="keyword">using </span><a class="code hl_typedef" href="classtf_1_1dsl_1_1_task_dsl.html#af09b2694fc86afdc042b7a577820724a">OneToOneLinkInstances</a> =</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>      <span class="keyword">typename</span> <a class="code hl_typedef" href="namespacetf_1_1dsl.html#a3fa11ca485f1f49049558cb2e2e72986">Map_t</a>&lt;<a class="code hl_typedef" href="classtf_1_1dsl_1_1_task_dsl.html#a415ae6f0b52878101658590924794003">OneToOneLinkSet</a>,</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>                     <a class="code hl_struct" href="structtf_1_1dsl_1_1_task_dsl_1_1_one_to_one_link_instance_type.html">OneToOneLinkInstanceType</a>&gt;::template exportTo&lt;std::tuple&gt;;</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00033" data-start="{" data-end="}">
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#a7ec8bd0e7518f2e95265067ddaad7dd9">   33</a></span>  <span class="keyword">constexpr</span> <a class="code hl_function" href="classtf_1_1dsl_1_1_task_dsl.html#a7ec8bd0e7518f2e95265067ddaad7dd9">TaskDsl</a>(<a class="code hl_class" href="classtf_1_1_flow_builder.html">FlowBuilder</a> &amp;flow_builder, <span class="keyword">const</span> CONTEXT &amp;<a class="code hl_class" href="classcontext.html">context</a> = {}) {</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <a class="code hl_function" href="classtf_1_1dsl_1_1_task_dsl.html#a6268f70f11918bd67d89c64a2af72b16">build_tasks_cb</a>(flow_builder, <a class="code hl_class" href="classcontext.html">context</a>,</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>                   std::make_index_sequence&lt;AllTasks::size&gt;{});</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    <a class="code hl_function" href="classtf_1_1dsl_1_1_task_dsl.html#af7440c4498daa10013e712fcfe30ef49">build_links</a>(std::make_index_sequence&lt;OneToOneLinkSet::size&gt;{});</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>  }</div>
</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="foldopen" id="foldopen00039" data-start="{" data-end="}">
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#afba86ce83e29846895950223eeea4dd8">   39</a></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TASK&gt; <a class="code hl_class" href="classtf_1_1_task.html">Task</a> &amp;<a class="code hl_function" href="classtf_1_1dsl_1_1_task_dsl.html#afba86ce83e29846895950223eeea4dd8">get_task</a>() {</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> TasksCBSize = std::tuple_size&lt;TasksCB&gt;::value;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> TaskIndex =</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>        <a class="code hl_variable" href="namespacetf_1_1dsl.html#a510d682f2ec4114b0c68afb61e5f5084">TupleElementByF_v&lt;TasksCB, IsTask&lt;TASK&gt;::template</a> apply&gt;;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="keyword">static_assert</span>(TaskIndex &lt; TasksCBSize, <span class="stringliteral">&quot;fatal: not find TaskCb in TasksCB&quot;</span>);</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacestd.html#aae41d8280b7ccc3f0e0a0be2dab21c8f">std::get&lt;TaskIndex&gt;</a>(<a class="code hl_variable" href="classtf_1_1dsl_1_1_task_dsl.html#a496178fa255254d6e4174cb632bea4ce">tasksCb_</a>).task_;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>  }</div>
</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>  <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span>... Is&gt;</div>
<div class="foldopen" id="foldopen00049" data-start="{" data-end="}">
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#a6268f70f11918bd67d89c64a2af72b16">   49</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classtf_1_1dsl_1_1_task_dsl.html#a6268f70f11918bd67d89c64a2af72b16">build_tasks_cb</a>(<a class="code hl_class" href="classtf_1_1_flow_builder.html">FlowBuilder</a> &amp;flow_builder, <span class="keyword">const</span> CONTEXT &amp;<a class="code hl_class" href="classcontext.html">context</a>,</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>                      std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="keyword">auto</span> _ = {0, (<a class="code hl_function" href="namespacestd.html#aae41d8280b7ccc3f0e0a0be2dab21c8f">std::get&lt;Is&gt;</a>(<a class="code hl_variable" href="classtf_1_1dsl_1_1_task_dsl.html#a496178fa255254d6e4174cb632bea4ce">tasksCb_</a>).build(flow_builder, <a class="code hl_class" href="classcontext.html">context</a>), 0)...};</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    (<a class="code hl_variable" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a>)_;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>  }</div>
</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="foldopen" id="foldopen00055" data-start="{" data-end="}">
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#af7440c4498daa10013e712fcfe30ef49">   55</a></span>  <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span>... Is&gt; <span class="keywordtype">void</span> <a class="code hl_function" href="classtf_1_1dsl_1_1_task_dsl.html#af7440c4498daa10013e712fcfe30ef49">build_links</a>(std::index_sequence&lt;Is...&gt;) {</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <span class="keyword">auto</span> _ = {0, (<a class="code hl_function" href="namespacestd.html#aae41d8280b7ccc3f0e0a0be2dab21c8f">std::get&lt;Is&gt;</a>(<a class="code hl_variable" href="classtf_1_1dsl_1_1_task_dsl.html#a147e58a41517cb7f0eb9bdd283946bc5">links_</a>).build(<a class="code hl_variable" href="classtf_1_1dsl_1_1_task_dsl.html#a496178fa255254d6e4174cb632bea4ce">tasksCb_</a>), 0)...};</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    (<a class="code hl_variable" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a>)_;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>  }</div>
</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#a496178fa255254d6e4174cb632bea4ce">   61</a></span>  <a class="code hl_typedef" href="classtf_1_1dsl_1_1_task_dsl.html#a559464f8aee7a719790b5a198b62d4cb">TasksCB</a> <a class="code hl_variable" href="classtf_1_1dsl_1_1_task_dsl.html#a496178fa255254d6e4174cb632bea4ce">tasksCb_</a>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="classtf_1_1dsl_1_1_task_dsl.html#a147e58a41517cb7f0eb9bdd283946bc5">   62</a></span>  <a class="code hl_typedef" href="classtf_1_1dsl_1_1_task_dsl.html#af09b2694fc86afdc042b7a577820724a">OneToOneLinkInstances</a> <a class="code hl_variable" href="classtf_1_1dsl_1_1_task_dsl.html#a147e58a41517cb7f0eb9bdd283946bc5">links_</a>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>};</div>
</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> = <a class="code hl_variable" href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a>, <span class="keyword">typename</span>... Chains, <span class="keyword">typename</span> CONTEXT = <a class="code hl_struct" href="structtf_1_1dsl_1_1_empty_context.html">EmptyContext</a>&gt;</div>
<div class="foldopen" id="foldopen00066" data-start="{" data-end="}">
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="namespacetf_1_1dsl.html#a91acb57fea20e16dfbbaad466dc0ac7b">   66</a></span><span class="keyword">constexpr</span> <a class="code hl_class" href="classtf_1_1dsl_1_1_task_dsl.html">TaskDsl</a>&lt;CONTEXT, Chains...&gt; <a class="code hl_function" href="namespacetf_1_1dsl.html#a91acb57fea20e16dfbbaad466dc0ac7b">taskDsl</a>(<a class="code hl_class" href="classtf_1_1_flow_builder.html">FlowBuilder</a> &amp;flow_builder,</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>                                              CONTEXT &amp;&amp;<a class="code hl_class" href="classcontext.html">context</a> = {}) {</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  <span class="keywordflow">return</span> {flow_builder, <a class="code hl_class" href="classcontext.html">context</a>};</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>}</div>
</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>} <span class="comment">// namespace dsl</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>} <span class="comment">// namespace tf</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a8e17e036436334e2bfb46dc5a210221e">   75</a></span><span class="preprocessor">#define TF_CHAIN(link) , link-&gt;void</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a75ff05930f0b9e4759c3b18ba8277439">   76</a></span><span class="preprocessor">#define TF_CONTEXT_1(name) tf::dsl::EmptyContext</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a6d4d82770751cc056c6c6329e91d13dc">   77</a></span><span class="preprocessor">#define TF_CONTEXT_2(name, context) context</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a00ff7ecdf093ef459f3189f649d3f905">   78</a></span><span class="preprocessor">#define TF_CAPTURE_THIS_1</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a8524ba040526286058409c34785755ae">   79</a></span><span class="preprocessor">#define TF_CAPTURE_THIS_2 *this</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">// make_task(TASK_NAME, { return a action lambda })</span></div>
<div class="foldopen" id="foldopen00083" data-start="" data-end="">
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a878a1467484fd1fb5d9f3dc5c315cd96">   83</a></span><span class="preprocessor">#define make_task(name, ...)                                                    \</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="preprocessor">  struct TF_GET_FIRST name : tf::dsl::TaskSignature,                           \</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="preprocessor">                             TF_PASTE(TF_CONTEXT_, TF_GET_ARG_COUNT name)      \</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="preprocessor">                                 name {                                        \</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="preprocessor">    using _ContextType = TF_PASTE(TF_CONTEXT_, TF_GET_ARG_COUNT name) name;    \</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="preprocessor">    TF_GET_FIRST name(const _ContextType &amp;context) : _ContextType(context) {}  \</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="preprocessor">    auto operator()() {                                                        \</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="preprocessor">      return [TF_PASTE(TF_CAPTURE_THIS_, TF_GET_ARG_COUNT name)] __VA_ARGS__;  \</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="preprocessor">    }                                                                          \</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="preprocessor">  }</span></div>
</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="comment">// some_tasks(A, B, C) means SomeTask</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a3dac8aab0a3cbc29740f62909d10ba05">   95</a></span><span class="preprocessor">#define some_tasks(...) auto (*)(tf::dsl::SomeTask&lt;__VA_ARGS__&gt;)</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="comment">// same as some_tasks</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a315fb89ec74e00cdc392c3a9a116e820">   97</a></span><span class="preprocessor">#define fork_tasks(...) some_tasks(__VA_ARGS__)</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="comment">// same as some_tasks</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a41c6befc2ef2ad2d747f1693d94667c1">   99</a></span><span class="preprocessor">#define merge_tasks(...) some_tasks(__VA_ARGS__)</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="comment">// task(A) means a task A</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a3f2ddffb2e55641da886cd80b06763c7">  101</a></span><span class="preprocessor">#define task(Task) auto (*)(Task)</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="comment">// taskbuild(...) build a task dsl graph</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="task__dsl_8hpp.html#a8b892e1caa23dc650aabfc91cb356698">  103</a></span><span class="preprocessor">#define build_taskflow(...) tf::dsl::taskDsl&lt;void TF_MAP(TF_CHAIN, __VA_ARGS__)&gt;</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="ttc" id="aclasscontext_html"><div class="ttname"><a href="classcontext.html">context</a></div><div class="ttdef"><b>定义</b> base.h:2629</div></div>
<div class="ttc" id="aclasstf_1_1_flow_builder_html"><div class="ttname"><a href="classtf_1_1_flow_builder.html">tf::FlowBuilder</a></div><div class="ttdoc">class to build a task dependency graph</div><div class="ttdef"><b>定义</b> flow_builder.hpp:22</div></div>
<div class="ttc" id="aclasstf_1_1_task_html"><div class="ttname"><a href="classtf_1_1_task.html">tf::Task</a></div><div class="ttdoc">class to create a task handle over a node in a taskflow graph</div><div class="ttdef"><b>定义</b> task.hpp:150</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html">tf::dsl::TaskDsl</a></div><div class="ttdef"><b>定义</b> task_dsl.hpp:11</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_a147e58a41517cb7f0eb9bdd283946bc5"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#a147e58a41517cb7f0eb9bdd283946bc5">tf::dsl::TaskDsl::links_</a></div><div class="ttdeci">OneToOneLinkInstances links_</div><div class="ttdef"><b>定义</b> task_dsl.hpp:62</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_a39e2219ec45b4d16c867d5f943f9ca90"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#a39e2219ec45b4d16c867d5f943f9ca90">tf::dsl::TaskDsl::Links</a></div><div class="ttdeci">Unique_t&lt; Flatten_t&lt; TypeList&lt; typename Chain&lt; Chains &gt;::type... &gt; &gt; &gt; Links</div><div class="ttdef"><b>定义</b> task_dsl.hpp:12</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_a415ae6f0b52878101658590924794003"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#a415ae6f0b52878101658590924794003">tf::dsl::TaskDsl::OneToOneLinkSet</a></div><div class="ttdeci">typename Analyzer::OneToOneLinkSet OneToOneLinkSet</div><div class="ttdef"><b>定义</b> task_dsl.hpp:24</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_a496178fa255254d6e4174cb632bea4ce"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#a496178fa255254d6e4174cb632bea4ce">tf::dsl::TaskDsl::tasksCb_</a></div><div class="ttdeci">TasksCB tasksCb_</div><div class="ttdef"><b>定义</b> task_dsl.hpp:61</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_a559464f8aee7a719790b5a198b62d4cb"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#a559464f8aee7a719790b5a198b62d4cb">tf::dsl::TaskDsl::TasksCB</a></div><div class="ttdeci">typename Map_t&lt; AllTasks, TaskCbWithContext &gt;::template exportTo&lt; std::tuple &gt; TasksCB</div><div class="ttdef"><b>定义</b> task_dsl.hpp:20</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_a5789c11e7a3ce21765d6a6d886b1e25f"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#a5789c11e7a3ce21765d6a6d886b1e25f">tf::dsl::TaskDsl::Analyzer</a></div><div class="ttdeci">typename Links::template exportTo&lt; TaskAnalyzer &gt; Analyzer</div><div class="ttdef"><b>定义</b> task_dsl.hpp:13</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_a6268f70f11918bd67d89c64a2af72b16"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#a6268f70f11918bd67d89c64a2af72b16">tf::dsl::TaskDsl::build_tasks_cb</a></div><div class="ttdeci">void build_tasks_cb(FlowBuilder &amp;flow_builder, const CONTEXT &amp;context, std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>定义</b> task_dsl.hpp:49</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_a7ec8bd0e7518f2e95265067ddaad7dd9"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#a7ec8bd0e7518f2e95265067ddaad7dd9">tf::dsl::TaskDsl::TaskDsl</a></div><div class="ttdeci">constexpr TaskDsl(FlowBuilder &amp;flow_builder, const CONTEXT &amp;context={})</div><div class="ttdef"><b>定义</b> task_dsl.hpp:33</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_ae9fd3ffee6d1389bc6402a64d9dac310"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#ae9fd3ffee6d1389bc6402a64d9dac310">tf::dsl::TaskDsl::AllTasks</a></div><div class="ttdeci">typename Analyzer::AllTasks AllTasks</div><div class="ttdef"><b>定义</b> task_dsl.hpp:15</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_af09b2694fc86afdc042b7a577820724a"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#af09b2694fc86afdc042b7a577820724a">tf::dsl::TaskDsl::OneToOneLinkInstances</a></div><div class="ttdeci">typename Map_t&lt; OneToOneLinkSet, OneToOneLinkInstanceType &gt;::template exportTo&lt; std::tuple &gt; OneToOneLinkInstances</div><div class="ttdef"><b>定义</b> task_dsl.hpp:28</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_af7440c4498daa10013e712fcfe30ef49"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#af7440c4498daa10013e712fcfe30ef49">tf::dsl::TaskDsl::build_links</a></div><div class="ttdeci">void build_links(std::index_sequence&lt; Is... &gt;)</div><div class="ttdef"><b>定义</b> task_dsl.hpp:55</div></div>
<div class="ttc" id="aclasstf_1_1dsl_1_1_task_dsl_html_afba86ce83e29846895950223eeea4dd8"><div class="ttname"><a href="classtf_1_1dsl_1_1_task_dsl.html#afba86ce83e29846895950223eeea4dd8">tf::dsl::TaskDsl::get_task</a></div><div class="ttdeci">Task &amp; get_task()</div><div class="ttdef"><b>定义</b> task_dsl.hpp:39</div></div>
<div class="ttc" id="aflow__builder_8hpp_html"><div class="ttname"><a href="flow__builder_8hpp.html">flow_builder.hpp</a></div><div class="ttdoc">flow builder include file</div></div>
<div class="ttc" id="aittnotify__static_8h_html_a61af67d9d838a9497ca5b188dabc1aa0"><div class="ttname"><a href="ittnotify__static_8h.html#a61af67d9d838a9497ca5b188dabc1aa0">void</a></div><div class="ttdeci">void</div><div class="ttdef"><b>定义</b> ittnotify_static.h:91</div></div>
<div class="ttc" id="ameta__macro_8hpp_html"><div class="ttname"><a href="meta__macro_8hpp.html">meta_macro.hpp</a></div></div>
<div class="ttc" id="anamespacestd_html_aae41d8280b7ccc3f0e0a0be2dab21c8f"><div class="ttname"><a href="namespacestd.html#aae41d8280b7ccc3f0e0a0be2dab21c8f">std::get</a></div><div class="ttdeci">constexpr auto &amp; get(rfl::Tuple&lt; Types... &gt; &amp;_tup)</div><div class="ttdoc">Gets an element by index.</div><div class="ttdef"><b>定义</b> Tuple.hpp:264</div></div>
<div class="ttc" id="anamespacetf_1_1dsl_html"><div class="ttname"><a href="namespacetf_1_1dsl.html">tf::dsl</a></div><div class="ttdef"><b>定义</b> connection.hpp:9</div></div>
<div class="ttc" id="anamespacetf_1_1dsl_html_a09576ad6e39020850ce8531914ee195d"><div class="ttname"><a href="namespacetf_1_1dsl.html#a09576ad6e39020850ce8531914ee195d">tf::dsl::Unique_t</a></div><div class="ttdeci">typename Unique&lt; IN &gt;::type Unique_t</div><div class="ttdef"><b>定义</b> type_list.hpp:119</div></div>
<div class="ttc" id="anamespacetf_1_1dsl_html_a3fa11ca485f1f49049558cb2e2e72986"><div class="ttname"><a href="namespacetf_1_1dsl.html#a3fa11ca485f1f49049558cb2e2e72986">tf::dsl::Map_t</a></div><div class="ttdeci">typename Map&lt; IN, F &gt;::type Map_t</div><div class="ttdef"><b>定义</b> type_list.hpp:90</div></div>
<div class="ttc" id="anamespacetf_1_1dsl_html_a510d682f2ec4114b0c68afb61e5f5084"><div class="ttname"><a href="namespacetf_1_1dsl.html#a510d682f2ec4114b0c68afb61e5f5084">tf::dsl::TupleElementByF_v</a></div><div class="ttdeci">constexpr size_t TupleElementByF_v</div><div class="ttdef"><b>定义</b> tuple_utils.hpp:34</div></div>
<div class="ttc" id="anamespacetf_1_1dsl_html_a91acb57fea20e16dfbbaad466dc0ac7b"><div class="ttname"><a href="namespacetf_1_1dsl.html#a91acb57fea20e16dfbbaad466dc0ac7b">tf::dsl::taskDsl</a></div><div class="ttdeci">constexpr TaskDsl&lt; CONTEXT, Chains... &gt; taskDsl(FlowBuilder &amp;flow_builder, CONTEXT &amp;&amp;context={})</div><div class="ttdef"><b>定义</b> task_dsl.hpp:66</div></div>
<div class="ttc" id="anamespacetf_html"><div class="ttname"><a href="namespacetf.html">tf</a></div><div class="ttdoc">taskflow namespace</div><div class="ttdef"><b>定义</b> algorithms.dox:1</div></div>
<div class="ttc" id="astructtf_1_1dsl_1_1_empty_context_html"><div class="ttname"><a href="structtf_1_1dsl_1_1_empty_context.html">tf::dsl::EmptyContext</a></div><div class="ttdef"><b>定义</b> task_dsl.hpp:10</div></div>
<div class="ttc" id="astructtf_1_1dsl_1_1_task_cb_html"><div class="ttname"><a href="structtf_1_1dsl_1_1_task_cb.html">tf::dsl::TaskCb</a></div><div class="ttdef"><b>定义</b> task_trait.hpp:12</div></div>
<div class="ttc" id="astructtf_1_1dsl_1_1_task_dsl_1_1_one_to_one_link_instance_type_html"><div class="ttname"><a href="structtf_1_1dsl_1_1_task_dsl_1_1_one_to_one_link_instance_type.html">tf::dsl::TaskDsl::OneToOneLinkInstanceType</a></div><div class="ttdef"><b>定义</b> task_dsl.hpp:25</div></div>
<div class="ttc" id="astructtf_1_1dsl_1_1_task_dsl_1_1_one_to_one_link_instance_type_html_afe12ded7e4bb8b3171158afef4056757"><div class="ttname"><a href="structtf_1_1dsl_1_1_task_dsl_1_1_one_to_one_link_instance_type.html#afe12ded7e4bb8b3171158afef4056757">tf::dsl::TaskDsl::OneToOneLinkInstanceType::type</a></div><div class="ttdeci">typename OneToOneLink::template InstanceType&lt; TasksCB &gt; type</div><div class="ttdef"><b>定义</b> task_dsl.hpp:26</div></div>
<div class="ttc" id="astructtf_1_1dsl_1_1_task_dsl_1_1_task_cb_with_context_html"><div class="ttname"><a href="structtf_1_1dsl_1_1_task_dsl_1_1_task_cb_with_context.html">tf::dsl::TaskDsl::TaskCbWithContext</a></div><div class="ttdef"><b>定义</b> task_dsl.hpp:17</div></div>
<div class="ttc" id="astructtf_1_1dsl_1_1_task_dsl_1_1_task_cb_with_context_html_a914c603c5c8e1bc904c26ccf52316f4c"><div class="ttname"><a href="structtf_1_1dsl_1_1_task_dsl_1_1_task_cb_with_context.html#a914c603c5c8e1bc904c26ccf52316f4c">tf::dsl::TaskDsl::TaskCbWithContext::type</a></div><div class="ttdeci">TaskCb&lt; TASK, CONTEXT &gt; type</div><div class="ttdef"><b>定义</b> task_dsl.hpp:18</div></div>
<div class="ttc" id="atask__analyzer_8hpp_html"><div class="ttname"><a href="task__analyzer_8hpp.html">task_analyzer.hpp</a></div></div>
<div class="ttc" id="atask__trait_8hpp_html"><div class="ttname"><a href="task__trait_8hpp.html">task_trait.hpp</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_397d9aeee4af8edecac90968d93b57df.html">external</a></li><li class="navelem"><a class="el" href="dir_a586d2919c2294cf68ed57ec5a464d2f.html">taskflow</a></li><li class="navelem"><a class="el" href="dir_335c31d98076110d53a13c1a0e3daa75.html">taskflow</a></li><li class="navelem"><a class="el" href="dir_f3f5a869bcda04f502b7ed89155aea42.html">dsl</a></li><li class="navelem"><a class="el" href="task__dsl_8hpp.html">task_dsl.hpp</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
