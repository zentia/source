\chapter{Flexbuffers}
\hypertarget{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers}{}\label{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers}\index{Flexbuffers@{Flexbuffers}}
\label{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md654}%
\Hypertarget{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md654}%


For flexbuffers support, you must also include the header {\ttfamily \texorpdfstring{$<$}{<}\doxylink{flexbuf_8hpp}{rfl/flexbuf.\+hpp}\texorpdfstring{$>$}{>}} and link to the \href{https://github.com/google/flatbuffers}{\texttt{ flatbuffers}} library. Furthermore, when compiling reflect-\/cpp, you need to pass {\ttfamily -\/DREFLECTCPP\+\_\+\+FLEXBUFFERS=ON} to cmake. If you are using vcpkg or Conan, there should be an appropriate feature (vcpkg) or option (Conan) that will abstract this away for you.

Flexbuffers is part of the flatbuffers library, which is a binary format developed by Google.

reflect-\/cpp can be used on top of flexbuffers. To see how this is advantageous, consider the following example\+:\hypertarget{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md655}{}\doxysection{\texorpdfstring{Simple example}{Simple example}}\label{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md655}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{rfl_8hpp}{rfl.hpp}}>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{flexbuf_8hpp}{rfl/flexbuf.hpp}}>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{using\ }\mbox{\hyperlink{external_2magic__enum_2example_2example_8cpp_a692f5062ca261bdb3a62a63faddfd27f}{Color}}\ =\ \mbox{\hyperlink{classrfl_1_1_literal}{rfl::Literal}}<\textcolor{stringliteral}{"{}Red"{}},\ \textcolor{stringliteral}{"{}Green"{}},\ \textcolor{stringliteral}{"{}Blue"{}}>;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{struct\ }Weapon\ \{}
\DoxyCodeLine{\ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}};}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{short}\ damage;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{using\ }\mbox{\hyperlink{namespacetest__monster__example_a7f2c77fd0149fd32eaa81584b9526035}{Equipment}}\ =\ \mbox{\hyperlink{classrfl_1_1_variant}{rfl::Variant}}<\mbox{\hyperlink{structrfl_1_1_field}{rfl::Field}}<\textcolor{stringliteral}{"{}weapon"{}},\ Weapon>>;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_vec3}{Vec3}}\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{struct_vec3_a2814580e9b9372738c0a61197ea46b51}{x}};}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{struct_vec3_abc1d241232cb04aa98217a942402ae68}{y}};}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{struct_vec3_a64f3f00cd2dd9076999eeb2f05210388}{z}};}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{struct\ }Monster\ \{}
\DoxyCodeLine{\ \ Vec3\ pos;}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{short}\ mana\ =\ 150;}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{short}\ hp\ =\ 100;}
\DoxyCodeLine{\ \ std::string\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}};}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{bool}\ friendly\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\ \ std::vector<std::uint8\_t>\ inventory;}
\DoxyCodeLine{\ \ \mbox{\hyperlink{external_2magic__enum_2example_2example_8cpp_a692f5062ca261bdb3a62a63faddfd27f}{Color}}\ \mbox{\hyperlink{runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2color_8h_a80d1dc5f416b97f92939a4166d41203c}{color}}\ =\ Color::make<\textcolor{stringliteral}{"{}Blue"{}}>();}
\DoxyCodeLine{\ \ std::vector<Weapon>\ weapons;}
\DoxyCodeLine{\ \ \mbox{\hyperlink{namespacetest__monster__example_a7f2c77fd0149fd32eaa81584b9526035}{Equipment}}\ equipped;}
\DoxyCodeLine{\ \ std::vector<Vec3>\ \mbox{\hyperlink{ittnotify__static_8h_a7016119bc831a22d1a351d56128518ed}{path}};}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ sword\ =\ Weapon\{.name\ =\ \textcolor{stringliteral}{"{}Sword"{}},\ .damage\ =\ 3\};}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ axe\ =\ Weapon\{.name\ =\ \textcolor{stringliteral}{"{}Axe"{}},\ .damage\ =\ 5\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ weapons\ =\ std::vector<Weapon>(\{sword,\ axe\});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ position\ =\ \mbox{\hyperlink{struct_vec3}{Vec3}}\{1.0f,\ 2.0f,\ 3.0f\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ inventory\ =}
\DoxyCodeLine{\ \ \ \ std::vector<std::uint8\_t>(\{0,\ 1,\ 2,\ 3,\ 4,\ 5,\ 6,\ 7,\ 8,\ 9\});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ orc\ =\ Monster\{.pos\ =\ position,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .mana\ =\ 150,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .hp\ =\ 80,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .name\ =\ \textcolor{stringliteral}{"{}MyMonster"{}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .inventory\ =\ inventory,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .color\ =\ Color::make<\textcolor{stringliteral}{"{}Red"{}}>(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .weapons\ =\ weapons,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .equipped\ =\ \mbox{\hyperlink{namespacerfl_afb5f68a22d5b6a42a5b4477c35559ce9}{rfl::make\_field<"{}weapon"{}>}}(axe)\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structbytes}{bytes}}\ =\ \mbox{\hyperlink{namespacerfl_1_1flexbuf_a43e68ebf4a20d5e185c1f9b216c72f7a}{rfl::flexbuf::write}}(orc);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{namespacerfl_1_1flexbuf_a3be0ed76817ef6f55d6988546b580fe6}{rfl::flexbuf::read<Monster>}}(\mbox{\hyperlink{structbytes}{bytes}});}

\end{DoxyCode}
\hypertarget{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md656}{}\doxysection{\texorpdfstring{For comparison\+: Standard flatbuffers}{For comparison\+: Standard flatbuffers}}\label{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md656}
Let\textquotesingle{}s talk about what normal flatbuffers would make you do to set up this example.

First of all, you would have to set up your {\ttfamily Monster.\+fbs}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{namespace\ MyGame.Sample;}
\DoxyCodeLine{}
\DoxyCodeLine{enum\ Color:byte\ \{\ Red\ =\ 0,\ Green,\ Blue\ =\ 2\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{union\ Equipment\ \{\ Weapon\ \}\ //\ Optionally\ add\ more\ tables.}
\DoxyCodeLine{}
\DoxyCodeLine{struct\ Vec3\ \{}
\DoxyCodeLine{\ \ x:float;}
\DoxyCodeLine{\ \ y:float;}
\DoxyCodeLine{\ \ z:float;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{table\ Monster\ \{}
\DoxyCodeLine{\ \ pos:Vec3;}
\DoxyCodeLine{\ \ mana:short\ =\ 150;}
\DoxyCodeLine{\ \ hp:short\ =\ 100;}
\DoxyCodeLine{\ \ name:string;}
\DoxyCodeLine{\ \ friendly:bool\ =\ false\ (deprecated);}
\DoxyCodeLine{\ \ inventory:[ubyte];}
\DoxyCodeLine{\ \ color:Color\ =\ Blue;}
\DoxyCodeLine{\ \ weapons:[Weapon];}
\DoxyCodeLine{\ \ equipped:Equipment;}
\DoxyCodeLine{\ \ path:[Vec3];}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{table\ Weapon\ \{}
\DoxyCodeLine{\ \ name:string;}
\DoxyCodeLine{\ \ damage:short;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{root\_type\ Monster;}

\end{DoxyCode}


Then you would have to generate the C++ code using the flatbuffers compiler.

Finally, here is the code that you would then write afterwards\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ Build\ up\ a\ serialized\ buffer\ algorithmically:}}
\DoxyCodeLine{flatbuffers::FlatBufferBuilder\ builder;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ First,\ lets\ serialize\ some\ weapons\ for\ the\ Monster:\ A\ 'sword'\ and\ an\ 'axe'.}}
\DoxyCodeLine{\textcolor{keyword}{auto}\ weapon\_one\_name\ =\ builder.CreateString(\textcolor{stringliteral}{"{}Sword"{}});}
\DoxyCodeLine{\textcolor{keywordtype}{short}\ weapon\_one\_damage\ =\ 3;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{auto}\ weapon\_two\_name\ =\ builder.CreateString(\textcolor{stringliteral}{"{}Axe"{}});}
\DoxyCodeLine{\textcolor{keywordtype}{short}\ weapon\_two\_damage\ =\ 5;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Use\ the\ \`{}CreateWeapon`\ shortcut\ to\ create\ Weapons\ with\ all\ fields\ set.}}
\DoxyCodeLine{\textcolor{keyword}{auto}\ sword\ =\ CreateWeapon(builder,\ weapon\_one\_name,\ weapon\_one\_damage);}
\DoxyCodeLine{\textcolor{keyword}{auto}\ axe\ =\ CreateWeapon(builder,\ weapon\_two\_name,\ weapon\_two\_damage);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Create\ a\ FlatBuffer's\ \`{}vector`\ from\ the\ \`{}std::vector`.}}
\DoxyCodeLine{std::vector<flatbuffers::Offset<Weapon>>\ weapons\_vector;}
\DoxyCodeLine{weapons\_vector.push\_back(sword);}
\DoxyCodeLine{weapons\_vector.push\_back(axe);}
\DoxyCodeLine{\textcolor{keyword}{auto}\ weapons\ =\ builder.CreateVector(weapons\_vector);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Second,\ serialize\ the\ rest\ of\ the\ objects\ needed\ by\ the\ Monster.}}
\DoxyCodeLine{\textcolor{keyword}{auto}\ position\ =\ \mbox{\hyperlink{struct_vec3}{Vec3}}(1.0f,\ 2.0f,\ 3.0f);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{auto}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}\ =\ builder.CreateString(\textcolor{stringliteral}{"{}MyMonster"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ inv\_data[]\ =\ \{\ 0,\ 1,\ 2,\ 3,\ 4,\ 5,\ 6,\ 7,\ 8,\ 9\ \};}
\DoxyCodeLine{\textcolor{keyword}{auto}\ inventory\ =\ builder.CreateVector(inv\_data,\ 10);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Shortcut\ for\ creating\ monster\ with\ all\ fields\ set:}}
\DoxyCodeLine{\textcolor{keyword}{auto}\ orc\ =\ CreateMonster(builder,\ \&position,\ 150,\ 80,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}},\ inventory,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Color\_Red,\ weapons,\ Equipment\_Weapon,\ axe.Union());}
\DoxyCodeLine{}
\DoxyCodeLine{builder.Finish(orc);\ \ \textcolor{comment}{//\ Serialize\ the\ root\ of\ the\ object.}}

\end{DoxyCode}


I think it should be fairly obvious that using reflect-\/cpp on top drastically reduces the amount of boilerplate code.

But what it more, unlike "{}normal"{} flatbuffers, flexbuffers also supports field names. Field names make it a lot easier to maintain backwards compatability.\hypertarget{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md657}{}\doxysection{\texorpdfstring{Reading and writing}{Reading and writing}}\label{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md657}
Suppose you have a struct like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }Person\ \{}
\DoxyCodeLine{\ \ \ \ std::string\ first\_name;}
\DoxyCodeLine{\ \ \ \ std::string\ last\_name;}
\DoxyCodeLine{\ \ \ \ rfl::Timestamp<\textcolor{stringliteral}{"{}\%Y-\/\%m-\/\%d"{}}>\ birthday;}
\DoxyCodeLine{\ \ \ \ std::vector<Person>\ children;}
\DoxyCodeLine{\};}

\end{DoxyCode}


\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} {\ttfamily person} can be turned into a bytes vector like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ person\ =\ Person\{...\};}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structbytes}{bytes}}\ =\ \mbox{\hyperlink{namespacerfl_1_1flexbuf_a43e68ebf4a20d5e185c1f9b216c72f7a}{rfl::flexbuf::write}}(person);}

\end{DoxyCode}


You can parse bytes like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{const}\ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<Person>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ \mbox{\hyperlink{namespacerfl_1_1flexbuf_a3be0ed76817ef6f55d6988546b580fe6}{rfl::flexbuf::read<Person>}}(\mbox{\hyperlink{structbytes}{bytes}});}

\end{DoxyCode}
\hypertarget{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md658}{}\doxysection{\texorpdfstring{Loading and saving}{Loading and saving}}\label{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md658}
You can also load and save to disc using a very similar syntax\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{const}\ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<Person>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ \mbox{\hyperlink{namespacerfl_1_1flexbuf_ad1b7b7a6e9626de04a7706c6c131fa9c}{rfl::flexbuf::load<Person>}}(\textcolor{stringliteral}{"{}/path/to/file.fb"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ person\ =\ Person\{...\};}
\DoxyCodeLine{\mbox{\hyperlink{namespacerfl_1_1flexbuf_a3b05caa8a0fff35bbd02bee62d4172cc}{rfl::flexbuf::save}}(\textcolor{stringliteral}{"{}/path/to/file.fb"{}},\ person);}

\end{DoxyCode}
\hypertarget{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md659}{}\doxysection{\texorpdfstring{Reading from and writing into streams}{Reading from and writing into streams}}\label{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md659}
You can also read from and write into any {\ttfamily std\+::istream} and {\ttfamily std\+::ostream} respectively.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{const}\ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<Person>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ \mbox{\hyperlink{namespacerfl_1_1flexbuf_a3be0ed76817ef6f55d6988546b580fe6}{rfl::flexbuf::read<Person>}}(my\_istream);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ person\ =\ Person\{...\};}
\DoxyCodeLine{\mbox{\hyperlink{namespacerfl_1_1flexbuf_a43e68ebf4a20d5e185c1f9b216c72f7a}{rfl::flexbuf::write}}(person,\ my\_ostream);}

\end{DoxyCode}


Note that {\ttfamily std\+::cout} is also an ostream, so this works as well\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{namespacerfl_1_1flexbuf_a43e68ebf4a20d5e185c1f9b216c72f7a}{rfl::flexbuf::write}}(person,\ std::cout)\ <<\ std::endl;}

\end{DoxyCode}


(Since flexbuffers is a binary format, the readability of this will be limited, but it might be useful for debugging).\hypertarget{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md660}{}\doxysection{\texorpdfstring{Custom constructors}{Custom constructors}}\label{md_external_2reflect-cpp_2docs_2supported__formats_2flexbuffers_autotoc_md660}
One of the great things about C++ is that it gives you control over when and how you code is compiled.

For large and complex systems of structs, it is often a good idea to split up your code into smaller compilation units. You can do so using custom constructors.

For the flexbuffers format, these must be a static function on your struct or class called {\ttfamily from\+\_\+flexbuf} that take a {\ttfamily \doxylink{structrfl_1_1flexbuf_1_1_reader_afa8c8cb4b2d097a234bd5a7ce56e2704}{rfl\+::flexbuf\+::\+Reader\+::\+Input\+Var\+Type}} as input and return the class or the class wrapped in {\ttfamily \doxylink{classrfl_1_1_result}{rfl\+::\+Result}}.

In your header file you can write something like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }Person\ \{}
\DoxyCodeLine{\ \ \ \ rfl::Rename<\textcolor{stringliteral}{"{}firstName"{}},\ std::string>\ first\_name;}
\DoxyCodeLine{\ \ \ \ rfl::Rename<\textcolor{stringliteral}{"{}lastName"{}},\ std::string>\ last\_name;}
\DoxyCodeLine{\ \ \ \ rfl::Timestamp<\textcolor{stringliteral}{"{}\%Y-\/\%m-\/\%d"{}}>\ birthday;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacerfl_1_1avro_a1b87f8b534d31b79c6cdcb844cc0ff8f}{InputVarType}}\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structrfl_1_1flexbuf_1_1_reader_afa8c8cb4b2d097a234bd5a7ce56e2704}{rfl::flexbuf::Reader::InputVarType}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{static}\ rfl::Result<Person>\ from\_flexbuf(\textcolor{keyword}{const}\ InputVarType\&\ \_obj);}
\DoxyCodeLine{\};}

\end{DoxyCode}


And in your source file, you implement {\ttfamily from\+\_\+flexbuf} as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<Person>}}\ Person::from\_flexbuf(\textcolor{keyword}{const}\ InputVarType\&\ \_obj)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ from\_nt\ =\ [](\textcolor{keyword}{auto}\&\&\ \_nt)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_a5acb20e6bf6611a2a9f26931513b29f7}{rfl::from\_named\_tuple<Person>}}(std::move(\_nt));}
\DoxyCodeLine{\ \ \ \ \};}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_1_1flexbuf_a3be0ed76817ef6f55d6988546b580fe6}{rfl::flexbuf::read<rfl::named\_tuple\_t<Person>}}>(\_obj)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .\mbox{\hyperlink{sycl__algorithms_8cpp_abe0cf4a907cfd4631a4d7c7647692a0a}{transform}}(from\_nt);}
\DoxyCodeLine{\}}

\end{DoxyCode}


This will force the compiler to only compile the flexbuffers parsing when the source file is compiled. 