\doxysection{Tensor\+Device\+Default.\+h}
\hypertarget{_tensor_device_default_8h_source}{}\label{_tensor_device_default_8h_source}\index{external/taskflow/3rd-\/party/eigen-\/3.3.7/unsupported/Eigen/CXX11/src/Tensor/TensorDeviceDefault.h@{external/taskflow/3rd-\/party/eigen-\/3.3.7/unsupported/Eigen/CXX11/src/Tensor/TensorDeviceDefault.h}}
\mbox{\hyperlink{_tensor_device_default_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2014\ Benoit\ Steiner\ <benoit.steiner.goog@gmail.com>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_CXX11\_TENSOR\_TENSOR\_DEVICE\_DEFAULT\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_CXX11\_TENSOR\_TENSOR\_DEVICE\_DEFAULT\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_eigen}{Eigen}}\ \{}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{comment}{//\ Default\ device\ for\ the\ machine\ (typically\ a\ single\ cpu\ core)}}
\DoxyCodeLine{00017\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1_default_device}{DefaultDevice}}\ \{}
\DoxyCodeLine{00018\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{struct_eigen_1_1_default_device_aedf2fb4553daa493545b383076b242dd}{allocate}}(\textcolor{keywordtype}{size\_t}\ num\_bytes)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1internal_a085e514c677ac3bb48f3c3674a372865}{internal::aligned\_malloc}}(num\_bytes);}
\DoxyCodeLine{00020\ \ \ \}}
\DoxyCodeLine{00021\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1_default_device_a37161c54e19b871cdffadbbc0e4bea12}{deallocate}}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00022\ \ \ \ \ \mbox{\hyperlink{namespace_eigen_1_1internal_adad153f95799bcc02d86235418c0a73f}{internal::aligned\_free}}(\mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}});}
\DoxyCodeLine{00023\ \ \ \}}
\DoxyCodeLine{00024\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1_default_device_a61984e9d6b70218273aea25952877bef}{memcpy}}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_default_device_a61984e9d6b70218273aea25952877bef}{::memcpy}}(\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}},\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00026\ \ \ \}}
\DoxyCodeLine{00027\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1_default_device_a978f0e67b69d1142d28c7c314c71ea9d}{memcpyHostToDevice}}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_default_device_a61984e9d6b70218273aea25952877bef}{memcpy}}(\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}},\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00029\ \ \ \}}
\DoxyCodeLine{00030\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1_default_device_a4be26c1b7f78e27670975bafdfc75e68}{memcpyDeviceToHost}}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_default_device_a61984e9d6b70218273aea25952877bef}{memcpy}}(\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}},\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00032\ \ \ \}}
\DoxyCodeLine{00033\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1_default_device_a2a16cec4646fdc58b2f92ed552fb391d}{memset}}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_default_device_a2a16cec4646fdc58b2f92ed552fb391d}{::memset}}(\mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}},\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00035\ \ \ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{struct_eigen_1_1_default_device_a7c73e4e69f8c0ad6505104f45832a0d6}{numThreads}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#ifndef\ \_\_CUDA\_ARCH\_\_}}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{comment}{//\ Running\ on\ the\ host\ CPU}}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{comment}{//\ Running\ on\ a\ CUDA\ device}}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordflow}{return}\ 32;}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00045\ \ \ \}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{struct_eigen_1_1_default_device_a7433e4c7d515d523cd81e2e93402152c}{firstLevelCacheSize}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#ifndef\ \_\_CUDA\_ARCH\_\_}}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{//\ Running\ on\ the\ host\ CPU}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_a2669f89ff38296a38e6d973552eb4e33}{l1CacheSize}}();}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{comment}{//\ Running\ on\ a\ CUDA\ device,\ return\ the\ amount\ of\ shared\ memory\ available.}}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordflow}{return}\ 48*1024;}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00055\ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{struct_eigen_1_1_default_device_aa34a7449cafbe5ea56dba58f0e594410}{lastLevelCacheSize}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#ifndef\ \_\_CUDA\_ARCH\_\_}}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{comment}{//\ Running\ single\ threaded\ on\ the\ host\ CPU}}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_ae2efa4852ea90c2d47b7dcec5b40ba2b}{l3CacheSize}}();}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{//\ Running\ on\ a\ CUDA\ device}}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_eigen_1_1_default_device_a7433e4c7d515d523cd81e2e93402152c}{firstLevelCacheSize}}();}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00065\ \ \ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_eigen_1_1_default_device_a7396ca9b92e286981441b14056cf06a2}{majorDeviceVersion}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#ifndef\ \_\_CUDA\_ARCH\_\_}}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ Running\ single\ threaded\ on\ the\ host\ CPU}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ Should\ return\ an\ enum\ that\ encodes\ the\ ISA\ supported\ by\ the\ CPU}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{//\ Running\ on\ a\ CUDA\ device}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_CUDA\_ARCH\_\_\ /\ 100;}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00076\ \ \ \}}
\DoxyCodeLine{00077\ \};}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \}\ \ \textcolor{comment}{//\ namespace\ Eigen}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_CXX11\_TENSOR\_TENSOR\_DEVICE\_DEFAULT\_H}}

\end{DoxyCode}
