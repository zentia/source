\doxysection{Schema\+Impl.\+cpp}
\hypertarget{capnproto_2_schema_impl_8cpp_source}{}\label{capnproto_2_schema_impl_8cpp_source}\index{external/reflect-\/cpp/src/rfl/capnproto/SchemaImpl.cpp@{external/reflect-\/cpp/src/rfl/capnproto/SchemaImpl.cpp}}
\mbox{\hyperlink{capnproto_2_schema_impl_8cpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{capnproto_2_schema_impl_8hpp}{rfl/capnproto/SchemaImpl.hpp}}"{}}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <capnp/schema-\/parser.h>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <capnp/schema.h>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl_1_1capnproto}{rfl::capnproto}}\ \{}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_schema_impl_a3f73d95116c39d1fa138d94c2a93f41d}{SchemaImpl::SchemaImpl}}(\textcolor{keyword}{const}\ std::string\&\ \_str)}
\DoxyCodeLine{00009\ \ \ \ \ :\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_schema_impl_ad855381f47978599fb1a7b433e9a0300}{str\_}}(\_str),}
\DoxyCodeLine{00010\ \ \ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_schema_impl_a52d150126cd6a0b8c4226dc460a40da3}{schema\_parser\_}}(\mbox{\hyperlink{classrfl_1_1_box}{Box}}<capnp::SchemaParser>::make()),}
\DoxyCodeLine{00011\ \ \ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_schema_impl_a62982a5047ab1bb35c49608df6361663}{schema\_}}(\mbox{\hyperlink{classrfl_1_1_box}{Box}}<capnp::ParsedSchema>::make(}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_schema_impl_a96ff6b67b48360fb452d79a938f61def}{make\_schema}}(\mbox{\hyperlink{classrfl_1_1capnproto_1_1_schema_impl_ad855381f47978599fb1a7b433e9a0300}{str\_}},\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_schema_impl_a52d150126cd6a0b8c4226dc460a40da3}{schema\_parser\_}}.\mbox{\hyperlink{namespacerfl_ac379420409251e5a3c0bea4a701daf0a}{get}}())))\ \{\}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ capnp::ParsedSchema\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_schema_impl_a96ff6b67b48360fb452d79a938f61def}{SchemaImpl::make\_schema}}(}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ \_str,\ capnp::SchemaParser*\ \_schema\_parser)\ \{}
\DoxyCodeLine{00016\ \ \ \textcolor{keyword}{auto}\ dir\ =\ kj::newInMemoryDirectory(kj::nullClock());}
\DoxyCodeLine{00017\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{ittnotify__static_8h_a7016119bc831a22d1a351d56128518ed}{path}}\ =\ kj::Path::parse(\textcolor{stringliteral}{"{}foo/bar.capnp"{}});}
\DoxyCodeLine{00018\ \ \ dir-\/>openFile(\mbox{\hyperlink{ittnotify__static_8h_a7016119bc831a22d1a351d56128518ed}{path}},\ kj::WriteMode::CREATE\ |\ kj::WriteMode::CREATE\_PARENT)}
\DoxyCodeLine{00019\ \ \ \ \ \ \ -\/>writeAll(\_str);}
\DoxyCodeLine{00020\ \ \ \textcolor{keywordflow}{return}\ \_schema\_parser-\/>parseFromDirectory(*dir,\ std::move(\mbox{\hyperlink{ittnotify__static_8h_a7016119bc831a22d1a351d56128518ed}{path}}),\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00021\ \}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \}\ \ \textcolor{comment}{//\ namespace\ rfl::capnproto}}

\end{DoxyCode}
