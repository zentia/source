\doxysection{LMonestep.\+h}
\hypertarget{_l_monestep_8h_source}{}\label{_l_monestep_8h_source}\index{external/taskflow/3rd-\/party/eigen-\/3.3.7/unsupported/Eigen/src/LevenbergMarquardt/LMonestep.h@{external/taskflow/3rd-\/party/eigen-\/3.3.7/unsupported/Eigen/src/LevenbergMarquardt/LMonestep.h}}
\mbox{\hyperlink{_l_monestep_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2009\ Thomas\ Capricelli\ <orzel@freehackers.org>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ code\ initially\ comes\ from\ MINPACK\ whose\ original\ authors\ are:}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Copyright\ Jorge\ More\ -\/\ Argonne\ National\ Laboratory}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Copyright\ Burt\ Garbow\ -\/\ Argonne\ National\ Laboratory}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Copyright\ Ken\ Hillstrom\ -\/\ Argonne\ National\ Laboratory}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Minpack\ license}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ (a\ BSD-\/like\ license)\ described\ in\ the\ campaigned\ CopyrightMINPACK.txt\ file.}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_LMONESTEP\_H}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ EIGEN\_LMONESTEP\_H}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_eigen}{Eigen}}\ \{}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ FunctorType>}
\DoxyCodeLine{00020\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960}{LevenbergMarquardtSpace::Status}}}
\DoxyCodeLine{00021\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a1347316132f0bd7bf2541788d9e12637}{LevenbergMarquardt<FunctorType>::minimizeOneStep}}(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_af89008c12d6a15c46f84618473ba7722}{FVectorType}}\ \ \&\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})}
\DoxyCodeLine{00022\ \{}
\DoxyCodeLine{00023\ \ \ \textcolor{keyword}{using\ }std::abs;}
\DoxyCodeLine{00024\ \ \ \textcolor{keyword}{using\ }std::sqrt;}
\DoxyCodeLine{00025\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6e285e5f1243c1b95e5c05dbf7fb049f}{RealScalar}}\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa191d4078c1e478e93ffadb4c0b7e365}{temp}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa0614ad945ffe032414f8ddffbf125e3}{temp1}},\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a48281968ff6d27cdcad8e940356fb26a}{temp2}};\ }
\DoxyCodeLine{00026\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6e285e5f1243c1b95e5c05dbf7fb049f}{RealScalar}}\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ad1161dc9886299ae88b5212b5a4c6d00}{ratio}};\ }
\DoxyCodeLine{00027\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6e285e5f1243c1b95e5c05dbf7fb049f}{RealScalar}}\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ace8b1f7a47d2c94fb5a998424b83b3e6}{pnorm}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a5d28bf9abaced49b381e1c1f512e6379}{xnorm}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6ae581a97c02afd1b693bc62e208e4d8}{fnorm1}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b67210af7bb18d71bc4bb2fa5a7fe26}{actred}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a9be4de25560370e78f17dce9dacad2b9}{dirder}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0239869490dc6b5f449b4728c85e0227}{prered}};}
\DoxyCodeLine{00028\ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.size()==\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a679c3be36e5acf6f7f2fe7f8246b7d0b}{n}});\ \textcolor{comment}{//\ check\ the\ caller\ is\ not\ cheating\ us}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa191d4078c1e478e93ffadb4c0b7e365}{temp}}\ =\ 0.0;\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a5d28bf9abaced49b381e1c1f512e6379}{xnorm}}\ =\ 0.0;}
\DoxyCodeLine{00031\ \ \ \textcolor{comment}{/*\ calculate\ the\ jacobian\ matrix.\ */}}
\DoxyCodeLine{00032\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_acc1d494619ab4e56941de78ec0dd8a81}{Index}}\ df\_ret\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a4f178c612754a58dea825f8eb60f63ca}{m\_functor}}.df(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b93f9d038d054400264bf6e37f8d851}{m\_fjac}});}
\DoxyCodeLine{00033\ \ \ \textcolor{keywordflow}{if}\ (df\_ret<0)}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960ab1006c6b777e87a3ff709b2efb92b6bb}{LevenbergMarquardtSpace::UserAsked}};}
\DoxyCodeLine{00035\ \ \ \textcolor{keywordflow}{if}\ (df\_ret>0)}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \textcolor{comment}{//\ numerical\ diff,\ we\ evaluated\ the\ function\ df\_ret\ times}}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_af2d1d72bf3a56de5322dd160601d0a97}{m\_nfev}}\ +=\ df\_ret;}
\DoxyCodeLine{00038\ \ \ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_abb619d4003d5ef8c9d823c7d922346d2}{m\_njev}}++;}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \textcolor{comment}{/*\ compute\ the\ qr\ factorization\ of\ the\ jacobian.\ */}}
\DoxyCodeLine{00041\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ 0;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.size();\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}}(\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b93f9d038d054400264bf6e37f8d851}{m\_fjac}}.col(\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}).blueNorm();}
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0d5fc4346945f92aaeac1c6f60e7223c}{QRSolver}}\ qrfac(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b93f9d038d054400264bf6e37f8d851}{m\_fjac}});}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordflow}{if}(qrfac.info()\ !=\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}})\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a486b28126cf6155dcda3097bdf6bad3f}{m\_info}}\ =\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea1c6e20706575a629b27a105f07f1883b}{NumericalIssue}};}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960ae989dceeff60c4b6eeb68583ba725083}{LevenbergMarquardtSpace::ImproperInputParameters}};}
\DoxyCodeLine{00047\ \ \ \}}
\DoxyCodeLine{00048\ \ \ \textcolor{comment}{//\ Make\ a\ copy\ of\ the\ first\ factor\ with\ the\ associated\ permutation}}
\DoxyCodeLine{00049\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aeaf0efafbc80e55c707f815190a4b2d9}{m\_rfactor}}\ =\ qrfac.matrixR();}
\DoxyCodeLine{00050\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a9ffe37ad062484794717b44875b2c219}{m\_permutation}}\ =\ (qrfac.colsPermutation());}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{comment}{/*\ on\ the\ first\ iteration\ and\ if\ external\ scaling\ is\ not\ used,\ scale\ according\ */}}
\DoxyCodeLine{00053\ \ \ \textcolor{comment}{/*\ to\ the\ norms\ of\ the\ columns\ of\ the\ initial\ jacobian.\ */}}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_acb1991a4877e903284a3c42903debb15}{m\_iter}}\ ==\ 1)\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_abe5f6bb3f7f20125b87e5496cffb3d6f}{m\_useExternalScaling}})}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_acc1d494619ab4e56941de78ec0dd8a81}{Index}}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ 0;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a679c3be36e5acf6f7f2fe7f8246b7d0b}{n}};\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_adbbd1bf96f30a2bdabbb2cb504edd42f}{m\_diag}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]\ =\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]==0.)?\ 1.\ :\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}];}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \textcolor{comment}{/*\ on\ the\ first\ iteration,\ calculate\ the\ norm\ of\ the\ scaled\ x\ */}}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \textcolor{comment}{/*\ and\ initialize\ the\ step\ bound\ m\_delta.\ */}}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a5d28bf9abaced49b381e1c1f512e6379}{xnorm}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_adbbd1bf96f30a2bdabbb2cb504edd42f}{m\_diag}}.cwiseProduct(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}).stableNorm();}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a025d56b9a9d212719a395650d2a1d3f5}{m\_factor}}\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a5d28bf9abaced49b381e1c1f512e6379}{xnorm}};}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}}\ ==\ 0.)}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a025d56b9a9d212719a395650d2a1d3f5}{m\_factor}};}
\DoxyCodeLine{00065\ \ \ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \textcolor{comment}{/*\ form\ (q\ transpose)*m\_fvec\ and\ store\ the\ first\ n\ components\ in\ */}}
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{/*\ m\_qtf.\ */}}
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ab49c2738f39a6557c9c32d5a3d1f0442}{m\_wa4}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a27fd3a537565fbd7e20d66a5011832ce}{m\_fvec}};}
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ab49c2738f39a6557c9c32d5a3d1f0442}{m\_wa4}}\ =\ qrfac.matrixQ().adjoint()\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a27fd3a537565fbd7e20d66a5011832ce}{m\_fvec}};\ }
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a77eaa16a91da3c6dc3222793bfa40173}{m\_qtf}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ab49c2738f39a6557c9c32d5a3d1f0442}{m\_wa4}}.head(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a679c3be36e5acf6f7f2fe7f8246b7d0b}{n}});}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \textcolor{comment}{/*\ compute\ the\ norm\ of\ the\ scaled\ gradient.\ */}}
\DoxyCodeLine{00074\ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a921a2e06bfc54c4e34e26a6716b53844}{m\_gnorm}}\ =\ 0.;}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a075364e4fc0e24f84b775415224eae7e}{m\_fnorm}}\ !=\ 0.)}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_acc1d494619ab4e56941de78ec0dd8a81}{Index}}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ 0;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a679c3be36e5acf6f7f2fe7f8246b7d0b}{n}};\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}}[\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a9ffe37ad062484794717b44875b2c219}{m\_permutation}}.indices()[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]]\ !=\ 0.)}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a921a2e06bfc54c4e34e26a6716b53844}{m\_gnorm}}\ =\ (std::max)(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a921a2e06bfc54c4e34e26a6716b53844}{m\_gnorm}},\ \mbox{\hyperlink{datatypes_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}}(\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aeaf0efafbc80e55c707f815190a4b2d9}{m\_rfactor}}.col(\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}).head(\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}+1).dot(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a77eaa16a91da3c6dc3222793bfa40173}{m\_qtf}}.head(\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}+1)/\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a075364e4fc0e24f84b775415224eae7e}{m\_fnorm}})\ /\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}}[\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a9ffe37ad062484794717b44875b2c219}{m\_permutation}}.indices()[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]]));}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \textcolor{comment}{/*\ test\ for\ convergence\ of\ the\ gradient\ norm.\ */}}
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a921a2e06bfc54c4e34e26a6716b53844}{m\_gnorm}}\ <=\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a4d902408d76b11f72ac2220ea58c3ae5}{m\_gtol}})\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a486b28126cf6155dcda3097bdf6bad3f}{m\_info}}\ =\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}};}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960ac5ff70d68553682f03c5846a1ce8e9c8}{LevenbergMarquardtSpace::CosinusTooSmall}};}
\DoxyCodeLine{00084\ \ \ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \textcolor{comment}{/*\ rescale\ if\ necessary.\ */}}
\DoxyCodeLine{00087\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_abe5f6bb3f7f20125b87e5496cffb3d6f}{m\_useExternalScaling}})}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_adbbd1bf96f30a2bdabbb2cb504edd42f}{m\_diag}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_adbbd1bf96f30a2bdabbb2cb504edd42f}{m\_diag}}.cwiseMax(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}});}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{comment}{/*\ determine\ the\ levenberg-\/marquardt\ parameter.\ */}}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{namespace_eigen_1_1internal_aba45e9db6efca39c2cd2ed9ea8911acf}{internal::lmpar2}}(qrfac,\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_adbbd1bf96f30a2bdabbb2cb504edd42f}{m\_diag}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a77eaa16a91da3c6dc3222793bfa40173}{m\_qtf}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a170bed39d0072c826c2cb66c1dc8821a}{m\_par}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0ada492bdd9fb975080db8146c75a8f3}{m\_wa1}});}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{/*\ store\ the\ direction\ p\ and\ x\ +\ p.\ calculate\ the\ norm\ of\ p.\ */}}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0ada492bdd9fb975080db8146c75a8f3}{m\_wa1}}\ =\ -\/\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0ada492bdd9fb975080db8146c75a8f3}{m\_wa1}};}
\DoxyCodeLine{00096\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}}\ =\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ +\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0ada492bdd9fb975080db8146c75a8f3}{m\_wa1}};}
\DoxyCodeLine{00097\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ace8b1f7a47d2c94fb5a998424b83b3e6}{pnorm}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_adbbd1bf96f30a2bdabbb2cb504edd42f}{m\_diag}}.cwiseProduct(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0ada492bdd9fb975080db8146c75a8f3}{m\_wa1}}).stableNorm();}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{/*\ on\ the\ first\ iteration,\ adjust\ the\ initial\ step\ bound.\ */}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_acb1991a4877e903284a3c42903debb15}{m\_iter}}\ ==\ 1)}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}}\ =\ (\mbox{\hyperlink{namespacestd_ac7b9885417769949d76890454b6d072e}{std::min}})(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}},\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ace8b1f7a47d2c94fb5a998424b83b3e6}{pnorm}});}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{comment}{/*\ evaluate\ the\ function\ at\ x\ +\ p\ and\ calculate\ its\ norm.\ */}}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a4f178c612754a58dea825f8eb60f63ca}{m\_functor}}(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ab49c2738f39a6557c9c32d5a3d1f0442}{m\_wa4}})\ <\ 0)}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960ab1006c6b777e87a3ff709b2efb92b6bb}{LevenbergMarquardtSpace::UserAsked}};}
\DoxyCodeLine{00106\ \ \ \ \ ++\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_af2d1d72bf3a56de5322dd160601d0a97}{m\_nfev}};}
\DoxyCodeLine{00107\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6ae581a97c02afd1b693bc62e208e4d8}{fnorm1}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ab49c2738f39a6557c9c32d5a3d1f0442}{m\_wa4}}.stableNorm();}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{comment}{/*\ compute\ the\ scaled\ actual\ reduction.\ */}}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b67210af7bb18d71bc4bb2fa5a7fe26}{actred}}\ =\ -\/1.;}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(.1)\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6ae581a97c02afd1b693bc62e208e4d8}{fnorm1}}\ <\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a075364e4fc0e24f84b775415224eae7e}{m\_fnorm}})}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b67210af7bb18d71bc4bb2fa5a7fe26}{actred}}\ =\ 1.\ -\/\ numext::abs2(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6ae581a97c02afd1b693bc62e208e4d8}{fnorm1}}\ /\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a075364e4fc0e24f84b775415224eae7e}{m\_fnorm}});}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{/*\ compute\ the\ scaled\ predicted\ reduction\ and\ */}}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{comment}{/*\ the\ scaled\ directional\ derivative.\ */}}
\DoxyCodeLine{00116\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6f800e883827f2480623359a1ab0d4f7}{m\_wa3}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aeaf0efafbc80e55c707f815190a4b2d9}{m\_rfactor}}.template\ triangularView<Upper>()\ *\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a9ffe37ad062484794717b44875b2c219}{m\_permutation}}.inverse()\ *\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0ada492bdd9fb975080db8146c75a8f3}{m\_wa1}});}
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa0614ad945ffe032414f8ddffbf125e3}{temp1}}\ =\ numext::abs2(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6f800e883827f2480623359a1ab0d4f7}{m\_wa3}}.stableNorm()\ /\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a075364e4fc0e24f84b775415224eae7e}{m\_fnorm}});}
\DoxyCodeLine{00118\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a48281968ff6d27cdcad8e940356fb26a}{temp2}}\ =\ numext::abs2(\mbox{\hyperlink{_array_cwise_unary_ops_8h_a656b9217a2fcb6de59dc8d1eb3079cc7}{sqrt}}(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a170bed39d0072c826c2cb66c1dc8821a}{m\_par}})\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ace8b1f7a47d2c94fb5a998424b83b3e6}{pnorm}}\ /\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a075364e4fc0e24f84b775415224eae7e}{m\_fnorm}});}
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0239869490dc6b5f449b4728c85e0227}{prered}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa0614ad945ffe032414f8ddffbf125e3}{temp1}}\ +\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a48281968ff6d27cdcad8e940356fb26a}{temp2}}\ /\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(.5);}
\DoxyCodeLine{00120\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a9be4de25560370e78f17dce9dacad2b9}{dirder}}\ =\ -\/(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa0614ad945ffe032414f8ddffbf125e3}{temp1}}\ +\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a48281968ff6d27cdcad8e940356fb26a}{temp2}});}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{comment}{/*\ compute\ the\ ratio\ of\ the\ actual\ to\ the\ predicted\ */}}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{comment}{/*\ reduction.\ */}}
\DoxyCodeLine{00124\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ad1161dc9886299ae88b5212b5a4c6d00}{ratio}}\ =\ 0.;}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0239869490dc6b5f449b4728c85e0227}{prered}}\ !=\ 0.)}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ad1161dc9886299ae88b5212b5a4c6d00}{ratio}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b67210af7bb18d71bc4bb2fa5a7fe26}{actred}}\ /\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0239869490dc6b5f449b4728c85e0227}{prered}};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{comment}{/*\ update\ the\ step\ bound.\ */}}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ad1161dc9886299ae88b5212b5a4c6d00}{ratio}}\ <=\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(.25))\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b67210af7bb18d71bc4bb2fa5a7fe26}{actred}}\ >=\ 0.)}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa191d4078c1e478e93ffadb4c0b7e365}{temp}}\ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(.5);}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b67210af7bb18d71bc4bb2fa5a7fe26}{actred}}\ <\ 0.)}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa191d4078c1e478e93ffadb4c0b7e365}{temp}}\ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(.5)\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a9be4de25560370e78f17dce9dacad2b9}{dirder}}\ /\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a9be4de25560370e78f17dce9dacad2b9}{dirder}}\ +\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(.5)\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b67210af7bb18d71bc4bb2fa5a7fe26}{actred}});}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(.1)\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6ae581a97c02afd1b693bc62e208e4d8}{fnorm1}}\ >=\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a075364e4fc0e24f84b775415224eae7e}{m\_fnorm}}\ ||\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa191d4078c1e478e93ffadb4c0b7e365}{temp}}\ <\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(.1))}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa191d4078c1e478e93ffadb4c0b7e365}{temp}}\ =\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(.1);}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Computing\ MIN\ */}}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa191d4078c1e478e93ffadb4c0b7e365}{temp}}\ *\ (\mbox{\hyperlink{namespacestd_ac7b9885417769949d76890454b6d072e}{std::min}})(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}},\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ace8b1f7a47d2c94fb5a998424b83b3e6}{pnorm}}\ /\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(.1));}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a170bed39d0072c826c2cb66c1dc8821a}{m\_par}}\ /=\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa191d4078c1e478e93ffadb4c0b7e365}{temp}};}
\DoxyCodeLine{00139\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a170bed39d0072c826c2cb66c1dc8821a}{m\_par}}\ !=\ 0.\ \&\&\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ad1161dc9886299ae88b5212b5a4c6d00}{ratio}}\ <\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(.75)))\ \{}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ace8b1f7a47d2c94fb5a998424b83b3e6}{pnorm}}\ /\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(.5);}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a170bed39d0072c826c2cb66c1dc8821a}{m\_par}}\ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(.5)\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a170bed39d0072c826c2cb66c1dc8821a}{m\_par}};}
\DoxyCodeLine{00142\ \ \ \ \ \}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{comment}{/*\ test\ for\ successful\ iteration.\ */}}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ad1161dc9886299ae88b5212b5a4c6d00}{ratio}}\ >=\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(1\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/4))\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ successful\ iteration.\ update\ x,\ m\_fvec,\ and\ their\ norms.\ */}}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}};}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_adbbd1bf96f30a2bdabbb2cb504edd42f}{m\_diag}}.cwiseProduct(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}});}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a27fd3a537565fbd7e20d66a5011832ce}{m\_fvec}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ab49c2738f39a6557c9c32d5a3d1f0442}{m\_wa4}};}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a5d28bf9abaced49b381e1c1f512e6379}{xnorm}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a55bf4ed366a252405b5ec878f0c8bda9}{m\_wa2}}.stableNorm();}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a075364e4fc0e24f84b775415224eae7e}{m\_fnorm}}\ =\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a6ae581a97c02afd1b693bc62e208e4d8}{fnorm1}};}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_acb1991a4877e903284a3c42903debb15}{m\_iter}};}
\DoxyCodeLine{00153\ \ \ \ \ \}}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{comment}{/*\ tests\ for\ convergence.\ */}}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{datatypes_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}}(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b67210af7bb18d71bc4bb2fa5a7fe26}{actred}})\ <=\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa3a5e234c5b3ccd3a18a05cb1bd437e0}{m\_ftol}}\ \&\&\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0239869490dc6b5f449b4728c85e0227}{prered}}\ <=\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa3a5e234c5b3ccd3a18a05cb1bd437e0}{m\_ftol}}\ \&\&\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(.5)\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ad1161dc9886299ae88b5212b5a4c6d00}{ratio}}\ <=\ 1.\ \&\&\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}}\ <=\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a25abcb938b261ffb81ea1f6999897d79}{m\_xtol}}\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a5d28bf9abaced49b381e1c1f512e6379}{xnorm}})}
\DoxyCodeLine{00157\ \ \ \ \ \{}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a486b28126cf6155dcda3097bdf6bad3f}{m\_info}}\ =\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}};}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960af223b11f9cd54dd898a4c737ee7d2dd3}{LevenbergMarquardtSpace::RelativeErrorAndReductionTooSmall}};}
\DoxyCodeLine{00160\ \ \ \ \ \}}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{datatypes_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}}(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b67210af7bb18d71bc4bb2fa5a7fe26}{actred}})\ <=\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa3a5e234c5b3ccd3a18a05cb1bd437e0}{m\_ftol}}\ \&\&\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0239869490dc6b5f449b4728c85e0227}{prered}}\ <=\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_aa3a5e234c5b3ccd3a18a05cb1bd437e0}{m\_ftol}}\ \&\&\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(.5)\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ad1161dc9886299ae88b5212b5a4c6d00}{ratio}}\ <=\ 1.)\ }
\DoxyCodeLine{00162\ \ \ \ \ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a486b28126cf6155dcda3097bdf6bad3f}{m\_info}}\ =\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}};}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960a461ecc91d59b6b04c5d0bd1c67cc005e}{LevenbergMarquardtSpace::RelativeReductionTooSmall}};}
\DoxyCodeLine{00165\ \ \ \ \ \}}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}}\ <=\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a25abcb938b261ffb81ea1f6999897d79}{m\_xtol}}\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a5d28bf9abaced49b381e1c1f512e6379}{xnorm}})}
\DoxyCodeLine{00167\ \ \ \ \ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a486b28126cf6155dcda3097bdf6bad3f}{m\_info}}\ =\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}};}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960ae7d26f37ba9936b0bff941591c21375e}{LevenbergMarquardtSpace::RelativeErrorTooSmall}};}
\DoxyCodeLine{00170\ \ \ \ \ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{comment}{/*\ tests\ for\ termination\ and\ stringent\ tolerances.\ */}}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_af2d1d72bf3a56de5322dd160601d0a97}{m\_nfev}}\ >=\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a9a61e3bbe530961cb83b65b20f251e9b}{m\_maxfev}})\ }
\DoxyCodeLine{00174\ \ \ \ \ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a486b28126cf6155dcda3097bdf6bad3f}{m\_info}}\ =\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea6a68dfb88a8336108a30588bdf356c57}{NoConvergence}};}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960ac2198bb964dca4fc6a8628f1bb1bd849}{LevenbergMarquardtSpace::TooManyFunctionEvaluation}};}
\DoxyCodeLine{00177\ \ \ \ \ \}}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{datatypes_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}}(\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a3b67210af7bb18d71bc4bb2fa5a7fe26}{actred}})\ <=\ \mbox{\hyperlink{struct_eigen_1_1_generic_num_traits_aadcf7fa75b2bc9a0e461a3b851d836a7}{NumTraits<Scalar>::epsilon}}()\ \&\&\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a0239869490dc6b5f449b4728c85e0227}{prered}}\ <=\ \mbox{\hyperlink{struct_eigen_1_1_generic_num_traits_aadcf7fa75b2bc9a0e461a3b851d836a7}{NumTraits<Scalar>::epsilon}}()\ \&\&\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(.5)\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ad1161dc9886299ae88b5212b5a4c6d00}{ratio}}\ <=\ 1.)}
\DoxyCodeLine{00179\ \ \ \ \ \{}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a486b28126cf6155dcda3097bdf6bad3f}{m\_info}}\ =\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}};}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960abaac8e41a77e4bdeabce3560d2567537}{LevenbergMarquardtSpace::FtolTooSmall}};}
\DoxyCodeLine{00182\ \ \ \ \ \}}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a083de6ed143d070a137ee7347261c84a}{m\_delta}}\ <=\ \mbox{\hyperlink{struct_eigen_1_1_generic_num_traits_aadcf7fa75b2bc9a0e461a3b851d836a7}{NumTraits<Scalar>::epsilon}}()\ *\ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a5d28bf9abaced49b381e1c1f512e6379}{xnorm}})\ }
\DoxyCodeLine{00184\ \ \ \ \ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a486b28126cf6155dcda3097bdf6bad3f}{m\_info}}\ =\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}};}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960ac2313ce01bb0fce1431123759b8dfed3}{LevenbergMarquardtSpace::XtolTooSmall}};}
\DoxyCodeLine{00187\ \ \ \ \ \}}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a921a2e06bfc54c4e34e26a6716b53844}{m\_gnorm}}\ <=\ \mbox{\hyperlink{struct_eigen_1_1_generic_num_traits_aadcf7fa75b2bc9a0e461a3b851d836a7}{NumTraits<Scalar>::epsilon}}())}
\DoxyCodeLine{00189\ \ \ \ \ \{}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_a486b28126cf6155dcda3097bdf6bad3f}{m\_info}}\ =\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}};}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960a68f442cd7bfc7fea4106161c691f2b3d}{LevenbergMarquardtSpace::GtolTooSmall}};}
\DoxyCodeLine{00192\ \ \ \ \ \}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \}\ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{class_eigen_1_1_levenberg_marquardt_ad1161dc9886299ae88b5212b5a4c6d00}{ratio}}\ <\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(1\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/4));}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1_levenberg_marquardt_space_af4e38304e1ecfc701465875eed50e960ab78a06f2e8a3d7845a7f6cf6a10509d2}{LevenbergMarquardtSpace::Running}};}
\DoxyCodeLine{00197\ \}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ }
\DoxyCodeLine{00200\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_LMONESTEP\_H}}

\end{DoxyCode}
