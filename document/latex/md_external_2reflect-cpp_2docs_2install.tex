\chapter{install}
\hypertarget{md_external_2reflect-cpp_2docs_2install}{}\label{md_external_2reflect-cpp_2docs_2install}\index{install@{install}}
\hypertarget{md_external_2reflect-cpp_2docs_2install_autotoc_md591}{}\doxysubsection{\texorpdfstring{autotoc\+\_\+md591}{autotoc\+\_\+md591}}\label{md_external_2reflect-cpp_2docs_2install_autotoc_md591}
hide\+: \hypertarget{md_external_2reflect-cpp_2docs_2install_autotoc_md592}{}\doxysubsection{\texorpdfstring{-\/ navigation}{-\/ navigation}}\label{md_external_2reflect-cpp_2docs_2install_autotoc_md592}
\hypertarget{md_external_2reflect-cpp_2docs_2install_autotoc_md593}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md_external_2reflect-cpp_2docs_2install_autotoc_md593}
The following compilers are supported\+:
\begin{DoxyItemize}
\item GCC 11.\+4 or higher
\item Clang 14.\+0 or higher
\item MSVC 17.\+8 (19.\+38) or higher
\end{DoxyItemize}

You can include the source files into your build or compile it using cmake and vcpkg.\hypertarget{md_external_2reflect-cpp_2docs_2install_autotoc_md594}{}\doxysubsection{\texorpdfstring{Option 1\+: Using vcpkg}{Option 1\+: Using vcpkg}}\label{md_external_2reflect-cpp_2docs_2install_autotoc_md594}
Refer to \href{https://vcpkg.link/ports/reflectcpp}{\texttt{ this port}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{vcpkg\ install\ reflectcpp}

\end{DoxyCode}


or, if you are in manifest mode\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{vcpkg\ add\ port\ reflectcpp}

\end{DoxyCode}


If the library cannot be found, please update vcpkg itself to make sure the newest ports are installed. You might also want to update the {\ttfamily builtin-\/baseline} tag in the {\itshape vcpkg.\+json} of your project.

If you want to support formats other than JSON, please install the appropriate vcpkg features. Refer to the link above to find out which features are supported in the vcpkg port.\hypertarget{md_external_2reflect-cpp_2docs_2install_autotoc_md595}{}\doxysubsection{\texorpdfstring{Option 2\+: Using Conan}{Option 2\+: Using Conan}}\label{md_external_2reflect-cpp_2docs_2install_autotoc_md595}
Simply use \href{https://conan.io/center/recipes/reflect-cpp}{\texttt{ this recipe}}.\hypertarget{md_external_2reflect-cpp_2docs_2install_autotoc_md596}{}\doxysubsection{\texorpdfstring{Option 3\+: Compilation using cmake}{Option 3\+: Compilation using cmake}}\label{md_external_2reflect-cpp_2docs_2install_autotoc_md596}
This will compile reflect-\/cpp with JSON support only. You can then include reflect-\/cpp in your project and link to the binary.


\begin{DoxyCode}{0}
\DoxyCodeLine{cmake\ -\/S\ .\ -\/B\ build\ -\/DCMAKE\_CXX\_STANDARD=20\ -\/DCMAKE\_BUILD\_TYPE=Release}
\DoxyCodeLine{cmake\ -\/-\/build\ build\ -\/j\ 4\ \ \#\ gcc,\ clang}
\DoxyCodeLine{cmake\ -\/-\/build\ build\ -\/-\/config\ Release\ -\/j\ 4\ \ \#\ MSVC}

\end{DoxyCode}
\hypertarget{md_external_2reflect-cpp_2docs_2install_autotoc_md597}{}\doxysubsection{\texorpdfstring{Option 4\+: Include source files into your own build}{Option 4\+: Include source files into your own build}}\label{md_external_2reflect-cpp_2docs_2install_autotoc_md597}
Simply copy the contents of the folders {\ttfamily include} and {\ttfamily src} into your source repository or add it to your include path and also add {\ttfamily \doxylink{reflectcpp_8cpp}{src/reflectcpp.\+cpp}} and {\ttfamily \doxylink{reflectcpp__json_8cpp}{src/reflectcpp\+\_\+json.\+cpp}} and {\ttfamily \doxylink{yyjson_8c}{src/yyjson.\+c}} to your source files for compilation. If you want to link to your own version of YYJSON, then only add {\ttfamily \doxylink{reflectcpp_8cpp}{src/reflectcpp.\+cpp}} and {\ttfamily \doxylink{reflectcpp__json_8cpp}{src/reflectcpp\+\_\+json.\+cpp}}. If you don\textquotesingle{}t need JSON support, then only add {\ttfamily \doxylink{reflectcpp_8cpp}{src/reflectcpp.\+cpp}}.

If you need support for other serialization formats like flexbuffers or XML, you should also add {\ttfamily src/reflectcpp\+\_\+\texorpdfstring{$<$}{<}format\texorpdfstring{$>$}{>}.cpp} and include and link the respective libraries, as listed in the section on serialization formats.\hypertarget{md_external_2reflect-cpp_2docs_2install_autotoc_md598}{}\doxysubsection{\texorpdfstring{Option 5\+: Compilation using cmake and vcpkg}{Option 5\+: Compilation using cmake and vcpkg}}\label{md_external_2reflect-cpp_2docs_2install_autotoc_md598}
If you want serialization formats other than JSON, you can either install them manually or use vcpkg.

To install vcpkg\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{git\ submodule\ update\ -\/-\/init}
\DoxyCodeLine{./vcpkg/bootstrap-\/vcpkg.sh\ \#\ Linux,\ macOS}
\DoxyCodeLine{./vcpkg/bootstrap-\/vcpkg.bat\ \#\ Windows}
\DoxyCodeLine{\#\ You\ may\ be\ prompted\ to\ install\ additional\ dependencies.}

\end{DoxyCode}


To compile the library\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{cmake\ -\/S\ .\ -\/B\ build\ -\/DCMAKE\_CXX\_STANDARD=20\ -\/DREFLECTCPP\_AVRO=ON\ -\/DREFLECTCPP\_BSON=ON\ -\/DREFLECTCPP\_CAPNPROTO=ON\ -\/DREFLECTCPP\_CBOR=ON\ -\/DREFLECTCPP\_FLEXBUFFERS=ON\ -\/DREFLECTCPP\_MSGPACK=ON\ -\/DREFLECTCPP\_XML=ON\ -\/DREFLECTCPP\_TOML=ON\ -\/DREFLECTCPP\_UBJSON=ON\ -\/DREFLECTCPP\_YAML=ON\ -\/DCMAKE\_BUILD\_TYPE=Release}
\DoxyCodeLine{cmake\ -\/-\/build\ build\ -\/j\ 4\ \#\ gcc,\ clang}
\DoxyCodeLine{cmake\ -\/-\/build\ build\ -\/-\/config\ Release\ -\/j\ 4\ \#\ MSVC}

\end{DoxyCode}


To use reflect-\/cpp in your project\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{add\_subdirectory(reflect-\/cpp)\ \#\ Add\ this\ project\ as\ a\ subdirectory}
\DoxyCodeLine{}
\DoxyCodeLine{set(REFLECTCPP\_AVRO\ ON)\ \#\ Optional}
\DoxyCodeLine{set(REFLECTCPP\_BSON\ ON)\ \#\ Optional}
\DoxyCodeLine{set(REFLECTCPP\_CBOR\ ON)\ \#\ Optional}
\DoxyCodeLine{set(REFLECTCPP\_FLEXBUFFERS\ ON)\ \#\ Optional}
\DoxyCodeLine{set(REFLECTCPP\_MSGPACK\ ON)\ \#\ Optional}
\DoxyCodeLine{set(REFLECTCPP\_TOML\ ON)\ \#\ Optional}
\DoxyCodeLine{set(REFLECTCPP\_UBJSON\ ON)\ \#\ Optional}
\DoxyCodeLine{set(REFLECTCPP\_XML\ ON)\ \#\ Optional}
\DoxyCodeLine{set(REFLECTCPP\_YAML\ ON)\ \#\ Optional}
\DoxyCodeLine{}
\DoxyCodeLine{target\_link\_libraries(your\_project\ PRIVATE\ reflectcpp)\ \#\ Link\ against\ the\ library}

\end{DoxyCode}
\hypertarget{md_external_2reflect-cpp_2docs_2install_autotoc_md599}{}\doxysubsubsection{\texorpdfstring{Troubleshooting vcpkg}{Troubleshooting vcpkg}}\label{md_external_2reflect-cpp_2docs_2install_autotoc_md599}
vcpkg is a great, but very ambitious and complex project (just like C++ is a great, but very ambitious and complex language). Here are some of the you might run into and how to resolve them\+:


\begin{DoxyEnumerate}
\item \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} lot of problems can simply be resolved by deleting the build directory using {\ttfamily rm -\/rf build}.
\item {\itshape Environment variable VCPKG\+\_\+\+FORCE\+\_\+\+SYSTEM\+\_\+\+BINARIES must be set on arm, s390x, ppc64le and riscv platforms.} -\/ This usually happens on arm platforms like the Apple Silicon chips and can be resolved by simply preceding your build with {\ttfamily export VCPKG\+\_\+\+FORCE\+\_\+\+SYSTEM\+\_\+\+BINARIES=arm} or {\ttfamily export VCPKG\+\_\+\+FORCE\+\_\+\+SYSTEM\+\_\+\+BINARIES=1}.
\item On some occasions you might be asked to specify a compiler. You can do so by simply adding it to the cmake command as follows\+: {\ttfamily cmake -\/S . -\/\doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B} build ... -\/DCMAKE\+\_\+\+C\+\_\+\+COMPILER=gcc -\/DCMAKE\+\_\+\+CXX\+\_\+\+COMPILER=g++} or {\ttfamily cmake -\/S . -\/\doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B} build ... -\/DCMAKE\+\_\+\+C\+\_\+\+COMPILER=clang-\/17 -\/DCMAKE\+\_\+\+CXX\+\_\+\+COMPILER=clang++-\/17} (or whatever supported compiler you would like to use).
\end{DoxyEnumerate}\hypertarget{md_external_2reflect-cpp_2docs_2install_autotoc_md600}{}\doxysubsection{\texorpdfstring{Option 6\+: Compilation using Conan}{Option 6\+: Compilation using Conan}}\label{md_external_2reflect-cpp_2docs_2install_autotoc_md600}
To install Conan (assuming you have Python and pipx installed)\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{pipx\ install\ conan}
\DoxyCodeLine{conan\ profile\ detect}

\end{DoxyCode}


For older versions of pip, you can also use {\ttfamily pip} instead of {\ttfamily pipx}.

To install the basic (JSON-\/only) version, cd into the {\ttfamily reflect-\/cpp} repository and execute the following\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{conan\ build\ .\ -\/-\/build=missing\ -\/s\ compiler.cppstd=gnu20}

\end{DoxyCode}


You can call {\ttfamily conan inspect .} to get an overview of the supported options.

If you want to include all formats supported on Conan, do the following\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{conan\ build\ .\ -\/-\/build=missing\ -\/s\ compiler.cppstd=gnu20\ -\/o\ *:with\_cbor=True\ -\/o\ *:with\_flatbuffers=True\ -\/o\ *:with\_msgpack=True\ -\/o\ *:with\_toml=True\ -\/o\ *:with\_ubjson=True\ -\/o\ *:with\_xml=True\ -\/o\ *:with\_yaml=True}

\end{DoxyCode}
 