\doxysection{tbb\+::internal\+::custom\+\_\+scheduler\texorpdfstring{$<$}{<} Scheduler\+Traits \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classtbb_1_1internal_1_1custom__scheduler}{}\label{classtbb_1_1internal_1_1custom__scheduler}\index{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}}


\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} scheduler with a customized evaluation loop.  




{\ttfamily \#include $<$custom\+\_\+scheduler.\+h$>$}



类 tbb\+::internal\+::custom\+\_\+scheduler\texorpdfstring{$<$}{<} Scheduler\+Traits \texorpdfstring{$>$}{>} 继承关系图\+:
% FIG 0


tbb\+::internal\+::custom\+\_\+scheduler\texorpdfstring{$<$}{<} Scheduler\+Traits \texorpdfstring{$>$}{>} 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler_a3825613e3650d5a9110b9b9f5ee4a3e9}{receive\+\_\+or\+\_\+steal\+\_\+task}} (\mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(\+\_\+\+\_\+\+TBB\+\_\+atomic reference\+\_\+count \&completion\+\_\+ref\+\_\+count, isolation\+\_\+tag isolation)) \+\_\+\+\_\+\+TBB\+\_\+override
\begin{DoxyCompactList}\small\item\em Try getting a task from the mailbox or stealing from another scheduler. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler_a8b286a7e4beb8de0a14661d0136002fd}{allocate\+\_\+scheduler}} (\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} genuine)
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 类型}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{custom\+\_\+scheduler}}$<$ Scheduler\+Traits $>$ \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler_af22f4470986fa755255d3daf8f96a65b}{scheduler\+\_\+type}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler_a92d7730728b3c41c398724de94778e75}{custom\+\_\+scheduler}} (\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} genuine)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler_a5e2c5878baf724264214e91070844487}{local\+\_\+wait\+\_\+for\+\_\+all}} (task \&\mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}, task \texorpdfstring{$\ast$}{*}child) \+\_\+\+\_\+\+TBB\+\_\+override
\begin{DoxyCompactList}\small\item\em Scheduler loop that dispatches tasks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler_aabe8193f0004a9631d160743c29f277c}{wait\+\_\+for\+\_\+all}} (task \&\mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}, task \texorpdfstring{$\ast$}{*}child) \+\_\+\+\_\+\+TBB\+\_\+override
\begin{DoxyCompactList}\small\item\em Entry point from client code to the scheduler loop that dispatches tasks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler_ad4ec695868b3ae27a95f3e393601243a}{tally\+\_\+completion\+\_\+of\+\_\+predecessor}} (task \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}, \mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(task \texorpdfstring{$\ast$}{*}\&bypass\+\_\+slot, isolation\+\_\+tag isolation))
\begin{DoxyCompactList}\small\item\em Decrements ref\+\_\+count of a predecessor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler_a4ac27cfa293899be6721f939dfdcdf5b}{process\+\_\+bypass\+\_\+loop}} (\mbox{\hyperlink{structtbb_1_1internal_1_1context__guard__helper}{context\+\_\+guard\+\_\+helper}}$<$ Scheduler\+Traits\+::itt\+\_\+possible $>$ \&context\+\_\+guard, \mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}, isolation\+\_\+tag isolation))
\begin{DoxyCompactList}\small\item\em Implements the bypass loop of the dispatch loop (local\+\_\+wait\+\_\+for\+\_\+all). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private 成员函数 继承自 \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{tbb\+::internal\+::generic\+\_\+scheduler}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a1f221aa79878e3962ea2b3eaa7429fe1}{is\+\_\+task\+\_\+pool\+\_\+published}} () const
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a74b022285a6ff04a9ea2957999d4def3}{is\+\_\+local\+\_\+task\+\_\+pool\+\_\+quiescent}} () const
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a52f9f2d835b4d68680887253a597f779}{is\+\_\+quiescent\+\_\+local\+\_\+task\+\_\+pool\+\_\+empty}} () const
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a089d1ca7efe019834cc06e82b4f3d883}{is\+\_\+quiescent\+\_\+local\+\_\+task\+\_\+pool\+\_\+reset}} () const
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a5ab89891d3c1e3209cffced8bf93b124}{attach\+\_\+mailbox}} (\mbox{\hyperlink{namespacetbb_1_1internal_a3e3837fb3ca7bbf4cf4752c58cbed886}{affinity\+\_\+id}} \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}})
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_afd799eae7903abc75b7a7aafd36e20db}{init\+\_\+stack\+\_\+info}} ()
\begin{DoxyCompactList}\small\item\em Sets up the data necessary for the stealing limiting heuristics \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a1c00f465a90ee09a240d1f81de5f635b}{can\+\_\+steal}} ()
\begin{DoxyCompactList}\small\item\em Returns true if stealing is allowed \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_af222cccbf09e91c9c9caaad81f8d993d}{publish\+\_\+task\+\_\+pool}} ()
\begin{DoxyCompactList}\small\item\em Used by workers to enter the task pool \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aad4a3aef975ca2516a81640654a65717}{leave\+\_\+task\+\_\+pool}} ()
\begin{DoxyCompactList}\small\item\em Leave the task pool \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ad8f6a6793961db84240434fffd7b50f3}{reset\+\_\+task\+\_\+pool\+\_\+and\+\_\+leave}} ()
\begin{DoxyCompactList}\small\item\em Resets head and tail indices to 0, and leaves task pool \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a3def047033ef29c77c43db170a38df2c}{lock\+\_\+task\+\_\+pool}} (\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \texorpdfstring{$\ast$}{*}victim\+\_\+arena\+\_\+slot) const
\begin{DoxyCompactList}\small\item\em Locks victim\textquotesingle{}s task pool, and returns pointer to it. The pointer can be NULL. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a9deee19e39b49b7e1f44c87533600b46}{unlock\+\_\+task\+\_\+pool}} (\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \texorpdfstring{$\ast$}{*}victim\+\_\+arena\+\_\+slot, task \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}victim\+\_\+task\+\_\+pool) const
\begin{DoxyCompactList}\small\item\em Unlocks victim\textquotesingle{}s task pool \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ae1cf7dda46c2687a1ea7edacbea10da1}{acquire\+\_\+task\+\_\+pool}} () const
\begin{DoxyCompactList}\small\item\em Locks the local task pool \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a6ff28eab04933075791b16075ceb5950}{release\+\_\+task\+\_\+pool}} () const
\begin{DoxyCompactList}\small\item\em Unlocks the local task pool \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a8a62642cb4b1ba391b8d3b9a00dca541}{prepare\+\_\+for\+\_\+spawning}} (task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\begin{DoxyCompactList}\small\item\em Checks if t is affinitized to another thread, and if so, bundles it as proxy. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a7f7d3a75d44d62525c8b31c32917d242}{commit\+\_\+spawned\+\_\+tasks}} (size\+\_\+t new\+\_\+tail)
\begin{DoxyCompactList}\small\item\em Makes newly spawned tasks visible to thieves \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aecf34e6a9902af76bbbeab1fd3851df8}{commit\+\_\+relocated\+\_\+tasks}} (size\+\_\+t new\+\_\+tail)
\begin{DoxyCompactList}\small\item\em Makes relocated tasks visible to thieves and releases the local task pool. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a10c72a4aad7308d944cef26502ece55e}{get\+\_\+task}} (\mbox{\hyperlink{scheduler__common_8h_a63e9a35b6d2bfbfb21b3199dc03acc6d}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+EXPR}}(isolation\+\_\+tag isolation))
\begin{DoxyCompactList}\small\item\em Get a task from the local pool. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aad832dcce47939c2fd150a0e63a395ec}{get\+\_\+task}} (size\+\_\+t \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}})
\begin{DoxyCompactList}\small\item\em Get a task from the local pool at specified location T. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a5657ac6c517d9bbf59a424ef330640bb}{get\+\_\+mailbox\+\_\+task}} (\mbox{\hyperlink{scheduler__common_8h_a63e9a35b6d2bfbfb21b3199dc03acc6d}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+EXPR}}(isolation\+\_\+tag isolation))
\begin{DoxyCompactList}\small\item\em Attempt to get a task from the mailbox. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_abb8f3f3967170ca9398e55b90220c3cb}{steal\+\_\+task}} (\mbox{\hyperlink{scheduler__common_8h_a63e9a35b6d2bfbfb21b3199dc03acc6d}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+EXPR}}(isolation\+\_\+tag isolation))
\begin{DoxyCompactList}\small\item\em Attempts to steal a task from a randomly chosen thread/scheduler \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a15b506cb1b1da8e37255fc2fcdf250f0}{steal\+\_\+task\+\_\+from}} (\mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \&victim\+\_\+arena\+\_\+slot, isolation\+\_\+tag isolation))
\begin{DoxyCompactList}\small\item\em Steal task from another scheduler\textquotesingle{}s ready pool. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a0460616fb84af745b12688927ff1bb7d}{prepare\+\_\+task\+\_\+pool}} (size\+\_\+t \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})
\begin{DoxyCompactList}\small\item\em Makes sure that the task pool can accommodate at least n more elements \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ac223f7892d65e496c37190c4009ea1f7}{cleanup\+\_\+master}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} blocking\+\_\+terminate)
\begin{DoxyCompactList}\small\item\em Perform necessary cleanup when a master thread stops using \doxylink{struct_t_b_b}{TBB}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_adc904ecbeb053f061c66edd8e85ac704}{assert\+\_\+task\+\_\+pool\+\_\+valid}} () const
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aa101d77dc7a5e986270073e1c0e09cf6}{attach\+\_\+arena}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+master)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a7c98d05ea5c1e309b836335ea9af79fa}{nested\+\_\+arena\+\_\+entry}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}, size\+\_\+t)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ab80a47a82aea82a8ad418fbc36887ac9}{nested\+\_\+arena\+\_\+exit}} ()
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a2a0f285acb9cfb21b7df95a386bd6860}{wait\+\_\+until\+\_\+empty}} ()
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a4d51eca32dc45cba3e0ec161240bfaca}{spawn}} (task \&\mbox{\hyperlink{namespacetbb_1_1internal_ab9f93f2f0b5a50bfec5f8ebbfbe9b9db}{first}}, task \texorpdfstring{$\ast$}{*}\&next) \+\_\+\+\_\+\+TBB\+\_\+override
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a6e0b5fdf74860259585e55f7bf2edb8e}{spawn\+\_\+root\+\_\+and\+\_\+wait}} (task \&\mbox{\hyperlink{namespacetbb_1_1internal_ab9f93f2f0b5a50bfec5f8ebbfbe9b9db}{first}}, task \texorpdfstring{$\ast$}{*}\&next) \+\_\+\+\_\+\+TBB\+\_\+override
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a21fedf3ec39056fdd7b7718f2421e229}{enqueue}} (task \&, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}reserved) \+\_\+\+\_\+\+TBB\+\_\+override
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ae43166ffd9d7fb624158872394832f17}{local\+\_\+spawn}} (task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacetbb_1_1internal_ab9f93f2f0b5a50bfec5f8ebbfbe9b9db}{first}}, task \texorpdfstring{$\ast$}{*}\&next)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a9dacb8fead5795de1011018b83d68d61}{local\+\_\+spawn\+\_\+root\+\_\+and\+\_\+wait}} (task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacetbb_1_1internal_ab9f93f2f0b5a50bfec5f8ebbfbe9b9db}{first}}, task \texorpdfstring{$\ast$}{*}\&next)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aafb98e4ad94437efc212376f2a8c9d8a}{destroy}} ()
\begin{DoxyCompactList}\small\item\em Destroy and deallocate this scheduler object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a9ad40233836bbb816156a5dacf206089}{cleanup\+\_\+scheduler}} ()
\begin{DoxyCompactList}\small\item\em Cleans up this scheduler (the scheduler might be destroyed). \end{DoxyCompactList}\item 
task \& \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aa0d316e9f3063c6b57fa21e0716d4d77}{allocate\+\_\+task}} (size\+\_\+t number\+\_\+of\+\_\+bytes, \mbox{\hyperlink{scheduler__common_8h_a0ef18fbe7aa93b76fd4136a153bc2e44}{\+\_\+\+\_\+\+TBB\+\_\+\+CONTEXT\+\_\+\+ARG}}(task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}, task\+\_\+group\+\_\+context \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classcontext}{context}}))
\begin{DoxyCompactList}\small\item\em Allocate task object, either from the heap or a free list. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046}{free\+\_\+task\+\_\+hint}} h$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a12dd37171af77214add72a973e6b71ba}{free\+\_\+task}} (task \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\begin{DoxyCompactList}\small\item\em Put task on free list. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ad965858a5e7cb5574926d8d1692063b5}{deallocate\+\_\+task}} (task \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\begin{DoxyCompactList}\small\item\em Return task object to the memory allocator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a24ecab941cdf8ff762126f1c65e5274a}{is\+\_\+worker}} () const
\begin{DoxyCompactList}\small\item\em True if running on a worker thread, false otherwise. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ab09f5bf82f328f50d815d38f8d553f5f}{outermost\+\_\+level}} () const
\begin{DoxyCompactList}\small\item\em True if the scheduler is on the outermost dispatch level. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a744eb36f568cf2c726a0920494e5579d}{master\+\_\+outermost\+\_\+level}} () const
\begin{DoxyCompactList}\small\item\em True if the scheduler is on the outermost dispatch level in a master thread. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aec76a489fe5368ede0d1658cbb74984b}{worker\+\_\+outermost\+\_\+level}} () const
\begin{DoxyCompactList}\small\item\em True if the scheduler is on the outermost dispatch level in a worker thread. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_af2b38fa415abd3f28025e96e5d27995a}{max\+\_\+threads\+\_\+in\+\_\+arena}} ()
\begin{DoxyCompactList}\small\item\em Returns the concurrency limit of the current arena. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a720c816c0253fe199e4583cd24090e9b}{free\+\_\+nonlocal\+\_\+small\+\_\+task}} (task \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\begin{DoxyCompactList}\small\item\em Free a small task t that that was allocated by a different scheduler \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a838f6ccf79d7ee8a55843de2f8004759}{generic\+\_\+scheduler}} (\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \&, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}})
\end{DoxyCompactItemize}
\doxysubsubsection*{额外继承的成员函数}
\doxysubsection*{静态 Private 成员函数 继承自 \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{tbb\+::internal\+::generic\+\_\+scheduler}}}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a33519b4cf710f8c46129672f79fb6ec4}{is\+\_\+version\+\_\+3\+\_\+task}} (task \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\item 
static \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a868812dd8d875a225a6f589fdbaafe54}{is\+\_\+proxy}} (const task \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\begin{DoxyCompactList}\small\item\em True if t is a \doxylink{structtbb_1_1internal_1_1task__proxy}{task\+\_\+proxy} \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ac7fb04a73dbb75dd8db5c9637bfadeae}{create\+\_\+master}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})
\begin{DoxyCompactList}\small\item\em Initialize a scheduler for a master thread. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a556929cfad4b9daef4950dfdb6cee485}{create\+\_\+worker}} (\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} geniune)
\begin{DoxyCompactList}\small\item\em Initialize a scheduler for a worker thread. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ae6a0b659589202963562cbdb23465807}{cleanup\+\_\+worker}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} worker)
\begin{DoxyCompactList}\small\item\em Perform necessary cleanup when a worker thread finishes. \end{DoxyCompactList}\item 
static task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a190c2087092b3e0f2a39b01c7cc27e93}{plugged\+\_\+return\+\_\+list}} ()
\begin{DoxyCompactList}\small\item\em Special value used to mark my\+\_\+return\+\_\+list as not taking any more entries. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private 属性 继承自 \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{tbb\+::internal\+::generic\+\_\+scheduler}}}
\begin{DoxyCompactItemize}
\item 
uintptr\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ade9f23ce97db8725a9c3718e76aa682d}{my\+\_\+stealing\+\_\+threshold}}
\begin{DoxyCompactList}\small\item\em Position in the call stack specifying its maximal filling when stealing is still allowed \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ac652e4a610353888a31352e678955e1b}{my\+\_\+market}}
\begin{DoxyCompactList}\small\item\em The market I am in \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1_fast_random}{Fast\+Random}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aee56a8b51b71d3f96f9c8cacf00fe845}{my\+\_\+random}}
\begin{DoxyCompactList}\small\item\em Random number generator used for picking a random victim from which to steal. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a52ed26dede8410a72f37bce24cb26239}{my\+\_\+free\+\_\+list}}
\begin{DoxyCompactList}\small\item\em Free list of small tasks that can be reused. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_abc495d5b077a2ef1b05e15e820555d90}{my\+\_\+dummy\+\_\+task}}
\begin{DoxyCompactList}\small\item\em Fake root task created by slave threads. \end{DoxyCompactList}\item 
long \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a8cf8d776a439320e1e001381cf5d4ad7}{my\+\_\+ref\+\_\+count}}
\begin{DoxyCompactList}\small\item\em Reference count for scheduler \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_afb5b021643394b6d3f743bea9cb5e2bd}{my\+\_\+auto\+\_\+initialized}}
\begin{DoxyCompactList}\small\item\em True if \texorpdfstring{$\ast$}{*}this was created by automatic \doxylink{struct_t_b_b}{TBB} initialization \end{DoxyCompactList}\item 
\+\_\+\+\_\+\+TBB\+\_\+atomic intptr\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a4bd421a07fae7a1c9e3fa49e005bb513}{my\+\_\+small\+\_\+task\+\_\+count}}
\begin{DoxyCompactList}\small\item\em \doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of small tasks that have been allocated by this scheduler. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ab5777a002f8b7b3a72cb7fc4a477fb29}{my\+\_\+return\+\_\+list}}
\begin{DoxyCompactList}\small\item\em \doxylink{class_list}{List} of small tasks that have been returned to this scheduler by other schedulers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private 属性 继承自 \mbox{\hyperlink{structtbb_1_1internal_1_1intrusive__list__node}{tbb\+::internal\+::intrusive\+\_\+list\+\_\+node}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structtbb_1_1internal_1_1intrusive__list__node}{intrusive\+\_\+list\+\_\+node}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1intrusive__list__node_a35bf2ac45f7e99aab397d8ea40202ab8}{my\+\_\+prev\+\_\+node}}
\item 
\mbox{\hyperlink{structtbb_1_1internal_1_1intrusive__list__node}{intrusive\+\_\+list\+\_\+node}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1intrusive__list__node_a4b6cb765d8507ed7440b4db424bc6c70}{my\+\_\+next\+\_\+node}}
\end{DoxyCompactItemize}
\doxysubsection*{Private 属性 继承自 \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state}{tbb\+::internal\+::scheduler\+\_\+state}}}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_a35aa72cfdda3b500e908925a3d6da747}{my\+\_\+arena\+\_\+index}}
\begin{DoxyCompactList}\small\item\em Index of the arena slot the scheduler occupies now, or occupied last time. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_a6f2fdcecd347bf767e89fda580545c1a}{my\+\_\+arena\+\_\+slot}}
\begin{DoxyCompactList}\small\item\em Pointer to the slot in the arena we own at the moment. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_a6b830853cb0386a2b8744d4c7dff3a80}{my\+\_\+arena}}
\begin{DoxyCompactList}\small\item\em The arena that I own (if master) or am servicing at the moment (if worker) \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_aac9af4d8baddbbc2af433e11297be8a5}{my\+\_\+innermost\+\_\+running\+\_\+task}}
\begin{DoxyCompactList}\small\item\em Innermost task whose task\+::execute() is running. \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} dummy task on the outermost level. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1mail__inbox}{mail\+\_\+inbox}} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_a5b120ea3121cd82f578eef2c1319f9fe}{my\+\_\+inbox}}
\item 
\mbox{\hyperlink{namespacetbb_1_1internal_a3e3837fb3ca7bbf4cf4752c58cbed886}{affinity\+\_\+id}} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_a3a635bad42d492013d4a06d1af0c452b}{my\+\_\+affinity\+\_\+id}}
\begin{DoxyCompactList}\small\item\em The mailbox id assigned to this scheduler. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__properties}{scheduler\+\_\+properties}} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_aed181c52b8462c43272d45e625cd31fa}{my\+\_\+properties}}
\end{DoxyCompactItemize}
\doxysubsection*{静态 Private 属性 继承自 \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{tbb\+::internal\+::generic\+\_\+scheduler}}}
\begin{DoxyCompactItemize}
\item 
static const size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_afbb75edc69c2ed1bcbf70098ca24a523}{quick\+\_\+task\+\_\+size}} = 256-\/\mbox{\hyperlink{namespacetbb_1_1internal_a0630d59441f75e740be0b003d2922df8}{task\+\_\+prefix\+\_\+reservation\+\_\+size}}
\begin{DoxyCompactList}\small\item\em If sizeof(task) is \texorpdfstring{$<$}{<}=quick\+\_\+task\+\_\+size, it is handled on a free list instead of malloc\textquotesingle{}d. \end{DoxyCompactList}\item 
static const size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_afae85a4245c85c65c3cd51e63125f23e}{null\+\_\+arena\+\_\+index}} = \texorpdfstring{$\sim$}{\string~}size\+\_\+t(0)
\item 
static const size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a1190ee0529a9280846bd50c4f50c8398}{min\+\_\+task\+\_\+pool\+\_\+size}} = 64
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename Scheduler\+Traits$>$\newline
class tbb\+::internal\+::custom\+\_\+scheduler$<$ Scheduler\+Traits $>$}
\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} scheduler with a customized evaluation loop. 

The customization can use Scheduler\+Traits to make decisions without needing a run-\/time check. 

\doxysubsection{成员类型定义说明}
\Hypertarget{classtbb_1_1internal_1_1custom__scheduler_af22f4470986fa755255d3daf8f96a65b}\index{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}!scheduler\_type@{scheduler\_type}}
\index{scheduler\_type@{scheduler\_type}!tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}}
\doxysubsubsection{\texorpdfstring{scheduler\_type}{scheduler\_type}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1custom__scheduler_af22f4470986fa755255d3daf8f96a65b} 
template$<$typename Scheduler\+Traits$>$ \\
typedef \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{custom\+\_\+scheduler}}$<$Scheduler\+Traits$>$ \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{tbb\+::internal\+::custom\+\_\+scheduler}}$<$ Scheduler\+Traits $>$\+::scheduler\+\_\+type\hspace{0.3cm}{\ttfamily [private]}}



\doxysubsection{构造及析构函数说明}
\Hypertarget{classtbb_1_1internal_1_1custom__scheduler_a92d7730728b3c41c398724de94778e75}\index{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}!custom\_scheduler@{custom\_scheduler}}
\index{custom\_scheduler@{custom\_scheduler}!tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}}
\doxysubsubsection{\texorpdfstring{custom\_scheduler()}{custom\_scheduler()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1custom__scheduler_a92d7730728b3c41c398724de94778e75} 
template$<$typename Scheduler\+Traits$>$ \\
\mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{tbb\+::internal\+::custom\+\_\+scheduler}}$<$ Scheduler\+Traits $>$\+::custom\+\_\+scheduler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \&}]{m}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{genuine}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

函数调用图\+:
% FIG 2


\doxysubsection{成员函数说明}
\Hypertarget{classtbb_1_1internal_1_1custom__scheduler_a8b286a7e4beb8de0a14661d0136002fd}\index{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}!allocate\_scheduler@{allocate\_scheduler}}
\index{allocate\_scheduler@{allocate\_scheduler}!tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}}
\doxysubsubsection{\texorpdfstring{allocate\_scheduler()}{allocate\_scheduler()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1custom__scheduler_a8b286a7e4beb8de0a14661d0136002fd} 
template$<$typename Scheduler\+Traits$>$ \\
static \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{tbb\+::internal\+::custom\+\_\+scheduler}}$<$ Scheduler\+Traits $>$\+::allocate\+\_\+scheduler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \&}]{m}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{genuine}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

函数调用图\+:
% FIG 3
\Hypertarget{classtbb_1_1internal_1_1custom__scheduler_a5e2c5878baf724264214e91070844487}\index{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}!local\_wait\_for\_all@{local\_wait\_for\_all}}
\index{local\_wait\_for\_all@{local\_wait\_for\_all}!tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}}
\doxysubsubsection{\texorpdfstring{local\_wait\_for\_all()}{local\_wait\_for\_all()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1custom__scheduler_a5e2c5878baf724264214e91070844487} 
template$<$typename Scheduler\+Traits$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{tbb\+::internal\+::custom\+\_\+scheduler}}$<$ Scheduler\+Traits $>$\+::local\+\_\+wait\+\_\+for\+\_\+all (\begin{DoxyParamCaption}\item[{task \&}]{parent}{, }\item[{task \texorpdfstring{$\ast$}{*}}]{child}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}



Scheduler loop that dispatches tasks. 

If child is non-\/\+NULL, it is dispatched first. Then, until "{}parent"{} has a reference count of 1, other task are dispatched or stolen. 

实现了 \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a509997dbb9b97ad2cca0a3af76c04e90}{tbb\+::internal\+::generic\+\_\+scheduler}}.

函数调用图\+:
% FIG 4
\Hypertarget{classtbb_1_1internal_1_1custom__scheduler_a4ac27cfa293899be6721f939dfdcdf5b}\index{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}!process\_bypass\_loop@{process\_bypass\_loop}}
\index{process\_bypass\_loop@{process\_bypass\_loop}!tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}}
\doxysubsubsection{\texorpdfstring{process\_bypass\_loop()}{process\_bypass\_loop()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1custom__scheduler_a4ac27cfa293899be6721f939dfdcdf5b} 
template$<$typename Scheduler\+Traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{tbb\+::internal\+::custom\+\_\+scheduler}}$<$ Scheduler\+Traits $>$\+::process\+\_\+bypass\+\_\+loop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtbb_1_1internal_1_1context__guard__helper}{context\+\_\+guard\+\_\+helper}}$<$ Scheduler\+Traits\+::itt\+\_\+possible $>$ \&}]{context\+\_\+guard}{, }\item[{\mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}, isolation\+\_\+tag isolation)}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Implements the bypass loop of the dispatch loop (local\+\_\+wait\+\_\+for\+\_\+all). 

函数调用图\+:
% FIG 5
\Hypertarget{classtbb_1_1internal_1_1custom__scheduler_a3825613e3650d5a9110b9b9f5ee4a3e9}\index{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}!receive\_or\_steal\_task@{receive\_or\_steal\_task}}
\index{receive\_or\_steal\_task@{receive\_or\_steal\_task}!tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}}
\doxysubsubsection{\texorpdfstring{receive\_or\_steal\_task()}{receive\_or\_steal\_task()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1custom__scheduler_a3825613e3650d5a9110b9b9f5ee4a3e9} 
template$<$typename Scheduler\+Traits$>$ \\
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{tbb\+::internal\+::custom\+\_\+scheduler}}$<$ Scheduler\+Traits $>$\+::receive\+\_\+or\+\_\+steal\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(\+\_\+\+\_\+\+TBB\+\_\+atomic reference\+\_\+count \&completion\+\_\+ref\+\_\+count, isolation\+\_\+tag isolation)}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Try getting a task from the mailbox or stealing from another scheduler. 

Returns the stolen task or NULL if all attempts fail. 

实现了 \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ad29196fee133a26e00bd8271fdb034b0}{tbb\+::internal\+::generic\+\_\+scheduler}}.

函数调用图\+:
% FIG 6
\Hypertarget{classtbb_1_1internal_1_1custom__scheduler_ad4ec695868b3ae27a95f3e393601243a}\index{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}!tally\_completion\_of\_predecessor@{tally\_completion\_of\_predecessor}}
\index{tally\_completion\_of\_predecessor@{tally\_completion\_of\_predecessor}!tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}}
\doxysubsubsection{\texorpdfstring{tally\_completion\_of\_predecessor()}{tally\_completion\_of\_predecessor()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1custom__scheduler_ad4ec695868b3ae27a95f3e393601243a} 
template$<$typename Scheduler\+Traits$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{tbb\+::internal\+::custom\+\_\+scheduler}}$<$ Scheduler\+Traits $>$\+::tally\+\_\+completion\+\_\+of\+\_\+predecessor (\begin{DoxyParamCaption}\item[{task \&}]{s}{, }\item[{\mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(task \texorpdfstring{$\ast$}{*}\&bypass\+\_\+slot, isolation\+\_\+tag isolation)}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Decrements ref\+\_\+count of a predecessor. 

If it achieves 0, the predecessor is scheduled for execution. When changing, remember that this is a hot path function. 函数调用图\+:
% FIG 7
\Hypertarget{classtbb_1_1internal_1_1custom__scheduler_aabe8193f0004a9631d160743c29f277c}\index{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}!wait\_for\_all@{wait\_for\_all}}
\index{wait\_for\_all@{wait\_for\_all}!tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$@{tbb::internal::custom\_scheduler$<$ SchedulerTraits $>$}}
\doxysubsubsection{\texorpdfstring{wait\_for\_all()}{wait\_for\_all()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1custom__scheduler_aabe8193f0004a9631d160743c29f277c} 
template$<$typename Scheduler\+Traits$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{tbb\+::internal\+::custom\+\_\+scheduler}}$<$ Scheduler\+Traits $>$\+::wait\+\_\+for\+\_\+all (\begin{DoxyParamCaption}\item[{task \&}]{parent}{, }\item[{task \texorpdfstring{$\ast$}{*}}]{child}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Entry point from client code to the scheduler loop that dispatches tasks. 

The method is virtual, but the \texorpdfstring{$\ast$}{*}this object is used only for sake of dispatching on the correct vtable, not necessarily the correct \texorpdfstring{$\ast$}{*}this object. The correct \texorpdfstring{$\ast$}{*}this object is looked up in TLS. 函数调用图\+:
% FIG 8


该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/src/tbb/\mbox{\hyperlink{custom__scheduler_8h}{custom\+\_\+scheduler.\+h}}\end{DoxyCompactItemize}
