\doxysection{eigenvalues.\+cpp}
\hypertarget{eigenvalues_8cpp_source}{}\label{eigenvalues_8cpp_source}\index{external/taskflow/3rd-\/party/eigen-\/3.3.7/lapack/eigenvalues.cpp@{external/taskflow/3rd-\/party/eigen-\/3.3.7/lapack/eigenvalues.cpp}}
\mbox{\hyperlink{eigenvalues_8cpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2011\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lapack__common_8h}{lapack\_common.h}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <Eigen/Eigenvalues>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{comment}{//\ computes\ eigen\ values\ and\ vectors\ of\ a\ general\ N-\/by-\/N\ matrix\ A}}
\DoxyCodeLine{00014\ \mbox{\hyperlink{lapack__common_8h_a226572acad4bfb2f4df999f9b6e5df70}{EIGEN\_LAPACK\_FUNC}}(syev,(\textcolor{keywordtype}{char}\ *jobz,\ \textcolor{keywordtype}{char}\ *uplo,\ \textcolor{keywordtype}{int}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}*\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}},\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}*\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}},\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}*\ \textcolor{comment}{/*work*/},\ \textcolor{keywordtype}{int}*\ lwork,\ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}))}
\DoxyCodeLine{00015\ \{}
\DoxyCodeLine{00016\ \ \ \textcolor{comment}{//\ TODO\ exploit\ the\ work\ buffer}}
\DoxyCodeLine{00017\ \ \ \textcolor{keywordtype}{bool}\ query\_size\ =\ *lwork==-\/1;}
\DoxyCodeLine{00018\ \ \ }
\DoxyCodeLine{00019\ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ 0;}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(*jobz!=\textcolor{charliteral}{'N'}\ \&\&\ *jobz!=\textcolor{charliteral}{'V'})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/1;}
\DoxyCodeLine{00021\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_aede440fdc60eff8db8599716ca73b449}{UPLO}}(*uplo)==\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_adf770fe2eec438e3758ffe905dbae208}{INVALID}})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/2;}
\DoxyCodeLine{00022\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}(*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}<0)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/3;}
\DoxyCodeLine{00023\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}(*\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}}<std::max(1,*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/5;}
\DoxyCodeLine{00024\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}((!query\_size)\ \&\&\ *lwork<std::max(1,3**\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/1))\ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/8;}
\DoxyCodeLine{00025\ \ \ \ \ }
\DoxyCodeLine{00026\ \ \ \textcolor{keywordflow}{if}(*\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}!=0)}
\DoxyCodeLine{00027\ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}\ =\ -\/*\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}};}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{xerbla_8cpp_a62138258d20ba11e2039fc20f90b4e4a}{xerbla\_}}(\mbox{\hyperlink{blas_2complex__double_8cpp_aaf4863051a1b4b08c57927fb346b3f88}{SCALAR\_SUFFIX\_UP}}\textcolor{stringliteral}{"{}SYEV\ "{}},\ \&\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},\ 6);}
\DoxyCodeLine{00030\ \ \ \}}
\DoxyCodeLine{00031\ \ \ }
\DoxyCodeLine{00032\ \ \ \textcolor{keywordflow}{if}(query\_size)}
\DoxyCodeLine{00033\ \ \ \{}
\DoxyCodeLine{00034\ \ \ \ \ *lwork\ =\ 0;}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00036\ \ \ \}}
\DoxyCodeLine{00037\ \ \ }
\DoxyCodeLine{00038\ \ \ \textcolor{keywordflow}{if}(*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}==0)}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00040\ \ \ }
\DoxyCodeLine{00041\ \ \ \mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_aa269c0151a2f2c0570f004c77ca88b4a}{PlainMatrixType}}\ \mbox{\hyperlink{eigenvalues_8cpp_aebeefa1a587fba2e30e17824c726ebba}{mat}}(*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00042\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_aede440fdc60eff8db8599716ca73b449}{UPLO}}(*uplo)==\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_a1965eaca47dbf3f87acdafc2208f04eb}{UP}})\ \mbox{\hyperlink{_tutorial___advanced_initialization___comma_temporary_8cpp_a5d2ded7a4c8830608d7b218f5f27c0a0}{mat}}\ =\ \mbox{\hyperlink{external_2taskflow_2benchmarks_2wavefront_2main_8cpp_aed60820750f2ab1bf9dd99bc0a9eaab8}{matrix}}(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}}).adjoint();}
\DoxyCodeLine{00043\ \ \ \textcolor{keywordflow}{else}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_tutorial___advanced_initialization___comma_temporary_8cpp_a5d2ded7a4c8830608d7b218f5f27c0a0}{mat}}\ =\ \mbox{\hyperlink{external_2taskflow_2benchmarks_2wavefront_2main_8cpp_aed60820750f2ab1bf9dd99bc0a9eaab8}{matrix}}(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}});}
\DoxyCodeLine{00044\ \ \ }
\DoxyCodeLine{00045\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{eigenvalues_8cpp_a0262c8dbd0dde1734de21e241e13140b}{computeVectors}}\ =\ *jobz==\textcolor{charliteral}{'V'}\ ||\ *jobz==\textcolor{charliteral}{'v'};}
\DoxyCodeLine{00046\ \ \ \mbox{\hyperlink{class_eigen_1_1_self_adjoint_eigen_solver}{SelfAdjointEigenSolver<PlainMatrixType>}}\ \mbox{\hyperlink{eigenvalues_8cpp_a2207d894607fb09f7abc525577172078}{eig}}(\mbox{\hyperlink{_tutorial___advanced_initialization___comma_temporary_8cpp_a5d2ded7a4c8830608d7b218f5f27c0a0}{mat}},\mbox{\hyperlink{eigenvalues_8cpp_a0262c8dbd0dde1734de21e241e13140b}{computeVectors}}?\mbox{\hyperlink{group__enums_ggae3e239fb70022eb8747994cf5d68b4a9a7f7d17fba3c9bb92158e346d5979d0f4}{ComputeEigenvectors}}:\mbox{\hyperlink{group__enums_ggae3e239fb70022eb8747994cf5d68b4a9afd06633f270207c373875fd7ca03e906}{EigenvaluesOnly}});}
\DoxyCodeLine{00047\ \ \ }
\DoxyCodeLine{00048\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{eigenvalues_8cpp_a2207d894607fb09f7abc525577172078}{eig}}.info()==\mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea6a68dfb88a8336108a30588bdf356c57}{NoConvergence}})}
\DoxyCodeLine{00049\ \ \ \{}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{eigenvalues_8cpp_a360124c0175edf0035be7ac0d437f0ea}{make\_vector}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}).setZero();}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{eigenvalues_8cpp_a0262c8dbd0dde1734de21e241e13140b}{computeVectors}})}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \mbox{\hyperlink{external_2taskflow_2benchmarks_2wavefront_2main_8cpp_aed60820750f2ab1bf9dd99bc0a9eaab8}{matrix}}(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}}).setIdentity();}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//*info\ =\ 1;}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00055\ \ \ \}}
\DoxyCodeLine{00056\ \ \ }
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{eigenvalues_8cpp_a360124c0175edf0035be7ac0d437f0ea}{make\_vector}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ =\ \mbox{\hyperlink{eigenvalues_8cpp_a2207d894607fb09f7abc525577172078}{eig}}.eigenvalues();}
\DoxyCodeLine{00058\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{eigenvalues_8cpp_a0262c8dbd0dde1734de21e241e13140b}{computeVectors}})}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{external_2taskflow_2benchmarks_2wavefront_2main_8cpp_aed60820750f2ab1bf9dd99bc0a9eaab8}{matrix}}(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}})\ =\ \mbox{\hyperlink{eigenvalues_8cpp_a2207d894607fb09f7abc525577172078}{eig}}.eigenvectors();}
\DoxyCodeLine{00060\ \ \ }
\DoxyCodeLine{00061\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00062\ \}}

\end{DoxyCode}
