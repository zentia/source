\doxysection{external/libcds 目录参考}
\hypertarget{dir_ab6169dce0214f69bd11de922f7415d8}{}\label{dir_ab6169dce0214f69bd11de922f7415d8}\index{external/libcds 目录参考@{external/libcds 目录参考}}
libcds 的目录依赖关系图
% FIG 0
\doxysubsubsection*{目录}
\begin{DoxyCompactItemize}
\item 
目录 \mbox{\hyperlink{dir_208c9237daec0c1252261b87668a4df7}{build}}
\item 
目录 \mbox{\hyperlink{dir_fcf032bbf40cb4a20f944ac15896063c}{cds}}
\item 
目录 \mbox{\hyperlink{dir_538b3c23c8a2ec5c34d3a6c658194da4}{src}}
\item 
目录 \mbox{\hyperlink{dir_311d854e0061d88b3630476bf45e3155}{test}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\hypertarget{readme.md_autotoc_md470}{}\doxysubsection{\texorpdfstring{CDS C++ library}{CDS C++ library}}\label{readme.md_autotoc_md470}
\href{https://app.codacy.com/manual/khizmax/libcds?utm_source=github.com&utm_medium=referral&utm_content=khizmax/libcds&utm_campaign=Badge_Grade_Settings}{\texttt{ }} \href{http://badge.fury.io/gh/khizmax\%2Flibcds}{\texttt{ }} \href{https://github.com/khizmax/libcds/blob/master/LICENSE}{\texttt{ }} \href{https://travis-ci.org/khizmax/libcds}{\texttt{ }} \href{https://ci.appveyor.com/project/khizmax/libcds}{\texttt{ }}

The Concurrent \doxylink{class_data}{Data} Structures (CDS) library is a collection of concurrent containers that don\textquotesingle{}t require external (manual) synchronization for shared access, and safe memory reclamation (SMR) algorithms like \href{http://en.wikipedia.org/wiki/Hazard_pointer}{\texttt{ Hazard Pointer}} and user-\/space \href{http://en.wikipedia.org/wiki/Read-copy-update}{\texttt{ RCU}} that is used as an epoch-\/based SMR.

CDS is mostly header-\/only template library. Only SMR core implementation is segregated to .so/.dll file.

The library contains the implementations of the following containers\+:
\begin{DoxyItemize}
\item \href{http://en.wikipedia.org/wiki/Non-blocking_algorithm}{\texttt{ lock-\/free}} stack with optional elimination support
\item several algo for lock-\/free queue, including classic Michael \& Scott algorithm and its derivatives, the flat combining queue, the segmented queue.
\item several implementation of unordered set/map -\/ lock-\/free and fine-\/grained lock-\/based
\item \href{http://mcg.cs.tau.ac.il/projects/projects/flat-combining}{\texttt{ flat-\/combining}} technique
\item lock-\/free \href{http://en.wikipedia.org/wiki/Skip_list}{\texttt{ skip-\/list}}
\item lock-\/free Feldman\+Hash\+Map/\+Set \href{http://samos-conference.com/Resources_Samos_Websites/Proceedings_Repository_SAMOS/2013/Files/2013-IC-20.pdf}{\texttt{ Multi-\/\+Level Array Hash}} with thread-\/safe bidirectional iterator support
\item Bronson\textquotesingle{}s et al algorithm for fine-\/grained lock-\/based AVL tree
\end{DoxyItemize}

Generally, each container has an intrusive and non-\/intrusive (STL-\/like) version belonging to {\itshape \doxylink{namespacecds_1_1intrusive}{cds\+::intrusive}} and {\itshape \doxylink{namespacecds_1_1container}{cds\+::container}} namespace respectively.

Version 2.\+x of the library is written on C++11 and can be compiled by GCC 4.\+8+, clang 3.\+6+, Intel C++ 15+, and MS VC++ 14 (2015) and above

Download the latest release from \href{http://sourceforge.net/projects/libcds/files/}{\texttt{ http\+://sourceforge.\+net/projects/libcds/files/}}

See online doxygen-\/generated doc here\+: \href{http://libcds.sourceforge.net/doc/cds-api/index.html}{\texttt{ http\+://libcds.\+sourceforge.\+net/doc/cds-\/api/index.\+html}}

{\bfseries{How to build}}
\begin{DoxyItemize}
\item \texorpdfstring{$\ast$}{*}nix\+: \doxylink{external_2libcds_2build_2cmake_2_r_e_a_d_m_e_8md}{use CMake}
\item Windows\+: use MS Visual C++ 2017 project
\end{DoxyItemize}

Some parts of libcds may depend on DCAS (double-\/width compare-\/and-\/swap) atomic primitive if the target architecture supports it. For x86, cmake build script enables {\ttfamily -\/mcx16} compiler flag that switches DCAS support on. You may manually disable DCAS support with the following command line flags in GCC/clang (for MS VC++ compiler DCAS is not supported)\+:
\begin{DoxyItemize}
\item {\ttfamily -\/DCDS\+\_\+\+DISABLE\+\_\+128\+BIT\+\_\+\+ATOMIC} -\/ for 64bit build
\item {\ttfamily -\/DCDS\+\_\+\+DISABLE\+\_\+64\+BIT\+\_\+\+ATOMIC} -\/ for 32bit build
\end{DoxyItemize}

{\bfseries{All your projects AND libcds MUST be compiled with the same flags -\/ either with DCAS support or without it.}}

\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}\+Building libcds -\/use vcpkg

You can download and install libcds using the \href{https://github.com/Microsoft/vcpkg}{\texttt{ vcpkg}} dependency manager\+: \begin{DoxyVerb}git clone https://github.com/Microsoft/vcpkg.git
cd vcpkg
./bootstrap-vcpkg.sh
./vcpkg integrate install
vcpkg install libcds
\end{DoxyVerb}


The libcds port in vcpkg is kept up to date by Microsoft team members and community contributors. If the version is out of date, please \href{https://github.com/Microsoft/vcpkg}{\texttt{ create an issue or pull request}} on the vcpkg repository.

{\bfseries{Pull request requirements}}
\begin{DoxyItemize}
\item Pull-\/request to {\itshape master} branch will be unconditionally rejected
\item {\itshape integration} branch is intended for pull-\/request. Usually, {\itshape integration} branch is the same as {\itshape master}
\item {\itshape dev} branch is intended for main developing. Usually, it contains unstable code
\end{DoxyItemize}

\href{https://www.openhub.net/p/khizmax-libcds}{\texttt{ }}\hypertarget{readme.md_autotoc_md471}{}\doxysubsubsection{\texorpdfstring{References}{References}}\label{readme.md_autotoc_md471}
{\itshape Stack}
\begin{DoxyItemize}
\item {\itshape Treiber\+Stack}\+: \mbox{[}1986\mbox{]} R. K. Treiber. Systems programming\+: Coping with parallelism. Technical Report RJ 5118, IBM Almaden Research Center, April 1986.
\item Elimination back-\/off implementation is based on idea from \mbox{[}2004\mbox{]} Danny Hendler, Nir Shavit, Lena Yerushalmi "{}\+A Scalable Lock-\/free Stack Algorithm"{} \href{http://people.csail.mit.edu/shanir/publications/Lock_Free.pdf}{\texttt{ pdf}}
\item {\itshape FCStack} -\/ flat-\/combining wrapper for {\itshape std\+::stack}
\end{DoxyItemize}

{\itshape Queue}
\begin{DoxyItemize}
\item {\itshape Basket\+Queue}\+: \mbox{[}2007\mbox{]} Moshe Hoffman, Ori Shalev, Nir Shavit "{}\+The Baskets Queue"{} \href{http://people.csail.mit.edu/shanir/publications/Baskets\%20Queue.pdf}{\texttt{ pdf}}
\item {\itshape MSQueue}\+:
\begin{DoxyItemize}
\item \mbox{[}1998\mbox{]} Maged Michael, Michael Scott "{}\+Simple, fast, and practical non-\/blocking and blocking concurrent queue algorithms"{} \href{http://www.cs.rochester.edu/~scott/papers/1996_PODC_queues.pdf}{\texttt{ pdf}}
\item \mbox{[}2002\mbox{]} Maged M.\+Michael "{}\+Safe memory reclamation for dynamic lock-\/free objects using atomic reads and writes"{} \href{http://www.research.ibm.com/people/m/michael/podc-2002.pdf}{\texttt{ pdf}}
\item \mbox{[}2003\mbox{]} Maged M.\+Michael "{}\+Hazard Pointers\+: Safe memory reclamation for lock-\/free objects"{} \href{http://www.research.ibm.com/people/m/michael/ieeetpds-2004.pdf}{\texttt{ pdf}}
\end{DoxyItemize}
\item {\itshape RWQueue}\+: \mbox{[}1998\mbox{]} Maged Michael, Michael Scott "{}\+Simple, fast, and practical non-\/blocking and blocking concurrent queue algorithms"{} \href{http://www.cs.rochester.edu/~scott/papers/1996_PODC_queues.pdf}{\texttt{ pdf}}
\item {\itshape Moir\+Queue}\+: \mbox{[}2000\mbox{]} Simon Doherty, Lindsay Groves, Victor Luchangco, Mark Moir "{}\+Formal Verification of a practical lock-\/free queue algorithm"{} \href{http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.87.9954&rep=rep1&type=pdf}{\texttt{ pdf}}
\item {\itshape Optimistic\+Queue}\+: \mbox{[}2008\mbox{]} Edya Ladan-\/\+Mozes, Nir Shavit "{}\+An Optimistic Approach to Lock-\/\+Free FIFO Queues"{} \href{https://people.csail.mit.edu/edya/publications/OptimisticFIFOQueue-journal.pdf}{\texttt{ pdf}}
\item {\itshape Segmented\+Queue}\+: \mbox{[}2010\mbox{]} Afek, Korland, Yanovsky "{}\+Quasi-\/\+Linearizability\+: relaxed consistency for improved concurrency"{} \href{http://mcg.cs.tau.ac.il/papers/opodis2010-quasi.pdf}{\texttt{ pdf}}
\item {\itshape FCQueue} -\/ flat-\/combining wrapper for {\itshape std\+::queue}
\item {\itshape Vyukov\+MPMCCycle\+Queue} Dmitry Vyukov (see \href{http://www.1024cores.net}{\texttt{ http\+://www.\+1024cores.\+net}})
\end{DoxyItemize}

{\itshape Deque}
\begin{DoxyItemize}
\item flat-\/combining deque based on {\itshape stl\+::deque}
\end{DoxyItemize}

{\itshape Map, set}
\begin{DoxyItemize}
\item {\itshape Michael\+Hash\+Map}\+: \mbox{[}2002\mbox{]} Maged Michael "{}\+High performance dynamic lock-\/free hash tables and list-\/based sets"{} \href{http://www.research.ibm.com/people/m/michael/spaa-2002.pdf}{\texttt{ pdf}}
\item {\itshape Split\+Ordered\+List}\+: \mbox{[}2003\mbox{]} Ori Shalev, Nir Shavit "{}\+Split-\/\+Ordered Lists -\/ Lock-\/free Resizable Hash Tables"{} \href{http://people.csail.mit.edu/shanir/publications/Split-Ordered_Lists.pdf}{\texttt{ pdf}}
\item {\itshape Striped\+Map}, {\itshape Striped\+Set}\+: \mbox{[}2008\mbox{]} Maurice Herlihy, Nir Shavit "{}\+The Art of Multiprocessor Programming"{}
\item {\itshape Cuckoo\+Map}, {\itshape Cuckoo\+Set}\+: \mbox{[}2008\mbox{]} Maurice Herlihy, Nir Shavit "{}\+The Art of Multiprocessor Programming"{}
\item {\itshape \doxylink{class_skip_list_map}{Skip\+List\+Map}}, {\itshape \doxylink{class_skip_list_set}{Skip\+List\+Set}}\+: \mbox{[}2008\mbox{]} Maurice Herlihy, Nir Shavit "{}\+The Art of Multiprocessor Programming"{}
\item {\itshape Feldman\+Hash\+Map}, {\itshape Feldman\+Hash\+Set}\+: \mbox{[}2013\mbox{]} Steven Feldman, Pierre La\+Borde, Damian Dechev "{}\+Concurrent Multi-\/level Arrays\+:         Wait-\/free Extensible Hash Maps"{}. Supports {\bfseries{thread-\/safe bidirectional iterators}} \href{http://samos-conference.com/Resources_Samos_Websites/Proceedings_Repository_SAMOS/2013/Files/2013-IC-20.pdf}{\texttt{ pdf}}
\end{DoxyItemize}

{\itshape Ordered single-\/linked list}
\begin{DoxyItemize}
\item {\itshape \doxylink{class_lazy_list}{Lazy\+List}}\+: \mbox{[}2005\mbox{]} Steve Heller, Maurice Herlihy, Victor Luchangco, Mark Moir, William N. Scherer III, and Nir Shavit "{}\+A Lazy Concurrent List-\/\+Based Set Algorithm"{} \href{http://people.csail.mit.edu/shanir/publications/Lazy_Concurrent.pdf}{\texttt{ pdf}}
\item {\itshape \doxylink{class_michael_list}{Michael\+List}}\+: \mbox{[}2002\mbox{]} Maged Michael "{}\+High performance dynamic lock-\/free hash tables and list-\/based sets"{} \href{http://www.research.ibm.com/people/m/michael/spaa-2002.pdf}{\texttt{ pdf}}
\end{DoxyItemize}

{\itshape Priority queue}
\begin{DoxyItemize}
\item {\itshape MSPriority\+Queue}\+: \mbox{[}1996\mbox{]} G.\+Hunt, M.\+Michael, S. Parthasarathy, M.\+Scott "{}\+An efficient algorithm for concurrent priority queue heaps"{} \href{http://web.cse.ohio-state.edu/dmrl/papers/heap96.pdf}{\texttt{ pdf}}
\end{DoxyItemize}

{\itshape \doxylink{class_tree}{Tree}}
\begin{DoxyItemize}
\item {\itshape Ellen\+Bin\+Tree}\+: \mbox{[}2010\mbox{]} F.\+Ellen, P.\+Fatourou, E.\+Ruppert, F.\+van Breugel "{}\+Non-\/blocking Binary Search Tree"{} \href{http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.232.7881&rep=rep1&type=pdf}{\texttt{ pdf}}
\item {\itshape Bronson\+AVLTree\+Map} -\/ lock-\/based fine-\/grained AVL-\/tree implementation\+: \mbox{[}2010\mbox{]} Nathan Bronson, Jared Casper, Hassan Chafi, Kunle Olukotun "{}\+A Practical Concurrent Binary Search Tree"{} \href{https://ppl.stanford.edu/papers/ppopp207-bronson.pdf}{\texttt{ pdf}}
\end{DoxyItemize}

{\itshape SMR}
\begin{DoxyItemize}
\item Hazard Pointers
\begin{DoxyItemize}
\item \mbox{[}2002\mbox{]} Maged M.\+Michael "{}\+Safe memory reclamation for dynamic lock-\/free objects using atomic reads and writes"{} \href{http://www.research.ibm.com/people/m/michael/podc-2002.pdf}{\texttt{ pdf}}
\item \mbox{[}2003\mbox{]} Maged M.\+Michael "{}\+Hazard Pointers\+: Safe memory reclamation for lock-\/free objects"{} \href{http://www.research.ibm.com/people/m/michael/ieeetpds-2004.pdf}{\texttt{ pdf}}
\item \mbox{[}2004\mbox{]} Andrei Alexandrescu, Maged Michael "{}\+Lock-\/free Data Structures with Hazard Pointers"{} \href{http://www.researchgate.net/profile/Andrei_Alexandrescu/publication/252573326_Lock-Free_Data_Structures_with_Hazard_Pointers/links/0deec529e7804288fe000000.pdf}{\texttt{ pdf}}
\end{DoxyItemize}
\item User-\/space RCU
\begin{DoxyItemize}
\item \mbox{[}2009\mbox{]} M.\+Desnoyers "{}\+Low-\/\+Impact Operating System Tracing"{} PhD Thesis, Chapter 6 "{}\+User-\/\+Level Implementations of Read-\/\+Copy Update"{} \href{http://www.lttng.org/files/thesis/desnoyers-dissertation-2009-12-v27.pdf}{\texttt{ pdf}}
\item \mbox{[}2011\mbox{]} M.\+Desnoyers, P.\+Mc\+Kenney, A.\+Stern, M.\+Dagenias, J.\+Walpole "{}\+User-\/\+Level              Implementations of Read-\/\+Copy Update"{} \href{http://www.dorsal.polymtl.ca/sites/www.dorsal.polymtl.ca/files/publications/desnoyers-ieee-urcu-submitted.pdf}{\texttt{ pdf}}
\end{DoxyItemize}
\end{DoxyItemize}

{\itshape Flat Combining} technique
\begin{DoxyItemize}
\item \mbox{[}2010\mbox{]} Hendler, Incze, Shavit and Tzafrir "{}\+Flat Combining and the Synchronization-\/\+Parallelism Tradeoff"{} \href{http://www.cs.bgu.ac.il/~hendlerd/papers/flat-combining.pdf}{\texttt{ pdf}} 
\end{DoxyItemize}