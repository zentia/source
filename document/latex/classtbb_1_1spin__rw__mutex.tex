\doxysection{tbb\+::spin\+\_\+rw\+\_\+mutex类 参考}
\hypertarget{classtbb_1_1spin__rw__mutex}{}\label{classtbb_1_1spin__rw__mutex}\index{tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}}


Fast, unfair, spinning reader-\/writer lock with backoff and writer-\/preference  




{\ttfamily \#include $<$spin\+\_\+rw\+\_\+mutex\+\_\+v2.\+h$>$}

\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_1_1scoped__lock}{scoped\+\_\+lock}}
\begin{DoxyCompactList}\small\item\em The scoped locking pattern \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a89f5fac1aed4a2eb2e5a1241b43a9380}{spin\+\_\+rw\+\_\+mutex}} ()
\begin{DoxyCompactList}\small\item\em Construct unacquired mutex. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 类型}
\begin{DoxyCompactItemize}
\item 
typedef uintptr\+\_\+t \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
volatile \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a0c0ea09bdefb5044400203ea516bb273}{state}}
\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Private 属性}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_ad91cc2ff9f3b6551297338e86645e84a}{WRITER}} = 1
\item 
static const \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a2d57a507b8f24a5e72c367feefeaa8ea}{WRITER\+\_\+\+PENDING}} = 2
\item 
static const \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a26321766e400dc3bbc81ee75e59a392b}{READERS}} = \texorpdfstring{$\sim$}{\string~}(\mbox{\hyperlink{classtbb_1_1spin__rw__mutex_ad91cc2ff9f3b6551297338e86645e84a}{WRITER}} \texorpdfstring{$\vert$}{|} \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a2d57a507b8f24a5e72c367feefeaa8ea}{WRITER\+\_\+\+PENDING}})
\item 
static const \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a60d8e54f03128f5ba8fb23fa1af521b0}{ONE\+\_\+\+READER}} = 4
\item 
static const \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_abeadad6e97347e68e1685d871df578c5}{BUSY}} = \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_ad91cc2ff9f3b6551297338e86645e84a}{WRITER}} \texorpdfstring{$\vert$}{|} \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a26321766e400dc3bbc81ee75e59a392b}{READERS}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
Fast, unfair, spinning reader-\/writer lock with backoff and writer-\/preference 

\doxysubsection{成员类型定义说明}
\Hypertarget{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}\index{tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}!state\_t@{state\_t}}
\index{state\_t@{state\_t}!tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}}
\doxysubsubsection{\texorpdfstring{state\_t}{state\_t}}
{\footnotesize\ttfamily \label{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc} 
typedef uintptr\+\_\+t \mbox{\hyperlink{classtbb_1_1spin__rw__mutex__v3_a27adc7d791dfaa4a60638313b9d1c1f4}{tbb\+::spin\+\_\+rw\+\_\+mutex\+::state\+\_\+t}}\hspace{0.3cm}{\ttfamily [private]}}



\doxysubsection{构造及析构函数说明}
\Hypertarget{classtbb_1_1spin__rw__mutex_a89f5fac1aed4a2eb2e5a1241b43a9380}\index{tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}!spin\_rw\_mutex@{spin\_rw\_mutex}}
\index{spin\_rw\_mutex@{spin\_rw\_mutex}!tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}}
\doxysubsubsection{\texorpdfstring{spin\_rw\_mutex()}{spin\_rw\_mutex()}}
{\footnotesize\ttfamily \label{classtbb_1_1spin__rw__mutex_a89f5fac1aed4a2eb2e5a1241b43a9380} 
tbb\+::spin\+\_\+rw\+\_\+mutex\+::spin\+\_\+rw\+\_\+mutex (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Construct unacquired mutex. 



\doxysubsection{类成员变量说明}
\Hypertarget{classtbb_1_1spin__rw__mutex_abeadad6e97347e68e1685d871df578c5}\index{tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}!BUSY@{BUSY}}
\index{BUSY@{BUSY}!tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}}
\doxysubsubsection{\texorpdfstring{BUSY}{BUSY}}
{\footnotesize\ttfamily \label{classtbb_1_1spin__rw__mutex_abeadad6e97347e68e1685d871df578c5} 
const \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} tbb\+::spin\+\_\+rw\+\_\+mutex\+::\+BUSY = \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_ad91cc2ff9f3b6551297338e86645e84a}{WRITER}} \texorpdfstring{$\vert$}{|} \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a26321766e400dc3bbc81ee75e59a392b}{READERS}}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

\Hypertarget{classtbb_1_1spin__rw__mutex_a60d8e54f03128f5ba8fb23fa1af521b0}\index{tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}!ONE\_READER@{ONE\_READER}}
\index{ONE\_READER@{ONE\_READER}!tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}}
\doxysubsubsection{\texorpdfstring{ONE\_READER}{ONE\_READER}}
{\footnotesize\ttfamily \label{classtbb_1_1spin__rw__mutex_a60d8e54f03128f5ba8fb23fa1af521b0} 
const \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} tbb\+::spin\+\_\+rw\+\_\+mutex\+::\+ONE\+\_\+\+READER = 4\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

\Hypertarget{classtbb_1_1spin__rw__mutex_a26321766e400dc3bbc81ee75e59a392b}\index{tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}!READERS@{READERS}}
\index{READERS@{READERS}!tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}}
\doxysubsubsection{\texorpdfstring{READERS}{READERS}}
{\footnotesize\ttfamily \label{classtbb_1_1spin__rw__mutex_a26321766e400dc3bbc81ee75e59a392b} 
const \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} tbb\+::spin\+\_\+rw\+\_\+mutex\+::\+READERS = \texorpdfstring{$\sim$}{\string~}(\mbox{\hyperlink{classtbb_1_1spin__rw__mutex_ad91cc2ff9f3b6551297338e86645e84a}{WRITER}} \texorpdfstring{$\vert$}{|} \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a2d57a507b8f24a5e72c367feefeaa8ea}{WRITER\+\_\+\+PENDING}})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

\Hypertarget{classtbb_1_1spin__rw__mutex_a0c0ea09bdefb5044400203ea516bb273}\index{tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}!state@{state}}
\index{state@{state}!tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}}
\doxysubsubsection{\texorpdfstring{state}{state}}
{\footnotesize\ttfamily \label{classtbb_1_1spin__rw__mutex_a0c0ea09bdefb5044400203ea516bb273} 
volatile \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} tbb\+::spin\+\_\+rw\+\_\+mutex\+::state\hspace{0.3cm}{\ttfamily [private]}}

Bit 0 = writer is holding lock Bit 1 = request by a writer to acquire lock (hint to readers to wait) Bit 2..N = number of readers holding lock \Hypertarget{classtbb_1_1spin__rw__mutex_ad91cc2ff9f3b6551297338e86645e84a}\index{tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}!WRITER@{WRITER}}
\index{WRITER@{WRITER}!tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}}
\doxysubsubsection{\texorpdfstring{WRITER}{WRITER}}
{\footnotesize\ttfamily \label{classtbb_1_1spin__rw__mutex_ad91cc2ff9f3b6551297338e86645e84a} 
const \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} tbb\+::spin\+\_\+rw\+\_\+mutex\+::\+WRITER = 1\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

\Hypertarget{classtbb_1_1spin__rw__mutex_a2d57a507b8f24a5e72c367feefeaa8ea}\index{tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}!WRITER\_PENDING@{WRITER\_PENDING}}
\index{WRITER\_PENDING@{WRITER\_PENDING}!tbb::spin\_rw\_mutex@{tbb::spin\_rw\_mutex}}
\doxysubsubsection{\texorpdfstring{WRITER\_PENDING}{WRITER\_PENDING}}
{\footnotesize\ttfamily \label{classtbb_1_1spin__rw__mutex_a2d57a507b8f24a5e72c367feefeaa8ea} 
const \mbox{\hyperlink{classtbb_1_1spin__rw__mutex_a62fdf5c4041159ea32e5d1872730fbbc}{state\+\_\+t}} tbb\+::spin\+\_\+rw\+\_\+mutex\+::\+WRITER\+\_\+\+PENDING = 2\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/src/old/\mbox{\hyperlink{spin__rw__mutex__v2_8h}{spin\+\_\+rw\+\_\+mutex\+\_\+v2.\+h}}\end{DoxyCompactItemize}
