\doxysection{string.\+h}
\hypertarget{string_8h_source}{}\label{string_8h_source}\index{runtime/core/stl/string.h@{runtime/core/stl/string.h}}
\mbox{\hyperlink{string_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <string\_view>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{core_2stl_2memory_8h}{runtime/core/stl/memory.h}}>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa}{luisa}}\ \{}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifdef\ LUISA\_USE\_SYSTEM\_STL}}
\DoxyCodeLine{00011\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00012\ \textcolor{keyword}{using\ }std::u8string;}
\DoxyCodeLine{00013\ \textcolor{keyword}{using\ }std::u16string;}
\DoxyCodeLine{00014\ \textcolor{keyword}{using\ }std::u32string;}
\DoxyCodeLine{00015\ \textcolor{keyword}{using\ }std::wstring;}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00017\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_a4cb72b1f2b3b0dc5c21076e95f132dc5}{string}}\ =\ std::basic\_string<char,\ std::char\_traits<char>,\ luisa::allocator<char>>;}
\DoxyCodeLine{00018\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_a3c80bf4328c67c5e30935449170483de}{u16string}}\ =\ std::basic\_string<char16\_t,\ std::char\_traits<char16\_t>,\ luisa::allocator<char16\_t>>;}
\DoxyCodeLine{00019\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_ac7472722d52e33dc8d8d03dd5e329108}{u32string}}\ =\ std::basic\_string<char32\_t,\ std::char\_traits<char32\_t>,\ luisa::allocator<char32\_t>>;}
\DoxyCodeLine{00020\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_aa2332e880c673155d3f01d290bb6f23c}{u8string}}\ =\ std::basic\_string<char8\_t,\ std::char\_traits<char8\_t>,\ luisa::allocator<char8\_t>>;}
\DoxyCodeLine{00021\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_a2d9fc193ad9783eec53530fd1efde03d}{wstring}}\ =\ std::basic\_string<wchar\_t,\ std::char\_traits<wchar\_t>,\ luisa::allocator<wchar\_t>>;}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{using\ }std::string\_view;}
\DoxyCodeLine{00025\ \textcolor{keyword}{using\ }std::u16string\_view;}
\DoxyCodeLine{00026\ \textcolor{keyword}{using\ }std::u32string\_view;}
\DoxyCodeLine{00027\ \textcolor{keyword}{using\ }std::u8string\_view;}
\DoxyCodeLine{00028\ \textcolor{keyword}{using\ }std::wstring\_view;}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ CharTraits>}
\DoxyCodeLine{00031\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1basic__string__hash}{basic\_string\_hash}}\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1basic__string__hash_a962dd8cde0a60f3ac47f86031ab861dc}{is\_transparent}}\ =\ \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}};\textcolor{comment}{//\ to\ enable\ heterogeneous\ lookup}}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1basic__string__hash_ad6b5843b2edfd6d923dd05db44ade496}{is\_avalaunching}}\ =\ \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}};}
\DoxyCodeLine{00034\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ \mbox{\hyperlink{structluisa_1_1basic__string__hash_a2734bf696072dd8cb161feabe0a15fb2}{operator()}}(std::basic\_string\_view<Char,\ CharTraits>\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}},}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ seed\ =\ \mbox{\hyperlink{namespaceluisa_a5873fb06df3edc6209e15bd6a820aa2e}{hash64\_default\_seed}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_ab252534c7d98105deb296e0eab13bfc5}{hash64}}(\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}.data(),\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}.size()\ *\ \textcolor{keyword}{sizeof}(Char),\ seed);}
\DoxyCodeLine{00037\ \ \ \ \ \}}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Allocator>}
\DoxyCodeLine{00039\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ \mbox{\hyperlink{structluisa_1_1basic__string__hash_a11e8a7a6197deca6316b06fbf8a5bc51}{operator()}}(\textcolor{keyword}{const}\ std::basic\_string<Char,\ CharTraits,\ Allocator>\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}},}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ seed\ =\ \mbox{\hyperlink{namespaceluisa_a5873fb06df3edc6209e15bd6a820aa2e}{hash64\_default\_seed}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_ab252534c7d98105deb296e0eab13bfc5}{hash64}}(\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}.data(),\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}.size()\ *\ \textcolor{keyword}{sizeof}(Char),\ seed);}
\DoxyCodeLine{00042\ \ \ \ \ \}}
\DoxyCodeLine{00043\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ \mbox{\hyperlink{structluisa_1_1basic__string__hash_a1ca84cb7b9ab25dca966af57206bbf60}{operator()}}(\textcolor{keyword}{const}\ Char\ *\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}},}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ seed\ =\ \mbox{\hyperlink{namespaceluisa_a5873fb06df3edc6209e15bd6a820aa2e}{hash64\_default\_seed}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_ab252534c7d98105deb296e0eab13bfc5}{hash64}}(\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}},\ CharTraits::length(\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}})\ *\ \textcolor{keyword}{sizeof}(Char),\ seed);}
\DoxyCodeLine{00046\ \ \ \ \ \}}
\DoxyCodeLine{00047\ \};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_ab248526786064850d3b01966ea2b4311}{string\_hash}}\ =\ \mbox{\hyperlink{structluisa_1_1basic__string__hash}{basic\_string\_hash<char,\ std::char\_traits<char>}}>;}
\DoxyCodeLine{00050\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_a13e95e8819cb116cdc81dcb4f2cd7e0d}{u16string\_hash}}\ =\ \mbox{\hyperlink{structluisa_1_1basic__string__hash}{basic\_string\_hash<char16\_t,\ std::char\_traits<char16\_t>}}>;}
\DoxyCodeLine{00051\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_a89f42896a894e05ac92e96eb36a1cdff}{u32string\_hash}}\ =\ \mbox{\hyperlink{structluisa_1_1basic__string__hash}{basic\_string\_hash<char32\_t,\ std::char\_traits<char32\_t>}}>;}
\DoxyCodeLine{00052\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_a219d146e5fd6c0baa81fba5fc0fa0b62}{u8string\_hash}}\ =\ \mbox{\hyperlink{structluisa_1_1basic__string__hash}{basic\_string\_hash<char8\_t,\ std::char\_traits<char8\_t>}}>;}
\DoxyCodeLine{00053\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_a6f73081861f1f286ed180b9481b550d2}{wstring\_hash}}\ =\ \mbox{\hyperlink{structluisa_1_1basic__string__hash}{basic\_string\_hash<wchar\_t,\ std::char\_traits<wchar\_t>}}>;}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00056\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1is__char}{is\_char}}\ :\ std::disjunction<}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<std::remove\_cvref\_t<Char>,\ char>,}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<std::remove\_cvref\_t<Char>,\ char8\_t>,}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<std::remove\_cvref\_t<Char>,\ char16\_t>,}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<std::remove\_cvref\_t<Char>,\ char32\_t>,}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<std::remove\_cvref\_t<Char>,\ wchar\_t>>\ \{\};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00064\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceluisa_a3485a2f952b53e1ca4901d7265e8a014}{is\_char\_v}}\ =\ \mbox{\hyperlink{structluisa_1_1is__char}{is\_char<Char>::value}};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{namespaceluisa_a3485a2f952b53e1ca4901d7265e8a014}{is\_char\_v<Char>}}}
\DoxyCodeLine{00068\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1hash}{hash}}<Char\ *>\ :\ \mbox{\hyperlink{namespaceluisa_ab248526786064850d3b01966ea2b4311}{string\_hash}}\ \{\};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{namespaceluisa_a3485a2f952b53e1ca4901d7265e8a014}{is\_char\_v<Char>}}}
\DoxyCodeLine{00072\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1hash}{hash}}<Char[\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}]>\ :\ \mbox{\hyperlink{namespaceluisa_ab248526786064850d3b01966ea2b4311}{string\_hash}}\ \{\};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ C,\ \textcolor{keyword}{typename}\ CT,\ \textcolor{keyword}{typename}\ Alloc>}
\DoxyCodeLine{00075\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1hash}{hash}}<\mbox{\hyperlink{namespacestd}{std}}::basic\_string<C,\ CT,\ Alloc>>\ :\ \mbox{\hyperlink{structluisa_1_1basic__string__hash}{basic\_string\_hash}}<C,\ CT>\ \{\};}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ C,\ \textcolor{keyword}{typename}\ CT>}
\DoxyCodeLine{00078\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1hash}{hash}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view}}<C,\ CT>>\ :\ \mbox{\hyperlink{structluisa_1_1basic__string__hash}{basic\_string\_hash}}<C,\ CT>\ \{\};}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \}\textcolor{comment}{//\ namespace\ luisa}}

\end{DoxyCode}
