\doxysection{cds\+::intrusive\+::cuckoo\+::striping\texorpdfstring{$<$}{<} Recursive\+Lock, Arity, Alloc, Stat \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1intrusive_1_1cuckoo_1_1striping}{}\label{classcds_1_1intrusive_1_1cuckoo_1_1striping}\index{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}}


Lock striping concurrent access policy  




{\ttfamily \#include $<$cuckoo\+\_\+set.\+h$>$}

\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef Recursive\+Lock \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a97e955f9761c90a073b6b527b1b52a38}{lock\+\_\+type}}
\begin{DoxyCompactList}\small\item\em lock type \end{DoxyCompactList}\item 
typedef Alloc \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_adf02bf9e80975677702484ff01fdbfa4}{allocator\+\_\+type}}
\begin{DoxyCompactList}\small\item\em allocator type \end{DoxyCompactList}\item 
typedef Stat \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a2ef3076f980dadff30e3e5c7f1b3f7da}{statistics\+\_\+type}}
\begin{DoxyCompactList}\small\item\em Internal statistics type (\doxylink{structcds_1_1intrusive_1_1cuckoo_1_1striping__stat}{striping\+\_\+stat} or \doxylink{structcds_1_1intrusive_1_1cuckoo_1_1empty__striping__stat}{empty\+\_\+striping\+\_\+stat}) \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a97e955f9761c90a073b6b527b1b52a38}{lock\+\_\+type}}, \mbox{\hyperlink{structcds_1_1sync_1_1pow2__select__policy}{cds\+::sync\+::pow2\+\_\+select\+\_\+policy}}, \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_adf02bf9e80975677702484ff01fdbfa4}{allocator\+\_\+type}} $>$ \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a318b53417e3774df1b972054ca6bf8c7}{lock\+\_\+array\+\_\+type}}
\begin{DoxyCompactList}\small\item\em lock array type \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a38f04210d4e74b2aaeb040e89862f531}{striping}} (size\+\_\+t n\+Lock\+Count)
\begin{DoxyCompactList}\small\item\em Constructor \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a217a18845157651dc3d02d437afcab61}{lock\+\_\+count}} () const
\begin{DoxyCompactList}\small\item\em Returns lock array size \end{DoxyCompactList}\item 
constexpr unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a1ab323a983f4160f31f474937744a855}{arity}} () const noexcept
\begin{DoxyCompactList}\small\item\em Returns the arity of striping mutex policy \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a2ef3076f980dadff30e3e5c7f1b3f7da}{statistics\+\_\+type}} const \& \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a4644de841fc4b2cdeca55b8ba768ba65}{statistics}} () const
\begin{DoxyCompactList}\small\item\em Returns internal statistics \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 属性}
\begin{DoxyCompactItemize}
\item 
static unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} const \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_aaa3d03083277d0634b2896ca68254070}{c\+\_\+n\+Arity}} = Arity
\begin{DoxyCompactList}\small\item\em the arity \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+striping\+\_\+stat$>$\newline
class cds\+::intrusive\+::cuckoo\+::striping$<$ Recursive\+Lock, Arity, Alloc, Stat $>$}
Lock striping concurrent access policy 

This is one of available \doxylink{structcds_1_1opt_1_1mutex__policy}{opt\+::mutex\+\_\+policy} option type for \doxylink{classcds_1_1intrusive_1_1_cuckoo_set}{Cuckoo\+Set}

Lock striping is very simple technique. The cuckoo set consists of the bucket tables and the array of locks. There is single lock array for each bucket table, at least, the count of bucket table is 2. Initially, the capacity of lock array and each bucket table is the same. When set is resized, bucket table capacity will be doubled but lock array will not. The lock {\ttfamily i} protects each bucket {\ttfamily j}, where {\ttfamily  j = i mod L }, where {\ttfamily L} -\/ the size of lock array.

The policy contains an internal array of {\ttfamily Recursive\+Lock} locks.

Template arguments\+:
\begin{DoxyItemize}
\item {\ttfamily Recursive\+Lock} -\/ the type of recursive mutex. The default is {\ttfamily std\+::recursive\+\_\+mutex}. The mutex type should be default-\/constructible. Note that a recursive spin-\/lock is not suitable for lock striping for performance reason.
\item {\ttfamily Arity} -\/ unsigned int constant that specifies an arity. The arity is the count of hash functors, i.\+e., the count of lock arrays. Default value is 2.
\item {\ttfamily Alloc} -\/ allocator type used for lock array memory allocation. Default is {\ttfamily CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR}.
\item {\ttfamily Stat} -\/ internal statistics type. Note that this template argument is automatically selected by \doxylink{classcds_1_1intrusive_1_1_cuckoo_set}{Cuckoo\+Set} class according to its {\ttfamily \doxylink{structcds_1_1opt_1_1stat}{opt\+::stat}} option. 
\end{DoxyItemize}

\doxysubsection{成员类型定义说明}
\Hypertarget{classcds_1_1intrusive_1_1cuckoo_1_1striping_adf02bf9e80975677702484ff01fdbfa4}\index{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}!allocator\_type@{allocator\_type}}
\index{allocator\_type@{allocator\_type}!cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{allocator\_type}{allocator\_type}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1cuckoo_1_1striping_adf02bf9e80975677702484ff01fdbfa4} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+striping\+\_\+stat$>$ \\
typedef Alloc \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping}{cds\+::intrusive\+::cuckoo\+::striping}}$<$ Recursive\+Lock, Arity, Alloc, Stat $>$\+::allocator\+\_\+type}



allocator type 

\Hypertarget{classcds_1_1intrusive_1_1cuckoo_1_1striping_a318b53417e3774df1b972054ca6bf8c7}\index{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}!lock\_array\_type@{lock\_array\_type}}
\index{lock\_array\_type@{lock\_array\_type}!cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{lock\_array\_type}{lock\_array\_type}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1cuckoo_1_1striping_a318b53417e3774df1b972054ca6bf8c7} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+striping\+\_\+stat$>$ \\
typedef \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a97e955f9761c90a073b6b527b1b52a38}{lock\+\_\+type}}, \mbox{\hyperlink{structcds_1_1sync_1_1pow2__select__policy}{cds\+::sync\+::pow2\+\_\+select\+\_\+policy}}, \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_adf02bf9e80975677702484ff01fdbfa4}{allocator\+\_\+type}} $>$ \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping}{cds\+::intrusive\+::cuckoo\+::striping}}$<$ Recursive\+Lock, Arity, Alloc, Stat $>$\+::lock\+\_\+array\+\_\+type}



lock array type 

\Hypertarget{classcds_1_1intrusive_1_1cuckoo_1_1striping_a97e955f9761c90a073b6b527b1b52a38}\index{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}!lock\_type@{lock\_type}}
\index{lock\_type@{lock\_type}!cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{lock\_type}{lock\_type}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1cuckoo_1_1striping_a97e955f9761c90a073b6b527b1b52a38} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+striping\+\_\+stat$>$ \\
typedef Recursive\+Lock \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping}{cds\+::intrusive\+::cuckoo\+::striping}}$<$ Recursive\+Lock, Arity, Alloc, Stat $>$\+::lock\+\_\+type}



lock type 

\Hypertarget{classcds_1_1intrusive_1_1cuckoo_1_1striping_a2ef3076f980dadff30e3e5c7f1b3f7da}\index{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}!statistics\_type@{statistics\_type}}
\index{statistics\_type@{statistics\_type}!cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{statistics\_type}{statistics\_type}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1cuckoo_1_1striping_a2ef3076f980dadff30e3e5c7f1b3f7da} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+striping\+\_\+stat$>$ \\
typedef Stat \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping}{cds\+::intrusive\+::cuckoo\+::striping}}$<$ Recursive\+Lock, Arity, Alloc, Stat $>$\+::statistics\+\_\+type}



Internal statistics type (\doxylink{structcds_1_1intrusive_1_1cuckoo_1_1striping__stat}{striping\+\_\+stat} or \doxylink{structcds_1_1intrusive_1_1cuckoo_1_1empty__striping__stat}{empty\+\_\+striping\+\_\+stat}) 



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1intrusive_1_1cuckoo_1_1striping_a38f04210d4e74b2aaeb040e89862f531}\index{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}!striping@{striping}}
\index{striping@{striping}!cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{striping()}{striping()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1cuckoo_1_1striping_a38f04210d4e74b2aaeb040e89862f531} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+striping\+\_\+stat$>$ \\
\mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping}{cds\+::intrusive\+::cuckoo\+::striping}}$<$ Recursive\+Lock, Arity, Alloc, Stat $>$\+::striping (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Lock\+Count}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor 


\begin{DoxyParams}{参数}
{\em n\+Lock\+Count} & The size of lock array. Must be power of two. \\
\hline
\end{DoxyParams}


\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1intrusive_1_1cuckoo_1_1striping_a1ab323a983f4160f31f474937744a855}\index{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}!arity@{arity}}
\index{arity@{arity}!cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{arity()}{arity()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1cuckoo_1_1striping_a1ab323a983f4160f31f474937744a855} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+striping\+\_\+stat$>$ \\
unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping}{cds\+::intrusive\+::cuckoo\+::striping}}$<$ Recursive\+Lock, Arity, Alloc, Stat $>$\+::arity (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [constexpr]}, {\ttfamily [noexcept]}}



Returns the arity of striping mutex policy 

\Hypertarget{classcds_1_1intrusive_1_1cuckoo_1_1striping_a217a18845157651dc3d02d437afcab61}\index{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}!lock\_count@{lock\_count}}
\index{lock\_count@{lock\_count}!cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{lock\_count()}{lock\_count()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1cuckoo_1_1striping_a217a18845157651dc3d02d437afcab61} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+striping\+\_\+stat$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping}{cds\+::intrusive\+::cuckoo\+::striping}}$<$ Recursive\+Lock, Arity, Alloc, Stat $>$\+::lock\+\_\+count (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns lock array size 

Lock array size is unchanged during {\ttfamily striping} object lifetime \Hypertarget{classcds_1_1intrusive_1_1cuckoo_1_1striping_a4644de841fc4b2cdeca55b8ba768ba65}\index{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}!statistics@{statistics}}
\index{statistics@{statistics}!cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{statistics()}{statistics()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1cuckoo_1_1striping_a4644de841fc4b2cdeca55b8ba768ba65} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+striping\+\_\+stat$>$ \\
\mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping_a2ef3076f980dadff30e3e5c7f1b3f7da}{statistics\+\_\+type}} const  \& \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping}{cds\+::intrusive\+::cuckoo\+::striping}}$<$ Recursive\+Lock, Arity, Alloc, Stat $>$\+::statistics (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns internal statistics 



\doxysubsection{类成员变量说明}
\Hypertarget{classcds_1_1intrusive_1_1cuckoo_1_1striping_aaa3d03083277d0634b2896ca68254070}\index{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}!c\_nArity@{c\_nArity}}
\index{c\_nArity@{c\_nArity}!cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$@{cds::intrusive::cuckoo::striping$<$ RecursiveLock, Arity, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{c\_nArity}{c\_nArity}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1cuckoo_1_1striping_aaa3d03083277d0634b2896ca68254070} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+striping\+\_\+stat$>$ \\
unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} const \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1striping}{cds\+::intrusive\+::cuckoo\+::striping}}$<$ Recursive\+Lock, Arity, Alloc, Stat $>$\+::c\+\_\+n\+Arity = Arity\hspace{0.3cm}{\ttfamily [static]}}



the arity 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/intrusive/\mbox{\hyperlink{intrusive_2cuckoo__set_8h}{cuckoo\+\_\+set.\+h}}\end{DoxyCompactItemize}
