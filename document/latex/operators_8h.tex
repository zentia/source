\doxysection{runtime/dsl/operators.h 文件参考}
\hypertarget{operators_8h}{}\label{operators_8h}\index{runtime/dsl/operators.h@{runtime/dsl/operators.h}}
{\ttfamily \#include $<$runtime/core/basic\+\_\+types.\+h$>$}\newline
{\ttfamily \#include $<$runtime/dsl/expr\+\_\+traits.\+h$>$}\newline
{\ttfamily \#include $<$runtime/dsl/expr.\+h$>$}\newline
operators.\+h 的引用(Include)关系图\+:
% FIG 0
此图展示该文件被哪些文件直接或间接地引用了\+:
% FIG 1
\doxysubsubsection*{命名空间}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespaceluisa}{luisa}}
\item 
namespace \mbox{\hyperlink{namespaceluisa_1_1compute}{luisa\+::compute}}
\item 
namespace \mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail}{luisa\+::compute\+::detail}}
\begin{DoxyCompactList}\small\item\em 1D kernel. Kernel$<$1, Args...$>$ \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{operators_8h_a49731cc099102730d496087b3e9b4cb1}{LUISA\+\_\+\+MAKE\+\_\+\+GLOBAL\+\_\+\+DSL\+\_\+\+UNARY\+\_\+\+OP}}(op,  op\+\_\+tag)
\begin{DoxyCompactList}\small\item\em Define global unary operation of dsl objects \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{operators_8h_ac3355c6be89346dfe3e9be7540fed8f1}{LUISA\+\_\+\+MAKE\+\_\+\+GLOBAL\+\_\+\+DSL\+\_\+\+BINARY\+\_\+\+OP}}(op,  op\+\_\+tag\+\_\+name)
\begin{DoxyCompactList}\small\item\em Define global binary operation of dsl objects \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{operators_8h_a86a105a2882731fc1f965c14f842f230}{LUISA\+\_\+\+MAKE\+\_\+\+GLOBAL\+\_\+\+DSL\+\_\+\+ASSIGN\+\_\+\+OP}}(op)
\begin{DoxyCompactList}\small\item\em Define global assign operation of dsl objects; returns {\itshape const} reference to lhs \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{operators_8h_af66a2435321b88ca0089b72b34e3f686}{LUISA\+\_\+\+DISABLE\+\_\+\+DSL\+\_\+\+ADDRESS\+\_\+\+OF\+\_\+\+MESSAGE}}
\item 
\#define \mbox{\hyperlink{operators_8h_a602e1f3e82eb84b7bd5e7bdee3221b8e}{LUISA\+\_\+\+DISABLE\+\_\+\+DSL\+\_\+\+ADDRESS\+\_\+\+OF\+\_\+\+OPERATOR}}(...)
\end{DoxyCompactItemize}
\doxysubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename, typename$>$ }\\\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail_abfd4098c904a816cc9d5cbe2f278cd5d}{luisa\+::compute\+::detail\+::dsl\+\_\+binary\+\_\+op\+\_\+fp\+\_\+integral\+\_\+implicit\+\_\+conversion\+\_\+detected}} () noexcept
\item 
{\footnotesize template$<$\mbox{\hyperlink{namespaceluisa_1_1compute_ab147b12fd5f4243b787f9c14c2afdb08}{Binary\+Op}} op, typename Lhs, typename Rhs$>$ }\\constexpr auto \mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail_a4182774544e0d34092908af90cc91969}{luisa\+::compute\+::detail\+::dsl\+\_\+binary\+\_\+op\+\_\+return\+\_\+type\+\_\+helper}} () noexcept
\item 
{\footnotesize template$<$typename T$>$ }\\requires \+::luisa\+::compute\+::is\+\_\+dsl\+\_\+v$<$ T $>$ T \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{operators_8h_a2ad60c3922e3e1b64f58b7142b0a745a}{operator\&}} (T \&\&) noexcept
\end{DoxyCompactItemize}


\doxysubsection{宏定义说明}
\Hypertarget{operators_8h_af66a2435321b88ca0089b72b34e3f686}\index{operators.h@{operators.h}!LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_MESSAGE@{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_MESSAGE}}
\index{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_MESSAGE@{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_MESSAGE}!operators.h@{operators.h}}
\doxysubsubsection{\texorpdfstring{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_MESSAGE}{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_MESSAGE}}
{\footnotesize\ttfamily \label{operators_8h_af66a2435321b88ca0089b72b34e3f686} 
\#define LUISA\+\_\+\+DISABLE\+\_\+\+DSL\+\_\+\+ADDRESS\+\_\+\+OF\+\_\+\+MESSAGE}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}Address-\/of\ operator\ is\ not\ allowed\ for\ DSL\ objects,\(\backslash\)n"{}}\ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}as\ it\ is\ only\ valid\ during\ the\ AST\ recording\ phrase\(\backslash\)n"{}}\ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}and\ will\ not\ behave\ as\ expected\ like\ a\ real\ pointer\(\backslash\)n"{}}\ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}during\ kernel\ execution.\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}For\ example,\ if\ allowed,\ the\ following\ code\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}\`{}\`{}\`{}\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}UInt\ *a\ =\ nullptr;\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}\$if\ (cond)\ \{\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}\ \ a\ =\ \&b;\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}\}\ \$else\ \{\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}\ \ a\ =\ \&c;\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}\};\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}\`{}\`{}\`{}\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}will\ make\ \`{}a`\ **always**\ pointing\ to\ \`{}c`.\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}Please\ use\ references\ to\ pass\ variables\ between\(\backslash\)n"{}}\ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}functions.\ Or,\ if\ you\ fully\ understand\ the\ semantics\(\backslash\)n"{}}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}and\ effects,\ please\ use\ \`{}std::addressof`\ instead\ for\(\backslash\)n"{}}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}advanced\ usage.\(\backslash\)n"{}}}

\end{DoxyCode}
\Hypertarget{operators_8h_a602e1f3e82eb84b7bd5e7bdee3221b8e}\index{operators.h@{operators.h}!LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_OPERATOR@{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_OPERATOR}}
\index{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_OPERATOR@{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_OPERATOR}!operators.h@{operators.h}}
\doxysubsubsection{\texorpdfstring{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_OPERATOR}{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_OPERATOR}}
{\footnotesize\ttfamily \label{operators_8h_a602e1f3e82eb84b7bd5e7bdee3221b8e} 
\#define LUISA\+\_\+\+DISABLE\+\_\+\+DSL\+\_\+\+ADDRESS\+\_\+\+OF\+\_\+\+OPERATOR(\begin{DoxyParamCaption}\item[{}]{}...{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ std::same\_as<T,\ \_\_VA\_ARGS\_\_>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ [[nodiscard]]\ \textcolor{keyword}{inline}\ T\ *\mbox{\hyperlink{local_8h_aebeef78111814622edb7dd617a0c0426}{operator\&}}(T\ \&\&)\ noexcept\ \{\ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ static\_assert(::luisa::always\_false\_v<T>,\ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{operators_8h_af66a2435321b88ca0089b72b34e3f686}{LUISA\_DISABLE\_DSL\_ADDRESS\_OF\_MESSAGE}});\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::abort();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{operators_8h_a86a105a2882731fc1f965c14f842f230}\index{operators.h@{operators.h}!LUISA\_MAKE\_GLOBAL\_DSL\_ASSIGN\_OP@{LUISA\_MAKE\_GLOBAL\_DSL\_ASSIGN\_OP}}
\index{LUISA\_MAKE\_GLOBAL\_DSL\_ASSIGN\_OP@{LUISA\_MAKE\_GLOBAL\_DSL\_ASSIGN\_OP}!operators.h@{operators.h}}
\doxysubsubsection{\texorpdfstring{LUISA\_MAKE\_GLOBAL\_DSL\_ASSIGN\_OP}{LUISA\_MAKE\_GLOBAL\_DSL\_ASSIGN\_OP}}
{\footnotesize\ttfamily \label{operators_8h_a86a105a2882731fc1f965c14f842f230} 
\#define LUISA\+\_\+\+MAKE\+\_\+\+GLOBAL\+\_\+\+DSL\+\_\+\+ASSIGN\+\_\+\+OP(\begin{DoxyParamCaption}\item[{}]{op}{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ std::same\_as<\textcolor{keyword}{decltype}(std::declval<luisa::compute::Var<T>\ \&>()\ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ op\ std::declval<U\ \&>()),\ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::Var<T>>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \&\textcolor{keyword}{operator}\ op\#\#=(luisa::compute::Var<T>\ \&lhs,\ U\ \&\&\ rhs)\ \textcolor{keyword}{noexcept}\ \{\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{offscreen_8c_ad0da36b2558901e21e7a30f6c227a45e}{x}}\ =\ lhs\ op\ std::forward<U>(rhs);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ luisa::compute::detail::FunctionBuilder::current()-\/>assign(\ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ lhs.expression(),\ \mbox{\hyperlink{offscreen_8c_ad0da36b2558901e21e7a30f6c227a45e}{x}}.expression());\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lhs;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}


Define global assign operation of dsl objects; returns {\itshape const} reference to lhs 

\Hypertarget{operators_8h_ac3355c6be89346dfe3e9be7540fed8f1}\index{operators.h@{operators.h}!LUISA\_MAKE\_GLOBAL\_DSL\_BINARY\_OP@{LUISA\_MAKE\_GLOBAL\_DSL\_BINARY\_OP}}
\index{LUISA\_MAKE\_GLOBAL\_DSL\_BINARY\_OP@{LUISA\_MAKE\_GLOBAL\_DSL\_BINARY\_OP}!operators.h@{operators.h}}
\doxysubsubsection{\texorpdfstring{LUISA\_MAKE\_GLOBAL\_DSL\_BINARY\_OP}{LUISA\_MAKE\_GLOBAL\_DSL\_BINARY\_OP}}
{\footnotesize\ttfamily \label{operators_8h_ac3355c6be89346dfe3e9be7540fed8f1} 
\#define LUISA\+\_\+\+MAKE\+\_\+\+GLOBAL\+\_\+\+DSL\+\_\+\+BINARY\+\_\+\+OP(\begin{DoxyParamCaption}\item[{}]{op}{, }\item[{}]{op\+\_\+tag\+\_\+name}{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ LhsT,\ \textcolor{keyword}{typename}\ RhsT>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ luisa::compute::any\_dsl\_v<LhsT,\ RhsT>\ \&\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ luisa::is\_basic\_v<luisa::compute::expr\_value\_t<LhsT>>\ \&\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ luisa::is\_basic\_v<luisa::compute::expr\_value\_t<RhsT>>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ [[nodiscard]]\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ \textcolor{keyword}{operator}\ op(LhsT\ \&\&lhs,\ RhsT\ \&\&rhs)\ \textcolor{keyword}{noexcept}\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }Lhs\ =\ luisa::compute::expr\_value\_t<LhsT>;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }Rhs\ =\ luisa::compute::expr\_value\_t<RhsT>;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ [ret,\ lhs\_cast,\ rhs\_cast]\ =\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::detail::dsl\_binary\_op\_return\_type\_helper<\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::BinaryOp::op\_tag\_name,\ Lhs,\ Rhs>();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }Ret\ =\ \textcolor{keyword}{decltype}(ret);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }LhsCast\ =\ \textcolor{keyword}{decltype}(lhs\_cast);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }RhsCast\ =\ \textcolor{keyword}{decltype}(rhs\_cast);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ lhs\_expr\ =\ luisa::compute::detail::extract\_expression(std::forward<LhsT>(lhs));\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ rhs\_expr\ =\ luisa::compute::detail::extract\_expression(std::forward<RhsT>(rhs));\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ fb\ =\ luisa::compute::detail::FunctionBuilder::current();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (!std::is\_same\_v<LhsCast,\ Lhs>)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ lhs\_expr\ =\ fb-\/>cast(luisa::compute::Type::of<LhsCast>(),\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::CastOp::STATIC,\ lhs\_expr);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (!std::is\_same\_v<RhsCast,\ Rhs>)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ rhs\_expr\ =\ fb-\/>cast(luisa::compute::Type::of<RhsCast>(),\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::CastOp::STATIC,\ rhs\_expr);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ luisa::compute::dsl::def<Ret>(fb-\/>binary(\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::Type::of<Ret>(),\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::BinaryOp::op\_tag\_name,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ lhs\_expr,\ rhs\_expr));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}


Define global binary operation of dsl objects 

\Hypertarget{operators_8h_a49731cc099102730d496087b3e9b4cb1}\index{operators.h@{operators.h}!LUISA\_MAKE\_GLOBAL\_DSL\_UNARY\_OP@{LUISA\_MAKE\_GLOBAL\_DSL\_UNARY\_OP}}
\index{LUISA\_MAKE\_GLOBAL\_DSL\_UNARY\_OP@{LUISA\_MAKE\_GLOBAL\_DSL\_UNARY\_OP}!operators.h@{operators.h}}
\doxysubsubsection{\texorpdfstring{LUISA\_MAKE\_GLOBAL\_DSL\_UNARY\_OP}{LUISA\_MAKE\_GLOBAL\_DSL\_UNARY\_OP}}
{\footnotesize\ttfamily \label{operators_8h_a49731cc099102730d496087b3e9b4cb1} 
\#define LUISA\+\_\+\+MAKE\+\_\+\+GLOBAL\+\_\+\+DSL\+\_\+\+UNARY\+\_\+\+OP(\begin{DoxyParamCaption}\item[{}]{op}{, }\item[{}]{op\+\_\+tag}{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ luisa::compute::is\_dsl\_v<T>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ [[nodiscard]]\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ \textcolor{keyword}{operator}\ op(T\ \&\&expr)\ \textcolor{keyword}{noexcept}\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }R\ =\ std::remove\_cvref\_t<\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ decltype(op\ std::declval<luisa::compute::expr\_value\_t<T>>())>;\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ luisa::compute::dsl::def<R>(\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::detail::FunctionBuilder::current()-\/>unary(\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::Type::of<R>(),\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::UnaryOp::op\_tag,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ luisa::compute::detail::extract\_expression(std::forward<T>(expr))));\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}


Define global unary operation of dsl objects 



\doxysubsection{函数说明}
\Hypertarget{operators_8h_a2ad60c3922e3e1b64f58b7142b0a745a}\index{operators.h@{operators.h}!operator\&@{operator\&}}
\index{operator\&@{operator\&}!operators.h@{operators.h}}
\doxysubsubsection{\texorpdfstring{operator\&()}{operator\&()}}
{\footnotesize\ttfamily \label{operators_8h_a2ad60c3922e3e1b64f58b7142b0a745a} 
template$<$typename T$>$ \\
requires \+::luisa\+::compute\+::is\+\_\+dsl\+\_\+v$<$ T $>$ T \texorpdfstring{$\ast$}{*} operator\& (\begin{DoxyParamCaption}\item[{T \&\&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [nodiscard]}, {\ttfamily [noexcept]}}

