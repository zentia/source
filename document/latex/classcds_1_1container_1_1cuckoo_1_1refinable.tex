\doxysection{cds\+::container\+::cuckoo\+::refinable\texorpdfstring{$<$}{<} Recursive\+Lock, Arity, Back\+Off, Alloc, Stat \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1container_1_1cuckoo_1_1refinable}{}\label{classcds_1_1container_1_1cuckoo_1_1refinable}\index{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}}


Refinable concurrent access policy  




{\ttfamily \#include $<$cuckoo\+\_\+set.\+h$>$}

\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef Recursive\+Lock \mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_ae06aa2435e023b5a37748b896c9f4492}{lock\+\_\+type}}
\begin{DoxyCompactList}\small\item\em lock type \end{DoxyCompactList}\item 
typedef Alloc \mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_a0a43f066ed32ac125506066a2ed6dfe7}{allocator\+\_\+type}}
\begin{DoxyCompactList}\small\item\em allocator type \end{DoxyCompactList}\item 
typedef Back\+Off \mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_a2a55198c54ab463772c83212d6fecdc5}{back\+\_\+off}}
\begin{DoxyCompactList}\small\item\em back-\/off strategy \end{DoxyCompactList}\item 
typedef Stat \mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_a2d1188503acbf76cde2d45c66755eef4}{statistics\+\_\+type}}
\begin{DoxyCompactList}\small\item\em internal statistics type \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_ae59a56ecc5f68c89836adb437fed5687}{refinable}} (size\+\_\+t n\+Lock\+Count)
\begin{DoxyCompactList}\small\item\em Constructor \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_a11131e6c5b918812a6958707d3441127}{lock\+\_\+count}} () const
\begin{DoxyCompactList}\small\item\em Returns lock array size \end{DoxyCompactList}\item 
constexpr unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_af77d6b89d472e448b8177c3a2a0ccc83}{arity}} () const noexcept
\begin{DoxyCompactList}\small\item\em Returns the arity of {\ttfamily refinable} mutex policy \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_a2d1188503acbf76cde2d45c66755eef4}{statistics\+\_\+type}} const \& \mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_ac2b162bfa21981887544cdc36148b178}{statistics}} () const
\begin{DoxyCompactList}\small\item\em Returns internal statistics \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 属性}
\begin{DoxyCompactItemize}
\item 
static unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} const \mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_a354981b01bb1695239841811b18d6dbc}{c\+\_\+n\+Arity}} = Arity
\begin{DoxyCompactList}\small\item\em the arity \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, typename Back\+Off = cds\+::backoff\+::\+Default, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+refinable\+\_\+stat$>$\newline
class cds\+::container\+::cuckoo\+::refinable$<$ Recursive\+Lock, Arity, Back\+Off, Alloc, Stat $>$}
Refinable concurrent access policy 

This is one of available {\ttfamily \doxylink{structcds_1_1opt_1_1mutex__policy}{opt\+::mutex\+\_\+policy}} option type for {\ttfamily \doxylink{classcds_1_1container_1_1_cuckoo_set}{Cuckoo\+Set}} 

Refining is like a striping technique (see {\ttfamily \doxylink{classcds_1_1container_1_1cuckoo_1_1striping}{cuckoo\+::striping}}) but it allows growing the size of lock array when resizing the hash table. So, the sizes of hash table and lock array are equal.

Template arguments\+:
\begin{DoxyItemize}
\item {\ttfamily Recursive\+Lock} -\/ the type of mutex. Reentrant (recursive) mutex is required. The default is {\ttfamily std\+::recursive\+\_\+mutex}. The mutex type should be default-\/constructible.
\item {\ttfamily Arity} -\/ unsigned int constant that specifies an arity. The arity is the count of hash functors, i.\+e., the count of lock arrays. Default value is 2.
\item {\ttfamily Back\+Off} -\/ back-\/off strategy. Default is {\ttfamily \doxylink{namespacecds_1_1backoff_a0f64f7bc371e3ad006fba5bd855d6e96}{cds\+::backoff\+::\+Default}} 
\item {\ttfamily Alloc} -\/ allocator type used for lock array memory allocation. Default is {\ttfamily CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR}.
\item {\ttfamily Stat} -\/ internal statistics type. Note that this template argument is automatically selected by \doxylink{classcds_1_1container_1_1_cuckoo_set}{Cuckoo\+Set} class according to its {\ttfamily \doxylink{structcds_1_1opt_1_1stat}{opt\+::stat}} option. 
\end{DoxyItemize}

\doxysubsection{成员类型定义说明}
\Hypertarget{classcds_1_1container_1_1cuckoo_1_1refinable_a0a43f066ed32ac125506066a2ed6dfe7}\index{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}!allocator\_type@{allocator\_type}}
\index{allocator\_type@{allocator\_type}!cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{allocator\_type}{allocator\_type}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1cuckoo_1_1refinable_a0a43f066ed32ac125506066a2ed6dfe7} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, typename Back\+Off = cds\+::backoff\+::\+Default, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+refinable\+\_\+stat$>$ \\
typedef Alloc \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1refinable}{cds\+::intrusive\+::cuckoo\+::refinable}}$<$ Recursive\+Lock, Arity, Back\+Off, Alloc, Stat $>$\+::allocator\+\_\+type}



allocator type 

\Hypertarget{classcds_1_1container_1_1cuckoo_1_1refinable_a2a55198c54ab463772c83212d6fecdc5}\index{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}!back\_off@{back\_off}}
\index{back\_off@{back\_off}!cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{back\_off}{back\_off}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1cuckoo_1_1refinable_a2a55198c54ab463772c83212d6fecdc5} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, typename Back\+Off = cds\+::backoff\+::\+Default, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+refinable\+\_\+stat$>$ \\
typedef Back\+Off \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1refinable}{cds\+::intrusive\+::cuckoo\+::refinable}}$<$ Recursive\+Lock, Arity, Back\+Off, Alloc, Stat $>$\+::back\+\_\+off}



back-\/off strategy 

\Hypertarget{classcds_1_1container_1_1cuckoo_1_1refinable_ae06aa2435e023b5a37748b896c9f4492}\index{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}!lock\_type@{lock\_type}}
\index{lock\_type@{lock\_type}!cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{lock\_type}{lock\_type}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1cuckoo_1_1refinable_ae06aa2435e023b5a37748b896c9f4492} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, typename Back\+Off = cds\+::backoff\+::\+Default, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+refinable\+\_\+stat$>$ \\
typedef Recursive\+Lock \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1refinable}{cds\+::intrusive\+::cuckoo\+::refinable}}$<$ Recursive\+Lock, Arity, Back\+Off, Alloc, Stat $>$\+::lock\+\_\+type}



lock type 

\Hypertarget{classcds_1_1container_1_1cuckoo_1_1refinable_a2d1188503acbf76cde2d45c66755eef4}\index{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}!statistics\_type@{statistics\_type}}
\index{statistics\_type@{statistics\_type}!cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{statistics\_type}{statistics\_type}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1cuckoo_1_1refinable_a2d1188503acbf76cde2d45c66755eef4} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, typename Back\+Off = cds\+::backoff\+::\+Default, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+refinable\+\_\+stat$>$ \\
typedef Stat \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1refinable}{cds\+::intrusive\+::cuckoo\+::refinable}}$<$ Recursive\+Lock, Arity, Back\+Off, Alloc, Stat $>$\+::statistics\+\_\+type}



internal statistics type 



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1container_1_1cuckoo_1_1refinable_ae59a56ecc5f68c89836adb437fed5687}\index{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}!refinable@{refinable}}
\index{refinable@{refinable}!cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{refinable()}{refinable()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1cuckoo_1_1refinable_ae59a56ecc5f68c89836adb437fed5687} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, typename Back\+Off = cds\+::backoff\+::\+Default, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+refinable\+\_\+stat$>$ \\
\mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1refinable}{cds\+::intrusive\+::cuckoo\+::refinable}}$<$ Recursive\+Lock, Arity, Back\+Off, Alloc, Stat $>$\+::refinable (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Lock\+Count}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor 


\begin{DoxyParams}{参数}
{\em n\+Lock\+Count} & The size of lock array. Must be power of two. \\
\hline
\end{DoxyParams}


\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1container_1_1cuckoo_1_1refinable_af77d6b89d472e448b8177c3a2a0ccc83}\index{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}!arity@{arity}}
\index{arity@{arity}!cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{arity()}{arity()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1cuckoo_1_1refinable_af77d6b89d472e448b8177c3a2a0ccc83} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, typename Back\+Off = cds\+::backoff\+::\+Default, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+refinable\+\_\+stat$>$ \\
unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1refinable}{cds\+::intrusive\+::cuckoo\+::refinable}}$<$ Recursive\+Lock, Arity, Back\+Off, Alloc, Stat $>$\+::arity (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [constexpr]}, {\ttfamily [noexcept]}}



Returns the arity of {\ttfamily refinable} mutex policy 

\Hypertarget{classcds_1_1container_1_1cuckoo_1_1refinable_a11131e6c5b918812a6958707d3441127}\index{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}!lock\_count@{lock\_count}}
\index{lock\_count@{lock\_count}!cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{lock\_count()}{lock\_count()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1cuckoo_1_1refinable_a11131e6c5b918812a6958707d3441127} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, typename Back\+Off = cds\+::backoff\+::\+Default, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+refinable\+\_\+stat$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1refinable}{cds\+::intrusive\+::cuckoo\+::refinable}}$<$ Recursive\+Lock, Arity, Back\+Off, Alloc, Stat $>$\+::lock\+\_\+count (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns lock array size 

Lock array size is not a constant for {\ttfamily refinable} policy and can be changed when the set is resized. \Hypertarget{classcds_1_1container_1_1cuckoo_1_1refinable_ac2b162bfa21981887544cdc36148b178}\index{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}!statistics@{statistics}}
\index{statistics@{statistics}!cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{statistics()}{statistics()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1cuckoo_1_1refinable_ac2b162bfa21981887544cdc36148b178} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, typename Back\+Off = cds\+::backoff\+::\+Default, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+refinable\+\_\+stat$>$ \\
\mbox{\hyperlink{classcds_1_1container_1_1cuckoo_1_1refinable_a2d1188503acbf76cde2d45c66755eef4}{statistics\+\_\+type}} const  \& \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1refinable}{cds\+::intrusive\+::cuckoo\+::refinable}}$<$ Recursive\+Lock, Arity, Back\+Off, Alloc, Stat $>$\+::statistics (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns internal statistics 



\doxysubsection{类成员变量说明}
\Hypertarget{classcds_1_1container_1_1cuckoo_1_1refinable_a354981b01bb1695239841811b18d6dbc}\index{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}!c\_nArity@{c\_nArity}}
\index{c\_nArity@{c\_nArity}!cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$@{cds::container::cuckoo::refinable$<$ RecursiveLock, Arity, BackOff, Alloc, Stat $>$}}
\doxysubsubsection{\texorpdfstring{c\_nArity}{c\_nArity}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1cuckoo_1_1refinable_a354981b01bb1695239841811b18d6dbc} 
template$<$class Recursive\+Lock = std\+::recursive\+\_\+mutex, unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Arity = 2, typename Back\+Off = cds\+::backoff\+::\+Default, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR, class Stat = empty\+\_\+refinable\+\_\+stat$>$ \\
unsigned \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} const \mbox{\hyperlink{classcds_1_1intrusive_1_1cuckoo_1_1refinable}{cds\+::intrusive\+::cuckoo\+::refinable}}$<$ Recursive\+Lock, Arity, Back\+Off, Alloc, Stat $>$\+::c\+\_\+n\+Arity = Arity\hspace{0.3cm}{\ttfamily [static]}}



the arity 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/intrusive/\mbox{\hyperlink{intrusive_2cuckoo__set_8h}{cuckoo\+\_\+set.\+h}}\end{DoxyCompactItemize}
