\doxysection{tf\+::cuda\+Flow类 参考}
\hypertarget{classtf_1_1cuda_flow}{}\label{classtf_1_1cuda_flow}\index{tf::cudaFlow@{tf::cudaFlow}}


class to create a cuda\+Flow task dependency graph  




{\ttfamily \#include $<$cudaflow.\+hpp$>$}



类 tf\+::cuda\+Flow 继承关系图\+:
% FIG 0


tf\+::cuda\+Flow 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1cuda_flow_a1db9e88c4cdbeab9b8b9973d86aff603}{cuda\+Flow}} ()=\mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}}
\begin{DoxyCompactList}\small\item\em constructs a cuda\+Flow \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_flow_a828c3ab275521672e4ec6c78d3a9ee62}{\texorpdfstring{$\sim$}{\string~}cuda\+Flow}} ()=\mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}}
\begin{DoxyCompactList}\small\item\em destroys the cuda\+Flow \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_flow_ac2906cb0002fc411a983d100a3d58d62}{single\+\_\+task}} (\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})
\begin{DoxyCompactList}\small\item\em runs a callable with only a single kernel thread \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1cuda_flow_add2d364f38c72322d8e36bc0da0b98e4}{single\+\_\+task}} (\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})
\begin{DoxyCompactList}\small\item\em updates a single-\/threaded kernel task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_flow_a1a681f6223853b6445dcfdad07e4d0fd}{for\+\_\+each}} (I first, I last, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} callable)
\begin{DoxyCompactList}\small\item\em applies a callable to each dereferenced element of the data array \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1cuda_flow_af9cc7ee16602754929bb9118a9d7f0b2}{for\+\_\+each}} (\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, I first, I last, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} callable)
\begin{DoxyCompactList}\small\item\em updates parameters of a kernel task created from \doxylink{classtf_1_1cuda_flow_a1a681f6223853b6445dcfdad07e4d0fd}{tf\+::cuda\+Flow\+::for\+\_\+each} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_flow_a34f1ea89e5651faa6e8af522a42556ac}{for\+\_\+each\+\_\+index}} (I first, I last, I step, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} callable)
\begin{DoxyCompactList}\small\item\em applies a callable to each index in the range with the step size \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1cuda_flow_a3fa7f8e38b4da1fe0cbcfb265f9349a2}{for\+\_\+each\+\_\+index}} (\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, I first, I last, I step, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} callable)
\begin{DoxyCompactList}\small\item\em updates parameters of a kernel task created from \doxylink{classtf_1_1cuda_flow_a34f1ea89e5651faa6e8af522a42556ac}{tf\+::cuda\+Flow\+::for\+\_\+each\+\_\+index} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_flow_af89a9bda182272462a0eda2581536cd8}{transform}} (I first, I last, O \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} op)
\begin{DoxyCompactList}\small\item\em applies a callable to a source range and stores the result in a target range \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1cuda_flow_a4a211b1f8562e10f9aae8b44fd6acdec}{transform}} (\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, I first, I last, O \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})
\begin{DoxyCompactList}\small\item\em updates parameters of a kernel task created from \doxylink{classtf_1_1cuda_flow_af89a9bda182272462a0eda2581536cd8}{tf\+::cuda\+Flow\+::transform} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I1, typename I2, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_flow_abab2bfdfc86ef3a764ece4743fdede76}{transform}} (I1 first1, I1 last1, I2 first2, O \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} op)
\begin{DoxyCompactList}\small\item\em creates a task to perform parallel transforms over two ranges of items \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I1, typename I2, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1cuda_flow_a7c6ca7be2b6908e8f71570c54303ba9e}{transform}} (\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, I1 first1, I1 last1, I2 first2, O \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})
\begin{DoxyCompactList}\small\item\em updates parameters of a kernel task created from \doxylink{classtf_1_1cuda_flow_af89a9bda182272462a0eda2581536cd8}{tf\+::cuda\+Flow\+::transform} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_flow_a89c389fff64a16e5dd8c60875d3b514d}{capture}} (\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable)
\begin{DoxyCompactList}\small\item\em constructs a subflow graph through \doxylink{classtf_1_1cuda_flow_capturer}{tf\+::cuda\+Flow\+Capturer} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1cuda_flow_aa0f182dc0fa99bcc9118311925fddca5}{capture}} (\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} callable)
\begin{DoxyCompactList}\small\item\em updates the captured child graph \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public 成员函数 继承自 \mbox{\hyperlink{classtf_1_1cuda_graph_base}{tf\+::cuda\+Graph\+Base$<$ cuda\+Graph\+Creator, cuda\+Graph\+Deleter $>$}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1cuda_graph_base_a7ac97676bc2fbba66aa7c2f8853b387c}{cuda\+Graph\+Base}} (ArgsT \&\&... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})
\begin{DoxyCompactList}\small\item\em constructs a {\ttfamily \doxylink{classcuda_graph}{cuda\+Graph}} object by passing the given arguments to the executable CUDA graph creator \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1cuda_graph_base_ad53731e3a0415df2ae86f7121969851a}{num\+\_\+nodes}} () const
\begin{DoxyCompactList}\small\item\em queries the number of nodes in a native CUDA graph \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1cuda_graph_base_a05b48f98e182ed0eb88e313ad41d1bf2}{num\+\_\+edges}} () const
\begin{DoxyCompactList}\small\item\em queries the number of edges in a native CUDA graph \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a585b00b8f12e75cbea6405fa32bc2819}{empty}} () const
\begin{DoxyCompactList}\small\item\em queries if the graph is empty \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_abd73a9268b80e74803f241ee10a842b6}{dump}} (std\+::ostream \&os)
\begin{DoxyCompactList}\small\item\em dumps the CUDA graph to a DOT format through the given output stream \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_graph_base_aa3d0f028bf9c47dc266c345028fe6312}{operator cuda\+Graph\+\_\+t}} () const noexcept
\begin{DoxyCompactList}\small\item\em implicit conversion to the underlying {\ttfamily cuda\+Graph\+\_\+t} object \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_aefa705b9b705be5791e99587d69d8b09}{noop}} ()
\begin{DoxyCompactList}\small\item\em creates a no-\/operation task \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a4b730405596091d534af5737752b4682}{host}} (\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}user\+\_\+data)
\begin{DoxyCompactList}\small\item\em creates a host task that runs a callable on the host \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a1473a15a6023fbc25e1f029f2ff84aec}{kernel}} (dim3 \mbox{\hyperlink{offscreen_8c_a8cf17d727651616de6f2b79ef32170cd}{g}}, dim3 \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}, size\+\_\+t \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}, \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}, Args\+T... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})
\begin{DoxyCompactList}\small\item\em creates a kernel task \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a10196f49de261a4042de328aab2452c8}{memset}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}}, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em creates a memset task that fills untyped data with a byte value \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a5e704c7bb669a82f4fe140ecb4576eb0}{memcpy}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}tgt, const \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}, size\+\_\+t \mbox{\hyperlink{structbytes}{bytes}})
\begin{DoxyCompactList}\small\item\em creates a memcpy task that copies untyped data in bytes \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_ab45bc592a33380adf74d6f1e7690bd4c}{zero}} (\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em creates a memset task that sets a typed memory block to zero \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a32634c5645c14b99ceeaafe77ea5ea62}{fill}} (\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}}, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em creates a memset task that fills a typed memory block with a value \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a02a041d5dd9e1e8958eb43e09331051e}{copy}} (\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}tgt, const \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}, size\+\_\+t num)
\begin{DoxyCompactList}\small\item\em creates a memcopy task that copies typed data \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_graph_base_a7ac97676bc2fbba66aa7c2f8853b387c}{cuda\+Graph\+Base}} (ArgsT \&\&... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})
\begin{DoxyCompactList}\small\item\em constructs a {\ttfamily \doxylink{classcuda_graph}{cuda\+Graph}} object by passing the given arguments to the executable CUDA graph creator \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1cuda_graph_base_ad53731e3a0415df2ae86f7121969851a}{num\+\_\+nodes}} () const
\begin{DoxyCompactList}\small\item\em queries the number of nodes in a native CUDA graph \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1cuda_graph_base_a05b48f98e182ed0eb88e313ad41d1bf2}{num\+\_\+edges}} () const
\begin{DoxyCompactList}\small\item\em queries the number of edges in a native CUDA graph \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a585b00b8f12e75cbea6405fa32bc2819}{empty}} () const
\begin{DoxyCompactList}\small\item\em queries if the graph is empty \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_abd73a9268b80e74803f241ee10a842b6}{dump}} (std\+::ostream \&os)
\begin{DoxyCompactList}\small\item\em dumps the CUDA graph to a DOT format through the given output stream \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_graph_base_aa3d0f028bf9c47dc266c345028fe6312}{operator cuda\+Graph\+\_\+t}} () const noexcept
\begin{DoxyCompactList}\small\item\em implicit conversion to the underlying {\ttfamily cuda\+Graph\+\_\+t} object \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_aefa705b9b705be5791e99587d69d8b09}{noop}} ()
\begin{DoxyCompactList}\small\item\em creates a no-\/operation task \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a4b730405596091d534af5737752b4682}{host}} (\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}user\+\_\+data)
\begin{DoxyCompactList}\small\item\em creates a host task that runs a callable on the host \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a1473a15a6023fbc25e1f029f2ff84aec}{kernel}} (dim3 \mbox{\hyperlink{offscreen_8c_a8cf17d727651616de6f2b79ef32170cd}{g}}, dim3 \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}, size\+\_\+t \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}, \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}, Args\+T... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})
\begin{DoxyCompactList}\small\item\em creates a kernel task \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a10196f49de261a4042de328aab2452c8}{memset}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}}, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em creates a memset task that fills untyped data with a byte value \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a5e704c7bb669a82f4fe140ecb4576eb0}{memcpy}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}tgt, const \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}, size\+\_\+t \mbox{\hyperlink{structbytes}{bytes}})
\begin{DoxyCompactList}\small\item\em creates a memcpy task that copies untyped data in bytes \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_ab45bc592a33380adf74d6f1e7690bd4c}{zero}} (\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em creates a memset task that sets a typed memory block to zero \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a32634c5645c14b99ceeaafe77ea5ea62}{fill}} (\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}}, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em creates a memset task that fills a typed memory block with a value \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} \mbox{\hyperlink{classtf_1_1cuda_graph_base_a02a041d5dd9e1e8958eb43e09331051e}{copy}} (\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}tgt, const \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}, size\+\_\+t num)
\begin{DoxyCompactList}\small\item\em creates a memcopy task that copies typed data \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{额外继承的成员函数}
\doxysubsection*{Public 类型 继承自 \mbox{\hyperlink{classtf_1_1cuda_graph_base}{tf\+::cuda\+Graph\+Base$<$ cuda\+Graph\+Creator, cuda\+Graph\+Deleter $>$}}}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classtf_1_1cuda_graph_base_aa90cf577e0404d311c0f1b391a0fba31}{base\+\_\+type}}
\begin{DoxyCompactList}\small\item\em base std\+::unique\+\_\+ptr type \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
class to create a cuda\+Flow task dependency graph 

\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} cuda\+Flow is a high-\/level interface over CUDA \doxylink{classtf_1_1_graph}{Graph} to perform GPU operations using the task dependency graph model. The class provides a set of methods for creating and launch different tasks on one or multiple CUDA devices, for instance, kernel tasks, data transfer tasks, and memory operation tasks. The following example creates a cuda\+Flow of two kernel tasks, {\ttfamily task1} and {\ttfamily task2}, where {\ttfamily task1} runs before {\ttfamily task2}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{namespacetf_af19c9b301dc0b0fe2a51a960fa427e83}{tf::cudaStream}}\ stream;}
\DoxyCodeLine{tf::cudaFlow\ cf;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ create\ two\ kernel\ tasks}}
\DoxyCodeLine{tf::cudaTask\ task1\ =\ cf.\mbox{\hyperlink{classtf_1_1cuda_graph_base_a1473a15a6023fbc25e1f029f2ff84aec}{kernel}}(grid1,\ block1,\ shm\_size1,\ kernel1,\ args1);}
\DoxyCodeLine{tf::cudaTask\ task2\ =\ cf.\mbox{\hyperlink{classtf_1_1cuda_graph_base_a1473a15a6023fbc25e1f029f2ff84aec}{kernel}}(grid2,\ block2,\ shm\_size2,\ kernel2,\ args2);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ kernel1\ runs\ before\ kernel2}}
\DoxyCodeLine{task1.\mbox{\hyperlink{classtf_1_1cuda_task_abdd68287ec4dff4216af34d1db44d1b4}{precede}}(task2);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ create\ an\ executable\ graph\ from\ the\ cudaflow}}
\DoxyCodeLine{\mbox{\hyperlink{namespacetf_a2be50e6880ead1d49a3fec2fc4bb893e}{cudaGraphExec}}\ exec\ =\ cf.instantiate();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ run\ the\ executable\ graph\ through\ the\ given\ stream}}
\DoxyCodeLine{exec.run(stream);}

\end{DoxyCode}


Please refer to \doxylink{GPUTaskingcudaFlow}{GPU Tasking (cuda\+Flow)} for details. 

\doxysubsection{构造及析构函数说明}
\Hypertarget{classtf_1_1cuda_flow_a1db9e88c4cdbeab9b8b9973d86aff603}\index{tf::cudaFlow@{tf::cudaFlow}!cudaFlow@{cudaFlow}}
\index{cudaFlow@{cudaFlow}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{cudaFlow()}{cudaFlow()}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_a1db9e88c4cdbeab9b8b9973d86aff603} 
tf\+::cuda\+Flow\+::cuda\+Flow (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



constructs a cuda\+Flow 

\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} \doxylink{classtf_1_1cuda_flow}{cuda\+Flow} is associated with a \doxylink{namespacetf_a713c427e4f9841a90dec67045a3babed}{tf\+::cuda\+Graph} that manages a native CUDA graph. \Hypertarget{classtf_1_1cuda_flow_a828c3ab275521672e4ec6c78d3a9ee62}\index{tf::cudaFlow@{tf::cudaFlow}!````~cudaFlow@{\texorpdfstring{$\sim$}{\string~}cudaFlow}}
\index{````~cudaFlow@{\texorpdfstring{$\sim$}{\string~}cudaFlow}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}cudaFlow()}{\string~cudaFlow()}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_a828c3ab275521672e4ec6c78d3a9ee62} 
tf\+::cuda\+Flow\+::\texorpdfstring{$\sim$}{\string~}cuda\+Flow (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



destroys the cuda\+Flow 



\doxysubsection{成员函数说明}
\Hypertarget{classtf_1_1cuda_flow_a89c389fff64a16e5dd8c60875d3b514d}\index{tf::cudaFlow@{tf::cudaFlow}!capture@{capture}}
\index{capture@{capture}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{capture()}{capture()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_a89c389fff64a16e5dd8c60875d3b514d} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} tf\+::cuda\+Flow\+::capture (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{callable}{}\end{DoxyParamCaption})}



constructs a subflow graph through \doxylink{classtf_1_1cuda_flow_capturer}{tf\+::cuda\+Flow\+Capturer} 


\begin{DoxyTemplParams}{模板参数}
{\em C} & callable type constructible from {\ttfamily std\+::function$<$void(tf\+::cuda\+Flow\+Capturer\&)$>$} \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em callable} & the callable to construct a capture flow\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1cuda_task}{tf\+::cuda\+Task} handle
\end{DoxyReturn}
\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} captured subflow forms a sub-\/graph to the cuda\+Flow and can be used to capture custom (or third-\/party) kernels that cannot be directly constructed from the cuda\+Flow.

Example usage\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([\&](tf::cudaFlow\&\ cf)\{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ tf::cudaTask\ my\_kernel\ =\ cf.\mbox{\hyperlink{classtf_1_1cuda_graph_base_a1473a15a6023fbc25e1f029f2ff84aec}{kernel}}(my\_arguments);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ create\ a\ flow\ capturer\ to\ capture\ custom\ kernels}}
\DoxyCodeLine{\ \ tf::cudaTask\ my\_subflow\ =\ cf.\mbox{\hyperlink{classtf_1_1cuda_flow_a89c389fff64a16e5dd8c60875d3b514d}{capture}}([\&](tf::cudaFlowCapturer\&\ capturer)\{}
\DoxyCodeLine{\ \ \ \ capturer.\mbox{\hyperlink{classtf_1_1cuda_flow_capturer_ad0d937ae0d77239f148b66a77e35db41}{on}}([\&](cudaStream\_t\ stream)\{}
\DoxyCodeLine{\ \ \ \ \ \ invoke\_custom\_kernel\_with\_stream(stream,\ custom\_arguments);}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ my\_kernel.\mbox{\hyperlink{classtf_1_1cuda_task_abdd68287ec4dff4216af34d1db44d1b4}{precede}}(my\_subflow);}
\DoxyCodeLine{\});}

\end{DoxyCode}
 \Hypertarget{classtf_1_1cuda_flow_aa0f182dc0fa99bcc9118311925fddca5}\index{tf::cudaFlow@{tf::cudaFlow}!capture@{capture}}
\index{capture@{capture}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{capture()}{capture()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_aa0f182dc0fa99bcc9118311925fddca5} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::cuda\+Flow\+::capture (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}}}]{task}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{callable}{}\end{DoxyParamCaption})}



updates the captured child graph 

The method is similar to \doxylink{classtf_1_1cuda_flow_a89c389fff64a16e5dd8c60875d3b514d}{tf\+::cuda\+Flow\+::capture} but operates on a task of type tf\+::cuda\+Task\+Type\+::\+SUBFLOW. The new captured graph must be topologically identical to the original captured graph. \Hypertarget{classtf_1_1cuda_flow_af9cc7ee16602754929bb9118a9d7f0b2}\index{tf::cudaFlow@{tf::cudaFlow}!for\_each@{for\_each}}
\index{for\_each@{for\_each}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{for\_each()}{for\_each()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_af9cc7ee16602754929bb9118a9d7f0b2} 
template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::cuda\+Flow\+::for\+\_\+each (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}}}]{task}{, }\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{callable}{}\end{DoxyParamCaption})}



updates parameters of a kernel task created from \doxylink{classtf_1_1cuda_flow_a1a681f6223853b6445dcfdad07e4d0fd}{tf\+::cuda\+Flow\+::for\+\_\+each} 

The type of the iterators and the callable must be the same as the task created from \doxylink{classtf_1_1cuda_flow_a1a681f6223853b6445dcfdad07e4d0fd}{tf\+::cuda\+Flow\+::for\+\_\+each}. 函数调用图\+:
% FIG 2
\Hypertarget{classtf_1_1cuda_flow_a1a681f6223853b6445dcfdad07e4d0fd}\index{tf::cudaFlow@{tf::cudaFlow}!for\_each@{for\_each}}
\index{for\_each@{for\_each}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{for\_each()}{for\_each()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_a1a681f6223853b6445dcfdad07e4d0fd} 
template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} tf\+::cuda\+Flow\+::for\+\_\+each (\begin{DoxyParamCaption}\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{callable}{}\end{DoxyParamCaption})}



applies a callable to each dereferenced element of the data array 


\begin{DoxyTemplParams}{模板参数}
{\em I} & iterator type \\
\hline
{\em C} & callable type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & iterator to the beginning (inclusive) \\
\hline
{\em last} & iterator to the end (exclusive) \\
\hline
{\em callable} & a callable object to apply to the dereferenced iterator\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1cuda_task}{tf\+::cuda\+Task} handle
\end{DoxyReturn}
This method is equivalent to the parallel execution of the following loop on a GPU\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ itr\ =\ first;\ itr\ !=\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ itr++)\ \{}
\DoxyCodeLine{\ \ callable(*itr);}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 3
\Hypertarget{classtf_1_1cuda_flow_a3fa7f8e38b4da1fe0cbcfb265f9349a2}\index{tf::cudaFlow@{tf::cudaFlow}!for\_each\_index@{for\_each\_index}}
\index{for\_each\_index@{for\_each\_index}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{for\_each\_index()}{for\_each\_index()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_a3fa7f8e38b4da1fe0cbcfb265f9349a2} 
template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::cuda\+Flow\+::for\+\_\+each\+\_\+index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}}}]{task}{, }\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{I}]{step}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{callable}{}\end{DoxyParamCaption})}



updates parameters of a kernel task created from \doxylink{classtf_1_1cuda_flow_a34f1ea89e5651faa6e8af522a42556ac}{tf\+::cuda\+Flow\+::for\+\_\+each\+\_\+index} 

The type of the iterators and the callable must be the same as the task created from \doxylink{classtf_1_1cuda_flow_a34f1ea89e5651faa6e8af522a42556ac}{tf\+::cuda\+Flow\+::for\+\_\+each\+\_\+index}. 函数调用图\+:
% FIG 4
\Hypertarget{classtf_1_1cuda_flow_a34f1ea89e5651faa6e8af522a42556ac}\index{tf::cudaFlow@{tf::cudaFlow}!for\_each\_index@{for\_each\_index}}
\index{for\_each\_index@{for\_each\_index}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{for\_each\_index()}{for\_each\_index()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_a34f1ea89e5651faa6e8af522a42556ac} 
template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} tf\+::cuda\+Flow\+::for\+\_\+each\+\_\+index (\begin{DoxyParamCaption}\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{I}]{step}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{callable}{}\end{DoxyParamCaption})}



applies a callable to each index in the range with the step size 


\begin{DoxyTemplParams}{模板参数}
{\em I} & index type \\
\hline
{\em C} & callable type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & beginning index \\
\hline
{\em last} & last index \\
\hline
{\em step} & step size \\
\hline
{\em callable} & the callable to apply to each element in the data array\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1cuda_task}{tf\+::cuda\+Task} handle
\end{DoxyReturn}
This method is equivalent to the parallel execution of the following loop on a GPU\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ step\ is\ positive\ [first,\ last)}}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=first;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}+=\mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a8af85ff0ba544ac84f4b42b0333f5d14}{step}})\ \{}
\DoxyCodeLine{\ \ callable(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ step\ is\ negative\ [first,\ last)}}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=first;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}>\mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}+=\mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a8af85ff0ba544ac84f4b42b0333f5d14}{step}})\ \{}
\DoxyCodeLine{\ \ callable(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 5
\Hypertarget{classtf_1_1cuda_flow_ac2906cb0002fc411a983d100a3d58d62}\index{tf::cudaFlow@{tf::cudaFlow}!single\_task@{single\_task}}
\index{single\_task@{single\_task}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{single\_task()}{single\_task()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_ac2906cb0002fc411a983d100a3d58d62} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} tf\+::cuda\+Flow\+::single\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{c}{}\end{DoxyParamCaption})}



runs a callable with only a single kernel thread 


\begin{DoxyTemplParams}{模板参数}
{\em C} & callable type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em c} & callable to run by a single kernel thread\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1cuda_task}{tf\+::cuda\+Task} handle 
\end{DoxyReturn}
函数调用图\+:
% FIG 6
\Hypertarget{classtf_1_1cuda_flow_add2d364f38c72322d8e36bc0da0b98e4}\index{tf::cudaFlow@{tf::cudaFlow}!single\_task@{single\_task}}
\index{single\_task@{single\_task}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{single\_task()}{single\_task()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_add2d364f38c72322d8e36bc0da0b98e4} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::cuda\+Flow\+::single\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}}}]{task}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{c}{}\end{DoxyParamCaption})}



updates a single-\/threaded kernel task 

This method is similar to \doxylink{classtf_1_1cuda_flow_ac2906cb0002fc411a983d100a3d58d62}{cuda\+Flow\+::single\+\_\+task} but operates on an existing task. 函数调用图\+:
% FIG 7
\Hypertarget{classtf_1_1cuda_flow_a4a211b1f8562e10f9aae8b44fd6acdec}\index{tf::cudaFlow@{tf::cudaFlow}!transform@{transform}}
\index{transform@{transform}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_a4a211b1f8562e10f9aae8b44fd6acdec} 
template$<$typename I, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::cuda\+Flow\+::transform (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}}}]{task}{, }\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{O}]{output}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{c}{}\end{DoxyParamCaption})}



updates parameters of a kernel task created from \doxylink{classtf_1_1cuda_flow_af89a9bda182272462a0eda2581536cd8}{tf\+::cuda\+Flow\+::transform} 

The type of the iterators and the callable must be the same as the task created from \doxylink{classtf_1_1cuda_flow_a1a681f6223853b6445dcfdad07e4d0fd}{tf\+::cuda\+Flow\+::for\+\_\+each}. 函数调用图\+:
% FIG 8
\Hypertarget{classtf_1_1cuda_flow_a7c6ca7be2b6908e8f71570c54303ba9e}\index{tf::cudaFlow@{tf::cudaFlow}!transform@{transform}}
\index{transform@{transform}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_a7c6ca7be2b6908e8f71570c54303ba9e} 
template$<$typename I1, typename I2, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::cuda\+Flow\+::transform (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}}}]{task}{, }\item[{I1}]{first1}{, }\item[{I1}]{last1}{, }\item[{I2}]{first2}{, }\item[{O}]{output}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{c}{}\end{DoxyParamCaption})}



updates parameters of a kernel task created from \doxylink{classtf_1_1cuda_flow_af89a9bda182272462a0eda2581536cd8}{tf\+::cuda\+Flow\+::transform} 

The type of the iterators and the callable must be the same as the task created from \doxylink{classtf_1_1cuda_flow_a1a681f6223853b6445dcfdad07e4d0fd}{tf\+::cuda\+Flow\+::for\+\_\+each}. 函数调用图\+:
% FIG 9
\Hypertarget{classtf_1_1cuda_flow_af89a9bda182272462a0eda2581536cd8}\index{tf::cudaFlow@{tf::cudaFlow}!transform@{transform}}
\index{transform@{transform}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_af89a9bda182272462a0eda2581536cd8} 
template$<$typename I, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} tf\+::cuda\+Flow\+::transform (\begin{DoxyParamCaption}\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{O}]{output}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{op}{}\end{DoxyParamCaption})}



applies a callable to a source range and stores the result in a target range 


\begin{DoxyTemplParams}{模板参数}
{\em I} & input iterator type \\
\hline
{\em O} & output iterator type \\
\hline
{\em C} & unary operator type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & iterator to the beginning of the input range \\
\hline
{\em last} & iterator to the end of the input range \\
\hline
{\em output} & iterator to the beginning of the output range \\
\hline
{\em op} & the operator to apply to transform each element in the range\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1cuda_task}{tf\+::cuda\+Task} handle
\end{DoxyReturn}
This method is equivalent to the parallel execution of the following loop on a GPU\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{while}\ (first\ !=\ last)\ \{}
\DoxyCodeLine{\ \ *\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}++\ =\ callable(*first++);}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 10
\Hypertarget{classtf_1_1cuda_flow_abab2bfdfc86ef3a764ece4743fdede76}\index{tf::cudaFlow@{tf::cudaFlow}!transform@{transform}}
\index{transform@{transform}!tf::cudaFlow@{tf::cudaFlow}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \label{classtf_1_1cuda_flow_abab2bfdfc86ef3a764ece4743fdede76} 
template$<$typename I1, typename I2, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1cuda_task}{cuda\+Task}} tf\+::cuda\+Flow\+::transform (\begin{DoxyParamCaption}\item[{I1}]{first1}{, }\item[{I1}]{last1}{, }\item[{I2}]{first2}{, }\item[{O}]{output}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{op}{}\end{DoxyParamCaption})}



creates a task to perform parallel transforms over two ranges of items 


\begin{DoxyTemplParams}{模板参数}
{\em I1} & first input iterator type \\
\hline
{\em I2} & second input iterator type \\
\hline
{\em O} & output iterator type \\
\hline
{\em C} & unary operator type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first1} & iterator to the beginning of the input range \\
\hline
{\em last1} & iterator to the end of the input range \\
\hline
{\em first2} & iterato \\
\hline
{\em output} & iterator to the beginning of the output range \\
\hline
{\em op} & binary operator to apply to transform each pair of items in the two input ranges\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
\doxylink{classtf_1_1cuda_task}{cuda\+Task} handle
\end{DoxyReturn}
This method is equivalent to the parallel execution of the following loop on a GPU\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{while}\ (first1\ !=\ last1)\ \{}
\DoxyCodeLine{\ \ *\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}++\ =\ op(*first1++,\ *first2++);}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 11


该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/taskflow/cuda/\mbox{\hyperlink{cudaflow_8hpp}{cudaflow.\+hpp}}\item 
external/taskflow/taskflow/cuda/algorithm/\mbox{\hyperlink{taskflow_2cuda_2algorithm_2for__each_8hpp}{for\+\_\+each.\+hpp}}\item 
external/taskflow/taskflow/cuda/algorithm/\mbox{\hyperlink{cuda_2algorithm_2transform_8hpp}{transform.\+hpp}}\end{DoxyCompactItemize}
