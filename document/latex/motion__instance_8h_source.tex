\doxysection{motion\+\_\+instance.\+h}
\hypertarget{motion__instance_8h_source}{}\label{motion__instance_8h_source}\index{runtime/runtime/rtx/motion\_instance.h@{runtime/runtime/rtx/motion\_instance.h}}
\mbox{\hyperlink{motion__instance_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Created\ by\ Mike\ on\ 2024/9/21.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <luisa/runtime/device.h>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute}{luisa::compute}}\ \{}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }Curve;}
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }Mesh;}
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }ProceduralPrimitive;}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{dll__export_8h_ad06d699c99cabff41979e596b53ac25a}{LC\_RUNTIME\_API}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a54672e4451f57c4899863f912a5aaf63}{MotionInstance}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a520fa05e0bf58785da428f7a0241eee2}{Device}};}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00020\ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a6c107ba240a40eaa1bb0072dbd92cbe7}{\_child\_handle}};}
\DoxyCodeLine{00021\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_a704aaa4b78bc57b4d9fd83d8bc854f01}{AccelMotionMode}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_ace6155b38296cdcfacd473f9fc217b87}{\_mode}};}
\DoxyCodeLine{00022\ \ \ \ \ luisa::vector<MotionInstanceTransform>\ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_abf3bd6615d1d8a4e42d922d4ec6a48c7}{\_transform\_keyframes}};}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{comment}{//\ for\ internal\ use\ only;\ does\ not\ have\ linkages}}
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a54672e4451f57c4899863f912a5aaf63}{MotionInstance}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_device_interface}{DeviceInterface}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}\ \&resource,}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceluisa_1_1compute_a004e0e7d9e6502f99eb959c99a00a7b9}{AccelMotionOption}}\ \&\mbox{\hyperlink{structoption}{option}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a54672e4451f57c4899863f912a5aaf63}{MotionInstance}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_device_interface}{DeviceInterface}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_mesh}{Mesh}}\ \&\mbox{\hyperlink{heightmap_8c_a9b554c9d084f2927e359b25d19606131}{mesh}},}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceluisa_1_1compute_a004e0e7d9e6502f99eb959c99a00a7b9}{AccelMotionOption}}\ \&\mbox{\hyperlink{structoption}{option}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a54672e4451f57c4899863f912a5aaf63}{MotionInstance}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_device_interface}{DeviceInterface}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_curve}{Curve}}\ \&curve,}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceluisa_1_1compute_a004e0e7d9e6502f99eb959c99a00a7b9}{AccelMotionOption}}\ \&\mbox{\hyperlink{structoption}{option}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a54672e4451f57c4899863f912a5aaf63}{MotionInstance}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_device_interface}{DeviceInterface}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_primitive}{ProceduralPrimitive}}\ \&primitive,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceluisa_1_1compute_a004e0e7d9e6502f99eb959c99a00a7b9}{AccelMotionOption}}\ \&\mbox{\hyperlink{structoption}{option}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_aba55af7af4b23c4f621c860039b41d00}{MotionInstance}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a54672e4451f57c4899863f912a5aaf63}{MotionInstance}}\ \&\&)\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a54672e4451f57c4899863f912a5aaf63}{MotionInstance}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a54672e4451f57c4899863f912a5aaf63}{MotionInstance}}\ \&\&rhs)\ noexcept\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ac8bd4f95e29f120931f646355e51323a}{\_move\_from}}(std::move(rhs));}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00048\ \ \ \ \ \}}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_keyframe(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform}{MotionInstanceTransform}}\ \&\mbox{\hyperlink{namespaceluisa_a5b7f7d471e0ca55c89b109ee3e0489db}{transform}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_keyframe(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceluisa_1_1compute_a3dd0dffc0a650f39390a32cc6a34ada2}{MotionInstanceTransformMatrix}}\ \&\mbox{\hyperlink{namespaceluisa_a5b7f7d471e0ca55c89b109ee3e0489db}{transform}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_keyframe(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t}{MotionInstanceTransformSRT}}\ \&\mbox{\hyperlink{namespaceluisa_a5b7f7d471e0ca55c89b109ee3e0489db}{transform}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_keyframes(luisa::span<const\ MotionInstanceTransform>\ transforms)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_keyframes(luisa::span<const\ MotionInstanceTransformMatrix>\ transforms)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_keyframes(luisa::span<const\ MotionInstanceTransformSRT>\ transforms)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform}{MotionInstanceTransform}}\ \&keyframe(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00057\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceluisa_1_1compute_a3dd0dffc0a650f39390a32cc6a34ada2}{MotionInstanceTransformMatrix}}\ \&keyframe\_matrix(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00058\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t}{MotionInstanceTransformSRT}}\ \&keyframe\_srt(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ [[nodiscard]]\ luisa::span<const\ MotionInstanceTransform>\ keyframes()\ const\ noexcept;}
\DoxyCodeLine{00061\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{namespaceluisa}{luisa}}::\mbox{\hyperlink{classeastl_1_1span}{span}}<const\ \mbox{\hyperlink{namespaceluisa_1_1compute_a3dd0dffc0a650f39390a32cc6a34ada2}{MotionInstanceTransformMatrix}}>\ keyframes\_matrix()\ const\ noexcept;}
\DoxyCodeLine{00062\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{namespaceluisa}{luisa}}::\mbox{\hyperlink{classeastl_1_1span}{span}}<const\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t}{MotionInstanceTransformSRT}}>\ keyframes\_srt()\ const\ noexcept;}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ [[nodiscard]]\ auto\ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_a08d135229acd30864c9b65e377223ddd}{keyframe\_count}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_abf3bd6615d1d8a4e42d922d4ec6a48c7}{\_transform\_keyframes}}.size();\ \}}
\DoxyCodeLine{00065\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_ae808f574016ba1a92843ba19a7ba77ba}{mode}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_motion_instance_ace6155b38296cdcfacd473f9fc217b87}{\_mode}};\ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ [[nodiscard]]\ luisa::unique\_ptr<Command>\ build()\ noexcept;}
\DoxyCodeLine{00068\ \};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \}\textcolor{comment}{//\ namespace\ luisa::compute}}

\end{DoxyCode}
