\doxysection{allocator.\+h}
\hypertarget{external_2libcds_2cds_2details_2allocator_8h_source}{}\label{external_2libcds_2cds_2details_2allocator_8h_source}\index{external/libcds/cds/details/allocator.h@{external/libcds/cds/details/allocator.h}}
\mbox{\hyperlink{external_2libcds_2cds_2details_2allocator_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ (c)\ 2006-\/2018\ Maxim\ Khizhinsky}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Distributed\ under\ the\ Boost\ Software\ License,\ Version\ 1.0.\ (See\ accompanying}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ file\ LICENSE\ or\ copy\ at\ http://www.boost.org/LICENSE\_1\_0.txt)}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#ifndef\ CDSLIB\_DETAILS\_ALLOCATOR\_H}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#define\ CDSLIB\_DETAILS\_ALLOCATOR\_H}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{details_2defs_8h}{cds/details/defs.h}}>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{external_2libcds_2cds_2user__setup_2allocator_8h}{cds/user\_setup/allocator.h}}>}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacecds}{cds}}\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacecds_1_1details}{details}}\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{class}\ Alloc\ =\ CDS\_DEFAULT\_ALLOCATOR\ >}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcds_1_1details_1_1_allocator}{Allocator}}}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ :\ \textcolor{keyword}{public}\ std::conditional<}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<\ T,\ typename\ Alloc::value\_type>::value}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,\ Alloc}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,\ typename\ std::allocator\_traits<Alloc>::template\ rebind\_alloc<T>}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ >\mbox{\hyperlink{structcds_1_1details_1_1aligned__type}{::type}}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::conditional<}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<\ T,\ typename\ Alloc::value\_type>::value}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,\ Alloc}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,\ \textcolor{keyword}{typename}\ std::allocator\_traits<Alloc>::template\ rebind\_alloc<T>}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ >\mbox{\hyperlink{structcds_1_1details_1_1aligned__type}{::type}}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a969799a8cddc3d6eb997822dadc45667}{allocator\_type}};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::allocator\_traits<\ allocator\_type\ >\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_ae1982ef7cd8f6b17048e0f19b504f7b1}{allocator\_traits}};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_afda0a72565ba70cf9ada55aeb6112b2f}{c\_bStdAllocator}}\ =\ std::is\_same<\ allocator\_type,\ std::allocator<T>>\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{::value}};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}>}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_ad159de071a083b84de588870d97440a2}{New}}(\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}\ \textcolor{keyword}{const}\&...\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ )}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a2daa1e40e7ad6f73bcc4e62d99845069}{Construct}}(\ allocator\_traits::allocate(\ *\textcolor{keyword}{this},\ 1,\ \textcolor{keyword}{nullptr}\ ),\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}...\ );}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a850741b6514b47d1005818712fb46f26}{MoveNew}}(\ Args\&\&...\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}}\ )}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a79fc6ed37c3ec350ce4c37ea6aa64af5}{MoveConstruct}}(\ allocator\_traits::allocate(\ *\textcolor{keyword}{this},\ 1,\ \textcolor{keyword}{nullptr}\ ),\ std::forward<Args>(\mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})...\ );}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a1e600da4d99b883cb6501ef18bd1f4f7}{NewArray}}(\ \textcolor{keywordtype}{size\_t}\ nCount\ )}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ allocator\_traits::allocate(\ *\textcolor{keyword}{this},\ nCount,\ \textcolor{keyword}{nullptr}\ );}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ nCount;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ )}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a2daa1e40e7ad6f73bcc4e62d99845069}{Construct}}(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ +\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ );}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}};}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a27fb6825cef632721ab371d7e1adf065}{NewArray}}(\ \textcolor{keywordtype}{size\_t}\ nCount,\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ )}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ allocator\_traits::allocate(\ *\textcolor{keyword}{this},\ nCount,\ \textcolor{keyword}{nullptr}\ );}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ nCount;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ )}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a2daa1e40e7ad6f73bcc4e62d99845069}{Construct}}(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ +\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}},\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ );}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}};}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ if\ CDS\_COMPILER\ ==\ CDS\_COMPILER\_INTEL}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ value\_type\ *\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_adda057caa73fb3fe9aa481f524507efd}{NewBlock}}(\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{time__split__node_8cpp_a1d4cadda247cbe50fe9f87e3065f17ec}{nSize}}\ )}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a2daa1e40e7ad6f73bcc4e62d99845069}{Construct}}(\ heap\_alloc(\ \mbox{\hyperlink{time__split__node_8cpp_a1d4cadda247cbe50fe9f87e3065f17ec}{nSize}}\ ));}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00090\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ endif}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}>}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_adda057caa73fb3fe9aa481f524507efd}{NewBlock}}(\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{time__split__node_8cpp_a1d4cadda247cbe50fe9f87e3065f17ec}{nSize}},\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}\ \textcolor{keyword}{const}\&...\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ )}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a2daa1e40e7ad6f73bcc4e62d99845069}{Construct}}(\ heap\_alloc(\ \mbox{\hyperlink{time__split__node_8cpp_a1d4cadda247cbe50fe9f87e3065f17ec}{nSize}}\ ),\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}...\ );}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_aacb02a5458297758a209230538856770}{Delete}}(\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ allocator\_traits::destroy(\ *\textcolor{keyword}{this},\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ );}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ allocator\_traits::deallocate(\ *\textcolor{keyword}{this},\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ 1\ );}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_af66ae7d380b56845f4fe30a14d5a1579}{Delete}}(\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ \textcolor{keywordtype}{size\_t}\ nCount\ )}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ nCount;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ )}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ allocator\_traits::destroy(\ *\textcolor{keyword}{this},\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ +\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ );}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ allocator\_traits::deallocate(\ *\textcolor{keyword}{this},\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ nCount\ );}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ if\ CDS\_COMPILER\ ==\ CDS\_COMPILER\_INTEL}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ value\_type\ *\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a2daa1e40e7ad6f73bcc4e62d99845069}{Construct}}(\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )\ value\_type;}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ endif}}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}>}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a2daa1e40e7ad6f73bcc4e62d99845069}{Construct}}(\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}\ \textcolor{keyword}{const}\&...\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ )}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ pv\ =\ \textcolor{keyword}{new}(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}(\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}...\ );}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pv;}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_a79fc6ed37c3ec350ce4c37ea6aa64af5}{MoveConstruct}}(\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ Args\&\&...\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}}\ )}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}\ *\ pv\ =\ \textcolor{keyword}{new}(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}(\ std::forward<Args>(\mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})...\ );}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pv;}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q>}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcds_1_1details_1_1_allocator_1_1rebind}{rebind}}\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator}{Allocator<\ Q,\ typename\ allocator\_traits::template\ rebind\_alloc<Q>}}>\ \mbox{\hyperlink{structcds_1_1details_1_1_allocator_1_1rebind_af1074fc743d429dbbdfab3dc19fe1fef}{other}}\ ;\ }
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *\ heap\_alloc(\ \textcolor{keywordtype}{size\_t}\ nByteSize\ )}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ nByteSize\ >=\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classcds_1_1details_1_1_allocator_acfb911864ffc738c5dcbc8ee62d2e92f}{value\_type}}));}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \textcolor{keyword}{const}\ nPtrSize\ =\ (\ nByteSize\ +\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}\ *)\ -\/\ 1\ )\ /\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}\ *);}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::allocator\_traits<allocator\_type>::template\ rebind\_alloc<\ void\ *\ >\ void\_allocator;}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ void\_allocator().allocate(\ nPtrSize\ );}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Alloc\ =\ CDS\_DEFAULT\_ALLOCATOR>}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcds_1_1details_1_1deferral__deleter}{deferral\_deleter}}\ \{}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcds_1_1details_1_1deferral__deleter_a23aaf332ce1797565d034fe5043188d3}{type}}\ \ \ \ \ \ \ \ \ \ \ \ ;\ }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ Alloc\ \ \ \ \ \ \ \mbox{\hyperlink{structcds_1_1details_1_1deferral__deleter_aff26943cc3e67b0b939322fb5f0dc8bb}{allocator\_type}}\ \ ;\ }
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structcds_1_1details_1_1deferral__deleter_ac0224fa424088b50c5772a47160b47fb}{free}}(\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1details_1_1_allocator}{Allocator<type,\ allocator\_type>}}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}};}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}.Delete(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ );}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \}\ \ \ \ \textcolor{comment}{//\ namespace\ details}}
\DoxyCodeLine{00183\ \}\ \ \ \ \textcolor{comment}{//\ namespace\ cds}}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \textcolor{preprocessor}{\#endif\ \ \ \ }\textcolor{comment}{//\ \#ifndef\ CDSLIB\_DETAILS\_ALLOCATOR\_H}}

\end{DoxyCode}
