\doxysection{iterator.\+hpp}
\hypertarget{iterator_8hpp_source}{}\label{iterator_8hpp_source}\index{external/taskflow/taskflow/utility/iterator.hpp@{external/taskflow/taskflow/utility/iterator.hpp}}
\mbox{\hyperlink{iterator_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <cstddef>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetf}{tf}}\ \{}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ B,\ \textcolor{keyword}{typename}\ E,\ \textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00027\ \textcolor{keyword}{constexpr}\ std::enable\_if\_t<std::is\_integral\_v<std::decay\_t<B>>\ \&\&\ }
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_integral\_v<std::decay\_t<E>>\ \&\&\ }
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_integral\_v<std::decay\_t<S>>,\ \textcolor{keywordtype}{bool}>}
\DoxyCodeLine{00030\ \mbox{\hyperlink{namespacetf_aa4db761760106ce6f6d2e7c1ac4d8520}{is\_index\_range\_invalid}}(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}\ beg,\ \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}\ \mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}},\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}\ step)\ \{}
\DoxyCodeLine{00031\ \ \ \textcolor{keywordflow}{return}\ ((step\ ==\ 0\ \&\&\ beg\ !=\ \mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}})\ ||}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ (beg\ <\ \mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}\ \&\&\ step\ <=\ \ 0)\ ||\ \ \textcolor{comment}{//\ positive\ range}}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ (beg\ >\ \mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}\ \&\&\ step\ >=\ \ 0));\ \ \ \textcolor{comment}{//\ negative\ range}}
\DoxyCodeLine{00034\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00073\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ B,\ \textcolor{keyword}{typename}\ E,\ \textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00074\ \textcolor{keyword}{constexpr}\ std::enable\_if\_t<std::is\_integral\_v<std::decay\_t<B>>\ \&\&\ }
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_integral\_v<std::decay\_t<E>>\ \&\&\ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_integral\_v<std::decay\_t<S>>,\ \textcolor{keywordtype}{size\_t}>}
\DoxyCodeLine{00077\ \mbox{\hyperlink{namespacetf_af00f6babb0818202960cbbf0a83bd8e7}{distance}}(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}\ beg,\ \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}\ \mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}},\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}\ step)\ \{}
\DoxyCodeLine{00078\ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}\ -\/\ beg\ +\ step\ +\ (step\ >\ 0\ ?\ -\/1\ :\ 1))\ /\ step;}
\DoxyCodeLine{00079\ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00097\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00098\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1_index_range_ab67d261986b699206aa8af8d1dc3e2b7}{IndexRange}}\ \{}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \textcolor{keyword}{static\_assert}(std::is\_integral\_v<T>,\ \textcolor{stringliteral}{"{}index\ type\ must\ be\ integral"{}});}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00107\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1_index_range_a3cd586acdb38ba869833496c6d87e8df}{index\_type}}\ =\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}};}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00112\ \ \ \mbox{\hyperlink{classtf_1_1_index_range_ab67d261986b699206aa8af8d1dc3e2b7}{IndexRange}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00120\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classtf_1_1_index_range_ab9e48fe80add350412be71fa0a219e4d}{IndexRange}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ beg,\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_a280096cb4056bc19b86da77d019434e4}{end}},\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_aafd4f2d04614e550649cd9b7912e0bf1}{step\_size}})}
\DoxyCodeLine{00121\ \ \ \ \ :\ \mbox{\hyperlink{classtf_1_1_index_range_ad07bb2a3f83ea55a9da2b79bfec80860}{\_beg}}\{beg\},\ \mbox{\hyperlink{classtf_1_1_index_range_a25ec20719388b32ffc20f46f6c6865f0}{\_end}}\{\mbox{\hyperlink{classtf_1_1_index_range_a280096cb4056bc19b86da77d019434e4}{end}}\},\ \mbox{\hyperlink{classtf_1_1_index_range_a6347193ad9681b2c4517d17dd2523014}{\_step\_size}}\{\mbox{\hyperlink{classtf_1_1_index_range_aafd4f2d04614e550649cd9b7912e0bf1}{step\_size}}\}\ \{\}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00126\ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_a2b52381358ab392efa257e185a33d4af}{begin}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1_index_range_ad07bb2a3f83ea55a9da2b79bfec80860}{\_beg}};\ \}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00131\ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_a280096cb4056bc19b86da77d019434e4}{end}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1_index_range_a25ec20719388b32ffc20f46f6c6865f0}{\_end}};\ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00136\ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_aafd4f2d04614e550649cd9b7912e0bf1}{step\_size}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1_index_range_a6347193ad9681b2c4517d17dd2523014}{\_step\_size}};\ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00141\ \ \ \mbox{\hyperlink{classtf_1_1_index_range_ab67d261986b699206aa8af8d1dc3e2b7}{IndexRange<T>}}\&\ \mbox{\hyperlink{classtf_1_1_index_range_a9cf7948f33d491f1bffe03a8d990bf13}{reset}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_a2b52381358ab392efa257e185a33d4af}{begin}},\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_a280096cb4056bc19b86da77d019434e4}{end}},\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_aafd4f2d04614e550649cd9b7912e0bf1}{step\_size}})\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \mbox{\hyperlink{classtf_1_1_index_range_ad07bb2a3f83ea55a9da2b79bfec80860}{\_beg}}\ =\ \mbox{\hyperlink{classtf_1_1_index_range_a2b52381358ab392efa257e185a33d4af}{begin}};}
\DoxyCodeLine{00143\ \ \ \ \ \mbox{\hyperlink{classtf_1_1_index_range_a25ec20719388b32ffc20f46f6c6865f0}{\_end}}\ =\ \mbox{\hyperlink{classtf_1_1_index_range_a280096cb4056bc19b86da77d019434e4}{end}};}
\DoxyCodeLine{00144\ \ \ \ \ \mbox{\hyperlink{classtf_1_1_index_range_a6347193ad9681b2c4517d17dd2523014}{\_step\_size}}\ =\ \mbox{\hyperlink{classtf_1_1_index_range_aafd4f2d04614e550649cd9b7912e0bf1}{step\_size}};}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00146\ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00151\ \ \ \mbox{\hyperlink{classtf_1_1_index_range_ab67d261986b699206aa8af8d1dc3e2b7}{IndexRange<T>}}\&\ \mbox{\hyperlink{classtf_1_1_index_range_addb769bccbcd30a680c59567876a24b7}{begin}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ new\_begin)\ \{\ \mbox{\hyperlink{classtf_1_1_index_range_ad07bb2a3f83ea55a9da2b79bfec80860}{\_beg}}\ =\ new\_begin;\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00156\ \ \ \mbox{\hyperlink{classtf_1_1_index_range_ab67d261986b699206aa8af8d1dc3e2b7}{IndexRange<T>}}\&\ \mbox{\hyperlink{classtf_1_1_index_range_a96da4e7d6c1e975f08a44d52534c82b0}{end}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ new\_end)\ \{\ \mbox{\hyperlink{classtf_1_1_index_range_a25ec20719388b32ffc20f46f6c6865f0}{\_end}}\ =\ new\_end;\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00161\ \ \ \mbox{\hyperlink{classtf_1_1_index_range_ab67d261986b699206aa8af8d1dc3e2b7}{IndexRange<T>}}\&\ \mbox{\hyperlink{classtf_1_1_index_range_aa63f63345d773c9dd98e368579882f29}{step\_size}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ new\_step\_size)\ \{\ \mbox{\hyperlink{classtf_1_1_index_range_a6347193ad9681b2c4517d17dd2523014}{\_step\_size}}\ =\ new\_step\_size;\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00170\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classtf_1_1_index_range_a2146e73c53a5f3dde2cda3c659b8b064}{size}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacetf_af00f6babb0818202960cbbf0a83bd8e7}{distance}}(\mbox{\hyperlink{classtf_1_1_index_range_ad07bb2a3f83ea55a9da2b79bfec80860}{\_beg}},\ \mbox{\hyperlink{classtf_1_1_index_range_a25ec20719388b32ffc20f46f6c6865f0}{\_end}},\ \mbox{\hyperlink{classtf_1_1_index_range_a6347193ad9681b2c4517d17dd2523014}{\_step\_size}});\ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00190\ \ \ \mbox{\hyperlink{classtf_1_1_index_range_ab67d261986b699206aa8af8d1dc3e2b7}{IndexRange}}\ \mbox{\hyperlink{classtf_1_1_index_range_abe3a1bf7a912d73ead27e3375cc660d7}{discrete\_domain}}(\textcolor{keywordtype}{size\_t}\ part\_beg,\ \textcolor{keywordtype}{size\_t}\ part\_end)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1_index_range_ab67d261986b699206aa8af8d1dc3e2b7}{IndexRange}}(}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\textcolor{keyword}{>}(part\_beg)\ *\ \mbox{\hyperlink{classtf_1_1_index_range_a6347193ad9681b2c4517d17dd2523014}{\_step\_size}}\ +\ \mbox{\hyperlink{classtf_1_1_index_range_ad07bb2a3f83ea55a9da2b79bfec80860}{\_beg}},}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\textcolor{keyword}{>}(part\_end)\ *\ \mbox{\hyperlink{classtf_1_1_index_range_a6347193ad9681b2c4517d17dd2523014}{\_step\_size}}\ +\ \mbox{\hyperlink{classtf_1_1_index_range_ad07bb2a3f83ea55a9da2b79bfec80860}{\_beg}},}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \mbox{\hyperlink{classtf_1_1_index_range_a6347193ad9681b2c4517d17dd2523014}{\_step\_size}}}
\DoxyCodeLine{00195\ \ \ \ \ );}
\DoxyCodeLine{00196\ \ \ \}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_ad07bb2a3f83ea55a9da2b79bfec80860}{\_beg}};}
\DoxyCodeLine{00201\ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_a25ec20719388b32ffc20f46f6c6865f0}{\_end}};}
\DoxyCodeLine{00202\ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classtf_1_1_index_range_a6347193ad9681b2c4517d17dd2523014}{\_step\_size}};}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \};}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ }
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \}\ \ \textcolor{comment}{//\ end\ of\ namespace\ tf\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}

\end{DoxyCode}
