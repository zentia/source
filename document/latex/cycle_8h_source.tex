\doxysection{cycle.\+h}
\hypertarget{cycle_8h_source}{}\label{cycle_8h_source}\index{external/taskflow/3rd-\/party/ff/cycle.h@{external/taskflow/3rd-\/party/ff/cycle.h}}
\mbox{\hyperlink{cycle_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ Copyright\ (c)\ 2003,\ 2007\ Matteo\ Frigo}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ (c)\ 2003,\ 2007\ Massachusetts\ Institute\ of\ Technology}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ }}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ Permission\ is\ hereby\ granted,\ free\ of\ charge,\ to\ any\ person\ obtaining}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ a\ copy\ of\ this\ software\ and\ associated\ documentation\ files\ (the}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ "{}Software"{}),\ to\ deal\ in\ the\ Software\ without\ restriction,\ including}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ without\ limitation\ the\ rights\ to\ use,\ copy,\ modify,\ merge,\ publish,}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ distribute,\ sublicense,\ and/or\ sell\ copies\ of\ the\ Software,\ and\ to}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ permit\ persons\ to\ whom\ the\ Software\ is\ furnished\ to\ do\ so,\ subject\ to}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *\ the\ following\ conditions:}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ The\ above\ copyright\ notice\ and\ this\ permission\ notice\ shall\ be}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ included\ in\ all\ copies\ or\ substantial\ portions\ of\ the\ Software.}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ THE\ SOFTWARE\ IS\ PROVIDED\ "{}AS\ IS"{},\ WITHOUT\ WARRANTY\ OF\ ANY\ KIND,}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ EXPRESS\ OR\ IMPLIED,\ INCLUDING\ BUT\ NOT\ LIMITED\ TO\ THE\ WARRANTIES\ OF}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ MERCHANTABILITY,\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE\ AND}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ NONINFRINGEMENT.\ IN\ NO\ EVENT\ SHALL\ THE\ AUTHORS\ OR\ COPYRIGHT\ HOLDERS\ BE}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ LIABLE\ FOR\ ANY\ CLAIM,\ DAMAGES\ OR\ OTHER\ LIABILITY,\ WHETHER\ IN\ AN\ ACTION}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ OF\ CONTRACT,\ TORT\ OR\ OTHERWISE,\ ARISING\ FROM,\ OUT\ OF\ OR\ IN\ CONNECTION}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ WITH\ THE\ SOFTWARE\ OR\ THE\ USE\ OR\ OTHER\ DEALINGS\ IN\ THE\ SOFTWARE.}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{comment}{/*\ machine-\/dependent\ cycle\ counters\ code.\ Needs\ to\ be\ inlined.\ */}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{comment}{/***************************************************************************/}}
\DoxyCodeLine{00030\ \textcolor{comment}{/*\ To\ use\ the\ cycle\ counters\ in\ your\ code,\ simply\ \#include\ "{}cycle.h"{}\ (this}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ \ \ file),\ and\ then\ use\ the\ functions/macros:}}
\DoxyCodeLine{00032\ \textcolor{comment}{}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ticks\ getticks(void);}}
\DoxyCodeLine{00034\ \textcolor{comment}{}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ \ \ ticks\ is\ an\ opaque\ typedef\ defined\ below,\ representing\ the\ current\ time.}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ \ \ You\ extract\ the\ elapsed\ time\ between\ two\ calls\ to\ gettick()\ via:}}
\DoxyCodeLine{00037\ \textcolor{comment}{}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ double\ elapsed(ticks\ t1,\ ticks\ t0);}}
\DoxyCodeLine{00039\ \textcolor{comment}{}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ \ \ which\ returns\ a\ double-\/precision\ variable\ in\ arbitrary\ units.\ \ You}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ \ \ are\ not\ expected\ to\ convert\ this\ into\ human\ units\ like\ seconds;\ it}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ \ \ is\ intended\ only\ for\ *comparisons*\ of\ time\ intervals.}}
\DoxyCodeLine{00043\ \textcolor{comment}{}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ \ \ (In\ order\ to\ use\ some\ of\ the\ OS-\/dependent\ timer\ routines\ like}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ \ \ Solaris'\ gethrtime,\ you\ need\ to\ paste\ the\ autoconf\ snippet\ below}}
\DoxyCodeLine{00046\ \textcolor{comment}{\ \ \ into\ your\ configure.ac\ file\ and\ \#include\ "{}config.h"{}\ before\ cycle.h,}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ \ \ or\ define\ the\ relevant\ macros\ manually\ if\ you\ are\ not\ using\ autoconf.)}}
\DoxyCodeLine{00048\ \textcolor{comment}{*/}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{comment}{/***************************************************************************/}}
\DoxyCodeLine{00051\ \textcolor{comment}{/*\ This\ file\ uses\ macros\ like\ HAVE\_GETHRTIME\ that\ are\ assumed\ to\ be}}
\DoxyCodeLine{00052\ \textcolor{comment}{\ \ \ defined\ according\ to\ whether\ the\ corresponding\ function/type/header}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ \ \ is\ available\ on\ your\ system.\ \ The\ necessary\ macros\ are\ most}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ \ \ conveniently\ defined\ if\ you\ are\ using\ GNU\ autoconf,\ via\ the\ tests:}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ \ \ }}
\DoxyCodeLine{00056\ \textcolor{comment}{\ \ \ dnl\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00057\ \textcolor{comment}{}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ \ \ AC\_C\_INLINE}}
\DoxyCodeLine{00059\ \textcolor{comment}{\ \ \ AC\_HEADER\_TIME}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ \ \ AC\_CHECK\_HEADERS([sys/time.h\ c\_asm.h\ intrinsics.h\ mach/mach\_time.h])}}
\DoxyCodeLine{00061\ \textcolor{comment}{}}
\DoxyCodeLine{00062\ \textcolor{comment}{\ \ \ AC\_CHECK\_TYPE([hrtime\_t],[AC\_DEFINE(HAVE\_HRTIME\_T,\ 1,\ [Define\ to\ 1\ if\ hrtime\_t\ is\ defined\ in\ <sys/time.h>])],,[\#if\ HAVE\_SYS\_TIME\_H}}
\DoxyCodeLine{00063\ \textcolor{comment}{\#include\ <sys/time.h>}}
\DoxyCodeLine{00064\ \textcolor{comment}{\#endif])}}
\DoxyCodeLine{00065\ \textcolor{comment}{}}
\DoxyCodeLine{00066\ \textcolor{comment}{\ \ \ AC\_CHECK\_FUNCS([gethrtime\ read\_real\_time\ time\_base\_to\_time\ clock\_gettime\ mach\_absolute\_time])}}
\DoxyCodeLine{00067\ \textcolor{comment}{}}
\DoxyCodeLine{00068\ \textcolor{comment}{\ \ \ dnl\ Cray\ UNICOS\ \_rtc()\ (real-\/time\ clock)\ intrinsic}}
\DoxyCodeLine{00069\ \textcolor{comment}{\ \ \ AC\_MSG\_CHECKING([for\ \_rtc\ intrinsic])}}
\DoxyCodeLine{00070\ \textcolor{comment}{\ \ \ rtc\_ok=yes}}
\DoxyCodeLine{00071\ \textcolor{comment}{\ \ \ AC\_TRY\_LINK([\#ifdef\ HAVE\_INTRINSICS\_H}}
\DoxyCodeLine{00072\ \textcolor{comment}{\#include\ <intrinsics.h>}}
\DoxyCodeLine{00073\ \textcolor{comment}{\#endif],\ [\_rtc()],\ [AC\_DEFINE(HAVE\_\_RTC,1,[Define\ if\ you\ have\ the\ UNICOS\ \_rtc()\ intrinsic.])],\ [rtc\_ok=no])}}
\DoxyCodeLine{00074\ \textcolor{comment}{\ \ \ AC\_MSG\_RESULT(\$rtc\_ok)}}
\DoxyCodeLine{00075\ \textcolor{comment}{}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ \ \ dnl\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00077\ \textcolor{comment}{*/}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{comment}{/***************************************************************************/}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#ifndef\ FF\_CYCLE\_H}}
\DoxyCodeLine{00082\ \textcolor{preprocessor}{\#define\ FF\_CYCLE\_H}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{comment}{//\ Marco\ Aldinucci:\ RISCV\ Apr\ 2022}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \textcolor{preprocessor}{\#if\ defined(\_\_linux\_\_)\ \&\&\ defined(\_\_riscv)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\#pragma\ message\ "{}RISCV\ detected\ -\/\ experimental"{}}}
\DoxyCodeLine{00088\ \textcolor{keyword}{extern}\ \_\_inline}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ }
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{bench__reverse_8cpp_af57f208bfabc394dd45616e63728dce0}{\_\_attribute\_\_}}((\_\_gnu\_inline\_\_,\ \_\_always\_inline\_\_,\ \_\_artificial\_\_))}
\DoxyCodeLine{00091\ rdcycle(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}};}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//\ output\ into\ any\ register,\ likely\ a0}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ regular\ instruction:}}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}\ (\textcolor{stringliteral}{"{}csrrs\ \%0,\ 0xc00,\ x0"{}}\ :\ \textcolor{stringliteral}{"{}=r"{}}\ (\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}})\ );}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ regular\ instruction\ with\ symbolic\ csr\ and\ register\ names}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{comment}{//\ asm\ volatile\ ("{}csrrs\ \%0,\ cycle,\ zero"{}\ :\ "{}=r"{}\ (dst)\ );}}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{comment}{//\ pseudo-\/instruction:}}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ asm\ volatile\ ("{}csrr\ \%0,\ cycle"{}\ :\ "{}=r"{}\ (dst)\ );}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{comment}{//\ pseudo-\/instruction:}}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{comment}{//asm\ volatile\ ("{}rdcycle\ \%0"{}\ :\ "{}=r"{}\ (dst)\ );}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}};}
\DoxyCodeLine{00103\ \}}
\DoxyCodeLine{00104\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \textcolor{keyword}{static}\ \_\_inline\ ticks\ getticks(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{00107\ \ \ \textcolor{keywordflow}{return}\ (rdcycle());}
\DoxyCodeLine{00108\ \}}
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER\ \ }}
\DoxyCodeLine{00110\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \textcolor{comment}{//\ Mauro\ Mulatero:\ ARM}}
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#if\ defined(\_\_linux\_\_)\ \&\&\ (defined(\_\_arm\_\_)\ ||\ defined(\_\_aarch64\_\_)\ )}}
\DoxyCodeLine{00114\ \textcolor{preprocessor}{\ \ \#define\ TIME\_WITH\_SYS\_TIME\ 1}}
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \textcolor{preprocessor}{\#if\ TIME\_WITH\_SYS\_TIME}}
\DoxyCodeLine{00118\ \textcolor{preprocessor}{\#\ include\ <sys/time.h>}}
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#\ include\ <time.h>}}
\DoxyCodeLine{00120\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00121\ \textcolor{preprocessor}{\#\ if\ HAVE\_SYS\_TIME\_H}}
\DoxyCodeLine{00122\ \textcolor{preprocessor}{\#\ \ include\ <sys/time.h>}}
\DoxyCodeLine{00123\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{00124\ \textcolor{preprocessor}{\#\ \ include\ <time.h>}}
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\#define\ INLINE\_ELAPSED(INL)\ static\ INL\ double\ elapsed(ticks\ t1,\ ticks\ t0)\ \(\backslash\)}}
\DoxyCodeLine{00129\ \textcolor{preprocessor}{\{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\ \ \ \ \ return\ (double)t1\ -\/\ (double)t0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00131\ \textcolor{preprocessor}{\}}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00135\ \textcolor{comment}{/*\ Solaris\ */}}
\DoxyCodeLine{00136\ \textcolor{preprocessor}{\#if\ defined(HAVE\_GETHRTIME)\ \&\&\ defined(HAVE\_HRTIME\_T)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00137\ \textcolor{keyword}{typedef}\ hrtime\_t\ ticks;}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\#define\ getticks\ gethrtime}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\textcolor{keyword}{inline})}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00144\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00147\ \textcolor{comment}{/*\ AIX\ v.\ 4+\ routines\ to\ read\ the\ real-\/time\ clock\ or\ time-\/base\ register\ */}}
\DoxyCodeLine{00148\ \textcolor{preprocessor}{\#if\ defined(HAVE\_READ\_REAL\_TIME)\ \&\&\ defined(HAVE\_TIME\_BASE\_TO\_TIME)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00149\ \textcolor{keyword}{typedef}\ timebasestruct\_t\ ticks;}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \textcolor{keyword}{static}\ \_\_inline\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00152\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ ticks\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}};}
\DoxyCodeLine{00154\ \ \ \ \ \ read\_real\_time(\&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}},\ TIMEBASE\_SZ);}
\DoxyCodeLine{00155\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}};}
\DoxyCodeLine{00156\ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \textcolor{keyword}{static}\ \_\_inline\ \textcolor{keywordtype}{double}\ elapsed(ticks\ t1,\ ticks\ \mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}})\ \textcolor{comment}{/*\ time\ in\ nanoseconds\ */}}
\DoxyCodeLine{00159\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ time\_base\_to\_time(\&t1,\ TIMEBASE\_SZ);}
\DoxyCodeLine{00161\ \ \ \ \ \ time\_base\_to\_time(\&\mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}},\ TIMEBASE\_SZ);}
\DoxyCodeLine{00162\ \ \ \ \ \ \textcolor{keywordflow}{return}\ (((\textcolor{keywordtype}{double})t1.tb\_high\ -\/\ (\textcolor{keywordtype}{double})\mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}.tb\_high)\ *\ 1.0e9\ +\ }
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ ((\textcolor{keywordtype}{double})t1.tb\_low\ -\/\ (\textcolor{keywordtype}{double})\mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}.tb\_low));}
\DoxyCodeLine{00164\ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00167\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00170\ \textcolor{comment}{/*}}
\DoxyCodeLine{00171\ \textcolor{comment}{\ *\ PowerPC\ \`{}\`{}cycle''\ counter\ using\ the\ time\ base\ register.}}
\DoxyCodeLine{00172\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00173\ \textcolor{preprocessor}{\#if\ ((((defined(\_\_GNUC\_\_)\ \&\&\ (defined(\_\_powerpc\_\_)\ ||\ defined(\_\_ppc\_\_)))\ ||\ (defined(\_\_MWERKS\_\_)\ \&\&\ defined(macintosh))))\ ||\ (defined(\_\_IBM\_GCC\_ASM)\ \&\&\ (defined(\_\_powerpc\_\_)\ ||\ defined(\_\_ppc\_\_))))\ \ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00174\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \textcolor{keyword}{static}\ \mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00177\ \{}
\DoxyCodeLine{00178\ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ tbl,\ tbu0,\ tbu1;}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_\ (\textcolor{stringliteral}{"{}mftbu\ \%0"{}}\ :\ \textcolor{stringliteral}{"{}=r"{}}(tbu0));}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_\ (\textcolor{stringliteral}{"{}mftb\ \%0"{}}\ :\ \textcolor{stringliteral}{"{}=r"{}}(tbl));}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_\ (\textcolor{stringliteral}{"{}mftbu\ \%0"{}}\ :\ \textcolor{stringliteral}{"{}=r"{}}(tbu1));}
\DoxyCodeLine{00184\ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (tbu0\ !=\ tbu1);}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \ \textcolor{keywordflow}{return}\ (((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})tbu0)\ <<\ 32)\ |\ tbl;}
\DoxyCodeLine{00187\ \}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00192\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \textcolor{comment}{/*\ MacOS/Mach\ (Darwin)\ time-\/base\ register\ interface\ (unlike\ UpTime,}}
\DoxyCodeLine{00195\ \textcolor{comment}{\ \ \ from\ Carbon,\ requires\ no\ additional\ libraries\ to\ be\ linked).\ }}
\DoxyCodeLine{00196\ \textcolor{comment}{\ \ \ 13\ July\ 2022\ (MarcoA):\ Reviewed\ for\ M1\ Macs}}
\DoxyCodeLine{00197\ \textcolor{comment}{\ \ \ */}\ \ }
\DoxyCodeLine{00198\ \textcolor{preprocessor}{\#if\ defined(\_\_APPLE\_\_)}}
\DoxyCodeLine{00199\ \textcolor{preprocessor}{\#include\ <mach/mach\_time.h>}}
\DoxyCodeLine{00200\ \textcolor{comment}{//\#if\ defined(\_MACH\_ABSOLUTE\_TIME\_H\_)\ \&\&\ defined(\_MACH\_MACH\_TIME\_H\_)}}
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#if\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00202\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ ticks;}
\DoxyCodeLine{00203\ \textcolor{preprocessor}{\#define\ getticks\ mach\_absolute\_time}}
\DoxyCodeLine{00204\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00205\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00210\ \textcolor{comment}{/*}}
\DoxyCodeLine{00211\ \textcolor{comment}{\ *\ Pentium\ cycle\ counter\ }}
\DoxyCodeLine{00212\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00213\ \textcolor{preprocessor}{\#if\ (defined(\_\_GNUC\_\_)\ ||\ defined(\_\_ICC))\ \&\&\ defined(\_\_i386\_\_)\ \ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00214\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \textcolor{keyword}{static}\ \mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00217\ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ ticks\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00219\ \ \ \ \ \ }
\DoxyCodeLine{00220\ \ \ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_(\textcolor{stringliteral}{"{}rdtsc"{}}:\ \textcolor{stringliteral}{"{}=A"{}}\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}));}
\DoxyCodeLine{00221\ \ \ \ \ \ \textcolor{comment}{/*\ no\ input,\ nothing\ else\ clobbered\ */}}
\DoxyCodeLine{00222\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00223\ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#define\ TIME\_MIN\ 5000.0\ \ \ }\textcolor{comment}{/*\ unreliable\ pentium\ IV\ cycle\ counter\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00229\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00232\ \textcolor{comment}{/*}}
\DoxyCodeLine{00233\ \textcolor{comment}{\ *\ ARM\ cycle\ counter\ (Mauro\ Mulatero)}}
\DoxyCodeLine{00234\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00235\ \textcolor{preprocessor}{\#if\ (defined(\_\_GNUC\_\_)\ ||\ defined(\_\_ICC))\ \&\&\ defined(\_\_linux\_\_)\ \&\&\ (defined(\_\_arm\_\_)\ ||\ defined(\_\_aarch64\_\_))\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \textcolor{comment}{/****}}
\DoxyCodeLine{00241\ \textcolor{comment}{\ \ Come\ indicato\ nella\ documentazione\ ARM\ il\ registro\ P15\ non\ può\ essere}}
\DoxyCodeLine{00242\ \textcolor{comment}{\ \ letto\ in\ user\ space\ e\ di\ conseguenza\ bisogna\ appoggiarsi\ alle\ API\ esposte}}
\DoxyCodeLine{00243\ \textcolor{comment}{\ \ dal\ S.O.}}
\DoxyCodeLine{00244\ \textcolor{comment}{\ \ Anche\ sperimentalmente\ l'accesso\ a\ questo\ registro\ causa\ "{}illegal\ instruction"{};}}
\DoxyCodeLine{00245\ \textcolor{comment}{\ \ prova\ effettuata\ con\ la\ funzione\ ff\_read\_ccnt\ riportata\ di\ seguito\ il\ cui}}
\DoxyCodeLine{00246\ \textcolor{comment}{\ \ contenuto\ è\ analogo\ a\ quanto\ svolto\ all'interno\ delle\ librerie\ real\ time\ in}}
\DoxyCodeLine{00247\ \textcolor{comment}{\ \ kernel\ space\ di\ Linux\ per\ ARM.}}
\DoxyCodeLine{00248\ \textcolor{comment}{}}
\DoxyCodeLine{00249\ \textcolor{comment}{\#define\ TC\_HW\_BITS\ \ \ \ \ \ 31}}
\DoxyCodeLine{00250\ \textcolor{comment}{static\ inline\ unsigned\ long\ ff\_read\_ccnt(void)}}
\DoxyCodeLine{00251\ \textcolor{comment}{\{}}
\DoxyCodeLine{00252\ \textcolor{comment}{\ \ unsigned\ long\ val;}}
\DoxyCodeLine{00253\ \textcolor{comment}{}}
\DoxyCodeLine{00254\ \textcolor{comment}{\ \ \_\_asm\_\_\ \_\_volatile\_\_\ ("{}mrc\ p15,\ 0,\ \%0,\ c9,\ c13,\ 0"{}\ :\ "{}=r"{}\ (val));}}
\DoxyCodeLine{00255\ \textcolor{comment}{}}
\DoxyCodeLine{00256\ \textcolor{comment}{\ \ return\ val\ \&\ \string~(1\ <<\ TC\_HW\_BITS);}}
\DoxyCodeLine{00257\ \textcolor{comment}{\}}}
\DoxyCodeLine{00258\ \textcolor{comment}{}}
\DoxyCodeLine{00259\ \textcolor{comment}{*****/}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \textcolor{comment}{/***}}
\DoxyCodeLine{00262\ \textcolor{comment}{\ \ Su\ ARM\ non\ è\ possibile\ implementare\ in\ assembly\ un\ modo\ portabile\ e\ corretto}}
\DoxyCodeLine{00263\ \textcolor{comment}{\ \ di\ getticks\ in\ spazio\ utente;\ bisogna\ appoggiarsi\ alle\ API\ esposte\ dal\ S.O.}}
\DoxyCodeLine{00264\ \textcolor{comment}{\ \ Su\ Linux+ARM\ uso\ la\ funzione\ di\ S.O.:\ clock\_gettime(...)}}
\DoxyCodeLine{00265\ \textcolor{comment}{\ \ Le\ opzioni\ sono:}}
\DoxyCodeLine{00266\ \textcolor{comment}{\ \ -\/\ CLOCK\_REALTIME}}
\DoxyCodeLine{00267\ \textcolor{comment}{\ \ -\/\ CLOCK\_MONOTONIC}}
\DoxyCodeLine{00268\ \textcolor{comment}{\ \ -\/\ CLOCK\_PROCESS\_CPUTIME\_ID}}
\DoxyCodeLine{00269\ \textcolor{comment}{\ \ -\/\ CLOCK\_THREAD\_CPUTIME\_ID}}
\DoxyCodeLine{00270\ \textcolor{comment}{\ \ -\/\ CLOCK\_MONOTONIC\_RAW\ \ \ \ \ \ \ \ (scelta\ questa\ opzione)}}
\DoxyCodeLine{00271\ \textcolor{comment}{\ \ -\/\ CLOCK\_REALTIME\_COARSE}}
\DoxyCodeLine{00272\ \textcolor{comment}{\ \ -\/\ CLOCK\_MONOTONIC\_COARSE}}
\DoxyCodeLine{00273\ \textcolor{comment}{\ \ -\/\ CLOCK\_BOOTTIME}}
\DoxyCodeLine{00274\ \textcolor{comment}{\ \ -\/\ CLOCK\_REALTIME\_ALARM}}
\DoxyCodeLine{00275\ \textcolor{comment}{\ \ -\/\ CLOCK\_BOOTTIME\_ALARM}}
\DoxyCodeLine{00276\ \textcolor{comment}{\ \ -\/\ CLOCK\_TRACE\_FREQ}}
\DoxyCodeLine{00277\ \textcolor{comment}{\ \ -\/\ CLOCK\_TRACE}}
\DoxyCodeLine{00278\ \textcolor{comment}{\ \ **/}}
\DoxyCodeLine{00279\ \textcolor{keyword}{static}\ \mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00280\ \{}
\DoxyCodeLine{00281\ \ \ ticks\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ 0;}
\DoxyCodeLine{00282\ \ \ timespec\ time\_tick;}
\DoxyCodeLine{00283\ \ \ \textcolor{keywordflow}{if}(\ clock\_gettime(CLOCK\_MONOTONIC\_RAW,\ \&time\_tick)\ ==\ 0\ )\ \{}
\DoxyCodeLine{00284\ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ time\_tick.tv\_nsec;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ time\ in\ nanoseconds}}
\DoxyCodeLine{00285\ \ \ \}}
\DoxyCodeLine{00286\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00287\ \}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00292\ \textcolor{preprocessor}{\#define\ TIME\_MIN\ 5000.0}}
\DoxyCodeLine{00293\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \textcolor{comment}{//\ RISCV\ Linux}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00299\ \textcolor{comment}{\ generic\ Windows\ platform\ }}
\DoxyCodeLine{00300\ \textcolor{comment}{\ March\ 2011,\ Marco\ Aldinucci,\ aldinuc@di.unito.it}}
\DoxyCodeLine{00301\ \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \textcolor{preprocessor}{\#if\ (defined(\_MSC\_VER)\ ||\ defined(\_\_INTEL\_COMPILER))\ \&\&\ defined(\_WIN32)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00304\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00305\ \textcolor{preprocessor}{\#include\ <windows.h>}}
\DoxyCodeLine{00306\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{intrin_8h}{intrin.h}}>}}
\DoxyCodeLine{00307\ \textcolor{preprocessor}{\#pragma\ intrinsic(\_\_rdtsc)}}
\DoxyCodeLine{00308\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \_\_int64\ ticks;}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \textcolor{keyword}{static}\ \_\_forceinline\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00311\ \{}
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{comment}{//LARGE\_INTEGER\ time;}}
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{comment}{//QueryPerformanceCounter(\&time);}}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{comment}{//return\ (long\ long)\ time.QuadPart;}}
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{keywordflow}{return}(\_\_rdtsc());}
\DoxyCodeLine{00316\ \}}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\textcolor{keyword}{inline})}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00321\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00322\ }
\DoxyCodeLine{00323\ \textcolor{comment}{/*\ Visual\ C++\ -\/-\/\ thanks\ to\ Morten\ Nissov\ for\ his\ help\ with\ this\ */}}
\DoxyCodeLine{00324\ \textcolor{preprocessor}{\#if\ \_MSC\_VER\ >=\ 1200\ \&\&\ \_M\_IX86\ >=\ 500\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00325\ \textcolor{preprocessor}{\#include\ <windows.h>}}
\DoxyCodeLine{00326\ \textcolor{keyword}{typedef}\ LARGE\_INTEGER\ ticks;\ }
\DoxyCodeLine{00327\ \textcolor{preprocessor}{\#define\ RDTSC\ \_\_asm\ \_\_emit\ 0fh\ \_\_asm\ \_\_emit\ 031h\ }\textcolor{comment}{/*\ hack\ for\ VC++\ 5.0\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00329\ \textcolor{keyword}{static}\ \_\_inline\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00330\ \{}
\DoxyCodeLine{00331\ \ \ \ \ \ ticks\ retval;}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \ \ \ \ \_\_asm\ \{}
\DoxyCodeLine{00334\ \ \ \ \ \ \ RDTSC}
\DoxyCodeLine{00335\ \ \ \ \ \ \ mov\ retval.HighPart,\ edx}
\DoxyCodeLine{00336\ \ \ \ \ \ \ mov\ retval.LowPart,\ eax}
\DoxyCodeLine{00337\ \ \ \ \ \ \}}
\DoxyCodeLine{00338\ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{00339\ \}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \textcolor{keyword}{static}\ \_\_inline\ \textcolor{keywordtype}{double}\ elapsed(ticks\ t1,\ ticks\ \mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}})}
\DoxyCodeLine{00342\ \{\ \ }
\DoxyCodeLine{00343\ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{double})t1.QuadPart\ -\/\ (double)\mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}.QuadPart;}
\DoxyCodeLine{00344\ \}\ \ }
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00347\ \textcolor{preprocessor}{\#define\ TIME\_MIN\ 5000.0\ \ \ }\textcolor{comment}{/*\ unreliable\ pentium\ IV\ cycle\ counter\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00348\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00351\ \textcolor{comment}{/*}}
\DoxyCodeLine{00352\ \textcolor{comment}{\ *\ X86-\/64\ cycle\ counter}}
\DoxyCodeLine{00353\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00354\ \textcolor{preprocessor}{\#if\ (defined(\_\_GNUC\_\_)\ ||\ defined(\_\_ICC)\ ||\ defined(\_\_SUNPRO\_C))\ \&\&\ defined(\_\_x86\_64\_\_)\ \ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00355\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00357\ \textcolor{keyword}{static}\ \mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00358\ \{}
\DoxyCodeLine{00359\ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}};\ }
\DoxyCodeLine{00360\ \ \ \ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}rdtsc"{}}\ :\ \textcolor{stringliteral}{"{}=a"{}}\ (\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}),\ \textcolor{stringliteral}{"{}=d"{}}\ (\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}}));\ }
\DoxyCodeLine{00361\ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((ticks)\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})\ |\ (((ticks)\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}})\ <<\ 32);\ }
\DoxyCodeLine{00362\ \}}
\DoxyCodeLine{00363\ }
\DoxyCodeLine{00364\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00367\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00369\ \textcolor{comment}{/*\ PGI\ compiler,\ courtesy\ Cristiano\ Calonaci,\ Andrea\ Tarsi,\ \&\ Roberto\ Gori.}}
\DoxyCodeLine{00370\ \textcolor{comment}{\ \ \ NOTE:\ this\ code\ will\ fail\ to\ link\ unless\ you\ use\ the\ -\/Masmkeyword\ compiler}}
\DoxyCodeLine{00371\ \textcolor{comment}{\ \ \ option\ (grrr).\ */}}
\DoxyCodeLine{00372\ \textcolor{preprocessor}{\#if\ defined(\_\_PGI)\ \&\&\ defined(\_\_x86\_64\_\_)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)\ }}
\DoxyCodeLine{00373\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00374\ \textcolor{keyword}{static}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00375\ \{}
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{keyword}{asm}(\textcolor{stringliteral}{"{}\ rdtsc;\ shl\ \ \ \ \$0x20,\%rdx;\ mov\ \ \ \ \%eax,\%eax;\ or\ \ \ \ \ \%rdx,\%rax;\ \ \ \ "{}});}
\DoxyCodeLine{00377\ \}}
\DoxyCodeLine{00378\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00379\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00380\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00381\ }
\DoxyCodeLine{00382\ \textcolor{comment}{/*\ Visual\ C++,\ courtesy\ of\ Dirk\ Michaelis\ */}}
\DoxyCodeLine{00383\ \textcolor{preprocessor}{\#if\ \_MSC\_VER\ >=\ 1400\ \&\&\ (defined(\_M\_AMD64)\ ||\ defined(\_M\_X64))\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00385\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{intrin_8h}{intrin.h}}>}}
\DoxyCodeLine{00386\ \textcolor{preprocessor}{\#pragma\ intrinsic(\_\_rdtsc)}}
\DoxyCodeLine{00387\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \_\_int64\ ticks;}
\DoxyCodeLine{00388\ \textcolor{preprocessor}{\#define\ getticks\ \_\_rdtsc}}
\DoxyCodeLine{00389\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\_\_inline)}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00392\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00395\ \textcolor{comment}{/*}}
\DoxyCodeLine{00396\ \textcolor{comment}{\ *\ IA64\ cycle\ counter}}
\DoxyCodeLine{00397\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \textcolor{comment}{/*\ intel's\ icc/ecc\ compiler\ */}}
\DoxyCodeLine{00400\ \textcolor{preprocessor}{\#if\ (defined(\_\_EDG\_VERSION)\ ||\ defined(\_\_ECC))\ \&\&\ defined(\_\_ia64\_\_)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00401\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00402\ \textcolor{preprocessor}{\#include\ <ia64intrin.h>}}
\DoxyCodeLine{00403\ }
\DoxyCodeLine{00404\ \textcolor{keyword}{static}\ \mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00405\ \{}
\DoxyCodeLine{00406\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_getReg(\_IA64\_REG\_AR\_ITC);}
\DoxyCodeLine{00407\ \}}
\DoxyCodeLine{00408\ \ }
\DoxyCodeLine{00409\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00410\ \ }
\DoxyCodeLine{00411\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00412\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \textcolor{comment}{/*\ gcc\ */}}
\DoxyCodeLine{00415\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ defined(\_\_ia64\_\_)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00416\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00417\ }
\DoxyCodeLine{00418\ \textcolor{keyword}{static}\ \mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00419\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \ ticks\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00421\ }
\DoxyCodeLine{00422\ \ \ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_\ (\textcolor{stringliteral}{"{}mov\ \%0=ar.itc"{}}\ :\ \textcolor{stringliteral}{"{}=r"{}}(\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}));}
\DoxyCodeLine{00423\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00424\ \}}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00426\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00427\ }
\DoxyCodeLine{00428\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00429\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00430\ }
\DoxyCodeLine{00431\ \textcolor{comment}{/*\ HP/UX\ IA64\ compiler,\ courtesy\ Teresa\ L.\ Johnson:\ */}}
\DoxyCodeLine{00432\ \textcolor{preprocessor}{\#if\ defined(\_\_hpux)\ \&\&\ defined(\_\_ia64)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00433\ \textcolor{preprocessor}{\#include\ <machine/sys/inline.h>}}
\DoxyCodeLine{00434\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00435\ }
\DoxyCodeLine{00436\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00437\ \{}
\DoxyCodeLine{00438\ \ \ \ \ \ ticks\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \_Asm\_mov\_from\_ar\ (\_AREG\_ITC);}
\DoxyCodeLine{00441\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00442\ \}}
\DoxyCodeLine{00443\ }
\DoxyCodeLine{00444\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\textcolor{keyword}{inline})}
\DoxyCodeLine{00445\ }
\DoxyCodeLine{00446\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00447\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00449\ \textcolor{comment}{/*\ Microsoft\ Visual\ C++\ */}}
\DoxyCodeLine{00450\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)\ \&\&\ defined(\_M\_IA64)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00451\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \_\_int64\ ticks;}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \textcolor{preprocessor}{\#\ \ ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00454\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}}
\DoxyCodeLine{00455\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00456\ ticks\ \_\_getReg(\textcolor{keywordtype}{int}\ whichReg);}
\DoxyCodeLine{00457\ \textcolor{preprocessor}{\#pragma\ intrinsic(\_\_getReg)}}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ \textcolor{keyword}{static}\ \_\_inline\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00460\ \{}
\DoxyCodeLine{00461\ \ \ \ \ \ \textcolor{keyword}{volatile}\ ticks\ temp;}
\DoxyCodeLine{00462\ \ \ \ \ \ temp\ =\ \_\_getReg(3116);}
\DoxyCodeLine{00463\ \ \ \ \ \ \textcolor{keywordflow}{return}\ temp;}
\DoxyCodeLine{00464\ \}}
\DoxyCodeLine{00465\ }
\DoxyCodeLine{00466\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\textcolor{keyword}{inline})}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00469\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00470\ }
\DoxyCodeLine{00471\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00472\ \textcolor{comment}{/*}}
\DoxyCodeLine{00473\ \textcolor{comment}{\ *\ PA-\/RISC\ cycle\ counter\ }}
\DoxyCodeLine{00474\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00475\ \textcolor{preprocessor}{\#if\ defined(\_\_hppa\_\_)\ ||\ defined(\_\_hppa)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00476\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00478\ \textcolor{preprocessor}{\#\ \ ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{00479\ \textcolor{keyword}{static}\ \mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00480\ \{}
\DoxyCodeLine{00481\ \ \ \ \ \ ticks\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00482\ }
\DoxyCodeLine{00483\ \ \ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_(\textcolor{stringliteral}{"{}mfctl\ 16,\ \%0"{}}:\ \textcolor{stringliteral}{"{}=r"{}}\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}));}
\DoxyCodeLine{00484\ \ \ \ \ \ \textcolor{comment}{/*\ no\ input,\ nothing\ else\ clobbered\ */}}
\DoxyCodeLine{00485\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00486\ \}}
\DoxyCodeLine{00487\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00488\ \textcolor{preprocessor}{\#\ \ include\ <machine/inline.h>}}
\DoxyCodeLine{00489\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00490\ \{}
\DoxyCodeLine{00491\ \ \ \ \ ticks\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00492\ \ \ \ \ \_MFCTL(16,\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}});}
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00494\ \}}
\DoxyCodeLine{00495\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00496\ }
\DoxyCodeLine{00497\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\textcolor{keyword}{inline})}
\DoxyCodeLine{00498\ }
\DoxyCodeLine{00499\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00500\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00502\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00503\ \textcolor{comment}{/*\ S390,\ courtesy\ of\ James\ Treacy\ */}}
\DoxyCodeLine{00504\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ defined(\_\_s390\_\_)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00505\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00506\ }
\DoxyCodeLine{00507\ \textcolor{keyword}{static}\ \mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00508\ \{}
\DoxyCodeLine{00509\ \ \ \ \ \ ticks\ cycles;}
\DoxyCodeLine{00510\ \ \ \ \ \ \_\_asm\_\_(\textcolor{stringliteral}{"{}stck\ 0(\%0)"{}}\ :\ :\ \textcolor{stringliteral}{"{}a"{}}\ (\&(cycles))\ :\ \textcolor{stringliteral}{"{}memory"{}},\ \textcolor{stringliteral}{"{}cc"{}});}
\DoxyCodeLine{00511\ \ \ \ \ \ \textcolor{keywordflow}{return}\ cycles;}
\DoxyCodeLine{00512\ \}}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00515\ }
\DoxyCodeLine{00516\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00517\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00518\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00519\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ defined(\_\_alpha\_\_)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00520\ \textcolor{comment}{/*}}
\DoxyCodeLine{00521\ \textcolor{comment}{\ *\ The\ 32-\/bit\ cycle\ counter\ on\ alpha\ overflows\ pretty\ quickly,\ }}
\DoxyCodeLine{00522\ \textcolor{comment}{\ *\ unfortunately.\ \ A\ 1GHz\ machine\ overflows\ in\ 4\ seconds.}}
\DoxyCodeLine{00523\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00524\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ ticks;}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00526\ \textcolor{keyword}{static}\ \mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00527\ \{}
\DoxyCodeLine{00528\ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{namespacecds_1_1container}{cc}};}
\DoxyCodeLine{00529\ \ \ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_\ (\textcolor{stringliteral}{"{}rpcc\ \%0"{}}\ :\ \textcolor{stringliteral}{"{}=r"{}}(\mbox{\hyperlink{namespacecds_1_1container}{cc}}));}
\DoxyCodeLine{00530\ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{namespacecds_1_1container}{cc}}\ \&\ 0xFFFFFFFF);}
\DoxyCodeLine{00531\ \}}
\DoxyCodeLine{00532\ }
\DoxyCodeLine{00533\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00534\ }
\DoxyCodeLine{00535\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00536\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00537\ }
\DoxyCodeLine{00538\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00539\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ defined(\_\_sparc\_v9\_\_)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00540\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00542\ \textcolor{keyword}{static}\ \mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00543\ \{}
\DoxyCodeLine{00544\ \ \ \ \ \ ticks\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00545\ \ \ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_(\textcolor{stringliteral}{"{}rd\ \%\%tick,\ \%0"{}}\ :\ \textcolor{stringliteral}{"{}=r"{}}\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}));}
\DoxyCodeLine{00546\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00547\ \}}
\DoxyCodeLine{00548\ }
\DoxyCodeLine{00549\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\mbox{\hyperlink{bzlib__private_8h_a9f04218fe09e6ee659e045b2f11542ed}{\_\_inline\_\_}})}
\DoxyCodeLine{00550\ }
\DoxyCodeLine{00551\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00552\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00553\ }
\DoxyCodeLine{00554\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00555\ \textcolor{preprocessor}{\#if\ (defined(\_\_DECC)\ ||\ defined(\_\_DECCXX))\ \&\&\ defined(\_\_alpha)\ \&\&\ defined(HAVE\_C\_ASM\_H)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00556\ \textcolor{preprocessor}{\#\ \ include\ <c\_asm.h>}}
\DoxyCodeLine{00557\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ ticks;}
\DoxyCodeLine{00558\ }
\DoxyCodeLine{00559\ \textcolor{keyword}{static}\ \_\_inline\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00560\ \{}
\DoxyCodeLine{00561\ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{namespacecds_1_1container}{cc}};}
\DoxyCodeLine{00562\ \ \ \ \ \ \mbox{\hyperlink{namespacecds_1_1container}{cc}}\ =\ \textcolor{keyword}{asm}(\textcolor{stringliteral}{"{}rpcc\ \%v0"{}});}
\DoxyCodeLine{00563\ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{namespacecds_1_1container}{cc}}\ \&\ 0xFFFFFFFF);}
\DoxyCodeLine{00564\ \}}
\DoxyCodeLine{00565\ }
\DoxyCodeLine{00566\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\_\_inline)}
\DoxyCodeLine{00567\ }
\DoxyCodeLine{00568\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00569\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00570\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00571\ \textcolor{comment}{/*\ SGI/Irix\ */}}
\DoxyCodeLine{00572\ \textcolor{preprocessor}{\#if\ defined(HAVE\_CLOCK\_GETTIME)\ \&\&\ defined(CLOCK\_SGI\_CYCLE)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00573\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }timespec\ ticks;}
\DoxyCodeLine{00574\ }
\DoxyCodeLine{00575\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00576\ \{}
\DoxyCodeLine{00577\ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}};}
\DoxyCodeLine{00578\ \ \ \ \ \ clock\_gettime(CLOCK\_SGI\_CYCLE,\ \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00579\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}};}
\DoxyCodeLine{00580\ \}}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00582\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ elapsed(ticks\ t1,\ ticks\ \mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}})}
\DoxyCodeLine{00583\ \{}
\DoxyCodeLine{00584\ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((\textcolor{keywordtype}{double})t1.tv\_sec\ -\/\ (\textcolor{keywordtype}{double})\mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}.tv\_sec)\ *\ 1.0E9\ +}
\DoxyCodeLine{00585\ \ \ \ \ \ \ ((double)t1.tv\_nsec\ -\/\ (double)\mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}.tv\_nsec);}
\DoxyCodeLine{00586\ \}}
\DoxyCodeLine{00587\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00588\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00589\ }
\DoxyCodeLine{00590\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00591\ \textcolor{comment}{/*\ Cray\ UNICOS\ \_rtc()\ intrinsic\ function\ */}}
\DoxyCodeLine{00592\ \textcolor{preprocessor}{\#if\ defined(HAVE\_\_RTC)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00593\ \textcolor{preprocessor}{\#ifdef\ HAVE\_INTRINSICS\_H}}
\DoxyCodeLine{00594\ \textcolor{preprocessor}{\#\ \ include\ <intrinsics.h>}}
\DoxyCodeLine{00595\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00596\ }
\DoxyCodeLine{00597\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ ticks;}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \textcolor{preprocessor}{\#define\ getticks\ \_rtc}}
\DoxyCodeLine{00600\ }
\DoxyCodeLine{00601\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\textcolor{keyword}{inline})}
\DoxyCodeLine{00602\ }
\DoxyCodeLine{00603\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00604\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00605\ }
\DoxyCodeLine{00606\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00607\ \textcolor{comment}{/*\ MIPS\ ZBus\ */}}
\DoxyCodeLine{00608\ \textcolor{preprocessor}{\#if\ HAVE\_MIPS\_ZBUS\_TIMER}}
\DoxyCodeLine{00609\ \textcolor{preprocessor}{\#if\ defined(\_\_mips\_\_)\ \&\&\ !defined(HAVE\_TICK\_COUNTER)}}
\DoxyCodeLine{00610\ \textcolor{preprocessor}{\#include\ <sys/mman.h>}}
\DoxyCodeLine{00611\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{00612\ \textcolor{preprocessor}{\#include\ <fcntl.h>}}
\DoxyCodeLine{00613\ }
\DoxyCodeLine{00614\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ ticks;}
\DoxyCodeLine{00615\ }
\DoxyCodeLine{00616\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ ticks\ getticks(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00617\ \{}
\DoxyCodeLine{00618\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}*\ \mbox{\hyperlink{ittnotify__static_8h_a5a45e81e22c3c12a69b24c775466de97}{addr}}\ =\ 0;}
\DoxyCodeLine{00619\ }
\DoxyCodeLine{00620\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ittnotify__static_8h_a5a45e81e22c3c12a69b24c775466de97}{addr}}\ ==\ 0)}
\DoxyCodeLine{00621\ \ \ \{}
\DoxyCodeLine{00622\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ rq\_addr\ =\ 0x10030000;}
\DoxyCodeLine{00623\ \ \ \ \ \textcolor{keywordtype}{int}\ fd;}
\DoxyCodeLine{00624\ \ \ \ \ \textcolor{keywordtype}{int}\ pgsize;}
\DoxyCodeLine{00625\ }
\DoxyCodeLine{00626\ \ \ \ \ pgsize\ =\ getpagesize();}
\DoxyCodeLine{00627\ \ \ \ \ fd\ =\ open\ (\textcolor{stringliteral}{"{}/dev/mem"{}},\ O\_RDONLY\ |\ O\_SYNC,\ 0);}
\DoxyCodeLine{00628\ \ \ \ \ \textcolor{keywordflow}{if}\ (fd\ <\ 0)\ \{}
\DoxyCodeLine{00629\ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}open"{}});}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00631\ \ \ \ \ \}}
\DoxyCodeLine{00632\ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_a5a45e81e22c3c12a69b24c775466de97}{addr}}\ =\ mmap(0,\ pgsize,\ PROT\_READ,\ MAP\_SHARED,\ fd,\ rq\_addr);}
\DoxyCodeLine{00633\ \ \ \ \ close(fd);}
\DoxyCodeLine{00634\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ittnotify__static_8h_a5a45e81e22c3c12a69b24c775466de97}{addr}}\ ==\ (\mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ *)-\/1)\ \{}
\DoxyCodeLine{00635\ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}mmap"{}});}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00637\ \ \ \ \ \}}
\DoxyCodeLine{00638\ \ \ \}}
\DoxyCodeLine{00639\ }
\DoxyCodeLine{00640\ \ \ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{ittnotify__static_8h_a5a45e81e22c3c12a69b24c775466de97}{addr}};}
\DoxyCodeLine{00641\ \}}
\DoxyCodeLine{00642\ }
\DoxyCodeLine{00643\ \mbox{\hyperlink{cycle_8h_af4fe9fb7498d9f0df140f6709c5affa8}{INLINE\_ELAPSED}}(\textcolor{keyword}{inline})}
\DoxyCodeLine{00644\ }
\DoxyCodeLine{00645\ \textcolor{preprocessor}{\#define\ HAVE\_TICK\_COUNTER}}
\DoxyCodeLine{00646\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00647\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ HAVE\_MIPS\_ZBUS\_TIMER\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00648\ }
\DoxyCodeLine{00649\ }
\DoxyCodeLine{00650\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ FF\_CYCLE\_H\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
