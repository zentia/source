\chapter{\texorpdfstring{$<$}{<}tt\texorpdfstring{$>$}{>}rfl\+::Timestamp\texorpdfstring{$<$}{<}/tt\texorpdfstring{$>$}{>}}
\hypertarget{md_external_2reflect-cpp_2docs_2timestamps}{}\label{md_external_2reflect-cpp_2docs_2timestamps}\index{$<$tt$>$rfl::Timestamp$<$/tt$>$@{$<$tt$>$rfl::Timestamp$<$/tt$>$}}
\label{md_external_2reflect-cpp_2docs_2timestamps_autotoc_md702}%
\Hypertarget{md_external_2reflect-cpp_2docs_2timestamps_autotoc_md702}%


{\ttfamily \doxylink{classrfl_1_1_timestamp}{rfl\+::\+Timestamp}} is a simple wrapper around {\ttfamily std\+::tm} (\href{https://en.cppreference.com/w/cpp/chrono/c/tm}{\texttt{ https\+://en.\+cppreference.\+com/w/cpp/chrono/c/tm}}).

As its template parameter it includes the time stamp format for serialization and deserialization.

Here is a reference for for how you can specify the format\+:

\href{https://en.cppreference.com/w/cpp/chrono/c/strftime}{\texttt{ https\+://en.\+cppreference.\+com/w/cpp/chrono/c/strftime}}

In fact, {\ttfamily \doxylink{classrfl_1_1_timestamp}{rfl\+::\+Timestamp}} calls {\ttfamily strftime} and {\ttfamily strptime} under-\/the-\/hood.

They can be used in your struct like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }Person\ \{}
\DoxyCodeLine{\ \ rfl::Field<\textcolor{stringliteral}{"{}birthday"{}},\ rfl::Timestamp<\textcolor{stringliteral}{"{}\%Y-\/\%m-\/\%d"{}}>>\ birthday;}
\DoxyCodeLine{\};}

\end{DoxyCode}


An {\ttfamily \doxylink{classrfl_1_1_timestamp}{rfl\+::\+Timestamp}} can be constructed from either a string or a {\ttfamily std\+::tm} struct.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ person1\ =\ Person\{.birthday\ =\ \textcolor{stringliteral}{"{}1970-\/01-\/01"{}}\};}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ person2\ =\ Person\{.birthday\ =\ std::tm\{...\}\};}

\end{DoxyCode}


You can access the underlying {\ttfamily std\+::tm} struct using the {\ttfamily .tm()} method and you can generate the string representation using the {\ttfamily .str()} method.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{const}\ std::tm\ birthday\ =\ person1.birthday().tm();}
\DoxyCodeLine{std::cout\ <<\ person1.birthday().str()\ <<\ std::endl;}

\end{DoxyCode}


Note that constructing {\ttfamily \doxylink{classrfl_1_1_timestamp}{rfl\+::\+Timestamp}} from a string is convenient, but it might result in an exception.

To avoid the exception you can also use {\ttfamily Timestamp\texorpdfstring{$<$}{<}...\texorpdfstring{$>$}{>}::from\+\_\+string(...)}, which will return an {\ttfamily \doxylink{classrfl_1_1_result}{rfl\+::\+Result}\texorpdfstring{$<$}{<}Timestamp\texorpdfstring{$<$}{<}...\texorpdfstring{$>$}{>}\texorpdfstring{$>$}{>}} or {\ttfamily \doxylink{classrfl_1_1_error}{rfl\+::\+Error}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{const}\ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result}}<\mbox{\hyperlink{classrfl_1_1_timestamp}{rfl::Timestamp}}<\textcolor{stringliteral}{"{}\%Y-\/\%m-\/\%d"{}}>>\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ \mbox{\hyperlink{classrfl_1_1_timestamp}{rfl::Timestamp}}<\textcolor{stringliteral}{"{}\%Y-\/\%m-\/\%d"{}}>::from\_string(\textcolor{stringliteral}{"{}1970-\/01-\/01"{}});}
\DoxyCodeLine{\textcolor{keyword}{const}\ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result}}<\mbox{\hyperlink{classrfl_1_1_timestamp}{rfl::Timestamp}}<\textcolor{stringliteral}{"{}\%Y-\/\%m-\/\%d"{}}>>\ \mbox{\hyperlink{namespacespdlog_ae1d3e9e381047283ac67046df1b6e13c}{error}}\ =\ \mbox{\hyperlink{classrfl_1_1_timestamp}{rfl::Timestamp}}<\textcolor{stringliteral}{"{}\%Y-\/\%m-\/\%d"{}}>::from\_string(\textcolor{stringliteral}{"{}not\ a\ proper\ time\ format"{}});}

\end{DoxyCode}
 