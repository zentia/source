\doxysection{external/taskflow/3rd-\/party/tbb/src/test/harness\+\_\+graph.h 文件参考}
\hypertarget{harness__graph_8h}{}\label{harness__graph_8h}\index{external/taskflow/3rd-\/party/tbb/src/test/harness\_graph.h@{external/taskflow/3rd-\/party/tbb/src/test/harness\_graph.h}}
{\ttfamily \#include "{}harness.\+h"{}}\newline
{\ttfamily \#include "{}harness\+\_\+barrier.\+h"{}}\newline
{\ttfamily \#include "{}tbb/flow\+\_\+graph.\+h"{}}\newline
{\ttfamily \#include "{}tbb/null\+\_\+rw\+\_\+mutex.\+h"{}}\newline
{\ttfamily \#include "{}tbb/atomic.\+h"{}}\newline
{\ttfamily \#include "{}tbb/concurrent\+\_\+unordered\+\_\+map.\+h"{}}\newline
{\ttfamily \#include "{}tbb/task.\+h"{}}\newline
{\ttfamily \#include "{}tbb/task\+\_\+scheduler\+\_\+init.\+h"{}}\newline
{\ttfamily \#include "{}tbb/compat/condition\+\_\+variable"{}}\newline
{\ttfamily \#include "{}tbb/mutex.\+h"{}}\newline
{\ttfamily \#include "{}tbb/tbb\+\_\+thread.\+h"{}}\newline
harness\+\_\+graph.\+h 的引用(Include)关系图\+:
% FIG 0
此图展示该文件被哪些文件直接或间接地引用了\+:
% FIG 1
\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structconverter}{converter$<$ Input\+Type, Output\+Type $>$}}
\item 
struct \mbox{\hyperlink{structconverter_3_01_input_type_00_01tbb_1_1flow_1_1continue__msg_01_4}{converter$<$ Input\+Type, tbb\+::flow\+::continue\+\_\+msg $>$}}
\item 
struct \mbox{\hyperlink{structconverter_3_01tbb_1_1flow_1_1continue__msg_00_01_output_type_01_4}{converter$<$ tbb\+::flow\+::continue\+\_\+msg, Output\+Type $>$}}
\item 
struct \mbox{\hyperlink{structmof__helper}{mof\+\_\+helper$<$ N $>$}}
\item 
struct \mbox{\hyperlink{structmof__helper_3_011_01_4}{mof\+\_\+helper$<$ 1 $>$}}
\item 
struct \mbox{\hyperlink{structharness__graph__default__functor}{harness\+\_\+graph\+\_\+default\+\_\+functor$<$ Input\+Type, Output\+Type $>$}}
\item 
struct \mbox{\hyperlink{structharness__graph__default__functor_3_01tbb_1_1flow_1_1continue__msg_00_01_output_type_01_4}{harness\+\_\+graph\+\_\+default\+\_\+functor$<$ tbb\+::flow\+::continue\+\_\+msg, Output\+Type $>$}}
\item 
struct \mbox{\hyperlink{structharness__graph__default__functor_3_01_input_type_00_01tbb_1_1flow_1_1continue__msg_01_4}{harness\+\_\+graph\+\_\+default\+\_\+functor$<$ Input\+Type, tbb\+::flow\+::continue\+\_\+msg $>$}}
\item 
struct \mbox{\hyperlink{structharness__graph__default__functor_3_01tbb_1_1flow_1_1continue__msg_00_01tbb_1_1flow_1_1continue__msg_01_4}{harness\+\_\+graph\+\_\+default\+\_\+functor$<$ tbb\+::flow\+::continue\+\_\+msg, tbb\+::flow\+::continue\+\_\+msg $>$}}
\item 
struct \mbox{\hyperlink{structharness__graph__default__multifunction__functor}{harness\+\_\+graph\+\_\+default\+\_\+multifunction\+\_\+functor$<$ Input\+Type, Output\+Set $>$}}
\item 
struct \mbox{\hyperlink{structharness__graph__executor}{harness\+\_\+graph\+\_\+executor$<$ Input\+Type, Output\+Type $>$}}
\begin{DoxyCompactList}\small\item\em An executor that accepts Input\+Type and generates Output\+Type \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structharness__graph__executor_1_1mutex__holder}{harness\+\_\+graph\+\_\+executor$<$ Input\+Type, Output\+Type $>$\+::mutex\+\_\+holder$<$ RW $>$}}
\item 
struct \mbox{\hyperlink{structharness__graph__executor_1_1tfunctor}{harness\+\_\+graph\+\_\+executor$<$ Input\+Type, Output\+Type $>$\+::tfunctor$<$ RW $>$}}
\item 
struct \mbox{\hyperlink{structharness__graph__multifunction__executor}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor$<$ Input\+Type, Output\+Tuple $>$}}
\begin{DoxyCompactList}\small\item\em \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} multifunction executor that accepts Input\+Type and has only one Output of \doxylink{structharness__graph__multifunction__executor_a9778fe18f160b30462f2c5464d04597c}{Output\+Type}. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structharness__graph__multifunction__executor_1_1mutex__holder}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor$<$ Input\+Type, Output\+Tuple $>$\+::mutex\+\_\+holder$<$ RW $>$}}
\item 
struct \mbox{\hyperlink{structharness__graph__multifunction__executor_1_1tfunctor}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor$<$ Input\+Type, Output\+Tuple $>$\+::tfunctor$<$ RW $>$}}
\item 
struct \mbox{\hyperlink{structharness__counting__receiver}{harness\+\_\+counting\+\_\+receiver$<$ T $>$}}
\begin{DoxyCompactList}\small\item\em Counts the number of puts received \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structharness__mapped__receiver}{harness\+\_\+mapped\+\_\+receiver$<$ T $>$}}
\begin{DoxyCompactList}\small\item\em Counts the number of puts received \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structharness__counting__sender}{harness\+\_\+counting\+\_\+sender$<$ T $>$}}
\begin{DoxyCompactList}\small\item\em Counts the number of puts received \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structserial__fn__body}{serial\+\_\+fn\+\_\+body$<$ T $>$}}
\item 
struct \mbox{\hyperlink{structserial__continue__body}{serial\+\_\+continue\+\_\+body$<$ T $>$}}
\item 
class \mbox{\hyperlink{classharness__reserving__body}{harness\+\_\+reserving\+\_\+body$<$ Reserving\+Node\+Type, Data\+Type, Do\+Clear $>$}}
\item 
class \mbox{\hyperlink{classlightweight__testing_1_1native__loop__body}{lightweight\+\_\+testing\+::native\+\_\+loop\+\_\+body$<$ Node\+Type $>$}}
\item 
class \mbox{\hyperlink{classlightweight__testing_1_1concurrency__checker__body}{lightweight\+\_\+testing\+::concurrency\+\_\+checker\+\_\+body}}
\item 
class \mbox{\hyperlink{classlightweight__testing_1_1native__loop__limited__body}{lightweight\+\_\+testing\+::native\+\_\+loop\+\_\+limited\+\_\+body$<$ Node\+Type $>$}}
\item 
struct \mbox{\hyperlink{structlightweight__testing_1_1condition__predicate}{lightweight\+\_\+testing\+::condition\+\_\+predicate}}
\item 
class \mbox{\hyperlink{classlightweight__testing_1_1limited__lightweight__checker__body}{lightweight\+\_\+testing\+::limited\+\_\+lightweight\+\_\+checker\+\_\+body}}
\end{DoxyCompactItemize}
\doxysubsubsection*{命名空间}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacelightweight__testing}{lightweight\+\_\+testing}}
\end{DoxyCompactItemize}
\doxysubsubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{harness__graph_8h_a514caef8617b9e64da34797c47f20421}{WAIT\+\_\+\+MAX}}~2000000
\item 
\#define \mbox{\hyperlink{harness__graph_8h_a96e9ece27a82cead76327fe15278a6db}{BACKOFF\+\_\+\+WAIT}}(ex,  msg)
\item 
\#define \mbox{\hyperlink{harness__graph_8h_ae43af7e86526548ca59a72ef40033276}{BACKOFF\+\_\+\+WAIT\+\_\+\+NOASSERT}}(ex,  msg)
\end{DoxyCompactItemize}
\doxysubsubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef tbb\+::flow\+::tuple$<$ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} $>$ \mbox{\hyperlink{namespacelightweight__testing_a2b46626c0c08e16351e9b3be52d6548b}{lightweight\+\_\+testing\+::output\+\_\+tuple\+\_\+type}}
\end{DoxyCompactItemize}
\doxysubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Buffer\+Type$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{harness__graph_8h_a49f4585591027f99a695d57f03895ab5}{test\+\_\+resets}} ()
\item 
{\footnotesize template$<$typename Node\+Type$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{harness__graph_8h_a48150a20db9d73e47a9ea11973d72c72}{test\+\_\+input\+\_\+ports\+\_\+return\+\_\+ref}} (Node\+Type \&mip\+\_\+node)
\item 
{\footnotesize template$<$typename Node\+Type$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{harness__graph_8h_a9b6ade3c12c42ffa236168f0f6b9a537}{test\+\_\+output\+\_\+ports\+\_\+return\+\_\+ref}} (Node\+Type \&mop\+\_\+node)
\item 
{\footnotesize template$<$template$<$ typename $>$ class Reserving\+Node\+Type, typename Data\+Type$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{harness__graph_8h_a61044c71b2cf79bccfe2478b80dec3e5}{test\+\_\+reserving\+\_\+nodes}} ()
\item 
{\footnotesize template$<$typename Node\+Type$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{namespacelightweight__testing_abf351cbb068152ec580cd00812b96762}{lightweight\+\_\+testing\+::test\+\_\+unlimited\+\_\+lightweight\+\_\+execution}} (unsigned \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}})
\item 
{\footnotesize template$<$typename Node\+Type$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{namespacelightweight__testing_a35228d449083329293176db6ca9e9883}{lightweight\+\_\+testing\+::test\+\_\+limited\+\_\+lightweight\+\_\+execution}} (unsigned \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}, unsigned concurrency)
\item 
{\footnotesize template$<$typename Node\+Type$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{namespacelightweight__testing_a6cfe410b8c2f86064f29a76a119f3e62}{lightweight\+\_\+testing\+::test\+\_\+lightweight}} (unsigned \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}})
\item 
{\footnotesize template$<$template$<$ typename, typename, typename, typename $>$ class Node\+Type$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{namespacelightweight__testing_a2d792d69247f519642a226cb93b1cbee}{lightweight\+\_\+testing\+::test}} (unsigned \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}})
\end{DoxyCompactItemize}
\doxysubsubsection*{变量}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename RW$>$ }\\RW \mbox{\hyperlink{harness__graph_8h_a7066db3b13dac6171efe89e7c49eb0d0}{harness\+\_\+graph\+\_\+executor$<$ Input\+Type, Output\+Type $>$\+::mutex\+\_\+holder$<$ RW $>$\+::mutex}}
\item 
{\footnotesize template$<$typename Input\+Type, typename Output\+Type$>$ }\\\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$ size\+\_\+t $>$ \mbox{\hyperlink{harness__graph_8h_ad8fb4c61e175be09a490e6d3bd162068}{harness\+\_\+graph\+\_\+executor$<$ Input\+Type, Output\+Type $>$\+::execute\+\_\+count}}
\item 
{\footnotesize template$<$typename Input\+Type, typename Output\+Type$>$ }\\\mbox{\hyperlink{structharness__graph__executor}{harness\+\_\+graph\+\_\+executor}}$<$ Input\+Type, Output\+Type $>$\+::function\+\_\+ptr\+\_\+type \mbox{\hyperlink{harness__graph_8h_ab27cbf552d651cc8f80a1a03ccc4d51f}{harness\+\_\+graph\+\_\+executor$<$ Input\+Type, Output\+Type $>$\+::fptr}} = \mbox{\hyperlink{structharness__graph__default__functor}{harness\+\_\+graph\+\_\+default\+\_\+functor}}$<$ Input\+Type, Output\+Type $>$\+::construct
\item 
{\footnotesize template$<$typename Input\+Type, typename Output\+Type$>$ }\\\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$ size\+\_\+t $>$ \mbox{\hyperlink{harness__graph_8h_a534fdd68909705336dea7d2b45e53f87}{harness\+\_\+graph\+\_\+executor$<$ Input\+Type, Output\+Type $>$\+::current\+\_\+executors}}
\item 
{\footnotesize template$<$typename Input\+Type, typename Output\+Type$>$ }\\size\+\_\+t \mbox{\hyperlink{harness__graph_8h_a02a58af0896c53187f24ad9a072a4c87}{harness\+\_\+graph\+\_\+executor$<$ Input\+Type, Output\+Type $>$\+::max\+\_\+executors}} = 0
\item 
{\footnotesize template$<$typename RW$>$ }\\RW \mbox{\hyperlink{harness__graph_8h_a408e8d4a3e587bcde3786f211c74e358}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor$<$ Input\+Type, Output\+Tuple $>$\+::mutex\+\_\+holder$<$ RW $>$\+::mutex}}
\item 
{\footnotesize template$<$typename Input\+Type, typename Output\+Tuple$>$ }\\\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$ size\+\_\+t $>$ \mbox{\hyperlink{harness__graph_8h_a173b0748cbe5a27a3e2bb75ffdb1d665}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor$<$ Input\+Type, Output\+Tuple $>$\+::execute\+\_\+count}}
\item 
{\footnotesize template$<$typename Input\+Type, typename Output\+Tuple$>$ }\\\mbox{\hyperlink{structharness__graph__multifunction__executor}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor}}$<$ Input\+Type, Output\+Tuple $>$\+::mfunction\+\_\+ptr\+\_\+type \mbox{\hyperlink{harness__graph_8h_a3f79a111e7147472c61851dbae601860}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor$<$ Input\+Type, Output\+Tuple $>$\+::fptr}} = \mbox{\hyperlink{structharness__graph__default__multifunction__functor}{harness\+\_\+graph\+\_\+default\+\_\+multifunction\+\_\+functor}}$<$ Input\+Type, Output\+Tuple $>$\+::construct
\item 
{\footnotesize template$<$typename Input\+Type, typename Output\+Tuple$>$ }\\\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$ size\+\_\+t $>$ \mbox{\hyperlink{harness__graph_8h_a46f4e96da31a79abd90c662a3880642f}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor$<$ Input\+Type, Output\+Tuple $>$\+::current\+\_\+executors}}
\item 
{\footnotesize template$<$typename Input\+Type, typename Output\+Tuple$>$ }\\size\+\_\+t \mbox{\hyperlink{harness__graph_8h_a3ae58a12d01ece124cf4a4f96a36e416}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor$<$ Input\+Type, Output\+Tuple $>$\+::max\+\_\+executors}} = 0
\item 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} $>$ \mbox{\hyperlink{harness__graph_8h_a3f08fd7f09226fb95375878c6193019f}{serial\+\_\+fn\+\_\+state0}}
\item 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} $>$ \mbox{\hyperlink{harness__graph_8h_a096e4bb1de1159387fb2f271d6c96c09}{serial\+\_\+fn\+\_\+state1}}
\item 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} $>$ \mbox{\hyperlink{harness__graph_8h_a5c9d50c5d28be121ab7d80ff5aa5c1f3}{serial\+\_\+continue\+\_\+state0}}
\item 
tbb\+::mutex \mbox{\hyperlink{namespacelightweight__testing_a448879c1355284d9fc288871d9953f42}{lightweight\+\_\+testing\+::m}}
\item 
condition\+\_\+variable \mbox{\hyperlink{namespacelightweight__testing_a8775cf238b6004a5726b13d05951b2ce}{lightweight\+\_\+testing\+::lightweight\+\_\+condition}}
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{namespacelightweight__testing_ad072b894f26771e91e83e502befb4e67}{lightweight\+\_\+testing\+::work\+\_\+submitted}}
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{namespacelightweight__testing_a46b659a9ac0642faf68e5c8e6de0aa24}{lightweight\+\_\+testing\+::lightweight\+\_\+work\+\_\+processed}}
\item 
static tbb\+::task \texorpdfstring{$\ast$}{*}const \mbox{\hyperlink{harness__graph_8h_a7f0430b0f8c67715b53b4e1bfedadc00}{SUCCESSFULLY\+\_\+\+ENQUEUED}}
\end{DoxyCompactItemize}


\doxysubsection{宏定义说明}
\Hypertarget{harness__graph_8h_a96e9ece27a82cead76327fe15278a6db}\index{harness\_graph.h@{harness\_graph.h}!BACKOFF\_WAIT@{BACKOFF\_WAIT}}
\index{BACKOFF\_WAIT@{BACKOFF\_WAIT}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{BACKOFF\_WAIT}{BACKOFF\_WAIT}}
{\footnotesize\ttfamily \label{harness__graph_8h_a96e9ece27a82cead76327fe15278a6db} 
\#define BACKOFF\+\_\+\+WAIT(\begin{DoxyParamCaption}\item[{}]{ex}{, }\item[{}]{msg}{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ wait\_cnt\ =\ 0;\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ tbb::internal::atomic\_backoff\ backoff;\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{do}\ \{\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ backoff.pause();\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ++wait\_cnt;\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ while(\ (ex)\ \&\&\ (wait\_cnt\ <\ \mbox{\hyperlink{harness__graph_8h_a514caef8617b9e64da34797c47f20421}{WAIT\_MAX}}));\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ ASSERT(wait\_cnt\ <\ \mbox{\hyperlink{harness__graph_8h_a514caef8617b9e64da34797c47f20421}{WAIT\_MAX}},\ msg);\ \(\backslash\)}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{harness__graph_8h_ae43af7e86526548ca59a72ef40033276}\index{harness\_graph.h@{harness\_graph.h}!BACKOFF\_WAIT\_NOASSERT@{BACKOFF\_WAIT\_NOASSERT}}
\index{BACKOFF\_WAIT\_NOASSERT@{BACKOFF\_WAIT\_NOASSERT}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{BACKOFF\_WAIT\_NOASSERT}{BACKOFF\_WAIT\_NOASSERT}}
{\footnotesize\ttfamily \label{harness__graph_8h_ae43af7e86526548ca59a72ef40033276} 
\#define BACKOFF\+\_\+\+WAIT\+\_\+\+NOASSERT(\begin{DoxyParamCaption}\item[{}]{ex}{, }\item[{}]{msg}{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ wait\_cnt\ =\ 0;\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ tbb::internal::atomic\_backoff\ backoff;\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{do}\ \{\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ backoff.pause();\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ++wait\_cnt;\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ while(\ (ex)\ \&\&\ (wait\_cnt\ <\ \mbox{\hyperlink{harness__graph_8h_a514caef8617b9e64da34797c47f20421}{WAIT\_MAX}}));\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ if(wait\_cnt\ >=\ \mbox{\hyperlink{harness__graph_8h_a514caef8617b9e64da34797c47f20421}{WAIT\_MAX}})\ \mbox{\hyperlink{harness__report_8h_ace9fba7267bf6a9a92654ce7f25c5516}{REMARK}}(\textcolor{stringliteral}{"{}\%s\(\backslash\)n"{}},msg);\ \(\backslash\)}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{harness__graph_8h_a514caef8617b9e64da34797c47f20421}\index{harness\_graph.h@{harness\_graph.h}!WAIT\_MAX@{WAIT\_MAX}}
\index{WAIT\_MAX@{WAIT\_MAX}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{WAIT\_MAX}{WAIT\_MAX}}
{\footnotesize\ttfamily \label{harness__graph_8h_a514caef8617b9e64da34797c47f20421} 
\#define WAIT\+\_\+\+MAX~2000000}



\doxysubsection{函数说明}
\Hypertarget{harness__graph_8h_a48150a20db9d73e47a9ea11973d72c72}\index{harness\_graph.h@{harness\_graph.h}!test\_input\_ports\_return\_ref@{test\_input\_ports\_return\_ref}}
\index{test\_input\_ports\_return\_ref@{test\_input\_ports\_return\_ref}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{test\_input\_ports\_return\_ref()}{test\_input\_ports\_return\_ref()}}
{\footnotesize\ttfamily \label{harness__graph_8h_a48150a20db9d73e47a9ea11973d72c72} 
template$<$typename Node\+Type$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} test\+\_\+input\+\_\+ports\+\_\+return\+\_\+ref (\begin{DoxyParamCaption}\item[{Node\+Type \&}]{mip\+\_\+node}{}\end{DoxyParamCaption})}

\Hypertarget{harness__graph_8h_a9b6ade3c12c42ffa236168f0f6b9a537}\index{harness\_graph.h@{harness\_graph.h}!test\_output\_ports\_return\_ref@{test\_output\_ports\_return\_ref}}
\index{test\_output\_ports\_return\_ref@{test\_output\_ports\_return\_ref}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{test\_output\_ports\_return\_ref()}{test\_output\_ports\_return\_ref()}}
{\footnotesize\ttfamily \label{harness__graph_8h_a9b6ade3c12c42ffa236168f0f6b9a537} 
template$<$typename Node\+Type$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} test\+\_\+output\+\_\+ports\+\_\+return\+\_\+ref (\begin{DoxyParamCaption}\item[{Node\+Type \&}]{mop\+\_\+node}{}\end{DoxyParamCaption})}

\Hypertarget{harness__graph_8h_a61044c71b2cf79bccfe2478b80dec3e5}\index{harness\_graph.h@{harness\_graph.h}!test\_reserving\_nodes@{test\_reserving\_nodes}}
\index{test\_reserving\_nodes@{test\_reserving\_nodes}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{test\_reserving\_nodes()}{test\_reserving\_nodes()}}
{\footnotesize\ttfamily \label{harness__graph_8h_a61044c71b2cf79bccfe2478b80dec3e5} 
template$<$template$<$ typename $>$ class Reserving\+Node\+Type, typename Data\+Type$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} test\+\_\+reserving\+\_\+nodes (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 2
\Hypertarget{harness__graph_8h_a49f4585591027f99a695d57f03895ab5}\index{harness\_graph.h@{harness\_graph.h}!test\_resets@{test\_resets}}
\index{test\_resets@{test\_resets}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{test\_resets()}{test\_resets()}}
{\footnotesize\ttfamily \label{harness__graph_8h_a49f4585591027f99a695d57f03895ab5} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Buffer\+Type$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} test\+\_\+resets (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 3


\doxysubsection{变量说明}
\Hypertarget{harness__graph_8h_a534fdd68909705336dea7d2b45e53f87}\index{harness\_graph.h@{harness\_graph.h}!harness\_graph\_executor$<$ InputType, OutputType $>$::current\_executors@{harness\_graph\_executor$<$ InputType, OutputType $>$::current\_executors}}
\index{harness\_graph\_executor$<$ InputType, OutputType $>$::current\_executors@{harness\_graph\_executor$<$ InputType, OutputType $>$::current\_executors}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{harness\_graph\_executor$<$ InputType, OutputType $>$::current\_executors}{harness\_graph\_executor< InputType, OutputType >::current\_executors}}
{\footnotesize\ttfamily \label{harness__graph_8h_a534fdd68909705336dea7d2b45e53f87} 
template$<$typename Input\+Type, typename Output\+Type$>$ \\
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$size\+\_\+t$>$ \mbox{\hyperlink{structharness__graph__executor}{harness\+\_\+graph\+\_\+executor}}$<$ Input\+Type, Output\+Type $>$\+::current\+\_\+executors}

\Hypertarget{harness__graph_8h_ad8fb4c61e175be09a490e6d3bd162068}\index{harness\_graph.h@{harness\_graph.h}!harness\_graph\_executor$<$ InputType, OutputType $>$::execute\_count@{harness\_graph\_executor$<$ InputType, OutputType $>$::execute\_count}}
\index{harness\_graph\_executor$<$ InputType, OutputType $>$::execute\_count@{harness\_graph\_executor$<$ InputType, OutputType $>$::execute\_count}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{harness\_graph\_executor$<$ InputType, OutputType $>$::execute\_count}{harness\_graph\_executor< InputType, OutputType >::execute\_count}}
{\footnotesize\ttfamily \label{harness__graph_8h_ad8fb4c61e175be09a490e6d3bd162068} 
template$<$typename Input\+Type, typename Output\+Type$>$ \\
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$size\+\_\+t$>$ \mbox{\hyperlink{structharness__graph__executor}{harness\+\_\+graph\+\_\+executor}}$<$ Input\+Type, Output\+Type $>$\+::execute\+\_\+count}

\Hypertarget{harness__graph_8h_ab27cbf552d651cc8f80a1a03ccc4d51f}\index{harness\_graph.h@{harness\_graph.h}!harness\_graph\_executor$<$ InputType, OutputType $>$::fptr@{harness\_graph\_executor$<$ InputType, OutputType $>$::fptr}}
\index{harness\_graph\_executor$<$ InputType, OutputType $>$::fptr@{harness\_graph\_executor$<$ InputType, OutputType $>$::fptr}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{harness\_graph\_executor$<$ InputType, OutputType $>$::fptr}{harness\_graph\_executor< InputType, OutputType >::fptr}}
{\footnotesize\ttfamily \label{harness__graph_8h_ab27cbf552d651cc8f80a1a03ccc4d51f} 
template$<$typename Input\+Type, typename Output\+Type$>$ \\
\mbox{\hyperlink{structharness__graph__executor}{harness\+\_\+graph\+\_\+executor}}$<$Input\+Type,Output\+Type$>$\+::function\+\_\+ptr\+\_\+type \mbox{\hyperlink{structharness__graph__executor}{harness\+\_\+graph\+\_\+executor}}$<$ Input\+Type, Output\+Type $>$\+::fptr = \mbox{\hyperlink{structharness__graph__default__functor}{harness\+\_\+graph\+\_\+default\+\_\+functor}}$<$ Input\+Type, Output\+Type $>$\+::construct}

\Hypertarget{harness__graph_8h_a02a58af0896c53187f24ad9a072a4c87}\index{harness\_graph.h@{harness\_graph.h}!harness\_graph\_executor$<$ InputType, OutputType $>$::max\_executors@{harness\_graph\_executor$<$ InputType, OutputType $>$::max\_executors}}
\index{harness\_graph\_executor$<$ InputType, OutputType $>$::max\_executors@{harness\_graph\_executor$<$ InputType, OutputType $>$::max\_executors}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{harness\_graph\_executor$<$ InputType, OutputType $>$::max\_executors}{harness\_graph\_executor< InputType, OutputType >::max\_executors}}
{\footnotesize\ttfamily \label{harness__graph_8h_a02a58af0896c53187f24ad9a072a4c87} 
template$<$typename Input\+Type, typename Output\+Type$>$ \\
size\+\_\+t \mbox{\hyperlink{structharness__graph__executor}{harness\+\_\+graph\+\_\+executor}}$<$ Input\+Type, Output\+Type $>$\+::max\+\_\+executors = 0}

\Hypertarget{harness__graph_8h_a7066db3b13dac6171efe89e7c49eb0d0}\index{harness\_graph.h@{harness\_graph.h}!harness\_graph\_executor$<$ InputType, OutputType $>$::mutex\_holder$<$ RW $>$::mutex@{harness\_graph\_executor$<$ InputType, OutputType $>$::mutex\_holder$<$ RW $>$::mutex}}
\index{harness\_graph\_executor$<$ InputType, OutputType $>$::mutex\_holder$<$ RW $>$::mutex@{harness\_graph\_executor$<$ InputType, OutputType $>$::mutex\_holder$<$ RW $>$::mutex}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{harness\_graph\_executor$<$ InputType, OutputType $>$::mutex\_holder$<$ RW $>$::mutex}{harness\_graph\_executor< InputType, OutputType >::mutex\_holder< RW >::mutex}}
{\footnotesize\ttfamily \label{harness__graph_8h_a7066db3b13dac6171efe89e7c49eb0d0} 
template$<$typename RW$>$ \\
RW \mbox{\hyperlink{structharness__graph__executor}{harness\+\_\+graph\+\_\+executor}}$<$ Input\+Type, Output\+Type $>$\+::mutex\+\_\+holder$<$ RW $>$\+::mutex}

\Hypertarget{harness__graph_8h_a46f4e96da31a79abd90c662a3880642f}\index{harness\_graph.h@{harness\_graph.h}!harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::current\_executors@{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::current\_executors}}
\index{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::current\_executors@{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::current\_executors}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::current\_executors}{harness\_graph\_multifunction\_executor< InputType, OutputTuple >::current\_executors}}
{\footnotesize\ttfamily \label{harness__graph_8h_a46f4e96da31a79abd90c662a3880642f} 
template$<$typename Input\+Type, typename Output\+Tuple$>$ \\
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$size\+\_\+t$>$ \mbox{\hyperlink{structharness__graph__multifunction__executor}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor}}$<$ Input\+Type, Output\+Tuple $>$\mbox{\hyperlink{harness__graph_8h_a534fdd68909705336dea7d2b45e53f87}{\+::current\+\_\+executors}}}

\Hypertarget{harness__graph_8h_a173b0748cbe5a27a3e2bb75ffdb1d665}\index{harness\_graph.h@{harness\_graph.h}!harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::execute\_count@{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::execute\_count}}
\index{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::execute\_count@{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::execute\_count}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::execute\_count}{harness\_graph\_multifunction\_executor< InputType, OutputTuple >::execute\_count}}
{\footnotesize\ttfamily \label{harness__graph_8h_a173b0748cbe5a27a3e2bb75ffdb1d665} 
template$<$typename Input\+Type, typename Output\+Tuple$>$ \\
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$size\+\_\+t$>$ \mbox{\hyperlink{structharness__graph__multifunction__executor}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor}}$<$ Input\+Type, Output\+Tuple $>$\mbox{\hyperlink{harness__graph_8h_ad8fb4c61e175be09a490e6d3bd162068}{\+::execute\+\_\+count}}}

\Hypertarget{harness__graph_8h_a3f79a111e7147472c61851dbae601860}\index{harness\_graph.h@{harness\_graph.h}!harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::fptr@{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::fptr}}
\index{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::fptr@{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::fptr}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::fptr}{harness\_graph\_multifunction\_executor< InputType, OutputTuple >::fptr}}
{\footnotesize\ttfamily \label{harness__graph_8h_a3f79a111e7147472c61851dbae601860} 
template$<$typename Input\+Type, typename Output\+Tuple$>$ \\
\mbox{\hyperlink{structharness__graph__multifunction__executor}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor}}$<$Input\+Type,Output\+Tuple$>$\+::mfunction\+\_\+ptr\+\_\+type \mbox{\hyperlink{structharness__graph__multifunction__executor}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor}}$<$ Input\+Type, Output\+Tuple $>$\mbox{\hyperlink{harness__graph_8h_ab27cbf552d651cc8f80a1a03ccc4d51f}{\+::fptr}} = \mbox{\hyperlink{structharness__graph__default__multifunction__functor}{harness\+\_\+graph\+\_\+default\+\_\+multifunction\+\_\+functor}}$<$ Input\+Type, Output\+Tuple $>$\+::construct}

\Hypertarget{harness__graph_8h_a3ae58a12d01ece124cf4a4f96a36e416}\index{harness\_graph.h@{harness\_graph.h}!harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::max\_executors@{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::max\_executors}}
\index{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::max\_executors@{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::max\_executors}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::max\_executors}{harness\_graph\_multifunction\_executor< InputType, OutputTuple >::max\_executors}}
{\footnotesize\ttfamily \label{harness__graph_8h_a3ae58a12d01ece124cf4a4f96a36e416} 
template$<$typename Input\+Type, typename Output\+Tuple$>$ \\
size\+\_\+t \mbox{\hyperlink{structharness__graph__multifunction__executor}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor}}$<$ Input\+Type, Output\+Tuple $>$\mbox{\hyperlink{harness__graph_8h_a02a58af0896c53187f24ad9a072a4c87}{\+::max\+\_\+executors}} = 0}

\Hypertarget{harness__graph_8h_a408e8d4a3e587bcde3786f211c74e358}\index{harness\_graph.h@{harness\_graph.h}!harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::mutex\_holder$<$ RW $>$::mutex@{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::mutex\_holder$<$ RW $>$::mutex}}
\index{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::mutex\_holder$<$ RW $>$::mutex@{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::mutex\_holder$<$ RW $>$::mutex}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{harness\_graph\_multifunction\_executor$<$ InputType, OutputTuple $>$::mutex\_holder$<$ RW $>$::mutex}{harness\_graph\_multifunction\_executor< InputType, OutputTuple >::mutex\_holder< RW >::mutex}}
{\footnotesize\ttfamily \label{harness__graph_8h_a408e8d4a3e587bcde3786f211c74e358} 
template$<$typename RW$>$ \\
RW \mbox{\hyperlink{structharness__graph__multifunction__executor}{harness\+\_\+graph\+\_\+multifunction\+\_\+executor}}$<$ Input\+Type, Output\+Tuple $>$\+::mutex\+\_\+holder$<$ RW $>$\mbox{\hyperlink{harness__graph_8h_a7066db3b13dac6171efe89e7c49eb0d0}{\+::mutex}}}

\Hypertarget{harness__graph_8h_a5c9d50c5d28be121ab7d80ff5aa5c1f3}\index{harness\_graph.h@{harness\_graph.h}!serial\_continue\_state0@{serial\_continue\_state0}}
\index{serial\_continue\_state0@{serial\_continue\_state0}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{serial\_continue\_state0}{serial\_continue\_state0}}
{\footnotesize\ttfamily \label{harness__graph_8h_a5c9d50c5d28be121ab7d80ff5aa5c1f3} 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}$>$ serial\+\_\+continue\+\_\+state0}

\Hypertarget{harness__graph_8h_a3f08fd7f09226fb95375878c6193019f}\index{harness\_graph.h@{harness\_graph.h}!serial\_fn\_state0@{serial\_fn\_state0}}
\index{serial\_fn\_state0@{serial\_fn\_state0}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{serial\_fn\_state0}{serial\_fn\_state0}}
{\footnotesize\ttfamily \label{harness__graph_8h_a3f08fd7f09226fb95375878c6193019f} 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}$>$ serial\+\_\+fn\+\_\+state0}

\Hypertarget{harness__graph_8h_a096e4bb1de1159387fb2f271d6c96c09}\index{harness\_graph.h@{harness\_graph.h}!serial\_fn\_state1@{serial\_fn\_state1}}
\index{serial\_fn\_state1@{serial\_fn\_state1}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{serial\_fn\_state1}{serial\_fn\_state1}}
{\footnotesize\ttfamily \label{harness__graph_8h_a096e4bb1de1159387fb2f271d6c96c09} 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}$>$ serial\+\_\+fn\+\_\+state1}

\Hypertarget{harness__graph_8h_a7f0430b0f8c67715b53b4e1bfedadc00}\index{harness\_graph.h@{harness\_graph.h}!SUCCESSFULLY\_ENQUEUED@{SUCCESSFULLY\_ENQUEUED}}
\index{SUCCESSFULLY\_ENQUEUED@{SUCCESSFULLY\_ENQUEUED}!harness\_graph.h@{harness\_graph.h}}
\doxysubsubsection{\texorpdfstring{SUCCESSFULLY\_ENQUEUED}{SUCCESSFULLY\_ENQUEUED}}
{\footnotesize\ttfamily \label{harness__graph_8h_a7f0430b0f8c67715b53b4e1bfedadc00} 
tbb\+::task\texorpdfstring{$\ast$}{*} const tbb\+::flow\+::internal\+::\+SUCCESSFULLY\+\_\+\+ENQUEUED\hspace{0.3cm}{\ttfamily [static]}}

