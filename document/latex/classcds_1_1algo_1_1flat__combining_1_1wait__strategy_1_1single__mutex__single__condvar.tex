\doxysection{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+single\+\_\+condvar\texorpdfstring{$<$}{<} Milliseconds \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar}{}\label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}}


Wait strategy based on the single mutex and the condition variable  




{\ttfamily \#include $<$wait\+\_\+strategy.\+h$>$}

\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_1_1make__publication__record}{make\+\_\+publication\+\_\+record}}
\begin{DoxyCompactList}\small\item\em \doxylink{test__containers_8cpp_ac3e3346bc6f9bb504e43495424c91a51}{Empty} metafunction \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
enum 
\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a88f609df095facd3624edfe9c44aca13}{single\+\_\+mutex\+\_\+single\+\_\+condvar}} ()
\begin{DoxyCompactList}\small\item\em Default ctor \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Publication\+Record$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_aa51f1770fb2c8b727b7ed9058a55c3e7}{prepare}} (Publication\+Record \&)
\begin{DoxyCompactList}\small\item\em Does nothing \end{DoxyCompactList}\item 
{\footnotesize template$<$typename FCKernel, typename Publication\+Record$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a770a3fec20131b1c69d80c8811c1f17d}{wait}} (FCKernel \&fc, Publication\+Record \&rec)
\begin{DoxyCompactList}\small\item\em Sleeps on condition variable waiting for notification from combiner \end{DoxyCompactList}\item 
{\footnotesize template$<$typename FCKernel, typename Publication\+Record$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a9cec59b1b0642b2047d2bdce2129b2eb}{notify}} (FCKernel \&fc, Publication\+Record \&)
\begin{DoxyCompactList}\small\item\em Calls condition variable function {\ttfamily notify\+\_\+all()} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename FCKernel$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a6e33c5a8c0fbf9a0263ec1836bbc053e}{wakeup}} (FCKernel \&)
\begin{DoxyCompactList}\small\item\em Calls condition variable function {\ttfamily notify\+\_\+all()} \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$\newline
class cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+single\+\_\+condvar$<$ Milliseconds $>$}
Wait strategy based on the single mutex and the condition variable 

The strategy shares the mutex and conditional variable for all thread.

Template parameter {\ttfamily Milliseconds} specifies waiting duration; the minimal value is 1. 

\doxysubsection{成员枚举类型说明}
\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a14e75f0c223ae264ab382f742469e0a7}\doxysubsubsection{\texorpdfstring{anonymous enum}{anonymous enum}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a14e75f0c223ae264ab382f742469e0a7} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
anonymous enum}



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a88f609df095facd3624edfe9c44aca13}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}!single\_mutex\_single\_condvar@{single\_mutex\_single\_condvar}}
\index{single\_mutex\_single\_condvar@{single\_mutex\_single\_condvar}!cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}}
\doxysubsubsection{\texorpdfstring{single\_mutex\_single\_condvar()}{single\_mutex\_single\_condvar()}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a88f609df095facd3624edfe9c44aca13} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
\mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar}{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+single\+\_\+condvar}}$<$ Milliseconds $>$\+::single\+\_\+mutex\+\_\+single\+\_\+condvar (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Default ctor 



\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a9cec59b1b0642b2047d2bdce2129b2eb}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}!notify@{notify}}
\index{notify@{notify}!cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}}
\doxysubsubsection{\texorpdfstring{notify()}{notify()}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a9cec59b1b0642b2047d2bdce2129b2eb} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
template$<$typename FCKernel, typename Publication\+Record$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar}{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+single\+\_\+condvar}}$<$ Milliseconds $>$\+::notify (\begin{DoxyParamCaption}\item[{FCKernel \&}]{fc}{, }\item[{Publication\+Record \&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Calls condition variable function {\ttfamily notify\+\_\+all()} 

函数调用图\+:
% FIG 0
\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_aa51f1770fb2c8b727b7ed9058a55c3e7}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}!prepare@{prepare}}
\index{prepare@{prepare}!cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}}
\doxysubsubsection{\texorpdfstring{prepare()}{prepare()}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_aa51f1770fb2c8b727b7ed9058a55c3e7} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
template$<$typename Publication\+Record$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar}{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+single\+\_\+condvar}}$<$ Milliseconds $>$\+::prepare (\begin{DoxyParamCaption}\item[{Publication\+Record \&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Does nothing 

\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a770a3fec20131b1c69d80c8811c1f17d}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}!wait@{wait}}
\index{wait@{wait}!cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}}
\doxysubsubsection{\texorpdfstring{wait()}{wait()}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a770a3fec20131b1c69d80c8811c1f17d} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
template$<$typename FCKernel, typename Publication\+Record$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar}{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+single\+\_\+condvar}}$<$ Milliseconds $>$\+::wait (\begin{DoxyParamCaption}\item[{FCKernel \&}]{fc}{, }\item[{Publication\+Record \&}]{rec}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sleeps on condition variable waiting for notification from combiner 

\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a6e33c5a8c0fbf9a0263ec1836bbc053e}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}!wakeup@{wakeup}}
\index{wakeup@{wakeup}!cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_single\_condvar$<$ Milliseconds $>$}}
\doxysubsubsection{\texorpdfstring{wakeup()}{wakeup()}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar_a6e33c5a8c0fbf9a0263ec1836bbc053e} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
template$<$typename FCKernel$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__single__condvar}{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+single\+\_\+condvar}}$<$ Milliseconds $>$\+::wakeup (\begin{DoxyParamCaption}\item[{FCKernel \&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Calls condition variable function {\ttfamily notify\+\_\+all()} 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/algo/flat\+\_\+combining/\mbox{\hyperlink{wait__strategy_8h}{wait\+\_\+strategy.\+h}}\end{DoxyCompactItemize}
