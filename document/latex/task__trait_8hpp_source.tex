\doxysection{task\+\_\+trait.\+hpp}
\hypertarget{task__trait_8hpp_source}{}\label{task__trait_8hpp_source}\index{external/taskflow/taskflow/dsl/task\_trait.hpp@{external/taskflow/taskflow/dsl/task\_trait.hpp}}
\mbox{\hyperlink{task__trait_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ 2020/08/28\ -\/\ Created\ by\ netcan:\ https://github.com/netcan}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{flow__builder_8hpp}{../core/flow\_builder.hpp}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{task_8hpp}{../core/task.hpp}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{type__list_8hpp}{type\_list.hpp}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetf}{tf}}\ \{}
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetf_1_1dsl}{dsl}}\ \{}
\DoxyCodeLine{00010\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_task_signature}{TaskSignature}}\ \{\};}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ TASK,\ \textcolor{keyword}{typename}\ CONTEXT>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_task_cb}{TaskCb}}\ \{}
\DoxyCodeLine{00013\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_task_cb_a3bed8bfeefff5e7c8c9142e05654c668}{TaskType}}\ =\ TASK;}
\DoxyCodeLine{00014\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structtf_1_1dsl_1_1_task_cb_a993ffb03ccc9df11b8bf6f2647d1cd78}{build}}(\mbox{\hyperlink{classtf_1_1_flow_builder}{FlowBuilder}}\ \&\mbox{\hyperlink{namespacebuild}{build}},\ \textcolor{keyword}{const}\ CONTEXT\ \&\mbox{\hyperlink{classcontext}{context}})\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \mbox{\hyperlink{structtf_1_1dsl_1_1_task_cb_a070ecf71d38561606447cb3b3b5d132d}{task\_}}\ =\ \mbox{\hyperlink{namespacebuild}{build}}.emplace(\mbox{\hyperlink{structtf_1_1dsl_1_1_task_cb_a3bed8bfeefff5e7c8c9142e05654c668}{TaskType}}\{\mbox{\hyperlink{classcontext}{context}}\}());}
\DoxyCodeLine{00016\ \ \ \}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \mbox{\hyperlink{classtf_1_1_task}{Task}}\ \mbox{\hyperlink{structtf_1_1dsl_1_1_task_cb_a070ecf71d38561606447cb3b3b5d132d}{task\_}};}
\DoxyCodeLine{00019\ \};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ TASK>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_is_task}{IsTask}}\ \{}
\DoxyCodeLine{00022\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ TaskCb>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_is_task_1_1apply}{apply}}\ \{}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structtf_1_1dsl_1_1_is_task_1_1apply_adf2c56e8455a25431a173d9190d7ce63}{value}}\ =}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ std::is\_same<typename\ TaskCb::TaskType,\ TASK>::value;}
\DoxyCodeLine{00025\ \ \ \};}
\DoxyCodeLine{00026\ \};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ TASK,\ \textcolor{keyword}{typename}\ =\ \textcolor{keywordtype}{void}>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_task_trait}{TaskTrait}};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ TASK>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_some_task}{SomeTask}}\ \{}
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_some_task_a979081e16fc89a38d48730766d190a55}{TaskList}}\ =}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \mbox{\hyperlink{namespacetf_1_1dsl_a09576ad6e39020850ce8531914ee195d}{Unique\_t<Flatten\_t<TypeList<typename\ TaskTrait<TASK>::TaskList}}...>>>;}
\DoxyCodeLine{00033\ \};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{comment}{//\ a\ task\ self}}
\DoxyCodeLine{00036\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ TASK>}
\DoxyCodeLine{00037\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_task_trait}{TaskTrait}}<}
\DoxyCodeLine{00038\ \ \ \ \ TASK,\ \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2base_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<std::is\_base\_of<TaskSignature,\ TASK>::value>>\ \{}
\DoxyCodeLine{00039\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_task_trait_3_01_t_a_s_k_00_01std_1_1enable__if__t_3_01std_1_1is__base__of_3_e195ac8c3de50f071a05dc794cc7a5bd_aaede8330e9fb2c9767e41f6404f277e9}{TaskList}}\ =\ \mbox{\hyperlink{structtf_1_1dsl_1_1_type_list}{TypeList<TASK>}};}
\DoxyCodeLine{00040\ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ TASK>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_task_trait}{TaskTrait}}<\mbox{\hyperlink{structtf_1_1dsl_1_1_some_task}{SomeTask}}<TASK...>>\ \{}
\DoxyCodeLine{00043\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structtf_1_1dsl_1_1_task_trait_3_01_some_task_3_01_t_a_s_k_8_8_8_01_4_01_4_ab3ed876cabed032192ac20ff2957413d}{TaskList}}\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structtf_1_1dsl_1_1_some_task}{SomeTask}}<TASK...>\mbox{\hyperlink{structtf_1_1dsl_1_1_task_trait_3_01_some_task_3_01_t_a_s_k_8_8_8_01_4_01_4_ab3ed876cabed032192ac20ff2957413d}{::TaskList}};}
\DoxyCodeLine{00044\ \};}
\DoxyCodeLine{00045\ \}\ \textcolor{comment}{//\ namespace\ dsl}}
\DoxyCodeLine{00046\ \}\ \textcolor{comment}{//\ namespace\ tf}}

\end{DoxyCode}
