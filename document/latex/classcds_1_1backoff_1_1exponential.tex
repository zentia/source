\doxysection{cds\+::backoff\+::exponential\texorpdfstring{$<$}{<} Traits \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1backoff_1_1exponential}{}\label{classcds_1_1backoff_1_1exponential}\index{cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}}


Exponential back-\/off  




{\ttfamily \#include $<$backoff\+\_\+strategy.\+h$>$}

\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef Traits \mbox{\hyperlink{classcds_1_1backoff_1_1exponential_a1ecaaaaf7c6c27e9ac4f43a410ea1761}{traits}}
\begin{DoxyCompactList}\small\item\em Traits \end{DoxyCompactList}\item 
typedef traits\+::fast\+\_\+path\+\_\+backoff \mbox{\hyperlink{classcds_1_1backoff_1_1exponential_a9cc03d0cf3b0bcfca2178183d9cf028a}{spin\+\_\+backoff}}
\begin{DoxyCompactList}\small\item\em spin (fast-\/path) back-\/off strategy \end{DoxyCompactList}\item 
typedef traits\+::slow\+\_\+path\+\_\+backoff \mbox{\hyperlink{classcds_1_1backoff_1_1exponential_a428481ea591f648a19ab64daa52eecf8}{yield\+\_\+backoff}}
\begin{DoxyCompactList}\small\item\em yield (slow-\/path) back-\/off strategy \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1backoff_1_1exponential_a1fce3dc769a5e3de67436a44a724073c}{exponential}} () noexcept
\begin{DoxyCompactList}\small\item\em \doxylink{namespacecds_1_1backoff_a0f64f7bc371e3ad006fba5bd855d6e96}{Default} ctor \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected 属性}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1backoff_1_1exponential_a5f256196b1d54399e492657404147ce1}{m\+\_\+n\+Exp\+Cur}}
\begin{DoxyCompactList}\small\item\em Current spin counter in range \mbox{[}traits\+::s\+\_\+n\+Exp\+Min, traits\+::s\+\_\+n\+Exp\+Max\mbox{]} \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1backoff_1_1exponential_a9cc03d0cf3b0bcfca2178183d9cf028a}{spin\+\_\+backoff}} \mbox{\hyperlink{classcds_1_1backoff_1_1exponential_a337628b1b951c7967f3de0a0ece297bb}{m\+\_\+bk\+Spin}}
\begin{DoxyCompactList}\small\item\em Spinning (fast-\/path) phase back-\/off strategy \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1backoff_1_1exponential_a428481ea591f648a19ab64daa52eecf8}{yield\+\_\+backoff}} \mbox{\hyperlink{classcds_1_1backoff_1_1exponential_aa699a74850d92bd5dd22a40f4b4ed62d}{m\+\_\+bk\+Yield}}
\begin{DoxyCompactList}\small\item\em Yield phase back-\/off strategy \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename Traits = exponential\+\_\+const\+\_\+traits$>$\newline
class cds\+::backoff\+::exponential$<$ Traits $>$}
Exponential back-\/off 

This back-\/off strategy is composite. It consists of {\ttfamily Spin\+Bkoff} and {\ttfamily Yield\+Bkoff} back-\/off strategy. In first, the strategy tries to apply repeatedly {\ttfamily Spin\+Bkoff} (spinning phase) until internal counter of failed attempts reaches its maximum spinning value. Then, the strategy transits to high-\/contention phase where it applies {\ttfamily Yield\+Bkoff} until {\ttfamily reset()} is called. On each spinning iteration the internal spinning counter is doubled.

Selecting the best value for maximum spinning limit is platform and application specific task. The limits are described by {\ttfamily Traits} template parameter. There are two types of {\ttfamily Traits\+:} 
\begin{DoxyItemize}
\item constant traits {\ttfamily \doxylink{structcds_1_1backoff_1_1exponential__const__traits}{exponential\+\_\+const\+\_\+traits}} -\/ specifies the lower and upper limits as a compile-\/time constants; to change the limits you should recompile your application
\item runtime traits {\ttfamily \doxylink{structcds_1_1backoff_1_1exponential__runtime__traits}{exponential\+\_\+runtime\+\_\+traits}} -\/ specifies the limits as {\ttfamily s\+\_\+n\+Exp\+Min} and {\ttfamily s\+\_\+n\+Exp\+Max} variables which can be changed at runtime to tune back-\/off strategy.
\end{DoxyItemize}

The traits class must declare two data member\+:
\begin{DoxyItemize}
\item {\ttfamily lower\+\_\+bound} -\/ the lower bound of spinning loop
\item {\ttfamily upper\+\_\+bound} -\/ the upper boudn of spinning loop
\end{DoxyItemize}

You may use {\ttfamily Traits} template parameter to separate back-\/off implementations. For example, you may define two {\ttfamily exponential} back-\/offs that is the best for your task \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} and \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{backoff__strategy_8h}{cds/algo/backoff\_strategy.h}}>}}
\DoxyCodeLine{\textcolor{keyword}{namespace\ }bkoff\ =\ cds::backoff;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ the\ best\ bounds\ for\ task\ A}}
\DoxyCodeLine{\textcolor{keyword}{struct\ }traits\_A:\ \textcolor{keyword}{public}\ bkoff::exponential\_const\_traits}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceeastl_a6354b0cbfcb8a4e59967dd315a9ef847}{lower\_bound}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceeastl_a26743733e04b17942682ac9eb777b7d8}{upper\_bound}};}
\DoxyCodeLine{\};}
\DoxyCodeLine{\textcolor{keywordtype}{size\_t}\ traits\_A::lower\_bound\ =\ 1024;}
\DoxyCodeLine{\textcolor{keywordtype}{size\_t}\ traits\_A::upper\_bound\ =\ 8\ *\ 1024;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ the\ best\ bounds\ for\ task\ B}}
\DoxyCodeLine{\textcolor{keyword}{struct\ }traits\_B:\ \textcolor{keyword}{public}\ bkoff::exponential\_const\_traits}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceeastl_a6354b0cbfcb8a4e59967dd315a9ef847}{lower\_bound}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceeastl_a26743733e04b17942682ac9eb777b7d8}{upper\_bound}};}
\DoxyCodeLine{\};}
\DoxyCodeLine{\textcolor{keywordtype}{size\_t}\ traits\_A::lower\_bound\ =\ 16;}
\DoxyCodeLine{\textcolor{keywordtype}{size\_t}\ traits\_A::upper\_bound\ =\ 1024;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ //\ define\ your\ back-\/off\ specialization}}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ bkoff::exponential<traits\_A>\ expBackOffA;}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ bkoff::exponential<traits\_B>\ expBackOffB;}

\end{DoxyCode}
 

\doxysubsection{成员类型定义说明}
\Hypertarget{classcds_1_1backoff_1_1exponential_a9cc03d0cf3b0bcfca2178183d9cf028a}\index{cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}!spin\_backoff@{spin\_backoff}}
\index{spin\_backoff@{spin\_backoff}!cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{spin\_backoff}{spin\_backoff}}
{\footnotesize\ttfamily \label{classcds_1_1backoff_1_1exponential_a9cc03d0cf3b0bcfca2178183d9cf028a} 
template$<$typename Traits = exponential\+\_\+const\+\_\+traits$>$ \\
typedef traits\+::fast\+\_\+path\+\_\+backoff \mbox{\hyperlink{classcds_1_1backoff_1_1exponential}{cds\+::backoff\+::exponential}}$<$ Traits $>$\+::spin\+\_\+backoff}



spin (fast-\/path) back-\/off strategy 

\Hypertarget{classcds_1_1backoff_1_1exponential_a1ecaaaaf7c6c27e9ac4f43a410ea1761}\index{cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}!traits@{traits}}
\index{traits@{traits}!cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{traits}{traits}}
{\footnotesize\ttfamily \label{classcds_1_1backoff_1_1exponential_a1ecaaaaf7c6c27e9ac4f43a410ea1761} 
template$<$typename Traits = exponential\+\_\+const\+\_\+traits$>$ \\
typedef Traits \mbox{\hyperlink{classcds_1_1backoff_1_1exponential}{cds\+::backoff\+::exponential}}$<$ Traits $>$\+::traits}



Traits 

\Hypertarget{classcds_1_1backoff_1_1exponential_a428481ea591f648a19ab64daa52eecf8}\index{cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}!yield\_backoff@{yield\_backoff}}
\index{yield\_backoff@{yield\_backoff}!cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{yield\_backoff}{yield\_backoff}}
{\footnotesize\ttfamily \label{classcds_1_1backoff_1_1exponential_a428481ea591f648a19ab64daa52eecf8} 
template$<$typename Traits = exponential\+\_\+const\+\_\+traits$>$ \\
typedef traits\+::slow\+\_\+path\+\_\+backoff \mbox{\hyperlink{classcds_1_1backoff_1_1exponential}{cds\+::backoff\+::exponential}}$<$ Traits $>$\+::yield\+\_\+backoff}



yield (slow-\/path) back-\/off strategy 



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1backoff_1_1exponential_a1fce3dc769a5e3de67436a44a724073c}\index{cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}!exponential@{exponential}}
\index{exponential@{exponential}!cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{exponential()}{exponential()}}
{\footnotesize\ttfamily \label{classcds_1_1backoff_1_1exponential_a1fce3dc769a5e3de67436a44a724073c} 
template$<$typename Traits = exponential\+\_\+const\+\_\+traits$>$ \\
\mbox{\hyperlink{classcds_1_1backoff_1_1exponential}{cds\+::backoff\+::exponential}}$<$ Traits $>$\+::exponential (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



\doxylink{namespacecds_1_1backoff_a0f64f7bc371e3ad006fba5bd855d6e96}{Default} ctor 



\doxysubsection{类成员变量说明}
\Hypertarget{classcds_1_1backoff_1_1exponential_a337628b1b951c7967f3de0a0ece297bb}\index{cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}!m\_bkSpin@{m\_bkSpin}}
\index{m\_bkSpin@{m\_bkSpin}!cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{m\_bkSpin}{m\_bkSpin}}
{\footnotesize\ttfamily \label{classcds_1_1backoff_1_1exponential_a337628b1b951c7967f3de0a0ece297bb} 
template$<$typename Traits = exponential\+\_\+const\+\_\+traits$>$ \\
\mbox{\hyperlink{classcds_1_1backoff_1_1exponential_a9cc03d0cf3b0bcfca2178183d9cf028a}{spin\+\_\+backoff}} \mbox{\hyperlink{classcds_1_1backoff_1_1exponential}{cds\+::backoff\+::exponential}}$<$ Traits $>$\+::m\+\_\+bk\+Spin\hspace{0.3cm}{\ttfamily [protected]}}



Spinning (fast-\/path) phase back-\/off strategy 

\Hypertarget{classcds_1_1backoff_1_1exponential_aa699a74850d92bd5dd22a40f4b4ed62d}\index{cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}!m\_bkYield@{m\_bkYield}}
\index{m\_bkYield@{m\_bkYield}!cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{m\_bkYield}{m\_bkYield}}
{\footnotesize\ttfamily \label{classcds_1_1backoff_1_1exponential_aa699a74850d92bd5dd22a40f4b4ed62d} 
template$<$typename Traits = exponential\+\_\+const\+\_\+traits$>$ \\
\mbox{\hyperlink{classcds_1_1backoff_1_1exponential_a428481ea591f648a19ab64daa52eecf8}{yield\+\_\+backoff}} \mbox{\hyperlink{classcds_1_1backoff_1_1exponential}{cds\+::backoff\+::exponential}}$<$ Traits $>$\+::m\+\_\+bk\+Yield\hspace{0.3cm}{\ttfamily [protected]}}



Yield phase back-\/off strategy 

\Hypertarget{classcds_1_1backoff_1_1exponential_a5f256196b1d54399e492657404147ce1}\index{cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}!m\_nExpCur@{m\_nExpCur}}
\index{m\_nExpCur@{m\_nExpCur}!cds::backoff::exponential$<$ Traits $>$@{cds::backoff::exponential$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{m\_nExpCur}{m\_nExpCur}}
{\footnotesize\ttfamily \label{classcds_1_1backoff_1_1exponential_a5f256196b1d54399e492657404147ce1} 
template$<$typename Traits = exponential\+\_\+const\+\_\+traits$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1backoff_1_1exponential}{cds\+::backoff\+::exponential}}$<$ Traits $>$\+::m\+\_\+n\+Exp\+Cur\hspace{0.3cm}{\ttfamily [protected]}}



Current spin counter in range \mbox{[}traits\+::s\+\_\+n\+Exp\+Min, traits\+::s\+\_\+n\+Exp\+Max\mbox{]} 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/algo/\mbox{\hyperlink{backoff__strategy_8h}{backoff\+\_\+strategy.\+h}}\end{DoxyCompactItemize}
