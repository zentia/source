\doxysection{ff\+::MPMC\+\_\+\+Ptr\+\_\+\+Queue类 参考}
\hypertarget{classff_1_1_m_p_m_c___ptr___queue}{}\label{classff_1_1_m_p_m_c___ptr___queue}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}


An implementation of the {\itshape bounded} Multi-\/\+Producer/\+Multi-\/\+Consumer queue. Not currently used.  




{\ttfamily \#include $<$MPMCqueues.\+hpp$>$}



ff\+::MPMC\+\_\+\+Ptr\+\_\+\+Queue 的协作图\+:
% FIG 0
\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structff_1_1_m_p_m_c___ptr___queue_1_1element__t}{element\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_a5b41cb231bed1df6b81598c2a8a3c04d}{MPMC\+\_\+\+Ptr\+\_\+\+Queue}} ()
\item 
\mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_abab300a726b8af7561d2f2dd036ff437}{\texorpdfstring{$\sim$}{\string~}\+MPMC\+\_\+\+Ptr\+\_\+\+Queue}} ()
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_a5f50781542e7735ec7469c1e1bd4150e}{init}} (size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})
\begin{DoxyCompactList}\small\item\em init \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_adf254bea25840020a0f807f66100cdba}{push}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}const \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})
\begin{DoxyCompactList}\small\item\em push\+: enqueue data \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_aa75f7a9a0852eefb2840778f6a5fed7b}{pop}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
union \{\\
\>std::atomic$<$ unsigned long $>$ \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_a6b2cdc10d9496b9650b8995eab535f6d}{pwrite}}\\
\>char \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_afd7f5dce28bc05ce44ff16f79b4f0ab0}{padding1}} \mbox{[}\mbox{\hyperlink{config_8hpp_af89f60b07247176687889ade776c8e10}{CACHE\_LINE\_SIZE}}\mbox{]}\\
\>\>{\em Pointer to the location where to write to }\\
\}; \\

\end{tabbing}\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
union \{\\
\>std::atomic$<$ unsigned long $>$ \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_a351b72bc1f38fb404adcfcdec5c6117a}{pread}}\\
\>char \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_af35c4fc0c7228d272ed9032272fb752e}{padding2}} \mbox{[}\mbox{\hyperlink{config_8hpp_af89f60b07247176687889ade776c8e10}{CACHE\_LINE\_SIZE}}\mbox{]}\\
\>\>{\em Pointer to the location where to read from }\\
\}; \\

\end{tabbing}\item 
\mbox{\hyperlink{structff_1_1_m_p_m_c___ptr___queue_1_1element__t}{element\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_a14b9107c41947958e63c001fd629e830}{buf}}
\item 
unsigned long \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue_a3eeffe57cc81edbc9dab2c159bc30cec}{mask}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
An implementation of the {\itshape bounded} Multi-\/\+Producer/\+Multi-\/\+Consumer queue. Not currently used. 

This class describes an implementation of the MPMC queue inspired by the solution proposed by \href{https://sites.google.com/site/1024cores/home/lock-free-algorithms/queues/bounded-mpmc-queue}{\texttt{ Dmitry Vyukov}}. ~\newline
 \begin{DoxyNote}{注解}
There are two versions 1) with atomic operations 2) using new C++0X standard (compile with -\/DUSE\+\_\+\+STD\+\_\+\+C0X). 
\end{DoxyNote}


\doxysubsection{构造及析构函数说明}
\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_a5b41cb231bed1df6b81598c2a8a3c04d}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!MPMC\_Ptr\_Queue@{MPMC\_Ptr\_Queue}}
\index{MPMC\_Ptr\_Queue@{MPMC\_Ptr\_Queue}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{MPMC\_Ptr\_Queue()}{MPMC\_Ptr\_Queue()}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_a5b41cb231bed1df6b81598c2a8a3c04d} 
ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_abab300a726b8af7561d2f2dd036ff437}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!````~MPMC\_Ptr\_Queue@{\texorpdfstring{$\sim$}{\string~}MPMC\_Ptr\_Queue}}
\index{````~MPMC\_Ptr\_Queue@{\texorpdfstring{$\sim$}{\string~}MPMC\_Ptr\_Queue}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}MPMC\_Ptr\_Queue()}{\string~MPMC\_Ptr\_Queue()}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_abab300a726b8af7561d2f2dd036ff437} 
ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::\texorpdfstring{$\sim$}{\string~}\+MPMC\+\_\+\+Ptr\+\_\+\+Queue (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{成员函数说明}
\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_a5f50781542e7735ec7469c1e1bd4150e}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!init@{init}}
\index{init@{init}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_a5f50781542e7735ec7469c1e1bd4150e} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::init (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



init 

函数调用图\+:
% FIG 1
\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_aa75f7a9a0852eefb2840778f6a5fed7b}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!pop@{pop}}
\index{pop@{pop}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_aa75f7a9a0852eefb2840778f6a5fed7b} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::pop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

pop method\+: dequeue data from the queue.

This is a non-\/blocking method. \Hypertarget{classff_1_1_m_p_m_c___ptr___queue_adf254bea25840020a0f807f66100cdba}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!push@{push}}
\index{push@{push}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{push()}{push()}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_adf254bea25840020a0f807f66100cdba} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}const}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



push\+: enqueue data 

This method is non-\/blocking and costs one CAS per operation. 

\doxysubsection{类成员变量说明}
\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_adbd646d538a9f756dcf0c689395f5cfa}\doxysubsubsection{\texorpdfstring{[union]}{[union]}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_adbd646d538a9f756dcf0c689395f5cfa} 
union  \{ ... \}  \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue}{ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue}}\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_a5eb51bbd13e3e22d967830929c208fbd}\doxysubsubsection{\texorpdfstring{[union]}{[union]}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_a5eb51bbd13e3e22d967830929c208fbd} 
union  \{ ... \}  \mbox{\hyperlink{classff_1_1_m_p_m_c___ptr___queue}{ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue}}\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_a14b9107c41947958e63c001fd629e830}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!buf@{buf}}
\index{buf@{buf}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{buf}{buf}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_a14b9107c41947958e63c001fd629e830} 
\mbox{\hyperlink{structff_1_1_m_p_m_c___ptr___queue_1_1element__t}{element\+\_\+t}}\texorpdfstring{$\ast$}{*} ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::buf\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_a3eeffe57cc81edbc9dab2c159bc30cec}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!mask@{mask}}
\index{mask@{mask}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{mask}{mask}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_a3eeffe57cc81edbc9dab2c159bc30cec} 
unsigned long ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::mask\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_afd7f5dce28bc05ce44ff16f79b4f0ab0}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!padding1@{padding1}}
\index{padding1@{padding1}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{padding1}{padding1}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_afd7f5dce28bc05ce44ff16f79b4f0ab0} 
char ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::padding1\mbox{[}\mbox{\hyperlink{config_8hpp_af89f60b07247176687889ade776c8e10}{CACHE\+\_\+\+LINE\+\_\+\+SIZE}}\mbox{]}}



Pointer to the location where to write to 

\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_af35c4fc0c7228d272ed9032272fb752e}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!padding2@{padding2}}
\index{padding2@{padding2}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{padding2}{padding2}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_af35c4fc0c7228d272ed9032272fb752e} 
char ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::padding2\mbox{[}\mbox{\hyperlink{config_8hpp_af89f60b07247176687889ade776c8e10}{CACHE\+\_\+\+LINE\+\_\+\+SIZE}}\mbox{]}}



Pointer to the location where to read from 

\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_a351b72bc1f38fb404adcfcdec5c6117a}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!pread@{pread}}
\index{pread@{pread}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{pread}{pread}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_a351b72bc1f38fb404adcfcdec5c6117a} 
std\+::atomic$<$unsigned long$>$ ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::pread}

\Hypertarget{classff_1_1_m_p_m_c___ptr___queue_a6b2cdc10d9496b9650b8995eab535f6d}\index{ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}!pwrite@{pwrite}}
\index{pwrite@{pwrite}!ff::MPMC\_Ptr\_Queue@{ff::MPMC\_Ptr\_Queue}}
\doxysubsubsection{\texorpdfstring{pwrite}{pwrite}}
{\footnotesize\ttfamily \label{classff_1_1_m_p_m_c___ptr___queue_a6b2cdc10d9496b9650b8995eab535f6d} 
std\+::atomic$<$unsigned long$>$ ff\+::\+MPMC\+\_\+\+Ptr\+\_\+\+Queue\+::pwrite}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/ff/mpmc/\mbox{\hyperlink{_m_p_m_cqueues_8hpp}{MPMCqueues.\+hpp}}\end{DoxyCompactItemize}
