\doxysection{cds\+::intrusive\+::Optimistic\+Queue\texorpdfstring{$<$}{<} GC, T, Traits \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1intrusive_1_1_optimistic_queue}{}\label{classcds_1_1intrusive_1_1_optimistic_queue}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}


Optimistic intruive lock-\/free queue  




{\ttfamily \#include $<$optimistic\+\_\+queue.\+h$>$}

\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcds_1_1intrusive_1_1_optimistic_queue_1_1rebind}{rebind}}
\begin{DoxyCompactList}\small\item\em Rebind template arguments \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef GC \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a6d4d47d5c4502cf9ab4e997b0285a8ed}{gc}}
\begin{DoxyCompactList}\small\item\em Garbage collector \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}}
\begin{DoxyCompactList}\small\item\em type of value to be stored in the queue \end{DoxyCompactList}\item 
typedef Traits \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_af28150b85a73df619df615006b881c56}{traits}}
\begin{DoxyCompactList}\small\item\em Queue traits \end{DoxyCompactList}\item 
typedef traits\+::hook \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a5a7f4e1cf39034bd5552f9d38d186dd9}{hook}}
\begin{DoxyCompactList}\small\item\em hook type \end{DoxyCompactList}\item 
typedef hook\+::node\+\_\+type \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a3e6d9838689e64360ccc71385b9bc4ff}{node\+\_\+type}}
\begin{DoxyCompactList}\small\item\em node type \end{DoxyCompactList}\item 
typedef traits\+::disposer \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a8654ea2b7cd9bcfb0edd48418ec4f41b}{disposer}}
\begin{DoxyCompactList}\small\item\em disposer used \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{structcds_1_1intrusive_1_1get__node__traits}{get\+\_\+node\+\_\+traits}}$<$ \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}}, \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a3e6d9838689e64360ccc71385b9bc4ff}{node\+\_\+type}}, \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a5a7f4e1cf39034bd5552f9d38d186dd9}{hook}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a1c208390e594bc0b32f369217fb80c6c}{node\+\_\+traits}}
\begin{DoxyCompactList}\small\item\em node traits \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{structcds_1_1intrusive_1_1optimistic__queue_1_1get__link__checker}{optimistic\+\_\+queue\+::get\+\_\+link\+\_\+checker}}$<$ \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a3e6d9838689e64360ccc71385b9bc4ff}{node\+\_\+type}}, traits\+::link\+\_\+checker $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_ae775ff5a07685eabaf27bba613917d47}{link\+\_\+checker}}
\begin{DoxyCompactList}\small\item\em link checker \end{DoxyCompactList}\item 
typedef traits\+::back\+\_\+off \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_ab3c3aee70a460c209931581090191578}{back\+\_\+off}}
\begin{DoxyCompactList}\small\item\em back-\/off strategy \end{DoxyCompactList}\item 
typedef traits\+::item\+\_\+counter \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa7ece8b167b7359e89f9099f87eccc72}{item\+\_\+counter}}
\begin{DoxyCompactList}\small\item\em Item counting policy used \end{DoxyCompactList}\item 
typedef traits\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a92419094810cde68b089605fa50bc959}{memory\+\_\+model}}
\begin{DoxyCompactList}\small\item\em Memory ordering. See \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model} option \end{DoxyCompactList}\item 
typedef traits\+::stat \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_ab0a5f36a50e1bb6eb0b0967281b36172}{stat}}
\begin{DoxyCompactList}\small\item\em Internal statistics policy used \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a683d23161546f815a6ba8cc222d79e34}{Optimistic\+Queue}} ()
\begin{DoxyCompactList}\small\item\em Constructor creates empty queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_ade4e12672add4c4a46fc31db69b065cc}{\texorpdfstring{$\sim$}{\string~}\+Optimistic\+Queue}} ()
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a581b2a0fa54132e1ab35bc5bc8a1b615}{enqueue}} (\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}} \&val)
\begin{DoxyCompactList}\small\item\em \label{classcds_1_1intrusive_1_1_optimistic_queue_cds_intrusive_OptimisticQueue_enqueue}%
\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_cds_intrusive_OptimisticQueue_enqueue}%
Enqueues {\ttfamily data} in lock-\/free manner. Always return {\itshape true} \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a0d019f8be5b356ac308ec84f08de5d09}{dequeue}} ()
\begin{DoxyCompactList}\small\item\em Dequeues a value from the queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aac34c74806db31c005d3bcc0c270f4fd}{push}} (\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}} \&val)
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1intrusive_1_1_optimistic_queue_a581b2a0fa54132e1ab35bc5bc8a1b615}{enqueue()}} \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_abc913411b559174ffb12c8c5656767a3}{pop}} ()
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1intrusive_1_1_optimistic_queue_a0d019f8be5b356ac308ec84f08de5d09}{dequeue()}} \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a9fe60201ed01e096294184d39e82fb2c}{empty}} () const
\begin{DoxyCompactList}\small\item\em Checks if the queue is empty \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a018fbc7d46886ce20177bbd153e79ac2}{clear}} ()
\begin{DoxyCompactList}\small\item\em Clear the stack \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa23e2988320c435caec89ccc406838b1}{size}} () const
\begin{DoxyCompactList}\small\item\em Returns queue\textquotesingle{}s item count \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_ab0a5f36a50e1bb6eb0b0967281b36172}{stat}} \& \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aac475e8af1cb5edbb46568ba19e24ed6}{statistics}} () const
\begin{DoxyCompactList}\small\item\em Returns refernce to internal statistics \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 属性}
\begin{DoxyCompactItemize}
\item 
static constexpr const size\+\_\+t \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_abde6588d7c827355f6cb8847bd77eefd}{c\+\_\+n\+Hazard\+Ptr\+Count}} = 5
\begin{DoxyCompactList}\small\item\em Count of hazard pointer required for the algorithm \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected 属性}
\begin{DoxyCompactItemize}
\item 
atomic\+\_\+node\+\_\+ptr \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a3f9e2ae8e4ea6593bf2136b717b2a882}{m\+\_\+p\+Tail}}
\begin{DoxyCompactList}\small\item\em Pointer to tail node \end{DoxyCompactList}\item 
atomic\+\_\+node\+\_\+ptr \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a500ebcee9d400ca9586a29675807199e}{m\+\_\+p\+Head}}
\begin{DoxyCompactList}\small\item\em Pointer to head node \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a3e6d9838689e64360ccc71385b9bc4ff}{node\+\_\+type}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a7f5c29630e9f8ad4a2fcf2ec38234a30}{m\+\_\+\+Dummy}}
\begin{DoxyCompactList}\small\item\em dummy node \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa7ece8b167b7359e89f9099f87eccc72}{item\+\_\+counter}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa8a255684f80a81112107e476b8c18f8}{m\+\_\+\+Item\+Counter}}
\begin{DoxyCompactList}\small\item\em Item counter \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_ab0a5f36a50e1bb6eb0b0967281b36172}{stat}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa488210dd73b493239b8cf896579fdf0}{m\+\_\+\+Stat}}
\begin{DoxyCompactList}\small\item\em Internal statistics \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$\newline
class cds\+::intrusive\+::\+Optimistic\+Queue$<$ GC, T, Traits $>$}
Optimistic intruive lock-\/free queue 

Implementation of Ladan-\/\+Mozes \& Shavit optimistic queue algorithm. \mbox{[}2008\mbox{]} Edya Ladan-\/\+Mozes, Nir Shavit "{}\+An Optimistic Approach to Lock-\/\+Free FIFO Queues"{}

Template arguments\+:
\begin{DoxyItemize}
\item {\ttfamily GC} -\/ garbage collector type\+: {\ttfamily \doxylink{namespacecds_1_1gc_af0523881f089593a7559d194ee2b5dd9}{gc\+::\+HP}}, {\ttfamily \doxylink{classcds_1_1gc_1_1_d_h_p}{gc\+::\+DHP}} 
\item {\ttfamily T} -\/ type of value to be stored in the queue. \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} value of type {\ttfamily T} must be derived from {\ttfamily \doxylink{structcds_1_1intrusive_1_1optimistic__queue_1_1node}{optimistic\+\_\+queue\+::node}} for {\ttfamily \doxylink{structcds_1_1intrusive_1_1optimistic__queue_1_1base__hook}{optimistic\+\_\+queue\+::base\+\_\+hook}}, or it should have a member of type {\ttfamily optimistic\+\_\+queue\+::node} for {\ttfamily \doxylink{structcds_1_1intrusive_1_1optimistic__queue_1_1member__hook}{optimistic\+\_\+queue\+::member\+\_\+hook}}, or it should be convertible to {\ttfamily optimistic\+\_\+queue\+::node} for {\ttfamily \doxylink{structcds_1_1intrusive_1_1optimistic__queue_1_1traits__hook}{optimistic\+\_\+queue\+::traits\+\_\+hook}}.
\item {\ttfamily Traits} -\/ queue traits, default is {\ttfamily \doxylink{structcds_1_1intrusive_1_1optimistic__queue_1_1traits}{optimistic\+\_\+queue\+::traits}}. You can use {\ttfamily \doxylink{structcds_1_1intrusive_1_1optimistic__queue_1_1make__traits}{optimistic\+\_\+queue\+::make\+\_\+traits}} metafunction to make your traits or just derive your traits from {\ttfamily optimistic\+\_\+queue\+::traits}\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }myTraits:\ \textcolor{keyword}{public}\ cds::intrusive::optimistic\_queue::traits\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{typedef}\ cds::intrusive::optimistic\_queue::stat<>\ \mbox{\hyperlink{structcds_1_1intrusive_1_1optimistic__queue_1_1traits_aae14f95fad1bcddc7eaf6111b708596f}{stat}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{typedef}\ cds::atomicity::item\_counter\ \ \ \ \mbox{\hyperlink{structcds_1_1intrusive_1_1optimistic__queue_1_1traits_a2ce1017365d8a4885daf3a4641bd8dab}{item\_counter}};}
\DoxyCodeLine{\};}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ cds::intrusive::OptimisticQueue<\ cds::gc::HP,\ Foo,\ myTraits\ >\ myQueue;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Equivalent\ make\_traits\ example:}}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ cds::intrusive::OptimisticQueue<\ \mbox{\hyperlink{namespacecds_1_1gc_af0523881f089593a7559d194ee2b5dd9}{cds::gc::HP}},\ \mbox{\hyperlink{bug1213_8cpp_add4cd82fef2db3867de22e0c84c750a1aca2a3a2b2da8e517565fb654a86639b6}{Foo}},}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{typename}\ cds::intrusive::optimistic\_queue::make\_traits<}
\DoxyCodeLine{\ \ \ \ \ \ \ \ cds::opt::stat<\ cds::intrusive::optimistic\_queue::stat<>\ >,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ cds::opt::item\_counter<\ cds::atomicity::item\_counter\ >}
\DoxyCodeLine{\ \ \ \ >\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{::type}}}
\DoxyCodeLine{>\ myQueue;}

\end{DoxyCode}

\end{DoxyItemize}

Garbage collecting schema {\ttfamily GC} must be consistent with the \doxylink{structcds_1_1intrusive_1_1optimistic__queue_1_1node}{optimistic\+\_\+queue\+::node} GC.

\begin{DoxyParagraph}{About item disposing}
The optimistic queue algo has a key feature\+: even if the queue is empty it contains one item that is "{}dummy"{} one from the standpoint of the algo. See {\ttfamily \doxylink{classcds_1_1intrusive_1_1_optimistic_queue_a0d019f8be5b356ac308ec84f08de5d09}{dequeue()}} function for explanation.
\end{DoxyParagraph}
\begin{DoxyParagraph}{Examples}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{hp_8h}{cds/gc/hp.h}}>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{intrusive_2optimistic__queue_8h}{cds/intrusive/optimistic\_queue.h}}>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacectre_a2ce058c8ebc22a403772fede8f03883b}{ci}}\ =\ cds::inrtusive;}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ \mbox{\hyperlink{namespacecds_1_1gc_af0523881f089593a7559d194ee2b5dd9}{cds::gc::HP}}\ hp\_gc;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Optimistic\ queue\ with\ Hazard\ Pointer\ garbage\ collector,\ base\ hook\ +\ item\ counter:}}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{bug1213_8cpp_add4cd82fef2db3867de22e0c84c750a1aca2a3a2b2da8e517565fb654a86639b6}{Foo}}:\ \textcolor{keyword}{public}\ ci::optimistic\_queue::node<\ hp\_gc\ >}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Your\ data}}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ ci::OptimisticQueue<\ hp\_gc,}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{bug1213_8cpp_add4cd82fef2db3867de22e0c84c750a1aca2a3a2b2da8e517565fb654a86639b6}{Foo}},}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{typename}\ ci::optimistic\_queue::make\_traits<}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ci::opt::hook<}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ci::optimistic\_queue::base\_hook<\ ci::opt::gc<\ hp\_gc\ >\ >}
\DoxyCodeLine{\ \ \ \ \ \ \ \ >}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ,cds::opt::item\_counter<\ cds::atomicity::item\_counter\ >}
\DoxyCodeLine{\ \ \ \ >\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{::type}}}
\DoxyCodeLine{>\ FooQueue;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Optimistic\ queue\ with\ Hazard\ Pointer\ garbage\ collector,\ member\ hook,\ no\ item\ counter:}}
\DoxyCodeLine{\textcolor{keyword}{struct\ }Bar}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Your\ data}}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\ \ \ \ ci::optimistic\_queue::node<\ hp\_gc\ >\ hMember;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ ci::OptimisticQueue<\ hp\_gc,}
\DoxyCodeLine{\ \ \ \ Bar,}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{typename}\ ci::optimistic\_queue::make\_traits<}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ci::opt::hook<}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ci::optimistic\_queue::member\_hook<}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ offsetof(Bar,\ hMember)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,ci::opt::gc<\ hp\_gc\ >}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ >}
\DoxyCodeLine{\ \ \ \ \ \ \ \ >}
\DoxyCodeLine{\ \ \ \ >\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{::type}}}
\DoxyCodeLine{>\ BarQueue;}

\end{DoxyCode}
 
\end{DoxyParagraph}


\doxysubsection{成员类型定义说明}
\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_ab3c3aee70a460c209931581090191578}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!back\_off@{back\_off}}
\index{back\_off@{back\_off}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{back\_off}{back\_off}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_ab3c3aee70a460c209931581090191578} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef traits\+::back\+\_\+off \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::back\+\_\+off}



back-\/off strategy 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a8654ea2b7cd9bcfb0edd48418ec4f41b}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!disposer@{disposer}}
\index{disposer@{disposer}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{disposer}{disposer}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a8654ea2b7cd9bcfb0edd48418ec4f41b} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef traits\+::disposer \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::disposer}



disposer used 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a6d4d47d5c4502cf9ab4e997b0285a8ed}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!gc@{gc}}
\index{gc@{gc}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{gc}{gc}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a6d4d47d5c4502cf9ab4e997b0285a8ed} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef GC \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::gc}



Garbage collector 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a5a7f4e1cf39034bd5552f9d38d186dd9}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!hook@{hook}}
\index{hook@{hook}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{hook}{hook}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a5a7f4e1cf39034bd5552f9d38d186dd9} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef traits\+::hook \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::hook}



hook type 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_aa7ece8b167b7359e89f9099f87eccc72}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!item\_counter@{item\_counter}}
\index{item\_counter@{item\_counter}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{item\_counter}{item\_counter}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_aa7ece8b167b7359e89f9099f87eccc72} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef traits\+::item\+\_\+counter \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::item\+\_\+counter}



Item counting policy used 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_ae775ff5a07685eabaf27bba613917d47}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!link\_checker@{link\_checker}}
\index{link\_checker@{link\_checker}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{link\_checker}{link\_checker}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_ae775ff5a07685eabaf27bba613917d47} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef \mbox{\hyperlink{structcds_1_1intrusive_1_1optimistic__queue_1_1get__link__checker}{optimistic\+\_\+queue\+::get\+\_\+link\+\_\+checker}}$<$\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a3e6d9838689e64360ccc71385b9bc4ff}{node\+\_\+type}},traits\+::link\+\_\+checker$>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::link\+\_\+checker}



link checker 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a92419094810cde68b089605fa50bc959}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!memory\_model@{memory\_model}}
\index{memory\_model@{memory\_model}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{memory\_model}{memory\_model}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a92419094810cde68b089605fa50bc959} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef traits\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::memory\+\_\+model}



Memory ordering. See \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model} option 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a1c208390e594bc0b32f369217fb80c6c}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!node\_traits@{node\_traits}}
\index{node\_traits@{node\_traits}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{node\_traits}{node\_traits}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a1c208390e594bc0b32f369217fb80c6c} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef \mbox{\hyperlink{structcds_1_1intrusive_1_1get__node__traits}{get\+\_\+node\+\_\+traits}}$<$\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}},\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a3e6d9838689e64360ccc71385b9bc4ff}{node\+\_\+type}},\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a5a7f4e1cf39034bd5552f9d38d186dd9}{hook}}$>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::node\+\_\+traits}



node traits 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a3e6d9838689e64360ccc71385b9bc4ff}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!node\_type@{node\_type}}
\index{node\_type@{node\_type}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{node\_type}{node\_type}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a3e6d9838689e64360ccc71385b9bc4ff} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef hook\+::node\+\_\+type \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::node\+\_\+type}



node type 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_ab0a5f36a50e1bb6eb0b0967281b36172}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!stat@{stat}}
\index{stat@{stat}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{stat}{stat}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_ab0a5f36a50e1bb6eb0b0967281b36172} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef traits\+::stat \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::stat}



Internal statistics policy used 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_af28150b85a73df619df615006b881c56}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!traits@{traits}}
\index{traits@{traits}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{traits}{traits}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_af28150b85a73df619df615006b881c56} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef Traits \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::traits}



Queue traits 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!value\_type@{value\_type}}
\index{value\_type@{value\_type}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{value\_type}{value\_type}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
typedef \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::value\+\_\+type}



type of value to be stored in the queue 



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a683d23161546f815a6ba8cc222d79e34}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!OptimisticQueue@{OptimisticQueue}}
\index{OptimisticQueue@{OptimisticQueue}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{OptimisticQueue()}{OptimisticQueue()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a683d23161546f815a6ba8cc222d79e34} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::\+Optimistic\+Queue (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor creates empty queue 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_ade4e12672add4c4a46fc31db69b065cc}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!````~OptimisticQueue@{\texorpdfstring{$\sim$}{\string~}OptimisticQueue}}
\index{````~OptimisticQueue@{\texorpdfstring{$\sim$}{\string~}OptimisticQueue}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}OptimisticQueue()}{\string~OptimisticQueue()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_ade4e12672add4c4a46fc31db69b065cc} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::\texorpdfstring{$\sim$}{\string~}\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{Optimistic\+Queue}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a018fbc7d46886ce20177bbd153e79ac2}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!clear@{clear}}
\index{clear@{clear}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a018fbc7d46886ce20177bbd153e79ac2} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::clear (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clear the stack 

The function repeatedly calls \doxylink{classcds_1_1intrusive_1_1_optimistic_queue_a0d019f8be5b356ac308ec84f08de5d09}{dequeue} until it returns {\ttfamily nullptr}. The disposer defined in template {\ttfamily Traits} is called for each item that can be safely disposed. \Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a0d019f8be5b356ac308ec84f08de5d09}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!dequeue@{dequeue}}
\index{dequeue@{dequeue}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{dequeue()}{dequeue()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a0d019f8be5b356ac308ec84f08de5d09} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::dequeue (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Dequeues a value from the queue 

\label{classcds_1_1intrusive_1_1_optimistic_queue_cds_intrusive_OptimisticQueue_dequeue}%
\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_cds_intrusive_OptimisticQueue_dequeue}%
 If the queue is empty the function returns {\ttfamily nullptr} 

\begin{DoxyParagraph}{Warning}
The queue algorithm has following feature\+: when {\ttfamily dequeue} is called, the item returning is still queue\textquotesingle{}s top, and previous top is disposed\+:
\end{DoxyParagraph}

\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \ \ before\ dequeuing\ \ \ \ \ \ \ \ \ Dequeue\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ after\ dequeuing}
\DoxyCodeLine{\ \ \ \ \ \ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/+\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/+}
\DoxyCodeLine{Top\ -\/>|\ \ \ \ \ \ Item\ 1\ \ \ \ \ \ |\ \ -\/>\ Dispose\ Item\ 1\ \ \ \ \ \ \ \ |\ \ \ \ \ \ Item\ 2\ \ \ \ \ \ |\ <-\/\ Top}
\DoxyCodeLine{\ \ \ \ \ \ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/+\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/+}
\DoxyCodeLine{\ \ \ \ \ \ |\ \ \ \ \ \ Item\ 2\ \ \ \ \ \ |\ \ -\/>\ Return\ Item\ 2\ \ \ \ \ \ \ \ \ |\ \ \ \ \ \ \ ...\ \ \ \ \ \ \ \ |}
\DoxyCodeLine{\ \ \ \ \ \ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/+}
\DoxyCodeLine{\ \ \ \ \ \ |\ \ \ \ \ \ \ ...\ \ \ \ \ \ \ \ |}

\end{DoxyCode}


{\ttfamily dequeue}() function returns Item 2, that becomes new top of queue, and calls the disposer for Item 1, that was queue\textquotesingle{}s top on function entry. Thus, you cannot manually delete item returned because it is still included in the queue and it has valuable link field that must not be zeroed. The item may be deleted only in disposer call. \Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a9fe60201ed01e096294184d39e82fb2c}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!empty@{empty}}
\index{empty@{empty}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a9fe60201ed01e096294184d39e82fb2c} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks if the queue is empty 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a581b2a0fa54132e1ab35bc5bc8a1b615}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a581b2a0fa54132e1ab35bc5bc8a1b615} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}} \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\label{classcds_1_1intrusive_1_1_optimistic_queue_cds_intrusive_OptimisticQueue_enqueue}%
\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_cds_intrusive_OptimisticQueue_enqueue}%
Enqueues {\ttfamily data} in lock-\/free manner. Always return {\itshape true} 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_abc913411b559174ffb12c8c5656767a3}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!pop@{pop}}
\index{pop@{pop}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_abc913411b559174ffb12c8c5656767a3} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::pop (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1intrusive_1_1_optimistic_queue_a0d019f8be5b356ac308ec84f08de5d09}{dequeue()}} 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_aac34c74806db31c005d3bcc0c270f4fd}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!push@{push}}
\index{push@{push}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_aac34c74806db31c005d3bcc0c270f4fd} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa697f1817f25c90a1010152777f46fbc}{value\+\_\+type}} \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1intrusive_1_1_optimistic_queue_a581b2a0fa54132e1ab35bc5bc8a1b615}{enqueue()}} 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_aa23e2988320c435caec89ccc406838b1}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!size@{size}}
\index{size@{size}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_aa23e2988320c435caec89ccc406838b1} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{\+::size}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns queue\textquotesingle{}s item count 

The value returned depends on {\ttfamily \doxylink{structcds_1_1intrusive_1_1optimistic__queue_1_1traits_a2ce1017365d8a4885daf3a4641bd8dab}{optimistic\+\_\+queue\+::traits\+::item\+\_\+counter}}. For {\ttfamily \doxylink{classcds_1_1atomicity_1_1empty__item__counter}{atomicity\+::empty\+\_\+item\+\_\+counter}}, this function always returns 0.

\begin{DoxyNote}{注解}
Even if you use real item counter and it returns 0, this fact is not mean that the queue is empty. To check queue emptyness use {\ttfamily \doxylink{classcds_1_1intrusive_1_1_optimistic_queue_a9fe60201ed01e096294184d39e82fb2c}{empty()}} method. 
\end{DoxyNote}
\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_aac475e8af1cb5edbb46568ba19e24ed6}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!statistics@{statistics}}
\index{statistics@{statistics}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{statistics()}{statistics()}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_aac475e8af1cb5edbb46568ba19e24ed6} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
const \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_ab0a5f36a50e1bb6eb0b0967281b36172}{stat}} \& \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::statistics (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns refernce to internal statistics 



\doxysubsection{类成员变量说明}
\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_abde6588d7c827355f6cb8847bd77eefd}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!c\_nHazardPtrCount@{c\_nHazardPtrCount}}
\index{c\_nHazardPtrCount@{c\_nHazardPtrCount}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{c\_nHazardPtrCount}{c\_nHazardPtrCount}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_abde6588d7c827355f6cb8847bd77eefd} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
const size\+\_\+t \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::c\+\_\+n\+Hazard\+Ptr\+Count = 5\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Count of hazard pointer required for the algorithm 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a7f5c29630e9f8ad4a2fcf2ec38234a30}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!m\_Dummy@{m\_Dummy}}
\index{m\_Dummy@{m\_Dummy}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{m\_Dummy}{m\_Dummy}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a7f5c29630e9f8ad4a2fcf2ec38234a30} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_a3e6d9838689e64360ccc71385b9bc4ff}{node\+\_\+type}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::m\+\_\+\+Dummy\hspace{0.3cm}{\ttfamily [protected]}}



dummy node 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_aa8a255684f80a81112107e476b8c18f8}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!m\_ItemCounter@{m\_ItemCounter}}
\index{m\_ItemCounter@{m\_ItemCounter}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{m\_ItemCounter}{m\_ItemCounter}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_aa8a255684f80a81112107e476b8c18f8} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_aa7ece8b167b7359e89f9099f87eccc72}{item\+\_\+counter}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::m\+\_\+\+Item\+Counter\hspace{0.3cm}{\ttfamily [protected]}}



Item counter 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a500ebcee9d400ca9586a29675807199e}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!m\_pHead@{m\_pHead}}
\index{m\_pHead@{m\_pHead}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{m\_pHead}{m\_pHead}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a500ebcee9d400ca9586a29675807199e} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
atomic\+\_\+node\+\_\+ptr \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::m\+\_\+p\+Head\hspace{0.3cm}{\ttfamily [protected]}}



Pointer to head node 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_a3f9e2ae8e4ea6593bf2136b717b2a882}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!m\_pTail@{m\_pTail}}
\index{m\_pTail@{m\_pTail}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{m\_pTail}{m\_pTail}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_a3f9e2ae8e4ea6593bf2136b717b2a882} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
atomic\+\_\+node\+\_\+ptr \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::m\+\_\+p\+Tail\hspace{0.3cm}{\ttfamily [protected]}}



Pointer to tail node 

\Hypertarget{classcds_1_1intrusive_1_1_optimistic_queue_aa488210dd73b493239b8cf896579fdf0}\index{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}!m\_Stat@{m\_Stat}}
\index{m\_Stat@{m\_Stat}!cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$@{cds::intrusive::OptimisticQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{m\_Stat}{m\_Stat}}
{\footnotesize\ttfamily \label{classcds_1_1intrusive_1_1_optimistic_queue_aa488210dd73b493239b8cf896579fdf0} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = optimistic\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue_ab0a5f36a50e1bb6eb0b0967281b36172}{stat}} \mbox{\hyperlink{classcds_1_1intrusive_1_1_optimistic_queue}{cds\+::intrusive\+::\+Optimistic\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::m\+\_\+\+Stat\hspace{0.3cm}{\ttfamily [protected]}}



Internal statistics 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/intrusive/\mbox{\hyperlink{intrusive_2optimistic__queue_8h}{optimistic\+\_\+queue.\+h}}\end{DoxyCompactItemize}
