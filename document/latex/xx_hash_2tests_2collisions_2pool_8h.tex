\doxysection{runtime/xx\+Hash/tests/collisions/pool.h 文件参考}
\hypertarget{xx_hash_2tests_2collisions_2pool_8h}{}\label{xx_hash_2tests_2collisions_2pool_8h}\index{runtime/xxHash/tests/collisions/pool.h@{runtime/xxHash/tests/collisions/pool.h}}
{\ttfamily \#include $<$stddef.\+h$>$}\newline
pool.\+h 的引用(Include)关系图\+:
% FIG 0
此图展示该文件被哪些文件直接或间接地引用了\+:
% FIG 1
\doxysubsubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_p_o_o_l__ctx__s}{POOL\+\_\+ctx\+\_\+s}} \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}}
\item 
typedef \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_a657f7753ec82fce04c212f38d9c58e61}{POOL\+\_\+function}}) (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*})
\end{DoxyCompactItemize}
\doxysubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_a05016dd101d21fdc429f76c78cdbb236}{POOL\+\_\+create}} (size\+\_\+t num\+Threads, size\+\_\+t queue\+Size)
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_aa4303d0084a4b529708500c2eb4ed341}{POOL\+\_\+free}} (\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*}ctx)
\item 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_a39fdba7fe95ecb80063409162667b017}{POOL\+\_\+resize}} (\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*}ctx, size\+\_\+t num\+Threads)
\item 
size\+\_\+t \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ab114a81745c71f639573a46542256e87}{POOL\+\_\+sizeof}} (\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*}ctx)
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_a9e76d52639b0b67a406728d425ba32d8}{POOL\+\_\+add}} (\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*}ctx, \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_a657f7753ec82fce04c212f38d9c58e61}{POOL\+\_\+function}} function, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}opaque)
\item 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_afcee4187d26bc6387494caf7fb3b59cd}{POOL\+\_\+try\+Add}} (\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*}ctx, \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_a657f7753ec82fce04c212f38d9c58e61}{POOL\+\_\+function}} function, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}opaque)
\end{DoxyCompactItemize}


\doxysubsection{类型定义说明}
\Hypertarget{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}\index{pool.h@{pool.h}!POOL\_ctx@{POOL\_ctx}}
\index{POOL\_ctx@{POOL\_ctx}!pool.h@{pool.h}}
\doxysubsubsection{\texorpdfstring{POOL\_ctx}{POOL\_ctx}}
{\footnotesize\ttfamily \label{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2} 
typedef struct \mbox{\hyperlink{struct_p_o_o_l__ctx__s}{POOL\+\_\+ctx\+\_\+s}} \mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}}}

\Hypertarget{xx_hash_2tests_2collisions_2pool_8h_a657f7753ec82fce04c212f38d9c58e61}\index{pool.h@{pool.h}!POOL\_function@{POOL\_function}}
\index{POOL\_function@{POOL\_function}!pool.h@{pool.h}}
\doxysubsubsection{\texorpdfstring{POOL\_function}{POOL\_function}}
{\footnotesize\ttfamily \label{xx_hash_2tests_2collisions_2pool_8h_a657f7753ec82fce04c212f38d9c58e61} 
typedef \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}(\texorpdfstring{$\ast$}{*} POOL\+\_\+function) (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*})}

\doxylink{xx_hash_2tests_2collisions_2pool_8h_a657f7753ec82fce04c212f38d9c58e61}{POOL\+\_\+function} \+: The function type that can be added to a thread pool. 

\doxysubsection{函数说明}
\Hypertarget{xx_hash_2tests_2collisions_2pool_8h_a9e76d52639b0b67a406728d425ba32d8}\index{pool.h@{pool.h}!POOL\_add@{POOL\_add}}
\index{POOL\_add@{POOL\_add}!pool.h@{pool.h}}
\doxysubsubsection{\texorpdfstring{POOL\_add()}{POOL\_add()}}
{\footnotesize\ttfamily \label{xx_hash_2tests_2collisions_2pool_8h_a9e76d52639b0b67a406728d425ba32d8} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} POOL\+\_\+add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*}}]{ctx}{, }\item[{\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_a657f7753ec82fce04c212f38d9c58e61}{POOL\+\_\+function}}}]{function}{, }\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{opaque}{}\end{DoxyParamCaption})}

\doxylink{xx_hash_2tests_2collisions_2pool_8h_a9e76d52639b0b67a406728d425ba32d8}{POOL\+\_\+add()} \+: Add the job {\ttfamily function(opaque)} to the thread pool. {\ttfamily ctx} must be valid. Possibly blocks until there is room in the queue. Note \+: The function may be executed asynchronously, therefore, {\ttfamily opaque} must live until function has been completed. 函数调用图\+:
% FIG 2
\Hypertarget{xx_hash_2tests_2collisions_2pool_8h_a05016dd101d21fdc429f76c78cdbb236}\index{pool.h@{pool.h}!POOL\_create@{POOL\_create}}
\index{POOL\_create@{POOL\_create}!pool.h@{pool.h}}
\doxysubsubsection{\texorpdfstring{POOL\_create()}{POOL\_create()}}
{\footnotesize\ttfamily \label{xx_hash_2tests_2collisions_2pool_8h_a05016dd101d21fdc429f76c78cdbb236} 
\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*} POOL\+\_\+create (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{num\+Threads}{, }\item[{size\+\_\+t}]{queue\+Size}{}\end{DoxyParamCaption})}

\doxylink{xx_hash_2tests_2collisions_2pool_8h_a05016dd101d21fdc429f76c78cdbb236}{POOL\+\_\+create()} \+: Create a thread pool with at most {\ttfamily num\+Threads} threads. {\ttfamily num\+Threads} must be at least 1. The maximum number of queued jobs before blocking is {\ttfamily queue\+Size}. \begin{DoxyReturn}{返回}
\+: \doxylink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx} pointer on success, else NULL. 
\end{DoxyReturn}
函数调用图\+:
% FIG 3
\Hypertarget{xx_hash_2tests_2collisions_2pool_8h_aa4303d0084a4b529708500c2eb4ed341}\index{pool.h@{pool.h}!POOL\_free@{POOL\_free}}
\index{POOL\_free@{POOL\_free}!pool.h@{pool.h}}
\doxysubsubsection{\texorpdfstring{POOL\_free()}{POOL\_free()}}
{\footnotesize\ttfamily \label{xx_hash_2tests_2collisions_2pool_8h_aa4303d0084a4b529708500c2eb4ed341} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} POOL\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*}}]{ctx}{}\end{DoxyParamCaption})}

\doxylink{xx_hash_2tests_2collisions_2pool_8h_aa4303d0084a4b529708500c2eb4ed341}{POOL\+\_\+free()} \+: Free a thread pool returned by \doxylink{xx_hash_2tests_2collisions_2pool_8h_a05016dd101d21fdc429f76c78cdbb236}{POOL\+\_\+create()}. 函数调用图\+:
% FIG 4
\Hypertarget{xx_hash_2tests_2collisions_2pool_8h_a39fdba7fe95ecb80063409162667b017}\index{pool.h@{pool.h}!POOL\_resize@{POOL\_resize}}
\index{POOL\_resize@{POOL\_resize}!pool.h@{pool.h}}
\doxysubsubsection{\texorpdfstring{POOL\_resize()}{POOL\_resize()}}
{\footnotesize\ttfamily \label{xx_hash_2tests_2collisions_2pool_8h_a39fdba7fe95ecb80063409162667b017} 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} POOL\+\_\+resize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*}}]{ctx}{, }\item[{size\+\_\+t}]{num\+Threads}{}\end{DoxyParamCaption})}

\doxylink{xx_hash_2tests_2collisions_2pool_8h_a39fdba7fe95ecb80063409162667b017}{POOL\+\_\+resize()} \+: Expands or shrinks pool\textquotesingle{}s number of threads. This is more efficient than releasing + creating a new context, since it tries to preserve and re-\/use existing threads. {\ttfamily num\+Threads} must be at least 1. \begin{DoxyReturn}{返回}
\+: 0 when resize was successful, !0 (typically 1) if there is an error. note \+: only num\+Threads can be resized, queue\+Size remains unchanged. 
\end{DoxyReturn}
函数调用图\+:
% FIG 5
\Hypertarget{xx_hash_2tests_2collisions_2pool_8h_ab114a81745c71f639573a46542256e87}\index{pool.h@{pool.h}!POOL\_sizeof@{POOL\_sizeof}}
\index{POOL\_sizeof@{POOL\_sizeof}!pool.h@{pool.h}}
\doxysubsubsection{\texorpdfstring{POOL\_sizeof()}{POOL\_sizeof()}}
{\footnotesize\ttfamily \label{xx_hash_2tests_2collisions_2pool_8h_ab114a81745c71f639573a46542256e87} 
size\+\_\+t POOL\+\_\+sizeof (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*}}]{ctx}{}\end{DoxyParamCaption})}

\doxylink{xx_hash_2tests_2collisions_2pool_8h_ab114a81745c71f639573a46542256e87}{POOL\+\_\+sizeof()} \+: \begin{DoxyReturn}{返回}
threadpool memory usage note \+: compatible with NULL (returns 0 in this case) 
\end{DoxyReturn}
\Hypertarget{xx_hash_2tests_2collisions_2pool_8h_afcee4187d26bc6387494caf7fb3b59cd}\index{pool.h@{pool.h}!POOL\_tryAdd@{POOL\_tryAdd}}
\index{POOL\_tryAdd@{POOL\_tryAdd}!pool.h@{pool.h}}
\doxysubsubsection{\texorpdfstring{POOL\_tryAdd()}{POOL\_tryAdd()}}
{\footnotesize\ttfamily \label{xx_hash_2tests_2collisions_2pool_8h_afcee4187d26bc6387494caf7fb3b59cd} 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} POOL\+\_\+try\+Add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_ace842ea9500966baa959147860dc24f2}{POOL\+\_\+ctx}} \texorpdfstring{$\ast$}{*}}]{ctx}{, }\item[{\mbox{\hyperlink{xx_hash_2tests_2collisions_2pool_8h_a657f7753ec82fce04c212f38d9c58e61}{POOL\+\_\+function}}}]{function}{, }\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{opaque}{}\end{DoxyParamCaption})}

\doxylink{xx_hash_2tests_2collisions_2pool_8h_afcee4187d26bc6387494caf7fb3b59cd}{POOL\+\_\+try\+Add()} \+: Add the job {\ttfamily function(opaque)} to thread pool {\itshape if} a worker is available. Returns immediately even if not (does not block). \begin{DoxyReturn}{返回}
\+: 1 if successful, 0 if not. 
\end{DoxyReturn}
函数调用图\+:
% FIG 6
