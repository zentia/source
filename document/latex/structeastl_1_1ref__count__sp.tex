\doxysection{eastl\+::ref\+\_\+count\+\_\+sp结构体 参考}
\hypertarget{structeastl_1_1ref__count__sp}{}\label{structeastl_1_1ref__count__sp}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}


{\ttfamily \#include $<$shared\+\_\+ptr.\+h$>$}



类 eastl\+::ref\+\_\+count\+\_\+sp 继承关系图\+:
% FIG 0


eastl\+::ref\+\_\+count\+\_\+sp 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structeastl_1_1ref__count__sp_abf8fd436194b731a1c8bf1b7de56e270}{ref\+\_\+count\+\_\+sp}} (\mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}} ref\+Count=1, \mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}} weak\+Ref\+Count=1) \mbox{\hyperlink{config_8h_a9f2560a8b4ca5ee60cc60934601d3bef}{EA\+\_\+\+NOEXCEPT}}
\begin{DoxyCompactList}\small\item\em Reference count on contained pointer plus this \doxylink{structeastl_1_1ref__count__sp}{ref\+\_\+count\+\_\+sp} object itself. Starts as 1 by default. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structeastl_1_1ref__count__sp_a38e948ea56c183ca1c557e6ae6202890}{\texorpdfstring{$\sim$}{\string~}ref\+\_\+count\+\_\+sp}} () \mbox{\hyperlink{config_8h_a9f2560a8b4ca5ee60cc60934601d3bef}{EA\+\_\+\+NOEXCEPT}}
\item 
\mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}} \mbox{\hyperlink{structeastl_1_1ref__count__sp_a3d6e10cd206d70dfe647fd39d77015d0}{use\+\_\+count}} () const \mbox{\hyperlink{config_8h_a9f2560a8b4ca5ee60cc60934601d3bef}{EA\+\_\+\+NOEXCEPT}}
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{structeastl_1_1ref__count__sp_a6fe8300fbd563e3b44948472914be3a7}{addref}} () \mbox{\hyperlink{config_8h_a9f2560a8b4ca5ee60cc60934601d3bef}{EA\+\_\+\+NOEXCEPT}}
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{structeastl_1_1ref__count__sp_adf7147df170003310261c6d8beb8dafb}{release}} ()
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{structeastl_1_1ref__count__sp_a392ef956553697b0e5ab4c4ba784a923}{weak\+\_\+addref}} () \mbox{\hyperlink{config_8h_a9f2560a8b4ca5ee60cc60934601d3bef}{EA\+\_\+\+NOEXCEPT}}
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{structeastl_1_1ref__count__sp_ad7d22f8f8cbfeddd2d2cba9bcf250eab}{weak\+\_\+release}} ()
\item 
\mbox{\hyperlink{structeastl_1_1ref__count__sp}{ref\+\_\+count\+\_\+sp}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structeastl_1_1ref__count__sp_aec04b6de0f184951d28e47bfb9f85f06}{lock}} () \mbox{\hyperlink{config_8h_a9f2560a8b4ca5ee60cc60934601d3bef}{EA\+\_\+\+NOEXCEPT}}
\item 
virtual \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{structeastl_1_1ref__count__sp_a06c189c97ca80995e2b26d68fe61a7ef}{free\+\_\+value}} () \mbox{\hyperlink{config_8h_a9f2560a8b4ca5ee60cc60934601d3bef}{EA\+\_\+\+NOEXCEPT}}=0
\item 
virtual \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{structeastl_1_1ref__count__sp_aebb58f18548f7fb6de5f3e0ff0567d07}{free\+\_\+ref\+\_\+count\+\_\+sp}} () \mbox{\hyperlink{config_8h_a9f2560a8b4ca5ee60cc60934601d3bef}{EA\+\_\+\+NOEXCEPT}}=0
\item 
virtual \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structeastl_1_1ref__count__sp_a945a6af71b8f9aa721f42adbb7b9655a}{get\+\_\+deleter}} () const \mbox{\hyperlink{config_8h_a9f2560a8b4ca5ee60cc60934601d3bef}{EA\+\_\+\+NOEXCEPT}}=0
\end{DoxyCompactItemize}
\doxysubsubsection*{Public 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structeastl_1_1atomic}{atomic}}$<$ \mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}} $>$ \mbox{\hyperlink{structeastl_1_1ref__count__sp_a65646c7c29b4acde84ce830a43ca7278}{m\+Ref\+Count}}
\item 
\mbox{\hyperlink{structeastl_1_1atomic}{atomic}}$<$ \mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}} $>$ \mbox{\hyperlink{structeastl_1_1ref__count__sp_a23b7c2f35f16cb1e762608ba0715859c}{m\+Weak\+Ref\+Count}}
\begin{DoxyCompactList}\small\item\em Reference count on the contained pointer. Starts as 1 by default. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\doxylink{structeastl_1_1ref__count__sp}{ref\+\_\+count\+\_\+sp}

This is a small utility class used by \doxylink{classeastl_1_1shared__ptr}{shared\+\_\+ptr} and \doxylink{classeastl_1_1weak__ptr}{weak\+\_\+ptr}. 

\doxysubsection{构造及析构函数说明}
\Hypertarget{structeastl_1_1ref__count__sp_abf8fd436194b731a1c8bf1b7de56e270}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!ref\_count\_sp@{ref\_count\_sp}}
\index{ref\_count\_sp@{ref\_count\_sp}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{ref\_count\_sp()}{ref\_count\_sp()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_abf8fd436194b731a1c8bf1b7de56e270} 
eastl\+::ref\+\_\+count\+\_\+sp\+::ref\+\_\+count\+\_\+sp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}}}]{ref\+Count}{ = {\ttfamily 1}, }\item[{\mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}}}]{weak\+Ref\+Count}{ = {\ttfamily 1}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Reference count on contained pointer plus this \doxylink{structeastl_1_1ref__count__sp}{ref\+\_\+count\+\_\+sp} object itself. Starts as 1 by default. 

\Hypertarget{structeastl_1_1ref__count__sp_a38e948ea56c183ca1c557e6ae6202890}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!````~ref\_count\_sp@{\texorpdfstring{$\sim$}{\string~}ref\_count\_sp}}
\index{````~ref\_count\_sp@{\texorpdfstring{$\sim$}{\string~}ref\_count\_sp}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}ref\_count\_sp()}{\string~ref\_count\_sp()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_a38e948ea56c183ca1c557e6ae6202890} 
virtual eastl\+::ref\+\_\+count\+\_\+sp\+::\texorpdfstring{$\sim$}{\string~}ref\+\_\+count\+\_\+sp (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

函数调用图\+:
% FIG 2


\doxysubsection{成员函数说明}
\Hypertarget{structeastl_1_1ref__count__sp_a6fe8300fbd563e3b44948472914be3a7}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!addref@{addref}}
\index{addref@{addref}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{addref()}{addref()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_a6fe8300fbd563e3b44948472914be3a7} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} eastl\+::ref\+\_\+count\+\_\+sp\+::addref (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{structeastl_1_1ref__count__sp_aebb58f18548f7fb6de5f3e0ff0567d07}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!free\_ref\_count\_sp@{free\_ref\_count\_sp}}
\index{free\_ref\_count\_sp@{free\_ref\_count\_sp}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{free\_ref\_count\_sp()}{free\_ref\_count\_sp()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_aebb58f18548f7fb6de5f3e0ff0567d07} 
virtual \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} eastl\+::ref\+\_\+count\+\_\+sp\+::free\+\_\+ref\+\_\+count\+\_\+sp (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classeastl_1_1ref__count__sp__t_acdd5e9fc7c1c4d424c1a7bb778f42836}{eastl\+::ref\+\_\+count\+\_\+sp\+\_\+t$<$ T, Allocator, Deleter $>$}} , 以及 \mbox{\hyperlink{classeastl_1_1ref__count__sp__t__inst_a2ca9ecd9fbeabf9ce28ecbc14155dd56}{eastl\+::ref\+\_\+count\+\_\+sp\+\_\+t\+\_\+inst$<$ T, Allocator $>$}} 内被实现.

函数调用图\+:
% FIG 3
\Hypertarget{structeastl_1_1ref__count__sp_a06c189c97ca80995e2b26d68fe61a7ef}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!free\_value@{free\_value}}
\index{free\_value@{free\_value}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{free\_value()}{free\_value()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_a06c189c97ca80995e2b26d68fe61a7ef} 
virtual \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} eastl\+::ref\+\_\+count\+\_\+sp\+::free\+\_\+value (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classeastl_1_1ref__count__sp__t_a892a4b7e1fa3a2f04953f6e05690465f}{eastl\+::ref\+\_\+count\+\_\+sp\+\_\+t$<$ T, Allocator, Deleter $>$}} , 以及 \mbox{\hyperlink{classeastl_1_1ref__count__sp__t__inst_af42d0945fd3b04826055d9dadb9322a8}{eastl\+::ref\+\_\+count\+\_\+sp\+\_\+t\+\_\+inst$<$ T, Allocator $>$}} 内被实现.

函数调用图\+:
% FIG 4
\Hypertarget{structeastl_1_1ref__count__sp_a945a6af71b8f9aa721f42adbb7b9655a}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!get\_deleter@{get\_deleter}}
\index{get\_deleter@{get\_deleter}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{get\_deleter()}{get\_deleter()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_a945a6af71b8f9aa721f42adbb7b9655a} 
virtual \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*} eastl\+::ref\+\_\+count\+\_\+sp\+::get\+\_\+deleter (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classeastl_1_1ref__count__sp__t_a50b8904b6861fc0c2877d27b5c519ca4}{eastl\+::ref\+\_\+count\+\_\+sp\+\_\+t$<$ T, Allocator, Deleter $>$}} , 以及 \mbox{\hyperlink{classeastl_1_1ref__count__sp__t__inst_aa303918eea1ef153ed27888a0839848e}{eastl\+::ref\+\_\+count\+\_\+sp\+\_\+t\+\_\+inst$<$ T, Allocator $>$}} 内被实现.

\Hypertarget{structeastl_1_1ref__count__sp_aec04b6de0f184951d28e47bfb9f85f06}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!lock@{lock}}
\index{lock@{lock}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{lock()}{lock()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_aec04b6de0f184951d28e47bfb9f85f06} 
\mbox{\hyperlink{structeastl_1_1ref__count__sp}{ref\+\_\+count\+\_\+sp}} \texorpdfstring{$\ast$}{*} eastl\+::ref\+\_\+count\+\_\+sp\+::lock (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:
% FIG 5
\Hypertarget{structeastl_1_1ref__count__sp_adf7147df170003310261c6d8beb8dafb}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!release@{release}}
\index{release@{release}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{release()}{release()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_adf7147df170003310261c6d8beb8dafb} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} eastl\+::ref\+\_\+count\+\_\+sp\+::release (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:
% FIG 6
\Hypertarget{structeastl_1_1ref__count__sp_a3d6e10cd206d70dfe647fd39d77015d0}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!use\_count@{use\_count}}
\index{use\_count@{use\_count}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{use\_count()}{use\_count()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_a3d6e10cd206d70dfe647fd39d77015d0} 
\mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}} eastl\+::ref\+\_\+count\+\_\+sp\+::use\+\_\+count (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{structeastl_1_1ref__count__sp_a392ef956553697b0e5ab4c4ba784a923}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!weak\_addref@{weak\_addref}}
\index{weak\_addref@{weak\_addref}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{weak\_addref()}{weak\_addref()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_a392ef956553697b0e5ab4c4ba784a923} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} eastl\+::ref\+\_\+count\+\_\+sp\+::weak\+\_\+addref (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{structeastl_1_1ref__count__sp_ad7d22f8f8cbfeddd2d2cba9bcf250eab}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!weak\_release@{weak\_release}}
\index{weak\_release@{weak\_release}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{weak\_release()}{weak\_release()}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_ad7d22f8f8cbfeddd2d2cba9bcf250eab} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} eastl\+::ref\+\_\+count\+\_\+sp\+::weak\+\_\+release (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:
% FIG 7


\doxysubsection{类成员变量说明}
\Hypertarget{structeastl_1_1ref__count__sp_a65646c7c29b4acde84ce830a43ca7278}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!mRefCount@{mRefCount}}
\index{mRefCount@{mRefCount}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{mRefCount}{mRefCount}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_a65646c7c29b4acde84ce830a43ca7278} 
\mbox{\hyperlink{structeastl_1_1atomic}{atomic}}$<$\mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}}$>$ eastl\+::ref\+\_\+count\+\_\+sp\+::m\+Ref\+Count}

\Hypertarget{structeastl_1_1ref__count__sp_a23b7c2f35f16cb1e762608ba0715859c}\index{eastl::ref\_count\_sp@{eastl::ref\_count\_sp}!mWeakRefCount@{mWeakRefCount}}
\index{mWeakRefCount@{mWeakRefCount}!eastl::ref\_count\_sp@{eastl::ref\_count\_sp}}
\doxysubsubsection{\texorpdfstring{mWeakRefCount}{mWeakRefCount}}
{\footnotesize\ttfamily \label{structeastl_1_1ref__count__sp_a23b7c2f35f16cb1e762608ba0715859c} 
\mbox{\hyperlink{structeastl_1_1atomic}{atomic}}$<$\mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}}$>$ eastl\+::ref\+\_\+count\+\_\+sp\+::m\+Weak\+Ref\+Count}



Reference count on the contained pointer. Starts as 1 by default. 



该结构体的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
runtime/\+EASTL/include/\+EASTL/\mbox{\hyperlink{shared__ptr_8h}{shared\+\_\+ptr.\+h}}\end{DoxyCompactItemize}
