\doxysection{window\+\_\+module.\+h}
\hypertarget{window__module_8h_source}{}\label{window__module_8h_source}\index{module/window/window\_module.h@{module/window/window\_module.h}}
\mbox{\hyperlink{window__module_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#define\ GLFW\_INCLUDE\_VULKAN}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <GLFW/glfw3.h>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <glm/vec2.hpp>}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\#include\ <luisa/gui/imgui\_window.h>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesource__module_1_1window}{source\_module::window}}}
\DoxyCodeLine{00010\ \{}
\DoxyCodeLine{00011\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsource__module_1_1window_1_1window__create__info}{window\_create\_info}}}
\DoxyCodeLine{00012\ \ \ \ \ \{}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structsource__module_1_1window_1_1window__create__info_a77596712505270d59cb760ee76b523db}{width}}\{\ 1280\ \};}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structsource__module_1_1window_1_1window__create__info_ac971389a880efc7bd2dd8cecc4bf7e89}{height}}\{\ 720\ \};}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{structsource__module_1_1window_1_1window__create__info_ad8f82102c7c69454463d63a6fc0bfbf7}{title}}\{\ \textcolor{stringliteral}{"{}Source"{}}\ \};}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structsource__module_1_1window_1_1window__create__info_a2b781c183616acd8ec0ad57f15fd0ad0}{isFullscreen}}\{\ \textcolor{keyword}{false}\ \};}
\DoxyCodeLine{00017\ \ \ \ \ \};}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a4a3275210f7e5450e217b0ccfb89faf8}{window\_module}}\ \textcolor{comment}{//:\ public\ luisa::compute::ImGuiWindow}}
\DoxyCodeLine{00020\ \ \ \ \ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a4a3275210f7e5450e217b0ccfb89faf8}{window\_module}}(\textcolor{comment}{/*luisa::compute::Device\ \&device,\ luisa::compute::Stream\ \&stream*/});}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_aae777acc49cf04c13e508df6e3498d7a}{\string~window\_module}}();}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a6ed3d2ce92518c02d2cd01cc3143d53e}{initialize}}(\mbox{\hyperlink{structsource__module_1_1window_1_1window__create__info}{window\_create\_info}}\ createInfo);}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a66d79657a16b5651305351e2bda6fcf1}{should\_close}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a3448203e49006a23aae34af429a728d9}{set\_should\_close}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a2c89e37b17aed21c84919df9995ec100}{set\_title}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ title)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__window_ga3c96d80d363e67d13a41b5d1821f3242}{GLFWwindow}}*\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a2e23ac63b96703151326c570cdede2e8}{get\_window}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ glm::vec2\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a214bcc8649eb18bea6682085dfd9b6e0}{get\_window\_size}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a0eedbd35edfd6ce23e7c803d7e7d6791}{poll\_events}}();}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}()>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a6cc68e6505cf3c84e6e2557d1d2443f5}{OnResetFunc}};}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keywordtype}{int},\ \textcolor{keywordtype}{int},\ \textcolor{keywordtype}{int},\ \textcolor{keywordtype}{int})>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a8c2f2860754a68f37d53b210bbe439bd}{OnKeyFunc}};}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a693218975f70b8e1e8558ceeb76417e7}{OnCharFunc}};}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keywordtype}{int},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a016dea010ebf3354dda0bb0163343662}{OnCharModsFunc}};}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keywordtype}{int},\ \textcolor{keywordtype}{int},\ \textcolor{keywordtype}{int})>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a3df1f522e81d88a5a1a0f51100dba40b}{OnMouseButtonFunc}};}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keywordtype}{double},\ \textcolor{keywordtype}{double})>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_aa7132431a03e6136c1feacff576e152e}{OnCursorPosFunc}};}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keywordtype}{int})>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_abbb96ae799aeab8b91a60d4f3c6c644f}{OnCursorEnterFunc}};}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keywordtype}{double},\ \textcolor{keywordtype}{double})>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_aa35816febaacea4f17f0da0110dbe8c8}{OnScrollFunc}};}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keywordtype}{int},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}**)>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a399ac97e96a109d65091829d908bdf53}{OnDropFunc}};}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keywordtype}{int},\ \textcolor{keywordtype}{int})>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a80891fbe8d9d858118717591144151a9}{OnWindowSizeFunc}};}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}()>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_ae05f046a953ab88da8a0dbab9a817661}{OnWindowCloseFunc}};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a9609fd374d696ac6486c4b77523cbbe3}{RegisterOnResetFunc}}(\mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a6cc68e6505cf3c84e6e2557d1d2443f5}{OnResetFunc}}\ \mbox{\hyperlink{structfunc}{func}})\ \{\}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_ac0443e2eba10c6da6a70aa80e96089fa}{IsMouseButtonDown}}(\textcolor{keywordtype}{int}\ button)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00048\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (button\ <\ GLFW\_MOUSE\_BUTTON\_1\ ||\ button\ >\ \mbox{\hyperlink{group__buttons_gab1fd86a4518a9141ec7bcde2e15a2fdf}{GLFW\_MOUSE\_BUTTON\_LAST}})}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__input_ga6da5efb04f700c312a57a169fa9393a0}{glfwGetMouseButton}}(\mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a384990d6a62b00bafce6fefd9f31daa5}{m\_window\_}},\ button)\ ==\ \mbox{\hyperlink{group__input_ga2485743d0b59df3791c45951c4195265}{GLFW\_PRESS}};}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ window\ event\ callbacks}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a65195a7aeec0bc4a7d908816e4ea6c1f}{key\_callback}}(\mbox{\hyperlink{group__window_ga3c96d80d363e67d13a41b5d1821f3242}{GLFWwindow}}*\ \mbox{\hyperlink{namespacesource__module_1_1window}{window}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ \textcolor{keywordtype}{int}\ scancode,\ \textcolor{keywordtype}{int}\ action,\ \textcolor{keywordtype}{int}\ mods)}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a4a3275210f7e5450e217b0ccfb89faf8}{window\_module}}*\ app\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a4a3275210f7e5450e217b0ccfb89faf8}{window\_module}}*\textcolor{keyword}{>}(\mbox{\hyperlink{group__window_gad07c1ae8809c4f47e55ad8cc3f60e794}{glfwGetWindowUserPointer}}(\mbox{\hyperlink{namespacesource__module_1_1window}{window}})))}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ app-\/>on\_key(\mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ scancode,\ action,\ mods);}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a3cddc5f7479e8ec0ed16fb14703d0908}{on\_key}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ \textcolor{keywordtype}{int}\ scancode,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ action,\ \textcolor{keywordtype}{int}\ mods)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00065\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ \mbox{\hyperlink{structfunc}{func}}\ :\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_aa6374a40e398d1cf17c537b6ea7e1696}{m\_on\_key\_func\_}})}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{benchmarks_2async__task_2async__task_8hpp_abce53bb5cc1ee70cdc013fd9b93547eb}{func}}(\mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ scancode,\ action,\ mods);}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__window_ga3c96d80d363e67d13a41b5d1821f3242}{GLFWwindow}}*\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a384990d6a62b00bafce6fefd9f31daa5}{m\_window\_}}\{\ \textcolor{keyword}{nullptr}\ \};}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a6b68a86526954c201adf02f0faf418bd}{m\_width\_}}\{\ 0\ \};}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_a56e88b76bc46d5cc2c432f4b58b511df}{m\_height\_}}\{\ 0\ \};}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ std::vector<OnKeyFunc>\ \mbox{\hyperlink{classsource__module_1_1window_1_1window__module_aa6374a40e398d1cf17c537b6ea7e1696}{m\_on\_key\_func\_}};}
\DoxyCodeLine{00074\ \ \ \ \ \};}
\DoxyCodeLine{00075\ \}}

\end{DoxyCode}
