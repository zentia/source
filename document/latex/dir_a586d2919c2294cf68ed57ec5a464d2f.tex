\doxysection{external/taskflow 目录参考}
\hypertarget{dir_a586d2919c2294cf68ed57ec5a464d2f}{}\label{dir_a586d2919c2294cf68ed57ec5a464d2f}\index{external/taskflow 目录参考@{external/taskflow 目录参考}}


root taskflow include dir  


taskflow 的目录依赖关系图
% FIG 0
\doxysubsubsection*{目录}
\begin{DoxyCompactItemize}
\item 
目录 \mbox{\hyperlink{dir_8a551ad5ddcada96b3faa8407baf5b5b}{3rd-\/party}}
\item 
目录 \mbox{\hyperlink{dir_4bffbfcfd2f11ad91688b45922c5a4ae}{benchmarks}}
\item 
目录 \mbox{\hyperlink{dir_56e2c1c47c3f6dd7693de5e2667e6bae}{doxygen}}
\item 
目录 \mbox{\hyperlink{dir_6d5349e18c0281e1908ab3d777aa29a2}{examples}}
\item 
目录 \mbox{\hyperlink{dir_5836e2e327f6d0ab2eb4a18ddb2b9f1d}{image}}
\item 
目录 \mbox{\hyperlink{dir_4e7b7f50873fa082c47e16cba185e362}{sandbox}}
\item 
目录 \mbox{\hyperlink{dir_335c31d98076110d53a13c1a0e3daa75}{taskflow}}
\item 
目录 \mbox{\hyperlink{dir_ce0ec3e83f64cbc14d361170f632d7cc}{tfprof}}
\item 
目录 \mbox{\hyperlink{dir_1fcfd8aef1dfb3242214a637b555cf6c}{unittests}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
root taskflow include dir 

\href{https://github.com/taskflow/taskflow/actions?query=workflow\%3AUbuntu}{\texttt{ }} \href{https://github.com/taskflow/taskflow/actions?query=workflow\%3AmacOS}{\texttt{ }} \href{https://github.com/taskflow/taskflow/actions?query=workflow\%3AWindows}{\texttt{ }} \href{https://taskflow.github.io/taskflow/index.html}{\texttt{ }} \href{https://taskflow.github.io/tfprof/}{\texttt{ }} \href{https://tsung-wei-huang.github.io/papers/tpds21-taskflow.pdf}{\texttt{ }}

Taskflow helps you quickly write parallel and heterogeneous task programs in modern C++\hypertarget{README.md_autotoc_md1325}{}\doxysubsection{\texorpdfstring{Why Taskflow?}{Why Taskflow?}}\label{README.md_autotoc_md1325}
Taskflow is faster, more expressive, and easier for drop-\/in integration than many of existing task programming frameworks in handling complex parallel workloads.



Taskflow lets you quickly implement task decomposition strategies that incorporate both regular and irregular compute patterns, together with an efficient {\itshape work-\/stealing} scheduler to optimize your multithreaded performance.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Static Tasking   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Subflow Tasking    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Static Tasking   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Subflow Tasking    }\\\cline{1-2}
\endhead
\PBS\centering    &\PBS\centering    \\\cline{1-2}
\end{longtabu}


Taskflow supports conditional tasking for you to make rapid control-\/flow decisions across dependent tasks to implement cycles and conditions that were otherwise difficult to do with existing tools.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{1}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Conditional Tasking    }\\\cline{1-1}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Conditional Tasking    }\\\cline{1-1}
\endhead
\PBS\centering    \\\cline{1-1}
\end{longtabu}


Taskflow is composable. You can create large parallel graphs through composition of modular and reusable blocks that are easier to optimize at an individual scope.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{1}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Taskflow Composition    }\\\cline{1-1}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Taskflow Composition    }\\\cline{1-1}
\endhead
\PBS\centering    \\\cline{1-1}
\end{longtabu}


Taskflow supports heterogeneous tasking for you to accelerate a wide range of scientific computing applications by harnessing the power of CPU-\/\+GPU collaborative computing.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{1}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Concurrent CPU-\/\+GPU Tasking    }\\\cline{1-1}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Concurrent CPU-\/\+GPU Tasking    }\\\cline{1-1}
\endhead
\PBS\centering    \\\cline{1-1}
\end{longtabu}


Taskflow provides visualization and tooling needed for profiling Taskflow programs.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{1}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ \href{https://taskflow.github.io/tfprof}{\texttt{ Taskflow Profiler}}    }\\\cline{1-1}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ \href{https://taskflow.github.io/tfprof}{\texttt{ Taskflow Profiler}}    }\\\cline{1-1}
\endhead
\PBS\centering    \\\cline{1-1}
\end{longtabu}


We are committed to support trustworthy developments for both academic and industrial research projects in parallel computing. \doxylink{struct_check}{Check} out \href{https://taskflow.github.io/\#tag_users}{\texttt{ Who is Using Taskflow}} and what our users say\+:


\begin{DoxyItemize}
\item \texorpdfstring{$\ast$}{*}"{}\+Taskflow is the cleanest Task API I\textquotesingle{}ve ever seen."{} \href{http://coreliuminc.com}{\texttt{ Damien Hocking @\+Corelium Inc}}\texorpdfstring{$\ast$}{*}
\item {\itshape "{}\+Taskflow has a very simple and elegant tasking interface. The performance also scales very well."{} \href{https://github.com/totalgee}{\texttt{ Glen Fraser}}}
\item \texorpdfstring{$\ast$}{*}"{}\+Taskflow lets me handle parallel processing in a smart way."{} \href{https://cpp-learning.com/cpp-taskflow/}{\texttt{ Hayabusa @\+Learning}}\texorpdfstring{$\ast$}{*}
\item \texorpdfstring{$\ast$}{*}"{}\+Taskflow improves the throughput of our graph engine in just a few hours of coding."{} \href{https://ossia.io/}{\texttt{ Jean-\/\+Michaël @\+KDAB}}\texorpdfstring{$\ast$}{*}
\item {\itshape "{}\+Best poster award for open-\/source parallel programming library."{} \href{https://github.com/CppCon/CppCon2018}{\texttt{ Cpp Conference 2018}}}
\item {\itshape "{}\+Second Prize of Open-\/source Software Competition."{} \href{https://tsung-wei-huang.github.io/img/mm19-ossc-award.jpg}{\texttt{ ACM Multimedia Conference 2019}}}
\end{DoxyItemize}

See a quick \href{https://taskflow.github.io/}{\texttt{ presentation}} and visit the \href{https://taskflow.github.io/taskflow/index.html}{\texttt{ documentation}} to learn more about Taskflow. Technical details can be referred to our \mbox{[}IEEE TPDS paper\mbox{]}\mbox{[}TPDS21\mbox{]}.\hypertarget{README.md_autotoc_md1326}{}\doxysubsection{\texorpdfstring{Start Your First Taskflow Program}{Start Your First Taskflow Program}}\label{README.md_autotoc_md1326}
The following program ({\ttfamily \doxylink{simple_8cpp}{simple.\+cpp}}) creates four tasks {\ttfamily \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}, {\ttfamily \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, {\ttfamily C}, and {\ttfamily D}, where {\ttfamily \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}} runs before {\ttfamily \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} and {\ttfamily C}, and {\ttfamily D} runs after {\ttfamily \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} and {\ttfamily C}. When {\ttfamily \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}} finishes, {\ttfamily \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} and {\ttfamily C} can run in parallel. Try it live on \href{https://godbolt.org/z/j8hx3xnnx}{\texttt{ Compiler Explorer (godbolt)}}!


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{taskflow_8hpp}{taskflow/taskflow.hpp}}>}\ \ \textcolor{comment}{//\ Taskflow\ is\ header-\/only}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{main-override-static_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}}()\{}
\DoxyCodeLine{\ \ }
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1_executor}{tf::Executor}}\ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}};}
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1_taskflow}{tf::Taskflow}}\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{keyword}{auto}\ [\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}},\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}]\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace(\ \ \textcolor{comment}{//\ create\ four\ tasks}}
\DoxyCodeLine{\ \ \ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}TaskA\(\backslash\)n"{}};\ \},}
\DoxyCodeLine{\ \ \ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}TaskB\(\backslash\)n"{}};\ \},}
\DoxyCodeLine{\ \ \ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}TaskC\(\backslash\)n"{}};\ \},}
\DoxyCodeLine{\ \ \ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}TaskD\(\backslash\)n"{}};\ \}\ }
\DoxyCodeLine{\ \ );\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.precede(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}});\ \ \textcolor{comment}{//\ A\ runs\ before\ B\ and\ C}}
\DoxyCodeLine{\ \ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}.succeed(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}});\ \ \textcolor{comment}{//\ D\ runs\ after\ \ B\ and\ C}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.run(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();\ }
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCode}


Taskflow is {\itshape header-\/only} and there is no wrangle with installation. To compile the program, clone the Taskflow project and tell the compiler to include the \href{./taskflow/}{\texttt{ headers}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\string~\$\ git\ clone\ https://github.com/taskflow/taskflow.git\ \ \#\ clone\ it\ only\ once}
\DoxyCodeLine{\string~\$\ g++\ -\/std=c++20\ examples/simple.cpp\ -\/I.\ -\/O2\ -\/pthread\ -\/o\ simple}
\DoxyCodeLine{\string~\$\ ./simple}
\DoxyCodeLine{TaskA}
\DoxyCodeLine{TaskC\ }
\DoxyCodeLine{TaskB\ }
\DoxyCodeLine{TaskD}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1327}{}\doxysubsection{\texorpdfstring{Visualize Your First Taskflow Program}{Visualize Your First Taskflow Program}}\label{README.md_autotoc_md1327}
Taskflow comes with a built-\/in profiler, \href{https://taskflow.github.io/tfprof/}{\texttt{ TFProf}}, for you to profile and visualize taskflow programs in an easy-\/to-\/use web-\/based interface.




\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ run\ the\ program\ with\ the\ environment\ variable\ TF\_ENABLE\_PROFILER\ enabled}
\DoxyCodeLine{\string~\$\ TF\_ENABLE\_PROFILER=simple.json\ ./simple}
\DoxyCodeLine{\string~\$\ cat\ simple.json}
\DoxyCodeLine{[}
\DoxyCodeLine{\{"{}executor"{}:"{}0"{},"{}data"{}:[\{"{}worker"{}:0,"{}level"{}:0,"{}data"{}:[\{"{}span"{}:[172,186],"{}name"{}:"{}0\_0"{},"{}type"{}:"{}static"{}\},\{"{}span"{}:[187,189],"{}name"{}:"{}0\_1"{},"{}type"{}:"{}static"{}\}]\},\{"{}worker"{}:2,"{}level"{}:0,"{}data"{}:[\{"{}span"{}:[93,164],"{}name"{}:"{}2\_0"{},"{}type"{}:"{}static"{}\},\{"{}span"{}:[170,179],"{}name"{}:"{}2\_1"{},"{}type"{}:"{}static"{}\}]\}]\}}
\DoxyCodeLine{]}
\DoxyCodeLine{\#\ paste\ the\ profiling\ json\ data\ to\ https://taskflow.github.io/tfprof/}

\end{DoxyCode}


In addition to execution diagram, you can dump the graph to a DOT format and visualize it using a number of free \href{https://www.graphviz.org/}{\texttt{ Graph\+Viz}} tools.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ dump\ the\ taskflow\ graph\ to\ a\ DOT\ format\ through\ std::cout}
\DoxyCodeLine{taskflow.dump(std::cout);\ }

\end{DoxyCode}


\hypertarget{README.md_autotoc_md1328}{}\doxysubsection{\texorpdfstring{Express Task Graph Parallelism}{Express Task Graph Parallelism}}\label{README.md_autotoc_md1328}
Taskflow empowers users with both static and dynamic task graph constructions to express end-\/to-\/end parallelism in a task graph that embeds in-\/graph control flow.


\begin{DoxyEnumerate}
\item Create a Subflow Graph
\item Integrate Control Flow to a Task Graph
\item Offload a Task to a GPU
\item Compose Task Graphs
\item Launch Asynchronous Tasks
\item Execute a Taskflow
\item Leverage Standard Parallel Algorithms
\end{DoxyEnumerate}\hypertarget{README.md_autotoc_md1329}{}\doxysubsubsection{\texorpdfstring{Create a Subflow Graph}{Create a Subflow Graph}}\label{README.md_autotoc_md1329}
Taskflow supports {\itshape dynamic tasking} for you to create a subflow graph from the execution of a task to perform dynamic parallelism. The following program spawns a task dependency graph parented at task {\ttfamily \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\}).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}A"{}});\ \ }
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\}).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}C"{}});\ \ }
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\}).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}D"{}});\ \ }
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]\ (\mbox{\hyperlink{classtf_1_1_subflow}{tf::Subflow}}\&\ subflow)\ \{\ }
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ B1\ =\ subflow.\mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}}([]()\{\}).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}B1"{}});\ \ }
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ \mbox{\hyperlink{namespace_p_a58c370cdedae1bcbf19bcdc9d7a8d583}{B2}}\ =\ subflow.\mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}}([]()\{\}).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}B2"{}});\ \ }
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ \mbox{\hyperlink{namespace_p_ab399e249b5a6d9c560c81efee6ab527a}{B3}}\ =\ subflow.\mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}}([]()\{\}).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}B3"{}});\ \ }
\DoxyCodeLine{\ \ \mbox{\hyperlink{namespace_p_ab399e249b5a6d9c560c81efee6ab527a}{B3}}.succeed(B1,\ B2);\ \ \textcolor{comment}{//\ B3\ runs\ after\ B1\ and\ B2}}
\DoxyCodeLine{\}).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}B"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.precede(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}});\ \ \textcolor{comment}{//\ A\ runs\ before\ B\ and\ C}}
\DoxyCodeLine{\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}.succeed(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}});\ \ \textcolor{comment}{//\ D\ runs\ after\ \ B\ and\ C}}

\end{DoxyCode}


\hypertarget{README.md_autotoc_md1330}{}\doxysubsubsection{\texorpdfstring{Integrate Control Flow to a Task Graph}{Integrate Control Flow to a Task Graph}}\label{README.md_autotoc_md1330}
Taskflow supports {\itshape conditional tasking} for you to make rapid control-\/flow decisions across dependent tasks to implement cycles and conditions in an {\itshape end-\/to-\/end} task graph.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ \mbox{\hyperlink{structinit}{init}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\}).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}init"{}});}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ stop\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\}).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}stop"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ creates\ a\ condition\ task\ that\ returns\ a\ random\ binary}}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ cond\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace(}
\DoxyCodeLine{\ \ []()\{\ \textcolor{keywordflow}{return}\ std::rand()\ \%\ 2;\ \}}
\DoxyCodeLine{).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}cond"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{structinit}{init}}.precede(cond);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ creates\ a\ feedback\ loop\ \{0:\ cond,\ 1:\ stop\}}}
\DoxyCodeLine{cond.\mbox{\hyperlink{classtf_1_1_task_a8c78c453295a553c1c016e4062da8588}{precede}}(cond,\ stop);}

\end{DoxyCode}


\hypertarget{README.md_autotoc_md1331}{}\doxysubsubsection{\texorpdfstring{Offload a Task to a GPU}{Offload a Task to a GPU}}\label{README.md_autotoc_md1331}
Taskflow supports GPU tasking for you to accelerate a wide range of scientific computing applications by harnessing the power of CPU-\/\+GPU collaborative computing using CUDA.


\begin{DoxyCode}{0}
\DoxyCodeLine{\_\_global\_\_\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{bench_2btl_2libs_2_b_l_a_s_2blas_8h_ad53e5aed16187a6bb50b8aa5f24cca8b}{saxpy}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}},\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a090ebe65994a3ee4bb60ae3472abffc5}{alpha}},\ \textcolor{keywordtype}{float}*\ dx,\ \textcolor{keywordtype}{float}*\ dy)\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ \mbox{\hyperlink{cuda__common_8h_ab30e5f6958c9264d3c5235d463eb2b57}{blockIdx}}.x*\mbox{\hyperlink{cuda__common_8h_a1a2cdcc50d7e1505a058c5832ebe5702}{blockDim}}.x\ +\ \mbox{\hyperlink{cuda__common_8h_a0a680a9519f7aaccce02a4bb4c0a0b52}{threadIdx}}.x;}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}*\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ +\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ cudaflow\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([\&](\mbox{\hyperlink{classtf_1_1cuda_flow}{tf::cudaFlow}}\&\ cf)\ \{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ data\ copy\ tasks}}
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1cuda_task}{tf::cudaTask}}\ h2d\_x\ =\ cf.\mbox{\hyperlink{classtf_1_1cuda_graph_base_a02a041d5dd9e1e8958eb43e09331051e}{copy}}(dx,\ hx.data(),\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}).name(\textcolor{stringliteral}{"{}h2d\_x"{}});}
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1cuda_task}{tf::cudaTask}}\ h2d\_y\ =\ cf.\mbox{\hyperlink{classtf_1_1cuda_graph_base_a02a041d5dd9e1e8958eb43e09331051e}{copy}}(dy,\ hy.data(),\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}).name(\textcolor{stringliteral}{"{}h2d\_y"{}});}
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1cuda_task}{tf::cudaTask}}\ d2h\_x\ =\ cf.\mbox{\hyperlink{classtf_1_1cuda_graph_base_a02a041d5dd9e1e8958eb43e09331051e}{copy}}(hx.data(),\ dx,\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}).name(\textcolor{stringliteral}{"{}d2h\_x"{}});}
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1cuda_task}{tf::cudaTask}}\ d2h\_y\ =\ cf.\mbox{\hyperlink{classtf_1_1cuda_graph_base_a02a041d5dd9e1e8958eb43e09331051e}{copy}}(hy.data(),\ dy,\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}).name(\textcolor{stringliteral}{"{}d2h\_y"{}});}
\DoxyCodeLine{\ \ }
\DoxyCodeLine{\ \ \textcolor{comment}{//\ kernel\ task\ with\ parameters\ to\ launch\ the\ saxpy\ kernel}}
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1cuda_task}{tf::cudaTask}}\ \mbox{\hyperlink{bench_2btl_2libs_2_b_l_a_s_2blas_8h_ad53e5aed16187a6bb50b8aa5f24cca8b}{saxpy}}\ =\ cf.\mbox{\hyperlink{classtf_1_1cuda_graph_base_a1473a15a6023fbc25e1f029f2ff84aec}{kernel}}(}
\DoxyCodeLine{\ \ \ \ (\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}+255)/256,\ 256,\ 0,\ \mbox{\hyperlink{bench_2btl_2libs_2_b_l_a_s_2blas_8h_ad53e5aed16187a6bb50b8aa5f24cca8b}{saxpy}},\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}},\ 2.0f,\ dx,\ dy}
\DoxyCodeLine{\ \ ).name(\textcolor{stringliteral}{"{}saxpy"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \mbox{\hyperlink{bench_2btl_2libs_2_b_l_a_s_2blas_8h_ad53e5aed16187a6bb50b8aa5f24cca8b}{saxpy}}.succeed(h2d\_x,\ h2d\_y)}
\DoxyCodeLine{\ \ \ \ \ \ \ .precede(d2h\_x,\ d2h\_y);}
\DoxyCodeLine{\}).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}cudaFlow"{}});}

\end{DoxyCode}


\hypertarget{README.md_autotoc_md1332}{}\doxysubsubsection{\texorpdfstring{Compose Task Graphs}{Compose Task Graphs}}\label{README.md_autotoc_md1332}
Taskflow is composable. You can create large parallel graphs through composition of modular and reusable blocks that are easier to optimize at an individual scope.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_taskflow}{tf::Taskflow}}\ \mbox{\hyperlink{parallel__graph__pipeline_8cpp_a20ea9116f00e19915f910ca726f7518f}{f1}},\ \mbox{\hyperlink{parallel__graph__pipeline_8cpp_a894124d17350678007462a79ecc7eb36}{f2}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ create\ taskflow\ f1\ of\ two\ tasks}}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ f1A\ =\ \mbox{\hyperlink{parallel__graph__pipeline_8cpp_a20ea9116f00e19915f910ca726f7518f}{f1}}.emplace([]()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}Task\ f1A\(\backslash\)n"{}};\ \})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}f1A"{}});}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ f1B\ =\ \mbox{\hyperlink{parallel__graph__pipeline_8cpp_a20ea9116f00e19915f910ca726f7518f}{f1}}.emplace([]()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}Task\ f1B\(\backslash\)n"{}};\ \})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}f1B"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ create\ taskflow\ f2\ with\ one\ module\ task\ composed\ of\ f1}}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ f2A\ =\ \mbox{\hyperlink{parallel__graph__pipeline_8cpp_a894124d17350678007462a79ecc7eb36}{f2}}.emplace([]()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}Task\ f2A\(\backslash\)n"{}};\ \})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}f2A"{}});}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ f2B\ =\ \mbox{\hyperlink{parallel__graph__pipeline_8cpp_a894124d17350678007462a79ecc7eb36}{f2}}.emplace([]()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}Task\ f2B\(\backslash\)n"{}};\ \})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}f2B"{}});}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ f2C\ =\ \mbox{\hyperlink{parallel__graph__pipeline_8cpp_a894124d17350678007462a79ecc7eb36}{f2}}.emplace([]()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}Task\ f2C\(\backslash\)n"{}};\ \})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}(\textcolor{stringliteral}{"{}f2C"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ f1\_module\_task\ =\ \mbox{\hyperlink{parallel__graph__pipeline_8cpp_a894124d17350678007462a79ecc7eb36}{f2}}.composed\_of(\mbox{\hyperlink{parallel__graph__pipeline_8cpp_a20ea9116f00e19915f910ca726f7518f}{f1}})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .name(\textcolor{stringliteral}{"{}module"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{f1\_module\_task.\mbox{\hyperlink{classtf_1_1_task_a331b1b726555072e7c7d10941257f664}{succeed}}(f2A,\ f2B)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ .\mbox{\hyperlink{classtf_1_1_task_a8c78c453295a553c1c016e4062da8588}{precede}}(f2C);}

\end{DoxyCode}


\hypertarget{README.md_autotoc_md1333}{}\doxysubsubsection{\texorpdfstring{Launch Asynchronous Tasks}{Launch Asynchronous Tasks}}\label{README.md_autotoc_md1333}
Taskflow supports {\itshape asynchronous} tasking. You can launch tasks asynchronously to dynamically explore task graph parallelism.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_executor}{tf::Executor}}\ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ create\ asynchronous\ tasks\ directly\ from\ an\ executor}}
\DoxyCodeLine{std::future<int>\ \mbox{\hyperlink{namespaceluisa_1_1fiber_ade0f9c58b88c65b0e9c7be95852327ff}{future}}\ =\ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.async([]()\{\ }
\DoxyCodeLine{\ \ std::cout\ <<\ \textcolor{stringliteral}{"{}async\ task\ returns\ 1\(\backslash\)n"{}};}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{\});\ }
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.silent\_async([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}async\ task\ does\ not\ return\(\backslash\)n"{}};\ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ create\ asynchronous\ tasks\ with\ dynamic\ dependencies}}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_async_task}{tf::AsyncTask}}\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}\ =\ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.silent\_dependent\_async([]()\{\ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}(\textcolor{stringliteral}{"{}A\(\backslash\)n"{}});\ \});}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_async_task}{tf::AsyncTask}}\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}\ =\ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.silent\_dependent\_async([]()\{\ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}(\textcolor{stringliteral}{"{}B\(\backslash\)n"{}});\ \},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_async_task}{tf::AsyncTask}}\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ =\ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.silent\_dependent\_async([]()\{\ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}(\textcolor{stringliteral}{"{}C\(\backslash\)n"{}});\ \},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_async_task}{tf::AsyncTask}}\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}\ =\ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.silent\_dependent\_async([]()\{\ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}(\textcolor{stringliteral}{"{}D\(\backslash\)n"{}});\ \},\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}});}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.wait\_for\_all();}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1334}{}\doxysubsubsection{\texorpdfstring{Execute a Taskflow}{Execute a Taskflow}}\label{README.md_autotoc_md1334}
The executor provides several {\itshape thread-\/safe} methods to run a taskflow. You can run a taskflow once, multiple times, or until a stopping criteria is met. These methods are non-\/blocking with a {\ttfamily \doxylink{classtf_1_1_future}{tf\+::\+Future}\texorpdfstring{$<$}{<}void\texorpdfstring{$>$}{>}} return to let you query the execution status.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ runs\ the\ taskflow\ once}}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_future}{tf::Future<void>}}\ run\_once\ =\ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.run(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}});\ }
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ wait\ on\ this\ run\ to\ finish}}
\DoxyCodeLine{run\_once.get();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ run\ the\ taskflow\ four\ times}}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.run\_n(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}},\ 4);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ runs\ the\ taskflow\ five\ times}}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.run\_until(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}},\ [\mbox{\hyperlink{events_8c_ac6c464b0a83a481fee26175f6229c5cc}{counter}}=5]()\{\ \textcolor{keywordflow}{return}\ -\/-\/\mbox{\hyperlink{events_8c_ac6c464b0a83a481fee26175f6229c5cc}{counter}}\ ==\ 0;\ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ block\ the\ executor\ until\ all\ submitted\ taskflows\ complete}}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.wait\_for\_all();}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1335}{}\doxysubsubsection{\texorpdfstring{Leverage Standard Parallel Algorithms}{Leverage Standard Parallel Algorithms}}\label{README.md_autotoc_md1335}
Taskflow defines algorithms for you to quickly express common parallel patterns using standard C++ syntaxes, such as parallel iterations, parallel reductions, and parallel sort.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ standard\ parallel\ CPU\ algorithms}}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ task1\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.for\_each(\ \textcolor{comment}{//\ assign\ each\ element\ to\ 100\ in\ parallel}}
\DoxyCodeLine{\ \ first,\ last,\ []\ (\textcolor{keyword}{auto}\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 100;\ \}\ \ \ \ }
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ task2\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.reduce(\ \ \ \textcolor{comment}{//\ reduce\ a\ range\ of\ items\ in\ parallel}}
\DoxyCodeLine{\ \ first,\ last,\ \mbox{\hyperlink{structinit}{init}},\ []\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ +\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};\ \}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_task}{tf::Task}}\ task3\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.sort(\ \ \ \ \ \textcolor{comment}{//\ sort\ a\ range\ of\ items\ in\ parallel}}
\DoxyCodeLine{\ \ first,\ last,\ []\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ <\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};\ \}}
\DoxyCodeLine{);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ standard\ parallel\ GPU\ algorithms}}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1cuda_task}{tf::cudaTask}}\ cuda1\ =\ cudaflow.for\_each(\ \textcolor{comment}{//\ assign\ each\ element\ to\ 100\ on\ GPU}}
\DoxyCodeLine{\ \ dfirst,\ dlast,\ []\ \_\_device\_\_\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 100;\ \}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1cuda_task}{tf::cudaTask}}\ cuda2\ =\ cudaflow.reduce(\ \ \ \textcolor{comment}{//\ reduce\ a\ range\ of\ items\ on\ GPU}}
\DoxyCodeLine{\ \ dfirst,\ dlast,\ \mbox{\hyperlink{structinit}{init}},\ []\ \_\_device\_\_\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ +\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};\ \}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1cuda_task}{tf::cudaTask}}\ cuda3\ =\ cudaflow.sort(\ \ \ \ \ \textcolor{comment}{//\ sort\ a\ range\ of\ items\ on\ GPU}}
\DoxyCodeLine{\ \ dfirst,\ dlast,\ []\ \_\_device\_\_\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ <\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};\ \}}
\DoxyCodeLine{);}

\end{DoxyCode}


Additionally, Taskflow provides composable graph building blocks for you to efficiently implement common parallel algorithms, such as parallel pipeline.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ create\ a\ pipeline\ to\ propagate\ five\ tokens\ through\ three\ serial\ stages}}
\DoxyCodeLine{\mbox{\hyperlink{classtf_1_1_pipeline}{tf::Pipeline}}\ pl(num\_parallel\_lines,}
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1_pipe}{tf::Pipe}}\{\mbox{\hyperlink{namespacetf_abb7a11e41fd457f69e7ff45d4c769564a7b804a28d6154ab8007287532037f1d0}{tf::PipeType::SERIAL}},\ [](\mbox{\hyperlink{classtf_1_1_pipeflow}{tf::Pipeflow}}\&\ pf)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}(pf.token()\ ==\ 5)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ pf.stop();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \}\},}
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1_pipe}{tf::Pipe}}\{\mbox{\hyperlink{namespacetf_abb7a11e41fd457f69e7ff45d4c769564a7b804a28d6154ab8007287532037f1d0}{tf::PipeType::SERIAL}},\ [](\mbox{\hyperlink{classtf_1_1_pipeflow}{tf::Pipeflow}}\&\ pf)\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}(\textcolor{stringliteral}{"{}stage\ 2:\ input\ buffer[\%zu]\ =\ \%d\(\backslash\)n"{}},\ pf.line(),\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}}[pf.line()]);}
\DoxyCodeLine{\ \ \}\},}
\DoxyCodeLine{\ \ \mbox{\hyperlink{classtf_1_1_pipe}{tf::Pipe}}\{\mbox{\hyperlink{namespacetf_abb7a11e41fd457f69e7ff45d4c769564a7b804a28d6154ab8007287532037f1d0}{tf::PipeType::SERIAL}},\ [](\mbox{\hyperlink{classtf_1_1_pipeflow}{tf::Pipeflow}}\&\ pf)\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}(\textcolor{stringliteral}{"{}stage\ 3:\ input\ buffer[\%zu]\ =\ \%d\(\backslash\)n"{}},\ pf.line(),\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}}[pf.line()]);}
\DoxyCodeLine{\ \ \}\}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.composed\_of(pl)}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.run(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1336}{}\doxysubsection{\texorpdfstring{Supported Compilers}{Supported Compilers}}\label{README.md_autotoc_md1336}
To use Taskflow, you only need a compiler that supports C++17\+:


\begin{DoxyItemize}
\item GNU C++ Compiler at least v8.\+4 with -\/std=c++17
\item Clang C++ Compiler at least v6.\+0 with -\/std=c++17
\item Microsoft Visual Studio at least v19.\+27 with /std\+:c++17
\item Apple\+Clang Xcode Version at least v12.\+0 with -\/std=c++17
\item Nvidia CUDA Toolkit and Compiler (nvcc) at least v11.\+1 with -\/std=c++17
\item Intel C++ Compiler at least v19.\+0.\+1 with -\/std=c++17
\item Intel DPC++ Clang Compiler at least v13.\+0.\+0 with -\/std=c++17 and SYCL20
\end{DoxyItemize}

Taskflow works on Linux, Windows, and Mac OS X.

Although Taskflow supports primarily C++17, you can enable C++20 compilation through {\ttfamily -\/std=c++20} to achieve better performance due to new C++20 features.\hypertarget{README.md_autotoc_md1337}{}\doxysubsection{\texorpdfstring{Learn More about Taskflow}{Learn More about Taskflow}}\label{README.md_autotoc_md1337}
Visit our \href{https://taskflow.github.io/}{\texttt{ project website}} and \href{https://taskflow.github.io/taskflow/index.html}{\texttt{ documentation}} to learn more about Taskflow. To get involved\+:


\begin{DoxyItemize}
\item See \href{https://taskflow.github.io/taskflow/Releases.html}{\texttt{ release notes}} to stay up-\/to-\/date with newest versions
\item Read the step-\/by-\/step tutorial at \href{https://taskflow.github.io/taskflow/pages.html}{\texttt{ cookbook}}
\item Submit an issue at \href{https://github.com/taskflow/taskflow/issues}{\texttt{ Git\+Hub issues}}
\item \doxylink{struct_find}{Find} out our technical details at \href{https://taskflow.github.io/taskflow/References.html}{\texttt{ references}}
\item Watch our technical talks at You\+Tube
\end{DoxyItemize}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ \href{https://www.youtube.com/watch?v=MX15huP5DsM}{\texttt{ Cpp\+Con20 Tech Talk}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ \href{https://www.youtube.com/watch?v=u8Mc_WgGwVY}{\texttt{ MUC++ Tech Talk}}    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ \href{https://www.youtube.com/watch?v=MX15huP5DsM}{\texttt{ Cpp\+Con20 Tech Talk}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ \href{https://www.youtube.com/watch?v=u8Mc_WgGwVY}{\texttt{ MUC++ Tech Talk}}    }\\\cline{1-2}
\endhead
\PBS\centering    &\PBS\centering    \\\cline{1-2}
\end{longtabu}


We are committed to support trustworthy developments for both academic and industrial research projects in parallel and heterogeneous computing. If you are using Taskflow, please cite the following paper we published at 2021 IEEE TPDS\+:


\begin{DoxyItemize}
\item Tsung-\/\+Wei Huang, Dian-\/\+Lun Lin, Chun-\/\+Xun Lin, and Yibo Lin, "{}\href{https://tsung-wei-huang.github.io/papers/tpds21-taskflow.pdf}{\texttt{ Taskflow\+: A Lightweight Parallel and Heterogeneous Task Graph Computing System}},"{} {\itshape IEEE Transactions on Parallel and Distributed Systems (TPDS)}, vol. 33, no. 6, pp. 1303-\/1320, June 2022
\end{DoxyItemize}

More importantly, we appreciate all Taskflow \href{https://taskflow.github.io/taskflow/contributors.html}{\texttt{ contributors}} and the following organizations for sponsoring the Taskflow project!

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-4}
\endhead
\PBS\centering    &\PBS\centering    &\PBS\centering    &\PBS\centering     \\\cline{1-4}
\PBS\centering    &\PBS\centering &\PBS\centering &\PBS\centering \\\cline{1-4}
\end{longtabu}
\hypertarget{README.md_autotoc_md1338}{}\doxysubsection{\texorpdfstring{License}{License}}\label{README.md_autotoc_md1338}
Taskflow is licensed with the \href{./LICENSE}{\texttt{ MIT License}}. You are completely free to re-\/distribute your work derived from Taskflow.

\DoxyHorRuler{0}
 