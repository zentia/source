\doxysection{test\+\_\+partitioner\+\_\+whitebox.\+h}
\hypertarget{test__partitioner__whitebox_8h_source}{}\label{test__partitioner__whitebox_8h_source}\index{external/taskflow/3rd-\/party/tbb/src/test/test\_partitioner\_whitebox.h@{external/taskflow/3rd-\/party/tbb/src/test/test\_partitioner\_whitebox.h}}
\mbox{\hyperlink{test__partitioner__whitebox_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{comment}{/*\ Common\ part\ for\ the\ partitioner\ whitebox\ tests\ */}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <typeinfo>}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{string_8h}{string.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{harness__assert_8h}{harness\_assert.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{test__partitioner_8h}{test\_partitioner.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <numeric>}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#if\ TBB\_USE\_DEBUG}}
\DoxyCodeLine{00027\ \textcolor{comment}{//\ reducing\ number\ of\ simulations\ due\ to\ test\ timeout}}
\DoxyCodeLine{00028\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_ae3c0402e4bf74f84cf6e934a50ea022c}{max\_simulated\_threads}}\ =\ 256;}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00030\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_ae3c0402e4bf74f84cf6e934a50ea022c}{max\_simulated\_threads}}\ =\ 640;}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacewhitebox__simulation}{whitebox\_simulation}}\ \{}
\DoxyCodeLine{00034\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacewhitebox__simulation_a40e4967ddab2adafb885c778b00fce8e}{whitebox\_thread\_index}}\ =\ 0;}
\DoxyCodeLine{00035\ \mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree}{test\_partitioner\_utils::BinaryTree}}\ \mbox{\hyperlink{namespacewhitebox__simulation_a12802c3050f4a1936bda4c26992b42af}{reference\_tree}};}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{comment}{//\ simulate\ a\ subset\ of\ task.h}}
\DoxyCodeLine{00039\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb}{tbb}}\ \{}
\DoxyCodeLine{00040\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00041\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ \mbox{\hyperlink{namespacetbb_1_1internal_a3e3837fb3ca7bbf4cf4752c58cbed886}{affinity\_id}};}
\DoxyCodeLine{00042\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespacetbb_1_1internal_a1b96ce89fd3d0e67be5221d8533125d8}{internal\_current\_suspend\_point}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};\ \}}
\DoxyCodeLine{00043\ \}}
\DoxyCodeLine{00044\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1fake__task_ade4ade4b8cb83c0eff736c6b0bd853b1}{fake\_task}}\ \{}
\DoxyCodeLine{00045\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classtbb_1_1fake__task_ad0a91e8ef538e8b445e0424f60727c12}{suspend\_point}};}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{namespacetbb_1_1internal_a3e3837fb3ca7bbf4cf4752c58cbed886}{internal::affinity\_id}}\ \mbox{\hyperlink{classtbb_1_1fake__task_a577abd93801e9ed4876f3e93a094f560}{affinity\_id}};}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1fake__task_a3ebdb7a04b496856939086f0fa20d909}{set\_affinity}}(\mbox{\hyperlink{classtbb_1_1fake__task_a577abd93801e9ed4876f3e93a094f560}{affinity\_id}}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})\ \{\ \mbox{\hyperlink{classtbb_1_1fake__task_a70de6f7ad37da80cfd8b96321b7c1488}{my\_affinity}}\ =\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}};\ \}}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1fake__task_a577abd93801e9ed4876f3e93a094f560}{affinity\_id}}\ \mbox{\hyperlink{classtbb_1_1fake__task_ad4d411029c1d5ffe52e9368022144874}{affinity}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1fake__task_a70de6f7ad37da80cfd8b96321b7c1488}{my\_affinity}};\ \}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1fake__task_a923e522b5626d51dfcbfbef489ea92d4}{set\_parent}}(\mbox{\hyperlink{classtbb_1_1fake__task_ade4ade4b8cb83c0eff736c6b0bd853b1}{fake\_task}}*\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\ \{\ \mbox{\hyperlink{classtbb_1_1fake__task_a0be93893e5b3f375a8b1f75287511490}{my\_parent}}\ =\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}};\ \}}
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1fake__task_ade4ade4b8cb83c0eff736c6b0bd853b1}{fake\_task}}\ *\mbox{\hyperlink{classtbb_1_1fake__task_a14ec6cc41d74c59741fb4d14ba360157}{parent}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1fake__task_a0be93893e5b3f375a8b1f75287511490}{my\_parent}};\ \}}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtbb_1_1fake__task_ab446a7adad6424961cb2f8a7bdfc4bf1}{is\_stolen\_task}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00053\ \ \ \ \ intptr\_t\ \mbox{\hyperlink{classtbb_1_1fake__task_a6fe0ded358600436be2cb46bbf385437}{ref\_count}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ 1;\ \}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtbb_1_1fake__task_a8b9181bfc26c2089d9146dcbb28cfaa4}{is\_cancelled}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1fake__task_add20cde29cef1e7008525ca63d1f6900}{spawn}}(\mbox{\hyperlink{classtbb_1_1fake__task_ade4ade4b8cb83c0eff736c6b0bd853b1}{fake\_task}}\ \&)\ \{\}\ \textcolor{comment}{//\ for\ legacy\ in\ partitioner.h}}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classtbb_1_1fake__task_ade4ade4b8cb83c0eff736c6b0bd853b1}{fake\_task}}*\ \mbox{\hyperlink{classtbb_1_1fake__task_af7fac12f673b3a30ad6186bb820d466a}{execute}}()\ =\ 0;\ \textcolor{comment}{//\ enables\ dynamic\_cast}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1fake__task_ade4ade4b8cb83c0eff736c6b0bd853b1}{fake\_task}}()\ :\ \mbox{\hyperlink{classtbb_1_1fake__task_a0be93893e5b3f375a8b1f75287511490}{my\_parent}}(0),\ \mbox{\hyperlink{classtbb_1_1fake__task_a70de6f7ad37da80cfd8b96321b7c1488}{my\_affinity}}(0)\ \{\}}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classtbb_1_1fake__task_aeafed6c2993a9bc302cecacec9e6b541}{\string~fake\_task}}()\ \{\}}
\DoxyCodeLine{00060\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1fake__task_ade4ade4b8cb83c0eff736c6b0bd853b1}{fake\_task}}\ *\mbox{\hyperlink{classtbb_1_1fake__task_a0be93893e5b3f375a8b1f75287511490}{my\_parent}};}
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1fake__task_a577abd93801e9ed4876f3e93a094f560}{affinity\_id}}\ \mbox{\hyperlink{classtbb_1_1fake__task_a70de6f7ad37da80cfd8b96321b7c1488}{my\_affinity}};}
\DoxyCodeLine{00063\ \};}
\DoxyCodeLine{00064\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb_1_1task__arena}{task\_arena}}\ \{}
\DoxyCodeLine{00065\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacetbb_1_1task__arena_a9b81451374ef7f5736e0c151642fcfd4}{not\_initialized}}\ =\ -\/2;\textcolor{comment}{//should\ match\ corresponding\ value\ in\ task\_arena.h}}
\DoxyCodeLine{00066\ \}\textcolor{comment}{//namespace\ task\_arena}}
\DoxyCodeLine{00067\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb_1_1this__task__arena}{this\_task\_arena}}\ \{}
\DoxyCodeLine{00068\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacetbb_1_1this__task__arena_a3ab8c42906cedb6fc3e088097e8639ea}{current\_thread\_index}}()\ \{\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{int})\mbox{\hyperlink{namespacewhitebox__simulation_a40e4967ddab2adafb885c778b00fce8e}{whitebox\_simulation::whitebox\_thread\_index}};\ \}}
\DoxyCodeLine{00069\ \}}
\DoxyCodeLine{00070\ \}\textcolor{comment}{//namespace\ tbb}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#define\ \_\_TBB\_task\_H}}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#define\ \_\_TBB\_task\_arena\_H}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#define\ get\_initial\_auto\_partitioner\_divisor\ my\_get\_initial\_auto\_partitioner\_divisor}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#define\ affinity\_partitioner\_base\_v3\ my\_affinity\_partitioner\_base\_v3}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#define\ task\ fake\_task}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbb__thread_8h}{tbb/tbb\_thread.h}}"{}}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{enumerable__thread__specific_8h}{tbb/enumerable\_thread\_specific.h}}"{}}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#define\ \_\_TBB\_STATIC\_THRESHOLD\ 0}}
\DoxyCodeLine{00080\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{partitioner_8h}{tbb/partitioner.h}}"{}}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#undef\ \_\_TBB\_STATIC\_THRESHOLD}}
\DoxyCodeLine{00082\ \textcolor{preprocessor}{\#undef\ task}}
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#undef\ affinity\_partitioner\_base\_v3}}
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\#undef\ get\_initial\_auto\_partitioner\_divisor}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtbb_1_1interface6_1_1enumerable__thread__specific}{tbb::enumerable\_thread\_specific<size\_t>}}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a19ad0d8c08c9dbf7917fc05f199aa216}{ThreadNumsType}};}
\DoxyCodeLine{00087\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a64f95bcfd508853ef3a642a9423b82a7}{g\_threadNumInitialValue}}\ =\ 10;}
\DoxyCodeLine{00088\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a19ad0d8c08c9dbf7917fc05f199aa216}{ThreadNumsType}}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a77c7fe980c452d5f375478989f5ec3c3}{g\_threadNums}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a64f95bcfd508853ef3a642a9423b82a7}{g\_threadNumInitialValue}});}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{comment}{//\ replace\ library\ functions\ to\ simulate\ concurrency}}
\DoxyCodeLine{00091\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb}{tbb}}\ \{}
\DoxyCodeLine{00092\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00093\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacetbb_1_1internal_a4246780105337b1e9027cc258ae8ad52}{my\_get\_initial\_auto\_partitioner\_divisor}}()\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ X\_FACTOR\ =\ 4;}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{return}\ X\_FACTOR\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a77c7fe980c452d5f375478989f5ec3c3}{g\_threadNums}}.local();}
\DoxyCodeLine{00096\ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{scalable__allocator_8h_ab6dd3eee12dcbf8bc4c41513c4c4c9fb}{\_\_TBB\_EXPORTED\_FUNC}}\ \mbox{\hyperlink{namespacetbb_1_1internal_a395611542e21705f49de2a06e2c88f59}{NFS\_Allocate}}(\ \textcolor{keywordtype}{size\_t}\ n\_element,\ \textcolor{keywordtype}{size\_t}\ element\_size,\ \textcolor{keywordtype}{void}*\ hint\ );}
\DoxyCodeLine{00099\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{scalable__allocator_8h_ab6dd3eee12dcbf8bc4c41513c4c4c9fb}{\_\_TBB\_EXPORTED\_FUNC}}\ \mbox{\hyperlink{namespacetbb_1_1internal_abd3fdd42ea716867fc95116354481b4e}{NFS\_Free}}(\ \textcolor{keywordtype}{void}*\ );}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \textcolor{keywordtype}{void}\ my\_affinity\_partitioner\_base\_v3::resize(\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{fft_8c_a13b942e46c2348d4cfe7bced3e905d1d}{factor}}\ )\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Check\ factor\ to\ avoid\ asking\ for\ number\ of\ workers\ while\ there\ might\ be\ no\ arena.}}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{ittnotify__static_8h_a0ff2395a84e0714023e69b0ff3d7363b}{new\_size}}\ =\ \mbox{\hyperlink{fft_8c_a13b942e46c2348d4cfe7bced3e905d1d}{factor}}\ ?\ \mbox{\hyperlink{fft_8c_a13b942e46c2348d4cfe7bced3e905d1d}{factor}}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a77c7fe980c452d5f375478989f5ec3c3}{g\_threadNums}}.local()\ :\ 0;}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ittnotify__static_8h_a0ff2395a84e0714023e69b0ff3d7363b}{new\_size}}\ !=\ my\_size)\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (my\_array)\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_abd3fdd42ea716867fc95116354481b4e}{NFS\_Free}}(my\_array);}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Following\ two\ assignments\ must\ be\ done\ here\ for\ sake\ of\ exception\ safety.}}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ my\_array\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ my\_size\ =\ 0;}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ittnotify__static_8h_a0ff2395a84e0714023e69b0ff3d7363b}{new\_size}})\ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ my\_array\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacetbb_1_1internal_a3e3837fb3ca7bbf4cf4752c58cbed886}{affinity\_id}}*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacetbb_1_1internal_a395611542e21705f49de2a06e2c88f59}{NFS\_Allocate}}(\mbox{\hyperlink{ittnotify__static_8h_a0ff2395a84e0714023e69b0ff3d7363b}{new\_size}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespacetbb_1_1internal_a3e3837fb3ca7bbf4cf4752c58cbed886}{affinity\_id}}),\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\ ));}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ memset(my\_array,\ 0,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespacetbb_1_1internal_a3e3837fb3ca7bbf4cf4752c58cbed886}{affinity\_id}})\ *\ \mbox{\hyperlink{ittnotify__static_8h_a0ff2395a84e0714023e69b0ff3d7363b}{new\_size}});}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ my\_size\ =\ \mbox{\hyperlink{ittnotify__static_8h_a0ff2395a84e0714023e69b0ff3d7363b}{new\_size}};}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00116\ \ \ \ \ \}}
\DoxyCodeLine{00117\ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \}\ \textcolor{comment}{//namespace\ internal}}
\DoxyCodeLine{00120\ \textcolor{comment}{//\ simulate\ a\ subset\ of\ parallel\_for}}
\DoxyCodeLine{00121\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb_1_1interface9}{interface9}}\ \{}
\DoxyCodeLine{00122\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \textcolor{comment}{//\ parallel\_for\ algorithm\ that\ executes\ sequentially}}
\DoxyCodeLine{00125\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Range,\ \textcolor{keyword}{typename}\ Body,\ \textcolor{keyword}{typename}\ Partitioner>}
\DoxyCodeLine{00126\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae4c79eaac950bf67260b0d7a06bc15af}{start\_for}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classtbb_1_1fake__task_ade4ade4b8cb83c0eff736c6b0bd853b1}{fake\_task}}\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}};}
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{class_body}{Body}}\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a37985dad28aaf9552956f2daecfdf95c}{my\_body}};}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keyword}{typename}\ Partitioner::task\_partition\_type\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}};}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a96f50f49a5e98677fb10e714e6a8433a}{m\_executedBegin}},\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}};}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a28c34739ae84a9399a5881e849f9108f}{m\_firstTimeRun}};}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a59c64e0dce217a1f9b6aa80edeecd6c2}{m\_joinedBegin}},\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_abae90a474f4689ddb0ec24986e6c4dc6}{m\_joinedEnd}};}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree}{test\_partitioner\_utils::BinaryTree}}*\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}};}
\DoxyCodeLine{00134\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00135\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae4c79eaac950bf67260b0d7a06bc15af}{start\_for}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}\&\ range,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_body}{Body}}\&\ body,\ Partitioner\&\ partitioner,}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree}{test\_partitioner\_utils::BinaryTree}}*\ tree\ )\ :}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}(range),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a37985dad28aaf9552956f2daecfdf95c}{my\_body}}(body),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}}(partitioner),}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a96f50f49a5e98677fb10e714e6a8433a}{m\_executedBegin}}(0),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}}(0),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a28c34739ae84a9399a5881e849f9108f}{m\_firstTimeRun}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a59c64e0dce217a1f9b6aa80edeecd6c2}{m\_joinedBegin}}(\textcolor{comment}{/*\ grows\ left\ */}\ range.\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}()),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_abae90a474f4689ddb0ec24986e6c4dc6}{m\_joinedEnd}}(range.\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}()),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}}(tree)}
\DoxyCodeLine{00140\ \ \ \ \ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}})\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}}-\/>push\_node(\ \mbox{\hyperlink{namespacetest__partitioner__utils_a058445c5fab6138ea2e5967af4904cee}{test\_partitioner\_utils::make\_node}}(\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}.begin(),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}.end(),\ \mbox{\hyperlink{classtbb_1_1fake__task_ad4d411029c1d5ffe52e9368022144874}{affinity}}())\ );}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00144\ \ \ \ \ \}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a20951de0ff09e54b28b8e90a50a78e8c}{start\_for}}(\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae4c79eaac950bf67260b0d7a06bc15af}{start\_for}}\&\ parent\_,\ \textcolor{keyword}{typename}\ Partitioner::split\_type\&\ split\_obj)\ :}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}(parent\_.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}},\ split\_obj),}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a37985dad28aaf9552956f2daecfdf95c}{my\_body}}(parent\_.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a37985dad28aaf9552956f2daecfdf95c}{my\_body}}),}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}}(parent\_.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}},\ split\_obj),}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a96f50f49a5e98677fb10e714e6a8433a}{m\_executedBegin}}(0),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}}(0),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a28c34739ae84a9399a5881e849f9108f}{m\_firstTimeRun}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a59c64e0dce217a1f9b6aa80edeecd6c2}{m\_joinedBegin}}(\textcolor{comment}{/*\ grows\ left\ */}\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}.\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}()),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_abae90a474f4689ddb0ec24986e6c4dc6}{m\_joinedEnd}}(\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}.\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}()),}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}}(parent\_.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}})}
\DoxyCodeLine{00154\ \ \ \ \ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1fake__task_a923e522b5626d51dfcbfbef489ea92d4}{set\_parent}}(parent\_.\mbox{\hyperlink{classtbb_1_1fake__task_a14ec6cc41d74c59741fb4d14ba360157}{parent}}());}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}}.set\_affinity(*\textcolor{keyword}{this});}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}})\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ collecting\ splitting\ statistics}}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}}-\/>push\_node(\ \mbox{\hyperlink{namespacetest__partitioner__utils_a058445c5fab6138ea2e5967af4904cee}{test\_partitioner\_utils::make\_node}}(\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}.begin(),}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}.end(),}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1fake__task_ad4d411029c1d5ffe52e9368022144874}{affinity}}())\ );}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}}-\/>push\_node(\ \mbox{\hyperlink{namespacetest__partitioner__utils_a058445c5fab6138ea2e5967af4904cee}{test\_partitioner\_utils::make\_node}}(parent\_.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}.\mbox{\hyperlink{classtbb_1_1blocked__range_a2b313f02d4b8148465599c55c70d73d6}{begin}}(),}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parent\_.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}.\mbox{\hyperlink{classtbb_1_1blocked__range_aadaf5cf0b4d72a95904de6f5816cb603}{end}}(),}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parent\_.\mbox{\hyperlink{classtbb_1_1fake__task_ad4d411029c1d5ffe52e9368022144874}{affinity}}())\ );}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00167\ \ \ \ \ \}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_aa0a8a98ee5e9aaca1d2ce6d76442c9f0}{start\_for}}(\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae4c79eaac950bf67260b0d7a06bc15af}{start\_for}}\&\ parent\_,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}\&\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}},\ \mbox{\hyperlink{3rd-party_2tbb_2examples_2common_2gui_2video_8h_aced0360c4caf9feb4433e516189ff966}{depth\_t}}\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}}\ )\ :}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}),}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a37985dad28aaf9552956f2daecfdf95c}{my\_body}}(parent\_.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a37985dad28aaf9552956f2daecfdf95c}{my\_body}}),}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}}(parent\_.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}},\ \mbox{\hyperlink{namespacetbb}{tbb}}::\mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}()),}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a96f50f49a5e98677fb10e714e6a8433a}{m\_executedBegin}}(0),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}}(0),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a28c34739ae84a9399a5881e849f9108f}{m\_firstTimeRun}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a59c64e0dce217a1f9b6aa80edeecd6c2}{m\_joinedBegin}}(\textcolor{comment}{/*\ grows\ left\ */}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}()),\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_abae90a474f4689ddb0ec24986e6c4dc6}{m\_joinedEnd}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}()),}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}}(parent\_.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a4f66e05756e13b87e90441edfc55f402}{m\_tree}})}
\DoxyCodeLine{00177\ \ \ \ \ \{}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1fake__task_a923e522b5626d51dfcbfbef489ea92d4}{set\_parent}}(parent\_.\mbox{\hyperlink{classtbb_1_1fake__task_a14ec6cc41d74c59741fb4d14ba360157}{parent}}());}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}}.set\_affinity(*\textcolor{keyword}{this});}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}}.align\_depth(\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}}\ );}
\DoxyCodeLine{00181\ \ \ \ \ \}}
\DoxyCodeLine{00182\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1fake__task_ade4ade4b8cb83c0eff736c6b0bd853b1}{fake\_task}}*\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a7b9c1c0ef3dfc405c218fb8a23f91808}{execute}}()\ \_\_TBB\_override\ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}}.check\_being\_stolen(\ *\textcolor{keyword}{this}\ );}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ origBegin\ =\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}.begin();}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ origEnd\ =\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}}.end();}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a73e27c00a6601a1a050cdd352062172e}{my\_partition}}.execute(*\textcolor{keyword}{this},\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a452282aeaa82f5708f9745ccd5cf1fef}{my\_range}});}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}}\ ==\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a59c64e0dce217a1f9b6aa80edeecd6c2}{m\_joinedBegin}},\ \textcolor{stringliteral}{"{}Non-\/continuous\ execution"{}});}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}}\ =\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_abae90a474f4689ddb0ec24986e6c4dc6}{m\_joinedEnd}};}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(origBegin\ ==\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a96f50f49a5e98677fb10e714e6a8433a}{m\_executedBegin}}\ \&\&\ origEnd\ ==\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}},}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Not\ all\ iterations\ were\ processed"{}});}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00195\ \ \ \ \ \}}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ab3bb1032ceef4c9dc63d214a0ca66cc1}{run\_body}}(\ \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}\ \&\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ )\ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.is\_ensure\_non\_emptiness()\ )}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(\ !\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.empty(),\ \textcolor{stringliteral}{"{}Empty\ ranges\ are\ not\ allowed"{}}\ );}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a37985dad28aaf9552956f2daecfdf95c}{my\_body}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}});}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a28c34739ae84a9399a5881e849f9108f}{m\_firstTimeRun}})\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a28c34739ae84a9399a5881e849f9108f}{m\_firstTimeRun}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a96f50f49a5e98677fb10e714e6a8433a}{m\_executedBegin}}\ =\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}}\ =\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.begin();}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a96f50f49a5e98677fb10e714e6a8433a}{m\_executedBegin}}\ <=\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.begin()\ \&\&\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}}\ <=\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.end(),}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Non-\/continuous\ execution"{}});}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}}\ =\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.end();}
\DoxyCodeLine{00208\ \ \ \ \ \}}
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a176a32f32cd87efa33faf53d19a15c96}{offer\_work}}(\textcolor{keyword}{typename}\ Partitioner::split\_type\&\ split\_obj)\ \{}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae4c79eaac950bf67260b0d7a06bc15af}{start\_for}}\ sibling(*\textcolor{keyword}{this},\ split\_obj);}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ sibling.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a7b9c1c0ef3dfc405c218fb8a23f91808}{execute}}();}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a41d698ddb9740bc1f1b6a3ca642fb0e6}{join}}(sibling.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a96f50f49a5e98677fb10e714e6a8433a}{m\_executedBegin}},\ sibling.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}});}
\DoxyCodeLine{00214\ \ \ \ \ \}}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_add308efad4fc273c473e4ccdaf5695af}{offer\_work}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}\&\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}},\ \mbox{\hyperlink{3rd-party_2tbb_2examples_2common_2gui_2video_8h_aced0360c4caf9feb4433e516189ff966}{depth\_t}}\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}}\ =\ 0)\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae4c79eaac950bf67260b0d7a06bc15af}{start\_for}}\ sibling(*\textcolor{keyword}{this},\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}},\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}});}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ sibling.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a7b9c1c0ef3dfc405c218fb8a23f91808}{execute}}();}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a41d698ddb9740bc1f1b6a3ca642fb0e6}{join}}(sibling.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a96f50f49a5e98677fb10e714e6a8433a}{m\_executedBegin}},\ sibling.\mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_ae48186052ba5b8af33683fe3de736b41}{m\_executedEnd}});}
\DoxyCodeLine{00220\ \ \ \ \ \}}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a41d698ddb9740bc1f1b6a3ca642fb0e6}{join}}(\textcolor{keywordtype}{size\_t}\ siblingExecutedBegin,\ \textcolor{keywordtype}{size\_t}\ siblingExecutedEnd)\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(siblingExecutedEnd\ ==\ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a59c64e0dce217a1f9b6aa80edeecd6c2}{m\_joinedBegin}},\ \textcolor{stringliteral}{"{}?"{}});}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for_a59c64e0dce217a1f9b6aa80edeecd6c2}{m\_joinedBegin}}\ =\ siblingExecutedBegin;}
\DoxyCodeLine{00224\ \ \ \ \ \}}
\DoxyCodeLine{00225\ \};}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \}\ \textcolor{comment}{//namespace\ internal}}
\DoxyCodeLine{00228\ \}\ \textcolor{comment}{//namespace\ interfaceX}}
\DoxyCodeLine{00229\ \}\ \textcolor{comment}{//namespace\ tbb}}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacewhitebox__simulation}{whitebox\_simulation}}\ \{}
\DoxyCodeLine{00232\ \textcolor{keyword}{using\ namespace\ }tbb::interface9::internal;}
\DoxyCodeLine{00233\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Range,\ \textcolor{keyword}{typename}\ Body,\ \textcolor{keyword}{typename}\ Partitioner>}
\DoxyCodeLine{00234\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacewhitebox__simulation_aa4f3e6e60e4c0db1a731c19cae950cdb}{parallel\_for}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}\&\ range,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_body}{Body}}\&\ body,\ Partitioner\&\ partitioner,}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree}{test\_partitioner\_utils::BinaryTree}}*\ tree\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{keywordflow}{if}\ (!range.empty())\ \{}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ flag\_task\ \mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}};}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface9_1_1internal_1_1start__for}{start\_for<Range,\ Body,\ Partitioner>}}\ \mbox{\hyperlink{cpq__pdes_8cpp_a455a4d1d80a69762a133ad026f1cba43}{start}}(range,\ body,\ partitioner,\ tree);}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cpq__pdes_8cpp_a455a4d1d80a69762a133ad026f1cba43}{start}}.set\_parent(\&\mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}});}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cpq__pdes_8cpp_a455a4d1d80a69762a133ad026f1cba43}{start}}.execute();}
\DoxyCodeLine{00241\ \ \ \ \ \}}
\DoxyCodeLine{00242\ \}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \}\ \textcolor{comment}{//namespace\ whitebox\_simulation}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Range,\ \textcolor{keyword}{typename}\ Body,\ \textcolor{keyword}{typename}\ Partitioner>}
\DoxyCodeLine{00247\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a29e4ee00a1f993ba09a85ec5438d189d}{test\_case}}(\mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}\&\ range,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_body}{Body}}\&\ body,\ Partitioner\&\ partitioner,}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree}{test\_partitioner\_utils::BinaryTree}}*\ tree\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00249\ \ \ \ \ \mbox{\hyperlink{namespacewhitebox__simulation_aa4f3e6e60e4c0db1a731c19cae950cdb}{whitebox\_simulation::parallel\_for}}(range,\ body,\ partitioner,\ tree);}
\DoxyCodeLine{00250\ \}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \textcolor{comment}{//\ Functions\ generate\ size\ for\ range\ objects\ used\ in\ tests}}
\DoxyCodeLine{00253\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00254\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a450e9e5a2a9ee276c2a4dcb0777ef2ed}{default\_range\_size\_generator}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{fft_8c_a13b942e46c2348d4cfe7bced3e905d1d}{factor}},\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}},\ \textcolor{keywordtype}{size\_t}\ thread\_num)\ \{}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordflow}{return}\ size\_t(\mbox{\hyperlink{fft_8c_a13b942e46c2348d4cfe7bced3e905d1d}{factor}}[\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}]\ *\ thread\_num);}
\DoxyCodeLine{00256\ \}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_abae290ab8b5c720003aec706da8a1c09}{shifted\_left\_range\_size\_generator}}(\textcolor{keywordtype}{size\_t}*\ \mbox{\hyperlink{fft_8c_a13b942e46c2348d4cfe7bced3e905d1d}{factor}},\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}},\ \textcolor{keywordtype}{size\_t}\ thread\_num)\ \{}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{fft_8c_a13b942e46c2348d4cfe7bced3e905d1d}{factor}}[\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}]\ *\ thread\_num\ -\/\ 1;}
\DoxyCodeLine{00260\ \}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_af08a0de40e95049b0e0adfa1b0065d4b}{shifted\_right\_range\_size\_generator}}(\textcolor{keywordtype}{size\_t}*\ \mbox{\hyperlink{fft_8c_a13b942e46c2348d4cfe7bced3e905d1d}{factor}},\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}},\ \textcolor{keywordtype}{size\_t}\ thread\_num)\ \{}
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{fft_8c_a13b942e46c2348d4cfe7bced3e905d1d}{factor}}[\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}]\ *\ thread\_num\ +\ 1;}
\DoxyCodeLine{00264\ \}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a2d07a090cb8c2571a7cd952eb2709e3d}{max\_range\_size\_generator}}(\textcolor{keywordtype}{size\_t}*,\ \textcolor{keywordtype}{unsigned},\ \textcolor{keywordtype}{size\_t})\ \{}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keywordflow}{return}\ size\_t(-\/1);}
\DoxyCodeLine{00268\ \}}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_afad83a49bae96159ccc1e5aa75d0011b}{simple\_size\_generator}}(\textcolor{keywordtype}{size\_t}*,\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}},\ \textcolor{keywordtype}{size\_t})\ \{}
\DoxyCodeLine{00271\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}};}
\DoxyCodeLine{00272\ \}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceuniform__iterations__distribution}{uniform\_iterations\_distribution}}\ \{}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \textcolor{comment}{/*}}
\DoxyCodeLine{00277\ \textcolor{comment}{\ *\ Test\ checks\ uniform\ distribution\ of\ range's\ iterations\ among\ all\ tasks\ just\ after}}
\DoxyCodeLine{00278\ \textcolor{comment}{\ *\ work\ distribution\ phase\ has\ been\ completed\ and\ just\ before\ work\ balancing\ phase\ has\ been\ started}}
\DoxyCodeLine{00279\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespacetest__partitioner__utils}{test\_partitioner\_utils}};}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_parallel_test_body_ac25ec90ba377a689a01d9c6a237fd039}{ParallelTestBody}}\ \{}
\DoxyCodeLine{00284\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_parallel_test_body_1_1use__case__settings__t}{use\_case\_settings\_t}};}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}\ (*\mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body_a4ed296e0f3ae8187b6257f823c859d79}{CheckerFuncType}})(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*,\ size\_t,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t}{use\_case\_settings\_t}}*,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structtest__partitioner__utils_1_1_range_statistic_data}{RangeStatisticData}}\&);}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_parallel_test_body_1_1use__case__settings__t}{use\_case\_settings\_t}}\ \{}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a82dfe0bac0a3a953057488ab777efbb5}{thread\_num}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ number\ of\ threads\ used\ during\ current\ use\ case}}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ac2b10746386927fb05dab60d0fac3979}{factors\_array\_len}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ size\ of\ 'factors'\ array}}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a1373040bec0aeb1119b21021bdce7fb2}{range\_begin}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ beginning\ of\ range\ iterations}}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ae92c0a1f6a409eb4eacb0cc222a1b55a}{provide\_feedback}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 'true'\ if\ range\ should\ give\ feedback}}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_abe026f501576013cd9c1e1e842877790}{ensure\_non\_empty\_size}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ don't\ allow\ empty\ size\ ranges}}
\DoxyCodeLine{00295\ }
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a0b4988353dbd16d46170522e7f8f4a4a}{above\_threads\_size\_tolerance}};\ \ \ \ \ \ \ \textcolor{comment}{//\ allowed\ value\ for\ number\ of\ created\ ranges}}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ when\ initial\ size\ of\ the\ range\ was\ greater\ or}}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ equal\ to\ number\ of\ threads}}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ac35a05952a980c6583ada041d6fd2419}{below\_threads\_size\_tolerance}};\ \ \ \ \ \ \ \textcolor{comment}{//\ allowed\ value\ for\ number\ of\ created\ ranges}}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ when\ initial\ size\ of\ the\ range\ was\ less\ than}}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ number\ of\ threads}}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_aff746681bc0b583e77ba1ed0e5a71fa4}{between\_min\_max\_ranges\_tolerance}};\ \ \ \textcolor{comment}{//\ allowed\ value\ for\ difference\ of\ iterations}}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ between\ bigger\ and\ lesser\ ranges}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body_a4ed296e0f3ae8187b6257f823c859d79}{CheckerFuncType}}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a4c7c6ae8400b62ad71c355af0f5b9d26}{checker}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ checker\ function\ for\ a\ particular\ test\ case}}
\DoxyCodeLine{00308\ \ \ \ \ \};}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \ \ \ \ \mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body_ac25ec90ba377a689a01d9c6a237fd039}{ParallelTestBody}}(\textcolor{keywordtype}{size\_t}\ parallel\_group\_thread\_starting\_index)}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body_a2a295fd7654cbca8fa622af248485856}{m\_parallel\_group\_thread\_starting\_index}}(parallel\_group\_thread\_starting\_index)\ \{\ \}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body_addf5139fb4dc6353ade93d83361b9f96}{operator()}}(\textcolor{keywordtype}{size\_t})\textcolor{keyword}{\ const\ }\{\ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(\ \textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}Empty\ ParallelTestBody\ called"{}}\ );\ \}}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body_a34ca48615f37acc74a834dfe4d5d9a7f}{uniform\_distribution\_checker}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ rangeName,\ \textcolor{keywordtype}{size\_t}\ rangeSize,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t}{use\_case\_settings\_t}}*\ settings,}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structtest__partitioner__utils_1_1_range_statistic_data}{RangeStatisticData}}\&\ stat)}
\DoxyCodeLine{00317\ \ \ \ \ \{}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Checking\ that\ all\ threads\ were\ given\ a\ task}}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (rangeSize\ >=\ settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a82dfe0bac0a3a953057488ab777efbb5}{thread\_num}})\ \{}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ disparity\ =}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{datatypes_8h_affe776513b24d84b39af8ab0930fef7f}{max}}(stat.m\_rangeNum,\ settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a82dfe0bac0a3a953057488ab777efbb5}{thread\_num}})\ -\/\ \mbox{\hyperlink{datatypes_8h_ac6afabdc09a49a433ee19d8a9486056d}{min}}(stat.m\_rangeNum,\ settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a82dfe0bac0a3a953057488ab777efbb5}{thread\_num}});}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (disparity\ >\ settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a0b4988353dbd16d46170522e7f8f4a4a}{above\_threads\_size\_tolerance}})\ \{}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{harness__report_8h_a787099914a94ed31fa544b985b55752f}{REPORT}}(\textcolor{stringliteral}{"{}ERROR:\ '\%s\ (f=\%d|e=\%d)':\ |\#ranges(\%llu)-\/\#threads(\%llu)|=\%llu\ >\ \%llu=tolerance\(\backslash\)n"{}},}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rangeName,\ \textcolor{keywordtype}{int}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ae92c0a1f6a409eb4eacb0cc222a1b55a}{provide\_feedback}}),\ \textcolor{keywordtype}{int}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_abe026f501576013cd9c1e1e842877790}{ensure\_non\_empty\_size}}),\ stat.m\_rangeNum,}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a82dfe0bac0a3a953057488ab777efbb5}{thread\_num}},\ disparity,\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a0b4988353dbd16d46170522e7f8f4a4a}{above\_threads\_size\_tolerance}}));}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(disparity\ <=\ settings-\/>above\_threads\_size\_tolerance,\ \textcolor{stringliteral}{"{}Incorrect\ number\ of\ range\ "{}}}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}objects\ was\ created\ before\ work\ balancing\ phase\ started"{}});}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_abe026f501576013cd9c1e1e842877790}{ensure\_non\_empty\_size}}\ \&\&\ rangeSize\ !=\ 0)\ \{}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ disparity\ =\ \mbox{\hyperlink{datatypes_8h_affe776513b24d84b39af8ab0930fef7f}{max}}(stat.m\_rangeNum,\ rangeSize)\ -\/\ \mbox{\hyperlink{datatypes_8h_ac6afabdc09a49a433ee19d8a9486056d}{min}}(stat.m\_rangeNum,\ rangeSize);}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (disparity\ >\ settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ac35a05952a980c6583ada041d6fd2419}{below\_threads\_size\_tolerance}}\ )\ \{}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{harness__report_8h_a787099914a94ed31fa544b985b55752f}{REPORT}}(\textcolor{stringliteral}{"{}ERROR:\ '\%s\ (f=\%d|e=\%d)':\ |\#ranges-\/range\ size|=\%llu\ >\ \%llu=tolerance\(\backslash\)n"{}},}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rangeName,\ \textcolor{keywordtype}{int}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ae92c0a1f6a409eb4eacb0cc222a1b55a}{provide\_feedback}}),\ \textcolor{keywordtype}{int}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_abe026f501576013cd9c1e1e842877790}{ensure\_non\_empty\_size}}),}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ disparity,\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ac35a05952a980c6583ada041d6fd2419}{below\_threads\_size\_tolerance}}));}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(disparity\ <=\ settings-\/>below\_threads\_size\_tolerance,\ \textcolor{stringliteral}{"{}Incorrect\ number\ of\ range\ objects"{}}}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ was\ created\ before\ work\ balancing\ phase\ started"{}});}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Checking\ difference\ between\ min\ and\ max\ number\ of\ range\ iterations}}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ diff\ =\ stat.m\_maxRangeSize\ -\/\ stat.m\_minRangeSize;}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (diff\ >\ settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_aff746681bc0b583e77ba1ed0e5a71fa4}{between\_min\_max\_ranges\_tolerance}})\ \{}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{harness__report_8h_a787099914a94ed31fa544b985b55752f}{REPORT}}(\textcolor{stringliteral}{"{}ERROR:\ '\%s\ (f=\%d|e=\%d)':\ range\ size\ difference=\%llu\ >\ \%llu=tolerance\(\backslash\)n"{}},}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rangeName,\ \textcolor{keywordtype}{int}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ae92c0a1f6a409eb4eacb0cc222a1b55a}{provide\_feedback}}),\ \textcolor{keywordtype}{int}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_abe026f501576013cd9c1e1e842877790}{ensure\_non\_empty\_size}}),}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}(diff),\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_aff746681bc0b583e77ba1ed0e5a71fa4}{between\_min\_max\_ranges\_tolerance}}));}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(diff\ <=\ settings-\/>between\_min\_max\_ranges\_tolerance,\ \textcolor{stringliteral}{"{}Uniform\ iteration\ distribution\ error"{}});}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00347\ \ \ \ \ \}}
\DoxyCodeLine{00348\ \ \ \ \ \textcolor{comment}{//\ Checker\ for\ test\ cases\ where\ ranges\ don't\ provide\ feedback\ during\ proportional\ split\ to}}
\DoxyCodeLine{00349\ \ \ \ \ \textcolor{comment}{//\ partitioner\ and\ differ\ from\ tbb::blocked\_range\ implementation\ in\ their\ splitting\ algorithm}}
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body_a660d88ff72f74651c09f4fa7119e23d8}{nonuniform\_distribution\_checker}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ rangeName,\ \textcolor{keywordtype}{size\_t}\ rangeSize,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t}{use\_case\_settings\_t}}*\ settings,}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structtest__partitioner__utils_1_1_range_statistic_data}{RangeStatisticData}}\&\ stat)}
\DoxyCodeLine{00352\ \ \ \ \ \{}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stat.m\_rangeNum\ >\ settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a82dfe0bac0a3a953057488ab777efbb5}{thread\_num}})\ \{}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{harness__report_8h_a787099914a94ed31fa544b985b55752f}{REPORT}}(\textcolor{stringliteral}{"{}ERROR:\ '\%s\ (f=\%d|e=\%d)':\ \%llu=\#ranges\ >\ \#threads=\%llu\(\backslash\)n"{}},}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rangeName,\ \textcolor{keywordtype}{int}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ae92c0a1f6a409eb4eacb0cc222a1b55a}{provide\_feedback}}),\ \textcolor{keywordtype}{int}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_abe026f501576013cd9c1e1e842877790}{ensure\_non\_empty\_size}}),}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}(stat.m\_rangeNum),\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a82dfe0bac0a3a953057488ab777efbb5}{thread\_num}}));}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(stat.m\_rangeNum\ <=\ settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a82dfe0bac0a3a953057488ab777efbb5}{thread\_num}},}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Incorrect\ number\ of\ range\ objects\ was\ created\ before\ work\ balancing\ phase\ started"{}});}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Checking\ difference\ between\ min\ and\ max\ number\ of\ range\ iterations}}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ diff\ =\ stat.m\_maxRangeSize\ -\/\ stat.m\_minRangeSize;}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (diff\ >\ rangeSize)\ \{}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{harness__report_8h_a787099914a94ed31fa544b985b55752f}{REPORT}}(\textcolor{stringliteral}{"{}ERROR:\ '\%s\ (f=\%d|e=\%d)':\ range\ size\ difference=\%llu\ >\ \%llu=initial\ range\ size\(\backslash\)n"{}},}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rangeName,\ \textcolor{keywordtype}{int}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ae92c0a1f6a409eb4eacb0cc222a1b55a}{provide\_feedback}}),\ \textcolor{keywordtype}{int}(settings-\/>\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_abe026f501576013cd9c1e1e842877790}{ensure\_non\_empty\_size}}),}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}(diff),\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}(rangeSize));}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(diff\ <=\ rangeSize,\ \textcolor{stringliteral}{"{}Iteration\ distribution\ error"{}});}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00368\ \ \ \ \ \}}
\DoxyCodeLine{00369\ }
\DoxyCodeLine{00370\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body_a2a295fd7654cbca8fa622af248485856}{m\_parallel\_group\_thread\_starting\_index}};\ \textcolor{comment}{//\ starting\ index\ of\ thread}}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00373\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Range,\ \textcolor{keyword}{typename}\ Partitioner,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body_a6dbe514ad14814b31f3c331b376cbb29}{test}}(\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t}{use\_case\_settings\_t}}\&\ settings,\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ factors[],\ \textcolor{keywordtype}{size\_t}\ (*rsgFunc)(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*,\ \textcolor{keywordtype}{unsigned},\ \textcolor{keywordtype}{size\_t})}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ =\ \&\mbox{\hyperlink{test__partitioner__whitebox_8h_a450e9e5a2a9ee276c2a4dcb0777ef2ed}{default\_range\_size\_generator<T>}})\textcolor{keyword}{\ const}}
\DoxyCodeLine{00376\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ settings.\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ac2b10746386927fb05dab60d0fac3979}{factors\_array\_len}};\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ range\_end\ =\ rsgFunc(factors,\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}},\ settings.\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a82dfe0bac0a3a953057488ab777efbb5}{thread\_num}});}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structtest__partitioner__utils_1_1_range_statistic_data}{RangeStatisticData}}\ stat\ =\ \{\ \textcolor{comment}{/*range\ num=*/}\ 0,\ \textcolor{comment}{/*minimal\ size\ of\ range=*/}\ 0,}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*maximal\ size\ of\ range=*/}\ 0,\ \textcolor{comment}{/*minimal\ size\ of\ range\ was\ not\ rewritten\ yet=*/}\ \textcolor{keyword}{false}\ \};}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}\ range\ =\ \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}(settings.\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a1373040bec0aeb1119b21021bdce7fb2}{range\_begin}},\ range\_end,\ \&stat,\ settings.\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_ae92c0a1f6a409eb4eacb0cc222a1b55a}{provide\_feedback}},}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ settings.\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_abe026f501576013cd9c1e1e842877790}{ensure\_non\_empty\_size}});}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ Partitioner\ my\_partitioner;}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a29e4ee00a1f993ba09a85ec5438d189d}{test\_case}}(range,\ \mbox{\hyperlink{classtest__partitioner__utils_1_1_simple_body}{SimpleBody}}(),\ my\_partitioner,\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ range\_size\ =\ range\_end\ -\/\ settings.\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a1373040bec0aeb1119b21021bdce7fb2}{range\_begin}};}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ rangeName\ =\ \textcolor{keyword}{typeid}(range).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}();}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ settings.\mbox{\hyperlink{structuniform__iterations__distribution_1_1_parallel_test_body_1_1use__case__settings__t_a4c7c6ae8400b62ad71c355af0f5b9d26}{checker}}(rangeName,\ range\_size,\ \&settings,\ stat);}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00389\ \ \ \ \ \}}
\DoxyCodeLine{00390\ \};}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParallelTestBody>}
\DoxyCodeLine{00393\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceuniform__iterations__distribution_a6c7050affb977a8ad2ccdbf12fcf490e}{test}}()\ \{}
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ hw\_threads\_num\ =\ tbb::tbb\_thread::hardware\_concurrency();}
\DoxyCodeLine{00395\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ threadsToRunOn\ =\ \mbox{\hyperlink{namespacestd_ac7b9885417769949d76890454b6d072e}{std::min<size\_t>}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_ae3c0402e4bf74f84cf6e934a50ea022c}{max\_simulated\_threads}},\ hw\_threads\_num);}
\DoxyCodeLine{00396\ }
\DoxyCodeLine{00397\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ parallel\_group\_thread\_starting\_index\ =\ 1;}
\DoxyCodeLine{00398\ \ \ \ \ \textcolor{keywordflow}{while}(\ parallel\_group\_thread\_starting\_index\ <=\ \mbox{\hyperlink{test__partitioner__whitebox_8h_ae3c0402e4bf74f84cf6e934a50ea022c}{max\_simulated\_threads}}\ -\/\ threadsToRunOn\ )\ \{}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{harness_8h_ad5b2c9cf4e169014b7919debb3c91d45}{NativeParallelFor}}(threadsToRunOn,\ \mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body}{ParallelTestBody}}(parallel\_group\_thread\_starting\_index));}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ parallel\_group\_thread\_starting\_index\ +=\ threadsToRunOn;}
\DoxyCodeLine{00401\ \ \ \ \ \}}
\DoxyCodeLine{00402\ \ \ \ \ \mbox{\hyperlink{harness_8h_ad5b2c9cf4e169014b7919debb3c91d45}{NativeParallelFor}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_ae3c0402e4bf74f84cf6e934a50ea022c}{max\_simulated\_threads}}\ -\/\ parallel\_group\_thread\_starting\_index,}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classuniform__iterations__distribution_1_1_parallel_test_body}{ParallelTestBody}}(parallel\_group\_thread\_starting\_index));}
\DoxyCodeLine{00404\ \}}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceuniform__iterations__distribution_1_1task__affinity__whitebox}{task\_affinity\_whitebox}}\ \{}
\DoxyCodeLine{00407\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceuniform__iterations__distribution_1_1task__affinity__whitebox_ac71fb0f57683506180a2d1579e023a38}{range\_begin}}\ =\ 0;}
\DoxyCodeLine{00408\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceuniform__iterations__distribution_1_1task__affinity__whitebox_a39dd07bbd0c0bcfd5d7fe2005982d31c}{range\_end}}\ =\ 20;}
\DoxyCodeLine{00409\ \}}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Partitioner>}
\DoxyCodeLine{00412\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceuniform__iterations__distribution_aa1ffd505f9d61dbe090e5d7f60c2e930}{check\_tree}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree}{test\_partitioner\_utils::BinaryTree}}\&);}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00415\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceuniform__iterations__distribution_ad95329b2f9726687efd9284bad09e749}{check\_tree<tbb::affinity\_partitioner>}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree}{test\_partitioner\_utils::BinaryTree}}\&\ tree)\ \{}
\DoxyCodeLine{00416\ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(tree\ ==\ \mbox{\hyperlink{namespacewhitebox__simulation_a12802c3050f4a1936bda4c26992b42af}{whitebox\_simulation::reference\_tree}},}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}affinity\_partitioner\ distributes\ tasks\ differently\ from\ run\ to\ run"{}});}
\DoxyCodeLine{00418\ \}}
\DoxyCodeLine{00419\ }
\DoxyCodeLine{00420\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00421\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceuniform__iterations__distribution_a0ab6e9df2542d0d6e2fdddd67b102f08}{check\_tree<tbb::static\_partitioner>}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree}{test\_partitioner\_utils::BinaryTree}}\&\ tree)\ \{}
\DoxyCodeLine{00422\ \ \ \ \ std::vector<test\_partitioner\_utils::TreeNode*\ >\ tree\_leafs;}
\DoxyCodeLine{00423\ \ \ \ \ tree.\mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree_a6ee44b69c53fd5f7f33f653b52f8c8ff}{fill\_leafs}}(tree\_leafs);}
\DoxyCodeLine{00424\ \ \ \ \ \textcolor{keyword}{typedef}\ std::vector<size\_t>\ Slots;}
\DoxyCodeLine{00425\ \ \ \ \ Slots\ affinity\_slots(tree\_leafs.size()\ +\ 1,\ 0);}
\DoxyCodeLine{00426\ }
\DoxyCodeLine{00427\ \ \ \ \ \textcolor{keywordflow}{for}\ (std::vector<test\_partitioner\_utils::TreeNode*>::iterator\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ tree\_leafs.begin();\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ !=\ tree\_leafs.end();\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ affinity\_slots[(*i)-\/>m\_affinity]++;}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((*i)-\/>m\_affinity\ ==\ 0)}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}((*i)-\/>m\_range\_begin\ ==\ \mbox{\hyperlink{namespaceuniform__iterations__distribution_1_1task__affinity__whitebox_ac71fb0f57683506180a2d1579e023a38}{task\_affinity\_whitebox::range\_begin}},}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Task\ with\ affinity\ 0\ was\ executed\ with\ wrong\ range"{}});}
\DoxyCodeLine{00432\ \ \ \ \ \}}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \ \ \ \ \textcolor{keyword}{typedef}\ std::iterator\_traits<Slots::iterator>::difference\_type\ slots\_difference\_type;}
\DoxyCodeLine{00435\ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(std::count(affinity\_slots.begin(),\ affinity\_slots.end(),\ \textcolor{keywordtype}{size\_t}(0))\ ==\ slots\_difference\_type(1),}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}static\_partitioner\ incorrectly\ distributed\ tasks\ by\ threads"{}});}
\DoxyCodeLine{00437\ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(std::count(affinity\_slots.begin(),\ affinity\_slots.end(),\ \textcolor{keywordtype}{size\_t}(1))\ ==\ slots\_difference\_type(\mbox{\hyperlink{test__partitioner__whitebox_8h_a77c7fe980c452d5f375478989f5ec3c3}{g\_threadNums}}.local()),}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}static\_partitioner\ incorrectly\ distributed\ tasks\ by\ threads"{}});}
\DoxyCodeLine{00439\ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(affinity\_slots[\mbox{\hyperlink{namespacetbb_1_1this__task__arena_a3ab8c42906cedb6fc3e088097e8639ea}{tbb::this\_task\_arena::current\_thread\_index}}()\ +\ 1]\ ==\ 0,}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}static\_partitioner\ incorrectly\ assigns\ task\ with\ 0\ affinity"{}});}
\DoxyCodeLine{00441\ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(std::accumulate(affinity\_slots.begin(),\ affinity\_slots.end(),\ \textcolor{keywordtype}{size\_t}(0))\ ==\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a77c7fe980c452d5f375478989f5ec3c3}{g\_threadNums}}.local(),}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}static\_partitioner\ has\ created\ more\ tasks\ than\ the\ number\ of\ threads"{}});}
\DoxyCodeLine{00443\ \}}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Partitioner>}
\DoxyCodeLine{00446\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceuniform__iterations__distribution_afe34b6b0f846c273478f8291306b5f9a}{test\_task\_affinity}}()\ \{}
\DoxyCodeLine{00447\ \ \ \ \ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespaceuniform__iterations__distribution_1_1task__affinity__whitebox}{task\_affinity\_whitebox}};}
\DoxyCodeLine{00448\ \ \ \ \ \mbox{\hyperlink{classtest__partitioner__utils_1_1_simple_body}{test\_partitioner\_utils::SimpleBody}}\ body;}
\DoxyCodeLine{00449\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ 1;\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ <=\ 50;\ ++\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\ \{}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a77c7fe980c452d5f375478989f5ec3c3}{g\_threadNums}}.local()\ =\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}};}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewhitebox__simulation_a40e4967ddab2adafb885c778b00fce8e}{whitebox\_simulation::whitebox\_thread\_index}}\ =\ 0;}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtest__partitioner__utils_1_1_test_ranges_1_1_blocked_range}{test\_partitioner\_utils::TestRanges::BlockedRange}}\ range(range\_begin,\ range\_end,\ \textcolor{comment}{/*statData*/}\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*provide\_feedback*/}\textcolor{keyword}{false},\ \textcolor{comment}{/*ensure\_non\_empty\_size*/}\textcolor{keyword}{false});}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ Partitioner\ partitioner;}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewhitebox__simulation_a12802c3050f4a1936bda4c26992b42af}{whitebox\_simulation::reference\_tree}}\ =\ \mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree}{test\_partitioner\_utils::BinaryTree}}();}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewhitebox__simulation_aa4f3e6e60e4c0db1a731c19cae950cdb}{whitebox\_simulation::parallel\_for}}(range,\ body,\ partitioner,\ \&(\mbox{\hyperlink{namespacewhitebox__simulation_a12802c3050f4a1936bda4c26992b42af}{whitebox\_simulation::reference\_tree}}));}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{namespacewhitebox__simulation_a40e4967ddab2adafb885c778b00fce8e}{whitebox\_simulation::whitebox\_thread\_index}}\ <\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\ \{}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtest__partitioner__utils_1_1_binary_tree}{test\_partitioner\_utils::BinaryTree}}\ tree;}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewhitebox__simulation_aa4f3e6e60e4c0db1a731c19cae950cdb}{whitebox\_simulation::parallel\_for}}(range,\ body,\ partitioner,\ \&tree);}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceuniform__iterations__distribution_aa1ffd505f9d61dbe090e5d7f60c2e930}{check\_tree<Partitioner>}}(tree);}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewhitebox__simulation_a40e4967ddab2adafb885c778b00fce8e}{whitebox\_simulation::whitebox\_thread\_index}}++;}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ range\_begin++;}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ range\_end\ +=\ 2;}
\DoxyCodeLine{00465\ \ \ \ \ \}}
\DoxyCodeLine{00466\ \}}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \}\ \textcolor{comment}{/*\ namespace\ uniform\_iterations\_distribution\ */}}

\end{DoxyCode}
