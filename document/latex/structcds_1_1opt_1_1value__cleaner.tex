\doxysection{cds\+::opt\+::value\+\_\+cleaner\texorpdfstring{$<$}{<} Type \texorpdfstring{$>$}{>} 模板结构体 参考}
\hypertarget{structcds_1_1opt_1_1value__cleaner}{}\label{structcds_1_1opt_1_1value__cleaner}\index{cds::opt::value\_cleaner$<$ Type $>$@{cds::opt::value\_cleaner$<$ Type $>$}}


\mbox{[}type-\/option\mbox{]} value cleaning  




{\ttfamily \#include $<$value\+\_\+cleaner.\+h$>$}



\doxysubsection{详细描述}
\subsubsection*{template$<$typename \mbox{\hyperlink{ir__common_8h_a1ac75f8fee198af783521627f1fecfbc}{Type}}$>$\newline
struct cds\+::opt\+::value\+\_\+cleaner$<$ Type $>$}
\mbox{[}type-\/option\mbox{]} value cleaning 

The cleaner is a functor called when an item is removed from a container. Note, the cleaner should not delete (deallocate) the value {\ttfamily val} passed in. However, if the {\ttfamily value\+\_\+type} type is a structure that contains dynamically allocated field(s), the cleaning functor may deallocate it and initialize to default value (usually, {\ttfamily nullptr}).

The interface for type {\ttfamily value\+\_\+type} is\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }myCleaner\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ operator\ ()(\ value\_type\&\ val\ )}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ...}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ code\ to\ cleanup\ val}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


Predefined option types\+: \begin{DoxyItemize}
\item \doxylink{structcds_1_1opt_1_1v_1_1empty__cleaner}{opt\+::v\+::empty\+\_\+cleaner} \item \doxylink{structcds_1_1opt_1_1v_1_1destruct__cleaner}{opt\+::v\+::destruct\+\_\+cleaner} \item \doxylink{structcds_1_1opt_1_1v_1_1auto__cleaner}{opt\+::v\+::auto\+\_\+cleaner} \end{DoxyItemize}


该结构体的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/opt/\mbox{\hyperlink{value__cleaner_8h}{value\+\_\+cleaner.\+h}}\end{DoxyCompactItemize}
