\doxysection{constant.\+h}
\hypertarget{constant_8h_source}{}\label{constant_8h_source}\index{runtime/dsl/constant.h@{runtime/dsl/constant.h}}
\mbox{\hyperlink{constant_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Created\ by\ Mike\ Smith\ on\ 2021/3/2.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{constant__data_8h}{runtime/ast/constant\_data.h}}>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{expr_8h}{runtime/dsl/expr.h}}>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute}{luisa::compute}}\ \{}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}\ \{}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00016\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_data}{ConstantData}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_ab8986c1d05c61a573508cf110abdbeb1}{\_data}};}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00020\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}()\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}(\mbox{\hyperlink{namespaceluisa}{luisa}}::\mbox{\hyperlink{classeastl_1_1span}{span}}<const\ T>\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}})\ noexcept}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_ab8986c1d05c61a573508cf110abdbeb1}{\_data}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1_constant_data_a35965bb5b89b7c5a566d75d0794828d8}{ConstantData::create}}(Type::array(Type::of<T>(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}}.size()),}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}}.data(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}}.size\_bytes())\}\ \{\}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_a10d0a6db1d8c7e12e465ea2b58bf334f}{Constant}}(\textcolor{keyword}{const}\ T\ *\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}})\ noexcept}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}\{luisa::span\{\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}}\}\}\ \{\}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_a446bd84f33d319ffcaa758b754d0d184}{Constant}}(U\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}})\ noexcept}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}\{luisa::span<const\ T>\{std::forward<U>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}})\}\}\ \{\}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aa4b77d644e79ae375f9c479e6478cdfa}{Constant}}(\mbox{\hyperlink{classstd_1_1initializer__list}{std::initializer\_list<T>}}\ \mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}})\ noexcept}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}\{luisa::span<const\ T>\{\mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}}.begin(),\ \mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}}.end()\}\}\ \{\}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_a155f5e8315fd51555e7b149253a0104b}{Constant}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}\ \&\&)\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}\ \&\&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}\ \&operator=(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_aee3fa9db3ce2d72ac974967a5d33df29}{Constant}}\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00046\ \ \ \ \ template<typename\ U>}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ requires\ \mbox{\hyperlink{namespaceluisa_1_1compute_a2e4127befb5af9644bdabcf03206d9a0}{is\_integral\_expr\_v}}<U>}
\DoxyCodeLine{00048\ \ \ \ \ [[nodiscard]]\ auto\ operator[](U\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ const\ noexcept\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>access(}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ Type::of<T>(),}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>\mbox{\hyperlink{sugar_8h_aa8e9443eab9b01139ff3abfc68cd22ed}{constant}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_constant_ab8986c1d05c61a573508cf110abdbeb1}{\_data}}),}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail_af5ea7b87d6c0847255b35710ebc5579f}{detail::extract\_expression}}(std::forward<U>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}))));}
\DoxyCodeLine{00053\ \ \ \ \ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00057\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_a8497672b55f337eb8638896f1245f196}{read}}(I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (*\textcolor{keyword}{this})[std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})];}
\DoxyCodeLine{00059\ \ \ \ \ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant_ac22c22262130f0d20219214fc8f2a985}{operator-\/>}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00062\ \};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00065\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant}{Constant}}(luisa::span<T>\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}})\ -\/>\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant}{Constant<T>}};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00068\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant}{Constant}}(luisa::span<const\ T>\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}})\ -\/>\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant}{Constant<T>}};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00071\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant}{Constant}}(\mbox{\hyperlink{classstd_1_1initializer__list}{std::initializer\_list<T>}})\ -\/>\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant}{Constant<T>}};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{keyword}{template}<concepts::container\ T>}
\DoxyCodeLine{00074\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant}{Constant}}(T\ \&\&)\ -\/>\ \mbox{\hyperlink{classluisa_1_1compute_1_1_constant}{Constant<std::remove\_const\_t<typename\ std::remove\_cvref\_t<T>::value\_type}}>>;}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \}\textcolor{comment}{//\ namespace\ luisa::compute}}

\end{DoxyCode}
