\doxysection{tbb\+::task\+\_\+scheduler\+\_\+observer类 参考}
\hypertarget{classtbb_1_1task__scheduler__observer}{}\label{classtbb_1_1task__scheduler__observer}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}


{\ttfamily \#include $<$task\+\_\+scheduler\+\_\+observer.\+h$>$}



类 tbb\+::task\+\_\+scheduler\+\_\+observer 继承关系图\+:
% FIG 0


tbb\+::task\+\_\+scheduler\+\_\+observer 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtbb_1_1task__scheduler__observer_a89025b1e1d42e97d6fe114c0c331f730}{task\+\_\+scheduler\+\_\+observer}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} local=\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})
\begin{DoxyCompactList}\small\item\em Construct local or global observer in inactive state (observation disabled). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1task__scheduler__observer_a36e7e0c466320029d5a3e50a573e04c1}{task\+\_\+scheduler\+\_\+observer}} (\mbox{\hyperlink{classtbb_1_1interface7_1_1task__arena}{task\+\_\+arena}} \&\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})
\begin{DoxyCompactList}\small\item\em Construct local observer for a given arena in inactive state (observation disabled). \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classtbb_1_1task__scheduler__observer_a9ef3f1853439b46e5a9db7fd1c0f9116}{\texorpdfstring{$\sim$}{\string~}task\+\_\+scheduler\+\_\+observer}} ()
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1task__scheduler__observer_ad5b33790cea52c61e1fb004a8ed26365}{observe}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} state=\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}})
\begin{DoxyCompactList}\small\item\em Enable or disable observation \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public 成员函数 继承自 \mbox{\hyperlink{classtbb_1_1internal_1_1task__scheduler__observer__v3}{tbb\+::internal\+::task\+\_\+scheduler\+\_\+observer\+\_\+v3}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{tbb__stddef_8h_a7a1df7e6f83415a1624716541dc4b741}{\+\_\+\+\_\+\+TBB\+\_\+\+EXPORTED\+\_\+\+METHOD}} \mbox{\hyperlink{classtbb_1_1internal_1_1task__scheduler__observer__v3_a40209b347e3c82bb5bfda05941304309}{observe}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} state=\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}})
\begin{DoxyCompactList}\small\item\em Enable or disable observation \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1task__scheduler__observer__v3_af6660648f58efcfa97301ec8283280b7}{is\+\_\+observing}} () const
\begin{DoxyCompactList}\small\item\em Returns true if observation is enabled, false otherwise. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1task__scheduler__observer__v3_a25bffb05efaaab36bc58590969e29745}{task\+\_\+scheduler\+\_\+observer\+\_\+v3}} ()
\begin{DoxyCompactList}\small\item\em Construct observer with observation disabled. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1task__scheduler__observer__v3_af4282a27725fbe86052bb785bdd9c5d3}{on\+\_\+scheduler\+\_\+entry}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}})
\begin{DoxyCompactList}\small\item\em Entry notification \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1task__scheduler__observer__v3_a657e90f833568e217b807d0122fa7668}{on\+\_\+scheduler\+\_\+exit}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}})
\begin{DoxyCompactList}\small\item\em Exit notification \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classtbb_1_1internal_1_1task__scheduler__observer__v3_a151e475ebba39172fcc13f43bed426cc}{\texorpdfstring{$\sim$}{\string~}task\+\_\+scheduler\+\_\+observer\+\_\+v3}} ()
\begin{DoxyCompactList}\small\item\em Destructor automatically switches observation off if it is enabled. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 类型}
\begin{DoxyCompactItemize}
\item 
enum \{ \mbox{\hyperlink{classtbb_1_1interface6_1_1task__scheduler__observer_aeddabc6b57f6b18a4e1362ada9219814a42e65bc6bcc7973f6b651c30d9187fa4}{global\+\_\+tag}} = 0
, \mbox{\hyperlink{classtbb_1_1interface6_1_1task__scheduler__observer_aeddabc6b57f6b18a4e1362ada9219814a520d3d4301c038f01fd40aa718f17351}{implicit\+\_\+tag}} = 1
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
intptr\+\_\+t \mbox{\hyperlink{classtbb_1_1task__scheduler__observer_a38756346ca5d83675a6d47428eeecb39}{my\+\_\+context\+\_\+tag}}
\begin{DoxyCompactList}\small\item\em contains \doxylink{classtbb_1_1task__arena}{task\+\_\+arena} pointer or tag indicating local or global semantics of the observer \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Private 属性}
\begin{DoxyCompactItemize}
\item 
static const intptr\+\_\+t \mbox{\hyperlink{classtbb_1_1task__scheduler__observer_a093b84f4557b062cd9ec761ae8a51801}{v6\+\_\+trait}} = (intptr\+\_\+t)((\texorpdfstring{$\sim$}{\string~}(uintptr\+\_\+t)0 $>$$>$ 1) + 1)
\end{DoxyCompactItemize}
\doxysubsubsection*{友元}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classtbb_1_1task__scheduler__observer_a567691ababd2dee2c44d1d6d4b9b093a}{internal\+::task\+\_\+scheduler\+\_\+observer\+\_\+v3}}
\item 
class \mbox{\hyperlink{classtbb_1_1task__scheduler__observer_ae3fb165cd890fab10c1d09823dcb0ac9}{internal\+::observer\+\_\+proxy}}
\item 
class \mbox{\hyperlink{classtbb_1_1task__scheduler__observer_a5d0d193bf27a1606466663c68e05e1b3}{internal\+::observer\+\_\+list}}
\end{DoxyCompactItemize}


\doxysubsection{成员枚举类型说明}
\Hypertarget{classtbb_1_1task__scheduler__observer_aeddabc6b57f6b18a4e1362ada9219814}\doxysubsubsection{\texorpdfstring{anonymous enum}{anonymous enum}}
{\footnotesize\ttfamily \label{classtbb_1_1task__scheduler__observer_aeddabc6b57f6b18a4e1362ada9219814} 
anonymous enum\hspace{0.3cm}{\ttfamily [private]}}

\begin{DoxyEnumFields}[2]{枚举值}
\raisebox{\heightof{T}}[0pt][0pt]{\index{global\_tag@{global\_tag}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!global\_tag@{global\_tag}}}\Hypertarget{classtbb_1_1task__scheduler__observer_aeddabc6b57f6b18a4e1362ada9219814a42e65bc6bcc7973f6b651c30d9187fa4}\label{classtbb_1_1task__scheduler__observer_aeddabc6b57f6b18a4e1362ada9219814a42e65bc6bcc7973f6b651c30d9187fa4} 
global\+\_\+tag&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{implicit\_tag@{implicit\_tag}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!implicit\_tag@{implicit\_tag}}}\Hypertarget{classtbb_1_1task__scheduler__observer_aeddabc6b57f6b18a4e1362ada9219814a520d3d4301c038f01fd40aa718f17351}\label{classtbb_1_1task__scheduler__observer_aeddabc6b57f6b18a4e1362ada9219814a520d3d4301c038f01fd40aa718f17351} 
implicit\+\_\+tag&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{构造及析构函数说明}
\Hypertarget{classtbb_1_1task__scheduler__observer_a89025b1e1d42e97d6fe114c0c331f730}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!task\_scheduler\_observer@{task\_scheduler\_observer}}
\index{task\_scheduler\_observer@{task\_scheduler\_observer}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}
\doxysubsubsection{\texorpdfstring{task\_scheduler\_observer()}{task\_scheduler\_observer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtbb_1_1task__scheduler__observer_a89025b1e1d42e97d6fe114c0c331f730} 
tbb\+::interface6\+::task\+\_\+scheduler\+\_\+observer\+::task\+\_\+scheduler\+\_\+observer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{local}{ = {\ttfamily \mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Construct local or global observer in inactive state (observation disabled). 

For a local observer entry/exit notifications are invoked whenever a worker thread joins/leaves the arena of the observer\textquotesingle{}s owner thread. If a thread is already in the arena when the observer is activated, the entry notification is called before it executes the first stolen task. TODO\+: Obsolete. Global observer semantics is obsolete as it violates master thread isolation guarantees and is not composable. Thus the current default behavior of the constructor is obsolete too and will be changed in one of the future versions of the library. \Hypertarget{classtbb_1_1task__scheduler__observer_a36e7e0c466320029d5a3e50a573e04c1}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!task\_scheduler\_observer@{task\_scheduler\_observer}}
\index{task\_scheduler\_observer@{task\_scheduler\_observer}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}
\doxysubsubsection{\texorpdfstring{task\_scheduler\_observer()}{task\_scheduler\_observer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtbb_1_1task__scheduler__observer_a36e7e0c466320029d5a3e50a573e04c1} 
tbb\+::interface6\+::task\+\_\+scheduler\+\_\+observer\+::task\+\_\+scheduler\+\_\+observer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1interface7_1_1task__arena}{task\+\_\+arena}} \&}]{a}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Construct local observer for a given arena in inactive state (observation disabled). 

entry/exit notifications are invoked whenever a thread joins/leaves arena. If a thread is already in the arena when the observer is activated, the entry notification is called before it executes the first stolen task. \Hypertarget{classtbb_1_1task__scheduler__observer_a9ef3f1853439b46e5a9db7fd1c0f9116}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!````~task\_scheduler\_observer@{\texorpdfstring{$\sim$}{\string~}task\_scheduler\_observer}}
\index{````~task\_scheduler\_observer@{\texorpdfstring{$\sim$}{\string~}task\_scheduler\_observer}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}task\_scheduler\_observer()}{\string~task\_scheduler\_observer()}}
{\footnotesize\ttfamily \label{classtbb_1_1task__scheduler__observer_a9ef3f1853439b46e5a9db7fd1c0f9116} 
virtual tbb\+::interface6\+::task\+\_\+scheduler\+\_\+observer\+::\texorpdfstring{$\sim$}{\string~}task\+\_\+scheduler\+\_\+observer (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Destructor protects instance of the observer from concurrent notification. It is recommended to disable observation before destructor of a derived class starts, otherwise it can lead to concurrent notification callback on partly destroyed object 

\doxysubsection{成员函数说明}
\Hypertarget{classtbb_1_1task__scheduler__observer_ad5b33790cea52c61e1fb004a8ed26365}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!observe@{observe}}
\index{observe@{observe}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}
\doxysubsubsection{\texorpdfstring{observe()}{observe()}}
{\footnotesize\ttfamily \label{classtbb_1_1task__scheduler__observer_ad5b33790cea52c61e1fb004a8ed26365} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::interface6\+::task\+\_\+scheduler\+\_\+observer\+::observe (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{state}{ = {\ttfamily \mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enable or disable observation 

Warning\+: concurrent invocations of this method are not safe. Repeated calls with the same state are no-\/ops. 

\doxysubsection{友元及相关符号说明}
\Hypertarget{classtbb_1_1task__scheduler__observer_a5d0d193bf27a1606466663c68e05e1b3}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!internal::observer\_list@{internal::observer\_list}}
\index{internal::observer\_list@{internal::observer\_list}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}
\doxysubsubsection{\texorpdfstring{internal::observer\_list}{internal::observer\_list}}
{\footnotesize\ttfamily \label{classtbb_1_1task__scheduler__observer_a5d0d193bf27a1606466663c68e05e1b3} 
friend class internal\+::observer\+\_\+list\hspace{0.3cm}{\ttfamily [friend]}}

\Hypertarget{classtbb_1_1task__scheduler__observer_ae3fb165cd890fab10c1d09823dcb0ac9}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!internal::observer\_proxy@{internal::observer\_proxy}}
\index{internal::observer\_proxy@{internal::observer\_proxy}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}
\doxysubsubsection{\texorpdfstring{internal::observer\_proxy}{internal::observer\_proxy}}
{\footnotesize\ttfamily \label{classtbb_1_1task__scheduler__observer_ae3fb165cd890fab10c1d09823dcb0ac9} 
friend class internal\+::observer\+\_\+proxy\hspace{0.3cm}{\ttfamily [friend]}}

\Hypertarget{classtbb_1_1task__scheduler__observer_a567691ababd2dee2c44d1d6d4b9b093a}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!internal::task\_scheduler\_observer\_v3@{internal::task\_scheduler\_observer\_v3}}
\index{internal::task\_scheduler\_observer\_v3@{internal::task\_scheduler\_observer\_v3}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}
\doxysubsubsection{\texorpdfstring{internal::task\_scheduler\_observer\_v3}{internal::task\_scheduler\_observer\_v3}}
{\footnotesize\ttfamily \label{classtbb_1_1task__scheduler__observer_a567691ababd2dee2c44d1d6d4b9b093a} 
friend class \mbox{\hyperlink{classtbb_1_1internal_1_1task__scheduler__observer__v3}{internal\+::task\+\_\+scheduler\+\_\+observer\+\_\+v3}}\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{类成员变量说明}
\Hypertarget{classtbb_1_1task__scheduler__observer_a38756346ca5d83675a6d47428eeecb39}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!my\_context\_tag@{my\_context\_tag}}
\index{my\_context\_tag@{my\_context\_tag}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}
\doxysubsubsection{\texorpdfstring{my\_context\_tag}{my\_context\_tag}}
{\footnotesize\ttfamily \label{classtbb_1_1task__scheduler__observer_a38756346ca5d83675a6d47428eeecb39} 
intptr\+\_\+t tbb\+::interface6\+::task\+\_\+scheduler\+\_\+observer\+::my\+\_\+context\+\_\+tag\hspace{0.3cm}{\ttfamily [private]}}



contains \doxylink{classtbb_1_1task__arena}{task\+\_\+arena} pointer or tag indicating local or global semantics of the observer 

\Hypertarget{classtbb_1_1task__scheduler__observer_a093b84f4557b062cd9ec761ae8a51801}\index{tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}!v6\_trait@{v6\_trait}}
\index{v6\_trait@{v6\_trait}!tbb::task\_scheduler\_observer@{tbb::task\_scheduler\_observer}}
\doxysubsubsection{\texorpdfstring{v6\_trait}{v6\_trait}}
{\footnotesize\ttfamily \label{classtbb_1_1task__scheduler__observer_a093b84f4557b062cd9ec761ae8a51801} 
const intptr\+\_\+t tbb\+::interface6\+::task\+\_\+scheduler\+\_\+observer\+::v6\+\_\+trait = (intptr\+\_\+t)((\texorpdfstring{$\sim$}{\string~}(uintptr\+\_\+t)0 $>$$>$ 1) + 1)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

Negative numbers with the largest absolute value to minimize probability of coincidence in case of a bug in busy count usage. 

该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/include/tbb/\mbox{\hyperlink{task__scheduler__observer_8h}{task\+\_\+scheduler\+\_\+observer.\+h}}\end{DoxyCompactItemize}
