\doxysection{tf\+::Bounded\+Task\+Queue\texorpdfstring{$<$}{<} T, Log\+Size \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classtf_1_1_bounded_task_queue}{}\label{classtf_1_1_bounded_task_queue}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}


class to create a lock-\/free bounded work-\/stealing queue  




{\ttfamily \#include $<$tsq.\+hpp$>$}

\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1_bounded_task_queue_a4160bb42036d75bc60f95cc189792a3d}{Bounded\+Task\+Queue}} ()=\mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}}
\begin{DoxyCompactList}\small\item\em constructs the queue with a given capacity \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1_bounded_task_queue_a5811b32810d0e70a1572a8ef594eba7e}{\texorpdfstring{$\sim$}{\string~}\+Bounded\+Task\+Queue}} ()=\mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}}
\begin{DoxyCompactList}\small\item\em destructs the queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue_ae64ab051e9ce597482cb602ce967d459}{empty}} () const noexcept
\begin{DoxyCompactList}\small\item\em queries if the queue is empty at the time of this call \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_bounded_task_queue_a76620d4f4a85eae9e4626b9d83c61cb3}{size}} () const noexcept
\begin{DoxyCompactList}\small\item\em queries the number of items at the time of this call \end{DoxyCompactList}\item 
constexpr size\+\_\+t \mbox{\hyperlink{classtf_1_1_bounded_task_queue_ae3c7315f59e60f806225ee9cf8d55229}{capacity}} () const
\begin{DoxyCompactList}\small\item\em queries the capacity of the queue \end{DoxyCompactList}\item 
{\footnotesize template$<$typename O$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue_af52edec086b5e1a9c090eff6a6a76dae}{try\+\_\+push}} (O \&\&item)
\begin{DoxyCompactList}\small\item\em tries to insert an item to the queue \end{DoxyCompactList}\item 
{\footnotesize template$<$typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue_a9b0c93adcdeb0a876869027a211fdf62}{push}} (O \&\&item, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&on\+\_\+full)
\begin{DoxyCompactList}\small\item\em tries to insert an item to the queue or invoke the callable if fails \end{DoxyCompactList}\item 
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue_a2b9e1d2502b489656b89cb505e95e71b}{pop}} ()
\begin{DoxyCompactList}\small\item\em pops out an item from the queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue_ad2b4f8d262b0093ce08dea92c00fae1b}{steal}} ()
\begin{DoxyCompactList}\small\item\em steals an item from the queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue_a8dfccb6523bc07fe9955ddda5136836a}{steal\+\_\+with\+\_\+hint}} (size\+\_\+t \&num\+\_\+empty\+\_\+steals)
\begin{DoxyCompactList}\small\item\em attempts to steal a task with a hint mechanism \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
std\+::atomic$<$ \mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\+\_\+t}} $>$ \mbox{\hyperlink{classtf_1_1_bounded_task_queue_a51e4f79ae1957cde7b1208b2119246c6}{\+\_\+top}} \{0\}
\item 
std\+::atomic$<$ \mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\+\_\+t}} $>$ \mbox{\hyperlink{classtf_1_1_bounded_task_queue_a4f6a86178138cff2f95243c2cc6b01e4}{\+\_\+bottom}} \{0\}
\item 
std\+::atomic$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \mbox{\hyperlink{classtf_1_1_bounded_task_queue_ae1871b739c04078d56e2031c6cda8f59}{\+\_\+buffer}} \mbox{[}\mbox{\hyperlink{classtf_1_1_bounded_task_queue_a3e4656c989b63e3d58b98019890c192d}{Buffer\+Size}}\mbox{]}
\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Private 属性}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\+\_\+t}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue_a3e4656c989b63e3d58b98019890c192d}{Buffer\+Size}} = \mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\+\_\+t}}\{1\} $<$$<$ Log\+Size
\item 
static constexpr \mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\+\_\+t}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue_a79d98ee5818a71f7240352e8b454039c}{Buffer\+Mask}} = (\mbox{\hyperlink{classtf_1_1_bounded_task_queue_a3e4656c989b63e3d58b98019890c192d}{Buffer\+Size}} -\/ 1)
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = TF\+\_\+\+DEFAULT\+\_\+\+BOUNDED\+\_\+\+TASK\+\_\+\+QUEUE\+\_\+\+LOG\+\_\+\+SIZE$>$\newline
class tf\+::\+Bounded\+Task\+Queue$<$ T, Log\+Size $>$}
class to create a lock-\/free bounded work-\/stealing queue 


\begin{DoxyTemplParams}{模板参数}
{\em T} & data type \\
\hline
{\em Log\+Size} & the base-\/2 logarithm of the queue size\\
\hline
\end{DoxyTemplParams}


This class implements the work-\/stealing queue described in the paper, "{}\+Correct and Efficient Work-\/\+Stealing for Weak Memory Models,"{} available at \href{https://www.di.ens.fr/~zappa/readings/ppopp13.pdf}{\texttt{ https\+://www.\+di.\+ens.\+fr/\texorpdfstring{$\sim$}{\string~}zappa/readings/ppopp13.\+pdf}}.

Only the queue owner can perform pop and push operations, while others can steal data from the queue. 

\doxysubsection{构造及析构函数说明}
\Hypertarget{classtf_1_1_bounded_task_queue_a4160bb42036d75bc60f95cc189792a3d}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!BoundedTaskQueue@{BoundedTaskQueue}}
\index{BoundedTaskQueue@{BoundedTaskQueue}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{BoundedTaskQueue()}{BoundedTaskQueue()}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_a4160bb42036d75bc60f95cc189792a3d} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = TF\+\_\+\+DEFAULT\+\_\+\+BOUNDED\+\_\+\+TASK\+\_\+\+QUEUE\+\_\+\+LOG\+\_\+\+SIZE$>$ \\
\mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+Bounded\+Task\+Queue (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



constructs the queue with a given capacity 

\Hypertarget{classtf_1_1_bounded_task_queue_a5811b32810d0e70a1572a8ef594eba7e}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!````~BoundedTaskQueue@{\texorpdfstring{$\sim$}{\string~}BoundedTaskQueue}}
\index{````~BoundedTaskQueue@{\texorpdfstring{$\sim$}{\string~}BoundedTaskQueue}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}BoundedTaskQueue()}{\string~BoundedTaskQueue()}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_a5811b32810d0e70a1572a8ef594eba7e} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = TF\+\_\+\+DEFAULT\+\_\+\+BOUNDED\+\_\+\+TASK\+\_\+\+QUEUE\+\_\+\+LOG\+\_\+\+SIZE$>$ \\
\mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\texorpdfstring{$\sim$}{\string~}\mbox{\hyperlink{classtf_1_1_bounded_task_queue}{Bounded\+Task\+Queue}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



destructs the queue 



\doxysubsection{成员函数说明}
\Hypertarget{classtf_1_1_bounded_task_queue_ae3c7315f59e60f806225ee9cf8d55229}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!capacity@{capacity}}
\index{capacity@{capacity}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{capacity()}{capacity()}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_ae3c7315f59e60f806225ee9cf8d55229} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size$>$ \\
size\+\_\+t \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::capacity (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [constexpr]}}



queries the capacity of the queue 

函数调用图\+:
% FIG 0
\Hypertarget{classtf_1_1_bounded_task_queue_ae64ab051e9ce597482cb602ce967d459}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!empty@{empty}}
\index{empty@{empty}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_ae64ab051e9ce597482cb602ce967d459} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}



queries if the queue is empty at the time of this call 

函数调用图\+:
% FIG 1
\Hypertarget{classtf_1_1_bounded_task_queue_a2b9e1d2502b489656b89cb505e95e71b}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!pop@{pop}}
\index{pop@{pop}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_a2b9e1d2502b489656b89cb505e95e71b} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size$>$ \\
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::pop (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



pops out an item from the queue 

Only the owner thread can pop out an item from the queue. The return can be a {\ttfamily nullptr} if this operation failed (empty queue). 函数调用图\+:
% FIG 2
\Hypertarget{classtf_1_1_bounded_task_queue_a9b0c93adcdeb0a876869027a211fdf62}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!push@{push}}
\index{push@{push}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_a9b0c93adcdeb0a876869027a211fdf62} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size$>$ \\
template$<$typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::push (\begin{DoxyParamCaption}\item[{O \&\&}]{item}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{on\+\_\+full}{}\end{DoxyParamCaption})}



tries to insert an item to the queue or invoke the callable if fails 


\begin{DoxyTemplParams}{模板参数}
{\em O} & data type \\
\hline
{\em C} & callable type \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em item} & the item to perfect-\/forward to the queue \\
\hline
{\em on\+\_\+full} & callable to invoke when the queue is full (insertion fails)\\
\hline
\end{DoxyParams}
Only the owner thread can insert an item to the queue. 函数调用图\+:
% FIG 3
\Hypertarget{classtf_1_1_bounded_task_queue_a76620d4f4a85eae9e4626b9d83c61cb3}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!size@{size}}
\index{size@{size}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_a76620d4f4a85eae9e4626b9d83c61cb3} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size$>$ \\
size\+\_\+t \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{\+::size}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}



queries the number of items at the time of this call 

函数调用图\+:
% FIG 4
\Hypertarget{classtf_1_1_bounded_task_queue_ad2b4f8d262b0093ce08dea92c00fae1b}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!steal@{steal}}
\index{steal@{steal}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{steal()}{steal()}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_ad2b4f8d262b0093ce08dea92c00fae1b} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size$>$ \\
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::steal (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



steals an item from the queue 

Any threads can try to steal an item from the queue. The return can be a {\ttfamily nullptr} if this operation failed (not necessary empty). 函数调用图\+:
% FIG 5
\Hypertarget{classtf_1_1_bounded_task_queue_a8dfccb6523bc07fe9955ddda5136836a}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!steal\_with\_hint@{steal\_with\_hint}}
\index{steal\_with\_hint@{steal\_with\_hint}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{steal\_with\_hint()}{steal\_with\_hint()}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_a8dfccb6523bc07fe9955ddda5136836a} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size$>$ \\
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::steal\+\_\+with\+\_\+hint (\begin{DoxyParamCaption}\item[{size\+\_\+t \&}]{num\+\_\+empty\+\_\+steals}{}\end{DoxyParamCaption})}



attempts to steal a task with a hint mechanism 


\begin{DoxyParams}{参数}
{\em num\+\_\+empty\+\_\+steals} & a reference to a counter tracking consecutive empty steal attempts\\
\hline
\end{DoxyParams}
This function tries to steal a task from the queue. If the steal attempt is successful, the stolen task is returned. Additionally, if the queue is empty, the provided counter {\ttfamily num\+\_\+empty\+\_\+steals} is incremented; otherwise, {\ttfamily num\+\_\+empty\+\_\+steals} is reset to zero. 函数调用图\+:
% FIG 6
\Hypertarget{classtf_1_1_bounded_task_queue_af52edec086b5e1a9c090eff6a6a76dae}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!try\_push@{try\_push}}
\index{try\_push@{try\_push}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{try\_push()}{try\_push()}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_af52edec086b5e1a9c090eff6a6a76dae} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size$>$ \\
template$<$typename O$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::try\+\_\+push (\begin{DoxyParamCaption}\item[{O \&\&}]{item}{}\end{DoxyParamCaption})}



tries to insert an item to the queue 


\begin{DoxyTemplParams}{模板参数}
{\em O} & data type \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em item} & the item to perfect-\/forward to the queue \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
{\ttfamily true} if the insertion succeed or {\ttfamily false} (queue is full)
\end{DoxyReturn}
Only the owner thread can insert an item to the queue. 函数调用图\+:
% FIG 7


\doxysubsection{类成员变量说明}
\Hypertarget{classtf_1_1_bounded_task_queue_a4f6a86178138cff2f95243c2cc6b01e4}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!\_bottom@{\_bottom}}
\index{\_bottom@{\_bottom}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{\_bottom}{\_bottom}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_a4f6a86178138cff2f95243c2cc6b01e4} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = TF\+\_\+\+DEFAULT\+\_\+\+BOUNDED\+\_\+\+TASK\+\_\+\+QUEUE\+\_\+\+LOG\+\_\+\+SIZE$>$ \\
std\+::atomic$<$\mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\+\_\+t}}$>$ \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+\_\+bottom \{0\}\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_bounded_task_queue_ae1871b739c04078d56e2031c6cda8f59}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!\_buffer@{\_buffer}}
\index{\_buffer@{\_buffer}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{\_buffer}{\_buffer}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_ae1871b739c04078d56e2031c6cda8f59} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = TF\+\_\+\+DEFAULT\+\_\+\+BOUNDED\+\_\+\+TASK\+\_\+\+QUEUE\+\_\+\+LOG\+\_\+\+SIZE$>$ \\
std\+::atomic$<$\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+\_\+buffer\mbox{[}\mbox{\hyperlink{classtf_1_1_bounded_task_queue_a3e4656c989b63e3d58b98019890c192d}{Buffer\+Size}}\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_bounded_task_queue_a51e4f79ae1957cde7b1208b2119246c6}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!\_top@{\_top}}
\index{\_top@{\_top}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{\_top}{\_top}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_a51e4f79ae1957cde7b1208b2119246c6} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = TF\+\_\+\+DEFAULT\+\_\+\+BOUNDED\+\_\+\+TASK\+\_\+\+QUEUE\+\_\+\+LOG\+\_\+\+SIZE$>$ \\
std\+::atomic$<$\mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\+\_\+t}}$>$ \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+\_\+top \{0\}\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_bounded_task_queue_a79d98ee5818a71f7240352e8b454039c}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!BufferMask@{BufferMask}}
\index{BufferMask@{BufferMask}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{BufferMask}{BufferMask}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_a79d98ee5818a71f7240352e8b454039c} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = TF\+\_\+\+DEFAULT\+\_\+\+BOUNDED\+\_\+\+TASK\+\_\+\+QUEUE\+\_\+\+LOG\+\_\+\+SIZE$>$ \\
\mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\+\_\+t}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+Buffer\+Mask = (\mbox{\hyperlink{classtf_1_1_bounded_task_queue_a3e4656c989b63e3d58b98019890c192d}{Buffer\+Size}} -\/ 1)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}

\Hypertarget{classtf_1_1_bounded_task_queue_a3e4656c989b63e3d58b98019890c192d}\index{tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}!BufferSize@{BufferSize}}
\index{BufferSize@{BufferSize}!tf::BoundedTaskQueue$<$ T, LogSize $>$@{tf::BoundedTaskQueue$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{BufferSize}{BufferSize}}
{\footnotesize\ttfamily \label{classtf_1_1_bounded_task_queue_a3e4656c989b63e3d58b98019890c192d} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = TF\+\_\+\+DEFAULT\+\_\+\+BOUNDED\+\_\+\+TASK\+\_\+\+QUEUE\+\_\+\+LOG\+\_\+\+SIZE$>$ \\
\mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\+\_\+t}} \mbox{\hyperlink{classtf_1_1_bounded_task_queue}{tf\+::\+Bounded\+Task\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+Buffer\+Size = \mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\+\_\+t}}\{1\} $<$$<$ Log\+Size\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/taskflow/core/\mbox{\hyperlink{tsq_8hpp}{tsq.\+hpp}}\end{DoxyCompactItemize}
