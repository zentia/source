\doxysection{cds\+::gc\+::DHP\+::Guard\+Array\texorpdfstring{$<$}{<} Count \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{}\label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}


Array of Dynamic Hazard Pointer guards  




{\ttfamily \#include $<$dhp.\+h$>$}

\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcds_1_1gc_1_1_d_h_p_1_1_guard_array_1_1rebind}{rebind}}
\begin{DoxyCompactList}\small\item\em Rebind array for other size {\ttfamily Other\+Count} \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a2fd440e131fce8084da10ffc75047bd0}{Guard\+Array}} ()
\begin{DoxyCompactList}\small\item\em Default ctor allocates {\ttfamily Count} hazard pointers \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a219b9bbf032871b15a093e34b5f90c67}{Guard\+Array}} (\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}} \&\&)=delete
\begin{DoxyCompactList}\small\item\em Move ctor is prohibited \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}} \& \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_acb918fef1e8d18a29deea8033523716d}{operator=}} (\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}} \&\&)=delete
\begin{DoxyCompactList}\small\item\em Move assignment is prohibited \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_afd7ef9e0a3b1d987c1ebfcbb3ef5ba5b}{Guard\+Array}} (\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}} const \&)=delete
\begin{DoxyCompactList}\small\item\em Copy ctor is prohibited \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}} \& \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a6793ba6b4587d5479f4d1d4a7fa44a5b}{operator=}} (\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}} const \&)=delete
\begin{DoxyCompactList}\small\item\em Copy assignment is prohibited \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a47e7f71eb274bff3920ff03c59abb745}{\texorpdfstring{$\sim$}{\string~}\+Guard\+Array}} ()
\begin{DoxyCompactList}\small\item\em Frees allocated hazard pointers \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a87892ccbee479664d1234c74aaa05455}{protect}} (size\+\_\+t n\+Index, atomics\+::atomic$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ const \&to\+Guard)
\begin{DoxyCompactList}\small\item\em Protects a pointer of type {\ttfamily atomic$<$\+T\texorpdfstring{$\ast$}{*}$>$} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, class Func$>$ }\\\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a506115a68e457f52862a57033e095450}{protect}} (size\+\_\+t n\+Index, atomics\+::atomic$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ const \&to\+Guard, Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Protects a pointer of type {\ttfamily atomic$<$\+T\texorpdfstring{$\ast$}{*}$>$} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a919145c3f338eec5cccc684b3e919ef1}{assign}} (size\+\_\+t n\+Index, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})
\begin{DoxyCompactList}\small\item\em Store {\ttfamily p} to the slot {\ttfamily n\+Index} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Bitmask$>$ }\\\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a3a259e105a385ed172e1c0569e3d7ebd}{assign}} (size\+\_\+t n\+Index, \mbox{\hyperlink{classcds_1_1details_1_1marked__ptr}{cds\+::details\+::marked\+\_\+ptr}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Bitmask $>$ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})
\begin{DoxyCompactList}\small\item\em Store marked pointer {\ttfamily p} to the guard \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_aa462309bf85efd62cabc13e4f6f7c7d6}{copy}} (size\+\_\+t n\+Index, \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard}{Guard}} const \&\mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}})
\begin{DoxyCompactList}\small\item\em Copy guarded value from {\ttfamily src} guard to slot at index {\ttfamily n\+Index} \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_ac3c4bbf1444e3ae24e6e26a37af2fd3c}{copy}} (size\+\_\+t n\+Dest\+Index, size\+\_\+t n\+Src\+Index)
\begin{DoxyCompactList}\small\item\em Copy guarded value from slot {\ttfamily n\+Src\+Index} to slot at index {\ttfamily n\+Dest\+Index} \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_ac3b83f492bffc76822396d20ee590553}{clear}} (size\+\_\+t n\+Index)
\begin{DoxyCompactList}\small\item\em Clear value of the slot {\ttfamily n\+Index} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_aeb65ab2bc8c0dec672f8d84bc6c38185}{get}} (size\+\_\+t n\+Index) const
\begin{DoxyCompactList}\small\item\em Get current value of slot {\ttfamily n\+Index} \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_ad6f94dbe36ebd1a1a1fdd6457d95db25}{guarded\+\_\+pointer}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_af0d9dc2a0e9ffc92facdb46c77db55af}{get\+\_\+native}} (size\+\_\+t n\+Index) const
\begin{DoxyCompactList}\small\item\em Get native guarded pointer stored \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a4388ea98c934c8b46bd51eb616e39a9d}{capacity}} ()
\begin{DoxyCompactList}\small\item\em Capacity of the guard array \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 属性}
\begin{DoxyCompactItemize}
\item 
static constexpr const size\+\_\+t \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a3e4377d555b60f4137f69e7a9fdd5058}{c\+\_\+n\+Capacity}} = \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}}
\begin{DoxyCompactList}\small\item\em Array capacity \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$size\+\_\+t Count$>$\newline
class cds\+::gc\+::\+DHP\+::\+Guard\+Array$<$ Count $>$}
Array of Dynamic Hazard Pointer guards 

The class is intended for allocating an array of hazard pointer guards. Template parameter {\ttfamily Count} defines the size of the array.

\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} {\ttfamily Guard\+Array} object is not copy-\/ and move-\/constructible and not copy-\/ and move-\/assignable. 

\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a2fd440e131fce8084da10ffc75047bd0}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!GuardArray@{GuardArray}}
\index{GuardArray@{GuardArray}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{GuardArray()}{GuardArray()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a2fd440e131fce8084da10ffc75047bd0} 
template$<$size\+\_\+t Count$>$ \\
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::\+Guard\+Array (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Default ctor allocates {\ttfamily Count} hazard pointers 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a219b9bbf032871b15a093e34b5f90c67}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!GuardArray@{GuardArray}}
\index{GuardArray@{GuardArray}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{GuardArray()}{GuardArray()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a219b9bbf032871b15a093e34b5f90c67} 
template$<$size\+\_\+t Count$>$ \\
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::\+Guard\+Array (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$ \&\&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



Move ctor is prohibited 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_afd7ef9e0a3b1d987c1ebfcbb3ef5ba5b}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!GuardArray@{GuardArray}}
\index{GuardArray@{GuardArray}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{GuardArray()}{GuardArray()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_afd7ef9e0a3b1d987c1ebfcbb3ef5ba5b} 
template$<$size\+\_\+t Count$>$ \\
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::\+Guard\+Array (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$ const \&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



Copy ctor is prohibited 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a47e7f71eb274bff3920ff03c59abb745}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!````~GuardArray@{\texorpdfstring{$\sim$}{\string~}GuardArray}}
\index{````~GuardArray@{\texorpdfstring{$\sim$}{\string~}GuardArray}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}GuardArray()}{\string~GuardArray()}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a47e7f71eb274bff3920ff03c59abb745} 
template$<$size\+\_\+t Count$>$ \\
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::\texorpdfstring{$\sim$}{\string~}\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Frees allocated hazard pointers 



\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a3a259e105a385ed172e1c0569e3d7ebd}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!assign@{assign}}
\index{assign@{assign}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{assign()}{assign()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a3a259e105a385ed172e1c0569e3d7ebd} 
template$<$size\+\_\+t Count$>$ \\
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Bitmask$>$ \\
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::assign (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Index}{, }\item[{\mbox{\hyperlink{classcds_1_1details_1_1marked__ptr}{cds\+::details\+::marked\+\_\+ptr}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Bitmask $>$}]{p}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Store marked pointer {\ttfamily p} to the guard 

The function is just an assignment of {\ttfamily p.\+ptr()}, no loop is performed. Can be used for a marked pointer that cannot be changed concurrently or for already guarded pointer. \Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a919145c3f338eec5cccc684b3e919ef1}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!assign@{assign}}
\index{assign@{assign}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{assign()}{assign()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a919145c3f338eec5cccc684b3e919ef1} 
template$<$size\+\_\+t Count$>$ \\
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::assign (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Index}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}}]{p}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Store {\ttfamily p} to the slot {\ttfamily n\+Index} 

The function is just an assignment, no loop is performed. \Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a4388ea98c934c8b46bd51eb616e39a9d}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!capacity@{capacity}}
\index{capacity@{capacity}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{capacity()}{capacity()}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a4388ea98c934c8b46bd51eb616e39a9d} 
template$<$size\+\_\+t Count$>$ \\
static constexpr size\+\_\+t \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::capacity (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [constexpr]}}



Capacity of the guard array 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_ac3b83f492bffc76822396d20ee590553}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!clear@{clear}}
\index{clear@{clear}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_ac3b83f492bffc76822396d20ee590553} 
template$<$size\+\_\+t Count$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::clear (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Index}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clear value of the slot {\ttfamily n\+Index} 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_ac3c4bbf1444e3ae24e6e26a37af2fd3c}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!copy@{copy}}
\index{copy@{copy}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{copy()}{copy()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_ac3c4bbf1444e3ae24e6e26a37af2fd3c} 
template$<$size\+\_\+t Count$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::copy (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Dest\+Index}{, }\item[{size\+\_\+t}]{n\+Src\+Index}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Copy guarded value from slot {\ttfamily n\+Src\+Index} to slot at index {\ttfamily n\+Dest\+Index} 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_aa462309bf85efd62cabc13e4f6f7c7d6}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!copy@{copy}}
\index{copy@{copy}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{copy()}{copy()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_aa462309bf85efd62cabc13e4f6f7c7d6} 
template$<$size\+\_\+t Count$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::copy (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Index}{, }\item[{\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard}{Guard}} const \&}]{src}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Copy guarded value from {\ttfamily src} guard to slot at index {\ttfamily n\+Index} 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_aeb65ab2bc8c0dec672f8d84bc6c38185}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!get@{get}}
\index{get@{get}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_aeb65ab2bc8c0dec672f8d84bc6c38185} 
template$<$size\+\_\+t Count$>$ \\
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\mbox{\hyperlink{structget}{\+::get}} (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Index}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get current value of slot {\ttfamily n\+Index} 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_af0d9dc2a0e9ffc92facdb46c77db55af}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!get\_native@{get\_native}}
\index{get\_native@{get\_native}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{get\_native()}{get\_native()}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_af0d9dc2a0e9ffc92facdb46c77db55af} 
template$<$size\+\_\+t Count$>$ \\
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_ad6f94dbe36ebd1a1a1fdd6457d95db25}{guarded\+\_\+pointer}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::get\+\_\+native (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Index}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get native guarded pointer stored 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_acb918fef1e8d18a29deea8033523716d}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!operator=@{operator=}}
\index{operator=@{operator=}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_acb918fef1e8d18a29deea8033523716d} 
template$<$size\+\_\+t Count$>$ \\
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}} \& \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$ \&\&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



Move assignment is prohibited 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a6793ba6b4587d5479f4d1d4a7fa44a5b}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!operator=@{operator=}}
\index{operator=@{operator=}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a6793ba6b4587d5479f4d1d4a7fa44a5b} 
template$<$size\+\_\+t Count$>$ \\
\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}} \& \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$ const \&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



Copy assignment is prohibited 

\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a87892ccbee479664d1234c74aaa05455}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!protect@{protect}}
\index{protect@{protect}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{protect()}{protect()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a87892ccbee479664d1234c74aaa05455} 
template$<$size\+\_\+t Count$>$ \\
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::protect (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Index}{, }\item[{atomics\+::atomic$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ const \&}]{to\+Guard}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Protects a pointer of type {\ttfamily atomic$<$\+T\texorpdfstring{$\ast$}{*}$>$} 

Return the value of {\ttfamily to\+Guard} 

The function tries to load {\ttfamily to\+Guard} and to store it to the slot {\ttfamily n\+Index} repeatedly until the guard\textquotesingle{}s value equals {\ttfamily to\+Guard} \Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a506115a68e457f52862a57033e095450}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!protect@{protect}}
\index{protect@{protect}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{protect()}{protect()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a506115a68e457f52862a57033e095450} 
template$<$size\+\_\+t Count$>$ \\
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, class Func$>$ \\
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::protect (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Index}{, }\item[{atomics\+::atomic$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ const \&}]{to\+Guard}{, }\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Protects a pointer of type {\ttfamily atomic$<$\+T\texorpdfstring{$\ast$}{*}$>$} 

Return the value of {\ttfamily to\+Guard} 

The function tries to load {\ttfamily to\+Guard} and to store it to the slot {\ttfamily n\+Index} repeatedly until the guard\textquotesingle{}s value equals {\ttfamily to\+Guard} 

The function is useful for intrusive containers when {\ttfamily to\+Guard} is a node pointer that should be converted to a pointer to the value type before guarding. The parameter {\ttfamily f} of type Func is a functor to make that conversion\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }functor\ \{}
\DoxyCodeLine{\ \ \ \ value\_type\ *\ operator()(\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ );}
\DoxyCodeLine{\};}

\end{DoxyCode}
 Actually, the result of {\ttfamily  f( to\+Guard.\+load()) } is assigned to the hazard pointer. 

\doxysubsection{类成员变量说明}
\Hypertarget{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a3e4377d555b60f4137f69e7a9fdd5058}\index{cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}!c\_nCapacity@{c\_nCapacity}}
\index{c\_nCapacity@{c\_nCapacity}!cds::gc::DHP::GuardArray$<$ Count $>$@{cds::gc::DHP::GuardArray$<$ Count $>$}}
\doxysubsubsection{\texorpdfstring{c\_nCapacity}{c\_nCapacity}}
{\footnotesize\ttfamily \label{classcds_1_1gc_1_1_d_h_p_1_1_guard_array_a3e4377d555b60f4137f69e7a9fdd5058} 
template$<$size\+\_\+t Count$>$ \\
const size\+\_\+t \mbox{\hyperlink{classcds_1_1gc_1_1_d_h_p_1_1_guard_array}{cds\+::gc\+::\+DHP\+::\+Guard\+Array}}$<$ \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}} $>$\+::c\+\_\+n\+Capacity = \mbox{\hyperlink{test__indexer__node_8cpp_a542c8d3c796b3c2830946ecf417c2ae5}{Count}}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Array capacity 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/gc/\mbox{\hyperlink{dhp_8h}{dhp.\+h}}\end{DoxyCompactItemize}
