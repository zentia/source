\doxysection{buffer.\+hpp}
\hypertarget{buffer_8hpp_source}{}\label{buffer_8hpp_source}\index{external/taskflow/3rd-\/party/ff/buffer.hpp@{external/taskflow/3rd-\/party/ff/buffer.hpp}}
\mbox{\hyperlink{buffer_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/*-\/\ Mode:\ C++;\ tab-\/width:\ 4;\ c-\/basic-\/offset:\ 4;\ indent-\/tabs-\/mode:\ nil\ -\/*-\/\ */}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{comment}{/*\ ***************************************************************************}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ *\ \ FastFlow\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or\ modify\ it}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ *\ \ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public\ License\ version\ 3\ as}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ *\ \ published\ by\ the\ Free\ Software\ Foundation.}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ *\ \ Starting\ from\ version\ 3.0.1\ FastFlow\ is\ dual\ licensed\ under\ the\ GNU\ LGPLv3}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ *\ \ or\ MIT\ License\ (https://github.com/ParaGroup/WindFlow/blob/vers3.x/LICENSE.MIT)}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ *\ \ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,\ but\ WITHOUT}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ *\ \ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of\ MERCHANTABILITY\ or}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ *\ \ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ *\ \ License\ for\ more\ details.}}
\DoxyCodeLine{00043\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ *\ \ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public\ License}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ *\ \ along\ with\ this\ program;\ if\ not,\ write\ to\ the\ Free\ Software\ Foundation,}}
\DoxyCodeLine{00046\ \textcolor{comment}{\ *\ \ Inc.,\ 59\ Temple\ Place\ -\/\ Suite\ 330,\ Boston,\ MA\ 02111-\/1307,\ USA.}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00048\ \textcolor{comment}{\ ****************************************************************************}}
\DoxyCodeLine{00049\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00050\ \textcolor{comment}{/*\ Author:\ Massimo\ Torquati}}
\DoxyCodeLine{00051\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00052\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#ifndef\ FF\_SWSR\_PTR\_BUFFER\_HPP}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#define\ FF\_SWSR\_PTR\_BUFFER\_HPP}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#include\ <cstdlib>}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#include\ <cstring>}}
\DoxyCodeLine{00059\ \textcolor{comment}{//\#include\ <atomic>}}
\DoxyCodeLine{00060\ \textcolor{comment}{//\#include\ <ff/atomic/abstraction\_dcas.h>}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{sysdep_8h}{ff/sysdep.h}}>}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{config_8hpp}{ff/config.hpp}}>}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\#if\ defined(\_\_APPLE\_\_)}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#include\ <AvailabilityMacros.h>}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{external_2taskflow_23rd-party_2ff_2platforms_2_platform_8h}{ff/platforms/platform.h}}>}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceff}{ff}}\ \{}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{comment}{//\ 64\ bytes\ is\ the\ common\ size\ of\ a\ cache\ line}}
\DoxyCodeLine{00074\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceff_ad0bc32203f6c871e1a6d21be4437d272}{longxCacheLine}}\ =\ (\mbox{\hyperlink{config_8hpp_af89f60b07247176687889ade776c8e10}{CACHE\_LINE\_SIZE}}/\textcolor{keyword}{sizeof}(long));}
\DoxyCodeLine{00075\ \ \ \ \ }
\DoxyCodeLine{00076\ \ \ }
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a6b0a3e18ec0a6a7447f7195daeb1f795}{SWSR\_Ptr\_Buffer}}\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{enum}\ \{\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a41d5971043f5b6862905bc7392aed88aa6cdc8efe9ce512fc3982f6704642122e}{MULTIPUSH\_BUFFER\_SIZE}}=16\};}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Padding\ is\ required\ to\ avoid\ false-\/sharing\ between\ }}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{comment}{//\ core's\ private\ cache}}
\DoxyCodeLine{00104\ \textcolor{preprocessor}{\#if\ defined(NO\_VOLATILE\_POINTERS)}}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}};}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordtype}{long}\ padding1[\mbox{\hyperlink{namespaceff_ad0bc32203f6c871e1a6d21be4437d272}{longxCacheLine}}-\/1];}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}};}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{long}\ padding2[\mbox{\hyperlink{namespaceff_ad0bc32203f6c871e1a6d21be4437d272}{longxCacheLine}}-\/1];}
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00110\ \ \ \ \ ALIGN\_TO\_PRE(\mbox{\hyperlink{config_8hpp_af89f60b07247176687889ade776c8e10}{CACHE\_LINE\_SIZE}})}
\DoxyCodeLine{00111\ \ \ \ \ volatile\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}};}
\DoxyCodeLine{00112\ \ \ \ \ ALIGN\_TO\_POST(\mbox{\hyperlink{config_8hpp_af89f60b07247176687889ade776c8e10}{CACHE\_LINE\_SIZE}})}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ ALIGN\_TO\_PRE(\mbox{\hyperlink{config_8hpp_af89f60b07247176687889ade776c8e10}{CACHE\_LINE\_SIZE}})}
\DoxyCodeLine{00115\ \ \ \ \ volatile\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}};}
\DoxyCodeLine{00116\ \ \ \ \ ALIGN\_TO\_POST(\mbox{\hyperlink{config_8hpp_af89f60b07247176687889ade776c8e10}{CACHE\_LINE\_SIZE}})}
\DoxyCodeLine{00117\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}};}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ **\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}};}
\DoxyCodeLine{00120\ \ \ \ \ }
\DoxyCodeLine{00121\ \textcolor{preprocessor}{\#if\ defined(SWSR\_MULTIPUSH)}}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{comment}{/*\ massimot:\ experimental\ code\ (see\ multipush)}}
\DoxyCodeLine{00123\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00124\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{long}\ padding3[\mbox{\hyperlink{namespaceff_ad0bc32203f6c871e1a6d21be4437d272}{longxCacheLine}}-\/2];\ \ \ \ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{comment}{//\ local\ multipush\ buffer\ used\ by\ the\ mpush\ method}}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordtype}{void}\ \ *\ multipush\_buf[\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a41d5971043f5b6862905bc7392aed88aa6cdc8efe9ce512fc3982f6704642122e}{MULTIPUSH\_BUFFER\_SIZE}}];}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ mcnt;}
\DoxyCodeLine{00129\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \textcolor{keyword}{public}:\ \ \ \ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{comment}{/*\ pointer\ to\ member\ function\ for\ the\ push\ method\ */}}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a6b0a3e18ec0a6a7447f7195daeb1f795}{SWSR\_Ptr\_Buffer}}::*\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_abffd83123edd022cf2d91d702ad3fecf}{pushPMF}})(\textcolor{keywordtype}{void}\ *\ \textcolor{keyword}{const});}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{comment}{/*\ pointer\ to\ member\ function\ for\ the\ ppop\ method\ */}}
\DoxyCodeLine{00135\ \ \ \ \ \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a6b0a3e18ec0a6a7447f7195daeb1f795}{SWSR\_Ptr\_Buffer}}::*\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a1df906e356b5045d7332afa43f6babe9}{popPMF}})(\textcolor{keywordtype}{void}\ **);}
\DoxyCodeLine{00136\ \ \ \ \ }
\DoxyCodeLine{00137\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00143\ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a6b0a3e18ec0a6a7447f7195daeb1f795}{SWSR\_Ptr\_Buffer}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}=\textcolor{keyword}{true}):}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}(0),\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}(0),\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}),\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}(0)\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_abffd83123edd022cf2d91d702ad3fecf}{pushPMF}}=\&\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a77bed50b424708f67cc629a540586fba}{SWSR\_Ptr\_Buffer::push}};}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a1df906e356b5045d7332afa43f6babe9}{popPMF}}\ =\&\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_ab1e24ef6aa082aca6d1b2d12d10abbbd}{SWSR\_Ptr\_Buffer::pop}};}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Avoid\ unused\ private\ field\ warning\ on\ padding1,\ padding2}}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \textcolor{comment}{//(void)padding1;}}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{comment}{//(void)padding2;}}
\DoxyCodeLine{00150\ \ \ \ \ \}}
\DoxyCodeLine{00151\ \ \ \ \ }
\DoxyCodeLine{00155\ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a89b06abc1175858480e249ca0abf2972}{\string~SWSR\_Ptr\_Buffer}}()\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ freeAlignedMemory\ is\ a\ function\ defined\ in\ 'sysdep.h'}}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sysdep_8h_a8d0b69a707e38b6ee06c8039cce3a9ae}{freeAlignedMemory}}(\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}});}
\DoxyCodeLine{00158\ \ \ \ \ \}}
\DoxyCodeLine{00159\ \ \ \ \ }
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_ad1db7c944552c0c75f4dfdc8dd88e7f9}{init}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ startatlineend=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}\ ||\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}==0))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \textcolor{preprocessor}{\#if\ defined(SWSR\_MULTIPUSH)}}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}<\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a41d5971043f5b6862905bc7392aed88aa6cdc8efe9ce512fc3982f6704642122e}{MULTIPUSH\_BUFFER\_SIZE}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00172\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ getAlignedMemory\ is\ a\ function\ defined\ in\ 'sysdep.h'}}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}=(\textcolor{keywordtype}{void}**)\mbox{\hyperlink{sysdep_8h_ae77dd87ccd6c736ac3eb1aa624d05269}{getAlignedMemory}}(\mbox{\hyperlink{namespaceff_ad0bc32203f6c871e1a6d21be4437d272}{longxCacheLine}}*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{long}),\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*));}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_af3b0e2082546fd8f8a30e9243ea76d04}{reset}}(startatlineend);}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00180\ \ \ \ \ \}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a2700fc8ac668868195894ca54aedacaa}{empty}}()\ \{}
\DoxyCodeLine{00186\ \textcolor{preprocessor}{\#if\ defined(NO\_VOLATILE\_POINTERS)}}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((*(\textcolor{keyword}{volatile}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ *)(\&\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}]))==0);}
\DoxyCodeLine{00188\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}]==\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00190\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00191\ \ \ \ \ \}}
\DoxyCodeLine{00192\ \ \ \ \ }
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a92ae06039c2a3f41373c219f5261ed00}{available}}()\ \ \ \{\ }
\DoxyCodeLine{00197\ \textcolor{preprocessor}{\#if\ defined(NO\_VOLATILE\_POINTERS)}}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((*(\textcolor{keyword}{volatile}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ *)(\&\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}]))==0);}
\DoxyCodeLine{00199\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}]==\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00202\ \ \ \ \ \}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a726fbb988d5ba7d3479042310e523e6f}{buffersize}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}};\ \};}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_ab1505d4dc9b2832d357f2f57f7acc86a}{changesize}}(\textcolor{keywordtype}{size\_t}\ newsz)\ \{}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ tmp=\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}};}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}=newsz;}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tmp;}
\DoxyCodeLine{00226\ \ \ \ \ \}}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ }
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a77bed50b424708f67cc629a540586fba}{push}}(\textcolor{keywordtype}{void}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})\ \{\ \ \ \ \ \textcolor{comment}{/*\ modify\ only\ pwrite\ pointer\ */}}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}\ !=\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a92ae06039c2a3f41373c219f5261ed00}{available}}())\ \{}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ WMB();\ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//std::atomic\_thread\_fence(std::memory\_order\_release);}}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}]\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}};}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}\ =\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}\ +\ ((\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}+1\ >=\ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}})\ ?\ (1-\/\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}):\ 1);\ \textcolor{comment}{//\ circular\ buffer}}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00260\ \ \ \ \ \}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a7c0877a5780564072b03a0ae91899e9b}{multipush}}(\textcolor{keywordtype}{void}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}[],\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}})\ \{}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\textcolor{keywordtype}{unsigned})\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}>=\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ last\ =\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}\ +\ ((\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}+\ -\/-\/\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}\ >=\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}})\ ?\ (\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}-\/\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}):\ \mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}});}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ \ \ \ =\ \mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}-\/(last+1),\ l=last;}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}};}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[last]==\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (last\ <\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}})\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}};\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}>\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};-\/-\/\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}},-\/-\/l)\ }
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[l]\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=(\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}-\/1);\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}>=\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}};-\/-\/\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}},-\/-\/\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}[\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}];}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ }
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}};\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}>=0;-\/-\/\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ }
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}+\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ WMB();}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}\ =\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}\ +\ ((last+1\ >=\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}})\ ?\ 0\ :\ (last+1));}
\DoxyCodeLine{00287\ \textcolor{preprocessor}{\#if\ defined(SWSR\_MULTIPUSH)}}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ mcnt\ =\ 0;\ \textcolor{comment}{//\ reset\ mpush\ counter}}
\DoxyCodeLine{00289\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00293\ \ \ \ \ \}}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ }
\DoxyCodeLine{00296\ \textcolor{preprocessor}{\#if\ defined(SWSR\_MULTIPUSH)}}
\DoxyCodeLine{00297\ \ \ \ \ }
\DoxyCodeLine{00298\ \ \ \ \ \textcolor{comment}{//\ massimot:\ experimental\ code}}
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{blocksort_8cpp_ab8b51c8377f4d14b0b95148996a5b846}{mpush}}(\textcolor{keywordtype}{void}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})\ \{}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}});}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mcnt==\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a41d5971043f5b6862905bc7392aed88aa6cdc8efe9ce512fc3982f6704642122e}{MULTIPUSH\_BUFFER\_SIZE}})}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a7c0877a5780564072b03a0ae91899e9b}{multipush}}(multipush\_buf,\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a41d5971043f5b6862905bc7392aed88aa6cdc8efe9ce512fc3982f6704642122e}{MULTIPUSH\_BUFFER\_SIZE}});}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ multipush\_buf[mcnt++]=\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}};}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mcnt==\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a41d5971043f5b6862905bc7392aed88aa6cdc8efe9ce512fc3982f6704642122e}{MULTIPUSH\_BUFFER\_SIZE}})}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a7c0877a5780564072b03a0ae91899e9b}{multipush}}(multipush\_buf,\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a41d5971043f5b6862905bc7392aed88aa6cdc8efe9ce512fc3982f6704642122e}{MULTIPUSH\_BUFFER\_SIZE}});}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00319\ \ \ \ \ \}}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{comment}{/*\ REW\ -\/-\/\ ?\ */}}
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ flush()\ \{}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (mcnt\ ?\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a7c0877a5780564072b03a0ae91899e9b}{multipush}}(multipush\_buf,mcnt)\ :\ \textcolor{keyword}{true});}
\DoxyCodeLine{00324\ \ \ \ \ \}}
\DoxyCodeLine{00325\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ SWSR\_MULTIPUSH\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00326\ \ \ \ \ }
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00333\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_af1f3fbe8bafd0b14fd33e23413de2492}{inc}}()\ \{}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}]=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}\ =\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}\ +\ ((\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}+1\ >=\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}})\ ?\ (1-\/\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}):\ 1);\ \textcolor{comment}{//\ circular\ buffer\ \ \ \ \ }}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00337\ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00338\ }
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_ab1e24ef6aa082aca6d1b2d12d10abbbd}{pop}}(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})\ \{\ \ \textcolor{comment}{/*\ modify\ only\ pread\ pointer\ */}}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a2700fc8ac668868195894ca54aedacaa}{empty}}())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}\ =\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}];}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \textcolor{comment}{//std::atomic\_thread\_fence(std::memory\_order\_acquire);}}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_af1f3fbe8bafd0b14fd33e23413de2492}{inc}}();}
\DoxyCodeLine{00350\ \ \ \ \ \}\ }
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00359\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_abd84ec859d5427fa32c0806642df4fb7}{top}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}];\ \}\ \ \ \ }
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_af3b0e2082546fd8f8a30e9243ea76d04}{reset}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ startatlineend=\textcolor{keyword}{false})\ \{\ }
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (startatlineend)\ \{}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}\ =\ \mbox{\hyperlink{namespaceff_ad0bc32203f6c871e1a6d21be4437d272}{longxCacheLine}}-\/1;}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}\ \ =\ \mbox{\hyperlink{namespaceff_ad0bc32203f6c871e1a6d21be4437d272}{longxCacheLine}}-\/1;}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}}=0;}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}}=0;\ }
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00378\ \textcolor{preprocessor}{\#if\ defined(SWSR\_MULTIPUSH)\ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ mcnt\ \ \ =\ 0;}
\DoxyCodeLine{00380\ \textcolor{preprocessor}{\#endif\ \ }}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}<=512)\ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=0;}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ memset(\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}},0,\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*));}
\DoxyCodeLine{00383\ \ \ \ \ \}}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00389\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a56f6275dd54d75f275f47bc31df2d115}{length}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ tpread=\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_adb9eafb6b9832b17e5a4091ecd6b3901}{pread}},\ tpwrite=\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a9f3b26c3fe43e566835c991bfc0cc310}{pwrite}};}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}\ =\ tpwrite-\/tpread;}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}>0)\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}};}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}<0)\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})(\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}}+\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}});}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a337875fd92896f514d6ba2f5a398c624}{buf}}[tpwrite]==\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_aca07cf88341eafa6cc45d95a2c911b18}{size}};\ \ }
\DoxyCodeLine{00396\ \ \ \ \ \}}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \ \ \textcolor{comment}{//\ Not\ yet\ implemented\ }}
\DoxyCodeLine{00399\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a215ae0dcb3504f9c3fd74efd204cc94e}{mp\_push}}(\textcolor{keywordtype}{void}\ *\textcolor{keyword}{const})\ \{}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ abort();}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00402\ \ \ \ \ \}}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{comment}{//\ Not\ yet\ implemented\ }}
\DoxyCodeLine{00404\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a307debac34e5b4b563b46b9343e25f8c}{mc\_pop}}(\textcolor{keywordtype}{void}\ **)\ \{}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ abort();}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00407\ \ \ \ \ \}}
\DoxyCodeLine{00408\ \ \ \ \ }
\DoxyCodeLine{00409\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_s_w_s_r___ptr___buffer_a5cf9cff3d2111a5b183eca9855ea9c95}{isFixedSize}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00410\ \};}
\DoxyCodeLine{00411\ }
\DoxyCodeLine{00421\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1_lamport___buffer_a230774dd044681b14cf065a032b696a1}{Lamport\_Buffer}}\ \{}
\DoxyCodeLine{00422\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00423\ \ \ \ \ \textcolor{comment}{//\ Padding\ is\ required\ to\ avoid\ false-\/sharing\ between\ }}
\DoxyCodeLine{00424\ \ \ \ \ \textcolor{comment}{//\ core's\ private\ cache}}
\DoxyCodeLine{00425\ \ \ \ \ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}};}
\DoxyCodeLine{00426\ \ \ \ \ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a138c0f8bffd8ecb2be3724a166aebe08}{padding1}}[\mbox{\hyperlink{namespaceff_ad0bc32203f6c871e1a6d21be4437d272}{longxCacheLine}}-\/1];}
\DoxyCodeLine{00427\ \ \ \ \ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}};}
\DoxyCodeLine{00428\ \ \ \ \ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a95791cea0639bfadb8f03d5b246bc26f}{padding2}}[\mbox{\hyperlink{namespaceff_ad0bc32203f6c871e1a6d21be4437d272}{longxCacheLine}}-\/1];}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keyword}{const}\ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}};}
\DoxyCodeLine{00431\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ **\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}};}
\DoxyCodeLine{00432\ \ \ \ \ }
\DoxyCodeLine{00433\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00437\ \ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_a230774dd044681b14cf065a032b696a1}{Lamport\_Buffer}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}=\textcolor{keyword}{true}):}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}}(0),\mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}}(0),\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}),\mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}}(0)\ \{}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Avoid\ unused\ private\ field\ warning\ on\ padding1,\ padding2}}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}})\mbox{\hyperlink{classff_1_1_lamport___buffer_a138c0f8bffd8ecb2be3724a166aebe08}{padding1}};}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}})\mbox{\hyperlink{classff_1_1_lamport___buffer_a95791cea0639bfadb8f03d5b246bc26f}{padding2}};}
\DoxyCodeLine{00442\ \ \ \ \ \}}
\DoxyCodeLine{00443\ \ \ \ \ }
\DoxyCodeLine{00447\ \ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_a38302fa4263dee90a883659403c39f40}{\string~Lamport\_Buffer}}()\ \{}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sysdep_8h_a8d0b69a707e38b6ee06c8039cce3a9ae}{freeAlignedMemory}}(\mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}});}
\DoxyCodeLine{00449\ \ \ \ \ \}}
\DoxyCodeLine{00450\ \ \ \ \ }
\DoxyCodeLine{00457\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_ac8c5095ec72a73e9cc91615b2bead293}{init}}()\ \{}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}}==0);}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}}=(\textcolor{keywordtype}{void}**)\mbox{\hyperlink{sysdep_8h_ae77dd87ccd6c736ac3eb1aa624d05269}{getAlignedMemory}}(\mbox{\hyperlink{namespaceff_ad0bc32203f6c871e1a6d21be4437d272}{longxCacheLine}}*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{long}),\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}}*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*));}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_a15c7b1196670f8af0c1212461764b9bc}{reset}}();}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00463\ \ \ \ \ \}}
\DoxyCodeLine{00464\ }
\DoxyCodeLine{00468\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_acefe4724146cbdaf30062806c73171c8}{empty}}()\ \{\ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}}\ ==\ \mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}});\ \ \}}
\DoxyCodeLine{00469\ \ \ \ \ }
\DoxyCodeLine{00473\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a4db3f6202fb32e70978f52d487d67f35}{available}}()\ \ \ \{\ }
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ next\ =\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}}\ +\ ((\mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}}+1>=\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}})?(1-\/\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}}):1);}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (next\ !=\ \mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}});}
\DoxyCodeLine{00476\ \ \ \ \ \}}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00481\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_aeefbd58c0feb78ce916a5984d3fb6f36}{buffersize}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}};\ \};}
\DoxyCodeLine{00482\ \ \ \ \ }
\DoxyCodeLine{00486\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a1fbe29d2d2260c1c6b489566613bf93a}{push}}(\textcolor{keywordtype}{void}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})\ \{}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}});}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ next\ =\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}}\ +\ ((\mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}}+1>=\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}})?(1-\/\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}}):1);}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (next\ !=\ \mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}})\ \{}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}}[\mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}}]\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}};}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ We\ have\ to\ ensure\ that\ all\ writes\ have\ been\ committed\ }}
\DoxyCodeLine{00493\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ *\ in\ memory\ before\ we\ change\ the\ value\ of\ the\ pwrite}}
\DoxyCodeLine{00494\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ *\ reference\ otherwise\ the\ reader\ can\ read\ stale\ data.}}
\DoxyCodeLine{00495\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \ \ \ \ WMB();\ }
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}}\ =next;}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00501\ \ \ \ \ \}}
\DoxyCodeLine{00502\ }
\DoxyCodeLine{00506\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_a356947420742840ee3d7a076590e7308}{pop}}(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})\ \{}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}});}
\DoxyCodeLine{00508\ }
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_lamport___buffer_acefe4724146cbdaf30062806c73171c8}{empty}}())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}\ =\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}}[\mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}}];}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}}\ =\ \mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}}\ +\ ((\mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}}+1\ >=\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}})\ ?\ (1-\/\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}}):\ 1);}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00513\ \ \ \ \ \}\ \ \ \ }
\DoxyCodeLine{00514\ \ \ \ \ }
\DoxyCodeLine{00518\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a15c7b1196670f8af0c1212461764b9bc}{reset}}()\ \{\ }
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}}=0;}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}}=0;\ }
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}}<=512)\ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=0;}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ memset(\mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}},0,\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}}*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*));}
\DoxyCodeLine{00523\ \ \ \ \ \}}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00528\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a52fd1a84f008764aedbc6dd4f1e7ec15}{length}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ long\ len\ =\ pwrite-\/pread;}}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ (len>=0)\ return\ len;}}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \textcolor{comment}{//return\ size+len;}}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ tpread=\mbox{\hyperlink{classff_1_1_lamport___buffer_ad03cf21b7598c462e82958a693af230c}{pread}},\ tpwrite=\mbox{\hyperlink{classff_1_1_lamport___buffer_a8226152647f6a4c078d27d249a6fefae}{pwrite}};}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}\ =\ tpwrite-\/tpread;}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}>0)\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}};}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}<0)\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})(\mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}}+\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}});}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_lamport___buffer_a0ee75cb6c7406f08b1673d0960978136}{buf}}[tpwrite]==\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1_lamport___buffer_a87746e32be3cc3586dc318efaa7d6216}{size}};\ \ }
\DoxyCodeLine{00538\ \ \ \ \ \}}
\DoxyCodeLine{00539\ \};}
\DoxyCodeLine{00540\ }
\DoxyCodeLine{00545\ }
\DoxyCodeLine{00546\ \}\ \textcolor{comment}{//\ namespace\ ff}}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00548\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ FF\_SWSR\_PTR\_BUFFER\_HPP\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
