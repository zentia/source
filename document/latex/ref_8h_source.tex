\doxysection{ref.\+h}
\hypertarget{ref_8h_source}{}\label{ref_8h_source}\index{runtime/dsl/ref.h@{runtime/dsl/ref.h}}
\mbox{\hyperlink{ref_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{expr_8h}{runtime/dsl/expr.h}}>}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute}{luisa::compute}}\ \{}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00008\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}};}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{inline}\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl}{dsl}}\ \{}
\DoxyCodeLine{00012\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Lhs,\ \textcolor{keyword}{typename}\ Rhs>}
\DoxyCodeLine{00013\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a0d6347e4348db5c5ea091d99c9870d37}{assign}}(Lhs\ \&\&lhs,\ Rhs\ \&\&rhs)\ \textcolor{keyword}{noexcept};\textcolor{comment}{//\ defined\ in\ dsl/stmt.h}}
\DoxyCodeLine{00014\ \}\textcolor{comment}{//\ namespace\ dsl}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedetail}{detail}}\ \{}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00020\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_subscript_access}{RefEnableSubscriptAccess}}\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{namespaceluisa_1_1compute_a2e4127befb5af9644bdabcf03206d9a0}{is\_integral\_expr\_v<I>}}}
\DoxyCodeLine{00024\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \&\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_subscript_access_a7c5a6d215171d8b22a7967a412a74d90}{operator[]}}(I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }Elem\ =\ std::remove\_cvref\_t<}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{decltype}(std::declval<expr\_value\_t<T>>()[0])>;}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ f\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{FunctionBuilder::current}}();}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ expr\ =\ f-\/>access(}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ Type::of<Elem>(),}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }T\ *\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>expression(),}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail_af5ea7b87d6c0847255b35710ebc5579f}{extract\_expression}}(std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})));}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *f-\/>create\_temporary<\mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<Elem>}}>(expr);}
\DoxyCodeLine{00033\ \ \ \ \ \}}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{namespaceluisa_1_1compute_a2e4127befb5af9644bdabcf03206d9a0}{is\_integral\_expr\_v<I>}}}
\DoxyCodeLine{00037\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \&\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_subscript_access_a0c6e4cfebad5af6508ae3c924e99f7ab}{operator[]}}(I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \textcolor{keyword}{const}\ \&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (*\textcolor{keyword}{const\_cast<}\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_subscript_access}{RefEnableSubscriptAccess}}\ *\textcolor{keyword}{>}(\textcolor{keyword}{this}))[std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})];}
\DoxyCodeLine{00039\ \ \ \ \ \}}
\DoxyCodeLine{00040\ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00044\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_member_by_index}{RefEnableGetMemberByIndex}}\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ i>}
\DoxyCodeLine{00047\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \&\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_member_by_index_a8c0f008800329d2193b22731acbb2a22}{get}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(i\ <\ dimension\_v<expr\_value\_t<T>>);}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ self\ =\ \textcolor{keyword}{const\_cast<}T\ *\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }T\ *\textcolor{keyword}{>}(\textcolor{keyword}{this}));}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (*self)[\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\textcolor{keyword}{>}(i)];}
\DoxyCodeLine{00051\ \ \ \ \ \}}
\DoxyCodeLine{00052\ \};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00055\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_address}{RefEnableGetAddress}}\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{comment}{//\ see\ definition\ in\ var.h\ as\ we\ need\ to\ specialize\ Var<ulong>\ for\ address()}}
\DoxyCodeLine{00057\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<ulong>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_address_adda6fc159f807917d02dedeb1cef39d0}{address}}()\ const\ noexcept;}
\DoxyCodeLine{00058\ \};}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#define\ LUISA\_REF\_COMMON(...)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{private:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\ \ \ \ const\ Expression\ *\_expression;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{public:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\ \ \ \ explicit\ Ref(const\ Expression\ *e)\ noexcept\ :\ \_expression\{e\}\ \{\}\ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\ \ \ \ [[nodiscard]]\ auto\ expression()\ const\ noexcept\ \{\ return\ \_expression;\ \}\ \(\backslash\)}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\ \ \ \ Ref(Ref\ \&\&)\ noexcept\ =\ default;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\ \ \ \ Ref(Var<\_\_VA\_ARGS\_\_>\ \&\&other)\ noexcept\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ :\ Ref\{static\_cast<Ref\ \&\&>(other)\}\ \{\}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\ \ \ \ Ref(const\ Ref\ \&)\ noexcept\ =\ default;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\ \ \ \ template<typename\ Rhs>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\ \ \ \ void\ operator=(Rhs\ \&\&rhs)\ \&\ noexcept\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ dsl::assign(*this,\ std::forward<Rhs>(rhs));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\ \ \ \ [[nodiscard]]\ operator\ Expr<\_\_VA\_ARGS\_\_>()\ const\ noexcept\ \{\ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ return\ Expr<\_\_VA\_ARGS\_\_>\{this-\/>expression()\};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\ \ \ \ void\ operator=(Ref\ rhs)\ \&\ noexcept\ \{\ (*this)\ =\ Expr<\_\_VA\_ARGS\_\_>\{rhs\};\ \}}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00082\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00083\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref}{Ref}}}
\DoxyCodeLine{00084\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast}{detail::ExprEnableStaticCast}}<Ref<T>>,}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Ref<T>>,}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_address}{detail::RefEnableGetAddress}}<Ref<T>>\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{conceptluisa_1_1concepts_1_1scalar}{concepts::scalar<T>}});}
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{ref_8h_a720c0e2a56cba7741712a89320b2f578}{LUISA\_REF\_COMMON}}(T)}
\DoxyCodeLine{00089\ \ \ \ \ template<\textcolor{keywordtype}{size\_t}\ i>}
\DoxyCodeLine{00090\ \ \ \ \ [[nodiscard]]\ const\ auto\ \&\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_aed2477b529399fb390d9f86d09858285}{get}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(i\ ==\ 0u);}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00093\ \ \ \ \ \}}
\DoxyCodeLine{00094\ \};}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00097\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00098\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref}{Ref}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{sugar_8h_a95fe3ffca1c850e6cb156dddfaf3354c}{array}}<T,\ N>>}
\DoxyCodeLine{00099\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Ref<std::array<T,\ N>>>,}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_subscript_access}{detail::RefEnableSubscriptAccess}}<Ref<std::array<T,\ N>>>,}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_member_by_index}{detail::RefEnableGetMemberByIndex}}<Ref<std::array<T,\ N>>>,}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_address}{detail::RefEnableGetAddress}}<Ref<std::array<T,\ N>>>\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{ref_8h_a720c0e2a56cba7741712a89320b2f578}{LUISA\_REF\_COMMON}}(std::array<T,\ N>)}
\DoxyCodeLine{00104\ \};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00107\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00108\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref}{Ref}}<T[\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}]>}
\DoxyCodeLine{00109\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Ref<T[N]>>,}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_subscript_access}{detail::RefEnableSubscriptAccess}}<Ref<T[N]>>,}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_member_by_index}{detail::RefEnableGetMemberByIndex}}<Ref<T[N]>>,}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_address}{detail::RefEnableGetAddress}}<Ref<T[N]>>\ \{}
\DoxyCodeLine{00113\ \ \ \ \ \mbox{\hyperlink{ref_8h_a720c0e2a56cba7741712a89320b2f578}{LUISA\_REF\_COMMON}}(T[\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}])}
\DoxyCodeLine{00114\ \};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00117\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00118\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref}{Ref}}<\mbox{\hyperlink{structluisa_1_1_matrix}{Matrix}}<\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}>>}
\DoxyCodeLine{00119\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Ref<Matrix<N>>>,}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_subscript_access}{detail::RefEnableSubscriptAccess}}<Ref<Matrix<N>>>,}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_member_by_index}{detail::RefEnableGetMemberByIndex}}<Ref<Matrix<N>>>,}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_address}{detail::RefEnableGetAddress}}<Ref<Matrix<N>>>\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{ref_8h_a720c0e2a56cba7741712a89320b2f578}{LUISA\_REF\_COMMON}}(\mbox{\hyperlink{structluisa_1_1_matrix}{Matrix<N>}})}
\DoxyCodeLine{00124\ \};}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00127\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{00128\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref}{Ref}}<\mbox{\hyperlink{namespacestd}{std}}::tuple<T...>>\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{ref_8h_a720c0e2a56cba7741712a89320b2f578}{LUISA\_REF\_COMMON}}(std::tuple<T...>)}
\DoxyCodeLine{00130\ \ \ \ \ template<\textcolor{keywordtype}{size\_t}\ i>}
\DoxyCodeLine{00131\ \ \ \ \ [[nodiscard]]\ const\ auto\ \&\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_3_01std_1_1tuple_3_01_t_8_8_8_01_4_01_4_a70a30e19f0160cade7a431d802bacd18}{get}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }M\ =\ std::tuple\_element\_t<i,\ std::tuple<T...>>;}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ fb\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}();}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ expr\ =\ fb-\/>member(Type::of<M>(),\ this-\/>expression(),\ i);}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *fb-\/>create\_temporary<\mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<M>}}>(expr);}
\DoxyCodeLine{00136\ \ \ \ \ \}}
\DoxyCodeLine{00137\ \};}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00140\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00141\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref}{Ref}}<\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<T,\ 2>>}
\DoxyCodeLine{00142\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast}{detail::ExprEnableStaticCast}}<Ref<Vector<T,\ 2>>>,}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Ref<Vector<T,\ 2>>>,}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_subscript_access}{detail::RefEnableSubscriptAccess}}<Ref<Vector<T,\ 2>>>,}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_member_by_index}{detail::RefEnableGetMemberByIndex}}<Ref<Vector<T,\ 2>>>,}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_address}{detail::RefEnableGetAddress}}<Ref<Vector<T,\ 2>>>\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{ref_8h_a720c0e2a56cba7741712a89320b2f578}{LUISA\_REF\_COMMON}}(\mbox{\hyperlink{structluisa_1_1_vector}{Vector<T,\ 2>}})}
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}<T>\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_3_01_vector_3_01_t_00_012_01_4_01_4_ae6b326cc18322940a7787f4f64eacb59}{x}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x0u)\};}
\DoxyCodeLine{00149\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_3_01_vector_3_01_t_00_012_01_4_01_4_a3d37d2245ccccc1350464530584d0373}{y}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x1u)\};}
\DoxyCodeLine{00150\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dsl_2swizzle__2_8inl_8h}{runtime/dsl/swizzle\_2.inl.h}}>}}
\DoxyCodeLine{00151\ \};}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00154\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00155\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref}{Ref}}<\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<T,\ 3>>}
\DoxyCodeLine{00156\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast}{detail::ExprEnableStaticCast}}<Ref<Vector<T,\ 3>>>,}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Ref<Vector<T,\ 3>>>,}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_subscript_access}{detail::RefEnableSubscriptAccess}}<Ref<Vector<T,\ 3>>>,}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_member_by_index}{detail::RefEnableGetMemberByIndex}}<Ref<Vector<T,\ 3>>>,}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_address}{detail::RefEnableGetAddress}}<Ref<Vector<T,\ 3>>>\ \{}
\DoxyCodeLine{00161\ \ \ \ \ \mbox{\hyperlink{ref_8h_a720c0e2a56cba7741712a89320b2f578}{LUISA\_REF\_COMMON}}(\mbox{\hyperlink{structluisa_1_1_vector}{Vector<T,\ 3>}})}
\DoxyCodeLine{00162\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}<T>\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_3_01_vector_3_01_t_00_013_01_4_01_4_adf509270519530dbd924c43566a1fc88}{x}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x0u)\};}
\DoxyCodeLine{00163\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_3_01_vector_3_01_t_00_013_01_4_01_4_a5252dc6b206ae79b1e84e7f10187f416}{y}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x1u)\};}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_3_01_vector_3_01_t_00_014_01_4_01_4_ab84e0abfa82ec7799168ceb51a6865b4}{z}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x2u)\};}
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dsl_2swizzle__3_8inl_8h}{runtime/dsl/swizzle\_3.inl.h}}>}}
\DoxyCodeLine{00166\ \};}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00169\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00170\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref}{Ref}}<\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<T,\ 4>>}
\DoxyCodeLine{00171\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast}{detail::ExprEnableStaticCast}}<Ref<Vector<T,\ 4>>>,}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Ref<Vector<T,\ 4>>>,}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_subscript_access}{detail::RefEnableSubscriptAccess}}<Ref<Vector<T,\ 4>>>,}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_member_by_index}{detail::RefEnableGetMemberByIndex}}<Ref<Vector<T,\ 4>>>,}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_enable_get_address}{detail::RefEnableGetAddress}}<Ref<Vector<T,\ 4>>>\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \mbox{\hyperlink{ref_8h_a720c0e2a56cba7741712a89320b2f578}{LUISA\_REF\_COMMON}}(\mbox{\hyperlink{structluisa_1_1_vector}{Vector<T,\ 4>}})}
\DoxyCodeLine{00177\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}<T>\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_3_01_vector_3_01_t_00_014_01_4_01_4_ac459160aa071c2a146cdbf40b1916187}{x}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x0u)\};}
\DoxyCodeLine{00178\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_3_01_vector_3_01_t_00_014_01_4_01_4_a74a48c8b2773c5ab2a7ea4c72b07062c}{y}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x1u)\};}
\DoxyCodeLine{00179\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_3_01_vector_3_01_t_00_014_01_4_01_4_ab84e0abfa82ec7799168ceb51a6865b4}{z}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x2u)\};}
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref_3_01_vector_3_01_t_00_014_01_4_01_4_a7a0a85ec1c90f29f5443107bd982a73f}{w}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x3u)\};}
\DoxyCodeLine{00181\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dsl_2swizzle__4_8inl_8h}{runtime/dsl/swizzle\_4.inl.h}}>}}
\DoxyCodeLine{00182\ \};}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\#undef\ LUISA\_REF\_COMMON}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \}\textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \}\textcolor{comment}{//\ namespace\ luisa::compute}}

\end{DoxyCode}
