\doxysection{Size.\+hpp}
\hypertarget{_size_8hpp_source}{}\label{_size_8hpp_source}\index{external/reflect-\/cpp/include/rfl/Size.hpp@{external/reflect-\/cpp/include/rfl/Size.hpp}}
\mbox{\hyperlink{_size_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ RFL\_SIZE\_HPP\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ RFL\_SIZE\_HPP\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_ref_8hpp}{Ref.hpp}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_result_8hpp}{Result.hpp}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_validation_type_8hpp}{parsing/schema/ValidationType.hpp}}"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl}{rfl}}\ \{}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ V>}
\DoxyCodeLine{00013\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrfl_1_1_size}{Size}}\ \{}
\DoxyCodeLine{00014\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00015\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<T>}}\ \mbox{\hyperlink{structrfl_1_1_size_a73a0ed646d354d3b191909a4f62b541d}{validate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ \_t)\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ to\_t\ =\ [\&](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&)\ \{\ \textcolor{keywordflow}{return}\ \_t;\ \};}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ embellish\_error\ =\ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \_err)\ -\/>\ \mbox{\hyperlink{classrfl_1_1_error}{Error}}\ \{}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1_error}{Error}}(\textcolor{stringliteral}{"{}Size\ validation\ failed:\ "{}}\ +\ \_err.what());}
\DoxyCodeLine{00019\ \ \ \ \ \};}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordflow}{return}\ V::validate(\_t.size()).transform(to\_t).transform\_error(}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ embellish\_error);}
\DoxyCodeLine{00022\ \ \ \}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00025\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{structrfl_1_1parsing_1_1schema_1_1_validation_type}{parsing::schema::ValidationType}}\ \mbox{\hyperlink{structrfl_1_1_size_ab3c34dda528c2202b80d18aa93daeaac}{to\_schema}}()\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{using\ }ValidationType\ =\ \mbox{\hyperlink{structrfl_1_1parsing_1_1schema_1_1_validation_type}{parsing::schema::ValidationType}};}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordflow}{return}\ ValidationType\{ValidationType::Size\{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ .size\_limit\_\ =}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrfl_1_1_ref_a1501cd0fd114b2dd113fb3abe974275d}{rfl::Ref<ValidationType>::make}}(V::template\ \mbox{\hyperlink{structrfl_1_1_size_ab3c34dda528c2202b80d18aa93daeaac}{to\_schema<size\_t>}}())\}\};}
\DoxyCodeLine{00030\ \ \ \}}
\DoxyCodeLine{00031\ \};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \}\ \ \textcolor{comment}{//\ namespace\ rfl}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
