\doxysection{som.\+h}
\hypertarget{som_8h_source}{}\label{som_8h_source}\index{external/taskflow/3rd-\/party/tbb/examples/graph/som/som.h@{external/taskflow/3rd-\/party/tbb/examples/graph/som/som.h}}
\mbox{\hyperlink{som_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{comment}{//}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ Self-\/organizing\ map}}
\DoxyCodeLine{00019\ \textcolor{comment}{//}}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ support\ for\ self-\/ordering\ maps}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#ifndef\ \_\_SOM\_H\_\_}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#define\ \_\_SOM\_H\_\_}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <cstdlib>}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <cfloat>}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ <cstdio>}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{flow__graph_8h}{tbb/flow\_graph.h}}"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{blocked__range2d_8h}{tbb/blocked\_range2d.h}}"{}}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespacetbb}{tbb}};}
\DoxyCodeLine{00035\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespacetbb_1_1flow}{tbb::flow}};}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d}{blocked\_range2d<int>}}\ \mbox{\hyperlink{som_8h_a092a9fea4438c65c5e4a63e186f86503}{subsquare\_type}};}
\DoxyCodeLine{00038\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtuple}{tuple<double,int,int>}}\ \mbox{\hyperlink{som_8h_a16eb97d90e5683b87599279f1c47db48}{search\_result\_type}};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ std::ostream\&\ \mbox{\hyperlink{som_8h_a120b0af3af8d8e2d84e7b733396b2a44}{operator<<}}(\ std::ostream\ \&out,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{som_8h_a16eb97d90e5683b87599279f1c47db48}{search\_result\_type}}\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}});}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#define\ RADIUS\ 0\ \ }\textcolor{comment}{//\ for\ the\ std::gets}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#define\ XV\ \ \ \ \ 1}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#define\ YV\ \ \ \ \ 2}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{comment}{//\ to\ have\ single\ definitions\ of\ static\ variables,\ define\ \_MAIN\_C\_\ in\ the\ main\ program}}
\DoxyCodeLine{00047\ \textcolor{comment}{//\ }}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#ifdef\ \_MAIN\_C\_}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#define\ DEFINE\ }\textcolor{comment}{//\ nothing}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#define\ INIT(n)\ =\ n}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ not\ in\ main\ file}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#define\ DEFINE\ extern}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#define\ INIT(n)\ }\textcolor{comment}{//\ nothing}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_MAIN\_C\_}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \textcolor{keywordtype}{int}\ nElements\ \mbox{\hyperlink{som_8h_a7ad07e49fae706120827feee991d1191}{INIT}}(3);\ \ \textcolor{comment}{//\ length\ of\ input\ vectors,\ matching\ vector\ in\ map}}
\DoxyCodeLine{00057\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \textcolor{keywordtype}{double}\ max\_learning\_rate\ \mbox{\hyperlink{som_8h_a7ad07e49fae706120827feee991d1191}{INIT}}(0.8);\ \ \textcolor{comment}{//\ decays\ exponentially}}
\DoxyCodeLine{00058\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{som_8h_a7473a27543a23a8020ad7d518da0c9ab}{radius\_decay\_rate}};}
\DoxyCodeLine{00059\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \textcolor{keywordtype}{double}\ learning\_decay\_rate\ \mbox{\hyperlink{som_8h_a7ad07e49fae706120827feee991d1191}{INIT}}(0.005);}
\DoxyCodeLine{00060\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{som_8h_ab6bbfa436100819c81fd865cb0bdd55b}{max\_radius}};}
\DoxyCodeLine{00061\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \textcolor{keywordtype}{bool}\ extra\_debug\ \mbox{\hyperlink{som_8h_a7ad07e49fae706120827feee991d1191}{INIT}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00062\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \textcolor{keywordtype}{bool}\ cancel\_test\ \mbox{\hyperlink{som_8h_a7ad07e49fae706120827feee991d1191}{INIT}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \textcolor{keywordtype}{int}\ xMax\ \mbox{\hyperlink{som_8h_a7ad07e49fae706120827feee991d1191}{INIT}}(100);}
\DoxyCodeLine{00065\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \textcolor{keywordtype}{int}\ yMax\ \mbox{\hyperlink{som_8h_a7ad07e49fae706120827feee991d1191}{INIT}}(100);}
\DoxyCodeLine{00066\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \textcolor{keywordtype}{int}\ nPasses\ \mbox{\hyperlink{som_8h_a7ad07e49fae706120827feee991d1191}{INIT}}(100);}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{som_8h_abf29040eaa4190b2ece8bfba78874f65}{InitializeType}}\ \{\ \mbox{\hyperlink{som_8h_abf29040eaa4190b2ece8bfba78874f65af6c0eaa391a300c5c6903d548dbf7700}{InitializeRandom}},\ \mbox{\hyperlink{som_8h_abf29040eaa4190b2ece8bfba78874f65a52f66508417b1d9175ab91e972a54093}{InitializeGradient}}\ \};}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#define\ RED\ 0}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ GREEN\ 1}}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#define\ BLUE\ 2}}
\DoxyCodeLine{00072\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_s_o_m__element}{SOM\_element}};}
\DoxyCodeLine{00073\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{som_8h_afaa2673447b95792a0e5b635cabe250f}{remark\_SOM\_element}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}});}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \textcolor{comment}{//\ all\ SOM\_element\ vectors\ are\ the\ same\ length\ (nElements),\ so\ we\ do\ not\ have}}
\DoxyCodeLine{00076\ \textcolor{comment}{//\ to\ range-\/check\ the\ vector\ accesses.}}
\DoxyCodeLine{00077\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_s_o_m__element_aadd1a505cd1a2b9da248700916f3131f}{SOM\_element}}\ \{}
\DoxyCodeLine{00078\ \ \ \ \ std::vector<double>\ \mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}};}
\DoxyCodeLine{00079\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keyword}{friend}\ std::ostream\&\ \mbox{\hyperlink{class_s_o_m__element_a3291f916ca17bfa03076bbc47733b73d}{operator<<}}(\ std::ostream\ \&out,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_o_m__element_aadd1a505cd1a2b9da248700916f3131f}{SOM\_element}}\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}});}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_s_o_m__element_afaa2673447b95792a0e5b635cabe250f}{remark\_SOM\_element}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_o_m__element_aadd1a505cd1a2b9da248700916f3131f}{SOM\_element}}\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}});}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{class_s_o_m__element_aadd1a505cd1a2b9da248700916f3131f}{SOM\_element}}()\ :\ \mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}(nElements,0.0)\ \{\}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{double}\ \&\mbox{\hyperlink{class_s_o_m__element_a438d9e123f32befd1c99dc8974fac3f7}{operator[]}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{polymain_8cpp_aff394e352c809421b815b9a8e40f3c64}{indx}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}.at(\mbox{\hyperlink{polymain_8cpp_aff394e352c809421b815b9a8e40f3c64}{indx}});\ \}}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ \&\mbox{\hyperlink{class_s_o_m__element_ae79837f76477abfd431783ceddd00e4e}{operator[]}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{polymain_8cpp_aff394e352c809421b815b9a8e40f3c64}{indx}})\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}.at(\mbox{\hyperlink{polymain_8cpp_aff394e352c809421b815b9a8e40f3c64}{indx}});\ \}}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_s_o_m__element_a498204f299f6dee464cfd93ed1ad017b}{operator==}}(\mbox{\hyperlink{class_s_o_m__element_aadd1a505cd1a2b9da248700916f3131f}{SOM\_element}}\ \textcolor{keyword}{const}\ \&\mbox{\hyperlink{structtbb_1_1internal_1_1allocator__traits}{other}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{class_s_o_m__element_a0c75160247580493b7ea12d1107485e0}{size}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ !=\ \mbox{\hyperlink{structtbb_1_1internal_1_1allocator__traits}{other}}.w[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}])\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_s_o_m__element_a58a74bb2ab7b81d7a5505fa2e40e24fb}{operator!=}}(\mbox{\hyperlink{class_s_o_m__element_aadd1a505cd1a2b9da248700916f3131f}{SOM\_element}}\ \textcolor{keyword}{const}\ \&\mbox{\hyperlink{structtbb_1_1internal_1_1allocator__traits}{other}})\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ !\mbox{\hyperlink{class_s_o_m__element_a498204f299f6dee464cfd93ed1ad017b}{operator==}}(\mbox{\hyperlink{structtbb_1_1internal_1_1allocator__traits}{other}});\ \}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_s_o_m__element_a8dd446460e54f2fae31852fd57fe6874}{elementwise\_max}}(\mbox{\hyperlink{class_s_o_m__element_aadd1a505cd1a2b9da248700916f3131f}{SOM\_element}}\ \textcolor{keyword}{const}\ \&\mbox{\hyperlink{structtbb_1_1internal_1_1allocator__traits}{other}})\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}.size();\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ <\ \mbox{\hyperlink{structtbb_1_1internal_1_1allocator__traits}{other}}.w[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}])\ \mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \mbox{\hyperlink{structtbb_1_1internal_1_1allocator__traits}{other}}.w[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00096\ \ \ \ \ \}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_s_o_m__element_a11ef8646cfb6142bf85c5b1e86769ddf}{elementwise\_min}}(\mbox{\hyperlink{class_s_o_m__element_aadd1a505cd1a2b9da248700916f3131f}{SOM\_element}}\ \textcolor{keyword}{const}\ \&\mbox{\hyperlink{structtbb_1_1internal_1_1allocator__traits}{other}})\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}.size();\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ >\ \mbox{\hyperlink{structtbb_1_1internal_1_1allocator__traits}{other}}.w[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}])\ \mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \mbox{\hyperlink{structtbb_1_1internal_1_1allocator__traits}{other}}.w[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00099\ \ \ \ \ \}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_s_o_m__element_a0c75160247580493b7ea12d1107485e0}{size}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_s_o_m__element_a52d12c5b4f903999dc76e6e6b3e71fa6}{w}}.size();\ \}}
\DoxyCodeLine{00101\ \};}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \textcolor{keyword}{typedef}\ std::vector<SOM\_element>\ \mbox{\hyperlink{som_8h_aaf4309fa3669886305579010786a9d9a}{teaching\_vector\_type}};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \mbox{\hyperlink{som_8h_a2f3b22b4e61a19afa6c2e45bedaeb62c}{max\_range}};}
\DoxyCodeLine{00106\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \mbox{\hyperlink{som_8h_a7cdd2608e2f29ee63285cd7c4a51d310}{min\_range}};}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{som_8h_a24da837c961350b08822d0147f76ca93}{randval}}(\ \textcolor{keywordtype}{double}\ lowlimit,\ \textcolor{keywordtype}{double}\ highlimit);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{som_8h_a09587cd79c200644af779dd457110d4b}{find\_data\_ranges}}(\mbox{\hyperlink{som_8h_aaf4309fa3669886305579010786a9d9a}{teaching\_vector\_type}}\ \&teaching,\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&\mbox{\hyperlink{som_8h_a2f3b22b4e61a19afa6c2e45bedaeb62c}{max\_range}},\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&\mbox{\hyperlink{som_8h_a7cdd2608e2f29ee63285cd7c4a51d310}{min\_range}}\ );}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{som_8h_aa04b373a7924be76bf9d0428f051b9a4}{add\_fraction\_of\_difference}}(\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&to,\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&from,\ \textcolor{keywordtype}{double}\ frac);}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \mbox{\hyperlink{som_8h_ade00b3fdd54e15e954daf361878b065e}{DEFINE}}\ \mbox{\hyperlink{som_8h_aaf4309fa3669886305579010786a9d9a}{teaching\_vector\_type}}\ \mbox{\hyperlink{som_8h_a19c1f05ef6e47d9402405627974fb809}{my\_teaching}};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_s_o_map_a217025f49090ae46420dd7639fb641f5}{SOMap}}\ \{}
\DoxyCodeLine{00117\ \ \ \ \ std::vector<\ std::vector<\ SOM\_element\ >\ >\ \mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}};}
\DoxyCodeLine{00118\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{class_s_o_map_a217025f49090ae46420dd7639fb641f5}{SOMap}}(\textcolor{keywordtype}{int}\ xSize,\ \textcolor{keywordtype}{int}\ ySize)\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}.reserve(xSize);}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ xSize;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}.push\_back(\mbox{\hyperlink{som_8h_aaf4309fa3669886305579010786a9d9a}{teaching\_vector\_type}}());}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].reserve(ySize);}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ 0;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ ySize;++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].push\_back(\mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}());}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00128\ \ \ \ \ \}}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_s_o_map_af77942b9164afaca599c67dcf9b0084f}{size}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}.size();\ \}}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_s_o_map_a19c3e6a13586e146ca859eea5f9fda08}{initialize}}(\mbox{\hyperlink{som_8h_abf29040eaa4190b2ece8bfba78874f65}{InitializeType}}\ it,\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&\mbox{\hyperlink{som_8h_a2f3b22b4e61a19afa6c2e45bedaeb62c}{max\_range}},\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&\mbox{\hyperlink{som_8h_a7cdd2608e2f29ee63285cd7c4a51d310}{min\_range}});}
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{som_8h_aaf4309fa3669886305579010786a9d9a}{teaching\_vector\_type}}\ \&\mbox{\hyperlink{class_s_o_map_ae48e58980e9f0747adf15e4381f51343}{operator[]}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{polymain_8cpp_aff394e352c809421b815b9a8e40f3c64}{indx}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}[\mbox{\hyperlink{polymain_8cpp_aff394e352c809421b815b9a8e40f3c64}{indx}}];\ \}}
\DoxyCodeLine{00132\ \ \ \ \ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&\mbox{\hyperlink{class_s_o_map_ad95fba40f9461d87e0b034f28b2f0c3d}{at}}(\textcolor{keywordtype}{int}\ xVal,\ \textcolor{keywordtype}{int}\ yVal)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}[xVal][yVal];\ \}}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&\mbox{\hyperlink{class_s_o_map_a9ab617fc585c5a7b365979708fb830c3}{at}}(\mbox{\hyperlink{som_8h_a16eb97d90e5683b87599279f1c47db48}{search\_result\_type}}\ \textcolor{keyword}{const}\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}[flow::get<1>(\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}})][flow::get<2>(\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}})];\ \}}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_s_o_map_a8a7acff305596d58524faa4404424bb2}{epoch\_update}}(\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \textcolor{keyword}{const}\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}},\ \textcolor{keywordtype}{int}\ epoch,\ \textcolor{keywordtype}{int}\ min\_x,\ \textcolor{keywordtype}{int}\ min\_y,\ \textcolor{keywordtype}{double}\ radius,\ \textcolor{keywordtype}{double}\ learning\_rate)\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ min\_xiter\ =\ (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}})((\textcolor{keywordtype}{double})min\_x\ -\/\ radius);}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(min\_xiter\ <\ 0)\ min\_xiter\ =\ 0;}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ max\_xiter\ =\ (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}})((\textcolor{keywordtype}{double})min\_x\ +\ radius);}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(max\_xiter\ >\ (\textcolor{keywordtype}{int})\mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}.size()-\/1)\ max\_xiter\ =\ (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}})(\mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}.size()-\/1);}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range}{blocked\_range<int>}}\ br1(min\_xiter,\ max\_xiter,\ 1);}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_map_a50511f1717cbe5cfba57e714aaf424eb}{epoch\_update\_range}}(\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}},\ epoch,\ min\_x,\ min\_y,\ radius,\ learning\_rate,\ br1);}
\DoxyCodeLine{00141\ \ \ \ \ \}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_s_o_map_a50511f1717cbe5cfba57e714aaf424eb}{epoch\_update\_range}}(\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \textcolor{keyword}{const}\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}},\ \textcolor{keywordtype}{int}\ epoch,\ \textcolor{keywordtype}{int}\ min\_x,\ \textcolor{keywordtype}{int}\ min\_y,\ \textcolor{keywordtype}{double}\ radius,\ \textcolor{keywordtype}{double}\ learning\_rate,\ \mbox{\hyperlink{classtbb_1_1blocked__range}{blocked\_range<int>}}\ \&\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}});}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_s_o_map_a5a00b3b807263c86e73b5af9ed13ac70}{teach}}(\ \mbox{\hyperlink{som_8h_aaf4309fa3669886305579010786a9d9a}{teaching\_vector\_type}}\ \&\textcolor{keywordtype}{id});}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_s_o_map_a015dd6fa94ae51dc19618cb584e6f8e7}{debug\_output}}();}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{comment}{//\ find\ BMU\ given\ an\ input,\ returns\ distance}}
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_s_o_map_a541406964c0a17c8ae3d6e13457a524d}{BMU\_range}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}},\ \textcolor{keywordtype}{int}\ \&xval,\ \textcolor{keywordtype}{int}\ \&yval,\ \mbox{\hyperlink{som_8h_a092a9fea4438c65c5e4a63e186f86503}{subsquare\_type}}\ \&\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}});}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_s_o_map_a67f6dc25af9ec62108aaaf25837bc142}{BMU}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}},\ \textcolor{keywordtype}{int}\ \&xval,\ \textcolor{keywordtype}{int}\ \&yval)\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{som_8h_a092a9fea4438c65c5e4a63e186f86503}{subsquare\_type}}\ br(0,(\textcolor{keywordtype}{int})\mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}.size(),1,0,(\textcolor{keywordtype}{int})\mbox{\hyperlink{class_s_o_map_a2653372350ef9efb15538518a06a91bb}{my\_map}}[0].size(),1);}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_s_o_map_a541406964c0a17c8ae3d6e13457a524d}{BMU\_range}}(\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}},\ xval,\ yval,\ br);}
\DoxyCodeLine{00150\ \ \ \ \ \}}
\DoxyCodeLine{00151\ \};}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{som_8h_a2baabc5c8e82758383396b0534688315}{distance\_squared}}(\mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}},\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}});}
\DoxyCodeLine{00154\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{som_8h_afaa2673447b95792a0e5b635cabe250f}{remark\_SOM\_element}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_o_m__element}{SOM\_element}}\ \&\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}});}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{som_8h_a44345bd3822e2e47f94a01bdc85a1c13}{readInputData}}();}
\DoxyCodeLine{00157\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_SOM\_H\_\_}}

\end{DoxyCode}
