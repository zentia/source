\doxysection{Tensor\+Reduction.\+h}
\hypertarget{_tensor_reduction_8h_source}{}\label{_tensor_reduction_8h_source}\index{external/taskflow/3rd-\/party/eigen-\/3.3.7/unsupported/Eigen/CXX11/src/Tensor/TensorReduction.h@{external/taskflow/3rd-\/party/eigen-\/3.3.7/unsupported/Eigen/CXX11/src/Tensor/TensorReduction.h}}
\mbox{\hyperlink{_tensor_reduction_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2014\ Benoit\ Steiner\ <benoit.steiner.goog@gmail.com>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ Copyright\ (C)\ 2016\ Mehdi\ Goli,\ Codeplay\ Software\ Ltd\ <eigen@codeplay.com>}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_CXX11\_TENSOR\_TENSOR\_REDUCTION\_H}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ EIGEN\_CXX11\_TENSOR\_TENSOR\_REDUCTION\_H}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_eigen}{Eigen}}\ \{}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00024\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Op,\ \textcolor{keyword}{typename}\ Dims,\ \textcolor{keyword}{typename}\ XprType,\textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_\ >}
\DoxyCodeLine{00025\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op}{TensorReductionOp}}<Op,\ Dims,\ XprType,\ MakePointer\_>\ >}
\DoxyCodeLine{00026\ \ :\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}}<XprType>}
\DoxyCodeLine{00027\ \{}
\DoxyCodeLine{00028\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{traits<XprType>}}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00_01_make_pointer___01_4_01_4_a4d135f5a02920c8586b94e80ac64a44c}{XprTraits}};}
\DoxyCodeLine{00029\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ XprTraits::Scalar\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00_01_make_pointer___01_4_01_4_ac61816b17088b8fa3f8143d437e1adbd}{Scalar}};}
\DoxyCodeLine{00030\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ XprTraits::StorageKind\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00_01_make_pointer___01_4_01_4_ad70cc2835b95c8377fcbb12be066af33}{StorageKind}};}
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ XprTraits::Index\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00_01_make_pointer___01_4_01_4_a28d32710e15385637ecc88af1b16db7c}{Index}};}
\DoxyCodeLine{00032\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ XprType::Nested\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00_01_make_pointer___01_4_01_4_ad772958ebc0d560135345d3aba8eec0c}{Nested}};}
\DoxyCodeLine{00033\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00_01_make_pointer___01_4_01_4_a4014778d58d65bd206854a9cdcbf7304}{NumDimensions}}\ =\ XprTraits::NumDimensions\ -\/\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1array__size}{array\_size<Dims>::value}};}
\DoxyCodeLine{00034\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00_01_make_pointer___01_4_01_4_ac1608c042fdc6e0e2524447243ba1a21}{Layout}}\ =\ XprTraits::Layout;}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00c39382462f4a2e2ae6af6fe0f8aab669}{MakePointer}}\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{comment}{//\ Intermediate\ typedef\ to\ workaround\ MSVC\ issue.}}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{typedef}\ MakePointer\_<T>\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00c39382462f4a2e2ae6af6fe0f8aab669_ac76d9908bb2bf70cd409d93aaa2f23ed}{MakePointerT}};}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MakePointerT::Type\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00c39382462f4a2e2ae6af6fe0f8aab669_af5c5a370bc10cc801691de11562f8be3}{Type}};}
\DoxyCodeLine{00040\ \ \ \};}
\DoxyCodeLine{00041\ \};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Op,\ \textcolor{keyword}{typename}\ Dims,\ \textcolor{keyword}{typename}\ XprType,\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_>}
\DoxyCodeLine{00044\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1eval}{eval}}<\mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op}{TensorReductionOp}}<Op,\ Dims,\ XprType,\ MakePointer\_>,\ \mbox{\hyperlink{namespace_eigen}{Eigen}}::\mbox{\hyperlink{struct_eigen_1_1_dense}{Dense}}>}
\DoxyCodeLine{00045\ \{}
\DoxyCodeLine{00046\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op}{TensorReductionOp<Op,\ Dims,\ XprType,\ MakePointer\_>}}\&\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1eval_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_00_00c091111a76ab7a3f6cf062dd12dd3c4_a32b65e36873e4dbea8a1eadbe13f3e09}{type}};}
\DoxyCodeLine{00047\ \};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Op,\ \textcolor{keyword}{typename}\ Dims,\ \textcolor{keyword}{typename}\ XprType,\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_>}
\DoxyCodeLine{00050\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1nested}{nested}}<\mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op}{TensorReductionOp}}<Op,\ Dims,\ XprType,\ MakePointer\_>,\ 1,\ typename\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1eval}{eval}}<\mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op}{TensorReductionOp}}<Op,\ Dims,\ XprType,\ MakePointer\_>\ >::\mbox{\hyperlink{struct_eigen_1_1internal_1_1nested_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_003b0e9bfd65794f3be6d0916aaf050d6d_ad7936658e7838927249d3da19c24bdbe}{type}}>}
\DoxyCodeLine{00051\ \{}
\DoxyCodeLine{00052\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op}{TensorReductionOp<Op,\ Dims,\ XprType,\ MakePointer\_>}}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1nested_3_01_tensor_reduction_op_3_01_op_00_01_dims_00_01_xpr_type_003b0e9bfd65794f3be6d0916aaf050d6d_ad7936658e7838927249d3da19c24bdbe}{type}};}
\DoxyCodeLine{00053\ \};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputDims>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_dim_initializer}{DimInitializer}}\ \{}
\DoxyCodeLine{00057\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ InputDims,\ \textcolor{keyword}{typename}\ ReducedDims>\ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00058\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_dim_initializer_af13bde146ea57c860f8defe77167f923}{run}}(\textcolor{keyword}{const}\ InputDims\&\ input\_dims,}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1array}{array}}<\textcolor{keywordtype}{bool},\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1array__size}{internal::array\_size<InputDims>::value}}>\&\ reduced,}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OutputDims*\ output\_dims,\ ReducedDims*\ reduced\_dims)\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ NumInputDims\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1array__size}{internal::array\_size<InputDims>::value}};}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{int}\ outputIndex\ =\ 0;}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{int}\ reduceIndex\ =\ 0;}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ NumInputDims;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (reduced[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}])\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ (*reduced\_dims)[reduceIndex]\ =\ input\_dims[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ ++reduceIndex;}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ (*output\_dims)[outputIndex]\ =\ input\_dims[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ ++outputIndex;}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00072\ \ \ \ \ \}}
\DoxyCodeLine{00073\ \ \ \}}
\DoxyCodeLine{00074\ \};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_dim_initializer}{DimInitializer}}<\mbox{\hyperlink{struct_eigen_1_1_sizes}{Sizes}}<>\ >\ \{}
\DoxyCodeLine{00077\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ InputDims,\ \textcolor{keyword}{typename}\ Index,\ \textcolor{keywordtype}{size\_t}\ Rank>\ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00078\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_dim_initializer_3_01_sizes_3_4_01_4_af44ffe435d5296375a8ffd8b5af72019}{run}}(\textcolor{keyword}{const}\ InputDims\&\ input\_dims,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1array}{array<bool,\ Rank>}}\&,}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_sizes}{Sizes<>}}*,\ \mbox{\hyperlink{class_eigen_1_1array}{array<Index,\ Rank>}}*\ reduced\_dims)\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ NumInputDims\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1array__size}{internal::array\_size<InputDims>::value}};}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ NumInputDims;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ (*reduced\_dims)[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ input\_dims[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00083\ \ \ \ \ \}}
\DoxyCodeLine{00084\ \ \ \}}
\DoxyCodeLine{00085\ \};}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ReducedDims,\ \textcolor{keywordtype}{int}\ NumTensorDims,\ \textcolor{keywordtype}{int}\ Layout>}
\DoxyCodeLine{00089\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1are__inner__most__dims}{are\_inner\_most\_dims}}\ \{}
\DoxyCodeLine{00090\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1are__inner__most__dims_ad0ee3eb54fea526177eac4f67fc4ea25}{value}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00091\ \};}
\DoxyCodeLine{00092\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ReducedDims,\ \textcolor{keywordtype}{int}\ NumTensorDims,\ \textcolor{keywordtype}{int}\ Layout>}
\DoxyCodeLine{00093\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1preserve__inner__most__dims}{preserve\_inner\_most\_dims}}\ \{}
\DoxyCodeLine{00094\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1preserve__inner__most__dims_aed0b72298a72c2b82ebc47244c5a3d60}{value}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00095\ \};}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \textcolor{preprocessor}{\#if\ EIGEN\_HAS\_CONSTEXPR\ \&\&\ EIGEN\_HAS\_VARIADIC\_TEMPLATES}}
\DoxyCodeLine{00098\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ReducedDims,\ \textcolor{keywordtype}{int}\ NumTensorDims>}
\DoxyCodeLine{00099\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1are__inner__most__dims}{are\_inner\_most\_dims}}<ReducedDims,\ NumTensorDims,\ \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}>\{}
\DoxyCodeLine{00100\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ tmp1\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3e8d80b35de42c31f6afb4b600e43f02}{indices\_statically\_known\_to\_increase<ReducedDims>}}();}
\DoxyCodeLine{00101\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ tmp2\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_aa4588bbbd4862fa88c9de674937e44b8}{index\_statically\_eq<ReducedDims>}}(0,\ 0);}
\DoxyCodeLine{00102\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ tmp3\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_aa4588bbbd4862fa88c9de674937e44b8}{index\_statically\_eq<ReducedDims>}}(\mbox{\hyperlink{struct_eigen_1_1internal_1_1array__size}{array\_size<ReducedDims>::value}}-\/1,\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1array__size}{array\_size<ReducedDims>::value}}-\/1);}
\DoxyCodeLine{00103\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ =\ tmp1\ \&\ tmp2\ \&\ tmp3;}
\DoxyCodeLine{00104\ \};}
\DoxyCodeLine{00105\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ReducedDims,\ \textcolor{keywordtype}{int}\ NumTensorDims>}
\DoxyCodeLine{00106\ \textcolor{keyword}{struct\ }are\_inner\_most\_dims<ReducedDims,\ NumTensorDims,\ \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}}>\{}
\DoxyCodeLine{00107\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ tmp1\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3e8d80b35de42c31f6afb4b600e43f02}{indices\_statically\_known\_to\_increase<ReducedDims>}}();}
\DoxyCodeLine{00108\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ tmp2\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_aa4588bbbd4862fa88c9de674937e44b8}{index\_statically\_eq<ReducedDims>}}(0,\ NumTensorDims\ -\/\ array\_size<ReducedDims>::value);}
\DoxyCodeLine{00109\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ tmp3\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_aa4588bbbd4862fa88c9de674937e44b8}{index\_statically\_eq<ReducedDims>}}(array\_size<ReducedDims>::value\ -\/\ 1,\ NumTensorDims\ -\/\ 1);}
\DoxyCodeLine{00110\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ =\ tmp1\ \&\ tmp2\ \&\ tmp3;}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \};}
\DoxyCodeLine{00113\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ReducedDims,\ \textcolor{keywordtype}{int}\ NumTensorDims>}
\DoxyCodeLine{00114\ \textcolor{keyword}{struct\ }preserve\_inner\_most\_dims<ReducedDims,\ NumTensorDims,\ \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}>\{}
\DoxyCodeLine{00115\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ tmp1\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3e8d80b35de42c31f6afb4b600e43f02}{indices\_statically\_known\_to\_increase<ReducedDims>}}();}
\DoxyCodeLine{00116\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ tmp2\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a8d91ddb0d9423240375140ee86de042e}{index\_statically\_gt<ReducedDims>}}(0,\ 0);}
\DoxyCodeLine{00117\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ =\ tmp1\ \&\ tmp2;}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \};}
\DoxyCodeLine{00120\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ReducedDims,\ \textcolor{keywordtype}{int}\ NumTensorDims>}
\DoxyCodeLine{00121\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1preserve__inner__most__dims}{preserve\_inner\_most\_dims}}<ReducedDims,\ NumTensorDims,\ \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}}>\{}
\DoxyCodeLine{00122\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ tmp1\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3e8d80b35de42c31f6afb4b600e43f02}{indices\_statically\_known\_to\_increase<ReducedDims>}}();}
\DoxyCodeLine{00123\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ tmp2\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_aef4a222112999639535922f901779115}{index\_statically\_lt<ReducedDims>}}(array\_size<ReducedDims>::value\ -\/\ 1,\ NumTensorDims\ -\/\ 1);}
\DoxyCodeLine{00124\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1preserve__inner__most__dims_aed0b72298a72c2b82ebc47244c5a3d60}{value}}\ =\ tmp1\ \&\ tmp2;}
\DoxyCodeLine{00125\ \};}
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ DimIndex,\ \textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op>}
\DoxyCodeLine{00130\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_generic_dim_reducer}{GenericDimReducer}}\ \{}
\DoxyCodeLine{00131\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_generic_dim_reducer_ad65e721ea1322448fb0ac5558897396c}{reduce}}(\textcolor{keyword}{const}\ Self\&\ self,\ \textcolor{keyword}{typename}\ Self::Index\ firstIndex,\ Op\&\ reducer,\ \textcolor{keyword}{typename}\ Self::CoeffReturnType*\ accum)\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2_eigen_2src_2_core_2util_2_static_assert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}((DimIndex\ >\ 0),\ YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ 0;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ self.m\_reducedDims[DimIndex];\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ firstIndex\ +\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ *\ self.m\_reducedStrides[DimIndex];}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_generic_dim_reducer_ad65e721ea1322448fb0ac5558897396c}{GenericDimReducer<DimIndex-\/1,\ Self,\ Op>::reduce}}(self,\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}},\ reducer,\ accum);}
\DoxyCodeLine{00136\ \ \ \ \ \}}
\DoxyCodeLine{00137\ \ \ \}}
\DoxyCodeLine{00138\ \};}
\DoxyCodeLine{00139\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op>}
\DoxyCodeLine{00140\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_generic_dim_reducer}{GenericDimReducer}}<0,\ Self,\ Op>\ \{}
\DoxyCodeLine{00141\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_generic_dim_reducer_3_010_00_01_self_00_01_op_01_4_ad564f83b46be650440afed7611a43075}{reduce}}(\textcolor{keyword}{const}\ Self\&\ self,\ \textcolor{keyword}{typename}\ Self::Index\ firstIndex,\ Op\&\ reducer,\ \textcolor{keyword}{typename}\ Self::CoeffReturnType*\ accum)\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ 0;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ self.m\_reducedDims[0];\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ firstIndex\ +\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ *\ self.m\_reducedStrides[0];}
\DoxyCodeLine{00144\ \ \ \ \ \ \ reducer.reduce(self.m\_impl.coeff(\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}),\ accum);}
\DoxyCodeLine{00145\ \ \ \ \ \}}
\DoxyCodeLine{00146\ \ \ \}}
\DoxyCodeLine{00147\ \};}
\DoxyCodeLine{00148\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op>}
\DoxyCodeLine{00149\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_generic_dim_reducer}{GenericDimReducer}}<-\/1,\ Self,\ Op>\ \{}
\DoxyCodeLine{00150\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_generic_dim_reducer_3-1_00_01_self_00_01_op_01_4_acaf76ffc480ed4e8c7d6a2dd221491a5}{reduce}}(\textcolor{keyword}{const}\ Self\&\ self,\ \textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}},\ Op\&\ reducer,\ \textcolor{keyword}{typename}\ Self::CoeffReturnType*\ accum)\ \{}
\DoxyCodeLine{00151\ \ \ \ \ reducer.reduce(self.m\_impl.coeff(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}),\ accum);}
\DoxyCodeLine{00152\ \ \ \}}
\DoxyCodeLine{00153\ \};}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op,\ \textcolor{keywordtype}{bool}\ Vectorizable\ =\ (Self::InputPacketAccess\ \&\ Op::PacketAccess)>}
\DoxyCodeLine{00156\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_reducer}{InnerMostDimReducer}}\ \{}
\DoxyCodeLine{00157\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keyword}{typename}\ Self::CoeffReturnType\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_reducer_aaee4143a17ab9c390cd30bef090003de}{reduce}}(\textcolor{keyword}{const}\ Self\&\ self,\ \textcolor{keyword}{typename}\ Self::Index\ firstIndex,\ \textcolor{keyword}{typename}\ Self::Index\ numValuesToReduce,\ Op\&\ reducer)\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{keyword}{typename}\ Self::CoeffReturnType\ accum\ =\ reducer.initialize();}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ 0;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ numValuesToReduce;\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ reducer.reduce(self.m\_impl.coeff(firstIndex\ +\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}),\ \&accum);}
\DoxyCodeLine{00161\ \ \ \ \ \}}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{return}\ reducer.finalize(accum);}
\DoxyCodeLine{00163\ \ \ \}}
\DoxyCodeLine{00164\ \};}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op>}
\DoxyCodeLine{00167\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_reducer}{InnerMostDimReducer}}<Self,\ Op,\ \mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}>\ \{}
\DoxyCodeLine{00168\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keyword}{typename}\ Self::CoeffReturnType\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_reducer_3_01_self_00_01_op_00_01true_01_4_acfec95075c8d3e1501051989708d3b0e}{reduce}}(\textcolor{keyword}{const}\ Self\&\ self,\ \textcolor{keyword}{typename}\ Self::Index\ firstIndex,\ \textcolor{keyword}{typename}\ Self::Index\ numValuesToReduce,\ Op\&\ reducer)\ \{}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ packetSize\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1unpacket__traits_a5493b6385ef3a8958b09c00eed0ec26ba63cc10676eb13001d700f7bc4336f6ee}{internal::unpacket\_traits<typename\ Self::PacketReturnType>::size}};}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Self::Index\ VectorizedSize\ =\ (numValuesToReduce\ /\ packetSize)\ *\ packetSize;}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keyword}{typename}\ Self::PacketReturnType\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ reducer.template\ initializePacket<typename\ Self::PacketReturnType>();}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ 0;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ VectorizedSize;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ +=\ packetSize)\ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ reducer.reducePacket(self.m\_impl.template\ packet<Unaligned>(firstIndex\ +\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}),\ \&\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{00174\ \ \ \ \ \}}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keyword}{typename}\ Self::CoeffReturnType\ accum\ =\ reducer.initialize();}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ VectorizedSize;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ numValuesToReduce;\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ reducer.reduce(self.m\_impl.coeff(firstIndex\ +\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}),\ \&accum);}
\DoxyCodeLine{00178\ \ \ \ \ \}}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordflow}{return}\ reducer.finalizeBoth(accum,\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{00180\ \ \ \}}
\DoxyCodeLine{00181\ \};}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ DimIndex,\ \textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op,\ \textcolor{keywordtype}{bool}\ vectorizable\ =\ (Self::InputPacketAccess\ \&\ Op::PacketAccess)>}
\DoxyCodeLine{00184\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_preserver}{InnerMostDimPreserver}}\ \{}
\DoxyCodeLine{00185\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_preserver_a7d25b417bffae714178267664312db58}{reduce}}(\textcolor{keyword}{const}\ Self\&,\ \textcolor{keyword}{typename}\ Self::Index,\ Op\&,\ \textcolor{keyword}{typename}\ Self::PacketReturnType*)\ \{}
\DoxyCodeLine{00186\ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\textcolor{keyword}{false}\ \&\&\ \textcolor{stringliteral}{"{}should\ never\ be\ called"{}});}
\DoxyCodeLine{00187\ \ \ \}}
\DoxyCodeLine{00188\ \};}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ DimIndex,\ \textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op>}
\DoxyCodeLine{00191\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_preserver}{InnerMostDimPreserver}}<DimIndex,\ Self,\ Op,\ \mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}>\ \{}
\DoxyCodeLine{00192\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_preserver_3_01_dim_index_00_01_self_00_01_op_00_01true_01_4_ae50bbff1e15661f9d984ecc5583469ce}{reduce}}(\textcolor{keyword}{const}\ Self\&\ self,\ \textcolor{keyword}{typename}\ Self::Index\ firstIndex,\ Op\&\ reducer,\ \textcolor{keyword}{typename}\ Self::PacketReturnType*\ accum)\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2_eigen_2src_2_core_2util_2_static_assert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}((DimIndex\ >\ 0),\ YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ 0;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ self.m\_reducedDims[DimIndex];\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ firstIndex\ +\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ *\ self.m\_reducedStrides[DimIndex];}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_preserver_a7d25b417bffae714178267664312db58}{InnerMostDimPreserver<DimIndex-\/1,\ Self,\ Op>::reduce}}(self,\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}},\ reducer,\ accum);}
\DoxyCodeLine{00197\ \ \ \ \ \}}
\DoxyCodeLine{00198\ \ \ \}}
\DoxyCodeLine{00199\ \};}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op>}
\DoxyCodeLine{00202\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_preserver}{InnerMostDimPreserver}}<0,\ Self,\ Op,\ \mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}>\ \{}
\DoxyCodeLine{00203\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_preserver_3_010_00_01_self_00_01_op_00_01true_01_4_ac8fff6cb7edd3d1047592d20a6ce36c0}{reduce}}(\textcolor{keyword}{const}\ Self\&\ self,\ \textcolor{keyword}{typename}\ Self::Index\ firstIndex,\ Op\&\ reducer,\ \textcolor{keyword}{typename}\ Self::PacketReturnType*\ accum)\ \{}
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ =\ 0;\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ <\ self.m\_reducedDims[0];\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ firstIndex\ +\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}\ *\ self.m\_reducedStrides[0];}
\DoxyCodeLine{00206\ \ \ \ \ \ \ reducer.reducePacket(self.m\_impl.template\ packet<Unaligned>(\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}),\ accum);}
\DoxyCodeLine{00207\ \ \ \ \ \}}
\DoxyCodeLine{00208\ \ \ \}}
\DoxyCodeLine{00209\ \};}
\DoxyCodeLine{00210\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op>}
\DoxyCodeLine{00211\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_preserver}{InnerMostDimPreserver}}<-\/1,\ Self,\ Op,\ \mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}>\ \{}
\DoxyCodeLine{00212\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_preserver_3-1_00_01_self_00_01_op_00_01true_01_4_aadae7e1e82693167ef28419bee3214ef}{reduce}}(\textcolor{keyword}{const}\ Self\&,\ \textcolor{keyword}{typename}\ Self::Index,\ Op\&,\ \textcolor{keyword}{typename}\ Self::PacketReturnType*)\ \{}
\DoxyCodeLine{00213\ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\textcolor{keyword}{false}\ \&\&\ \textcolor{stringliteral}{"{}should\ never\ be\ called"{}});}
\DoxyCodeLine{00214\ \ \ \}}
\DoxyCodeLine{00215\ \};}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \textcolor{comment}{//\ Default\ full\ reducer}}
\DoxyCodeLine{00218\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op,\ \textcolor{keyword}{typename}\ Device,\ \textcolor{keywordtype}{bool}\ Vectorizable\ =\ (Self::InputPacketAccess\ \&\ Op::PacketAccess)>}
\DoxyCodeLine{00219\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer}{FullReducer}}\ \{}
\DoxyCodeLine{00220\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_afdb7b8d8326a460adec840d3f38b097e}{HasOptimizedImplementation}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_a506159dc2c13ca4882575512f42f972f}{run}}(\textcolor{keyword}{const}\ Self\&\ self,\ Op\&\ reducer,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Device}}\&,\ \textcolor{keyword}{typename}\ Self::CoeffReturnType*\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}})\ \{}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Self::Index\ num\_coeffs\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{array\_prod}}(self.m\_impl.dimensions());}
\DoxyCodeLine{00224\ \ \ \ \ *\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_reducer_aaee4143a17ab9c390cd30bef090003de}{InnerMostDimReducer<Self,\ Op,\ Vectorizable>::reduce}}(self,\ 0,\ num\_coeffs,\ reducer);}
\DoxyCodeLine{00225\ \ \ \}}
\DoxyCodeLine{00226\ \};}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_USE\_THREADS}}
\DoxyCodeLine{00230\ \textcolor{comment}{//\ Multithreaded\ full\ reducers}}
\DoxyCodeLine{00231\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op,}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ Vectorizable\ =\ (Self::InputPacketAccess\ \&\ Op::PacketAccess)>}
\DoxyCodeLine{00233\ \textcolor{keyword}{struct}\ FullReducerShard\ \{}
\DoxyCodeLine{00234\ \ \ \textcolor{keyword}{static}\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{poisson_8cpp_ae12af222b820baf64e953be588c5bbbe}{run}}(\textcolor{keyword}{const}\ Self\&\ self,\ \textcolor{keyword}{typename}\ Self::Index\ firstIndex,}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Self::Index\ numValuesToReduce,\ Op\&\ reducer,}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Self::CoeffReturnType*\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}})\ \{}
\DoxyCodeLine{00237\ \ \ \ \ *\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_reducer_aaee4143a17ab9c390cd30bef090003de}{InnerMostDimReducer<Self,\ Op,\ Vectorizable>::reduce}}(}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ self,\ firstIndex,\ numValuesToReduce,\ reducer);}
\DoxyCodeLine{00239\ \ \ \}}
\DoxyCodeLine{00240\ \};}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \textcolor{comment}{//\ Multithreaded\ full\ reducer}}
\DoxyCodeLine{00243\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op,\ \textcolor{keywordtype}{bool}\ Vectorizable>}
\DoxyCodeLine{00244\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer}{FullReducer<Self,\ Op,\ ThreadPoolDevice,\ Vectorizable>}}\ \{}
\DoxyCodeLine{00245\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ HasOptimizedImplementation\ =\ !Op::IsStateful;}
\DoxyCodeLine{00246\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ PacketSize\ =}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1unpacket__traits_a5493b6385ef3a8958b09c00eed0ec26ba63cc10676eb13001d700f7bc4336f6ee}{unpacket\_traits<typename\ Self::PacketReturnType>::size}};}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \textcolor{comment}{//\ launch\ one\ reducer\ per\ thread\ and\ accumulate\ the\ result.}}
\DoxyCodeLine{00250\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{poisson_8cpp_ae12af222b820baf64e953be588c5bbbe}{run}}(\textcolor{keyword}{const}\ Self\&\ self,\ Op\&\ reducer,\ \textcolor{keyword}{const}\ ThreadPoolDevice\&\ device,}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Self::CoeffReturnType*\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}})\ \{}
\DoxyCodeLine{00252\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Self::Index\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Index}};}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Index}}\ num\_coeffs\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{array\_prod}}(self.m\_impl.dimensions());}
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_coeffs\ ==\ 0)\ \{}
\DoxyCodeLine{00255\ \ \ \ \ \ \ *\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}\ =\ reducer.finalize(reducer.initialize());}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00257\ \ \ \ \ \}}
\DoxyCodeLine{00258\ \ \ \ \ \textcolor{keyword}{const}\ TensorOpCost\ cost\ =}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ self.m\_impl.costPerCoeff(Vectorizable)\ +}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ TensorOpCost(0,\ 0,\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1functor__traits_aa90a7195c8d31e78a5517aa7a6a832fdaaaf05f4dc0b825ef9e0c3d89c033e90a}{internal::functor\_traits<Op>::Cost}},\ Vectorizable,}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ PacketSize);}
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ num\_threads\ =\ \mbox{\hyperlink{class_eigen_1_1_tensor_cost_model_a718b68d6a884d2c862b5dc3c4c3f5ab4}{TensorCostModel<ThreadPoolDevice>::numThreads}}(}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ num\_coeffs,\ cost,\ device.numThreads());}
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_threads\ ==\ 1)\ \{}
\DoxyCodeLine{00265\ \ \ \ \ \ \ *\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}\ =}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_reducer_aaee4143a17ab9c390cd30bef090003de}{InnerMostDimReducer<Self,\ Op,\ Vectorizable>::reduce}}(self,\ 0,\ num\_coeffs,\ reducer);}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00268\ \ \ \ \ \}}
\DoxyCodeLine{00269\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Index}}\ blocksize\ =}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ std::floor<Index>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(num\_coeffs)\ /\ num\_threads);}
\DoxyCodeLine{00271\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Index}}\ numblocks\ =\ blocksize\ >\ 0\ ?\ num\_coeffs\ /\ blocksize\ :\ 0;}
\DoxyCodeLine{00272\ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(num\_coeffs\ >=\ numblocks\ *\ blocksize);}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \ \ \ \ Barrier\ \mbox{\hyperlink{test__condition__variable_8h_a66a856f373cb24d6a669f2635ce27f18}{barrier}}(\mbox{\hyperlink{namespace_eigen_1_1internal_a66f17ef65b1821965dcb8ad9a660b064}{internal::convert\_index<unsigned\ int>}}(numblocks));}
\DoxyCodeLine{00275\ \ \ \ \ MaxSizeVector<typename\ Self::CoeffReturnType>\ shards(numblocks,\ reducer.initialize());}
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Index}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ numblocks;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00277\ \ \ \ \ \ \ device.enqueue\_with\_barrier(\&\mbox{\hyperlink{test__condition__variable_8h_a66a856f373cb24d6a669f2635ce27f18}{barrier}},\ \&FullReducerShard<Self,\ Op,\ Vectorizable>::run,}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self,\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ *\ blocksize,\ blocksize,\ reducer,}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&shards[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00280\ \ \ \ \ \}}
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{keyword}{typename}\ Self::CoeffReturnType\ finalShard;}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keywordflow}{if}\ (numblocks\ *\ blocksize\ <\ num\_coeffs)\ \{}
\DoxyCodeLine{00283\ \ \ \ \ \ \ finalShard\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_reducer_aaee4143a17ab9c390cd30bef090003de}{InnerMostDimReducer<Self,\ Op,\ Vectorizable>::reduce}}(}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ self,\ numblocks\ *\ blocksize,\ num\_coeffs\ -\/\ numblocks\ *\ blocksize,}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ reducer);}
\DoxyCodeLine{00286\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00287\ \ \ \ \ \ \ finalShard\ =\ reducer.initialize();}
\DoxyCodeLine{00288\ \ \ \ \ \}}
\DoxyCodeLine{00289\ \ \ \ \ \mbox{\hyperlink{test__condition__variable_8h_a66a856f373cb24d6a669f2635ce27f18}{barrier}}.Wait();}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Index}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ numblocks;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00292\ \ \ \ \ \ \ reducer.reduce(shards[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ \&finalShard);}
\DoxyCodeLine{00293\ \ \ \ \ \}}
\DoxyCodeLine{00294\ \ \ \ \ *\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}\ =\ reducer.finalize(finalShard);}
\DoxyCodeLine{00295\ \ \ \}}
\DoxyCodeLine{00296\ \};}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \textcolor{comment}{//\ Default\ inner\ reducer}}
\DoxyCodeLine{00302\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op,\ \textcolor{keyword}{typename}\ Device>}
\DoxyCodeLine{00303\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_reducer}{InnerReducer}}\ \{}
\DoxyCodeLine{00304\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_reducer_aa157c28481202ce463fd531c4c12104c}{HasOptimizedImplementation}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_reducer_ab0f80bf14245c83efc5e5616f2775a7e}{run}}(\textcolor{keyword}{const}\ Self\&,\ Op\&,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Device}}\&,\ \textcolor{keyword}{typename}\ Self::CoeffReturnType*,\ \textcolor{keyword}{typename}\ Self::Index,\ \textcolor{keyword}{typename}\ Self::Index)\ \{}
\DoxyCodeLine{00307\ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\textcolor{keyword}{false}\ \&\&\ \textcolor{stringliteral}{"{}Not\ implemented"{}});}
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00309\ \ \ \}}
\DoxyCodeLine{00310\ \};}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \textcolor{comment}{//\ Default\ outer\ reducer}}
\DoxyCodeLine{00313\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Self,\ \textcolor{keyword}{typename}\ Op,\ \textcolor{keyword}{typename}\ Device>}
\DoxyCodeLine{00314\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1_outer_reducer}{OuterReducer}}\ \{}
\DoxyCodeLine{00315\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_outer_reducer_a6fab6aeec440dc8dfb1e274334ffcea4}{HasOptimizedImplementation}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_outer_reducer_a8136f58f94804c6134d1c4162c61820d}{run}}(\textcolor{keyword}{const}\ Self\&,\ Op\&,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Device}}\&,\ \textcolor{keyword}{typename}\ Self::CoeffReturnType*,\ \textcolor{keyword}{typename}\ Self::Index,\ \textcolor{keyword}{typename}\ Self::Index)\ \{}
\DoxyCodeLine{00318\ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\textcolor{keyword}{false}\ \&\&\ \textcolor{stringliteral}{"{}Not\ implemented"{}});}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00320\ \ \ \}}
\DoxyCodeLine{00321\ \};}
\DoxyCodeLine{00322\ }
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \textcolor{preprocessor}{\#if\ defined(EIGEN\_USE\_GPU)\ \&\&\ defined(\_\_CUDACC\_\_)}}
\DoxyCodeLine{00325\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ B,\ \textcolor{keywordtype}{int}\ N,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00326\ \_\_global\_\_\ \textcolor{keywordtype}{void}\ FullReductionKernel(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ \textcolor{keyword}{typename}\ S::CoeffReturnType*,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}*);}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00329\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_HAS\_CUDA\_FP16}}
\DoxyCodeLine{00330\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00331\ \_\_global\_\_\ \textcolor{keywordtype}{void}\ ReductionInitFullReduxKernelHalfFloat(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ \mbox{\hyperlink{sugar_8h_a3c4b6810e53e7e0359a602895ef510d2}{half2}}*);}
\DoxyCodeLine{00332\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ B,\ \textcolor{keywordtype}{int}\ N,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00333\ \_\_global\_\_\ \textcolor{keywordtype}{void}\ FullReductionKernelHalfFloat(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ \mbox{\hyperlink{struct_eigen_1_1half}{half}}*,\ \mbox{\hyperlink{sugar_8h_a3c4b6810e53e7e0359a602895ef510d2}{half2}}*);}
\DoxyCodeLine{00334\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ NPT,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00335\ \_\_global\_\_\ \textcolor{keywordtype}{void}\ InnerReductionKernelHalfFloat(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ I,\ \mbox{\hyperlink{struct_eigen_1_1half}{half}}*);}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00338\ }
\DoxyCodeLine{00339\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ NPT,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00340\ \_\_global\_\_\ \textcolor{keywordtype}{void}\ InnerReductionKernel(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ I,\ \textcolor{keyword}{typename}\ S::CoeffReturnType*);}
\DoxyCodeLine{00341\ }
\DoxyCodeLine{00342\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ NPT,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00343\ \_\_global\_\_\ \textcolor{keywordtype}{void}\ OuterReductionKernel(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ I,\ \textcolor{keyword}{typename}\ S::CoeffReturnType*);}
\DoxyCodeLine{00344\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \}\ \ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Op,\ \textcolor{keyword}{typename}\ Dims,\ \textcolor{keyword}{typename}\ XprType,\ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_>}
\DoxyCodeLine{00350\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a5ef65e855f79840ce37ec745fb04d3fd}{TensorReductionOp}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_eigen_1_1_tensor_base_a3574ea5c818fe3a123bccc1e5474d705}{TensorBase}}<TensorReductionOp<Op,\ Dims,\ XprType,\ MakePointer\_>,\ ReadOnlyAccessors>\ \{}
\DoxyCodeLine{00351\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00352\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Eigen::internal::traits<TensorReductionOp>::Scalar}}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a270a050b616d21c50f3e3579c80f29c6}{Scalar}};}
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1_generic_num_traits_abca8573812593670795c41f22aa9d5e2}{Eigen::NumTraits<Scalar>::Real}}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_ab8c0e1c64b0c349b5df071d3efc2e801}{RealScalar}};}
\DoxyCodeLine{00354\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1remove__const_afe3dbb0bdee2ec8eed4416723d75bc90}{internal::remove\_const<typename\ XprType::CoeffReturnType>::type}}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_aad3b4e74e58cfb6762bb9ef861ff9bbd}{CoeffReturnType}};}
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1nested_a4055706399adb16364e143ba5610a673}{Eigen::internal::nested<TensorReductionOp>::type}}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a3a1c56fb5f45577d7ad7820553db1054}{Nested}};}
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Eigen::internal::traits<TensorReductionOp>::StorageKind}}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a3a5b36e80467952c79c19e1979ed0952}{StorageKind}};}
\DoxyCodeLine{00357\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Eigen::internal::traits<TensorReductionOp>::Index}}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a6a5cf586d26b3a89a4d660ab51fb61a9}{Index}};}
\DoxyCodeLine{00358\ }
\DoxyCodeLine{00359\ \ \ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00360\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a5ef65e855f79840ce37ec745fb04d3fd}{TensorReductionOp}}(\textcolor{keyword}{const}\ XprType\&\ expr,\ \textcolor{keyword}{const}\ Dims\&\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a29f4411b69e9b2be35a5a41f5247580b}{dims}})\ :\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a8f45f01c272e545d449044413d1f7785}{m\_expr}}(expr),\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a5cfa60114fbf6edde5ffcbf90c0576e1}{m\_dims}}(\mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a29f4411b69e9b2be35a5a41f5247580b}{dims}})}
\DoxyCodeLine{00361\ \ \ \ \ \{\ \}}
\DoxyCodeLine{00362\ \ \ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00363\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a214ada0344528eada5fb7523d67381da}{TensorReductionOp}}(\textcolor{keyword}{const}\ XprType\&\ expr,\ \textcolor{keyword}{const}\ Dims\&\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a29f4411b69e9b2be35a5a41f5247580b}{dims}},\ \textcolor{keyword}{const}\ Op\&\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a66b77611527a9ae943ab85aec25a48e3}{reducer}})\ :\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a8f45f01c272e545d449044413d1f7785}{m\_expr}}(expr),\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a5cfa60114fbf6edde5ffcbf90c0576e1}{m\_dims}}(\mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a29f4411b69e9b2be35a5a41f5247580b}{dims}}),\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_ab72aca11cbcd5009971528bfbc20749d}{m\_reducer}}(\mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a66b77611527a9ae943ab85aec25a48e3}{reducer}})}
\DoxyCodeLine{00364\ \ \ \ \ \{\ \}}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \ \ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{keyword}{const}\ XprType\&\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_aec99f5bb6698ddd1f850dd7001dba88e}{expression}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a8f45f01c272e545d449044413d1f7785}{m\_expr}};\ \}}
\DoxyCodeLine{00368\ \ \ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keyword}{const}\ Dims\&\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a29f4411b69e9b2be35a5a41f5247580b}{dims}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a5cfa60114fbf6edde5ffcbf90c0576e1}{m\_dims}};\ \}}
\DoxyCodeLine{00370\ \ \ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{keyword}{const}\ Op\&\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a66b77611527a9ae943ab85aec25a48e3}{reducer}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_ab72aca11cbcd5009971528bfbc20749d}{m\_reducer}};\ \}}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00373\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keyword}{typename}\ XprType::Nested\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a8f45f01c272e545d449044413d1f7785}{m\_expr}};}
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{keyword}{const}\ Dims\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_a5cfa60114fbf6edde5ffcbf90c0576e1}{m\_dims}};}
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{keyword}{const}\ Op\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op_ab72aca11cbcd5009971528bfbc20749d}{m\_reducer}};}
\DoxyCodeLine{00377\ \};}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00380\ \textcolor{comment}{//\ Eval\ as\ rvalue}}
\DoxyCodeLine{00381\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Op,\ \textcolor{keyword}{typename}\ Dims,\ \textcolor{keyword}{typename}\ ArgType,\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_,\ \textcolor{keyword}{typename}\ Device>}
\DoxyCodeLine{00382\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator}{TensorEvaluator}}<const\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op}{TensorReductionOp}}<Op,\ Dims,\ ArgType,\ MakePointer\_>,\ Device>}
\DoxyCodeLine{00383\ \{}
\DoxyCodeLine{00384\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_tensor_reduction_op}{TensorReductionOp<Op,\ Dims,\ ArgType,\ MakePointer\_>}}\ XprType;}
\DoxyCodeLine{00385\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ XprType::Index\ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}};}
\DoxyCodeLine{00386\ \ \ \textcolor{keyword}{typedef}\ ArgType\ ChildType;}
\DoxyCodeLine{00387\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ac4139a59583bb1e6385d3a0195548b6b}{TensorEvaluator<ArgType,\ Device>::Dimensions}}\ InputDimensions;}
\DoxyCodeLine{00388\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ NumInputDims\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1array__size}{internal::array\_size<InputDimensions>::value}};}
\DoxyCodeLine{00389\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ NumReducedDims\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1array__size}{internal::array\_size<Dims>::value}};}
\DoxyCodeLine{00390\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ NumOutputDims\ =\ NumInputDims\ -\/\ NumReducedDims;}
\DoxyCodeLine{00391\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1conditional}{internal::conditional<NumOutputDims==0,\ Sizes<>}},\ \mbox{\hyperlink{struct_eigen_1_1_d_sizes}{DSizes<Index,\ NumOutputDims>}}\ >\mbox{\hyperlink{struct_eigen_1_1_packet_type}{::type}}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator}{Dimensions}};}
\DoxyCodeLine{00392\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ XprType::Scalar\ \mbox{\hyperlink{class_eigen_1_1_product}{Scalar}};}
\DoxyCodeLine{00393\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator}{TensorEvaluator<const\ TensorReductionOp<Op,\ Dims,\ ArgType,\ MakePointer\_>}},\ Device>\ Self;}
\DoxyCodeLine{00394\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ InputPacketAccess\ =\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2a82e9bfc6394867187050ca7e4619cdf1}{TensorEvaluator<ArgType,\ Device>::PacketAccess}};}
\DoxyCodeLine{00395\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1remove__const_afe3dbb0bdee2ec8eed4416723d75bc90}{internal::remove\_const<typename\ XprType::CoeffReturnType>::type}}\ \mbox{\hyperlink{class_eigen_1_1_dense_coeffs_base}{CoeffReturnType}};}
\DoxyCodeLine{00396\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1_packet_type_a3408a66e0894db9cb51e39dbf4fe9f0f}{PacketType<CoeffReturnType,\ Device>::type}}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a5ffb21f50e4fbd0d4d9cef40e148cc5e}{PacketReturnType}};}
\DoxyCodeLine{00397\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ PacketSize\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1unpacket__traits_a5493b6385ef3a8958b09c00eed0ec26ba63cc10676eb13001d700f7bc4336f6ee}{internal::unpacket\_traits<PacketReturnType>::size}};}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00400\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2af11db1f709324172bf7b0697066c3e32}{IsAligned}}\ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{00401\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2a82e9bfc6394867187050ca7e4619cdf1}{PacketAccess}}\ =\ Self::InputPacketAccess\ \&\&\ Op::PacketAccess,}
\DoxyCodeLine{00402\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{Layout}}\ =\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{TensorEvaluator<ArgType,\ Device>::Layout}},}
\DoxyCodeLine{00403\ \ \ \ \ CoordAccess\ =\ \textcolor{keyword}{false},\ \ \textcolor{comment}{//\ to\ be\ implemented}}
\DoxyCodeLine{00404\ \ \ \ \ RawAccess\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{00405\ \ \ \};}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00407\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ ReducingInnerMostDims\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1are__inner__most__dims_ad0ee3eb54fea526177eac4f67fc4ea25}{internal::are\_inner\_most\_dims<Dims,\ NumInputDims,\ Layout>::value}};}
\DoxyCodeLine{00408\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ PreservingInnerMostDims\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1preserve__inner__most__dims_aed0b72298a72c2b82ebc47244c5a3d60}{internal::preserve\_inner\_most\_dims<Dims,\ NumInputDims,\ Layout>::value}};}
\DoxyCodeLine{00409\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ RunningFullReduction\ =\ (NumOutputDims==0);}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a43bea98dc719e3b6ac73ab2df0291455}{TensorEvaluator}}(\textcolor{keyword}{const}\ XprType\&\ op,\ \textcolor{keyword}{const}\ Device\&\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa1eb26b743a6cafedceb567036276d4e}{device}})}
\DoxyCodeLine{00412\ \ \ \ \ \ \ :\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa71daf2f52a3753294e445f823e50956}{m\_impl}}(op.expression(),\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa1eb26b743a6cafedceb567036276d4e}{device}}),\ m\_reducer(op.reducer()),\ m\_result(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa1eb26b743a6cafedceb567036276d4e}{device}}),\ m\_xpr\_dims(op.dims())}
\DoxyCodeLine{00413\ \ \ \{}
\DoxyCodeLine{00414\ \ \ \ \ \mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2_eigen_2src_2_core_2util_2_static_assert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}((NumInputDims\ >=\ NumReducedDims),\ YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);}
\DoxyCodeLine{00415\ \ \ \ \ \mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2_eigen_2src_2_core_2util_2_static_assert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}((!ReducingInnerMostDims\ |\ !PreservingInnerMostDims\ |\ (NumReducedDims\ ==\ NumInputDims)),}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);}
\DoxyCodeLine{00417\ }
\DoxyCodeLine{00418\ \ \ \ \ \textcolor{comment}{//\ Build\ the\ bitmap\ indicating\ if\ an\ input\ dimension\ is\ reduced\ or\ not.}}
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ NumInputDims;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \ \ m\_reduced[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00421\ \ \ \ \ \}}
\DoxyCodeLine{00422\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ NumReducedDims;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(op.dims()[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ >=\ 0);}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(op.dims()[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ <\ NumInputDims);}
\DoxyCodeLine{00425\ \ \ \ \ \ \ m\_reduced[op.dims()[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00426\ \ \ \ \ \}}
\DoxyCodeLine{00427\ }
\DoxyCodeLine{00428\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a43bea98dc719e3b6ac73ab2df0291455}{TensorEvaluator<ArgType,\ Device>::Dimensions}}\&\ input\_dims\ =\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa71daf2f52a3753294e445f823e50956}{m\_impl}}.dimensions();}
\DoxyCodeLine{00429\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_dim_initializer_af13bde146ea57c860f8defe77167f923}{internal::DimInitializer<Dimensions>::run}}(input\_dims,\ m\_reduced,\ \&m\_dimensions,\ \&m\_reducedDims);}
\DoxyCodeLine{00430\ }
\DoxyCodeLine{00431\ \ \ \ \ \textcolor{comment}{//\ Precompute\ output\ strides.}}
\DoxyCodeLine{00432\ \ \ \ \ \textcolor{keywordflow}{if}\ (NumOutputDims\ >\ 0)\ \{}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{Layout}})\ ==\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}))\ \{}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ m\_outputStrides[0]\ =\ 1;}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 1;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ NumOutputDims;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ m\_outputStrides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ m\_outputStrides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ -\/\ 1]\ *\ m\_dimensions[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ -\/\ 1];}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ m\_outputStrides.back()\ =\ 1;}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ NumOutputDims\ -\/\ 2;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ >=\ 0;\ -\/-\/\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \ \ m\_outputStrides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ m\_outputStrides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ +\ 1]\ *\ m\_dimensions[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ +\ 1];}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00444\ \ \ \ \ \}}
\DoxyCodeLine{00445\ }
\DoxyCodeLine{00446\ \ \ \ \ \textcolor{comment}{//\ Precompute\ input\ strides.}}
\DoxyCodeLine{00447\ \ \ \ \ \textcolor{keywordflow}{if}\ (NumInputDims\ >\ 0)\ \{}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \mbox{\hyperlink{sugar_8h_af6228a2253f88b2affbe0c54d8b5b321}{array<Index,\ NumInputDims>}}\ input\_strides;}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{Layout}})\ ==\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}))\ \{}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ input\_strides[0]\ =\ 1;}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 1;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ NumInputDims;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ input\_strides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ input\_strides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}-\/1]\ *\ input\_dims[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}-\/1];}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ input\_strides.\mbox{\hyperlink{classarray_a6d112622386b819b9dfb2bed8aed5fdd}{back}}()\ =\ 1;}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ NumInputDims\ -\/\ 2;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ >=\ 0;\ -\/-\/\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \ \ input\_strides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ input\_strides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ +\ 1]\ *\ input\_dims[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ +\ 1];}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00460\ }
\DoxyCodeLine{00461\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ outputIndex\ =\ 0;}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ reduceIndex\ =\ 0;}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ NumInputDims;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_reduced[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}])\ \{}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ m\_reducedStrides[reduceIndex]\ =\ input\_strides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ ++reduceIndex;}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ m\_preservedStrides[outputIndex]\ =\ input\_strides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ ++outputIndex;}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00472\ \ \ \ \ \}}
\DoxyCodeLine{00473\ }
\DoxyCodeLine{00474\ \ \ \ \ \textcolor{comment}{//\ Special\ case\ for\ full\ reductions}}
\DoxyCodeLine{00475\ \ \ \ \ \textcolor{keywordflow}{if}\ (NumOutputDims\ ==\ 0)\ \{}
\DoxyCodeLine{00476\ \ \ \ \ \ \ m\_preservedStrides[0]\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(input\_dims);}
\DoxyCodeLine{00477\ \ \ \ \ \}}
\DoxyCodeLine{00478\ \ \ \}}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00480\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ac4139a59583bb1e6385d3a0195548b6b}{Dimensions}}\&\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a4b49b2c40bcb2220fb240083cd1833c6}{dimensions}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_dimensions;\ \}}
\DoxyCodeLine{00481\ }
\DoxyCodeLine{00482\ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ EIGEN\_DEVICE\_FUNC\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae188d806978166eb8cbffbd63c944fb3}{evalSubExprsIfNeeded}}(\textcolor{keyword}{typename}\ MakePointer\_<CoeffReturnType>::Type\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}})\ \{}
\DoxyCodeLine{00483\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa71daf2f52a3753294e445f823e50956}{m\_impl}}.evalSubExprsIfNeeded(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00485\ \ \ \ \ \textcolor{comment}{//\ Use\ the\ FullReducer\ if\ possible.}}
\DoxyCodeLine{00486\ \ \ \ \ \textcolor{keywordflow}{if}\ ((RunningFullReduction\ \&\&\ RunningOnSycl)\ ||(RunningFullReduction\ \&\&}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_afdb7b8d8326a460adec840d3f38b097e}{internal::FullReducer<Self,\ Op,\ Device>::HasOptimizedImplementation}}\ \&\&}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ ((RunningOnGPU\ \&\&\ (\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}}.majorDeviceVersion()\ >=\ 3))\ ||}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \ !RunningOnGPU)))\ \{}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ need\_assign\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}})\ \{}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ m\_result\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}}*\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}}.allocate(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}})));}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}}\ =\ m\_result;}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ need\_assign\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00495\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00496\ \ \ \ \ \ \ Op\ reducer(m\_reducer);}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_a506159dc2c13ca4882575512f42f972f}{internal::FullReducer<Self,\ Op,\ Device>::run}}(*\textcolor{keyword}{this},\ reducer,\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}},\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}});}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ need\_assign;}
\DoxyCodeLine{00499\ \ \ \ \ \}}
\DoxyCodeLine{00500\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(RunningOnSycl)\{}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ num\_values\_to\_reduce\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(m\_reducedDims);}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ num\_coeffs\_to\_preserve\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(m\_dimensions);}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}})\ \{}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}}\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}}*\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}}.allocate(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}})\ *\ num\_coeffs\_to\_preserve));}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ m\_result\ =\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}};}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00507\ \ \ \ \ \ \ Op\ reducer(m\_reducer);}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_reducer_ab0f80bf14245c83efc5e5616f2775a7e}{internal::InnerReducer<Self,\ Op,\ Device>::run}}(*\textcolor{keyword}{this},\ reducer,\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}},\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}},\ num\_values\_to\_reduce,\ num\_coeffs\_to\_preserve);}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (m\_result\ !=\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00510\ \ \ \ \ \}}
\DoxyCodeLine{00511\ }
\DoxyCodeLine{00512\ \ \ \ \ \textcolor{comment}{//\ Attempt\ to\ use\ an\ optimized\ reduction.}}
\DoxyCodeLine{00513\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (RunningOnGPU\ \&\&\ (\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}}.majorDeviceVersion()\ >=\ 3))\ \{}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ reducing\_inner\_dims\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ NumReducedDims;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{Layout}})\ ==\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}))\ \{}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ reducing\_inner\_dims\ \&=\ m\_reduced[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ reducing\_inner\_dims\ \&=\ m\_reduced[NumInputDims\ -\/\ 1\ -\/\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_reducer_aa157c28481202ce463fd531c4c12104c}{internal::InnerReducer<Self,\ Op,\ Device>::HasOptimizedImplementation}}\ \&\&}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \ \ (reducing\_inner\_dims\ ||\ ReducingInnerMostDims))\ \{}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ num\_values\_to\_reduce\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(m\_reducedDims);}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ num\_coeffs\_to\_preserve\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(m\_dimensions);}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}})\ \{}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_coeffs\_to\_preserve\ <\ 1024\ \&\&\ num\_values\_to\_reduce\ >\ num\_coeffs\_to\_preserve\ \&\&\ num\_values\_to\_reduce\ >\ 128)\ \{}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}}\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}}*\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}}.allocate(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}})\ *\ num\_coeffs\_to\_preserve));}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ m\_result\ =\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}};}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ Op\ reducer(m\_reducer);}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_reducer_ab0f80bf14245c83efc5e5616f2775a7e}{internal::InnerReducer<Self,\ Op,\ Device>::run}}(*\textcolor{keyword}{this},\ reducer,\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}},\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}},\ num\_values\_to\_reduce,\ num\_coeffs\_to\_preserve))\ \{}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_result)\ \{}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}}.deallocate(m\_result);}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \ \ \ \ m\_result\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (m\_result\ !=\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00546\ }
\DoxyCodeLine{00547\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ preserving\_inner\_dims\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ NumReducedDims;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{Layout}})\ ==\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}))\ \{}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ preserving\_inner\_dims\ \&=\ m\_reduced[NumInputDims\ -\/\ 1\ -\/\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \ \ preserving\_inner\_dims\ \&=\ m\_reduced[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{struct_eigen_1_1internal_1_1_outer_reducer_a6fab6aeec440dc8dfb1e274334ffcea4}{internal::OuterReducer<Self,\ Op,\ Device>::HasOptimizedImplementation}}\ \&\&}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ preserving\_inner\_dims)\ \{}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ num\_values\_to\_reduce\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(m\_reducedDims);}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ num\_coeffs\_to\_preserve\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(m\_dimensions);}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}})\ \{}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_coeffs\_to\_preserve\ <\ 1024\ \&\&\ num\_values\_to\_reduce\ >\ num\_coeffs\_to\_preserve\ \&\&\ num\_values\_to\_reduce\ >\ 32)\ \{}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}}\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}}*\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}}.allocate(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}})\ *\ num\_coeffs\_to\_preserve));}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \ \ \ \ m\_result\ =\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}};}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ Op\ reducer(m\_reducer);}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{struct_eigen_1_1internal_1_1_outer_reducer_a8136f58f94804c6134d1c4162c61820d}{internal::OuterReducer<Self,\ Op,\ Device>::run}}(*\textcolor{keyword}{this},\ reducer,\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}},\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}},\ num\_values\_to\_reduce,\ num\_coeffs\_to\_preserve))\ \{}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_result)\ \{}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}}.deallocate(m\_result);}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \ \ \ \ m\_result\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (m\_result\ !=\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00579\ \ \ \ \ \}}
\DoxyCodeLine{00580\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00581\ \ \ \}}
\DoxyCodeLine{00582\ }
\DoxyCodeLine{00583\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a76ec54bcca9523ec104aaa9adaf74983}{cleanup}}()\ \{}
\DoxyCodeLine{00584\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa71daf2f52a3753294e445f823e50956}{m\_impl}}.cleanup();}
\DoxyCodeLine{00585\ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_result)\ \{}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}}.deallocate(m\_result);}
\DoxyCodeLine{00587\ \ \ \ \ \ \ m\_result\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00588\ \ \ \ \ \}}
\DoxyCodeLine{00589\ \ \ \}}
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00591\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a7747e4223120fe698801fa12c186561d}{coeff}}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\textcolor{keyword}{\ const}}
\DoxyCodeLine{00592\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00593\ \ \ \ \ \textcolor{keywordflow}{if}\ ((RunningOnSycl\ ||\ RunningFullReduction\ ||\ RunningOnGPU)\ \&\&\ m\_result)\ \{}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *(m\_result\ +\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}});}
\DoxyCodeLine{00595\ \ \ \ \ \}}
\DoxyCodeLine{00596\ \ \ \ \ Op\ reducer(m\_reducer);}
\DoxyCodeLine{00597\ \ \ \ \ \textcolor{keywordflow}{if}\ (ReducingInnerMostDims\ ||\ RunningFullReduction)\ \{}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ num\_values\_to\_reduce\ =}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{Layout}})\ ==\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}))\ ?\ m\_preservedStrides[0]\ :\ m\_preservedStrides[NumPreservedStrides\ -\/\ 1];}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_reducer_aaee4143a17ab9c390cd30bef090003de}{internal::InnerMostDimReducer<Self,\ Op>::reduce}}(*\textcolor{keyword}{this},\ firstInput(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}),}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_values\_to\_reduce,\ reducer);}
\DoxyCodeLine{00602\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Self::CoeffReturnType\ accum\ =\ reducer.initialize();}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_generic_dim_reducer_ad65e721ea1322448fb0ac5558897396c}{internal::GenericDimReducer<NumReducedDims-\/1,\ Self,\ Op>::reduce}}(*\textcolor{keyword}{this},\ firstInput(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}),\ reducer,\ \&accum);}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ reducer.finalize(accum);}
\DoxyCodeLine{00606\ \ \ \ \ \}}
\DoxyCodeLine{00607\ \ \ \}}
\DoxyCodeLine{00608\ }
\DoxyCodeLine{00609\ \ \ \textcolor{comment}{//\ TODO(bsteiner):\ provide\ a\ more\ efficient\ implementation.}}
\DoxyCodeLine{00610\ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{int}\ LoadMode>}
\DoxyCodeLine{00611\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a5ffb21f50e4fbd0d4d9cef40e148cc5e}{PacketReturnType}}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_af8ba36b08b6aaabc799d5d86a48dcb9d}{packet}}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\textcolor{keyword}{\ const}}
\DoxyCodeLine{00612\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00613\ \ \ \ \ \mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2_eigen_2src_2_core_2util_2_static_assert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}((PacketSize\ >\ 1),\ YOU\_MADE\_A\_PROGRAMMING\_MISTAKE)}
\DoxyCodeLine{00614\ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ +\ PacketSize\ -\/\ 1\ <\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}(\mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a4b49b2c40bcb2220fb240083cd1833c6}{dimensions}}())));}
\DoxyCodeLine{00615\ }
\DoxyCodeLine{00616\ \ \ \ \ \textcolor{keywordflow}{if}\ (RunningOnGPU\ \&\&\ m\_result)\ \{}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1internal_ae25c18feab0271a245176a7a3f2dcd3d}{internal::pload<PacketReturnType>}}(m\_result\ +\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}});}
\DoxyCodeLine{00618\ \ \ \ \ \}}
\DoxyCodeLine{00619\ }
\DoxyCodeLine{00620\ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_a13d55467be312f50f2ae60737f1ed9f3}{EIGEN\_ALIGN\_MAX}}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1remove__const_afe3dbb0bdee2ec8eed4416723d75bc90}{internal::remove\_const<CoeffReturnType>::type}}\ \mbox{\hyperlink{namespacemagic__enum_1_1detail_ae466f21d1f7503161a9615e8117a20d1}{values}}[PacketSize];}
\DoxyCodeLine{00621\ \ \ \ \ \textcolor{keywordflow}{if}\ (ReducingInnerMostDims)\ \{}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ num\_values\_to\_reduce\ =}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{Layout}})\ ==\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}))\ ?\ m\_preservedStrides[0]\ :\ m\_preservedStrides[NumPreservedStrides\ -\/\ 1];}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ firstIndex\ =\ firstInput(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}});}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ PacketSize;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \ \ Op\ reducer(m\_reducer);}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacemagic__enum_1_1detail_ae466f21d1f7503161a9615e8117a20d1}{values}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_reducer_aaee4143a17ab9c390cd30bef090003de}{internal::InnerMostDimReducer<Self,\ Op>::reduce}}(*\textcolor{keyword}{this},\ firstIndex\ +\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ *\ num\_values\_to\_reduce,}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_values\_to\_reduce,\ reducer);}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00630\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (PreservingInnerMostDims)\ \{}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ firstIndex\ =\ firstInput(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}});}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ innermost\_dim\ =\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{Layout}})\ ==\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}))\ ?\ 0\ :\ NumOutputDims\ -\/\ 1;}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \textcolor{comment}{//\ TBD:\ extend\ this\ the\ the\ n\ innermost\ dimensions\ that\ we\ preserve.}}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (((firstIndex\ \%\ m\_dimensions[innermost\_dim])\ +\ PacketSize\ -\/\ 1)\ <\ m\_dimensions[innermost\_dim])\ \{}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ Op\ reducer(m\_reducer);}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Self::PacketReturnType\ accum\ =\ reducer.template\ initializePacket<typename\ Self::PacketReturnType>();}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1_inner_most_dim_preserver_a7d25b417bffae714178267664312db58}{internal::InnerMostDimPreserver<NumReducedDims-\/1,\ Self,\ Op>::reduce}}(*\textcolor{keyword}{this},\ firstIndex,\ reducer,\ \&accum);}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ reducer.finalizePacket(accum);}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ PacketSize;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacemagic__enum_1_1detail_ae466f21d1f7503161a9615e8117a20d1}{values}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a7747e4223120fe698801fa12c186561d}{coeff}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ +\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00644\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ PacketSize;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacemagic__enum_1_1detail_ae466f21d1f7503161a9615e8117a20d1}{values}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a7747e4223120fe698801fa12c186561d}{coeff}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ +\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00648\ \ \ \ \ \}}
\DoxyCodeLine{00649\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a5ffb21f50e4fbd0d4d9cef40e148cc5e}{PacketReturnType}}\ rslt\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_ae25c18feab0271a245176a7a3f2dcd3d}{internal::pload<PacketReturnType>}}(values);}
\DoxyCodeLine{00650\ \ \ \ \ \textcolor{keywordflow}{return}\ rslt;}
\DoxyCodeLine{00651\ \ \ \}}
\DoxyCodeLine{00652\ }
\DoxyCodeLine{00653\ \ \ \textcolor{comment}{//\ Must\ be\ called\ after\ evalSubExprsIfNeeded().}}
\DoxyCodeLine{00654\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ TensorOpCost\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_af3251d42e115c7c14f7c82a68a3b799d}{costPerCoeff}}(\textcolor{keywordtype}{bool}\ vectorized)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00655\ \ \ \ \ \textcolor{keywordflow}{if}\ (RunningFullReduction\ \&\&\ m\_result)\ \{}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ TensorOpCost(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}}),\ 0,\ 0,\ vectorized,\ PacketSize);}
\DoxyCodeLine{00657\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ num\_values\_to\_reduce\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(m\_reducedDims);}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ compute\_cost\ =\ num\_values\_to\_reduce\ *\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1functor__traits_aa90a7195c8d31e78a5517aa7a6a832fdaaaf05f4dc0b825ef9e0c3d89c033e90a}{internal::functor\_traits<Op>::Cost}};}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa71daf2f52a3753294e445f823e50956}{m\_impl}}.costPerCoeff(vectorized)\ *\ num\_values\_to\_reduce\ +}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \ \ TensorOpCost(0,\ 0,\ compute\_cost,\ vectorized,\ PacketSize);}
\DoxyCodeLine{00662\ \ \ \ \ \}}
\DoxyCodeLine{00663\ \ \ \}}
\DoxyCodeLine{00664\ }
\DoxyCodeLine{00665\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{typename}\ MakePointer\_<Scalar>::Type\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ae301776353d1f3fa8f687107301bd486}{data}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_result;\ \}}
\DoxyCodeLine{00667\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a43bea98dc719e3b6ac73ab2df0291455}{TensorEvaluator<ArgType,\ Device>}}\&\ \mbox{\hyperlink{time__cpq__throughput__test_8cpp_a93f492677a2617aa7e14de9cf7e75597}{impl}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa71daf2f52a3753294e445f823e50956}{m\_impl}};\ \}}
\DoxyCodeLine{00669\ \ \ \textcolor{keyword}{const}\ Device\&\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa1eb26b743a6cafedceb567036276d4e}{device}}()\textcolor{keyword}{\ const}\{\textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}};\}}
\DoxyCodeLine{00671\ \ \ \textcolor{keyword}{const}\ Dims\&\ xprDims()\textcolor{keyword}{\ const\ }\{\textcolor{keywordflow}{return}\ m\_xpr\_dims;\}}
\DoxyCodeLine{00672\ }
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00674\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00675\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int},\ \textcolor{keyword}{typename},\ \textcolor{keyword}{typename}>\ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }internal::GenericDimReducer;}
\DoxyCodeLine{00676\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename},\ \textcolor{keyword}{typename},\ \textcolor{keywordtype}{bool}>\ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }internal::InnerMostDimReducer;}
\DoxyCodeLine{00677\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int},\ \textcolor{keyword}{typename},\ \textcolor{keyword}{typename},\ \textcolor{keywordtype}{bool}>\ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }internal::InnerMostDimPreserver;}
\DoxyCodeLine{00678\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ O,\ \textcolor{keyword}{typename}\ D,\ \textcolor{keywordtype}{bool}\ V>\ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }internal::FullReducer;}
\DoxyCodeLine{00679\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_USE\_THREADS}}
\DoxyCodeLine{00680\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ O,\ \textcolor{keywordtype}{bool}\ V>\ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }internal::FullReducerShard;}
\DoxyCodeLine{00681\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00682\ \textcolor{preprocessor}{\#if\ defined(EIGEN\_USE\_GPU)\ \&\&\ defined(\_\_CUDACC\_\_)}}
\DoxyCodeLine{00683\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ B,\ \textcolor{keywordtype}{int}\ N,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>\ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ internal::FullReductionKernel(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ \textcolor{keyword}{typename}\ S::CoeffReturnType*,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}*);}
\DoxyCodeLine{00684\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_HAS\_CUDA\_FP16}}
\DoxyCodeLine{00685\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>\ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ internal::ReductionInitFullReduxKernelHalfFloat(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ \mbox{\hyperlink{sugar_8h_a3c4b6810e53e7e0359a602895ef510d2}{half2}}*);}
\DoxyCodeLine{00686\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ B,\ \textcolor{keywordtype}{int}\ N,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>\ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ internal::FullReductionKernelHalfFloat(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ \mbox{\hyperlink{sugar_8h_a143fa055fc894f4591a2715c96eaeb01}{half}}*,\ \mbox{\hyperlink{sugar_8h_a3c4b6810e53e7e0359a602895ef510d2}{half2}}*);}
\DoxyCodeLine{00687\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ NPT,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>\ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ internal::InnerReductionKernelHalfFloat(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ I,\ \mbox{\hyperlink{sugar_8h_a143fa055fc894f4591a2715c96eaeb01}{half}}*);}
\DoxyCodeLine{00688\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00689\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ NPT,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>\ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ internal::InnerReductionKernel(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ I,\ \textcolor{keyword}{typename}\ S::CoeffReturnType*);}
\DoxyCodeLine{00690\ }
\DoxyCodeLine{00691\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ NPT,\ \textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ I>\ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ internal::OuterReductionKernel(\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}},\ I,\ I,\ \textcolor{keyword}{typename}\ S::CoeffReturnType*);}
\DoxyCodeLine{00692\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00693\ }
\DoxyCodeLine{00694\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ O,\ \textcolor{keyword}{typename}\ D>\ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }internal::InnerReducer;}
\DoxyCodeLine{00695\ }
\DoxyCodeLine{00696\ \ \ \textcolor{comment}{//\ Returns\ the\ Index\ in\ the\ input\ tensor\ of\ the\ first\ value\ that\ needs\ to\ be}}
\DoxyCodeLine{00697\ \ \ \textcolor{comment}{//\ used\ to\ compute\ the\ reduction\ at\ output\ index\ "{}index"{}.}}
\DoxyCodeLine{00698\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ firstInput(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00699\ \ \ \ \ \textcolor{keywordflow}{if}\ (ReducingInnerMostDims)\ \{}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{Layout}})\ ==\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}))\ \{}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ *\ m\_preservedStrides[0];}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ *\ m\_preservedStrides[NumPreservedStrides\ -\/\ 1];}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00705\ \ \ \ \ \}}
\DoxyCodeLine{00706\ \ \ \ \ \textcolor{comment}{//\ TBD:\ optimize\ the\ case\ where\ we\ preserve\ the\ innermost\ dimensions.}}
\DoxyCodeLine{00707\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ startInput\ =\ 0;}
\DoxyCodeLine{00708\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a505fb36fcf4b16dcedf95e9d8e4d4ac2aaea01fe7598d6c1941853b693ec9f162}{Layout}})\ ==\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}))\ \{}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ NumOutputDims\ -\/\ 1;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ >\ 0;\ -\/-\/\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ is\ index\_i\ in\ the\ output\ tensor.}}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ idx\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ /\ m\_outputStrides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ startInput\ +=\ idx\ *\ m\_preservedStrides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ -\/=\ idx\ *\ m\_outputStrides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (PreservingInnerMostDims)\ \{}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(m\_preservedStrides[0]\ ==\ 1);}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ startInput\ +=\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}};}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ startInput\ +=\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ *\ m\_preservedStrides[0];}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00721\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ NumOutputDims\ -\/\ 1;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00723\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ is\ index\_i\ in\ the\ output\ tensor.}}
\DoxyCodeLine{00724\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a932b320bc0d4f0c027d28f6f9918bbc6}{Index}}\ idx\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ /\ m\_outputStrides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00725\ \ \ \ \ \ \ \ \ startInput\ +=\ idx\ *\ m\_preservedStrides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00726\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ -\/=\ idx\ *\ m\_outputStrides[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00728\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (PreservingInnerMostDims)\ \{}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(m\_preservedStrides[NumPreservedStrides\ -\/\ 1]\ ==\ 1);}
\DoxyCodeLine{00730\ \ \ \ \ \ \ \ \ startInput\ +=\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}};}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00732\ \ \ \ \ \ \ \ \ startInput\ +=\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}\ *\ m\_preservedStrides[NumPreservedStrides\ -\/\ 1];}
\DoxyCodeLine{00733\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00734\ \ \ \ \ \}}
\DoxyCodeLine{00735\ \ \ \ \ \textcolor{keywordflow}{return}\ startInput;}
\DoxyCodeLine{00736\ \ \ \}}
\DoxyCodeLine{00737\ }
\DoxyCodeLine{00738\ \ \ \textcolor{comment}{//\ Bitmap\ indicating\ if\ an\ input\ dimension\ is\ reduced\ or\ not.}}
\DoxyCodeLine{00739\ \ \ array<bool,\ NumInputDims>\ m\_reduced;}
\DoxyCodeLine{00740\ \ \ \textcolor{comment}{//\ Dimensions\ of\ the\ output\ of\ the\ operation.}}
\DoxyCodeLine{00741\ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_ac4139a59583bb1e6385d3a0195548b6b}{Dimensions}}\ m\_dimensions;}
\DoxyCodeLine{00742\ \ \ \textcolor{comment}{//\ Precomputed\ strides\ for\ the\ output\ tensor.}}
\DoxyCodeLine{00743\ \ \ array<Index,\ NumOutputDims>\ m\_outputStrides;}
\DoxyCodeLine{00744\ \ \ \textcolor{comment}{//\ Subset\ of\ strides\ of\ the\ input\ tensor\ for\ the\ non-\/reduced\ dimensions.}}
\DoxyCodeLine{00745\ \ \ \textcolor{comment}{//\ Indexed\ by\ output\ dimensions.}}
\DoxyCodeLine{00746\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ NumPreservedStrides\ =\ \mbox{\hyperlink{struct_eigen_1_1max__n__1_a0b9459a1d3132e68780fbc262bb17514}{max\_n\_1<NumOutputDims>::size}};}
\DoxyCodeLine{00747\ \ \ array<Index,\ NumPreservedStrides>\ m\_preservedStrides;}
\DoxyCodeLine{00748\ }
\DoxyCodeLine{00749\ \ \ \textcolor{comment}{//\ Subset\ of\ strides\ of\ the\ input\ tensor\ for\ the\ reduced\ dimensions.}}
\DoxyCodeLine{00750\ \ \ \textcolor{comment}{//\ Indexed\ by\ reduced\ dimensions.}}
\DoxyCodeLine{00751\ \ \ array<Index,\ NumReducedDims>\ m\_reducedStrides;}
\DoxyCodeLine{00752\ \ \ \textcolor{comment}{//\ Size\ of\ the\ input\ dimensions\ that\ are\ reduced.}}
\DoxyCodeLine{00753\ \ \ \textcolor{comment}{//\ Indexed\ by\ reduced\ dimensions.}}
\DoxyCodeLine{00754\ \ \ array<Index,\ NumReducedDims>\ m\_reducedDims;}
\DoxyCodeLine{00755\ }
\DoxyCodeLine{00756\ \ \ \textcolor{comment}{//\ Evaluator\ for\ the\ input\ expression.}}
\DoxyCodeLine{00757\ \ \ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a43bea98dc719e3b6ac73ab2df0291455}{TensorEvaluator<ArgType,\ Device>}}\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_aa71daf2f52a3753294e445f823e50956}{m\_impl}};}
\DoxyCodeLine{00758\ }
\DoxyCodeLine{00759\ \ \ \textcolor{comment}{//\ Operation\ to\ apply\ for\ computing\ the\ reduction.}}
\DoxyCodeLine{00760\ \ \ Op\ m\_reducer;}
\DoxyCodeLine{00761\ }
\DoxyCodeLine{00762\ \ \ \textcolor{comment}{//\ For\ full\ reductions}}
\DoxyCodeLine{00763\ \textcolor{preprocessor}{\#if\ defined(EIGEN\_USE\_GPU)\ \&\&\ defined(\_\_CUDACC\_\_)}}
\DoxyCodeLine{00764\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ RunningOnGPU\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1is__same_af25a72bdd5714fb18ddd798fde8c32a9a5989163e8cfc8db2aa0f60d16e735921}{internal::is\_same<Device,\ Eigen::GpuDevice>::value}};}
\DoxyCodeLine{00765\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ RunningOnSycl\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00766\ \textcolor{preprocessor}{\#elif\ defined(EIGEN\_USE\_SYCL)}}
\DoxyCodeLine{00767\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ RunningOnSycl\ =\ internal::is\_same<typename\ internal::remove\_all<Device>::type,\ Eigen::SyclDevice>\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{::value}};}
\DoxyCodeLine{00768\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ RunningOnGPU\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00769\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00770\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ RunningOnGPU\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00771\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ RunningOnSycl\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00772\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00773\ \ \ \textcolor{keyword}{typename}\ MakePointer\_<CoeffReturnType>::Type\ m\_result;}
\DoxyCodeLine{00774\ }
\DoxyCodeLine{00775\ \ \ \textcolor{keyword}{const}\ Device\&\ \mbox{\hyperlink{struct_eigen_1_1_tensor_evaluator_a13eb5009d2c2e60155de55e7c3d2bd6f}{m\_device}};}
\DoxyCodeLine{00776\ \ \ \textcolor{keyword}{const}\ Dims\&\ m\_xpr\_dims;}
\DoxyCodeLine{00777\ \};}
\DoxyCodeLine{00778\ }
\DoxyCodeLine{00779\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00780\ }
\DoxyCodeLine{00781\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_CXX11\_TENSOR\_TENSOR\_REDUCTION\_H}}

\end{DoxyCode}
