\doxysection{external/magic\+\_\+enum/cmake/\+Gen\+Pkg\+Config 目录参考}
\hypertarget{dir_3e3df6be8195b97549db01a75f8f34b2}{}\label{dir_3e3df6be8195b97549db01a75f8f34b2}\index{external/magic\_enum/cmake/GenPkgConfig 目录参考@{external/magic\_enum/cmake/GenPkgConfig 目录参考}}
Gen\+Pkg\+Config 的目录依赖关系图
% FIG 0


\doxysubsection{详细描述}
\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} script generating pkg-\/config files.

WARNING\+: CMake \href{https://gitlab.kitware.com/cmake/cmake/-/merge_requests/6363}{\texttt{ is currently merging own built-\/in pkgconfig generation implementation}}!

If you require such a new version of CMake, you probably should use the built-\/in impl instead.\hypertarget{ReadMe.md_autotoc_md472}{}\doxysubsection{\texorpdfstring{Syntax}{Syntax}}\label{ReadMe.md_autotoc_md472}

\begin{DoxyCode}{0}
\DoxyCodeLine{configure\_pkg\_config\_file(<targetName>}
\DoxyCodeLine{\ \ \ \ NAME\ <name\ of\ the\ pkgconfig\ package>}
\DoxyCodeLine{\ \ \ \ VERSION\ <version\ to\ be\ written\ into\ the\ package>}
\DoxyCodeLine{\ \ \ \ DESCRIPTION\ <description\ to\ be\ written\ into\ the\ package>}
\DoxyCodeLine{\ \ \ \ URL\ <homepage\ URL\ to\ be\ written\ into\ the\ package>}
\DoxyCodeLine{\ \ \ \ COMPONENT\ <install\ as\ the\ component>}
\DoxyCodeLine{\ \ \ \ INSTALL\_LIB\_DIR\ <path\ to\ something\ like\ CMAKE\_INSTALL\_LIBDIR>}
\DoxyCodeLine{\ \ \ \ INSTALL\_INCLUDE\_DIR\ <path\ to\ something\ like\ CMAKE\_INSTALL\_INCLUDEDIR>}
\DoxyCodeLine{\ \ \ \ REQUIRES\ ...\ <list\ of\ pkg-\/config\ packages\ this\ one\ depends\ on>\ ...}
\DoxyCodeLine{\ \ \ \ REQUIRES\ ...\ <list\ of\ pkg-\/config\ packages\ this\ one\ conflicts\ with>\ ...}
\DoxyCodeLine{)}

\end{DoxyCode}
\hypertarget{ReadMe.md_autotoc_md473}{}\doxysubsection{\texorpdfstring{Issuees}{Issuees}}\label{ReadMe.md_autotoc_md473}

\begin{DoxyEnumerate}
\item For {\ttfamily OBJECT} targets we have run into big issues. CMake
\begin{DoxyEnumerate}
\item Doesn\textquotesingle{}t allow to get the list of object files at configure time
\item Allows to get a list of object files as a generator exression ...
\item BUT ... the path to them is full, but we need only file name!
\item CMake doesn\textquotesingle{}t allow to strip directory path via generator expression
\item ... neither it allows string editing within generator expressions ...
\end{DoxyEnumerate}

so ... we have to create a custom target using a custom CMake script executed separately, but ...
\begin{DoxyEnumerate}
\item {\ttfamily file(GENERATE} doesn\textquotesingle{}t properly register dependencies ... so we have to use {\ttfamily add\+\_\+custom\+\_\+command} to say CMake that these files are generated
\item And CMake {\ttfamily install(FILES} doesn\textquotesingle{}t mean that the targets generating these files are automatically executed,
\end{DoxyEnumerate}

So we have to use {\ttfamily ALL} in {\ttfamily add\+\_\+custom\+\_\+target}. 
\end{DoxyEnumerate}