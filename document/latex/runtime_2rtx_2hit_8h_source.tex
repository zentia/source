\doxysection{hit.\+h}
\hypertarget{runtime_2rtx_2hit_8h_source}{}\label{runtime_2rtx_2hit_8h_source}\index{runtime/runtime/rtx/hit.h@{runtime/runtime/rtx/hit.h}}
\mbox{\hyperlink{runtime_2rtx_2hit_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{basic__types_8h}{runtime/core/basic\_types.h}}>}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute}{luisa::compute}}\ \{}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespaceluisa_1_1compute_afc66cb7c7047acae5c5e0a07b4260255}{HitType}}\ :\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \{}
\DoxyCodeLine{00008\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_afc66cb7c7047acae5c5e0a07b4260255ae7ddb7cd777b59610b220bcfa80bd95f}{Miss}}\ =\ 0,}
\DoxyCodeLine{00009\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_afc66cb7c7047acae5c5e0a07b4260255aaa0d528ba11ea1485d466dfe1ea40819}{Surface}}\ =\ 1,\ \ \ \textcolor{comment}{//\ triangle\ or\ curve}}
\DoxyCodeLine{00010\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_afc66cb7c7047acae5c5e0a07b4260255a4b729261cf45327870528920781485f4}{Procedural}}\ =\ 2,\textcolor{comment}{//\ bounding\ box\ (for\ procedural\ primitives)}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \ \ \ \ \textcolor{comment}{//\ legacy\ names}}
\DoxyCodeLine{00013\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_triangle}{Triangle}}\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_afc66cb7c7047acae5c5e0a07b4260255aaa0d528ba11ea1485d466dfe1ea40819}{Surface}},}
\DoxyCodeLine{00014\ \};}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{comment}{//\ Hit\ classes\ used\ by\ DSL,\ DSL\ module\ see\ src/dsl/rtx/ray\_query.h}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ Return\ type\ of\ RayQuery::committed\_hit(),\ it\ represents\ a\ hit\ that\ can\ be\ a\ triangle,\ a\ procedural-\/primitive\ or\ nothing}}
\DoxyCodeLine{00018\ \textcolor{keyword}{struct\ }\textcolor{keyword}{alignas}(8)\ \mbox{\hyperlink{structluisa_1_1compute_1_1_committed_hit}{CommittedHit}}\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_committed_hit_a8723de2b9edc3522b85798112b196bd8}{inst}};}
\DoxyCodeLine{00020\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_committed_hit_a8502d9241fdbdddb32be587741ccec26}{prim}};}
\DoxyCodeLine{00021\ \ \ \ \ \mbox{\hyperlink{sugar_8h_a67916a16039f1634ef3ad6bc1fe2eb2a}{float2}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_committed_hit_a77737a6f162f768f391cea7df3a87799}{bary}};}
\DoxyCodeLine{00022\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_committed_hit_a4008f9e500b33ee3deae78e3c9cc5c5b}{hit\_type}};\textcolor{comment}{//\ HitType}}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_committed_hit_aa40b91bfcd927d68b6ee1caf5f1b04ab}{committed\_ray\_t}};}
\DoxyCodeLine{00024\ \};}
\DoxyCodeLine{00025\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structluisa_1_1compute_1_1_committed_hit}{CommittedHit}})\ ==\ 24u,\ \textcolor{stringliteral}{"{}CommittedHit\ size\ mismatch"{}});}
\DoxyCodeLine{00026\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{alignof}(\mbox{\hyperlink{structluisa_1_1compute_1_1_committed_hit}{CommittedHit}})\ ==\ 8u,\ \textcolor{stringliteral}{"{}CommittedHit\ align\ mismatch"{}});}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{comment}{//\ Return\ type\ of\ Accel::trace\_closest()\ and\ RayQuery::triangle\_candidate(),\ it\ represents\ a\ hit\ that\ can\ be\ a\ triangle\ or\ curve}}
\DoxyCodeLine{00029\ \textcolor{comment}{//\ if\ bary.v\ <\ 0.f\ then\ it's\ a\ curve\ hit,\ otherwise\ it's\ a\ triangle\ hit}}
\DoxyCodeLine{00030\ \textcolor{keyword}{struct\ }\textcolor{keyword}{alignas}(8)\ \mbox{\hyperlink{structluisa_1_1compute_1_1_surface_hit}{SurfaceHit}}\ \{}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_surface_hit_a163472ac7ab17e8dfd0d74ff14a407fb}{inst}};}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_surface_hit_a13e28d227818c511f35b82c0e05b0b82}{prim}};}
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{sugar_8h_a67916a16039f1634ef3ad6bc1fe2eb2a}{float2}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_surface_hit_a2f593dcfa7e07b79a11d79b7259e8abf}{bary}};}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_surface_hit_a9184fa9b3344b698509ac3e76a0a8741}{committed\_ray\_t}};}
\DoxyCodeLine{00035\ \};}
\DoxyCodeLine{00036\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structluisa_1_1compute_1_1_surface_hit}{SurfaceHit}})\ ==\ 24u,\ \textcolor{stringliteral}{"{}SurfaceHit\ size\ mismatch"{}});}
\DoxyCodeLine{00037\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{alignof}(\mbox{\hyperlink{structluisa_1_1compute_1_1_surface_hit}{SurfaceHit}})\ ==\ 8u,\ \textcolor{stringliteral}{"{}SurfaceHit\ align\ mismatch"{}});}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{comment}{//\ Return\ type\ of\ RayQuery::procedural\_candidate(),\ it\ represents\ a\ bounding-\/box\ hit\ of\ procedural-\/primitive}}
\DoxyCodeLine{00040\ \textcolor{keyword}{struct\ }\textcolor{keyword}{alignas}(8)\ \mbox{\hyperlink{structluisa_1_1compute_1_1_a_a_b_b_hit}{AABBHit}}\ \{}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_a_a_b_b_hit_aa60bfddb1eb855e6a59906435907aa21}{inst}};}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_a_a_b_b_hit_a5fea0225696fcbc662a7363f952a9cc8}{prim}};}
\DoxyCodeLine{00043\ \};}
\DoxyCodeLine{00044\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structluisa_1_1compute_1_1_a_a_b_b_hit}{AABBHit}})\ ==\ 8u,\ \textcolor{stringliteral}{"{}AABBHit\ size\ mismatch"{}});}
\DoxyCodeLine{00045\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{alignof}(\mbox{\hyperlink{structluisa_1_1compute_1_1_a_a_b_b_hit}{AABBHit}})\ ==\ 8u,\ \textcolor{stringliteral}{"{}AABBHit\ align\ mismatch"{}});}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{comment}{//\ legacy\ names,\ provided\ for\ compatibility}}
\DoxyCodeLine{00048\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_ab043061250f90534df6cb8178a908f5a}{TriangleHit}}\ =\ \mbox{\hyperlink{structluisa_1_1compute_1_1_surface_hit}{SurfaceHit}};}
\DoxyCodeLine{00049\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_a9430dbaa8e275935d2b7b26d741d686b}{ProceduralHit}}\ =\ \mbox{\hyperlink{structluisa_1_1compute_1_1_a_a_b_b_hit}{AABBHit}};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \}\textcolor{comment}{//\ namespace\ luisa::compute}}

\end{DoxyCode}
