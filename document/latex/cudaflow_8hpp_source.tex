\doxysection{cudaflow.\+hpp}
\hypertarget{cudaflow_8hpp_source}{}\label{cudaflow_8hpp_source}\index{external/taskflow/taskflow/cuda/cudaflow.hpp@{external/taskflow/taskflow/cuda/cudaflow.hpp}}
\mbox{\hyperlink{cudaflow_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{taskflow_8hpp}{../taskflow.hpp}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cuda__graph__exec_8hpp}{cuda\_graph\_exec.hpp}}"{}}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\#include\ "{}cuda\_capturer.hpp"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetf}{tf}}\ \{}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ class\ definition:\ cudaFlow}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1cuda_flow_a1db9e88c4cdbeab9b8b9973d86aff603}{cudaFlow}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{namespacetf_a713c427e4f9841a90dec67045a3babed}{cudaGraph}}\ \{}
\DoxyCodeLine{00052\ \ \ }
\DoxyCodeLine{00053\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00060\ \ \ \mbox{\hyperlink{classtf_1_1cuda_flow_a1db9e88c4cdbeab9b8b9973d86aff603}{cudaFlow}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00065\ \ \ \mbox{\hyperlink{classtf_1_1cuda_flow_a828c3ab275521672e4ec6c78d3a9ee62}{\string~cudaFlow}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ generic\ algorithms}}
\DoxyCodeLine{00069\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00081\ \ \ \mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{classtf_1_1cuda_flow_ac2906cb0002fc411a983d100a3d58d62}{single\_task}}(\mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00089\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00090\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1cuda_flow_ac2906cb0002fc411a983d100a3d58d62}{single\_task}}(\mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00112\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ I,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00113\ \ \ \mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{sycl__algorithms_8cpp_a31982c35fa57dc3cbc342918e527dc5b}{for\_each}}(I\ first,\ I\ last,\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ callable);}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00122\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ I,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00123\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sycl__algorithms_8cpp_a31982c35fa57dc3cbc342918e527dc5b}{for\_each}}(\mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ I\ first,\ I\ last,\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ callable);}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00152\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ I,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00153\ \ \ \mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{sycl__algorithms_8cpp_a7c18da4f0773b8c40eaf52bb8b3e628e}{for\_each\_index}}(I\ first,\ I\ last,\ I\ step,\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ callable);}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00162\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ I,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00163\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sycl__algorithms_8cpp_a7c18da4f0773b8c40eaf52bb8b3e628e}{for\_each\_index}}(}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ I\ first,\ I\ last,\ I\ step,\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ callable}
\DoxyCodeLine{00165\ \ \ );}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00189\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ I,\ \textcolor{keyword}{typename}\ O,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00190\ \ \ \mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{sycl__algorithms_8cpp_abe0cf4a907cfd4631a4d7c7647692a0a}{transform}}(I\ first,\ I\ last,\ O\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ op);}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00199\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ I,\ \textcolor{keyword}{typename}\ O,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00200\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sycl__algorithms_8cpp_abe0cf4a907cfd4631a4d7c7647692a0a}{transform}}(\mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ I\ first,\ I\ last,\ O\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00227\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ I1,\ \textcolor{keyword}{typename}\ I2,\ \textcolor{keyword}{typename}\ O,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00228\ \ \ \mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{sycl__algorithms_8cpp_abe0cf4a907cfd4631a4d7c7647692a0a}{transform}}(I1\ first1,\ I1\ last1,\ I2\ first2,\ O\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ op);}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00237\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ I1,\ \textcolor{keyword}{typename}\ I2,\ \textcolor{keyword}{typename}\ O,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00238\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sycl__algorithms_8cpp_abe0cf4a907cfd4631a4d7c7647692a0a}{transform}}(}
\DoxyCodeLine{00239\ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ I1\ first1,\ I1\ last1,\ I2\ first2,\ O\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}}
\DoxyCodeLine{00240\ \ \ );}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00243\ \ \ \textcolor{comment}{//\ subflow}}
\DoxyCodeLine{00244\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00278\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00279\ \ \ \mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{classtf_1_1cuda_flow_a89c389fff64a16e5dd8c60875d3b514d}{capture}}(\mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\&\&\ callable);}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00289\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{00290\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1cuda_flow_aa0f182dc0fa99bcc9118311925fddca5}{capture}}(\mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ callable);}
\DoxyCodeLine{00291\ \ \ \ \ }
\DoxyCodeLine{00292\ \};}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00295\ \textcolor{comment}{//\ update\ methods}}
\DoxyCodeLine{00296\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \textcolor{comment}{//}}
\DoxyCodeLine{00301\ \textcolor{comment}{//template\ <typename\ C>}}
\DoxyCodeLine{00302\ \textcolor{comment}{//void\ cudaFlow::capture(cudaTask\ task,\ C\ c)\ \{}}
\DoxyCodeLine{00303\ \textcolor{comment}{//}}
\DoxyCodeLine{00304\ \textcolor{comment}{//\ \ if(task.type()\ !=\ cudaTaskType::SUBFLOW)\ \{}}
\DoxyCodeLine{00305\ \textcolor{comment}{//\ \ \ \ TF\_THROW(task,\ "{}\ is\ not\ a\ subflow\ task"{});}}
\DoxyCodeLine{00306\ \textcolor{comment}{//\ \ \}}}
\DoxyCodeLine{00307\ \textcolor{comment}{//}}
\DoxyCodeLine{00308\ \textcolor{comment}{//\ \ //\ insert\ a\ subflow\ node}}
\DoxyCodeLine{00309\ \textcolor{comment}{//\ \ //\ construct\ a\ captured\ flow\ from\ the\ callable}}
\DoxyCodeLine{00310\ \textcolor{comment}{//\ \ auto\ node\_handle\ =\ std::get\_if<cudaFlowNode::Subflow>(\&task.\_node-\/>\_handle);}}
\DoxyCodeLine{00311\ \textcolor{comment}{//\ \ //node\_handle-\/>graph.clear();}}
\DoxyCodeLine{00312\ \textcolor{comment}{//}}
\DoxyCodeLine{00313\ \textcolor{comment}{//\ \ cudaFlowCapturer\ capturer;}}
\DoxyCodeLine{00314\ \textcolor{comment}{//\ \ c(capturer);}}
\DoxyCodeLine{00315\ \textcolor{comment}{//}}
\DoxyCodeLine{00316\ \textcolor{comment}{//\ \ //\ obtain\ the\ optimized\ captured\ graph}}
\DoxyCodeLine{00317\ \textcolor{comment}{//\ \ capturer.\_cfg.\_native\_handle.reset(capturer.capture());}}
\DoxyCodeLine{00318\ \textcolor{comment}{//\ \ node\_handle-\/>cfg\ =\ std::move(capturer.\_cfg);}}
\DoxyCodeLine{00319\ \textcolor{comment}{//}}
\DoxyCodeLine{00320\ \textcolor{comment}{//\ \ TF\_CHECK\_CUDA(}}
\DoxyCodeLine{00321\ \textcolor{comment}{//\ \ \ \ cudaGraphExecChildGraphNodeSetParams(}}
\DoxyCodeLine{00322\ \textcolor{comment}{//\ \ \ \ \ \ \_exe,\ }}
\DoxyCodeLine{00323\ \textcolor{comment}{//\ \ \ \ \ \ task.\_node-\/>\_native\_handle,\ }}
\DoxyCodeLine{00324\ \textcolor{comment}{//\ \ \ \ \ \ node\_handle-\/>cfg.\_native\_handle}}
\DoxyCodeLine{00325\ \textcolor{comment}{//\ \ \ \ ),}}
\DoxyCodeLine{00326\ \textcolor{comment}{//\ \ \ \ "{}failed\ to\ update\ a\ captured\ child\ graph"{}}}
\DoxyCodeLine{00327\ \textcolor{comment}{//\ \ );}}
\DoxyCodeLine{00328\ \textcolor{comment}{//\}}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00330\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00331\ \textcolor{comment}{//\ captured\ flow}}
\DoxyCodeLine{00332\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00333\ }
\DoxyCodeLine{00335\ \textcolor{comment}{//template\ <typename\ C>}}
\DoxyCodeLine{00336\ \textcolor{comment}{//cudaTask\ cudaFlow::capture(C\&\&\ c)\ \{}}
\DoxyCodeLine{00337\ \textcolor{comment}{//}}
\DoxyCodeLine{00338\ \textcolor{comment}{//\ \ //\ insert\ a\ subflow\ node}}
\DoxyCodeLine{00339\ \textcolor{comment}{//\ \ auto\ node\ =\ \_cfg.emplace\_back(}}
\DoxyCodeLine{00340\ \textcolor{comment}{//\ \ \ \ \_cfg,\ std::in\_place\_type\_t<cudaFlowNode::Subflow>\{\}}}
\DoxyCodeLine{00341\ \textcolor{comment}{//\ \ );}}
\DoxyCodeLine{00342\ \textcolor{comment}{//}}
\DoxyCodeLine{00343\ \textcolor{comment}{//\ \ //\ construct\ a\ captured\ flow\ from\ the\ callable}}
\DoxyCodeLine{00344\ \textcolor{comment}{//\ \ auto\ node\_handle\ =\ std::get\_if<cudaFlowNode::Subflow>(\&node-\/>\_handle);}}
\DoxyCodeLine{00345\ \textcolor{comment}{//}}
\DoxyCodeLine{00346\ \textcolor{comment}{//\ \ //\ perform\ capturing}}
\DoxyCodeLine{00347\ \textcolor{comment}{//\ \ cudaFlowCapturer\ capturer;}}
\DoxyCodeLine{00348\ \textcolor{comment}{//\ \ c(capturer);}}
\DoxyCodeLine{00349\ \textcolor{comment}{//}}
\DoxyCodeLine{00350\ \textcolor{comment}{//\ \ //\ obtain\ the\ optimized\ captured\ graph}}
\DoxyCodeLine{00351\ \textcolor{comment}{//\ \ capturer.\_cfg.\_native\_handle.reset(capturer.capture());}}
\DoxyCodeLine{00352\ \textcolor{comment}{//}}
\DoxyCodeLine{00353\ \textcolor{comment}{//\ \ //\ move\ capturer's\ cudaFlow\ graph\ into\ node}}
\DoxyCodeLine{00354\ \textcolor{comment}{//\ \ node\_handle-\/>cfg\ =\ std::move(capturer.\_cfg);}}
\DoxyCodeLine{00355\ \textcolor{comment}{//}}
\DoxyCodeLine{00356\ \textcolor{comment}{//\ \ TF\_CHECK\_CUDA(}}
\DoxyCodeLine{00357\ \textcolor{comment}{//\ \ \ \ cudaGraphAddChildGraphNode(}}
\DoxyCodeLine{00358\ \textcolor{comment}{//\ \ \ \ \ \ \&node-\/>\_native\_handle,\ }}
\DoxyCodeLine{00359\ \textcolor{comment}{//\ \ \ \ \ \ \_cfg.\_native\_handle,\ }}
\DoxyCodeLine{00360\ \textcolor{comment}{//\ \ \ \ \ \ nullptr,\ }}
\DoxyCodeLine{00361\ \textcolor{comment}{//\ \ \ \ \ \ 0,\ }}
\DoxyCodeLine{00362\ \textcolor{comment}{//\ \ \ \ \ \ node\_handle-\/>cfg.\_native\_handle}}
\DoxyCodeLine{00363\ \textcolor{comment}{//\ \ \ \ ),\ }}
\DoxyCodeLine{00364\ \textcolor{comment}{//\ \ \ \ "{}failed\ to\ add\ a\ cudaFlow\ capturer\ task"{}}}
\DoxyCodeLine{00365\ \textcolor{comment}{//\ \ );}}
\DoxyCodeLine{00366\ \textcolor{comment}{//}}
\DoxyCodeLine{00367\ \textcolor{comment}{//\ \ return\ cudaTask(node);}}
\DoxyCodeLine{00368\ \textcolor{comment}{//\}}}
\DoxyCodeLine{00369\ }
\DoxyCodeLine{00370\ \textcolor{comment}{//\ }}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \}\ \ \textcolor{comment}{//\ end\ of\ namespace\ tf\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ }

\end{DoxyCode}
