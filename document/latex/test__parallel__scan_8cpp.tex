\doxysection{external/taskflow/3rd-\/party/tbb/src/test/test\+\_\+parallel\+\_\+scan.cpp 文件参考}
\hypertarget{test__parallel__scan_8cpp}{}\label{test__parallel__scan_8cpp}\index{external/taskflow/3rd-\/party/tbb/src/test/test\_parallel\_scan.cpp@{external/taskflow/3rd-\/party/tbb/src/test/test\_parallel\_scan.cpp}}
{\ttfamily \#include "{}tbb/parallel\+\_\+scan.\+h"{}}\newline
{\ttfamily \#include "{}tbb/blocked\+\_\+range.\+h"{}}\newline
{\ttfamily \#include "{}harness\+\_\+assert.\+h"{}}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include "{}harness.\+h"{}}\newline
{\ttfamily \#include "{}tbb/atomic.\+h"{}}\newline
{\ttfamily \#include "{}tbb/tick\+\_\+count.\+h"{}}\newline
{\ttfamily \#include "{}tbb/task\+\_\+scheduler\+\_\+init.\+h"{}}\newline
{\ttfamily \#include "{}harness\+\_\+cpu.\+h"{}}\newline
test\+\_\+parallel\+\_\+scan.\+cpp 的引用(Include)关系图\+:
% FIG 0
\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_body_id}{Body\+Id}}
\item 
struct \mbox{\hyperlink{struct_storage}{Storage$<$ T $>$}}
\item 
class \mbox{\hyperlink{class_accumulator}{Accumulator$<$ T $>$}}
\item 
class \mbox{\hyperlink{class_scan_body}{Scan\+Body$<$ T $>$}}
\item 
class \mbox{\hyperlink{class_join_body}{Join\+Body$<$ T $>$}}
\end{DoxyCompactItemize}
\doxysubsubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{test__parallel__scan_8cpp_ac3118bc144fa7b17c1410b6eb11b1395}{PRINT\+\_\+\+DEBUG}}~0
\begin{DoxyCompactList}\small\item\em Set to 1 for debugging output \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classtbb_1_1blocked__range}{tbb\+::blocked\+\_\+range}}$<$ long $>$ \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}
\end{DoxyCompactItemize}
\doxysubsubsection*{枚举}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396}{Addend\+Flag}} \{ \mbox{\hyperlink{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396aa09b651ef326a9d8efcee5cc5b720ab4}{UNUSED}} =0
, \mbox{\hyperlink{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396ae5e20cd98a57292a80671128b8d95d56}{USED\+\_\+\+NONFINAL}} =1
, \mbox{\hyperlink{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396af4669fd0e188ef2ee32852f8670cdcef}{USED\+\_\+\+FINAL}} =2
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{test__parallel__scan_8cpp_a7140f2a702d8c8ac137c40671c0512fc}{Triangular\+Sum}} (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})
\begin{DoxyCompactList}\small\item\em \doxylink{struct_sum}{Sum} of 0..i with wrap around on overflow. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{test__parallel__scan_8cpp_a45946f808218876395ee115d7f5732d7}{Verify\+Sum}} (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{structinit}{init}}, long finish\+\_\+index, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{test__parallel__for__each_8cpp_a539b07c7f86d3a9854ed81da50a4fb7d}{sum}}, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} line)
\begin{DoxyCompactList}\small\item\em Verify that sum is init plus sum of integers in closed interval \mbox{[}0..finish\+\_\+index\mbox{]}. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{test__parallel__scan_8cpp_afa7dce24b43d9b2a77a39a13322ff3d2}{Snooze}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} scan\+\_\+should\+\_\+be\+\_\+running)
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{test__parallel__scan_8cpp_aad129223ab9048cbb49adbdb734408e5}{Join\+Storages}} (const \mbox{\hyperlink{struct_storage}{Storage}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&\mbox{\hyperlink{blas__interface_8hh_af32074257ed1b575dfd1ab2f6e6ba59f}{left}}, \mbox{\hyperlink{struct_storage}{Storage}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&\mbox{\hyperlink{blas__interface_8hh_ae258f4b5364eaaabd106893a19064f76}{right}})
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{test__parallel__scan_8cpp_a7cd7c3827a62fe37e72c3826304e9407}{Scan}} (const \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}} \&\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+final, \mbox{\hyperlink{struct_storage}{Storage}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&storage, std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&\mbox{\hyperlink{test__parallel__for__each_8cpp_a539b07c7f86d3a9854ed81da50a4fb7d}{sum}}, const std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&addend)
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{struct_storage}{Storage}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \mbox{\hyperlink{test__parallel__scan_8cpp_ad9c8ec5757edc183543a591d5980378c}{Scan\+With\+Init}} (const \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}} \&\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{structinit}{init}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+final, \mbox{\hyperlink{struct_storage}{Storage}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&storage, std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&\mbox{\hyperlink{test__parallel__for__each_8cpp_a539b07c7f86d3a9854ed81da50a4fb7d}{sum}}, const std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&addend)
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{test__parallel__scan_8cpp_a7cd7c3827a62fe37e72c3826304e9407}{Scan}}, typename Reverse\+Join$>$ }\\\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{test__parallel__scan_8cpp_a350b3fecaf798e4cf76b2daedc837afe}{Parallel\+Scan\+Functional\+Invoker}} (const \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}} \&range, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} idx, const \mbox{\hyperlink{test__parallel__scan_8cpp_a7cd7c3827a62fe37e72c3826304e9407}{Scan}} \&scan, const Reverse\+Join \&reverse\+\_\+join, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac279d5806e9bbfc8bd0c0512b9c48fc0}{mode}})
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{test__parallel__scan_8cpp_a0f935924feeefbf47d8118bf8414dff9}{Parallel\+Scan\+Template\+Functor}} (\mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}} range, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{structinit}{init}}, const std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&addend, std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&\mbox{\hyperlink{test__parallel__for__each_8cpp_a539b07c7f86d3a9854ed81da50a4fb7d}{sum}}, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac279d5806e9bbfc8bd0c0512b9c48fc0}{mode}})
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{test__parallel__scan_8cpp_ad77ec1be498edcd27d905977d1b25ae6}{Test\+Accumulator}} (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac279d5806e9bbfc8bd0c0512b9c48fc0}{mode}}, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{test__pipeline_8cpp_af0f4b8ab4b5ede51caf4b8feeeeecab2}{nthread}})
\item 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{test__parallel__scan_8cpp_a48785aa71453f64a98fc806da097785a}{Test\+Scan\+Tags}} ()
\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{test__parallel__scan_8cpp_ac7bfd5b2c3dd5c7fdbd14f64c92d9c5f}{Test\+Main}} ()
\begin{DoxyCompactList}\small\item\em Entry point to a \doxylink{struct_t_b_b}{TBB} unit test application \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{变量}
\begin{DoxyCompactItemize}
\item 
static volatile \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{test__parallel__scan_8cpp_a6fd8868691f528b4e8fceabd20151d0f}{Scan\+Is\+Running}} = \mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}
\item 
const \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{test__parallel__scan_8cpp_aad2155305a76c55c00392f38ce08410c}{MAXN}} = 2000
\item 
static unsigned char \mbox{\hyperlink{test__parallel__scan_8cpp_a7da9df951384788ce7fceaaea6ed1cf7}{Addend\+History}} \mbox{[}\mbox{\hyperlink{test__parallel__scan_8cpp_aad2155305a76c55c00392f38ce08410c}{MAXN}}\mbox{]}
\begin{DoxyCompactList}\small\item\em Array recording how each addend was used. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$ long $>$ \mbox{\hyperlink{test__parallel__scan_8cpp_a519099c459a44a3684671dc37c4e8775}{Number\+Of\+Live\+Storage}}
\end{DoxyCompactItemize}


\doxysubsection{宏定义说明}
\Hypertarget{test__parallel__scan_8cpp_ac3118bc144fa7b17c1410b6eb11b1395}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!PRINT\_DEBUG@{PRINT\_DEBUG}}
\index{PRINT\_DEBUG@{PRINT\_DEBUG}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{PRINT\_DEBUG}{PRINT\_DEBUG}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_ac3118bc144fa7b17c1410b6eb11b1395} 
\#define PRINT\+\_\+\+DEBUG~0}



Set to 1 for debugging output 



\doxysubsection{类型定义说明}
\Hypertarget{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!Range@{Range}}
\index{Range@{Range}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{Range}{Range}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7} 
typedef \mbox{\hyperlink{classtbb_1_1blocked__range}{tbb\+::blocked\+\_\+range}}$<$long$>$ \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}}



\doxysubsection{枚举类型说明}
\Hypertarget{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!AddendFlag@{AddendFlag}}
\index{AddendFlag@{AddendFlag}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{AddendFlag}{AddendFlag}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396} 
enum \mbox{\hyperlink{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396}{Addend\+Flag}}}

\begin{DoxyEnumFields}[2]{枚举值}
\raisebox{\heightof{T}}[0pt][0pt]{\index{UNUSED@{UNUSED}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!UNUSED@{UNUSED}}}\Hypertarget{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396aa09b651ef326a9d8efcee5cc5b720ab4}\label{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396aa09b651ef326a9d8efcee5cc5b720ab4} 
UNUSED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{USED\_NONFINAL@{USED\_NONFINAL}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!USED\_NONFINAL@{USED\_NONFINAL}}}\Hypertarget{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396ae5e20cd98a57292a80671128b8d95d56}\label{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396ae5e20cd98a57292a80671128b8d95d56} 
USED\+\_\+\+NONFINAL&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{USED\_FINAL@{USED\_FINAL}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!USED\_FINAL@{USED\_FINAL}}}\Hypertarget{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396af4669fd0e188ef2ee32852f8670cdcef}\label{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396af4669fd0e188ef2ee32852f8670cdcef} 
USED\+\_\+\+FINAL&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{函数说明}
\Hypertarget{test__parallel__scan_8cpp_aad129223ab9048cbb49adbdb734408e5}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!JoinStorages@{JoinStorages}}
\index{JoinStorages@{JoinStorages}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{JoinStorages()}{JoinStorages()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_aad129223ab9048cbb49adbdb734408e5} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} Join\+Storages (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_storage}{Storage}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&}]{left}{, }\item[{\mbox{\hyperlink{struct_storage}{Storage}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&}]{right}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 1
\Hypertarget{test__parallel__scan_8cpp_a350b3fecaf798e4cf76b2daedc837afe}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!ParallelScanFunctionalInvoker@{ParallelScanFunctionalInvoker}}
\index{ParallelScanFunctionalInvoker@{ParallelScanFunctionalInvoker}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{ParallelScanFunctionalInvoker()}{ParallelScanFunctionalInvoker()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a350b3fecaf798e4cf76b2daedc837afe} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{test__parallel__scan_8cpp_a7cd7c3827a62fe37e72c3826304e9407}{Scan}}, typename Reverse\+Join$>$ \\
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} Parallel\+Scan\+Functional\+Invoker (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}} \&}]{range}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}}]{idx}{, }\item[{const \mbox{\hyperlink{test__parallel__scan_8cpp_a7cd7c3827a62fe37e72c3826304e9407}{Scan}} \&}]{scan}{, }\item[{const Reverse\+Join \&}]{reverse\+\_\+join}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{mode}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 2
\Hypertarget{test__parallel__scan_8cpp_a0f935924feeefbf47d8118bf8414dff9}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!ParallelScanTemplateFunctor@{ParallelScanTemplateFunctor}}
\index{ParallelScanTemplateFunctor@{ParallelScanTemplateFunctor}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{ParallelScanTemplateFunctor()}{ParallelScanTemplateFunctor()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a0f935924feeefbf47d8118bf8414dff9} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} Parallel\+Scan\+Template\+Functor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}}}]{range}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}}]{init}{, }\item[{const std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&}]{addend}{, }\item[{std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&}]{sum}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{mode}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 3
\Hypertarget{test__parallel__scan_8cpp_a7cd7c3827a62fe37e72c3826304e9407}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!Scan@{Scan}}
\index{Scan@{Scan}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{Scan()}{Scan()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a7cd7c3827a62fe37e72c3826304e9407} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} Scan (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}} \&}]{r}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+final}{, }\item[{\mbox{\hyperlink{struct_storage}{Storage}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&}]{storage}{, }\item[{std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&}]{sum}{, }\item[{const std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&}]{addend}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 4
\Hypertarget{test__parallel__scan_8cpp_ad9c8ec5757edc183543a591d5980378c}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!ScanWithInit@{ScanWithInit}}
\index{ScanWithInit@{ScanWithInit}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{ScanWithInit()}{ScanWithInit()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_ad9c8ec5757edc183543a591d5980378c} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{struct_storage}{Storage}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ Scan\+With\+Init (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range}} \&}]{r}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}}]{init}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+final}{, }\item[{\mbox{\hyperlink{struct_storage}{Storage}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&}]{storage}{, }\item[{std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&}]{sum}{, }\item[{const std\+::vector$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \&}]{addend}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 5
\Hypertarget{test__parallel__scan_8cpp_afa7dce24b43d9b2a77a39a13322ff3d2}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!Snooze@{Snooze}}
\index{Snooze@{Snooze}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{Snooze()}{Snooze()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_afa7dce24b43d9b2a77a39a13322ff3d2} 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} Snooze (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{scan\+\_\+should\+\_\+be\+\_\+running}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{test__parallel__scan_8cpp_ad77ec1be498edcd27d905977d1b25ae6}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!TestAccumulator@{TestAccumulator}}
\index{TestAccumulator@{TestAccumulator}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{TestAccumulator()}{TestAccumulator()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_ad77ec1be498edcd27d905977d1b25ae6} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} Test\+Accumulator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{mode}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{nthread}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 6
\Hypertarget{test__parallel__scan_8cpp_ac7bfd5b2c3dd5c7fdbd14f64c92d9c5f}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!TestMain@{TestMain}}
\index{TestMain@{TestMain}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{TestMain()}{TestMain()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_ac7bfd5b2c3dd5c7fdbd14f64c92d9c5f} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Test\+Main (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Entry point to a \doxylink{struct_t_b_b}{TBB} unit test application 

It MUST be defined by the test application.

If HARNESS\+\_\+\+NO\+\_\+\+PARSE\+\_\+\+COMMAND\+\_\+\+LINE macro was not explicitly set before including \doxylink{harness_8h}{harness.\+h}, then global variables Min\+Thread, and Max\+Thread will be available and initialized when it is called.

Returns \doxylink{namespace_harness_af69f2621193acb5830367304bef3ffdbadcc4d407b25d6323252f96a52263ac64}{Harness\+::\+Done} when the tests passed successfully. When the test fail, it must not return, calling exit(errcode) or abort() instead. When the test is not supported for the given platform/compiler/etc, it should return \doxylink{namespace_harness_af69f2621193acb5830367304bef3ffdbac7fec41a351710612372f06ff2b2871b}{Harness\+::\+Skipped}.

To provide non-\/standard variant of \doxylink{main-override-static_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main()} for the test, define HARNESS\+\_\+\+CUSTOM\+\_\+\+MAIN before including \doxylink{harness_8h}{harness.\+h} \+\_\+\+\_\+\+TBB\+\_\+\+CPP11\+\_\+\+STD\+\_\+\+PLACEHOLDERS\+\_\+\+LINKING\+\_\+\+BROKEN

\+\_\+\+\_\+\+TBB\+\_\+\+SSE\+\_\+\+STACK\+\_\+\+ALIGNMENT\+\_\+\+BROKEN函数调用图\+:
% FIG 7
\Hypertarget{test__parallel__scan_8cpp_a48785aa71453f64a98fc806da097785a}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!TestScanTags@{TestScanTags}}
\index{TestScanTags@{TestScanTags}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{TestScanTags()}{TestScanTags()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a48785aa71453f64a98fc806da097785a} 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} Test\+Scan\+Tags (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

函数调用图\+:
% FIG 8
\Hypertarget{test__parallel__scan_8cpp_a7140f2a702d8c8ac137c40671c0512fc}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!TriangularSum@{TriangularSum}}
\index{TriangularSum@{TriangularSum}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{TriangularSum()}{TriangularSum()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a7140f2a702d8c8ac137c40671c0512fc} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Triangular\+Sum (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{i}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxylink{struct_sum}{Sum} of 0..i with wrap around on overflow. 

\Hypertarget{test__parallel__scan_8cpp_a45946f808218876395ee115d7f5732d7}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!VerifySum@{VerifySum}}
\index{VerifySum@{VerifySum}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{VerifySum()}{VerifySum()}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a45946f808218876395ee115d7f5732d7} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} Verify\+Sum (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{init}{, }\item[{long}]{finish\+\_\+index}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{sum}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{line}{}\end{DoxyParamCaption})}



Verify that sum is init plus sum of integers in closed interval \mbox{[}0..finish\+\_\+index\mbox{]}. 

line should be the source line of the caller 函数调用图\+:
% FIG 9


\doxysubsection{变量说明}
\Hypertarget{test__parallel__scan_8cpp_a7da9df951384788ce7fceaaea6ed1cf7}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!AddendHistory@{AddendHistory}}
\index{AddendHistory@{AddendHistory}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{AddendHistory}{AddendHistory}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a7da9df951384788ce7fceaaea6ed1cf7} 
unsigned char Addend\+History\mbox{[}\mbox{\hyperlink{test__parallel__scan_8cpp_aad2155305a76c55c00392f38ce08410c}{MAXN}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Array recording how each addend was used. 

\textquotesingle{}unsigned char\textquotesingle{} instead of \doxylink{test__parallel__scan_8cpp_a009213a7e5878df14d92dd4429a2e396}{Addend\+Flag} for sake of compactness. \Hypertarget{test__parallel__scan_8cpp_aad2155305a76c55c00392f38ce08410c}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!MAXN@{MAXN}}
\index{MAXN@{MAXN}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{MAXN}{MAXN}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_aad2155305a76c55c00392f38ce08410c} 
const \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} MAXN = 2000}

\Hypertarget{test__parallel__scan_8cpp_a519099c459a44a3684671dc37c4e8775}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!NumberOfLiveStorage@{NumberOfLiveStorage}}
\index{NumberOfLiveStorage@{NumberOfLiveStorage}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{NumberOfLiveStorage}{NumberOfLiveStorage}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a519099c459a44a3684671dc37c4e8775} 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{tbb\+::atomic}}$<$long$>$ Number\+Of\+Live\+Storage}

\Hypertarget{test__parallel__scan_8cpp_a6fd8868691f528b4e8fceabd20151d0f}\index{test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}!ScanIsRunning@{ScanIsRunning}}
\index{ScanIsRunning@{ScanIsRunning}!test\_parallel\_scan.cpp@{test\_parallel\_scan.cpp}}
\doxysubsubsection{\texorpdfstring{ScanIsRunning}{ScanIsRunning}}
{\footnotesize\ttfamily \label{test__parallel__scan_8cpp_a6fd8868691f528b4e8fceabd20151d0f} 
volatile \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} Scan\+Is\+Running = \mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}\hspace{0.3cm}{\ttfamily [static]}}

