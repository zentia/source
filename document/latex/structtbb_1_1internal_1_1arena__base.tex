\doxysection{tbb\+::internal\+::arena\+\_\+base结构体 参考}
\hypertarget{structtbb_1_1internal_1_1arena__base}{}\label{structtbb_1_1internal_1_1arena__base}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}}


The structure of an arena, except the array of slots.  




{\ttfamily \#include $<$arena.\+h$>$}



类 tbb\+::internal\+::arena\+\_\+base 继承关系图\+:
% FIG 0


tbb\+::internal\+::arena\+\_\+base 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 属性}
\begin{DoxyCompactItemize}
\item 
unsigned \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a5db92c4ad3061c5cf83425507ed9446e}{my\+\_\+num\+\_\+workers\+\_\+allotted}}
\begin{DoxyCompactList}\small\item\em The number of workers that have been marked out by the resource manager to service the arena. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic}}$<$ unsigned $>$ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_afda80ce7337049bd96b883cef6e8483e}{my\+\_\+references}}
\begin{DoxyCompactList}\small\item\em Reference counter for the arena. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic}}$<$ unsigned $>$ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a0184ffea730d663e63f0f60946422da2}{my\+\_\+limit}}
\begin{DoxyCompactList}\small\item\em The maximal number of currently busy slots. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1task__stream}{task\+\_\+stream}}$<$ \mbox{\hyperlink{namespacetbb_1_1internal_ae1dadab9152ec72bebfb2827c03846e6}{num\+\_\+priority\+\_\+levels}} $>$ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a3a649af3dbb87630125abd16d767eb77}{my\+\_\+task\+\_\+stream}}
\begin{DoxyCompactList}\small\item\em Task pool for the tasks scheduled via task\+::enqueue() method. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a87fa3017fe36fc2d82a59af27dbd80c2}{my\+\_\+max\+\_\+num\+\_\+workers}}
\begin{DoxyCompactList}\small\item\em The number of workers requested by the master thread owning the arena. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a8e346bbed329804473efe0f8080c9e8b}{my\+\_\+num\+\_\+workers\+\_\+requested}}
\begin{DoxyCompactList}\small\item\em The number of workers that are currently requested from the resource manager. \end{DoxyCompactList}\item 
tbb\+::atomic$<$ uintptr\+\_\+t $>$ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a4a62e36b7d674c0023897118be16498d}{my\+\_\+pool\+\_\+state}}
\begin{DoxyCompactList}\small\item\em Current task pool state and estimate of available tasks amount. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a9571049272687e3f4d113809f0a62080}{my\+\_\+market}}
\begin{DoxyCompactList}\small\item\em The market that owns this arena. \end{DoxyCompactList}\item 
uintptr\+\_\+t \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a296eec178d5cc622a8fa921d188dbc4f}{my\+\_\+aba\+\_\+epoch}}
\begin{DoxyCompactList}\small\item\em ABA prevention marker. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env}{cpu\+\_\+ctl\+\_\+env}} \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_ad3bceeb970e25673b1a1e60b67078062}{my\+\_\+cpu\+\_\+ctl\+\_\+env}}
\begin{DoxyCompactList}\small\item\em FPU control settings of arena\textquotesingle{}s master thread captured at the moment of arena instantiation. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a7770213e3c679d92756b791cccb84e35}{my\+\_\+num\+\_\+slots}}
\begin{DoxyCompactList}\small\item\em The number of slots in the arena. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a206a08226cb9da9d777fd433789ff933}{my\+\_\+num\+\_\+reserved\+\_\+slots}}
\begin{DoxyCompactList}\small\item\em The number of reserved slots (can be occupied only by masters). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1concurrent__monitor}{concurrent\+\_\+monitor}} \mbox{\hyperlink{structtbb_1_1internal_1_1arena__base_a3877c52df25164ba94f721a5661738b1}{my\+\_\+exit\+\_\+monitors}}
\begin{DoxyCompactList}\small\item\em Waiting object for master threads that cannot join the arena. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
The structure of an arena, except the array of slots. 

Separated in order to simplify padding. Intrusive list node base class is used by market to form a list of arenas. 

\doxysubsection{类成员变量说明}
\Hypertarget{structtbb_1_1internal_1_1arena__base_a296eec178d5cc622a8fa921d188dbc4f}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_aba\_epoch@{my\_aba\_epoch}}
\index{my\_aba\_epoch@{my\_aba\_epoch}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_aba\_epoch}{my\_aba\_epoch}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a296eec178d5cc622a8fa921d188dbc4f} 
uintptr\+\_\+t tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+aba\+\_\+epoch}



ABA prevention marker. 

\Hypertarget{structtbb_1_1internal_1_1arena__base_ad3bceeb970e25673b1a1e60b67078062}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_cpu\_ctl\_env@{my\_cpu\_ctl\_env}}
\index{my\_cpu\_ctl\_env@{my\_cpu\_ctl\_env}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_cpu\_ctl\_env}{my\_cpu\_ctl\_env}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_ad3bceeb970e25673b1a1e60b67078062} 
\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env}{cpu\+\_\+ctl\+\_\+env}} tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+cpu\+\_\+ctl\+\_\+env}



FPU control settings of arena\textquotesingle{}s master thread captured at the moment of arena instantiation. 

\Hypertarget{structtbb_1_1internal_1_1arena__base_a3877c52df25164ba94f721a5661738b1}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_exit\_monitors@{my\_exit\_monitors}}
\index{my\_exit\_monitors@{my\_exit\_monitors}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_exit\_monitors}{my\_exit\_monitors}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a3877c52df25164ba94f721a5661738b1} 
\mbox{\hyperlink{classtbb_1_1internal_1_1concurrent__monitor}{concurrent\+\_\+monitor}} tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+exit\+\_\+monitors}



Waiting object for master threads that cannot join the arena. 

\Hypertarget{structtbb_1_1internal_1_1arena__base_a0184ffea730d663e63f0f60946422da2}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_limit@{my\_limit}}
\index{my\_limit@{my\_limit}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_limit}{my\_limit}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a0184ffea730d663e63f0f60946422da2} 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic}}$<$unsigned$>$ tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+limit}



The maximal number of currently busy slots. 

\Hypertarget{structtbb_1_1internal_1_1arena__base_a9571049272687e3f4d113809f0a62080}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_market@{my\_market}}
\index{my\_market@{my\_market}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_market}{my\_market}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a9571049272687e3f4d113809f0a62080} 
\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}}\texorpdfstring{$\ast$}{*} tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+market}



The market that owns this arena. 

\Hypertarget{structtbb_1_1internal_1_1arena__base_a87fa3017fe36fc2d82a59af27dbd80c2}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_max\_num\_workers@{my\_max\_num\_workers}}
\index{my\_max\_num\_workers@{my\_max\_num\_workers}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_max\_num\_workers}{my\_max\_num\_workers}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a87fa3017fe36fc2d82a59af27dbd80c2} 
unsigned tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+max\+\_\+num\+\_\+workers}



The number of workers requested by the master thread owning the arena. 

\Hypertarget{structtbb_1_1internal_1_1arena__base_a206a08226cb9da9d777fd433789ff933}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_num\_reserved\_slots@{my\_num\_reserved\_slots}}
\index{my\_num\_reserved\_slots@{my\_num\_reserved\_slots}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_num\_reserved\_slots}{my\_num\_reserved\_slots}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a206a08226cb9da9d777fd433789ff933} 
unsigned tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+num\+\_\+reserved\+\_\+slots}



The number of reserved slots (can be occupied only by masters). 

\Hypertarget{structtbb_1_1internal_1_1arena__base_a7770213e3c679d92756b791cccb84e35}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_num\_slots@{my\_num\_slots}}
\index{my\_num\_slots@{my\_num\_slots}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_num\_slots}{my\_num\_slots}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a7770213e3c679d92756b791cccb84e35} 
unsigned tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+num\+\_\+slots}



The number of slots in the arena. 

\Hypertarget{structtbb_1_1internal_1_1arena__base_a5db92c4ad3061c5cf83425507ed9446e}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_num\_workers\_allotted@{my\_num\_workers\_allotted}}
\index{my\_num\_workers\_allotted@{my\_num\_workers\_allotted}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_num\_workers\_allotted}{my\_num\_workers\_allotted}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a5db92c4ad3061c5cf83425507ed9446e} 
unsigned tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+num\+\_\+workers\+\_\+allotted}



The number of workers that have been marked out by the resource manager to service the arena. 

\Hypertarget{structtbb_1_1internal_1_1arena__base_a8e346bbed329804473efe0f8080c9e8b}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_num\_workers\_requested@{my\_num\_workers\_requested}}
\index{my\_num\_workers\_requested@{my\_num\_workers\_requested}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_num\_workers\_requested}{my\_num\_workers\_requested}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a8e346bbed329804473efe0f8080c9e8b} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+num\+\_\+workers\+\_\+requested}



The number of workers that are currently requested from the resource manager. 

\Hypertarget{structtbb_1_1internal_1_1arena__base_a4a62e36b7d674c0023897118be16498d}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_pool\_state@{my\_pool\_state}}
\index{my\_pool\_state@{my\_pool\_state}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_pool\_state}{my\_pool\_state}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a4a62e36b7d674c0023897118be16498d} 
tbb\+::atomic$<$uintptr\+\_\+t$>$ tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+pool\+\_\+state}



Current task pool state and estimate of available tasks amount. 

The estimate is either 0 (SNAPSHOT\+\_\+\+EMPTY) or infinity (SNAPSHOT\+\_\+\+FULL). Special state is "{}busy"{} (any other unsigned value). Note that the implementation of \doxylink{classtbb_1_1internal_1_1arena_a3402230064cf16a79b9b2e9874df4d6f}{arena\+::is\+\_\+busy\+\_\+or\+\_\+empty()} requires my\+\_\+pool\+\_\+state to be unsigned. \Hypertarget{structtbb_1_1internal_1_1arena__base_afda80ce7337049bd96b883cef6e8483e}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_references@{my\_references}}
\index{my\_references@{my\_references}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_references}{my\_references}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_afda80ce7337049bd96b883cef6e8483e} 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic}}$<$unsigned$>$ tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+references}



Reference counter for the arena. 

Worker and master references are counted separately\+: first several bits are for references from master threads or explicit task\+\_\+arenas (see \doxylink{classtbb_1_1internal_1_1arena_a3cfbb5823b437dabaaaf99f1bba615be}{arena\+::ref\+\_\+external\+\_\+bits} below); the rest counts the number of workers servicing the arena. \Hypertarget{structtbb_1_1internal_1_1arena__base_a3a649af3dbb87630125abd16d767eb77}\index{tbb::internal::arena\_base@{tbb::internal::arena\_base}!my\_task\_stream@{my\_task\_stream}}
\index{my\_task\_stream@{my\_task\_stream}!tbb::internal::arena\_base@{tbb::internal::arena\_base}}
\doxysubsubsection{\texorpdfstring{my\_task\_stream}{my\_task\_stream}}
{\footnotesize\ttfamily \label{structtbb_1_1internal_1_1arena__base_a3a649af3dbb87630125abd16d767eb77} 
\mbox{\hyperlink{classtbb_1_1internal_1_1task__stream}{task\+\_\+stream}}$<$\mbox{\hyperlink{namespacetbb_1_1internal_ae1dadab9152ec72bebfb2827c03846e6}{num\+\_\+priority\+\_\+levels}}$>$ tbb\+::internal\+::arena\+\_\+base\+::my\+\_\+task\+\_\+stream}



Task pool for the tasks scheduled via task\+::enqueue() method. 

Such scheduling guarantees eventual execution even if
\begin{DoxyItemize}
\item new tasks are constantly coming (by extracting scheduled tasks in relaxed FIFO order);
\item the enqueuing thread does not call any of wait\+\_\+for\+\_\+all methods. Depending on \+\_\+\+\_\+\+TBB\+\_\+\+TASK\+\_\+\+PRIORITY, num\+\_\+priority\+\_\+levels can be 1 or more. 
\end{DoxyItemize}

该结构体的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/src/tbb/\mbox{\hyperlink{arena_8h}{arena.\+h}}\end{DoxyCompactItemize}
