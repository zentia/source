\doxysection{Umeyama.\+h}
\hypertarget{_umeyama_8h_source}{}\label{_umeyama_8h_source}\index{external/taskflow/3rd-\/party/eigen-\/3.3.7/Eigen/src/Geometry/Umeyama.h@{external/taskflow/3rd-\/party/eigen-\/3.3.7/Eigen/src/Geometry/Umeyama.h}}
\mbox{\hyperlink{_umeyama_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2009\ Hauke\ Heibel\ <hauke.heibel@gmail.com>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_UMEYAMA\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_UMEYAMA\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{comment}{//\ This\ file\ requires\ the\ user\ to\ include\ }}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ *\ Eigen/Core}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ *\ Eigen/LU\ }}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ *\ Eigen/SVD}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ *\ Eigen/Array}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_eigen}{Eigen}}\ \{\ }
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_PARSED\_BY\_DOXYGEN}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{comment}{//\ These\ helpers\ are\ required\ since\ it\ allows\ to\ use\ mixed\ types\ as\ parameters}}
\DoxyCodeLine{00024\ \textcolor{comment}{//\ for\ the\ Umeyama.\ The\ problem\ with\ mixed\ parameters\ is\ that\ the\ return\ type}}
\DoxyCodeLine{00025\ \textcolor{comment}{//\ cannot\ trivially\ be\ deduced\ when\ float\ and\ double\ types\ are\ mixed.}}
\DoxyCodeLine{00026\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_eigen_1_1internal}{internal}}\ \{}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{comment}{//\ Compile\ time\ return\ type\ deduction\ for\ different\ MatrixBase\ types.}}
\DoxyCodeLine{00029\ \textcolor{comment}{//\ Different\ means\ here\ different\ alignment\ and\ parameters\ but\ the\ same\ underlying}}
\DoxyCodeLine{00030\ \textcolor{comment}{//\ real\ scalar\ type.}}
\DoxyCodeLine{00031\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType,\ \textcolor{keyword}{typename}\ OtherMatrixType>}
\DoxyCodeLine{00032\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type}{umeyama\_transform\_matrix\_type}}}
\DoxyCodeLine{00033\ \{}
\DoxyCodeLine{00034\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_a7a1a6eec57d817c236256ba2cfc51f72adabf37842613752f6d8f8036133ad3a6}{MinRowsAtCompileTime}}\ =\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_a2a07ba221d47a7d636fd13678c8c75b3}{EIGEN\_SIZE\_MIN\_PREFER\_DYNAMIC}}(MatrixType::RowsAtCompileTime,\ OtherMatrixType::RowsAtCompileTime),}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{comment}{//\ When\ possible\ we\ want\ to\ choose\ some\ small\ fixed\ size\ value\ since\ the\ result}}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{comment}{//\ is\ likely\ to\ fit\ on\ the\ stack.\ So\ here,\ EIGEN\_SIZE\_MIN\_PREFER\_DYNAMIC\ is\ not\ what\ we\ want.}}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_a7a1a6eec57d817c236256ba2cfc51f72addeb4e8e7083fd7a19a1d87aead4eaab}{HomogeneousDimension}}\ =\ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}(\mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_a7a1a6eec57d817c236256ba2cfc51f72adabf37842613752f6d8f8036133ad3a6}{MinRowsAtCompileTime}})\ ==\ \mbox{\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}}\ ?\ \mbox{\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}}\ :\ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}(\mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_a7a1a6eec57d817c236256ba2cfc51f72adabf37842613752f6d8f8036133ad3a6}{MinRowsAtCompileTime}})+1}
\DoxyCodeLine{00040\ \ \ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<typename\ traits<MatrixType>::Scalar}},}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_a7a1a6eec57d817c236256ba2cfc51f72addeb4e8e7083fd7a19a1d87aead4eaab}{HomogeneousDimension}},}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_a7a1a6eec57d817c236256ba2cfc51f72addeb4e8e7083fd7a19a1d87aead4eaab}{HomogeneousDimension}},}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13ad0e7f67d40bcde3d41c12849b16ce6ea}{AutoAlign}}\ |\ (\mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{traits<MatrixType>::Flags}}\ \&\ \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}}\ ?\ \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}}\ :\ \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}),}
\DoxyCodeLine{00046\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_a7a1a6eec57d817c236256ba2cfc51f72addeb4e8e7083fd7a19a1d87aead4eaab}{HomogeneousDimension}},}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_a7a1a6eec57d817c236256ba2cfc51f72addeb4e8e7083fd7a19a1d87aead4eaab}{HomogeneousDimension}}}
\DoxyCodeLine{00048\ \ \ >\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_ac9515b0834bee3cf4a9ce0ed3adc9b2c}{type}};}
\DoxyCodeLine{00049\ \};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00093\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Derived,\ \textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00094\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_ac9515b0834bee3cf4a9ce0ed3adc9b2c}{internal::umeyama\_transform\_matrix\_type<Derived,\ OtherDerived>::type}}}
\DoxyCodeLine{00095\ \mbox{\hyperlink{group___geometry___module_ga033d6550c1fc82e232f2b4c380c19a54}{umeyama}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_matrix_base}{MatrixBase<Derived>}}\&\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_matrix_base}{MatrixBase<OtherDerived>}}\&\ \mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}},\ \textcolor{keywordtype}{bool}\ with\_scaling\ =\ \textcolor{keyword}{true})}
\DoxyCodeLine{00096\ \{}
\DoxyCodeLine{00097\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1umeyama__transform__matrix__type_ac9515b0834bee3cf4a9ce0ed3adc9b2c}{internal::umeyama\_transform\_matrix\_type<Derived,\ OtherDerived>::type}}\ TransformationMatrixType;}
\DoxyCodeLine{00098\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<TransformationMatrixType>::Scalar}}\ \mbox{\hyperlink{class_eigen_1_1_product}{Scalar}};}
\DoxyCodeLine{00099\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1_generic_num_traits_abca8573812593670795c41f22aa9d5e2}{NumTraits<Scalar>::Real}}\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}};}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2_eigen_2src_2_core_2util_2_static_assert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}(!\mbox{\hyperlink{struct_eigen_1_1_generic_num_traits_a4a7b16effb0b7df2ab247e4df795dd3eadf2f66fe13a7f838f9984a31fea52b61}{NumTraits<Scalar>::IsComplex}},\ NUMERIC\_TYPE\_MUST\_BE\_REAL)}
\DoxyCodeLine{00102\ \ \ \mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2_eigen_2src_2_core_2util_2_static_assert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}((\mbox{\hyperlink{struct_eigen_1_1internal_1_1is__same}{internal::is\_same}}<\mbox{\hyperlink{class_eigen_1_1_product}{Scalar}},\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<OtherDerived>::Scalar}}>\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{::value}}),}
\DoxyCodeLine{00103\ \ \ \ \ YOU\_MIXED\_DIFFERENT\_NUMERIC\_TYPES\_\_YOU\_NEED\_TO\_USE\_THE\_CAST\_METHOD\_OF\_MATRIXBASE\_TO\_CAST\_NUMERIC\_TYPES\_EXPLICITLY)}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \textcolor{keyword}{enum}\ \{\ Dimension\ =\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_a2a07ba221d47a7d636fd13678c8c75b3}{EIGEN\_SIZE\_MIN\_PREFER\_DYNAMIC}}(Derived::RowsAtCompileTime,\ OtherDerived::RowsAtCompileTime)\ \};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,\ Dimension,\ 1>}}\ \mbox{\hyperlink{struct_vector_type}{VectorType}};}
\DoxyCodeLine{00108\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,\ Dimension,\ Dimension>}}\ \mbox{\hyperlink{class_eigen_1_1_transform}{MatrixType}};}
\DoxyCodeLine{00109\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1plain__matrix__type__row__major_a0b9ddb023beca38784f402c4a5836982}{internal::plain\_matrix\_type\_row\_major<Derived>::type}}\ RowMajorMatrixType;}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ =\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}.rows();\ \textcolor{comment}{//\ dimension}}
\DoxyCodeLine{00112\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}.cols();\ \textcolor{comment}{//\ number\ of\ measurements}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \textcolor{comment}{//\ required\ for\ demeaning\ ...}}
\DoxyCodeLine{00115\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ one\_over\_n\ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(1)\ /\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\textcolor{keyword}{>}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \textcolor{comment}{//\ computation\ of\ mean}}
\DoxyCodeLine{00118\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_vector_type}{VectorType}}\ src\_mean\ =\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}.rowwise().sum()\ *\ one\_over\_n;}
\DoxyCodeLine{00119\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_vector_type}{VectorType}}\ dst\_mean\ =\ \mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}}.rowwise().sum()\ *\ one\_over\_n;}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \textcolor{comment}{//\ demeaning\ of\ src\ and\ dst\ points}}
\DoxyCodeLine{00122\ \ \ \textcolor{keyword}{const}\ RowMajorMatrixType\ src\_demean\ =\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}.colwise()\ -\/\ src\_mean;}
\DoxyCodeLine{00123\ \ \ \textcolor{keyword}{const}\ RowMajorMatrixType\ dst\_demean\ =\ \mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}}.colwise()\ -\/\ dst\_mean;}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \textcolor{comment}{//\ Eq.\ (36)-\/(37)}}
\DoxyCodeLine{00126\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_product}{Scalar}}\ src\_var\ =\ src\_demean.rowwise().squaredNorm().sum()\ *\ one\_over\_n;}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \textcolor{comment}{//\ Eq.\ (38)}}
\DoxyCodeLine{00129\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_transform}{MatrixType}}\ sigma\ =\ one\_over\_n\ *\ dst\_demean\ *\ src\_demean.transpose();}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \mbox{\hyperlink{class_eigen_1_1_jacobi_s_v_d}{JacobiSVD<MatrixType>}}\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}(sigma,\ \mbox{\hyperlink{group__enums_ggae3e239fb70022eb8747994cf5d68b4a9a9fa9302d510cee20c26311154937e23f}{ComputeFullU}}\ |\ \mbox{\hyperlink{group__enums_ggae3e239fb70022eb8747994cf5d68b4a9a36581f7c662f7def31efd500c284f930}{ComputeFullV}});}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \textcolor{comment}{//\ Initialize\ the\ resulting\ transformation\ with\ an\ identity\ matrix...}}
\DoxyCodeLine{00134\ \ \ TransformationMatrixType\ Rt\ =\ TransformationMatrixType::Identity(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}+1,\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}+1);}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \textcolor{comment}{//\ Eq.\ (39)}}
\DoxyCodeLine{00137\ \ \ \mbox{\hyperlink{struct_vector_type}{VectorType}}\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}\ =\ VectorType::Ones(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}});}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{if}\ \ (\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU().determinant()\ *\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV().determinant()\ <\ 0\ )}
\DoxyCodeLine{00140\ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}-\/1)\ =\ -\/1;}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \textcolor{comment}{//\ Eq.\ (40)\ and\ (43)}}
\DoxyCodeLine{00143\ \ \ Rt.block(0,0,\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}).noalias()\ =\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU()\ *\ \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}.asDiagonal()\ *\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV().transpose();}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \textcolor{keywordflow}{if}\ (with\_scaling)}
\DoxyCodeLine{00146\ \ \ \{}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{//\ Eq.\ (42)}}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_product}{Scalar}}\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(1)/src\_var\ *\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.singularValues().dot(\mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}});}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{comment}{//\ Eq.\ (41)}}
\DoxyCodeLine{00151\ \ \ \ \ Rt.col(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}).head(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}})\ =\ dst\_mean;}
\DoxyCodeLine{00152\ \ \ \ \ Rt.col(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}).head(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}).noalias()\ -\/=\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}*Rt.topLeftCorner(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}})*src\_mean;}
\DoxyCodeLine{00153\ \ \ \ \ Rt.block(0,0,\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}})\ *=\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}};}
\DoxyCodeLine{00154\ \ \ \}}
\DoxyCodeLine{00155\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00156\ \ \ \{}
\DoxyCodeLine{00157\ \ \ \ \ Rt.col(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}).head(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}})\ =\ dst\_mean;}
\DoxyCodeLine{00158\ \ \ \ \ Rt.col(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}).head(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}).noalias()\ -\/=\ Rt.topLeftCorner(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}})*src\_mean;}
\DoxyCodeLine{00159\ \ \ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \textcolor{keywordflow}{return}\ Rt;}
\DoxyCodeLine{00162\ \}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_UMEYAMA\_H}}

\end{DoxyCode}
