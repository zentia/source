\doxysection{tf\+::Pipeflow类 参考}
\hypertarget{classtf_1_1_pipeflow}{}\label{classtf_1_1_pipeflow}\index{tf::Pipeflow@{tf::Pipeflow}}


class to create a pipeflow object used by the pipe callable  




{\ttfamily \#include $<$pipeline.\+hpp$>$}

\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1_pipeflow_a801877443f7046b9e450160c05c26d7d}{Pipeflow}} ()=\mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}}
\begin{DoxyCompactList}\small\item\em default constructor \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_pipeflow_afee054e6a99965d4b3e36ff903227e6c}{line}} () const
\begin{DoxyCompactList}\small\item\em queries the line identifier of the present token \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_pipeflow_a4914c1f381a3016e98285b019cf60d6d}{pipe}} () const
\begin{DoxyCompactList}\small\item\em queries the pipe identifier of the present token \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_pipeflow_a295e5d884665c076f4ef5d78139f7c51}{token}} () const
\begin{DoxyCompactList}\small\item\em queries the token identifier \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_pipeflow_a830b7f204cb87fff17e8d424918d9453}{stop}} ()
\begin{DoxyCompactList}\small\item\em stops the pipeline scheduling \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_pipeflow_a2f909c75e15b6bdf83faf2c0b74c7a74}{num\+\_\+deferrals}} () const
\begin{DoxyCompactList}\small\item\em queries the number of deferrals \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_pipeflow_a5fbd2326b68a69826423bf0528a7c961}{defer}} (size\+\_\+t \mbox{\hyperlink{classtf_1_1_pipeflow_a295e5d884665c076f4ef5d78139f7c51}{token}})
\begin{DoxyCompactList}\small\item\em pushes token in \+\_\+dependents \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_pipeflow_a082a1a549ab50360c7e6e55a0fd4477f}{\+\_\+line}}
\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_pipeflow_a597744cac4ef0dd9e31e1d694f71f7ec}{\+\_\+pipe}}
\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_pipeflow_a16275ecab224bf1ede060d9e24b4eb48}{\+\_\+token}}
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1_pipeflow_a7474a98aa648d96011df53b085d53965}{\+\_\+stop}}
\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_pipeflow_a669318dadb120d96c277529670a02588}{\+\_\+num\+\_\+deferrals}}
\item 
std\+::unordered\+\_\+set$<$ size\+\_\+t $>$ \mbox{\hyperlink{classtf_1_1_pipeflow_a444746d10472b56b8e6cb52fd35e3d84}{\+\_\+dependents}}
\end{DoxyCompactItemize}
\doxysubsubsection*{友元}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename... Ps$>$ }\\class \mbox{\hyperlink{classtf_1_1_pipeflow_af65467c6cb27f4ef42522207f03ab9cf}{Pipeline}}
\item 
{\footnotesize template$<$typename P$>$ }\\class \mbox{\hyperlink{classtf_1_1_pipeflow_af64ddb98831b893b2388af2a2302acea}{Scalable\+Pipeline}}
\item 
{\footnotesize template$<$typename... Ps$>$ }\\class \mbox{\hyperlink{classtf_1_1_pipeflow_a576c05629fadf8120eb4db27cf28e659}{Data\+Pipeline}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
class to create a pipeflow object used by the pipe callable 

\doxylink{classtf_1_1_pipeflow}{Pipeflow} represents a {\itshape scheduling token} in the pipeline scheduling framework. \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} pipeflow is created by the pipeline scheduler at runtime to pass to the pipe callable. Users can query the present statistics of that scheduling token, including the line identifier, pipe identifier, and token identifier, and build their application algorithms based on these statistics. At the first stage, users can explicitly call the stop method to stop the pipeline scheduler.


\begin{DoxyCode}{0}
\DoxyCodeLine{tf::Pipe\{\mbox{\hyperlink{namespacetf_abb7a11e41fd457f69e7ff45d4c769564a7b804a28d6154ab8007287532037f1d0}{tf::PipeType::SERIAL}},\ [](tf::Pipeflow\&\ pf)\{}
\DoxyCodeLine{\ \ std::cout\ <<\ \textcolor{stringliteral}{"{}token\ id="{}}\ <<\ pf.token()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ at\ line="{}}\ <<\ pf.line()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ at\ pipe="{}}\ <<\ pf.pipe()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{\}\};}

\end{DoxyCode}


\doxylink{classtf_1_1_pipeflow}{Pipeflow} can only be created privately by the \doxylink{classtf_1_1_pipeline}{tf\+::\+Pipeline} and be used through the pipe callable. 

\doxysubsection{构造及析构函数说明}
\Hypertarget{classtf_1_1_pipeflow_a801877443f7046b9e450160c05c26d7d}\index{tf::Pipeflow@{tf::Pipeflow}!Pipeflow@{Pipeflow}}
\index{Pipeflow@{Pipeflow}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{Pipeflow()}{Pipeflow()}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a801877443f7046b9e450160c05c26d7d} 
tf\+::\+Pipeflow\+::\+Pipeflow (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



default constructor 



\doxysubsection{成员函数说明}
\Hypertarget{classtf_1_1_pipeflow_a5fbd2326b68a69826423bf0528a7c961}\index{tf::Pipeflow@{tf::Pipeflow}!defer@{defer}}
\index{defer@{defer}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{defer()}{defer()}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a5fbd2326b68a69826423bf0528a7c961} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::\+Pipeflow\+::defer (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{token}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



pushes token in \+\_\+dependents 

Only the first pipe can call this method to defer the current scheduling token to the given token. 函数调用图\+:
% FIG 0
\Hypertarget{classtf_1_1_pipeflow_afee054e6a99965d4b3e36ff903227e6c}\index{tf::Pipeflow@{tf::Pipeflow}!line@{line}}
\index{line@{line}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{line()}{line()}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_afee054e6a99965d4b3e36ff903227e6c} 
size\+\_\+t tf\+::\+Pipeflow\+::line (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



queries the line identifier of the present token 

\Hypertarget{classtf_1_1_pipeflow_a2f909c75e15b6bdf83faf2c0b74c7a74}\index{tf::Pipeflow@{tf::Pipeflow}!num\_deferrals@{num\_deferrals}}
\index{num\_deferrals@{num\_deferrals}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{num\_deferrals()}{num\_deferrals()}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a2f909c75e15b6bdf83faf2c0b74c7a74} 
size\+\_\+t tf\+::\+Pipeflow\+::num\+\_\+deferrals (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



queries the number of deferrals 

\Hypertarget{classtf_1_1_pipeflow_a4914c1f381a3016e98285b019cf60d6d}\index{tf::Pipeflow@{tf::Pipeflow}!pipe@{pipe}}
\index{pipe@{pipe}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{pipe()}{pipe()}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a4914c1f381a3016e98285b019cf60d6d} 
size\+\_\+t tf\+::\+Pipeflow\+::pipe (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



queries the pipe identifier of the present token 

\Hypertarget{classtf_1_1_pipeflow_a830b7f204cb87fff17e8d424918d9453}\index{tf::Pipeflow@{tf::Pipeflow}!stop@{stop}}
\index{stop@{stop}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a830b7f204cb87fff17e8d424918d9453} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::\+Pipeflow\+::stop (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



stops the pipeline scheduling 

Only the first pipe can call this method to stop the pipeline. Calling stop from other pipes will throw exception. \Hypertarget{classtf_1_1_pipeflow_a295e5d884665c076f4ef5d78139f7c51}\index{tf::Pipeflow@{tf::Pipeflow}!token@{token}}
\index{token@{token}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{token()}{token()}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a295e5d884665c076f4ef5d78139f7c51} 
size\+\_\+t tf\+::\+Pipeflow\+::token (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



queries the token identifier 



\doxysubsection{友元及相关符号说明}
\Hypertarget{classtf_1_1_pipeflow_a576c05629fadf8120eb4db27cf28e659}\index{tf::Pipeflow@{tf::Pipeflow}!DataPipeline@{DataPipeline}}
\index{DataPipeline@{DataPipeline}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{DataPipeline}{DataPipeline}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a576c05629fadf8120eb4db27cf28e659} 
template$<$typename... Ps$>$ \\
friend class \mbox{\hyperlink{classtf_1_1_data_pipeline}{Data\+Pipeline}}\hspace{0.3cm}{\ttfamily [friend]}}

\Hypertarget{classtf_1_1_pipeflow_af65467c6cb27f4ef42522207f03ab9cf}\index{tf::Pipeflow@{tf::Pipeflow}!Pipeline@{Pipeline}}
\index{Pipeline@{Pipeline}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{Pipeline}{Pipeline}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_af65467c6cb27f4ef42522207f03ab9cf} 
template$<$typename... Ps$>$ \\
friend class \mbox{\hyperlink{classtf_1_1_pipeline}{Pipeline}}\hspace{0.3cm}{\ttfamily [friend]}}

\Hypertarget{classtf_1_1_pipeflow_af64ddb98831b893b2388af2a2302acea}\index{tf::Pipeflow@{tf::Pipeflow}!ScalablePipeline@{ScalablePipeline}}
\index{ScalablePipeline@{ScalablePipeline}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{ScalablePipeline}{ScalablePipeline}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_af64ddb98831b893b2388af2a2302acea} 
template$<$typename P$>$ \\
friend class \mbox{\hyperlink{classtf_1_1_scalable_pipeline}{Scalable\+Pipeline}}\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{类成员变量说明}
\Hypertarget{classtf_1_1_pipeflow_a444746d10472b56b8e6cb52fd35e3d84}\index{tf::Pipeflow@{tf::Pipeflow}!\_dependents@{\_dependents}}
\index{\_dependents@{\_dependents}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{\_dependents}{\_dependents}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a444746d10472b56b8e6cb52fd35e3d84} 
std\+::unordered\+\_\+set$<$size\+\_\+t$>$ tf\+::\+Pipeflow\+::\+\_\+dependents\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_pipeflow_a082a1a549ab50360c7e6e55a0fd4477f}\index{tf::Pipeflow@{tf::Pipeflow}!\_line@{\_line}}
\index{\_line@{\_line}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{\_line}{\_line}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a082a1a549ab50360c7e6e55a0fd4477f} 
size\+\_\+t tf\+::\+Pipeflow\+::\+\_\+line\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_pipeflow_a669318dadb120d96c277529670a02588}\index{tf::Pipeflow@{tf::Pipeflow}!\_num\_deferrals@{\_num\_deferrals}}
\index{\_num\_deferrals@{\_num\_deferrals}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{\_num\_deferrals}{\_num\_deferrals}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a669318dadb120d96c277529670a02588} 
size\+\_\+t tf\+::\+Pipeflow\+::\+\_\+num\+\_\+deferrals\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_pipeflow_a597744cac4ef0dd9e31e1d694f71f7ec}\index{tf::Pipeflow@{tf::Pipeflow}!\_pipe@{\_pipe}}
\index{\_pipe@{\_pipe}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{\_pipe}{\_pipe}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a597744cac4ef0dd9e31e1d694f71f7ec} 
size\+\_\+t tf\+::\+Pipeflow\+::\+\_\+pipe\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_pipeflow_a7474a98aa648d96011df53b085d53965}\index{tf::Pipeflow@{tf::Pipeflow}!\_stop@{\_stop}}
\index{\_stop@{\_stop}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{\_stop}{\_stop}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a7474a98aa648d96011df53b085d53965} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tf\+::\+Pipeflow\+::\+\_\+stop\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_pipeflow_a16275ecab224bf1ede060d9e24b4eb48}\index{tf::Pipeflow@{tf::Pipeflow}!\_token@{\_token}}
\index{\_token@{\_token}!tf::Pipeflow@{tf::Pipeflow}}
\doxysubsubsection{\texorpdfstring{\_token}{\_token}}
{\footnotesize\ttfamily \label{classtf_1_1_pipeflow_a16275ecab224bf1ede060d9e24b4eb48} 
size\+\_\+t tf\+::\+Pipeflow\+::\+\_\+token\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/taskflow/algorithm/\mbox{\hyperlink{taskflow_2algorithm_2pipeline_8hpp}{pipeline.\+hpp}}\end{DoxyCompactItemize}
