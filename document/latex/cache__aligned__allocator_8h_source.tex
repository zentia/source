\doxysection{cache\+\_\+aligned\+\_\+allocator.\+h}
\hypertarget{cache__aligned__allocator_8h_source}{}\label{cache__aligned__allocator_8h_source}\index{external/taskflow/3rd-\/party/tbb/include/tbb/cache\_aligned\_allocator.h@{external/taskflow/3rd-\/party/tbb/include/tbb/cache\_aligned\_allocator.h}}
\mbox{\hyperlink{cache__aligned__allocator_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#ifndef\ \_\_TBB\_cache\_aligned\_allocator\_H}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ \_\_TBB\_cache\_aligned\_allocator\_H}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <new>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbb__stddef_8h}{tbb\_stddef.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#if\ \_\_TBB\_ALLOCATOR\_CONSTRUCT\_VARIADIC}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <utility>}\ \textcolor{comment}{//\ std::forward}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#if\ \_\_TBB\_CPP17\_MEMORY\_RESOURCE\_PRESENT}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <memory\_resource>}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb}{tbb}}\ \{}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb_1_1internal}{internal}}\ \{}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{scalable__allocator_8h_ab6dd3eee12dcbf8bc4c41513c4c4c9fb}{\_\_TBB\_EXPORTED\_FUNC}}\ \mbox{\hyperlink{namespacetbb_1_1internal_a9694b519576433b7ce9af226bfc7c422}{NFS\_GetLineSize}}();}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{scalable__allocator_8h_ab6dd3eee12dcbf8bc4c41513c4c4c9fb}{\_\_TBB\_EXPORTED\_FUNC}}\ \mbox{\hyperlink{namespacetbb_1_1internal_a395611542e21705f49de2a06e2c88f59}{NFS\_Allocate}}(\ \textcolor{keywordtype}{size\_t}\ n\_element,\ \textcolor{keywordtype}{size\_t}\ element\_size,\ \textcolor{keywordtype}{void}*\ hint\ );}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{scalable__allocator_8h_ab6dd3eee12dcbf8bc4c41513c4c4c9fb}{\_\_TBB\_EXPORTED\_FUNC}}\ \mbox{\hyperlink{namespacetbb_1_1internal_abd3fdd42ea716867fc95116354481b4e}{NFS\_Free}}(\ \textcolor{keywordtype}{void}*\ );}
\DoxyCodeLine{00046\ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#if\ \_MSC\_VER\ \&\&\ !defined(\_\_INTEL\_COMPILER)}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{comment}{//\ Workaround\ for\ erroneous\ "{}unreferenced\ parameter"{}\ warning\ in\ method\ destroy.}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\ \ \ \ \#pragma\ warning\ (push)}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\ \ \ \ \#pragma\ warning\ (disable:\ 4100)}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00059\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00060\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_aee9e5aad3e6124a8ea3b2e2ee04d23cb}{cache\_aligned\_allocator}}\ \{}
\DoxyCodeLine{00061\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ internal::allocator\_type<T>::value\_type\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7aba3042b0a1c934879d5299f0c20e7e}{value\_type}};}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7aba3042b0a1c934879d5299f0c20e7e}{value\_type}}*\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a6fabbb51a8fd7b270b94fc4d9548847b}{pointer}};}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7aba3042b0a1c934879d5299f0c20e7e}{value\_type}}*\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a35edf40f1bb3418f61e7d33c9f796824}{const\_pointer}};}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7aba3042b0a1c934879d5299f0c20e7e}{value\_type}}\&\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_ac9f2f6c7ca74e1f3968d838eec2c4dcb}{reference}};}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7aba3042b0a1c934879d5299f0c20e7e}{value\_type}}\&\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_af50d27e385aea41dbb8a9cd0734f1c84}{const\_reference}};}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a51eed827a49fd636d1d6c73908f9635b}{size\_type}};}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{typedef}\ ptrdiff\_t\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a8bf47c52cdeee1bc0dcd410cc97faeec}{difference\_type}};}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtbb_1_1cache__aligned__allocator_1_1rebind}{rebind}}\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_aee9e5aad3e6124a8ea3b2e2ee04d23cb}{cache\_aligned\_allocator<U>}}\ \mbox{\hyperlink{structtbb_1_1cache__aligned__allocator_1_1rebind_a1bb89d2224e26a9dfee7ef1adbac8b3d}{other}};}
\DoxyCodeLine{00071\ \ \ \ \ \};}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_aee9e5aad3e6124a8ea3b2e2ee04d23cb}{cache\_aligned\_allocator}}()\ throw()\ \{\}}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a11b1921251262137671599e99fbe8d4e}{cache\_aligned\_allocator}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_aee9e5aad3e6124a8ea3b2e2ee04d23cb}{cache\_aligned\_allocator}}\&\ )\ \textcolor{keywordflow}{throw}()\ \{\}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_ab5a78cc56dcc0851117b3c88bb3af16a}{cache\_aligned\_allocator}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_aee9e5aad3e6124a8ea3b2e2ee04d23cb}{cache\_aligned\_allocator<U>}}\&)\ \textcolor{keywordflow}{throw}()\ \{\}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a6fabbb51a8fd7b270b94fc4d9548847b}{pointer}}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a4669fe281b7a7d5a7f33cd9956987440}{address}}(\mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_ac9f2f6c7ca74e1f3968d838eec2c4dcb}{reference}}\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})\textcolor{keyword}{\ const\ }\{\textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}};\}}
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a35edf40f1bb3418f61e7d33c9f796824}{const\_pointer}}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a04d1e3a969d33c2edd79046a5c896299}{address}}(\mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_af50d27e385aea41dbb8a9cd0734f1c84}{const\_reference}}\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})\textcolor{keyword}{\ const\ }\{\textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}};\}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a6fabbb51a8fd7b270b94fc4d9548847b}{pointer}}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a99d05096f80877849cb31d80247e0f85}{allocate}}(\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a51eed827a49fd636d1d6c73908f9635b}{size\_type}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ hint=0\ )\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ "{}hint"{}\ argument\ is\ always\ ignored\ in\ NFS\_Allocate\ thus\ const\_cast\ shouldn't\ hurt}}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a6fabbb51a8fd7b270b94fc4d9548847b}{pointer}}(\mbox{\hyperlink{namespacetbb_1_1internal_a395611542e21705f49de2a06e2c88f59}{internal::NFS\_Allocate}}(\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7aba3042b0a1c934879d5299f0c20e7e}{value\_type}}),\ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(hint)\ ));}
\DoxyCodeLine{00083\ \ \ \ \ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7f7310e046c4b6b8618864de8e27a471}{deallocate}}(\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a6fabbb51a8fd7b270b94fc4d9548847b}{pointer}}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a51eed827a49fd636d1d6c73908f9635b}{size\_type}}\ )\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_abd3fdd42ea716867fc95116354481b4e}{internal::NFS\_Free}}(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{00088\ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00091\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a51eed827a49fd636d1d6c73908f9635b}{size\_type}}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_ad527d56411be2c1ed98eb3d77957aec9}{max\_size}}()\ \textcolor{keyword}{const}\ throw()\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\string~\textcolor{keywordtype}{size\_t}(0)-\/internal::NFS\_MaxLineSize)/\textcolor{keyword}{sizeof}(\mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7aba3042b0a1c934879d5299f0c20e7e}{value\_type}});}
\DoxyCodeLine{00093\ \ \ \ \ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\#if\ \_\_TBB\_ALLOCATOR\_CONSTRUCT\_VARIADIC}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U,\ \textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a5086d395a952eb13eb7d72bb0cb26937}{construct}}(U\ *\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ Args\&\&...\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \{\ ::new((\textcolor{keywordtype}{void}\ *)\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\ U(std::forward<Args>(\mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})...);\ \}}
\DoxyCodeLine{00100\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ \_\_TBB\_ALLOCATOR\_CONSTRUCT\_VARIADIC}}
\DoxyCodeLine{00101\ \textcolor{preprocessor}{\#if\ \_\_TBB\_CPP11\_RVALUE\_REF\_PRESENT}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a5086d395a952eb13eb7d72bb0cb26937}{construct}}(\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a114e561b64eeccad5bc17f0f799e1e08}{pointer}}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ value\_type\&\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ )\ \{::new((\textcolor{keywordtype}{void}*)(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}))\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7aba3042b0a1c934879d5299f0c20e7e}{value\_type}}(std::move(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}));\}}
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a5086d395a952eb13eb7d72bb0cb26937}{construct}}(\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a6fabbb51a8fd7b270b94fc4d9548847b}{pointer}}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7aba3042b0a1c934879d5299f0c20e7e}{value\_type}}\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ )\ \{::new((\textcolor{keywordtype}{void}*)(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}))\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a7aba3042b0a1c934879d5299f0c20e7e}{value\_type}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}});\}}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_TBB\_ALLOCATOR\_CONSTRUCT\_VARIADIC}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_af2fd054d055403d4ea669fd3af661cc8}{destroy}}(\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_a6fabbb51a8fd7b270b94fc4d9548847b}{pointer}}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )\ \{\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}-\/>\string~value\_type();\}}
\DoxyCodeLine{00109\ \};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#if\ \_MSC\_VER\ \&\&\ !defined(\_\_INTEL\_COMPILER)}}
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\ \ \ \ \#pragma\ warning\ (pop)}}
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ warning\ 4100\ is\ back}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00118\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_aee9e5aad3e6124a8ea3b2e2ee04d23cb}{cache\_aligned\_allocator}}<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}>\ \{}
\DoxyCodeLine{00119\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_3_01void_01_4_a630325567e2ede3937a0d2e0f2da6a3f}{pointer}};}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_3_01void_01_4_a36f63efa0a37d205705b9d5944432864}{const\_pointer}};}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_3_01void_01_4_af7f973d0bb12319600505cf9c1fb35b0}{value\_type}};}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtbb_1_1cache__aligned__allocator_3_01void_01_4_1_1rebind}{rebind}}\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator_aee9e5aad3e6124a8ea3b2e2ee04d23cb}{cache\_aligned\_allocator<U>}}\ \mbox{\hyperlink{structtbb_1_1cache__aligned__allocator_3_01void_01_4_1_1rebind_aba0c80d456ba9753beea8f900f69ff26}{other}};}
\DoxyCodeLine{00125\ \ \ \ \ \};}
\DoxyCodeLine{00126\ \};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00129\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacetbb_a49a6826cf4fb8845d26d8d1f1ad0b5fa}{operator==}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator}{cache\_aligned\_allocator<T>}}\&,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator}{cache\_aligned\_allocator<U>}}\&\ )\ \{\textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00132\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacetbb_afdaaf3f3248efc804c6f6fe35855704d}{operator!=}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator}{cache\_aligned\_allocator<T>}}\&,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator}{cache\_aligned\_allocator<U>}}\&\ )\ \{\textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \textcolor{preprocessor}{\#if\ \_\_TBB\_CPP17\_MEMORY\_RESOURCE\_PRESENT}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00137\ \textcolor{keyword}{class\ }cache\_aligned\_resource\ :\ \textcolor{keyword}{public}\ std::pmr::memory\_resource\ \{}
\DoxyCodeLine{00138\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00139\ \ \ \ \ cache\_aligned\_resource()\ :\ cache\_aligned\_resource(\mbox{\hyperlink{namespacestd}{std}}::pmr::get\_default\_resource())\ \{\}}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keyword}{explicit}\ cache\_aligned\_resource(std::pmr::memory\_resource*\ upstream)\ :\ m\_upstream(upstream)\ \{\}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ std::pmr::memory\_resource*\ upstream\_resource()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_upstream;}
\DoxyCodeLine{00144\ \ \ \ \ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordtype}{void}*\ do\_allocate(\textcolor{keywordtype}{size\_t}\ bytes,\ \textcolor{keywordtype}{size\_t}\ alignment)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacecds_1_1opt_aa645d9d6fea0b1355513b3608efd6d9ca60b877c6bb50b49d022ecfce77564167}{cache\_line\_alignment}}\ =\ correct\_alignment(alignment);}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedetail_a0414a8c27708e113938314ad3b0dbe4c}{uintptr\_t}}\ \mbox{\hyperlink{namespacegenerate__swizzles_a33071bf5d2c3f89ecf3c8ffc45fbac64}{base}}\ =\ (\mbox{\hyperlink{namespacedetail_a0414a8c27708e113938314ad3b0dbe4c}{uintptr\_t}})m\_upstream-\/>allocate(correct\_size(bytes)\ +\ cache\_line\_alignment);}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(base\ !=\ 0,\ \textcolor{stringliteral}{"{}Upstream\ resource\ returned\ NULL."{}});}
\DoxyCodeLine{00152\ \textcolor{preprocessor}{\#if\ \_MSC\_VER\ \&\&\ !defined(\_\_INTEL\_COMPILER)}}
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{comment}{//\ unary\ minus\ operator\ applied\ to\ unsigned\ type,\ result\ still\ unsigned}}
\DoxyCodeLine{00154\ \textcolor{preprocessor}{\ \ \ \ \#pragma\ warning(push)}}
\DoxyCodeLine{00155\ \textcolor{preprocessor}{\ \ \ \ \#pragma\ warning(disable:\ 4146\ 4706)}}
\DoxyCodeLine{00156\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Round\ up\ to\ the\ next\ cache\ line\ (align\ the\ base\ address)}}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedetail_a0414a8c27708e113938314ad3b0dbe4c}{uintptr\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ (\mbox{\hyperlink{namespacegenerate__swizzles_a33071bf5d2c3f89ecf3c8ffc45fbac64}{base}}\ +\ \mbox{\hyperlink{namespacecds_1_1opt_aa645d9d6fea0b1355513b3608efd6d9ca60b877c6bb50b49d022ecfce77564167}{cache\_line\_alignment}})\ \&\ -\/cache\_line\_alignment;}
\DoxyCodeLine{00159\ \textcolor{preprocessor}{\#if\ \_MSC\_VER\ \&\&\ !defined(\_\_INTEL\_COMPILER)}}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\ \ \ \ \#pragma\ warning(pop)}}
\DoxyCodeLine{00161\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Record\ where\ block\ actually\ starts.}}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{namespacedetail_a0414a8c27708e113938314ad3b0dbe4c}{uintptr\_t}}*)\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}})[-\/1]\ =\ \mbox{\hyperlink{namespacegenerate__swizzles_a33071bf5d2c3f89ecf3c8ffc45fbac64}{base}};}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{00165\ \ \ \ \ \}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordtype}{void}\ do\_deallocate(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{keywordtype}{size\_t}\ bytes,\ \textcolor{keywordtype}{size\_t}\ alignment)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Recover\ where\ block\ actually\ starts}}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedetail_a0414a8c27708e113938314ad3b0dbe4c}{uintptr\_t}}\ \mbox{\hyperlink{namespacegenerate__swizzles_a33071bf5d2c3f89ecf3c8ffc45fbac64}{base}}\ =\ ((\mbox{\hyperlink{namespacedetail_a0414a8c27708e113938314ad3b0dbe4c}{uintptr\_t}}*)\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})[-\/1];}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ m\_upstream-\/>deallocate((\textcolor{keywordtype}{void}*)base,\ correct\_size(bytes)\ +\ correct\_alignment(alignment));}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00173\ \ \ \ \ \}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordtype}{bool}\ do\_is\_equal(\textcolor{keyword}{const}\ std::pmr::memory\_resource\&\ other)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \textcolor{keyword}{override}\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{this}\ ==\ \&other)\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00177\ \textcolor{preprocessor}{\#if\ \_\_TBB\_USE\_OPTIONAL\_RTTI}}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ cache\_aligned\_resource*\ other\_res\ =\ \textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const\ }cache\_aligned\_resource*\textcolor{keyword}{>}(\&other);}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ other\_res\ \&\&\ (this-\/>upstream\_resource()\ ==\ other\_res-\/>upstream\_resource());}
\DoxyCodeLine{00180\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00182\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00183\ \ \ \ \ \}}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ correct\_alignment(\textcolor{keywordtype}{size\_t}\ alignment)\ \{}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(tbb::internal::is\_power\_of\_two(alignment),\ \textcolor{stringliteral}{"{}Alignment\ is\ not\ a\ power\ of\ 2"{}});}
\DoxyCodeLine{00187\ \textcolor{preprocessor}{\#if\ \_\_TBB\_CPP17\_HW\_INTERFERENCE\_SIZE\_PRESENT}}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ cache\_line\_size\ =\ std::hardware\_destructive\_interference\_size;}
\DoxyCodeLine{00189\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ cache\_line\_size\ =\ internal::NFS\_GetLineSize();}
\DoxyCodeLine{00191\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ alignment\ <\ cache\_line\_size\ ?\ cache\_line\_size\ :\ alignment;}
\DoxyCodeLine{00193\ \ \ \ \ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ correct\_size(\textcolor{keywordtype}{size\_t}\ bytes)\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ To\ handle\ the\ case,\ when\ small\ size\ requested.\ There\ could\ be\ not}}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ enough\ space\ to\ store\ the\ original\ pointer.}}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ bytes\ <\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespacedetail_a0414a8c27708e113938314ad3b0dbe4c}{uintptr\_t}})\ ?\ \textcolor{keyword}{sizeof}(uintptr\_t)\ :\ bytes;}
\DoxyCodeLine{00199\ \ \ \ \ \}}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ std::pmr::memory\_resource*\ m\_upstream;}
\DoxyCodeLine{00202\ \};}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_CPP17\_MEMORY\_RESOURCE\_PRESENT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \}\ \textcolor{comment}{//\ namespace\ tbb}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_cache\_aligned\_allocator\_H\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00209\ }

\end{DoxyCode}
