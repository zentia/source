\doxysection{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+multi\+\_\+condvar\texorpdfstring{$<$}{<} Milliseconds \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar}{}\label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}}


Wait strategy based on the single mutex and thread-\/local condition variables  




{\ttfamily \#include $<$wait\+\_\+strategy.\+h$>$}

\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_1_1make__publication__record}{make\+\_\+publication\+\_\+record}}
\begin{DoxyCompactList}\small\item\em Incorporates a condition variable into {\ttfamily Publication\+Record} \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
enum 
\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_ada8329e242c0f6dae26eb641a31f3a42}{single\+\_\+mutex\+\_\+multi\+\_\+condvar}} ()
\begin{DoxyCompactList}\small\item\em Default ctor \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Publication\+Record$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a9ac9f920ff1c8d08dfae09f75c59bf30}{prepare}} (Publication\+Record \&)
\begin{DoxyCompactList}\small\item\em Does nothing \end{DoxyCompactList}\item 
{\footnotesize template$<$typename FCKernel, typename Publication\+Record$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a341cea9e33d1a91993f18fc395065339}{wait}} (FCKernel \&fc, Publication\+Record \&rec)
\begin{DoxyCompactList}\small\item\em Sleeps on condition variable waiting for notification from combiner \end{DoxyCompactList}\item 
{\footnotesize template$<$typename FCKernel, typename Publication\+Record$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a412a4feea20f0bfe3d1db5b45b6abb6c}{notify}} (FCKernel \&, Publication\+Record \&rec)
\begin{DoxyCompactList}\small\item\em Calls condition variable function {\ttfamily notify\+\_\+one()} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename FCKernel$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a2a8c98fd3717e4dc5d6eb550ddfa271a}{wakeup}} (FCKernel \&fc)
\begin{DoxyCompactList}\small\item\em Calls {\ttfamily fc.\+wakeup\+\_\+any()} to wake up any pending thread \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$\newline
class cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+multi\+\_\+condvar$<$ Milliseconds $>$}
Wait strategy based on the single mutex and thread-\/local condition variables 

The strategy shares the mutex, but each thread has its own conditional variable

Template parameter {\ttfamily Milliseconds} specifies waiting duration; the minimal value is 1. 

\doxysubsection{成员枚举类型说明}
\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a8cbe7eb27f1375623982c03b75ef8be0}\doxysubsubsection{\texorpdfstring{anonymous enum}{anonymous enum}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a8cbe7eb27f1375623982c03b75ef8be0} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
anonymous enum}



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_ada8329e242c0f6dae26eb641a31f3a42}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}!single\_mutex\_multi\_condvar@{single\_mutex\_multi\_condvar}}
\index{single\_mutex\_multi\_condvar@{single\_mutex\_multi\_condvar}!cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}}
\doxysubsubsection{\texorpdfstring{single\_mutex\_multi\_condvar()}{single\_mutex\_multi\_condvar()}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_ada8329e242c0f6dae26eb641a31f3a42} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
\mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar}{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+multi\+\_\+condvar}}$<$ Milliseconds $>$\+::single\+\_\+mutex\+\_\+multi\+\_\+condvar (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Default ctor 



\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a412a4feea20f0bfe3d1db5b45b6abb6c}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}!notify@{notify}}
\index{notify@{notify}!cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}}
\doxysubsubsection{\texorpdfstring{notify()}{notify()}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a412a4feea20f0bfe3d1db5b45b6abb6c} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
template$<$typename FCKernel, typename Publication\+Record$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar}{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+multi\+\_\+condvar}}$<$ Milliseconds $>$\+::notify (\begin{DoxyParamCaption}\item[{FCKernel \&}]{}{, }\item[{Publication\+Record \&}]{rec}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Calls condition variable function {\ttfamily notify\+\_\+one()} 

\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a9ac9f920ff1c8d08dfae09f75c59bf30}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}!prepare@{prepare}}
\index{prepare@{prepare}!cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}}
\doxysubsubsection{\texorpdfstring{prepare()}{prepare()}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a9ac9f920ff1c8d08dfae09f75c59bf30} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
template$<$typename Publication\+Record$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar}{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+multi\+\_\+condvar}}$<$ Milliseconds $>$\+::prepare (\begin{DoxyParamCaption}\item[{Publication\+Record \&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Does nothing 

\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a341cea9e33d1a91993f18fc395065339}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}!wait@{wait}}
\index{wait@{wait}!cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}}
\doxysubsubsection{\texorpdfstring{wait()}{wait()}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a341cea9e33d1a91993f18fc395065339} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
template$<$typename FCKernel, typename Publication\+Record$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar}{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+multi\+\_\+condvar}}$<$ Milliseconds $>$\+::wait (\begin{DoxyParamCaption}\item[{FCKernel \&}]{fc}{, }\item[{Publication\+Record \&}]{rec}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sleeps on condition variable waiting for notification from combiner 

\Hypertarget{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a2a8c98fd3717e4dc5d6eb550ddfa271a}\index{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}!wakeup@{wakeup}}
\index{wakeup@{wakeup}!cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$@{cds::algo::flat\_combining::wait\_strategy::single\_mutex\_multi\_condvar$<$ Milliseconds $>$}}
\doxysubsubsection{\texorpdfstring{wakeup()}{wakeup()}}
{\footnotesize\ttfamily \label{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar_a2a8c98fd3717e4dc5d6eb550ddfa271a} 
template$<$\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Milliseconds = 2$>$ \\
template$<$typename FCKernel$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1algo_1_1flat__combining_1_1wait__strategy_1_1single__mutex__multi__condvar}{cds\+::algo\+::flat\+\_\+combining\+::wait\+\_\+strategy\+::single\+\_\+mutex\+\_\+multi\+\_\+condvar}}$<$ Milliseconds $>$\+::wakeup (\begin{DoxyParamCaption}\item[{FCKernel \&}]{fc}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Calls {\ttfamily fc.\+wakeup\+\_\+any()} to wake up any pending thread 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/algo/flat\+\_\+combining/\mbox{\hyperlink{wait__strategy_8h}{wait\+\_\+strategy.\+h}}\end{DoxyCompactItemize}
