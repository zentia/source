\doxysection{cds\+::container\+::Vyukov\+MPMCCycle\+Queue\texorpdfstring{$<$}{<} T, Traits \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{}\label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}


Vyukov\textquotesingle{}s MPMC bounded queue  




{\ttfamily \#include $<$vyukov\+\_\+mpmc\+\_\+cycle\+\_\+queue.\+h$>$}



类 cds\+::container\+::Vyukov\+MPMCCycle\+Queue\texorpdfstring{$<$}{<} T, Traits \texorpdfstring{$>$}{>} 继承关系图\+:
% FIG 0


cds\+::container\+::Vyukov\+MPMCCycle\+Queue\texorpdfstring{$<$}{<} T, Traits \texorpdfstring{$>$}{>} 的协作图\+:
% FIG 1
\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_1_1rebind}{rebind}}
\begin{DoxyCompactList}\small\item\em Rebind template arguments \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}}
\begin{DoxyCompactList}\small\item\em \doxylink{struct_value}{Value} type to be stored in the queue \end{DoxyCompactList}\item 
typedef Traits \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_acbc3ac416e43067a5b775e2737309a15}{traits}}
\begin{DoxyCompactList}\small\item\em Queue traits \end{DoxyCompactList}\item 
typedef traits\+::item\+\_\+counter \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_aa9f21e8456b74a369b9806e27a18e342}{item\+\_\+counter}}
\begin{DoxyCompactList}\small\item\em Item counter type \end{DoxyCompactList}\item 
typedef traits\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a6d901726fba4dd949c5e4c76c1701bdc}{memory\+\_\+model}}
\begin{DoxyCompactList}\small\item\em Memory ordering. See {\ttfamily \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model}} option \end{DoxyCompactList}\item 
typedef traits\+::value\+\_\+cleaner \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a62f55b7cc6139d953bae1e616a0b8b87}{value\+\_\+cleaner}}
\begin{DoxyCompactList}\small\item\em \doxylink{struct_value}{Value} cleaner, see {\ttfamily \doxylink{structcds_1_1container_1_1vyukov__queue_1_1traits_aa5001c37a947746505ebad7b7bb3f86e}{vyukov\+\_\+queue\+::traits\+::value\+\_\+cleaner}} \end{DoxyCompactList}\item 
typedef traits\+::back\+\_\+off \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_af639d7dd7378808a279705c95de101fa}{back\+\_\+off}}
\begin{DoxyCompactList}\small\item\em back-\/off strategy \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a64fe241e43f47d2ec2200b883bc56862}{Vyukov\+MPMCCycle\+Queue}} (size\+\_\+t n\+Capacity=0)
\begin{DoxyCompactList}\small\item\em Constructs the queue of capacity {\ttfamily n\+Capacity} \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a607c1ee4aebf3c7e070fd582d32108bf}{\texorpdfstring{$\sim$}{\string~}\+Vyukov\+MPMCCycle\+Queue}} ()
\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a4d134514e3ac1b6ac71de876b85b7bb6}{enqueue\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Enqueues data to the queue using a functor \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a0507af389ba25f7ee1ddc7f0095421eb}{enqueue}} (\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} const \&val)
\begin{DoxyCompactList}\small\item\em Enqueues {\ttfamily val} value into the queue. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a0f6386e5675cfa66030c3528fe5aea60}{enqueue}} (\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} \&\&val)
\begin{DoxyCompactList}\small\item\em Enqueues {\ttfamily val} value into the queue, move semantics \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a54bd2c444d4d3fba4fa4807fbc3b7db6}{push}} (\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} const \&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a0507af389ba25f7ee1ddc7f0095421eb}{enqueue( value\+\_\+type const\& )}} \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_adc93a1289682e917a714f7e914c40215}{push}} (\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a0f6386e5675cfa66030c3528fe5aea60}{enqueue( value\+\_\+type\&\& )}} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_aa60966eba021849d5d1bcc432108f035}{push\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a4d134514e3ac1b6ac71de876b85b7bb6}{enqueue\+\_\+with()}} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename... Args$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a7d72590ed27482a57d93b49a9be84665}{emplace}} (Args \&\&... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})
\begin{DoxyCompactList}\small\item\em Enqueues data of type \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type} constructed with {\ttfamily std\+::forward$<$\+Args$>$(args)...} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a9bcb4bd97b2e8844e4475ac2f47c714f}{dequeue\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Dequeues a value using a functor \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a71875e2dd484ae2814cab155f09603af}{dequeue}} (\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} \&dest)
\begin{DoxyCompactList}\small\item\em Dequeues a value from the queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_aa6387f8609adc7b46eef79e192667fd0}{pop}} (\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} \&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a71875e2dd484ae2814cab155f09603af}{dequeue()}} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a8165411709bdf6f0622add3438dfbe55}{pop\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a9bcb4bd97b2e8844e4475ac2f47c714f}{dequeue\+\_\+with()}} \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} SC = c\+\_\+single\+\_\+consumer$>$ }\\std\+::enable\+\_\+if$<$ SC, \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} \texorpdfstring{$\ast$}{*} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a5c738937a5358f0c59bcd796c687bfcc}{front}} ()
\begin{DoxyCompactList}\small\item\em Returns a pointer to top element of the queue or {\ttfamily nullptr} if queue is empty (only for single-\/consumer version) \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} SC = c\+\_\+single\+\_\+consumer$>$ }\\std\+::enable\+\_\+if$<$ SC, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a825695d1c6b28cb275ec0fca992ec5ea}{pop\+\_\+front}} ()
\begin{DoxyCompactList}\small\item\em Pops top element; returns {\ttfamily true} if queue is not empty, {\ttfamily false} otherwise (only for single-\/consumer version) \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a5d33e63393d9297fc24fe681fa7c4025}{empty}} () const
\begin{DoxyCompactList}\small\item\em Checks if the queue is empty \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a86e4d12176cc7ebbc07b62167e835a1e}{clear}} ()
\begin{DoxyCompactList}\small\item\em Clears the queue \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_ad978a4efae1b6934a680b649264a5e09}{size}} () const
\begin{DoxyCompactList}\small\item\em Returns queue\textquotesingle{}s item count \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_ae26e8452d6cee87d42a2cf4416b44ab1}{capacity}} () const
\begin{DoxyCompactList}\small\item\em Returns capacity of the queue \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 属性}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} const \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a82c163e023e1d219eac2a52218676077}{c\+\_\+single\+\_\+consumer}} = traits\+::single\+\_\+consumer
\begin{DoxyCompactList}\small\item\em {\ttfamily true} for single-\/consumer version, {\ttfamily false} otherwise \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$\newline
class cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue$<$ T, Traits $>$}
Vyukov\textquotesingle{}s MPMC bounded queue 

This algorithm is developed by Dmitry Vyukov (see \href{http://www.1024cores.net}{\texttt{ http\+://www.\+1024cores.\+net}}) It\textquotesingle{}s multi-\/producer multi-\/consumer (MPMC), array-\/based, fails on overflow, does not require GC, w/o priorities, causal FIFO, blocking producers and consumers queue. The algorithm is pretty simple and fast. It\textquotesingle{}s not lock-\/free in the official meaning, just implemented by means of atomic RMW operations w/o mutexes.

The cost of enqueue/dequeue is 1 CAS per operation. No dynamic memory allocation/management during operation. Producers and consumers are separated from each other (as in the two-\/lock queue), i.\+e. do not touch the same data while queue is not empty.

There is multiple producer/single consumer version {\ttfamily \doxylink{namespacecds_1_1container_af611ea3db0802913eb8dafdb6dda8c0f}{cds\+::container\+::\+Vyukov\+MPSCCycle\+Queue}} that supports {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a5c738937a5358f0c59bcd796c687bfcc}{front()}} and {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a825695d1c6b28cb275ec0fca992ec5ea}{pop\+\_\+front()}} functions.

Source\+:
\begin{DoxyItemize}
\item \href{http://www.1024cores.net/home/lock-free-algorithms/queues/bounded-mpmc-queue}{\texttt{ http\+://www.\+1024cores.\+net/home/lock-\/free-\/algorithms/queues/bounded-\/mpmc-\/queue}}
\end{DoxyItemize}

Template parameters
\begin{DoxyItemize}
\item {\ttfamily T} -\/ type stored in queue.
\item {\ttfamily Traits} -\/ queue traits, default is {\ttfamily \doxylink{structcds_1_1container_1_1vyukov__queue_1_1traits}{vyukov\+\_\+queue\+::traits}}. You can use {\ttfamily \doxylink{structcds_1_1container_1_1vyukov__queue_1_1make__traits}{vyukov\+\_\+queue\+::make\+\_\+traits}} metafunction to make your traits or just derive your traits from {\ttfamily vyukov\+\_\+queue\+::traits}\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }myTraits:\ \textcolor{keyword}{public}\ cds::container::vyukov\_queue::traits\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{typedef}\ cds::atomicity::item\_counter\ \ \ \ \mbox{\hyperlink{structcds_1_1container_1_1vyukov__queue_1_1traits_ad75e3700446cc78a1c627731b696c0e4}{item\_counter}};}
\DoxyCodeLine{\};}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ cds::container::VyukovMPMCCycleQueue<\ Foo,\ myTraits\ >\ myQueue;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Equivalent\ make\_traits\ example:}}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ cds::container::VyukovMPMCCycleQueue<\ \mbox{\hyperlink{namespacecds_1_1gc_af0523881f089593a7559d194ee2b5dd9}{cds::gc::HP}},\ \mbox{\hyperlink{bug1213_8cpp_add4cd82fef2db3867de22e0c84c750a1aca2a3a2b2da8e517565fb654a86639b6}{Foo}},}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{typename}\ cds::container::vyukov\_queue::make\_traits<}
\DoxyCodeLine{\ \ \ \ \ \ \ \ cds::opt::item\_counter<\ cds::atomicity::item\_counter\ >}
\DoxyCodeLine{\ \ \ \ >\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{::type}}}
\DoxyCodeLine{>\ myQueue;}

\end{DoxyCode}

\end{DoxyItemize}

\begin{DoxyParagraph}{License}
Simplified BSD license by Dmitry Vyukov (\href{http://www.1024cores.net/site/1024cores/home/code-license}{\texttt{ http\+://www.\+1024cores.\+net/site/1024cores/home/code-\/license}}) 
\end{DoxyParagraph}


\doxysubsection{成员类型定义说明}
\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_af639d7dd7378808a279705c95de101fa}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!back\_off@{back\_off}}
\index{back\_off@{back\_off}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{back\_off}{back\_off}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_af639d7dd7378808a279705c95de101fa} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
typedef traits\+::back\+\_\+off \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::back\+\_\+off}



back-\/off strategy 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_aa9f21e8456b74a369b9806e27a18e342}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!item\_counter@{item\_counter}}
\index{item\_counter@{item\_counter}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{item\_counter}{item\_counter}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_aa9f21e8456b74a369b9806e27a18e342} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
typedef traits\+::item\+\_\+counter \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::item\+\_\+counter}



Item counter type 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a6d901726fba4dd949c5e4c76c1701bdc}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!memory\_model@{memory\_model}}
\index{memory\_model@{memory\_model}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{memory\_model}{memory\_model}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a6d901726fba4dd949c5e4c76c1701bdc} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
typedef traits\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::memory\+\_\+model}



Memory ordering. See {\ttfamily \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model}} option 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_acbc3ac416e43067a5b775e2737309a15}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!traits@{traits}}
\index{traits@{traits}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{traits}{traits}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_acbc3ac416e43067a5b775e2737309a15} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
typedef Traits \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::traits}



Queue traits 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a62f55b7cc6139d953bae1e616a0b8b87}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!value\_cleaner@{value\_cleaner}}
\index{value\_cleaner@{value\_cleaner}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{value\_cleaner}{value\_cleaner}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a62f55b7cc6139d953bae1e616a0b8b87} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
typedef traits\+::value\+\_\+cleaner \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::value\+\_\+cleaner}



\doxylink{struct_value}{Value} cleaner, see {\ttfamily \doxylink{structcds_1_1container_1_1vyukov__queue_1_1traits_aa5001c37a947746505ebad7b7bb3f86e}{vyukov\+\_\+queue\+::traits\+::value\+\_\+cleaner}} 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!value\_type@{value\_type}}
\index{value\_type@{value\_type}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{value\_type}{value\_type}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
typedef \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::value\+\_\+type}



\doxylink{struct_value}{Value} type to be stored in the queue 



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a64fe241e43f47d2ec2200b883bc56862}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!VyukovMPMCCycleQueue@{VyukovMPMCCycleQueue}}
\index{VyukovMPMCCycleQueue@{VyukovMPMCCycleQueue}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{VyukovMPMCCycleQueue()}{VyukovMPMCCycleQueue()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a64fe241e43f47d2ec2200b883bc56862} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::\+Vyukov\+MPMCCycle\+Queue (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Capacity}{ = {\ttfamily 0}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructs the queue of capacity {\ttfamily n\+Capacity} 

For {\ttfamily \doxylink{classcds_1_1opt_1_1v_1_1uninitialized__static__buffer}{cds\+::opt\+::v\+::uninitialized\+\_\+static\+\_\+buffer}} the {\ttfamily n\+Capacity} parameter is ignored.

The buffer capacity must be the power of two. \Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a607c1ee4aebf3c7e070fd582d32108bf}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!````~VyukovMPMCCycleQueue@{\texorpdfstring{$\sim$}{\string~}VyukovMPMCCycleQueue}}
\index{````~VyukovMPMCCycleQueue@{\texorpdfstring{$\sim$}{\string~}VyukovMPMCCycleQueue}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}VyukovMPMCCycleQueue()}{\string~VyukovMPMCCycleQueue()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a607c1ee4aebf3c7e070fd582d32108bf} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::\texorpdfstring{$\sim$}{\string~}\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{Vyukov\+MPMCCycle\+Queue}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_ae26e8452d6cee87d42a2cf4416b44ab1}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!capacity@{capacity}}
\index{capacity@{capacity}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{capacity()}{capacity()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_ae26e8452d6cee87d42a2cf4416b44ab1} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::capacity (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns capacity of the queue 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a86e4d12176cc7ebbc07b62167e835a1e}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!clear@{clear}}
\index{clear@{clear}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a86e4d12176cc7ebbc07b62167e835a1e} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::clear (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clears the queue 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a71875e2dd484ae2814cab155f09603af}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!dequeue@{dequeue}}
\index{dequeue@{dequeue}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{dequeue()}{dequeue()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a71875e2dd484ae2814cab155f09603af} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::dequeue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} \&}]{dest}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Dequeues a value from the queue 

If queue is not empty, the function returns {\ttfamily true}, {\ttfamily dest} contains a copy of dequeued value. The assignment operator for type \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type} is invoked. If queue is empty, the function returns {\ttfamily false}, {\ttfamily dest} is unchanged. \Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a9bcb4bd97b2e8844e4475ac2f47c714f}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!dequeue\_with@{dequeue\_with}}
\index{dequeue\_with@{dequeue\_with}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{dequeue\_with()}{dequeue\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a9bcb4bd97b2e8844e4475ac2f47c714f} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::dequeue\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Dequeues a value using a functor 

{\ttfamily Func} is a functor called to copy dequeued value. The functor takes one argument -\/ a reference to removed node\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{cds:container::VyukovMPMCCycleQueue<\ Foo\ >\ myQueue;}
\DoxyCodeLine{Bar\ bar;}
\DoxyCodeLine{myQueue.dequeue\_with(\ [\&bar](\ Foo\&\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ )\ \{\ bar\ =\ std::move(\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ );\});}

\end{DoxyCode}
 The functor is called only if the queue is not empty. \Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a7d72590ed27482a57d93b49a9be84665}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!emplace@{emplace}}
\index{emplace@{emplace}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a7d72590ed27482a57d93b49a9be84665} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
template$<$typename... Args$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::emplace (\begin{DoxyParamCaption}\item[{Args \&\&...}]{args}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues data of type \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type} constructed with {\ttfamily std\+::forward$<$\+Args$>$(args)...} 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a5d33e63393d9297fc24fe681fa7c4025}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!empty@{empty}}
\index{empty@{empty}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a5d33e63393d9297fc24fe681fa7c4025} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks if the queue is empty 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a0f6386e5675cfa66030c3528fe5aea60}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a0f6386e5675cfa66030c3528fe5aea60} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} \&\&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues {\ttfamily val} value into the queue, move semantics 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a0507af389ba25f7ee1ddc7f0095421eb}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a0507af389ba25f7ee1ddc7f0095421eb} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} const \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues {\ttfamily val} value into the queue. 

The new queue item is created by calling placement new in free cell. Returns {\ttfamily true} if success, {\ttfamily false} if the queue is full. \Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a4d134514e3ac1b6ac71de876b85b7bb6}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!enqueue\_with@{enqueue\_with}}
\index{enqueue\_with@{enqueue\_with}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue\_with()}{enqueue\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a4d134514e3ac1b6ac71de876b85b7bb6} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::enqueue\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues data to the queue using a functor 

{\ttfamily Func} is a functor called to copy a value to the queue cell. The functor {\ttfamily f} takes one argument -\/ a reference to a empty cell of type \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type} \+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{cds::container::VyukovMPMCCycleQueue<\ Foo\ >\ myQueue;}
\DoxyCodeLine{Bar\ bar;}
\DoxyCodeLine{myQueue.\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a4d134514e3ac1b6ac71de876b85b7bb6}{enqueue\_with}}(\ [\&bar](\ Foo\&\ dest\ )\ \{\ dest\ =\ std::move(bar);\ \}\ );}

\end{DoxyCode}
 \Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a5c738937a5358f0c59bcd796c687bfcc}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!front@{front}}
\index{front@{front}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{front()}{front()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a5c738937a5358f0c59bcd796c687bfcc} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
template$<$\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} SC = c\+\_\+single\+\_\+consumer$>$ \\
std\+::enable\+\_\+if$<$ SC, \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} \texorpdfstring{$\ast$}{*} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::front (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Returns a pointer to top element of the queue or {\ttfamily nullptr} if queue is empty (only for single-\/consumer version) 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_aa6387f8609adc7b46eef79e192667fd0}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!pop@{pop}}
\index{pop@{pop}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_aa6387f8609adc7b46eef79e192667fd0} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::pop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} \&}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a71875e2dd484ae2814cab155f09603af}{dequeue()}} 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a825695d1c6b28cb275ec0fca992ec5ea}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!pop\_front@{pop\_front}}
\index{pop\_front@{pop\_front}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop\_front()}{pop\_front()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a825695d1c6b28cb275ec0fca992ec5ea} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
template$<$\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} SC = c\+\_\+single\+\_\+consumer$>$ \\
std\+::enable\+\_\+if$<$ SC, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::pop\+\_\+front (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Pops top element; returns {\ttfamily true} if queue is not empty, {\ttfamily false} otherwise (only for single-\/consumer version) 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a8165411709bdf6f0622add3438dfbe55}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!pop\_with@{pop\_with}}
\index{pop\_with@{pop\_with}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop\_with()}{pop\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a8165411709bdf6f0622add3438dfbe55} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::pop\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a9bcb4bd97b2e8844e4475ac2f47c714f}{dequeue\+\_\+with()}} 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_adc93a1289682e917a714f7e914c40215}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!push@{push}}
\index{push@{push}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_adc93a1289682e917a714f7e914c40215} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} \&\&}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a0f6386e5675cfa66030c3528fe5aea60}{enqueue( value\+\_\+type\&\& )}} 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a54bd2c444d4d3fba4fa4807fbc3b7db6}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!push@{push}}
\index{push@{push}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a54bd2c444d4d3fba4fa4807fbc3b7db6} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a2cd7a13d87095d5ae3dff7d3cec9ff41}{value\+\_\+type}} const \&}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a0507af389ba25f7ee1ddc7f0095421eb}{enqueue( value\+\_\+type const\& )}} 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_aa60966eba021849d5d1bcc432108f035}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!push\_with@{push\_with}}
\index{push\_with@{push\_with}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push\_with()}{push\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_aa60966eba021849d5d1bcc432108f035} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::push\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a4d134514e3ac1b6ac71de876b85b7bb6}{enqueue\+\_\+with()}} 

\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_ad978a4efae1b6934a680b649264a5e09}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!size@{size}}
\index{size@{size}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_ad978a4efae1b6934a680b649264a5e09} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{\+::size}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns queue\textquotesingle{}s item count 

The value returned depends on {\ttfamily \doxylink{structcds_1_1container_1_1vyukov__queue_1_1traits_ad75e3700446cc78a1c627731b696c0e4}{vyukov\+\_\+queue\+::traits\+::item\+\_\+counter}} option. For {\ttfamily \doxylink{classcds_1_1atomicity_1_1empty__item__counter}{atomicity\+::empty\+\_\+item\+\_\+counter}}, the function always returns 0. 

\doxysubsection{类成员变量说明}
\Hypertarget{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a82c163e023e1d219eac2a52218676077}\index{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}!c\_single\_consumer@{c\_single\_consumer}}
\index{c\_single\_consumer@{c\_single\_consumer}!cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$@{cds::container::VyukovMPMCCycleQueue$<$ T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{c\_single\_consumer}{c\_single\_consumer}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue_a82c163e023e1d219eac2a52218676077} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = vyukov\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} const \mbox{\hyperlink{classcds_1_1container_1_1_vyukov_m_p_m_c_cycle_queue}{cds\+::container\+::\+Vyukov\+MPMCCycle\+Queue}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::c\+\_\+single\+\_\+consumer = traits\+::single\+\_\+consumer\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



{\ttfamily true} for single-\/consumer version, {\ttfamily false} otherwise 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/container/\mbox{\hyperlink{container_2vyukov__mpmc__cycle__queue_8h}{vyukov\+\_\+mpmc\+\_\+cycle\+\_\+queue.\+h}}\end{DoxyCompactItemize}
