\doxysection{runtime/\+EASTL/packages/mimalloc/test 目录参考}
\hypertarget{dir_9f952bf273c4e3f573c022c584f1228c}{}\label{dir_9f952bf273c4e3f573c022c584f1228c}\index{runtime/EASTL/packages/mimalloc/test 目录参考@{runtime/EASTL/packages/mimalloc/test 目录参考}}
test 的目录依赖关系图
% FIG 0
\doxysubsubsection*{文件}
\begin{DoxyCompactItemize}
\item 
文件 \mbox{\hyperlink{main-override-dep_8cpp}{main-\/override-\/dep.\+cpp}}
\item 
文件 \mbox{\hyperlink{main-override-dep_8h}{main-\/override-\/dep.\+h}}
\item 
文件 \mbox{\hyperlink{main-override-static_8c}{main-\/override-\/static.\+c}}
\item 
文件 \mbox{\hyperlink{main-override_8c}{main-\/override.\+c}}
\item 
文件 \mbox{\hyperlink{main-override_8cpp}{main-\/override.\+cpp}}
\item 
文件 \mbox{\hyperlink{_e_a_s_t_l_2packages_2mimalloc_2test_2main_8c}{main.\+c}}
\item 
文件 \mbox{\hyperlink{test-api-fill_8c}{test-\/api-\/fill.\+c}}
\item 
文件 \mbox{\hyperlink{test-api_8c}{test-\/api.\+c}}
\item 
文件 \mbox{\hyperlink{test-stress_8c}{test-\/stress.\+c}}
\item 
文件 \mbox{\hyperlink{test-wrong_8c}{test-\/wrong.\+c}}
\item 
文件 \mbox{\hyperlink{testhelper_8h}{testhelper.\+h}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
Testing allocators is difficult as bugs may only surface after particular allocation patterns. The main approach to testing {\itshape mimalloc} is therefore to have extensive internal invariant checking (see {\ttfamily page\+\_\+is\+\_\+valid} in {\ttfamily \doxylink{page_8c}{page.\+c}} for example), which is enabled in debug mode with {\ttfamily -\/DMI\+\_\+\+DEBUG\+\_\+\+FULL=ON}. The main testing strategy is then to run \href{https://github.com/daanx/mimalloc-bench}{\texttt{ {\ttfamily mimalloc-\/bench}}} using full invariant checking to catch any potential problems over a wide range of intensive allocation benchmarks and programs.

However, this does not test well for the entire API surface and this is tested with {\ttfamily \doxylink{test-api_8c}{test-\/api.\+c}} when using {\ttfamily make test} (from {\ttfamily out/debug} etc). (This is not complete yet, please add to it.)

The {\ttfamily main.\+c} and {\ttfamily \doxylink{main-override_8c}{main-\/override.\+c}} are there to test if building and overriding from a local install works and therefore these build a separate {\ttfamily test/\+CMake\+Lists.\+txt}. 