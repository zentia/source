\doxysection{rml\+::internal\+::thread\+\_\+map类 参考}
\hypertarget{classrml_1_1internal_1_1thread__map}{}\label{classrml_1_1internal_1_1thread__map}\index{rml::internal::thread\_map@{rml::internal::thread\_map}}


Type-\/independent part of class \doxylink{classrml_1_1internal_1_1generic__connection}{generic\+\_\+connection}.  




类 rml\+::internal\+::thread\+\_\+map 继承关系图\+:
% FIG 0


rml\+::internal\+::thread\+\_\+map 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classrml_1_1client_a0dc06ede570f7ee6d3021862cb71119f}{rml\+::client\+::size\+\_\+type}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}{size\+\_\+type}}
\item 
typedef \mbox{\hyperlink{classtbb_1_1concurrent__vector_a1d8a0e7add13ae70d1f0193cd2c64b91}{array\+\_\+type\+::iterator}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a6973b16d669a79bad45ac3a577bc8183}{iterator}}
\end{DoxyCompactItemize}
\doxysubsection*{Public 类型 继承自 \mbox{\hyperlink{structrml_1_1internal_1_1thread__map__base}{rml\+::internal\+::thread\+\_\+map\+\_\+base}}}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classtbb_1_1concurrent__vector}{tbb\+::concurrent\+\_\+vector}}$<$ \mbox{\hyperlink{classrml_1_1internal_1_1thread__map__base_1_1value__type}{value\+\_\+type}}, \mbox{\hyperlink{classtbb_1_1zero__allocator}{tbb\+::zero\+\_\+allocator}}$<$ \mbox{\hyperlink{classrml_1_1internal_1_1thread__map__base_1_1value__type}{value\+\_\+type}}, \mbox{\hyperlink{classtbb_1_1cache__aligned__allocator}{tbb\+::cache\+\_\+aligned\+\_\+allocator}} $>$ $>$ \mbox{\hyperlink{structrml_1_1internal_1_1thread__map__base_a62d950feb06200b230be668b31c9e49c}{array\+\_\+type}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a0dc0a40aa1df1c91159b71e5d9a8e65d}{thread\+\_\+map}} (\mbox{\hyperlink{classrml_1_1internal_1_1wait__counter}{wait\+\_\+counter}} \&fc, \mbox{\hyperlink{classrml_1_1client}{\+::rml\+::client}} \&\mbox{\hyperlink{classrml_1_1client}{client}})
\begin{DoxyCompactList}\small\item\em ctor \end{DoxyCompactList}\item 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_aa335f63e14a336af1245b997089a56ea}{\texorpdfstring{$\sim$}{\string~}thread\+\_\+map}} ()
\begin{DoxyCompactList}\small\item\em dtor \end{DoxyCompactList}\item 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a6973b16d669a79bad45ac3a577bc8183}{iterator}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a49c6d1883cda2ad44a23b97a8eb2caeb}{begin}} ()
\item 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a6973b16d669a79bad45ac3a577bc8183}{iterator}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a0151c43180c743744d2300fe38e471fa}{end}} ()
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_aa3b385b87eba57de58f1a03b94a9b31e}{bind}} ()
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a3c738c51cf0c968aa3976ec532c77b2c}{unbind}} ()
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a05ab6e759575a57c6a34add7a757d77e}{assist\+\_\+cleanup}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} assist\+\_\+null\+\_\+only)
\item 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}{size\+\_\+type}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a9c42750f9189e27c2952adea24584144}{wakeup\+\_\+tbb\+\_\+threads}} (\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}{size\+\_\+type}} \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_af08755b54c700eda6cbefdb509747f7f}{wakeup\+\_\+next\+\_\+thread}} (\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a6973b16d669a79bad45ac3a577bc8183}{iterator}} \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}, \mbox{\hyperlink{classrml_1_1internal_1_1tbb__connection__v2}{tbb\+\_\+connection\+\_\+v2}} \&conn)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a4023425963a1d53527c63f47a0deb8c4}{release\+\_\+tbb\+\_\+threads}} (\mbox{\hyperlink{classrml_1_1internal_1_1server__thread}{server\+\_\+thread}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_ac3afdc24bdd2d73ab699653ead541aee}{adjust\+\_\+balance}} (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} delta)
\item 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map__base_1_1value__type}{value\+\_\+type}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_aa3487b9b383ff6b2c16324377e73ef41}{add\+\_\+one\+\_\+thread}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+omp\+\_\+thread\+\_\+)
\begin{DoxyCompactList}\small\item\em Add a \doxylink{classrml_1_1internal_1_1server__thread}{server\+\_\+thread} object to the map, but do not bind it. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a3dfcea79b46fc794121fc4f1a9f9456e}{bind\+\_\+one\+\_\+thread}} (\mbox{\hyperlink{classrml_1_1server}{rml\+::server}} \&\mbox{\hyperlink{classrml_1_1server}{server}}, \mbox{\hyperlink{classrml_1_1internal_1_1thread__map__base_1_1value__type}{value\+\_\+type}} \&\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a5f92061bc2464e9b3dab697972dddba1}{remove\+\_\+client\+\_\+ref}} ()
\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a99112292877f23570e53617cb0543aa8}{add\+\_\+server\+\_\+ref}} ()
\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_ac3dd9c36c704da62827bb718106000eb}{remove\+\_\+server\+\_\+ref}} ()
\item 
\mbox{\hyperlink{classrml_1_1client}{\+::rml\+::client}} \& \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a7dcb3d07ba0928091739adb962a0b9f8}{client}} () const
\item 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}{size\+\_\+type}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a851871965536c60c123bf1b5c2535e23}{get\+\_\+unrealized\+\_\+threads}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classrml_1_1internal_1_1private__thread__bag}{private\+\_\+thread\+\_\+bag}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a7712bf2e3bd3a802d948f14f8aec0792}{my\+\_\+private\+\_\+threads}}
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a9850c19940aeaad8dd52281a1a20fd85}{all\+\_\+visited\+\_\+at\+\_\+least\+\_\+once}}
\item 
\mbox{\hyperlink{structrml_1_1internal_1_1thread__map__base_a62d950feb06200b230be668b31c9e49c}{array\+\_\+type}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a0cd54ff1d0af33bb3392a1a470311d34}{my\+\_\+array}}
\item 
size\+\_\+t \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_ade1ce9711b6e4033f7bf0ffe020f5a51}{my\+\_\+min\+\_\+stack\+\_\+size}}
\item 
tbb\+::atomic$<$ \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}{size\+\_\+type}} $>$ \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_aceff4750e15f07a72e6788c888365969}{my\+\_\+unrealized\+\_\+threads}}
\item 
\mbox{\hyperlink{classrml_1_1internal_1_1ref__count}{ref\+\_\+count}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_ad74963a16abf0fd838306e1eefe07538}{my\+\_\+server\+\_\+ref\+\_\+count}}
\begin{DoxyCompactList}\small\item\em \doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of threads referencing \texorpdfstring{$\ast$}{*}this, plus one extra. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classrml_1_1internal_1_1ref__count}{ref\+\_\+count}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_af7d127ca6b2e6caa124bdfbe7f8bff09}{my\+\_\+client\+\_\+ref\+\_\+count}}
\begin{DoxyCompactList}\small\item\em \doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of jobs that need cleanup, plus one extra. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classrml_1_1client}{\+::rml\+::client}} \& \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_abe861833c157f9bb50a6c07075bd36c1}{my\+\_\+client}}
\item 
\mbox{\hyperlink{classrml_1_1internal_1_1wait__counter}{wait\+\_\+counter}} \& \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_af88f567d405c98ed64ae01141b7b1af9}{my\+\_\+factory\+\_\+counter}}
\begin{DoxyCompactList}\small\item\em \doxylink{struct_counter}{Counter} owned by factory that produced this \doxylink{classrml_1_1internal_1_1thread__map}{thread\+\_\+map}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
Type-\/independent part of class \doxylink{classrml_1_1internal_1_1generic__connection}{generic\+\_\+connection}. 

One to one map from server threads to jobs, and associated reference counting. 

\doxysubsection{成员类型定义说明}
\Hypertarget{classrml_1_1internal_1_1thread__map_a6973b16d669a79bad45ac3a577bc8183}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!iterator@{iterator}}
\index{iterator@{iterator}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{iterator}{iterator}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a6973b16d669a79bad45ac3a577bc8183} 
typedef \mbox{\hyperlink{classtbb_1_1concurrent__vector_a1d8a0e7add13ae70d1f0193cd2c64b91}{array\+\_\+type\+::iterator}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a6973b16d669a79bad45ac3a577bc8183}{rml\+::internal\+::thread\+\_\+map\+::iterator}}}

\Hypertarget{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!size\_type@{size\_type}}
\index{size\_type@{size\_type}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{size\_type}{size\_type}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af} 
typedef \mbox{\hyperlink{classrml_1_1client_a0dc06ede570f7ee6d3021862cb71119f}{rml\+::client\+::size\+\_\+type}} \mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}{rml\+::internal\+::thread\+\_\+map\+::size\+\_\+type}}}



\doxysubsection{构造及析构函数说明}
\Hypertarget{classrml_1_1internal_1_1thread__map_a0dc0a40aa1df1c91159b71e5d9a8e65d}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!thread\_map@{thread\_map}}
\index{thread\_map@{thread\_map}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{thread\_map()}{thread\_map()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a0dc0a40aa1df1c91159b71e5d9a8e65d} 
rml\+::internal\+::thread\+\_\+map\+::thread\+\_\+map (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrml_1_1internal_1_1wait__counter}{wait\+\_\+counter}} \&}]{fc}{, }\item[{\mbox{\hyperlink{classrml_1_1client}{\+::rml\+::client}} \&}]{client}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



ctor 

函数调用图\+:
% FIG 2
\Hypertarget{classrml_1_1internal_1_1thread__map_aa335f63e14a336af1245b997089a56ea}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!````~thread\_map@{\texorpdfstring{$\sim$}{\string~}thread\_map}}
\index{````~thread\_map@{\texorpdfstring{$\sim$}{\string~}thread\_map}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}thread\_map()}{\string~thread\_map()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_aa335f63e14a336af1245b997089a56ea} 
rml\+::internal\+::thread\+\_\+map\+::\texorpdfstring{$\sim$}{\string~}thread\+\_\+map (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



dtor 



\doxysubsection{成员函数说明}
\Hypertarget{classrml_1_1internal_1_1thread__map_aa3487b9b383ff6b2c16324377e73ef41}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!add\_one\_thread@{add\_one\_thread}}
\index{add\_one\_thread@{add\_one\_thread}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{add\_one\_thread()}{add\_one\_thread()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_aa3487b9b383ff6b2c16324377e73ef41} 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map__base_1_1value__type}{thread\+\_\+map\+::value\+\_\+type}} \texorpdfstring{$\ast$}{*} rml\+::internal\+::thread\+\_\+map\+::add\+\_\+one\+\_\+thread (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+omp\+\_\+thread\+\_\+}{}\end{DoxyParamCaption})}



Add a \doxylink{classrml_1_1internal_1_1server__thread}{server\+\_\+thread} object to the map, but do not bind it. 

Return NULL if out of unrealized threads. \Hypertarget{classrml_1_1internal_1_1thread__map_a99112292877f23570e53617cb0543aa8}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!add\_server\_ref@{add\_server\_ref}}
\index{add\_server\_ref@{add\_server\_ref}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{add\_server\_ref()}{add\_server\_ref()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a99112292877f23570e53617cb0543aa8} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} rml\+::internal\+::thread\+\_\+map\+::add\+\_\+server\+\_\+ref (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_ac3afdc24bdd2d73ab699653ead541aee}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!adjust\_balance@{adjust\_balance}}
\index{adjust\_balance@{adjust\_balance}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{adjust\_balance()}{adjust\_balance()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_ac3afdc24bdd2d73ab699653ead541aee} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::internal\+::thread\+\_\+map\+::adjust\+\_\+balance (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{delta}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 3
\Hypertarget{classrml_1_1internal_1_1thread__map_a05ab6e759575a57c6a34add7a757d77e}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!assist\_cleanup@{assist\_cleanup}}
\index{assist\_cleanup@{assist\_cleanup}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{assist\_cleanup()}{assist\_cleanup()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a05ab6e759575a57c6a34add7a757d77e} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::internal\+::thread\+\_\+map\+::assist\+\_\+cleanup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{assist\+\_\+null\+\_\+only}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 4
\Hypertarget{classrml_1_1internal_1_1thread__map_a49c6d1883cda2ad44a23b97a8eb2caeb}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!begin@{begin}}
\index{begin@{begin}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a49c6d1883cda2ad44a23b97a8eb2caeb} 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a6973b16d669a79bad45ac3a577bc8183}{iterator}} rml\+::internal\+::thread\+\_\+map\+::begin (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_aa3b385b87eba57de58f1a03b94a9b31e}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!bind@{bind}}
\index{bind@{bind}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{bind()}{bind()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_aa3b385b87eba57de58f1a03b94a9b31e} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::internal\+::thread\+\_\+map\+::bind (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{classrml_1_1internal_1_1thread__map_a3dfcea79b46fc794121fc4f1a9f9456e}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!bind\_one\_thread@{bind\_one\_thread}}
\index{bind\_one\_thread@{bind\_one\_thread}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{bind\_one\_thread()}{bind\_one\_thread()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a3dfcea79b46fc794121fc4f1a9f9456e} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::internal\+::thread\+\_\+map\+::bind\+\_\+one\+\_\+thread (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrml_1_1server}{rml\+::server}} \&}]{server}{, }\item[{\mbox{\hyperlink{classrml_1_1internal_1_1thread__map__base_1_1value__type}{value\+\_\+type}} \&}]{x}{}\end{DoxyParamCaption})}

\Hypertarget{classrml_1_1internal_1_1thread__map_a7dcb3d07ba0928091739adb962a0b9f8}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!client@{client}}
\index{client@{client}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{client()}{client()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a7dcb3d07ba0928091739adb962a0b9f8} 
\mbox{\hyperlink{classrml_1_1client}{\+::rml\+::client}} \& rml\+::internal\+::thread\+\_\+map\+::client (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_a0151c43180c743744d2300fe38e471fa}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!end@{end}}
\index{end@{end}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{end()}{end()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a0151c43180c743744d2300fe38e471fa} 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a6973b16d669a79bad45ac3a577bc8183}{iterator}} rml\+::internal\+::thread\+\_\+map\+::end (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_a851871965536c60c123bf1b5c2535e23}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!get\_unrealized\_threads@{get\_unrealized\_threads}}
\index{get\_unrealized\_threads@{get\_unrealized\_threads}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{get\_unrealized\_threads()}{get\_unrealized\_threads()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a851871965536c60c123bf1b5c2535e23} 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}{size\+\_\+type}} rml\+::internal\+::thread\+\_\+map\+::get\+\_\+unrealized\+\_\+threads (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_a4023425963a1d53527c63f47a0deb8c4}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!release\_tbb\_threads@{release\_tbb\_threads}}
\index{release\_tbb\_threads@{release\_tbb\_threads}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{release\_tbb\_threads()}{release\_tbb\_threads()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a4023425963a1d53527c63f47a0deb8c4} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::internal\+::thread\+\_\+map\+::release\+\_\+tbb\+\_\+threads (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrml_1_1internal_1_1server__thread}{server\+\_\+thread}} \texorpdfstring{$\ast$}{*}}]{t}{}\end{DoxyParamCaption})}

\Hypertarget{classrml_1_1internal_1_1thread__map_a5f92061bc2464e9b3dab697972dddba1}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!remove\_client\_ref@{remove\_client\_ref}}
\index{remove\_client\_ref@{remove\_client\_ref}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{remove\_client\_ref()}{remove\_client\_ref()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a5f92061bc2464e9b3dab697972dddba1} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::internal\+::thread\+\_\+map\+::remove\+\_\+client\+\_\+ref (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{classrml_1_1internal_1_1thread__map_ac3dd9c36c704da62827bb718106000eb}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!remove\_server\_ref@{remove\_server\_ref}}
\index{remove\_server\_ref@{remove\_server\_ref}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{remove\_server\_ref()}{remove\_server\_ref()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_ac3dd9c36c704da62827bb718106000eb} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} rml\+::internal\+::thread\+\_\+map\+::remove\+\_\+server\+\_\+ref (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_a3c738c51cf0c968aa3976ec532c77b2c}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!unbind@{unbind}}
\index{unbind@{unbind}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{unbind()}{unbind()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a3c738c51cf0c968aa3976ec532c77b2c} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::internal\+::thread\+\_\+map\+::unbind (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 5
\Hypertarget{classrml_1_1internal_1_1thread__map_af08755b54c700eda6cbefdb509747f7f}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!wakeup\_next\_thread@{wakeup\_next\_thread}}
\index{wakeup\_next\_thread@{wakeup\_next\_thread}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{wakeup\_next\_thread()}{wakeup\_next\_thread()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_af08755b54c700eda6cbefdb509747f7f} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} rml\+::internal\+::thread\+\_\+map\+::wakeup\+\_\+next\+\_\+thread (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a6973b16d669a79bad45ac3a577bc8183}{thread\+\_\+map\+::iterator}}}]{this\+\_\+thr}{, }\item[{\mbox{\hyperlink{classrml_1_1internal_1_1tbb__connection__v2}{tbb\+\_\+connection\+\_\+v2}} \&}]{conn}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 6
\Hypertarget{classrml_1_1internal_1_1thread__map_a9c42750f9189e27c2952adea24584144}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!wakeup\_tbb\_threads@{wakeup\_tbb\_threads}}
\index{wakeup\_tbb\_threads@{wakeup\_tbb\_threads}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{wakeup\_tbb\_threads()}{wakeup\_tbb\_threads()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a9c42750f9189e27c2952adea24584144} 
\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}{thread\+\_\+map\+::size\+\_\+type}} rml\+::internal\+::thread\+\_\+map\+::wakeup\+\_\+tbb\+\_\+threads (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}{size\+\_\+type}}}]{n}{}\end{DoxyParamCaption})}

Returns number of unrealized threads to create. 函数调用图\+:
% FIG 7


\doxysubsection{类成员变量说明}
\Hypertarget{classrml_1_1internal_1_1thread__map_a9850c19940aeaad8dd52281a1a20fd85}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!all\_visited\_at\_least\_once@{all\_visited\_at\_least\_once}}
\index{all\_visited\_at\_least\_once@{all\_visited\_at\_least\_once}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{all\_visited\_at\_least\_once}{all\_visited\_at\_least\_once}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a9850c19940aeaad8dd52281a1a20fd85} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} rml\+::internal\+::thread\+\_\+map\+::all\+\_\+visited\+\_\+at\+\_\+least\+\_\+once\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_a0cd54ff1d0af33bb3392a1a470311d34}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!my\_array@{my\_array}}
\index{my\_array@{my\_array}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{my\_array}{my\_array}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a0cd54ff1d0af33bb3392a1a470311d34} 
\mbox{\hyperlink{structrml_1_1internal_1_1thread__map__base_a62d950feb06200b230be668b31c9e49c}{array\+\_\+type}} rml\+::internal\+::thread\+\_\+map\+::my\+\_\+array\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_abe861833c157f9bb50a6c07075bd36c1}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!my\_client@{my\_client}}
\index{my\_client@{my\_client}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{my\_client}{my\_client}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_abe861833c157f9bb50a6c07075bd36c1} 
\mbox{\hyperlink{classrml_1_1client}{\+::rml\+::client}}\& rml\+::internal\+::thread\+\_\+map\+::my\+\_\+client\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_af7d127ca6b2e6caa124bdfbe7f8bff09}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!my\_client\_ref\_count@{my\_client\_ref\_count}}
\index{my\_client\_ref\_count@{my\_client\_ref\_count}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{my\_client\_ref\_count}{my\_client\_ref\_count}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_af7d127ca6b2e6caa124bdfbe7f8bff09} 
\mbox{\hyperlink{classrml_1_1internal_1_1ref__count}{ref\+\_\+count}} rml\+::internal\+::thread\+\_\+map\+::my\+\_\+client\+\_\+ref\+\_\+count\hspace{0.3cm}{\ttfamily [private]}}



\doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of jobs that need cleanup, plus one extra. 

When it becomes zero, acknowledge\+\_\+close\+\_\+connection is called. \Hypertarget{classrml_1_1internal_1_1thread__map_af88f567d405c98ed64ae01141b7b1af9}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!my\_factory\_counter@{my\_factory\_counter}}
\index{my\_factory\_counter@{my\_factory\_counter}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{my\_factory\_counter}{my\_factory\_counter}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_af88f567d405c98ed64ae01141b7b1af9} 
\mbox{\hyperlink{classrml_1_1internal_1_1wait__counter}{wait\+\_\+counter}}\& rml\+::internal\+::thread\+\_\+map\+::my\+\_\+factory\+\_\+counter\hspace{0.3cm}{\ttfamily [private]}}



\doxylink{struct_counter}{Counter} owned by factory that produced this \doxylink{classrml_1_1internal_1_1thread__map}{thread\+\_\+map}. 

\Hypertarget{classrml_1_1internal_1_1thread__map_ade1ce9711b6e4033f7bf0ffe020f5a51}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!my\_min\_stack\_size@{my\_min\_stack\_size}}
\index{my\_min\_stack\_size@{my\_min\_stack\_size}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{my\_min\_stack\_size}{my\_min\_stack\_size}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_ade1ce9711b6e4033f7bf0ffe020f5a51} 
size\+\_\+t rml\+::internal\+::thread\+\_\+map\+::my\+\_\+min\+\_\+stack\+\_\+size\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_a7712bf2e3bd3a802d948f14f8aec0792}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!my\_private\_threads@{my\_private\_threads}}
\index{my\_private\_threads@{my\_private\_threads}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{my\_private\_threads}{my\_private\_threads}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_a7712bf2e3bd3a802d948f14f8aec0792} 
\mbox{\hyperlink{classrml_1_1internal_1_1private__thread__bag}{private\+\_\+thread\+\_\+bag}} rml\+::internal\+::thread\+\_\+map\+::my\+\_\+private\+\_\+threads\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classrml_1_1internal_1_1thread__map_ad74963a16abf0fd838306e1eefe07538}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!my\_server\_ref\_count@{my\_server\_ref\_count}}
\index{my\_server\_ref\_count@{my\_server\_ref\_count}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{my\_server\_ref\_count}{my\_server\_ref\_count}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_ad74963a16abf0fd838306e1eefe07538} 
\mbox{\hyperlink{classrml_1_1internal_1_1ref__count}{ref\+\_\+count}} rml\+::internal\+::thread\+\_\+map\+::my\+\_\+server\+\_\+ref\+\_\+count\hspace{0.3cm}{\ttfamily [private]}}



\doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of threads referencing \texorpdfstring{$\ast$}{*}this, plus one extra. 

When it becomes zero, the containing server object can be safely deleted. \Hypertarget{classrml_1_1internal_1_1thread__map_aceff4750e15f07a72e6788c888365969}\index{rml::internal::thread\_map@{rml::internal::thread\_map}!my\_unrealized\_threads@{my\_unrealized\_threads}}
\index{my\_unrealized\_threads@{my\_unrealized\_threads}!rml::internal::thread\_map@{rml::internal::thread\_map}}
\doxysubsubsection{\texorpdfstring{my\_unrealized\_threads}{my\_unrealized\_threads}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1thread__map_aceff4750e15f07a72e6788c888365969} 
tbb\+::atomic$<$\mbox{\hyperlink{classrml_1_1internal_1_1thread__map_a48090762785b094c42d9a4ab72ab62af}{size\+\_\+type}}$>$ rml\+::internal\+::thread\+\_\+map\+::my\+\_\+unrealized\+\_\+threads\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/src/rml/server/\mbox{\hyperlink{rml__server_8cpp}{rml\+\_\+server.\+cpp}}\end{DoxyCompactItemize}
