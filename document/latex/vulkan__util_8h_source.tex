\doxysection{vulkan\+\_\+util.\+h}
\hypertarget{vulkan__util_8h_source}{}\label{vulkan__util_8h_source}\index{module/rhi/vulkan/vulkan\_util.h@{module/rhi/vulkan/vulkan\_util.h}}
\mbox{\hyperlink{vulkan__util_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <vulkan/vulkan\_core.h>}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vulkan__rhi__resource_8h}{vulkan\_rhi\_resource.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{rhi__module_8h}{module/rhi/rhi\_module.h}}"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesource__runtime}{source\_runtime}}}
\DoxyCodeLine{00008\ \{}
\DoxyCodeLine{00009\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsource__runtime_1_1vulkan__util}{vulkan\_util}}}
\DoxyCodeLine{00010\ \ \ \ \ \{}
\DoxyCodeLine{00011\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_ae200dfab0b20d5b3c55010ec1ee1180a}{find\_memory\_type}}(\mbox{\hyperlink{glfw_2src_2internal_8h_aa9acbee1e762fde021511a1b47678a38}{VkPhysicalDevice}}\ physical\_device,\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ type\_filter,\ \mbox{\hyperlink{vulkan_8h_a06f71178c68bf5712dbec35d6f124122}{VkMemoryPropertyFlags}}\ property\_flags);}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ VkShaderModule\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_a96f2b96512a54f82659877d571735746}{create\_shader\_module}}(VkDevice\ device,\ \textcolor{keyword}{const}\ std::vector<unsigned\ char>\&\ shader\_code);}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_aa17ec3b828459f2e13b927379d971473}{create\_buffer}}(\mbox{\hyperlink{glfw_2src_2internal_8h_aa9acbee1e762fde021511a1b47678a38}{VkPhysicalDevice}}\ physical\_device,}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \ \ \ \ VkDevice\ device,}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_a459be4b1b89c972b0d6018bc483be9cc}{VkDeviceSize}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_ab221f627433dcae79b6a004fc42b50a9}{VkBufferUsageFlags}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_afb85c5d9b1bce96aa3b530d581194d1a}{usage}},}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_a06f71178c68bf5712dbec35d6f124122}{VkMemoryPropertyFlags}}\ property,}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \ \ \ \ VkBuffer\&\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}},}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ VkDeviceMemory\&\ device\_memory);}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_a9979bacd7e03944f7aa9168de23497fc}{create\_buffer\_and\_initialize}}(VkDevice\ device,}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{glfw_2src_2internal_8h_aa9acbee1e762fde021511a1b47678a38}{VkPhysicalDevice}}\ physical\_device,}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_ab221f627433dcae79b6a004fc42b50a9}{VkBufferUsageFlags}}\ usage\_flags,}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_a06f71178c68bf5712dbec35d6f124122}{VkMemoryPropertyFlags}}\ memory\_property\_flags,}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ VkBuffer*\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}},}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ \ \ VkDeviceMemory*\ \mbox{\hyperlink{namespacesource__runtime_1_1memory}{memory}},}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_a459be4b1b89c972b0d6018bc483be9cc}{VkDeviceSize}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}\ =\ \textcolor{keyword}{nullptr},}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ data\_size\ =\ 0);}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_a3c42111478731f2b9081ea8ad9443edf}{copy\_buffer}}(\mbox{\hyperlink{classsource__module_1_1rhi_1_1rhi__module}{source\_module::rhi::rhi\_module}}*\ rhi,\ VkBuffer\ src\_buffer,\ VkBuffer\ dst\_buffer,\ \mbox{\hyperlink{vulkan_8h_a459be4b1b89c972b0d6018bc483be9cc}{VkDeviceSize}}\ src\_offset,\ \mbox{\hyperlink{vulkan_8h_a459be4b1b89c972b0d6018bc483be9cc}{VkDeviceSize}}\ dst\_offset,\ \mbox{\hyperlink{vulkan_8h_a459be4b1b89c972b0d6018bc483be9cc}{VkDeviceSize}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_ad199c116a93f872b11176fdb9d1d6661}{create\_image}}(\mbox{\hyperlink{glfw_2src_2internal_8h_aa9acbee1e762fde021511a1b47678a38}{VkPhysicalDevice}}\ physical\_device,\ }
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ VkDevice\ device,\ }
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ image\_width,\ }
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ image\_height,\ }
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_ad61b5b94a526d0f9ae0db97072cf6b3f}{VkFormat}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{format}},\ }
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_a5456c8cb96f58d566fb71551a93fa8f4}{VkImageTiling}}\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ image\_tiling,\ }
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_a2c990c0c189d0a9bd02c5d911d5cc5f7}{VkImageUsageFlags}}\ image\_usage\_flags,\ }
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_a06f71178c68bf5712dbec35d6f124122}{VkMemoryPropertyFlags}}\ memory\_property\_flags,\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ VkImage\&\ \mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}},\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ VkDeviceMemory\&\ \mbox{\hyperlink{namespacesource__runtime_1_1memory}{memory}},\ }
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{vulkan_8h_abc3eb853d771500fd5a7f1340bf708cc}{VkImageCreateFlags}}\ image\_create\_flags,\ }
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ array\_layers,\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ mip\_levels);}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ VkImageView\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_aa54a5bba36b7683233fe3bd211382bf7}{create\_image\_view}}(VkDevice\ device,\ \textcolor{keyword}{const}\ VkImage\&\ \mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}},\ \mbox{\hyperlink{vulkan_8h_ad61b5b94a526d0f9ae0db97072cf6b3f}{VkFormat}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1e3b09934060e9d373139c3557730d37}{format}},\ \mbox{\hyperlink{vulkan_8h_a1dc6a69eefc5cddb8237b87d5c22d1ec}{VkImageAspectFlags}}\ image\_aspect\_flags,\ \mbox{\hyperlink{vulkan_8h_a315763fa9d01410909b4b8677c962005}{VkImageViewType}}\ view\_type,\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ layout\_count,\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ mip\_levels);}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_a05036ea56e7a74dc3c89316eb2be50cf}{transition\_image\_layout}}(\mbox{\hyperlink{classsource__module_1_1rhi_1_1rhi__module}{source\_module::rhi::rhi\_module}}*\ rhi,\ VkImage\ \mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}},\ \mbox{\hyperlink{vulkan_8h_a10d9a29817e871a926df1834c7ccd88c}{VkImageLayout}}\ old\_layout,\ \mbox{\hyperlink{vulkan_8h_a10d9a29817e871a926df1834c7ccd88c}{VkImageLayout}}\ new\_layout,\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ layer\_count,\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ mip\_levels,\ \mbox{\hyperlink{vulkan_8h_a1dc6a69eefc5cddb8237b87d5c22d1ec}{VkImageAspectFlags}}\ aspect\_mask\_bits);}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_a2807718d67796f8878ddd3fe689555b1}{copy\_buffer\_to\_image}}(\mbox{\hyperlink{classsource__module_1_1rhi_1_1rhi__module}{source\_module::rhi::rhi\_module}}*\ rhi,\ VkBuffer\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}},\ VkImage\ \mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}},\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a4c3bd78046e1e69b575cace337a4a9a3}{width}},\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a31d490b16f4b63c2afa4c7198ef2c31e}{height}},\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ layer\_count);}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_a5d41d244cbd06d05e8324ddecfe6e53c}{gen\_mipmap\_image}}(\mbox{\hyperlink{classsource__module_1_1rhi_1_1rhi__module}{source\_module::rhi::rhi\_module}}*\ rhi,\ VkImage\ \mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}},\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a4c3bd78046e1e69b575cace337a4a9a3}{width}},\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a31d490b16f4b63c2afa4c7198ef2c31e}{height}},\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ mip\_levels);}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ VkSampler\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_a117af0e9027d1bdd4ade8eecff0779ef}{get\_or\_create\_mipmap\_sampler}}(\mbox{\hyperlink{glfw_2src_2internal_8h_aa9acbee1e762fde021511a1b47678a38}{VkPhysicalDevice}}\ physical\_device,\ VkDevice\ device,\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a4c3bd78046e1e69b575cace337a4a9a3}{width}},\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a31d490b16f4b63c2afa4c7198ef2c31e}{height}});}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ VkSampler\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_ab83c756cfaa9f51539d9fdb203d51643}{get\_or\_create\_nearest\_sampler}}(\mbox{\hyperlink{glfw_2src_2internal_8h_aa9acbee1e762fde021511a1b47678a38}{VkPhysicalDevice}}\ physical\_device,\ VkDevice\ device);}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ VkSampler\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_ade946eab3a14c2cc73a5329d39931106}{get\_or\_create\_linear\_sampler}}(\mbox{\hyperlink{glfw_2src_2internal_8h_aa9acbee1e762fde021511a1b47678a38}{VkPhysicalDevice}}\ physical\_device,\ VkDevice\ device);}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ std::unordered\_map<uint32\_t,\ VkSampler>\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_a1bf9cf05c98070c3c2b657ab0b336ceb}{m\_mipmap\_sampler\_map\_}};}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ VkSampler\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_a6089bc7fa4d9d8c9a5262c6ff9a3e2da}{m\_nearest\_sampler\_}};}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ VkSampler\ \mbox{\hyperlink{classsource__runtime_1_1vulkan__util_afda6f7a34839ccb34acf921ce9967c8e}{m\_linear\_sampler\_}};}
\DoxyCodeLine{00056\ \ \ \ \ \};}
\DoxyCodeLine{00057\ \}}

\end{DoxyCode}
