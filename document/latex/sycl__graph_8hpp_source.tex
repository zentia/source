\doxysection{sycl\+\_\+graph.\+hpp}
\hypertarget{sycl__graph_8hpp_source}{}\label{sycl__graph_8hpp_source}\index{external/taskflow/taskflow/sycl/sycl\_graph.hpp@{external/taskflow/taskflow/sycl/sycl\_graph.hpp}}
\mbox{\hyperlink{sycl__graph_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <CL/sycl.hpp>}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sycl__meta_8hpp}{sycl\_meta.hpp}}"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetf}{tf}}\ \{}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ syclGraph\ class}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{comment}{//\ class:\ syclGraph}}
\DoxyCodeLine{00014\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}\ :\ \textcolor{keyword}{public}\ CustomGraphBase\ \{}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_graph_a3a1ad814a9c6e30436d65bd58c27a898}{syclNode}};}
\DoxyCodeLine{00017\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_graph_af71bbea83ed08ec79c5e0472a1160973}{syclTask}};}
\DoxyCodeLine{00018\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_graph_a455510eca2667dc9fbd73f542cca61a2}{syclFlow}};}
\DoxyCodeLine{00019\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_graph_af043dd6f6a359602805d9c7dd7539cca}{Taskflow}};}
\DoxyCodeLine{00020\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_graph_a763b2f90bc53f92d680a635fe28e858e}{Executor}};}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classtf_1_1sycl_graph_a615372b204710abad8c7d0fc348cf3d7}{OFFLOADED}}\ =\ 0x01;}
\DoxyCodeLine{00023\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classtf_1_1sycl_graph_a5d578a56b27487a5b143ee0d893467ea}{TOPOLOGY\_CHANGED}}\ =\ 0x02;}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_a136aa75def38aadc810b9a60e537b9d3}{\string~syclGraph}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_a2d86636e6bc6c1f60dee31c5f269f5ec}{syclGraph}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}(\mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}\&\&);}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}\&\ \mbox{\hyperlink{classtf_1_1sycl_graph_aa91c60bfd5ba1a3cefca3a8d87471847}{operator\ =\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}\&\ \mbox{\hyperlink{classtf_1_1sycl_graph_aa91c60bfd5ba1a3cefca3a8d87471847}{operator\ =\ }}(\mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}\&\&);}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ ArgsT>}
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_a3a1ad814a9c6e30436d65bd58c27a898}{syclNode}}*\ \mbox{\hyperlink{classtf_1_1sycl_graph_ae84d6238affc0afc08c36acddbf1d720}{emplace\_back}}(ArgsT\&\&...);}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtf_1_1sycl_graph_adc2680572068244058429cd12a0687a6}{empty}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1sycl_graph_a1d8d234d24246553ffe523954178bb62}{clear}}();}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1sycl_graph_a68afa8542215855b2440e52b96938059}{dump}}(std::ostream\&,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*,\ \textcolor{keyword}{const}\ std::string\&)\ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classtf_1_1sycl_graph_ab303f1bfd47e734886b67d9aefe0ca69}{\_state}}\ \{0\};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ std::vector<std::unique\_ptr<syclNode>>\ \mbox{\hyperlink{classtf_1_1sycl_graph_aaeea51a8d8a957a5a7e7e93916855f75}{\_nodes}};}
\DoxyCodeLine{00049\ \};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00052\ \textcolor{comment}{//\ syclNode\ definitions}}
\DoxyCodeLine{00053\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{comment}{//\ class:\ syclNode}}
\DoxyCodeLine{00056\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_node_a077dd6c80efd5ad9564ada1c48839bc3}{syclNode}}\ \{}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_node_a2be5fe5cb3b27fa377ecd80e83d7ffb5}{syclGraph}};}
\DoxyCodeLine{00059\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_node_af71bbea83ed08ec79c5e0472a1160973}{syclTask}};}
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_node_a455510eca2667dc9fbd73f542cca61a2}{syclFlow}};}
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_node_af043dd6f6a359602805d9c7dd7539cca}{Taskflow}};}
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1sycl_node_a763b2f90bc53f92d680a635fe28e858e}{Executor}};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1sycl_node_1_1_empty}{Empty}}\ \{}
\DoxyCodeLine{00065\ \ \ \};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1sycl_node_1_1_c_g_h_aae41ed775df14024d2a8a2c4f0216e75}{CGH}}\ \{}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(sycl::handler\&)>\ \mbox{\hyperlink{structtf_1_1sycl_node_1_1_c_g_h_aae458aa12d62a12cf563bdc62aa1db15}{work}};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{structtf_1_1sycl_node_1_1_c_g_h_aae41ed775df14024d2a8a2c4f0216e75}{CGH}}(\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\&\ \mbox{\hyperlink{structfunc}{func}})\ :\ \mbox{\hyperlink{structtf_1_1sycl_node_1_1_c_g_h_aae458aa12d62a12cf563bdc62aa1db15}{work}}\ \{\mbox{\hyperlink{namespacestd}{std}}::forward<\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}>(\mbox{\hyperlink{structfunc}{func}})\}\ \{\}}
\DoxyCodeLine{00073\ \ \ \};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1sycl_node_ae8d5ac82e5a3568eaa61839129e212e1}{handle\_t}}\ =\ std::variant<}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{structtf_1_1sycl_node_1_1_empty}{Empty}},}
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{structtf_1_1sycl_node_1_1_c_g_h}{CGH}}}
\DoxyCodeLine{00078\ \ \ >;}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{comment}{//\ variant\ index}}
\DoxyCodeLine{00083\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classtf_1_1sycl_node_a63873a64fb7559595578b64d585f6a2d}{EMPTY}}\ =\ \mbox{\hyperlink{namespacetf_a660b137a074f8276e469091c6dc3f675}{get\_index\_v<Empty,\ handle\_t>}};}
\DoxyCodeLine{00084\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classtf_1_1sycl_node_a45bea8e1017f00996046da763b54c5d4}{COMMAND\_GROUP\_HANDLER}}\ =\ \mbox{\hyperlink{namespacetf_a660b137a074f8276e469091c6dc3f675}{get\_index\_v<CGH,\ handle\_t>}};}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_node_a077dd6c80efd5ad9564ada1c48839bc3}{syclNode}}()\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ ArgsT>}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_node_a02b7eaf255ead8e3e3238d8b2705c938}{syclNode}}(\mbox{\hyperlink{classtf_1_1sycl_node_a2be5fe5cb3b27fa377ecd80e83d7ffb5}{syclGraph}}\&,\ ArgsT\&\&...);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_node_a2be5fe5cb3b27fa377ecd80e83d7ffb5}{syclGraph}}\&\ \mbox{\hyperlink{classtf_1_1sycl_node_a71156b1f1f26caea1ac8181368e169e3}{\_graph}};}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ std::string\ \mbox{\hyperlink{classtf_1_1sycl_node_a124e1400b6795eb0556222545e475b60}{\_name}};}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classtf_1_1sycl_node_ac756f759ef3e1f8cac25dd8b38a3d1b7}{\_level}};}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ sycl::event\ \mbox{\hyperlink{classtf_1_1sycl_node_aea60ecb4e6bac334409ba817d19daeab}{\_event}};}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \mbox{\hyperlink{classtf_1_1sycl_node_ae8d5ac82e5a3568eaa61839129e212e1}{handle\_t}}\ \mbox{\hyperlink{classtf_1_1sycl_node_a7a0c925c2bae63b6fc46ec0ac5b7774b}{\_handle}};}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classtf_1_1_small_vector}{SmallVector<syclNode*>}}\ \mbox{\hyperlink{classtf_1_1sycl_node_a36abf9a527475011b5e803670c2537e0}{\_successors}};}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{classtf_1_1_small_vector}{SmallVector<syclNode*>}}\ \mbox{\hyperlink{classtf_1_1sycl_node_a599627f2d4cb4bd75eff7b784e4c893d}{\_dependents}};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1sycl_node_a58f95b1a417bf957b96715bacd81dd09}{\_precede}}(\mbox{\hyperlink{classtf_1_1sycl_node_a077dd6c80efd5ad9564ada1c48839bc3}{syclNode}}*);}
\DoxyCodeLine{00107\ \};}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00110\ \textcolor{comment}{//\ syclNode\ definitions}}
\DoxyCodeLine{00111\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{comment}{//\ Constructor}}
\DoxyCodeLine{00114\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ ArgsT>}
\DoxyCodeLine{00115\ \mbox{\hyperlink{classtf_1_1sycl_node_a077dd6c80efd5ad9564ada1c48839bc3}{syclNode::syclNode}}(\mbox{\hyperlink{classtf_1_1sycl_node_a2be5fe5cb3b27fa377ecd80e83d7ffb5}{syclGraph}}\&\ \mbox{\hyperlink{offscreen_8c_a8cf17d727651616de6f2b79ef32170cd}{g}},\ ArgsT\&\&...\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})\ :}
\DoxyCodeLine{00116\ \ \ \mbox{\hyperlink{classtf_1_1sycl_node_a71156b1f1f26caea1ac8181368e169e3}{\_graph}}\ \ \{\mbox{\hyperlink{offscreen_8c_a8cf17d727651616de6f2b79ef32170cd}{g}}\},}
\DoxyCodeLine{00117\ \ \ \mbox{\hyperlink{classtf_1_1sycl_node_a7a0c925c2bae63b6fc46ec0ac5b7774b}{\_handle}}\ \{\mbox{\hyperlink{namespacestd}{std}}::forward<ArgsT>(\mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})...\}\ \{}
\DoxyCodeLine{00118\ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \textcolor{comment}{//\ Procedure:\ \_precede}}
\DoxyCodeLine{00121\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1sycl_node_a58f95b1a417bf957b96715bacd81dd09}{syclNode::\_precede}}(\mbox{\hyperlink{classtf_1_1sycl_node_a077dd6c80efd5ad9564ada1c48839bc3}{syclNode}}*\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}})\ \{}
\DoxyCodeLine{00122\ \ \ \mbox{\hyperlink{classtf_1_1sycl_node_a71156b1f1f26caea1ac8181368e169e3}{\_graph}}.\_state\ |=\ \mbox{\hyperlink{classtf_1_1sycl_graph_a5d578a56b27487a5b143ee0d893467ea}{syclGraph::TOPOLOGY\_CHANGED}};}
\DoxyCodeLine{00123\ \ \ \mbox{\hyperlink{classtf_1_1sycl_node_a36abf9a527475011b5e803670c2537e0}{\_successors}}.push\_back(\mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}});}
\DoxyCodeLine{00124\ \ \ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}-\/>\_dependents.push\_back(\textcolor{keyword}{this});}
\DoxyCodeLine{00125\ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00128\ \textcolor{comment}{//\ syclGraph\ definitions}}
\DoxyCodeLine{00129\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \textcolor{comment}{//\ Move\ constructor}}
\DoxyCodeLine{00132\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph::syclGraph}}(\mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}\&\&\ \mbox{\hyperlink{offscreen_8c_a8cf17d727651616de6f2b79ef32170cd}{g}})\ :}
\DoxyCodeLine{00133\ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_aaeea51a8d8a957a5a7e7e93916855f75}{\_nodes}}\ \{\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{offscreen_8c_a8cf17d727651616de6f2b79ef32170cd}{g}}.\mbox{\hyperlink{classtf_1_1sycl_graph_aaeea51a8d8a957a5a7e7e93916855f75}{\_nodes}})\}\ \{}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ assert(\mbox{\hyperlink{offscreen_8c_a8cf17d727651616de6f2b79ef32170cd}{g}}.\_nodes.empty());}
\DoxyCodeLine{00136\ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \textcolor{comment}{//\ Move\ assignment}}
\DoxyCodeLine{00139\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}\&\ \mbox{\hyperlink{classtf_1_1sycl_graph_aa91c60bfd5ba1a3cefca3a8d87471847}{syclGraph::operator\ =\ }}(\mbox{\hyperlink{classtf_1_1sycl_graph_a66dd84853400245411cf482fd9f18faa}{syclGraph}}\&\&\ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}})\ \{}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \textcolor{comment}{//\ lhs}}
\DoxyCodeLine{00142\ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_aaeea51a8d8a957a5a7e7e93916855f75}{\_nodes}}\ =\ std::move(\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.\_nodes);}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ assert(\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.\_nodes.empty());}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00147\ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \textcolor{comment}{//\ Function:\ empty}}
\DoxyCodeLine{00150\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtf_1_1sycl_graph_adc2680572068244058429cd12a0687a6}{syclGraph::empty}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00151\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1sycl_graph_aaeea51a8d8a957a5a7e7e93916855f75}{\_nodes}}.empty();}
\DoxyCodeLine{00152\ \}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \textcolor{comment}{//\ Procedure:\ clear}}
\DoxyCodeLine{00155\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1sycl_graph_a1d8d234d24246553ffe523954178bb62}{syclGraph::clear}}()\ \{}
\DoxyCodeLine{00156\ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_ab303f1bfd47e734886b67d9aefe0ca69}{\_state}}\ =\ \mbox{\hyperlink{classtf_1_1sycl_graph_a5d578a56b27487a5b143ee0d893467ea}{syclGraph::TOPOLOGY\_CHANGED}};}
\DoxyCodeLine{00157\ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_aaeea51a8d8a957a5a7e7e93916855f75}{\_nodes}}.clear();}
\DoxyCodeLine{00158\ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \textcolor{comment}{//\ Function:\ emplace\_back}}
\DoxyCodeLine{00161\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ ArgsT>}
\DoxyCodeLine{00162\ \mbox{\hyperlink{classtf_1_1sycl_graph_a3a1ad814a9c6e30436d65bd58c27a898}{syclNode}}*\ \mbox{\hyperlink{classtf_1_1sycl_graph_ae84d6238affc0afc08c36acddbf1d720}{syclGraph::emplace\_back}}(ArgsT\&\&...\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})\ \{}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_ab303f1bfd47e734886b67d9aefe0ca69}{\_state}}\ |=\ \mbox{\hyperlink{classtf_1_1sycl_graph_a5d578a56b27487a5b143ee0d893467ea}{syclGraph::TOPOLOGY\_CHANGED}};}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \textcolor{keyword}{auto}\ node\ =\ std::make\_unique<syclNode>(std::forward<ArgsT>(\mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})...);}
\DoxyCodeLine{00167\ \ \ \mbox{\hyperlink{classtf_1_1sycl_graph_aaeea51a8d8a957a5a7e7e93916855f75}{\_nodes}}.emplace\_back(std::move(node));}
\DoxyCodeLine{00168\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1sycl_graph_aaeea51a8d8a957a5a7e7e93916855f75}{\_nodes}}.back().get();}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \textcolor{comment}{//\ TODO:\ object\ pool}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \textcolor{comment}{//auto\ node\ =\ new\ syclNode(std::forward<ArgsT>(args)...);}}
\DoxyCodeLine{00173\ \ \ \textcolor{comment}{//\_nodes.push\_back(node);}}
\DoxyCodeLine{00174\ \ \ \textcolor{comment}{//return\ node;}}
\DoxyCodeLine{00175\ \}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \textcolor{comment}{//\ Procedure:\ dump\ the\ graph\ to\ a\ DOT\ format}}
\DoxyCodeLine{00178\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1sycl_graph_a68afa8542215855b2440e52b96938059}{syclGraph::dump}}(}
\DoxyCodeLine{00179\ \ \ std::ostream\&\ os,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ root,\ \textcolor{keyword}{const}\ std::string\&\ root\_name}
\DoxyCodeLine{00180\ )\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \textcolor{comment}{//\ recursive\ dump\ with\ stack}}
\DoxyCodeLine{00183\ \ \ std::stack<std::tuple<const\ syclGraph*,\ const\ syclNode*,\ int>>\ \mbox{\hyperlink{namespacestack}{stack}};}
\DoxyCodeLine{00184\ \ \ \mbox{\hyperlink{namespacestack}{stack}}.push(std::make\_tuple(\textcolor{keyword}{this},\ \textcolor{keyword}{nullptr},\ 1));}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \textcolor{keywordtype}{int}\ pl\ =\ 0;}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \textcolor{keywordflow}{while}(!\mbox{\hyperlink{namespacestack}{stack}}.empty())\ \{}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keyword}{auto}\ [graph,\ \mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}},\ l]\ =\ \mbox{\hyperlink{namespacestack}{stack}}.top();}
\DoxyCodeLine{00191\ \ \ \ \ \mbox{\hyperlink{namespacestack}{stack}}.pop();}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<pl-\/l+1;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)\ \{}
\DoxyCodeLine{00194\ \ \ \ \ \ \ os\ <<\ \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}};}
\DoxyCodeLine{00195\ \ \ \ \ \}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(root)\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ os\ <<\ \textcolor{stringliteral}{"{}subgraph\ cluster\_p"{}}\ <<\ root\ <<\ \textcolor{stringliteral}{"{}\ \{\(\backslash\)nlabel=\(\backslash\)"{}syclFlow:\ "{}};}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(root\_name.empty())\ os\ <<\ \textcolor{charliteral}{'p'}\ <<\ root;}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ os\ <<\ root\_name;}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{};\(\backslash\)n"{}}\ <<\ \textcolor{stringliteral}{"{}color=\(\backslash\)"{}red\(\backslash\)"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ os\ <<\ \textcolor{stringliteral}{"{}digraph\ syclFlow\ \{\(\backslash\)n"{}};}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00207\ \ \ \ \ \}}
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00209\ \ \ \ \ \ \ os\ <<\ \textcolor{stringliteral}{"{}subgraph\ cluster\_p"{}}\ <<\ \mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}\ <<\ \textcolor{stringliteral}{"{}\ \{\(\backslash\)nlabel=\(\backslash\)"{}syclSubflow:\ "{}};}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}-\/>\_name.empty())\ os\ <<\ \textcolor{charliteral}{'p'}\ <<\ \mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}};}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ os\ <<\ \mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}-\/>\_name;}
\DoxyCodeLine{00212\ \ \ \ \ \ \ os\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{};\(\backslash\)n"{}}\ <<\ \textcolor{stringliteral}{"{}color=\(\backslash\)"{}purple\(\backslash\)"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00213\ \ \ \ \ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\&\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ :\ graph-\/>\_nodes)\ \{}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \ \ \ \ \ \ os\ <<\ \textcolor{charliteral}{'p'}\ <<\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}.get()\ <<\ \textcolor{stringliteral}{"{}[label=\(\backslash\)"{}"{}};}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}-\/>\_name.empty())\ \{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ os\ <<\ \textcolor{charliteral}{'p'}\ <<\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}.get()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ os\ <<\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}-\/>\_name\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ os\ <<\ \textcolor{stringliteral}{"{}];\(\backslash\)n"{}};}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}\ :\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}-\/>\_successors)\ \{}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ os\ <<\ \textcolor{charliteral}{'p'}\ <<\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}.get()\ <<\ \textcolor{stringliteral}{"{}\ -\/>\ "{}}\ <<\ \textcolor{charliteral}{'p'}\ <<\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}\ <<\ \textcolor{stringliteral}{"{};\(\backslash\)n"{}};}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}-\/>\_successors.size()\ ==\ 0)\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(root)\ \{}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ os\ <<\ \textcolor{charliteral}{'p'}\ <<\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}.get()\ <<\ \textcolor{stringliteral}{"{}\ -\/>\ p"{}}\ <<\ root\ <<\ \textcolor{stringliteral}{"{};\(\backslash\)n"{}};}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ os\ <<\ \textcolor{charliteral}{'p'}\ <<\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}.get()\ <<\ \textcolor{stringliteral}{"{}\ -\/>\ p"{}}\ <<\ \mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}\ <<\ \textcolor{stringliteral}{"{};\(\backslash\)n"{}};}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00240\ \ \ \ \ \}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{comment}{//\ set\ the\ previous\ level}}
\DoxyCodeLine{00243\ \ \ \ \ pl\ =\ l;}
\DoxyCodeLine{00244\ \ \ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<pl;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)\ \{}
\DoxyCodeLine{00247\ \ \ \ \ os\ <<\ \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}};}
\DoxyCodeLine{00248\ \ \ \}}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \}\ \ \textcolor{comment}{//\ end\ of\ namespace\ tf\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ }

\end{DoxyCode}
