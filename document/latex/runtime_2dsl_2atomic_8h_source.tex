\doxysection{atomic.\+h}
\hypertarget{runtime_2dsl_2atomic_8h_source}{}\label{runtime_2dsl_2atomic_8h_source}\index{runtime/dsl/atomic.h@{runtime/dsl/atomic.h}}
\mbox{\hyperlink{runtime_2dsl_2atomic_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dll__export_8h}{runtime/core/dll\_export.h}}>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{atomic__ref__node_8h}{runtime/ast/atomic\_ref\_node.h}}>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{expr_8h}{runtime/dsl/expr.h}}>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail}{luisa::compute::detail}}\ \{}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}>}
\DoxyCodeLine{00010\ \textcolor{keyword}{class\ }AtomicRef;}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \{}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_node}{AtomicRefNode}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_ac697f553cd88a6170f811a415bd73be7}{\_access\_chain}}\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_node}{AtomicRefNode}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}})\ noexcept}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_ac697f553cd88a6170f811a415bd73be7}{\_access\_chain}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}\}\ \{\}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00022\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_ac596d3f12084411a76ddf90cfcef2200}{AtomicRefBase}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \&\&)\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \&\&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \&operator=(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \mbox{\hyperlink{test__concurrent__queue__whitebox_8cpp_a363c8dcebb1777654ad1703136a14ec8}{protected}}:}
\DoxyCodeLine{00028\ \ \ \ \ [[nodiscard]]\ auto\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_ac697f553cd88a6170f811a415bd73be7}{\_access\_chain}};\ \}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00031\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a9b87549d90386b07ede2dde287514342}{access}}(I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def}}(std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}));}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_ac697f553cd88a6170f811a415bd73be7}{\_access\_chain}}-\/>access(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}.expression())\};}
\DoxyCodeLine{00034\ \ \ \ \ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00037\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_ac697f553cd88a6170f811a415bd73be7}{\_access\_chain}}-\/>access(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\};}
\DoxyCodeLine{00039\ \ \ \ \ \}}
\DoxyCodeLine{00040\ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#define\ LUISA\_ATOMIC\_REF\_COMMON()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{public:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\ \ \ \ explicit\ AtomicRef(const\ AtomicRefNode\ *access\_chain)\ noexcept\ \(\backslash\)}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ :\ AtomicRefBase\{access\_chain\}\ \{\}}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00048\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef}}\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \{}
\DoxyCodeLine{00049\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{runtime_2dsl_2atomic_8h_a44cb26d14bee2f1c9c143c198d644bce}{LUISA\_ATOMIC\_REF\_COMMON}}()}
\DoxyCodeLine{00051\ \};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{requires}\ std::same\_as<T,\ int>\ ||\ std::same\_as<T,\ uint>}
\DoxyCodeLine{00055\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef}}<\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}>\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \{}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{runtime_2dsl_2atomic_8h_a44cb26d14bee2f1c9c143c198d644bce}{LUISA\_ATOMIC\_REF\_COMMON}}()}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_ac5b50a449a59d1b2ef70f8ce03087333}{exchange}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ desired)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167aea42615794a50003ac0ceea3ac79b5cd}{CallOp::ATOMIC\_EXCHANGE}},}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \{desired.expression()\}));}
\DoxyCodeLine{00066\ \ \ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_a41b333a49624463c29914e73671ac613}{compare\_exchange}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ \mbox{\hyperlink{test__openmp_8cpp_a8c5acfea4fa9e75cc274013c48144f36}{expected}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ desired)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a30d5368e77f66a4dd39faf93c3bdb976}{CallOp::ATOMIC\_COMPARE\_EXCHANGE}},}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \{\mbox{\hyperlink{test__openmp_8cpp_a8c5acfea4fa9e75cc274013c48144f36}{expected}}.expression(),\ desired.expression()\}));}
\DoxyCodeLine{00073\ \ \ \ \ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_a723ef954ddfaaabdaae28be2028b6188}{fetch\_add}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a38c185f54b19fb8c429624d21a57ffdf}{CallOp::ATOMIC\_FETCH\_ADD}},}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00080\ \ \ \ \ \};}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_a98aa231b4b689c7f76baf2f2d00f910d}{fetch\_sub}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a0b141318c983bb72202fd70732f02e2c}{CallOp::ATOMIC\_FETCH\_SUB}},}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00087\ \ \ \ \ \};}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_ad9583c994563c28d54061aae77b96caf}{fetch\_and}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a3edec1f0b15d153399753bc62758afd6}{CallOp::ATOMIC\_FETCH\_AND}},}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00094\ \ \ \ \ \};}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_ab380cdb67768becf36717468eccbcff2}{fetch\_or}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167aafb2e9edaaeaec8defbceb9857e49b22}{CallOp::ATOMIC\_FETCH\_OR}},}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00101\ \ \ \ \ \};}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_aa4914b083aa367cf792a3f1811dd6d17}{fetch\_xor}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167aa6e1936ff027df30d6bcfd493c404a67}{CallOp::ATOMIC\_FETCH\_XOR}},}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00108\ \ \ \ \ \};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_af2946aa2b215dac708af6e9e497b04f7}{fetch\_min}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a770ec6fdf876f2af49df215ef2707ba3}{CallOp::ATOMIC\_FETCH\_MIN}},}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00115\ \ \ \ \ \};}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_a378ced306a97de6ee245edbfd25d1e45}{fetch\_max}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a554b74a0b68f01a500fa6ca85cb358a0}{CallOp::ATOMIC\_FETCH\_MAX}},}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00122\ \ \ \ \ \};}
\DoxyCodeLine{00123\ \};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{requires}\ std::same\_as<T,\ float>}
\DoxyCodeLine{00127\ \textcolor{keyword}{class\ }AtomicRef<\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}>\ :\ \textcolor{keyword}{private}\ AtomicRefBase\ \{}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{runtime_2dsl_2atomic_8h_a44cb26d14bee2f1c9c143c198d644bce}{LUISA\_ATOMIC\_REF\_COMMON}}()}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ public:}
\DoxyCodeLine{00134\ \ \ \ \ auto\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_ac5b50a449a59d1b2ef70f8ce03087333}{exchange}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}>\ desired)\ noexcept\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167aea42615794a50003ac0ceea3ac79b5cd}{CallOp::ATOMIC\_EXCHANGE}},}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \{desired.expression()\}));}
\DoxyCodeLine{00138\ \ \ \ \ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_a41b333a49624463c29914e73671ac613}{compare\_exchange}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ \mbox{\hyperlink{test__openmp_8cpp_a8c5acfea4fa9e75cc274013c48144f36}{expected}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ desired)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a30d5368e77f66a4dd39faf93c3bdb976}{CallOp::ATOMIC\_COMPARE\_EXCHANGE}},}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \{\mbox{\hyperlink{test__openmp_8cpp_a8c5acfea4fa9e75cc274013c48144f36}{expected}}.expression(),\ desired.expression()\}));}
\DoxyCodeLine{00145\ \ \ \ \ \}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_a723ef954ddfaaabdaae28be2028b6188}{fetch\_add}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a38c185f54b19fb8c429624d21a57ffdf}{CallOp::ATOMIC\_FETCH\_ADD}},}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00152\ \ \ \ \ \};}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_a98aa231b4b689c7f76baf2f2d00f910d}{fetch\_sub}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a0b141318c983bb72202fd70732f02e2c}{CallOp::ATOMIC\_FETCH\_SUB}},}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00159\ \ \ \ \ \};}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_af2946aa2b215dac708af6e9e497b04f7}{fetch\_min}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a770ec6fdf876f2af49df215ef2707ba3}{CallOp::ATOMIC\_FETCH\_MIN}},}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00166\ \ \ \ \ \};}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_t_01_4_a378ced306a97de6ee245edbfd25d1e45}{fetch\_max}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ val)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a373c6b1bb2388440d0531ef95d7e86c2}{access\_chain}}()-\/>operate(}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_ae06d2d95c37a4a56e1f650b9fabe3167a554b74a0b68f01a500fa6ca85cb358a0}{CallOp::ATOMIC\_FETCH\_MAX}},}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \{val.expression()\}));}
\DoxyCodeLine{00173\ \ \ \ \ \};}
\DoxyCodeLine{00174\ \};}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \textcolor{comment}{/*}}
\DoxyCodeLine{00177\ \textcolor{comment}{\ *\ specialize\ for\ built-\/in\ aggregate\ types}}
\DoxyCodeLine{00178\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \textcolor{comment}{//\ arrays}}
\DoxyCodeLine{00181\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00182\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{classarray}{array}}<T,\ N>>\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \{}
\DoxyCodeLine{00183\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00184\ \ \ \ \ \mbox{\hyperlink{runtime_2dsl_2atomic_8h_a44cb26d14bee2f1c9c143c198d644bce}{LUISA\_ATOMIC\_REF\_COMMON}}()}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00186\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01std_1_1array_3_01_t_00_01_n_01_4_01_4_aa9da8803248d19da8932240c44319c50}{operator[]}}(I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a9b87549d90386b07ede2dde287514342}{access<T>}}(std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}));}
\DoxyCodeLine{00188\ \ \ \ \ \}}
\DoxyCodeLine{00189\ \};}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00192\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{classarray}{array}}<T,\ N>\ \&>\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \{}
\DoxyCodeLine{00193\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00194\ \ \ \ \ \mbox{\hyperlink{runtime_2dsl_2atomic_8h_a44cb26d14bee2f1c9c143c198d644bce}{LUISA\_ATOMIC\_REF\_COMMON}}()}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00196\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01std_1_1array_3_01_t_00_01_n_01_4_01_6_01_4_a1452b8bffb71166e56e017da328eef20}{operator[]}}(I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a9b87549d90386b07ede2dde287514342}{access<T>}}(std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}));}
\DoxyCodeLine{00198\ \ \ \ \ \}}
\DoxyCodeLine{00199\ \};}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \textcolor{comment}{//\ vectors}}
\DoxyCodeLine{00202\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00203\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef}}<\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}},\ 2>>\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \{}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00206\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_vector_3_01_t_00_012_01_4_01_4_ad4a3bf42db1a5456aec1d69379328d67}{x}}\{this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member<T>}}(0\mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__for_2seismic_2main_8cpp_a2a671aca47b8db55cef1dd7174adad6f}{u}})\};}
\DoxyCodeLine{00207\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_vector_3_01_t_00_012_01_4_01_4_a56814b56db1d962490d1823dba83cc9c}{y}}\{this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member<T>}}(1u)\};}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00210\ \ \ \ \ \mbox{\hyperlink{runtime_2dsl_2atomic_8h_a44cb26d14bee2f1c9c143c198d644bce}{LUISA\_ATOMIC\_REF\_COMMON}}()}
\DoxyCodeLine{00211\ \ \ \ \ template<typename\ I>}
\DoxyCodeLine{00212\ \ \ \ \ [[nodiscard]]\ auto\ operator[](I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ const\ noexcept\ \{}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a9b87549d90386b07ede2dde287514342}{access<T>}}(std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}));}
\DoxyCodeLine{00214\ \ \ \ \ \}}
\DoxyCodeLine{00215\ \};}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00218\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef}}<\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}},\ 3>>\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \{}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00221\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_vector_3_01_t_00_013_01_4_01_4_a43f35f3e89e40bf874ee9fbd8c2672fe}{x}}\{this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member<T>}}(0\mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__for_2seismic_2main_8cpp_a2a671aca47b8db55cef1dd7174adad6f}{u}})\};}
\DoxyCodeLine{00222\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_vector_3_01_t_00_013_01_4_01_4_a31824ebfef90a136354379e801b86686}{y}}\{this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member<T>}}(1u)\};}
\DoxyCodeLine{00223\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_vector_3_01_t_00_013_01_4_01_4_ace6ac54d17d63884fbe5a04741996de1}{z}}\{this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member<T>}}(2u)\};}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00226\ \ \ \ \ \mbox{\hyperlink{runtime_2dsl_2atomic_8h_a44cb26d14bee2f1c9c143c198d644bce}{LUISA\_ATOMIC\_REF\_COMMON}}()}
\DoxyCodeLine{00227\ \ \ \ \ template<typename\ I>}
\DoxyCodeLine{00228\ \ \ \ \ [[nodiscard]]\ auto\ operator[](I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ const\ noexcept\ \{}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a9b87549d90386b07ede2dde287514342}{access<T>}}(std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}));}
\DoxyCodeLine{00230\ \ \ \ \ \}}
\DoxyCodeLine{00231\ \};}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00234\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef}}<\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}},\ 4>>\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \{}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00237\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_vector_3_01_t_00_014_01_4_01_4_afac5832a8262e9752d9071a80708de86}{x}}\{this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member<T>}}(0\mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__for_2seismic_2main_8cpp_a2a671aca47b8db55cef1dd7174adad6f}{u}})\};}
\DoxyCodeLine{00238\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_vector_3_01_t_00_014_01_4_01_4_a2ca1fb2f1db30f1cc5809bc9eb5d0d9c}{y}}\{this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member<T>}}(1u)\};}
\DoxyCodeLine{00239\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_vector_3_01_t_00_014_01_4_01_4_a55e5393bc5d100ca271a97f698e9ca84}{z}}\{this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member<T>}}(2u)\};}
\DoxyCodeLine{00240\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef<T>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_vector_3_01_t_00_014_01_4_01_4_a47db25d060b6386bae8c18fa78274b34}{w}}\{this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member<T>}}(3u)\};}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00243\ \ \ \ \ \mbox{\hyperlink{runtime_2dsl_2atomic_8h_a44cb26d14bee2f1c9c143c198d644bce}{LUISA\_ATOMIC\_REF\_COMMON}}()}
\DoxyCodeLine{00244\ \ \ \ \ template<typename\ I>}
\DoxyCodeLine{00245\ \ \ \ \ [[nodiscard]]\ auto\ operator[](I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ const\ noexcept\ \{}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a9b87549d90386b07ede2dde287514342}{access<T>}}(std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}));}
\DoxyCodeLine{00247\ \ \ \ \ \}}
\DoxyCodeLine{00248\ \};}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \textcolor{comment}{//\ matrices}}
\DoxyCodeLine{00251\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00252\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef}}<\mbox{\hyperlink{structluisa_1_1_matrix}{Matrix}}<\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}>>\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \{}
\DoxyCodeLine{00253\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00254\ \ \ \ \ \mbox{\hyperlink{runtime_2dsl_2atomic_8h_a44cb26d14bee2f1c9c143c198d644bce}{LUISA\_ATOMIC\_REF\_COMMON}}()}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00256\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01_matrix_3_01_n_01_4_01_4_a34b2a5dcc72624fadd17a8c67b16185f}{operator[]}}(I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a9b87549d90386b07ede2dde287514342}{access<Vector<float,\ N>}}>(std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}));}
\DoxyCodeLine{00258\ \ \ \ \ \}}
\DoxyCodeLine{00259\ \};}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \textcolor{comment}{//\ tuples}}
\DoxyCodeLine{00262\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ Ts>}
\DoxyCodeLine{00263\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref}{AtomicRef}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{classtuple}{tuple}}<Ts...>>\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_af726902ab2c59ed6efd29eb527d7abfa}{AtomicRefBase}}\ \{}
\DoxyCodeLine{00264\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00265\ \ \ \ \ \mbox{\hyperlink{runtime_2dsl_2atomic_8h_a44cb26d14bee2f1c9c143c198d644bce}{LUISA\_ATOMIC\_REF\_COMMON}}()}
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ i>}
\DoxyCodeLine{00267\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_3_01std_1_1tuple_3_01_ts_8_8_8_01_4_01_4_a692839f9c952f910c41ec65757c7cad1}{get}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \textcolor{keyword}{sizeof}...(Ts));}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ =\ std::tuple\_element\_t<\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}},\ std::tuple<Ts...>>;}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_atomic_ref_base_a5e49a298412322ba4eb6469d2a08b8bf}{member<T>}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00271\ \ \ \ \ \}}
\DoxyCodeLine{00272\ \};}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \textcolor{preprocessor}{\#undef\ LUISA\_ATOMIC\_REF\_COMMON}}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \}\textcolor{comment}{//\ namespace\ luisa::compute::detail}}
\DoxyCodeLine{00277\ }

\end{DoxyCode}
