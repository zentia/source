\doxysection{scheduler\+\_\+common.\+h}
\hypertarget{scheduler__common_8h_source}{}\label{scheduler__common_8h_source}\index{external/taskflow/3rd-\/party/tbb/src/tbb/scheduler\_common.h@{external/taskflow/3rd-\/party/tbb/src/tbb/scheduler\_common.h}}
\mbox{\hyperlink{scheduler__common_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#ifndef\ \_TBB\_scheduler\_common\_H}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ \_TBB\_scheduler\_common\_H}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbb__machine_8h}{tbb/tbb\_machine.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cache__aligned__allocator_8h}{tbb/cache\_aligned\_allocator.h}}"{}}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{string_8h}{string.h}}>}\ \ \textcolor{comment}{//\ for\ memset,\ memcpy,\ memmove}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbb__statistics_8h}{tbb\_statistics.h}}"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#if\ TBB\_USE\_ASSERT\ >\ 1}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ TBB\_USE\_ASSERT\ >\ 1\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{comment}{/*\ Temporarily\ change\ "{}private"{}\ to\ "{}public"{}\ while\ including\ "{}tbb/task.h"{}.}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ \ \ This\ hack\ allows\ us\ to\ avoid\ publishing\ internal\ types\ and\ methods}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ \ \ in\ the\ public\ header\ files\ just\ for\ sake\ of\ friend\ declarations.\ */}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#ifndef\ private}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\ \ \ \ \#define\ private\ public}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\ \ \ \ \#define\ undef\_private}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{task_8h}{tbb/task.h}}"{}}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbb__exception_8h}{tbb/tbb\_exception.h}}"{}}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#ifdef\ undef\_private}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\ \ \ \ \#undef\ private}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#ifndef\ \_\_TBB\_SCHEDULER\_MUTEX\_TYPE}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#define\ \_\_TBB\_SCHEDULER\_MUTEX\_TYPE\ tbb::spin\_mutex}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00049\ \textcolor{comment}{//\ TODO:\ add\ conditional\ inclusion\ based\ on\ specified\ type}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2include_2tbb_2spin__mutex_8h}{tbb/spin\_mutex.h}}"{}}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{comment}{//\ This\ macro\ is\ an\ attempt\ to\ get\ rid\ of\ ugly\ ifdefs\ in\ the\ shared\ parts\ of\ the\ code.}}
\DoxyCodeLine{00053\ \textcolor{comment}{//\ It\ drops\ the\ second\ argument\ depending\ on\ whether\ the\ controlling\ macro\ is\ defined.}}
\DoxyCodeLine{00054\ \textcolor{comment}{//\ The\ first\ argument\ is\ just\ a\ convenience\ allowing\ to\ keep\ comma\ before\ the\ macro\ usage.}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#if\ \_\_TBB\_TASK\_GROUP\_CONTEXT}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_CONTEXT\_ARG1(context)\ context}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_CONTEXT\_ARG(arg1,\ context)\ arg1,\ context}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{/*\ !\_\_TBB\_TASK\_GROUP\_CONTEXT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_CONTEXT\_ARG1(context)}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_CONTEXT\_ARG(arg1,\ context)\ arg1}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ !\_\_TBB\_TASK\_GROUP\_CONTEXT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#if\ \_\_TBB\_TASK\_ISOLATION}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_ISOLATION\_EXPR(isolation)\ isolation}}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_ISOLATION\_ARG(arg1,\ isolation)\ arg1,\ isolation}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_ISOLATION\_EXPR(isolation)}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_ISOLATION\_ARG(arg1,\ isolation)\ arg1}}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_TASK\_ISOLATION\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#if\ DO\_TBB\_TRACE}}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#include\ <cstdio>}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#define\ TBB\_TRACE(x)\ ((void)std::printf\ x)}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#define\ TBB\_TRACE(x)\ ((void)(0))}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ DO\_TBB\_TRACE\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#if\ !\_\_TBB\_CPU\_CTL\_ENV\_PRESENT}}
\DoxyCodeLine{00080\ \textcolor{preprocessor}{\#include\ <fenv.h>}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#if\ \_MSC\_VER\ \&\&\ !defined(\_\_INTEL\_COMPILER)}}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{comment}{//\ Workaround\ for\ overzealous\ compiler\ warnings}}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//\ These\ particular\ warnings\ are\ so\ ubiquitous\ that\ no\ attempt\ is\ made\ to\ narrow}}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//\ the\ scope\ of\ the\ warnings.}}
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\ \ \ \ \#pragma\ warning\ (disable:\ 4100\ 4127\ 4312\ 4244\ 4267\ 4706)}}
\DoxyCodeLine{00088\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb}{tbb}}\ \{}
\DoxyCodeLine{00091\ \textcolor{keyword}{namespace\ }interface7\ \{}
\DoxyCodeLine{00092\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00093\ \textcolor{keyword}{class\ }task\_arena\_base;}
\DoxyCodeLine{00094\ \textcolor{keyword}{class\ }delegated\_task;}
\DoxyCodeLine{00095\ \textcolor{keyword}{class\ }wait\_task;}
\DoxyCodeLine{00096\ \}\}}
\DoxyCodeLine{00097\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00098\ \textcolor{keyword}{using\ namespace\ }interface7::internal;}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{keyword}{class\ }\mbox{\hyperlink{structarena}{arena}};}
\DoxyCodeLine{00101\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ SchedulerTraits>\ \textcolor{keyword}{class\ }custom\_scheduler;}
\DoxyCodeLine{00102\ \textcolor{keyword}{class\ }generic\_scheduler;}
\DoxyCodeLine{00103\ \textcolor{keyword}{class\ }governor;}
\DoxyCodeLine{00104\ \textcolor{keyword}{class\ }mail\_outbox;}
\DoxyCodeLine{00105\ \textcolor{keyword}{class\ }market;}
\DoxyCodeLine{00106\ \textcolor{keyword}{class\ }observer\_proxy;}
\DoxyCodeLine{00107\ \textcolor{keyword}{class\ }task\_scheduler\_observer\_v3;}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#if\ \_\_TBB\_TASK\_PRIORITY}}
\DoxyCodeLine{00110\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ intptr\_t\ \mbox{\hyperlink{namespacetbb_1_1internal_ae1dadab9152ec72bebfb2827c03846e6}{num\_priority\_levels}}\ =\ 3;}
\DoxyCodeLine{00111\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ intptr\_t\ normalized\_normal\_priority\ =\ (\mbox{\hyperlink{namespacetbb_1_1internal_ae1dadab9152ec72bebfb2827c03846e6}{num\_priority\_levels}}\ -\/\ 1)\ /\ 2;}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{keyword}{inline}\ intptr\_t\ normalize\_priority\ (\ priority\_t\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordflow}{return}\ intptr\_t(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ -\/\ priority\_low)\ /\ priority\_stride\_v4;}
\DoxyCodeLine{00115\ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ priority\_t\ priority\_from\_normalized\_rep[\mbox{\hyperlink{namespacetbb_1_1internal_ae1dadab9152ec72bebfb2827c03846e6}{num\_priority\_levels}}]\ =\ \{}
\DoxyCodeLine{00118\ \ \ \ \ priority\_low,\ priority\_normal,\ priority\_high}
\DoxyCodeLine{00119\ \};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ assert\_priority\_valid\ (\ intptr\_t\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a643ae54febb34aa0f2543aa5385a606f}{\_\_TBB\_ASSERT\_EX}}(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ >=\ 0\ \&\&\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ <\ \mbox{\hyperlink{namespacetbb_1_1internal_ae1dadab9152ec72bebfb2827c03846e6}{num\_priority\_levels}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\ );}
\DoxyCodeLine{00123\ \}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \textcolor{keyword}{inline}\ intptr\_t\&\ priority\ (\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\&\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}\ )\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}.prefix().context-\/>my\_priority;}
\DoxyCodeLine{00127\ \}}
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{/*\ \_\_TBB\_TASK\_PRIORITY\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00129\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ intptr\_t\ \mbox{\hyperlink{namespacetbb_1_1internal_ae1dadab9152ec72bebfb2827c03846e6}{num\_priority\_levels}}\ =\ 1;}
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_TASK\_PRIORITY\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00133\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{scheduler__common_8h_a4ce3d7c49ae1d68452484d953ffda39a}{\_\_TBB\_SCHEDULER\_MUTEX\_TYPE}}\ \mbox{\hyperlink{namespacetbb_1_1internal_a7129c5cff1bad05eaf6c218a04f70456}{scheduler\_mutex\_type}};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \textcolor{preprocessor}{\#if\ \_\_TBB\_TASK\_GROUP\_CONTEXT}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00146\ \textcolor{keyword}{extern}\ uintptr\_t\ the\_context\_state\_propagation\_epoch;}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{namespacetbb_1_1internal_a7129c5cff1bad05eaf6c218a04f70456}{scheduler\_mutex\_type}}\ context\_state\_propagation\_mutex\_type;}
\DoxyCodeLine{00151\ \textcolor{keyword}{extern}\ context\_state\_propagation\_mutex\_type\ the\_context\_state\_propagation\_mutex;}
\DoxyCodeLine{00152\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_TASK\_GROUP\_CONTEXT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00155\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacetbb_1_1internal_a73d79e84d116d9c9fe28553241f7fa15}{task\_alignment}}\ =\ 32;}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacetbb_1_1internal_a0630d59441f75e740be0b003d2922df8}{task\_prefix\_reservation\_size}}\ =\ ((\textcolor{keyword}{sizeof}(internal::task\_prefix)-\/1)/\mbox{\hyperlink{namespacetbb_1_1internal_a73d79e84d116d9c9fe28553241f7fa15}{task\_alignment}}+1)*\mbox{\hyperlink{namespacetbb_1_1internal_a73d79e84d116d9c9fe28553241f7fa15}{task\_alignment}};}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00162\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{namespacetbb_1_1internal_a5fb219223e38c8bbcc47d7c943f48e54}{task\_extra\_state}}\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_a5fb219223e38c8bbcc47d7c943f48e54a04945eea9cba87d28e27bd49c09213af}{es\_version\_1\_task}}\ =\ 0,}
\DoxyCodeLine{00166\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_a5fb219223e38c8bbcc47d7c943f48e54a49e62d7db3b2c3bef97c12bba0d9d0b7}{es\_version\_3\_task}}\ =\ 1,}
\DoxyCodeLine{00167\ \textcolor{preprocessor}{\#if\ \_\_TBB\_PREVIEW\_CRITICAL\_TASKS}}
\DoxyCodeLine{00169\ \ \ \ \ es\_task\_critical\ =\ 0x8,}
\DoxyCodeLine{00170\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_a5fb219223e38c8bbcc47d7c943f48e54a13ef7759b098f8469860fc353c18e519}{es\_task\_enqueued}}\ =\ 0x10,}
\DoxyCodeLine{00174\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_a5fb219223e38c8bbcc47d7c943f48e54a2b1c67cc200577a0b07649fdb00bec49}{es\_task\_proxy}}\ =\ 0x20,}
\DoxyCodeLine{00176\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_a5fb219223e38c8bbcc47d7c943f48e54a2bde1985fd0827baf5dbfa4a9bc33a7f}{es\_ref\_count\_active}}\ =\ 0x40,}
\DoxyCodeLine{00178\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_a5fb219223e38c8bbcc47d7c943f48e54a2e086a4d594002615b167ab481fa32fe}{es\_task\_is\_stolen}}\ =\ 0x80}
\DoxyCodeLine{00179\ \};}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacetbb_1_1internal_a7a454ca6d8bb2b9fccde7e52a0c31856}{reset\_extra\_state}}\ (\ task\ *\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}\ )\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>prefix().extra\_state\ \&=\ \string~(\mbox{\hyperlink{namespacetbb_1_1internal_a5fb219223e38c8bbcc47d7c943f48e54a2e086a4d594002615b167ab481fa32fe}{es\_task\_is\_stolen}}\ |\ \mbox{\hyperlink{namespacetbb_1_1internal_a5fb219223e38c8bbcc47d7c943f48e54a13ef7759b098f8469860fc353c18e519}{es\_task\_enqueued}});}
\DoxyCodeLine{00183\ \}}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00186\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046}{free\_task\_hint}}\ \{}
\DoxyCodeLine{00188\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046a596b17af45875952d802941a869165f5}{no\_hint}}=0,}
\DoxyCodeLine{00190\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046ad1109dd198378032b4b9fb2963d3b85d}{local\_task}}=1,}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046aaf0a7aee9592ca8530fde20c2f5fd473}{small\_task}}=2,}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046ae0c9c2045c071c502f5d38b9416f3573}{small\_local\_task}}=3,}
\DoxyCodeLine{00198\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046a0f3a050fefae0c29cb5ef54e594705d5}{no\_cache}}\ =\ 4,}
\DoxyCodeLine{00200\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046aba80fb72782fa569fae8dd880518fa1f}{no\_cache\_small\_task}}\ =\ \mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046a0f3a050fefae0c29cb5ef54e594705d5}{no\_cache}}\ |\ \mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046aaf0a7aee9592ca8530fde20c2f5fd473}{small\_task}}}
\DoxyCodeLine{00201\ \};}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00204\ \textcolor{comment}{//\ Debugging\ support}}
\DoxyCodeLine{00205\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#if\ TBB\_USE\_ASSERT}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uintptr\_t\ venom\ =\ tbb::internal::select\_size\_t\_constant<0xDEADBEEFU,0xDDEEAADDDEADBEEFULL>::value;}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00212\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{scheduler__common_8h_afd76b58919b61d3e37baa46d5299c6e7}{poison\_value}}\ (\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ val\ )\ \{\ val\ =\ *\ punned\_cast<T*>(\&venom);\ \}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00215\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ is\_alive(\ uintptr\_t\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ )\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ !=\ venom;\ \}}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00219\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacetbb_1_1internal_a35e1c039fac0fa1b7d8b4f491d557a86}{assert\_task\_valid}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}*\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ )\ \{}
\DoxyCodeLine{00220\ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}!=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\ );}
\DoxyCodeLine{00221\ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ !is\_poisoned(\&\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}),\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\ );}
\DoxyCodeLine{00222\ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ (uintptr\_t)\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ \%\ \mbox{\hyperlink{namespacetbb_1_1internal_a73d79e84d116d9c9fe28553241f7fa15}{task\_alignment}}\ ==\ 0,\ \textcolor{stringliteral}{"{}misaligned\ task"{}}\ );}
\DoxyCodeLine{00223\ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}-\/>prefix().ref\_count\ >=\ 0,\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00224\ \textcolor{preprocessor}{\#if\ \_\_TBB\_RECYCLE\_TO\_ENQUEUE}}
\DoxyCodeLine{00225\ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ (\textcolor{keywordtype}{unsigned})\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}-\/>state()<=(\textcolor{keywordtype}{unsigned})task::to\_enqueue,\ \textcolor{stringliteral}{"{}corrupt\ task\ (invalid\ state)"{}}\ );}
\DoxyCodeLine{00226\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00227\ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ (\textcolor{keywordtype}{unsigned})\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}-\/>state()<=(\textcolor{keywordtype}{unsigned})task::recycle,\ \textcolor{stringliteral}{"{}corrupt\ task\ (invalid\ state)"{}}\ );}
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00229\ \}}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{/*\ !TBB\_USE\_ASSERT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00235\ \textcolor{preprocessor}{\#define\ poison\_value(g)\ ((void)0)}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacetbb_1_1internal_a35e1c039fac0fa1b7d8b4f491d557a86}{assert\_task\_valid}}(\ \textcolor{keyword}{const}\ task*\ )\ \{\}}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ !TBB\_USE\_ASSERT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00242\ \textcolor{comment}{//\ Helpers}}
\DoxyCodeLine{00243\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \textcolor{preprocessor}{\#if\ \_\_TBB\_TASK\_GROUP\_CONTEXT}}
\DoxyCodeLine{00246\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacetbb_1_1internal_a87ff64e432be3c5ddee9ddca98f7d0d5}{ConcurrentWaitsEnabled}}\ (\ task\&\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}\ )\ \{}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}.prefix().context-\/>my\_version\_and\_traits\ \&\ task\_group\_context::concurrent\_wait)\ !=\ 0;}
\DoxyCodeLine{00248\ \}}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ CancellationInfoPresent\ (\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\&\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}\ )\ \{}
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}.prefix().context-\/>my\_cancellation\_requested\ !=\ 0;}
\DoxyCodeLine{00252\ \}}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \textcolor{preprocessor}{\#if\ TBB\_USE\_CAPTURED\_EXCEPTION}}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keyword}{inline}\ tbb\_exception*\ TbbCurrentException(\ task\_group\_context*,\ tbb\_exception*\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}-\/>move();\ \}}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keyword}{inline}\ tbb\_exception*\ TbbCurrentException(\ task\_group\_context*\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ captured\_exception*\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}})\ \{}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}-\/>my\_version\_and\_traits\ \&\ task\_group\_context::exact\_exception\ )}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__concurrent__hash__map_8cpp_a7de19b53af11a9175c96b42320b1d082}{runtime\_warning}}(\ \textcolor{stringliteral}{"{}Exact\ exception\ propagation\ is\ requested\ by\ application\ but\ the\ linked\ library\ is\ built\ without\ support\ for\ it"{}});}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}};}
\DoxyCodeLine{00260\ \ \ \ \ \}}
\DoxyCodeLine{00261\ \textcolor{preprocessor}{\ \ \ \ \#define\ TbbRethrowException(TbbCapturedException)\ (TbbCapturedException)-\/>throw\_self()}}
\DoxyCodeLine{00262\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{comment}{//\ Using\ macro\ instead\ of\ an\ inline\ function\ here\ allows\ to\ avoid\ evaluation\ of\ the}}
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{comment}{//\ TbbCapturedException\ expression\ when\ exact\ propagation\ is\ enabled\ for\ the\ context.}}
\DoxyCodeLine{00265\ \textcolor{preprocessor}{\ \ \ \ \#define\ TbbCurrentException(context,\ TbbCapturedException)\ \(\backslash\)}}
\DoxyCodeLine{00266\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ context-\/>my\_version\_and\_traits\ \&\ task\_group\_context::exact\_exception\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00267\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ ?\ tbb\_exception\_ptr::allocate()\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00268\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ :\ tbb\_exception\_ptr::allocate(\ *(TbbCapturedException)\ );}}
\DoxyCodeLine{00269\ \textcolor{preprocessor}{\ \ \ \ \#define\ TbbRethrowException(TbbCapturedException)\ \(\backslash\)}}
\DoxyCodeLine{00270\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \{\ \(\backslash\)}}
\DoxyCodeLine{00271\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ if(\ governor::rethrow\_exception\_broken()\ )\ fix\_broken\_rethrow();\ \(\backslash\)}}
\DoxyCodeLine{00272\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ (TbbCapturedException)-\/>throw\_self();\ \(\backslash\)}}
\DoxyCodeLine{00273\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00274\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ !TBB\_USE\_CAPTURED\_EXCEPTION\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \textcolor{preprocessor}{\#define\ TbbRegisterCurrentException(context,\ TbbCapturedException)\ \(\backslash\)}}
\DoxyCodeLine{00277\ \textcolor{preprocessor}{\ \ \ \ if\ (\ context-\/>cancel\_group\_execution()\ )\ \{\ \ \(\backslash\)}}
\DoxyCodeLine{00278\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ }\textcolor{comment}{/*\ We\ are\ the\ first\ to\ signal\ cancellation,\ so\ store\ the\ exception\ that\ caused\ it.\ */}\textcolor{preprocessor}{\ \ \(\backslash\)}}
\DoxyCodeLine{00279\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ context-\/>my\_exception\ =\ TbbCurrentException(\ context,\ TbbCapturedException\ );\ \(\backslash\)}}
\DoxyCodeLine{00280\ \textcolor{preprocessor}{\ \ \ \ \}}}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \textcolor{preprocessor}{\#define\ TbbCatchAll(context)\ \ \(\backslash\)}}
\DoxyCodeLine{00283\ \textcolor{preprocessor}{\ \ \ \ catch\ (\ tbb\_exception\&\ exc\ )\ \{\ \ \(\backslash\)}}
\DoxyCodeLine{00284\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ TbbRegisterCurrentException(\ context,\ \&exc\ );\ \ \ \(\backslash\)}}
\DoxyCodeLine{00285\ \textcolor{preprocessor}{\ \ \ \ \}\ catch\ (\ std::exception\&\ exc\ )\ \{\ \ \ \(\backslash\)}}
\DoxyCodeLine{00286\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ TbbRegisterCurrentException(\ context,\ captured\_exception::allocate(typeid(exc).name(),\ exc.what())\ );\ \(\backslash\)}}
\DoxyCodeLine{00287\ \textcolor{preprocessor}{\ \ \ \ \}\ catch\ (\ ...\ )\ \{\ \ \ \(\backslash\)}}
\DoxyCodeLine{00288\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ TbbRegisterCurrentException(\ context,\ captured\_exception::allocate("{}..."{},\ "{}Unidentified\ exception"{})\ );\(\backslash\)}}
\DoxyCodeLine{00289\ \textcolor{preprocessor}{\ \ \ \ \}}}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{/*\ !\_\_TBB\_TASK\_GROUP\_CONTEXT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacetbb_1_1internal_a87ff64e432be3c5ddee9ddca98f7d0d5}{ConcurrentWaitsEnabled}}\ (\ task\&\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}\ )\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_TASK\_GROUP\_CONTEXT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacetbb_1_1internal_a0c5ac9e978873b08137acc8b6d584567}{prolonged\_pause}}()\ \{}
\DoxyCodeLine{00298\ \textcolor{preprocessor}{\#if\ defined(\_\_TBB\_time\_stamp)\ \&\&\ !\_\_TBB\_STEALING\_PAUSE}}
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{comment}{//\ Assumption\ based\ on\ practice:\ 1000-\/2000\ ticks\ seems\ to\ be\ a\ suitable\ invariant\ for\ the}}
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{comment}{//\ majority\ of\ platforms.\ Currently,\ skip\ platforms\ that\ define\ \_\_TBB\_STEALING\_PAUSE}}
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{comment}{//\ because\ these\ platforms\ require\ very\ careful\ tuning.}}
\DoxyCodeLine{00302\ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_ae337512716848c8145c750713519a3c8}{machine\_tsc\_t}}\ prev\ =\ \mbox{\hyperlink{gcc__ia32__common_8h_a0f57bc86269d754105082c9f818b0fd7}{\_\_TBB\_time\_stamp}}();}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacetbb_1_1internal_ae337512716848c8145c750713519a3c8}{machine\_tsc\_t}}\ finish\ =\ prev\ +\ 1000;}
\DoxyCodeLine{00304\ \ \ \ \ atomic\_backoff\ backoff;}
\DoxyCodeLine{00305\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ backoff.bounded\_pause();}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_ae337512716848c8145c750713519a3c8}{machine\_tsc\_t}}\ curr\ =\ \mbox{\hyperlink{gcc__ia32__common_8h_a0f57bc86269d754105082c9f818b0fd7}{\_\_TBB\_time\_stamp}}();}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ curr\ <=\ prev\ )}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Possibly,\ the\ current\ logical\ thread\ is\ moved\ to\ another\ hardware\ thread\ or\ overflow\ is\ occurred.}}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ prev\ =\ curr;}
\DoxyCodeLine{00312\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (\ prev\ <\ finish\ );}
\DoxyCodeLine{00313\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00314\ \textcolor{preprocessor}{\#ifdef\ \_\_TBB\_STEALING\_PAUSE}}
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ PauseTime\ =\ \mbox{\hyperlink{mic__common_8h_a8161a3c1ff5c7f6ebf068755684882c3}{\_\_TBB\_STEALING\_PAUSE}};}
\DoxyCodeLine{00316\ \textcolor{preprocessor}{\#elif\ \_\_TBB\_ipf}}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ PauseTime\ =\ 1500;}
\DoxyCodeLine{00318\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ PauseTime\ =\ 80;}
\DoxyCodeLine{00320\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{comment}{//\ TODO\ IDEA:\ Update\ PauseTime\ adaptively?}}
\DoxyCodeLine{00322\ \ \ \ \ \mbox{\hyperlink{gcc__arm_8h_abd96ed348e35a9a25fc356a0b3029584}{\_\_TBB\_Pause}}(PauseTime);}
\DoxyCodeLine{00323\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00324\ \}}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00327\ \textcolor{comment}{//\ arena\_slot}}
\DoxyCodeLine{00328\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00329\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot__line1}{arena\_slot\_line1}}\ \{}
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{comment}{//TODO:\ make\ this\ tbb:atomic<>.}}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\_scheduler}}*\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot__line1_a988ed3221b0b40efb97849a53b168e79}{my\_scheduler}};}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \ \ \textcolor{comment}{//\ Synchronization\ of\ access\ to\ Task\ pool}}
\DoxyCodeLine{00339\ \ \ \ \ task*\ *\_\_TBB\_atomic\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot__line1_a9096bfd9df29790ef46791385c5a8162}{task\_pool}};}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ \ \ \ \ \_\_TBB\_atomic\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot__line1_a6b0b8214404af0b2c30f442b33d0d209}{head}};}
\DoxyCodeLine{00344\ }
\DoxyCodeLine{00345\ \textcolor{preprocessor}{\#if\ \_\_TBB\_PREVIEW\_RESUMABLE\_TASKS}}
\DoxyCodeLine{00347\ \ \ \ \ tbb::atomic<bool>*\ my\_scheduler\_is\_recalled;}
\DoxyCodeLine{00348\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00349\ \};}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00351\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot__line2}{arena\_slot\_line2}}\ \{}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot__line2_aa8508e7c5d0b7525f356ac63dbc22427}{hint\_for\_pop}};}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \textcolor{preprocessor}{\#if\ \_\_TBB\_PREVIEW\_CRITICAL\_TASKS}}
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ hint\_for\_critical;}
\DoxyCodeLine{00359\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00363\ \ \ \ \ \_\_TBB\_atomic\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot__line2_af3e2089ebb470604941ca8db193d9927}{tail}};}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot__line2_a2c0d5b1c84ce0b83aa6b434dc448b133}{my\_task\_pool\_size}};}
\DoxyCodeLine{00367\ }
\DoxyCodeLine{00369\ \ \ \ \ task*\ *\_\_TBB\_atomic\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot__line2_acaf81236f1e1c743b3a1be8b03505a30}{task\_pool\_ptr}};}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \textcolor{preprocessor}{\#if\ \_\_TBB\_STATISTICS}}
\DoxyCodeLine{00373\ \ \ \ \ statistics\_counters\ *my\_counters;}
\DoxyCodeLine{00374\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_STATISTICS\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00375\ \};}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\_slot}}\ :\ padded<arena\_slot\_line1>,\ padded<arena\_slot\_line2>\ \{}
\DoxyCodeLine{00378\ \textcolor{preprocessor}{\#if\ TBB\_USE\_ASSERT}}
\DoxyCodeLine{00379\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot_a738e7bf1cdd82b4d174947bbc746c766}{fill\_with\_canary\_pattern}}\ (\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacetbb_1_1internal_ab9f93f2f0b5a50bfec5f8ebbfbe9b9db}{first}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}}\ )\ \{}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ \mbox{\hyperlink{namespacetbb_1_1internal_ab9f93f2f0b5a50bfec5f8ebbfbe9b9db}{first}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ )}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ poison\_pointer(task\_pool\_ptr[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00382\ \ \ \ \ \}}
\DoxyCodeLine{00383\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot_a738e7bf1cdd82b4d174947bbc746c766}{fill\_with\_canary\_pattern}}\ (\ \textcolor{keywordtype}{size\_t},\ \textcolor{keywordtype}{size\_t}\ )\ \{\}}
\DoxyCodeLine{00385\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ TBB\_USE\_ASSERT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot_a68ed52221d5eff32c230ccaf7a79fff7}{allocate\_task\_pool}}(\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ )\ \{}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ byte\_size\ =\ ((\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ *\ \textcolor{keyword}{sizeof}(task*)\ +\ NFS\_MaxLineSize\ -\/\ 1)\ /\ NFS\_MaxLineSize)\ *\ NFS\_MaxLineSize;}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ my\_task\_pool\_size\ =\ byte\_size\ /\ \textcolor{keyword}{sizeof}(task*);}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ task\_pool\_ptr\ =\ (task**)\mbox{\hyperlink{namespacetbb_1_1internal_a395611542e21705f49de2a06e2c88f59}{NFS\_Allocate}}(\ 1,\ byte\_size,\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\ );}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ need\ to\ clear\ the\ fresh\ deque\ since\ valid\ items\ are\ designated\ by\ the\ head\ and\ tail\ members.}}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ But\ fill\ it\ with\ a\ canary\ pattern\ in\ the\ high\ vigilance\ debug\ mode.}}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot_a738e7bf1cdd82b4d174947bbc746c766}{fill\_with\_canary\_pattern}}(\ 0,\ my\_task\_pool\_size\ );}
\DoxyCodeLine{00394\ \ \ \ \ \}}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00397\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot_ac1bad47da2fdc04592a7bb688bce676a}{free\_task\_pool}}(\ )\ \{}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ understand\ the\ assertion\ and\ modify}}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \_\_TBB\_ASSERT(\ !task\_pool\ /*TODO:\ ==\ EmptyTaskPool*/,\ NULL);}}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ task\_pool\_ptr\ )\ \{}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ my\_task\_pool\_size,\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_abd3fdd42ea716867fc95116354481b4e}{NFS\_Free}}(\ task\_pool\_ptr\ );}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ task\_pool\_ptr\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ my\_task\_pool\_size\ =\ 0;}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00406\ \ \ \ \ \}}
\DoxyCodeLine{00407\ \};}
\DoxyCodeLine{00408\ }
\DoxyCodeLine{00409\ \textcolor{preprocessor}{\#if\ !\_\_TBB\_CPU\_CTL\_ENV\_PRESENT}}
\DoxyCodeLine{00410\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env}{cpu\_ctl\_env}}\ \{}
\DoxyCodeLine{00411\ \ \ \ \ fenv\_t\ *\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}};}
\DoxyCodeLine{00412\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00413\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a452a6e875eee2da7d30520a1816104ad}{cpu\_ctl\_env}}()\ :\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{\}}
\DoxyCodeLine{00414\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_aaba2cbda7753f7ff1a9d3fa94ae0faf1}{\string~cpu\_ctl\_env}}()\ \{}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}\ )}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_abd3fdd42ea716867fc95116354481b4e}{tbb::internal::NFS\_Free}}(\ (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}\ );}
\DoxyCodeLine{00417\ \ \ \ \ \}}
\DoxyCodeLine{00418\ \ \ \ \ \textcolor{comment}{//\ It\ is\ possible\ not\ to\ copy\ memory\ but\ just\ to\ copy\ pointers\ but\ the\ following\ issues\ should\ be\ addressed:}}
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{comment}{//\ \ \ 1.\ The\ arena\ lifetime\ and\ the\ context\ lifetime\ are\ independent;}}
\DoxyCodeLine{00420\ \ \ \ \ \textcolor{comment}{//\ \ \ 2.\ The\ user\ is\ allowed\ to\ recapture\ different\ FPU\ settings\ to\ context\ so\ 'current\ FPU\ settings'\ inside}}
\DoxyCodeLine{00421\ \ \ \ \ \textcolor{comment}{//\ \ \ dispatch\ loop\ may\ become\ invalid.}}
\DoxyCodeLine{00422\ \ \ \ \ \textcolor{comment}{//\ But\ do\ we\ really\ want\ to\ improve\ the\ fenv\ implementation?\ It\ seems\ to\ be\ better\ to\ replace\ the\ fenv\ implementation}}
\DoxyCodeLine{00423\ \ \ \ \ \textcolor{comment}{//\ with\ a\ platform\ specific\ implementation.}}
\DoxyCodeLine{00424\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a19597ab415f22b8b503a8a3425e039ca}{cpu\_ctl\_env}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a452a6e875eee2da7d30520a1816104ad}{cpu\_ctl\_env}}\ \&\mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ )\ :\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ *\textcolor{keyword}{this}\ =\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}};}
\DoxyCodeLine{00426\ \ \ \ \ \}}
\DoxyCodeLine{00427\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a452a6e875eee2da7d30520a1816104ad}{cpu\_ctl\_env}}\&\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_aea6e7f4bb5c9ced835a5b585b1f7bd94}{operator=}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a452a6e875eee2da7d30520a1816104ad}{cpu\_ctl\_env}}\ \&\mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ )\ \{}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}.my\_fenv\_ptr,\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\ );}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}\ )}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}\ =\ (fenv\_t*)\mbox{\hyperlink{namespacetbb_1_1internal_a395611542e21705f49de2a06e2c88f59}{tbb::internal::NFS\_Allocate}}(1,\ \textcolor{keyword}{sizeof}(fenv\_t),\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}\ =\ *\mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}.my\_fenv\_ptr;}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00433\ \ \ \ \ \}}
\DoxyCodeLine{00434\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_af50bf6d6c3e61363598d42ce31a62fe0}{operator!=}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a452a6e875eee2da7d30520a1816104ad}{cpu\_ctl\_env}}\ \&ctl\ )\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}},\ \textcolor{stringliteral}{"{}cpu\_ctl\_env\ is\ not\ initialized."{}}\ );}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ ctl.\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}},\ \textcolor{stringliteral}{"{}cpu\_ctl\_env\ is\ not\ initialized."{}}\ );}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ memcmp(\ (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}},\ (\textcolor{keywordtype}{void}*)ctl.\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}},\ \textcolor{keyword}{sizeof}(fenv\_t)\ );}
\DoxyCodeLine{00438\ \ \ \ \ \}}
\DoxyCodeLine{00439\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_aaa8736f85328446abb0d9b75a031a12d}{get\_env}}\ ()\ \{}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}\ )}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}\ =\ (fenv\_t*)\mbox{\hyperlink{namespacetbb_1_1internal_a395611542e21705f49de2a06e2c88f59}{tbb::internal::NFS\_Allocate}}(1,\ \textcolor{keyword}{sizeof}(fenv\_t),\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ fegetenv(\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}\ );}
\DoxyCodeLine{00443\ \ \ \ \ \}}
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a452a6e875eee2da7d30520a1816104ad}{cpu\_ctl\_env}}\&\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a24d03f6ed7f5f5ed9c4746bb04681a6f}{set\_env}}\ ()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}},\ \textcolor{stringliteral}{"{}cpu\_ctl\_env\ is\ not\ initialized."{}}\ );}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ fesetenv(\ \mbox{\hyperlink{classtbb_1_1internal_1_1cpu__ctl__env_a90faaab371644afd9cabb9c5e96403ca}{my\_fenv\_ptr}}\ );}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00448\ \ \ \ \ \}}
\DoxyCodeLine{00449\ \};}
\DoxyCodeLine{00450\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ !\_\_TBB\_CPU\_CTL\_ENV\_PRESENT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00452\ \}\ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00453\ \}\ \textcolor{comment}{//\ namespace\ tbb}}
\DoxyCodeLine{00454\ }
\DoxyCodeLine{00455\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_TBB\_scheduler\_common\_H\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
