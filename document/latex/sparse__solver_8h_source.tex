\doxysection{sparse\+\_\+solver.\+h}
\hypertarget{sparse__solver_8h_source}{}\label{sparse__solver_8h_source}\index{external/taskflow/3rd-\/party/eigen-\/3.3.7/test/sparse\_solver.h@{external/taskflow/3rd-\/party/eigen-\/3.3.7/test/sparse\_solver.h}}
\mbox{\hyperlink{sparse__solver_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2011\ Gael\ Guennebaud\ <g.gael@free.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sparse_8h}{sparse.h}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <Eigen/SparseCore>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver,\ \textcolor{keyword}{typename}\ Rhs,\ \textcolor{keyword}{typename}\ Guess,\textcolor{keyword}{typename}\ Result>}
\DoxyCodeLine{00015\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a61fc17617f5be6e4bac3faa50cd3790c}{solve\_with\_guess}}(\mbox{\hyperlink{class_eigen_1_1_iterative_solver_base}{IterativeSolverBase<Solver>}}\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_matrix_base}{MatrixBase<Rhs>}}\&\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \textcolor{keyword}{const}\ Guess\&\ \mbox{\hyperlink{offscreen_8c_a8cf17d727651616de6f2b79ef32170cd}{g}},\ Result\ \&\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})\ \{}
\DoxyCodeLine{00016\ \ \ \textcolor{keywordflow}{if}(internal::random<bool>())}
\DoxyCodeLine{00017\ \ \ \{}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{comment}{//\ With\ a\ temporary\ through\ evaluator<SolveWithGuess>}}
\DoxyCodeLine{00019\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.derived().solveWithGuess(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\mbox{\hyperlink{offscreen_8c_a8cf17d727651616de6f2b79ef32170cd}{g}})\ +\ Result::Zero(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.rows(),\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.cols());}
\DoxyCodeLine{00020\ \ \ \}}
\DoxyCodeLine{00021\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00022\ \ \ \{}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{comment}{//\ direct\ evaluation\ within\ x\ through\ Assignment<Result,SolveWithGuess>}}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.derived().solveWithGuess(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.derived(),\mbox{\hyperlink{offscreen_8c_a8cf17d727651616de6f2b79ef32170cd}{g}});}
\DoxyCodeLine{00025\ \ \ \}}
\DoxyCodeLine{00026\ \}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver,\ \textcolor{keyword}{typename}\ Rhs,\ \textcolor{keyword}{typename}\ Guess,\textcolor{keyword}{typename}\ Result>}
\DoxyCodeLine{00029\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a61fc17617f5be6e4bac3faa50cd3790c}{solve\_with\_guess}}(\mbox{\hyperlink{class_eigen_1_1_sparse_solver_base}{SparseSolverBase<Solver>}}\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_matrix_base}{MatrixBase<Rhs>}}\&\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \textcolor{keyword}{const}\ Guess\&\ ,\ Result\&\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})\ \{}
\DoxyCodeLine{00030\ \ \ \textcolor{keywordflow}{if}(internal::random<bool>())}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.derived().solve(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ +\ Result::Zero(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.rows(),\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.cols());}
\DoxyCodeLine{00032\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.derived().solve(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00034\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver,\ \textcolor{keyword}{typename}\ Rhs,\ \textcolor{keyword}{typename}\ Guess,\textcolor{keyword}{typename}\ Result>}
\DoxyCodeLine{00037\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a61fc17617f5be6e4bac3faa50cd3790c}{solve\_with\_guess}}(\mbox{\hyperlink{class_eigen_1_1_sparse_solver_base}{SparseSolverBase<Solver>}}\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base}{SparseMatrixBase<Rhs>}}\&\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \textcolor{keyword}{const}\ Guess\&\ ,\ Result\&\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})\ \{}
\DoxyCodeLine{00038\ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.derived().solve(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00039\ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver,\ \textcolor{keyword}{typename}\ Rhs,\ \textcolor{keyword}{typename}\ DenseMat,\ \textcolor{keyword}{typename}\ DenseRhs>}
\DoxyCodeLine{00042\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(Solver\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Solver::MatrixType\&\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \textcolor{keyword}{const}\ Rhs\&\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \textcolor{keyword}{const}\ DenseMat\&\ dA,\ \textcolor{keyword}{const}\ DenseRhs\&\ db)}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00045\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00046\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Mat::StorageIndex\ StorageIndex;}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ DenseRhs\ refX\ =\ dA.householderQr().solve(db);}
\DoxyCodeLine{00049\ \ \ \{}
\DoxyCodeLine{00050\ \ \ \ \ Rhs\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.cols(),\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.cols());}
\DoxyCodeLine{00051\ \ \ \ \ Rhs\ oldb\ =\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.compute(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ !=\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}})}
\DoxyCodeLine{00055\ \ \ \ \ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}ERROR\ |\ sparse\ solver\ testing,\ factorization\ failed\ ("{}}\ <<\ \textcolor{keyword}{typeid}(Solver).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}()\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}};}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ ==\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}});}
\DoxyCodeLine{00058\ \ \ \ \ \}}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.solve(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ !=\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}})}
\DoxyCodeLine{00061\ \ \ \ \ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}WARNING\ |\ sparse\ solver\ testing:\ solving\ failed\ ("{}}\ <<\ \textcolor{keyword}{typeid}(Solver).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}()\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}};}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00064\ \ \ \ \ \}}
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(oldb.isApprox(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \&\&\ \textcolor{stringliteral}{"{}sparse\ solver\ testing:\ the\ rhs\ should\ not\ be\ modified!"{}});}
\DoxyCodeLine{00066\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.isApprox(refX,\mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()));}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.setZero();}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a61fc17617f5be6e4bac3faa50cd3790c}{solve\_with\_guess}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}},\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}});}
\DoxyCodeLine{00070\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ ==\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}}\ \&\&\ \textcolor{stringliteral}{"{}solving\ failed\ when\ using\ analyzePattern/factorize\ API"{}});}
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(oldb.isApprox(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \&\&\ \textcolor{stringliteral}{"{}sparse\ solver\ testing:\ the\ rhs\ should\ not\ be\ modified!"{}});}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.isApprox(refX,\mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()));}
\DoxyCodeLine{00073\ \ \ \ \ }
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.setZero();}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{comment}{//\ test\ the\ analyze/factorize\ API}}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.analyzePattern(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.factorize(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ ==\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}}\ \&\&\ \textcolor{stringliteral}{"{}factorization\ failed\ when\ using\ analyzePattern/factorize\ API"{}});}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.solve(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ ==\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}}\ \&\&\ \textcolor{stringliteral}{"{}solving\ failed\ when\ using\ analyzePattern/factorize\ API"{}});}
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(oldb.isApprox(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \&\&\ \textcolor{stringliteral}{"{}sparse\ solver\ testing:\ the\ rhs\ should\ not\ be\ modified!"{}});}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.isApprox(refX,\mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()));}
\DoxyCodeLine{00083\ \ \ \ \ }
\DoxyCodeLine{00084\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.setZero();}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//\ test\ with\ Map}}
\DoxyCodeLine{00086\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_mapped_sparse_matrix}{MappedSparseMatrix<Scalar,Mat::Options,StorageIndex>}}\ Am(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.rows(),\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.cols(),\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.nonZeros(),\ \textcolor{keyword}{const\_cast<}StorageIndex*\textcolor{keyword}{>}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.outerIndexPtr()),\ \textcolor{keyword}{const\_cast<}StorageIndex*\textcolor{keyword}{>}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.innerIndexPtr()),\ \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}*\textcolor{keyword}{>}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.valuePtr()));}
\DoxyCodeLine{00087\ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.compute(Am);}
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ ==\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}}\ \&\&\ \textcolor{stringliteral}{"{}factorization\ failed\ when\ using\ Map"{}});}
\DoxyCodeLine{00089\ \ \ \ \ DenseRhs\ dx(refX);}
\DoxyCodeLine{00090\ \ \ \ \ dx.setZero();}
\DoxyCodeLine{00091\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_map}{Map<DenseRhs>}}\ xm(dx.data(),\ dx.rows(),\ dx.cols());}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_map}{Map<const\ DenseRhs>}}\ bm(db.data(),\ db.rows(),\ db.cols());}
\DoxyCodeLine{00093\ \ \ \ \ xm\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.solve(bm);}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ ==\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}}\ \&\&\ \textcolor{stringliteral}{"{}solving\ failed\ when\ using\ Map"{}});}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(oldb.isApprox(bm)\ \&\&\ \textcolor{stringliteral}{"{}sparse\ solver\ testing:\ the\ rhs\ should\ not\ be\ modified!"{}});}
\DoxyCodeLine{00096\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(xm.isApprox(refX,\mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()));}
\DoxyCodeLine{00097\ \ \ \}}
\DoxyCodeLine{00098\ \ \ }
\DoxyCodeLine{00099\ \ \ \textcolor{comment}{//\ if\ not\ too\ large,\ do\ some\ extra\ check:}}
\DoxyCodeLine{00100\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.rows()<2000)}
\DoxyCodeLine{00101\ \ \ \{}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ test\ initialization\ ctor}}
\DoxyCodeLine{00103\ \ \ \ \ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ Rhs\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.rows(),\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.cols());}
\DoxyCodeLine{00105\ \ \ \ \ \ \ Solver\ solver2(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(solver2.info()\ ==\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}});}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ solver2.solve(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.isApprox(refX,\mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()));}
\DoxyCodeLine{00109\ \ \ \ \ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{comment}{//\ test\ dense\ Block\ as\ the\ result\ and\ rhs:}}
\DoxyCodeLine{00112\ \ \ \ \ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ DenseRhs\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}(refX.rows(),\ refX.cols());}
\DoxyCodeLine{00114\ \ \ \ \ \ \ DenseRhs\ oldb(db);}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.setZero();}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.block(0,0,\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.rows(),\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.cols())\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.solve(db.block(0,0,db.rows(),db.cols()));}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(oldb.isApprox(db)\ \&\&\ \textcolor{stringliteral}{"{}sparse\ solver\ testing:\ the\ rhs\ should\ not\ be\ modified!"{}});}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.isApprox(refX,\mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()));}
\DoxyCodeLine{00119\ \ \ \ \ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{comment}{//\ test\ uncompressed\ inputs}}
\DoxyCodeLine{00122\ \ \ \ \ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}}\ A2\ =\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}};}
\DoxyCodeLine{00124\ \ \ \ \ \ \ A2.reserve((ArrayXf::Random(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.outerSize())+2).template\ \mbox{\hyperlink{_common_cwise_unary_ops_8h_aa89d007196125d10fa7d6e19811aca05}{cast<typename\ Mat::StorageIndex>}}().eval());}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.compute(A2);}
\DoxyCodeLine{00126\ \ \ \ \ \ \ Rhs\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.solve(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.isApprox(refX,\mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()));}
\DoxyCodeLine{00128\ \ \ \ \ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{comment}{//\ test\ expression\ as\ input}}
\DoxyCodeLine{00131\ \ \ \ \ \{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.compute(0.5*(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}+\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}));}
\DoxyCodeLine{00133\ \ \ \ \ \ \ Rhs\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.solve(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.isApprox(refX,\mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()));}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ Solver\ solver2(0.5*(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}+\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}));}
\DoxyCodeLine{00137\ \ \ \ \ \ \ Rhs\ x2\ =\ solver2.solve(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(x2.isApprox(refX,\mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()));}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \}}
\DoxyCodeLine{00141\ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver,\ \textcolor{keyword}{typename}\ Rhs>}
\DoxyCodeLine{00144\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_ab2f968e2c551b1869cf26ef5c6b4909e}{check\_sparse\_solving\_real\_cases}}(Solver\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Solver::MatrixType\&\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \textcolor{keyword}{const}\ Rhs\&\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Solver::MatrixType\&\ fullA,\ \textcolor{keyword}{const}\ Rhs\&\ refX)}
\DoxyCodeLine{00145\ \{}
\DoxyCodeLine{00146\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00147\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00148\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a48b2ce86692c75e066c80845b92798fc}{Mat::RealScalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}};}
\DoxyCodeLine{00149\ \ \ }
\DoxyCodeLine{00150\ \ \ Rhs\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.cols(),\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.cols());}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.compute(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}
\DoxyCodeLine{00153\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ !=\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}})}
\DoxyCodeLine{00154\ \ \ \{}
\DoxyCodeLine{00155\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}ERROR\ |\ sparse\ solver\ testing,\ factorization\ failed\ ("{}}\ <<\ \textcolor{keyword}{typeid}(Solver).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}()\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}};}
\DoxyCodeLine{00156\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ ==\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}});}
\DoxyCodeLine{00157\ \ \ \}}
\DoxyCodeLine{00158\ \ \ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.solve(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00159\ \ \ }
\DoxyCodeLine{00160\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ !=\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}})}
\DoxyCodeLine{00161\ \ \ \{}
\DoxyCodeLine{00162\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}WARNING\ |\ sparse\ solver\ testing,\ solving\ failed\ ("{}}\ <<\ \textcolor{keyword}{typeid}(Solver).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}()\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}};}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00164\ \ \ \}}
\DoxyCodeLine{00165\ \ \ }
\DoxyCodeLine{00166\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ res\_error\ =\ (fullA*\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}-\/\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}).norm()/\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.norm();\ \ }
\DoxyCodeLine{00167\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\ (res\_error\ <=\ \mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()\ )\ \&\&\ \textcolor{stringliteral}{"{}sparse\ solver\ failed\ without\ noticing\ it"{}});\ }
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ }
\DoxyCodeLine{00170\ \ \ \textcolor{keywordflow}{if}(refX.size()\ !=\ 0\ \&\&\ (refX\ -\/\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}).norm()/refX.norm()\ >\ \mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}())}
\DoxyCodeLine{00171\ \ \ \{}
\DoxyCodeLine{00172\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}WARNING\ |\ found\ solution\ is\ different\ from\ the\ provided\ reference\ one\(\backslash\)n"{}};}
\DoxyCodeLine{00173\ \ \ \}}
\DoxyCodeLine{00174\ \ \ }
\DoxyCodeLine{00175\ \}}
\DoxyCodeLine{00176\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver,\ \textcolor{keyword}{typename}\ DenseMat>}
\DoxyCodeLine{00177\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a77821f9c68aee77a3a6709d463b95e02}{check\_sparse\_determinant}}(Solver\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Solver::MatrixType\&\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \textcolor{keyword}{const}\ DenseMat\&\ dA)}
\DoxyCodeLine{00178\ \{}
\DoxyCodeLine{00179\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00180\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00181\ \ \ }
\DoxyCodeLine{00182\ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.compute(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}
\DoxyCodeLine{00183\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ !=\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}})}
\DoxyCodeLine{00184\ \ \ \{}
\DoxyCodeLine{00185\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}WARNING\ |\ sparse\ solver\ testing:\ factorization\ failed\ (check\_sparse\_determinant)\(\backslash\)n"{}};}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00187\ \ \ \}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}\ refDet\ =\ dA.determinant();}
\DoxyCodeLine{00190\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(refDet,\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.determinant());}
\DoxyCodeLine{00191\ \}}
\DoxyCodeLine{00192\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver,\ \textcolor{keyword}{typename}\ DenseMat>}
\DoxyCodeLine{00193\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a9cd6b2c65f978726c4dd9b1172b2dce2}{check\_sparse\_abs\_determinant}}(Solver\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ Solver::MatrixType\&\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \textcolor{keyword}{const}\ DenseMat\&\ dA)}
\DoxyCodeLine{00194\ \{}
\DoxyCodeLine{00195\ \ \ \textcolor{keyword}{using\ }std::abs;}
\DoxyCodeLine{00196\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00197\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00198\ \ \ }
\DoxyCodeLine{00199\ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.compute(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}
\DoxyCodeLine{00200\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info()\ !=\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea671a2aeb0f527802806a441d58a80fcf}{Success}})}
\DoxyCodeLine{00201\ \ \ \{}
\DoxyCodeLine{00202\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}WARNING\ |\ sparse\ solver\ testing:\ factorization\ failed\ (check\_sparse\_abs\_determinant)\(\backslash\)n"{}};}
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00204\ \ \ \}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}\ refDet\ =\ \mbox{\hyperlink{datatypes_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}}(dA.determinant());}
\DoxyCodeLine{00207\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(refDet,\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.absDeterminant());}
\DoxyCodeLine{00208\ \}}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver,\ \textcolor{keyword}{typename}\ DenseMat>}
\DoxyCodeLine{00211\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{sparse__solver_8h_a0738bf32820ffdebd9d56c39df80c6a8}{generate\_sparse\_spd\_problem}}(Solver\&\ ,\ \textcolor{keyword}{typename}\ Solver::MatrixType\&\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \textcolor{keyword}{typename}\ Solver::MatrixType\&\ halfA,\ DenseMat\&\ dA,\ \textcolor{keywordtype}{int}\ maxSize\ =\ 300)}
\DoxyCodeLine{00212\ \{}
\DoxyCodeLine{00213\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00214\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00215\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,Dynamic>}}\ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}};}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ =\ internal::random<int>(1,maxSize);}
\DoxyCodeLine{00218\ \ \ \textcolor{keywordtype}{double}\ density\ =\ (std::max)(8./(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}),\ 0.01);}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00221\ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}}\ dM(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \mbox{\hyperlink{sparse_8h_a3ba4abd21a1ace3122406c3b3b27fc5b}{initSparse<Scalar>}}(density,\ dM,\ \mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}},\ \mbox{\hyperlink{sparse_8h_aaa0e0961d8919f4b744f64c200ed99fdac57c7eb0d864246e4402f4710e5be051}{ForceNonZeroDiag}});}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}\ =\ \mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}}\ *\ \mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}}.adjoint();}
\DoxyCodeLine{00226\ \ \ dA\ =\ dM\ *\ dM.adjoint();}
\DoxyCodeLine{00227\ \ \ }
\DoxyCodeLine{00228\ \ \ halfA.resize(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00229\ \ \ \textcolor{keywordflow}{if}(Solver::UpLo==(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}|\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}))}
\DoxyCodeLine{00230\ \ \ \ \ halfA\ =\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}};}
\DoxyCodeLine{00231\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00232\ \ \ \ \ halfA.template\ selfadjointView<Solver::UpLo>().rankUpdate(\mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}});}
\DoxyCodeLine{00233\ \ \ }
\DoxyCodeLine{00234\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}};}
\DoxyCodeLine{00235\ \}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \textcolor{preprocessor}{\#ifdef\ TEST\_REAL\_CASES}}
\DoxyCodeLine{00239\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar>}
\DoxyCodeLine{00240\ \textcolor{keyword}{inline}\ std::string\ get\_matrixfolder()}
\DoxyCodeLine{00241\ \{}
\DoxyCodeLine{00242\ \ \ std::string\ mat\_folder\ =\ TEST\_REAL\_CASES;\ }
\DoxyCodeLine{00243\ \ \ \textcolor{keywordflow}{if}(\ internal::is\_same<\mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}},\ std::complex<float>\ >\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{::value}}\ ||\ internal::is\_same<\mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}},\ std::complex<double>\ >\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{::value}}\ )}
\DoxyCodeLine{00244\ \ \ \ \ mat\_folder\ \ =\ mat\_folder\ +\ \textcolor{keyword}{static\_cast<}std::string\textcolor{keyword}{>}(\textcolor{stringliteral}{"{}/complex/"{}});}
\DoxyCodeLine{00245\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00246\ \ \ \ \ mat\_folder\ =\ mat\_folder\ +\ \textcolor{keyword}{static\_cast<}std::string\textcolor{keyword}{>}(\textcolor{stringliteral}{"{}/real/"{}});}
\DoxyCodeLine{00247\ \ \ \textcolor{keywordflow}{return}\ mat\_folder;}
\DoxyCodeLine{00248\ \}}
\DoxyCodeLine{00249\ std::string\ sym\_to\_string(\textcolor{keywordtype}{int}\ sym)}
\DoxyCodeLine{00250\ \{}
\DoxyCodeLine{00251\ \ \ \textcolor{keywordflow}{if}(sym==\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdad5381b2d1c8973a08303c94e7da02333}{Symmetric}})\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Symmetric\ "{}};}
\DoxyCodeLine{00252\ \ \ \textcolor{keywordflow}{if}(sym==\mbox{\hyperlink{namespace_eigen_ae5872421e369c9d2e600863066b902cfac8f4a3e1f6216d1190f8cfcb2a5106f6}{SPD}})\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}SPD\ "{}};}
\DoxyCodeLine{00253\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00254\ \}}
\DoxyCodeLine{00255\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00256\ std::string\ solver\_stats(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_iterative_solver_base}{IterativeSolverBase<Derived>}}\ \&\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}})}
\DoxyCodeLine{00257\ \{}
\DoxyCodeLine{00258\ \ \ std::stringstream\ ss;}
\DoxyCodeLine{00259\ \ \ ss\ <<\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.iterations()\ <<\ \textcolor{stringliteral}{"{}\ iters,\ error:\ "{}}\ <<\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.error();}
\DoxyCodeLine{00260\ \ \ \textcolor{keywordflow}{return}\ ss.str();}
\DoxyCodeLine{00261\ \}}
\DoxyCodeLine{00262\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00263\ std::string\ solver\_stats(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_solver_base}{SparseSolverBase<Derived>}}\ \&\textcolor{comment}{/*solver*/})}
\DoxyCodeLine{00264\ \{}
\DoxyCodeLine{00265\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00266\ \}}
\DoxyCodeLine{00267\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00269\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a252bcfc3086db37e21b69ed1d125a107}{check\_sparse\_spd\_solving}}(Solver\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \textcolor{keywordtype}{int}\ maxSize\ =\ 300,\ \textcolor{keywordtype}{int}\ maxRealWorldSize\ =\ 100000)}
\DoxyCodeLine{00270\ \{}
\DoxyCodeLine{00271\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00272\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00273\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Mat::StorageIndex\ StorageIndex;}
\DoxyCodeLine{00274\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix<Scalar,ColMajor,\ StorageIndex>}}\ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_a04b63929a2578b5ce61f09f0b8b18122}{SpMat}};}
\DoxyCodeLine{00275\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_sparse_vector}{SparseVector<Scalar,\ 0,\ StorageIndex>}}\ SpVec;}
\DoxyCodeLine{00276\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,Dynamic>}}\ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}};}
\DoxyCodeLine{00277\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,1>}}\ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}};}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \textcolor{comment}{//\ generate\ the\ problem}}
\DoxyCodeLine{00280\ \ \ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}}\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ halfA;}
\DoxyCodeLine{00281\ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}}\ dA;}
\DoxyCodeLine{00282\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{namespace_eigen_a59cc9c6d0feb80ae2d45913c7ee7c430}{g\_repeat}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)\ \{}
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ =\ \mbox{\hyperlink{sparse__solver_8h_a0738bf32820ffdebd9d56c39df80c6a8}{generate\_sparse\_spd\_problem}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ halfA,\ dA,\ maxSize);}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{comment}{//\ generate\ the\ right\ hand\ sides}}
\DoxyCodeLine{00286\ \ \ \ \ \textcolor{keywordtype}{int}\ rhsCols\ =\ internal::random<int>(1,16);}
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{keywordtype}{double}\ density\ =\ (std::max)(8./(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}*rhsCols),\ 0.1);}
\DoxyCodeLine{00288\ \ \ \ \ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_a04b63929a2578b5ce61f09f0b8b18122}{SpMat}}\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},rhsCols);}
\DoxyCodeLine{00289\ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ DenseVector::Random(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00290\ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}}\ dB(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},rhsCols);}
\DoxyCodeLine{00291\ \ \ \ \ \mbox{\hyperlink{sparse_8h_a3ba4abd21a1ace3122406c3b3b27fc5b}{initSparse<Scalar>}}(density,\ dB,\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{sparse_8h_aaa0e0961d8919f4b744f64c200ed99fdac57c7eb0d864246e4402f4710e5be051}{ForceNonZeroDiag}});}
\DoxyCodeLine{00292\ \ \ \ \ SpVec\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}.col(0);}
\DoxyCodeLine{00293\ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}}\ dc\ =\ dB.col(0);}
\DoxyCodeLine{00294\ \ \ }
\DoxyCodeLine{00295\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \ dA,\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \ );}
\DoxyCodeLine{00296\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ halfA,\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \ dA,\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \ );}
\DoxyCodeLine{00297\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \ \ \ \ dB,\ dA,\ dB)\ );}
\DoxyCodeLine{00298\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ halfA,\ dB,\ dA,\ dB)\ );}
\DoxyCodeLine{00299\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \ dA,\ dB)\ );}
\DoxyCodeLine{00300\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ halfA,\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \ dA,\ dB)\ );}
\DoxyCodeLine{00301\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \ \ \ \ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ \ dA,\ dc)\ );}
\DoxyCodeLine{00302\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ halfA,\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ \ dA,\ dc)\ );}
\DoxyCodeLine{00303\ \ \ \ \ }
\DoxyCodeLine{00304\ \ \ \ \ \textcolor{comment}{//\ check\ only\ once}}
\DoxyCodeLine{00305\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}==0)}
\DoxyCodeLine{00306\ \ \ \ \ \{}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ DenseVector::Zero(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ dA,\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00309\ \ \ \ \ \}}
\DoxyCodeLine{00310\ \ \ \}}
\DoxyCodeLine{00311\ \ \ }
\DoxyCodeLine{00312\ \ \ \textcolor{comment}{//\ First,\ get\ the\ folder\ }}
\DoxyCodeLine{00313\ \textcolor{preprocessor}{\#ifdef\ TEST\_REAL\_CASES}}
\DoxyCodeLine{00314\ \ \ \textcolor{comment}{//\ Test\ real\ problems\ with\ double\ precision\ only}}
\DoxyCodeLine{00315\ \ \ \textcolor{keywordflow}{if}\ (internal::is\_same<\textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1_num_traits}{NumTraits<Scalar>::Real}},\ \textcolor{keywordtype}{double}>\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{::value}})}
\DoxyCodeLine{00316\ \ \ \{}
\DoxyCodeLine{00317\ \ \ \ \ std::string\ mat\_folder\ =\ get\_matrixfolder<Scalar>();}
\DoxyCodeLine{00318\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator}{MatrixMarketIterator<Scalar>}}\ it(mat\_folder);}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ it;\ ++it)}
\DoxyCodeLine{00320\ \ \ \ \ \{}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_ace72fd4804dfc9c7fc9018f2712be9fe}{sym}}()\ ==\ \mbox{\hyperlink{namespace_eigen_ae5872421e369c9d2e600863066b902cfac8f4a3e1f6216d1190f8cfcb2a5106f6}{SPD}})\{}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}\ =\ it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_a225e3e6415b8eb3a709bb8269133f888}{matrix}}();}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.diagonal().size()\ <=\ maxRealWorldSize)}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_a7aad817f6e07f11ba3c9139e7e4d02b7}{rhs}}();}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}}\ refX\ =\ it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_a610eb67e066cdd31e6777e070fe1086a}{refX}}();}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_permutation_matrix}{PermutationMatrix<Dynamic,\ Dynamic,\ StorageIndex>}}\ pnull;}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \ \ halfA.\mbox{\hyperlink{class_eigen_1_1_plain_object_base_a99d9054ee2d5a40c6e00ded0265e9cea}{resize}}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.rows(),\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.cols());}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(Solver::UpLo\ ==\ (\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}|\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}))}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ halfA\ =\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}};}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ halfA.template\ selfadjointView<Solver::UpLo>()\ =\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.template\ triangularView<Eigen::Lower>().twistedBy(pnull);}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}INFO\ |\ Testing\ "{}}\ <<\ sym\_to\_string(it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_ace72fd4804dfc9c7fc9018f2712be9fe}{sym}}())\ <<\ \textcolor{stringliteral}{"{}sparse\ problem\ "{}}\ <<\ it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_a79b13fa6510e56c071bc463859b1cbe9}{matname}}()}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ ("{}}\ <<\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.rows()\ <<\ \textcolor{stringliteral}{"{}x"{}}\ <<\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.cols()\ <<\ \textcolor{stringliteral}{"{})\ using\ "{}}\ <<\ \textcolor{keyword}{typeid}(Solver).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}()\ <<\ \textcolor{stringliteral}{"{}..."{}}\ <<\ std::endl;}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{sparse__solver_8h_ab2f968e2c551b1869cf26ef5c6b4909e}{check\_sparse\_solving\_real\_cases}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ refX)\ );}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ std::string\ stats\ =\ solver\_stats(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}});}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(stats.size()>0)}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}INFO\ |\ \ "{}}\ <<\ stats\ <<\ std::endl;}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{sparse__solver_8h_ab2f968e2c551b1869cf26ef5c6b4909e}{check\_sparse\_solving\_real\_cases}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ halfA,\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ refX)\ );}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}INFO\ |\ Skip\ sparse\ problem\ \(\backslash\)"{}"{}}\ <<\ it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_a79b13fa6510e56c071bc463859b1cbe9}{matname}}()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ (too\ large)"{}}\ <<\ std::endl;}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00347\ \ \ \ \ \}}
\DoxyCodeLine{00348\ \ \ \}}
\DoxyCodeLine{00349\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00350\ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_a7cf6d5b460def34dc4e6acf42889b6a9}{EIGEN\_UNUSED\_VARIABLE}}(maxRealWorldSize);}
\DoxyCodeLine{00351\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00352\ \}}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a4ab206481ed9b282ac77a44ad3bf7293}{check\_sparse\_spd\_determinant}}(Solver\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}})}
\DoxyCodeLine{00355\ \{}
\DoxyCodeLine{00356\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00357\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00358\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,Dynamic>}}\ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}};}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ \textcolor{comment}{//\ generate\ the\ problem}}
\DoxyCodeLine{00361\ \ \ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}}\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ halfA;}
\DoxyCodeLine{00362\ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}}\ dA;}
\DoxyCodeLine{00363\ \ \ \mbox{\hyperlink{sparse__solver_8h_a0738bf32820ffdebd9d56c39df80c6a8}{generate\_sparse\_spd\_problem}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ halfA,\ dA,\ 30);}
\DoxyCodeLine{00364\ \ \ }
\DoxyCodeLine{00365\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{namespace_eigen_a59cc9c6d0feb80ae2d45913c7ee7c430}{g\_repeat}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)\ \{}
\DoxyCodeLine{00366\ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a77821f9c68aee77a3a6709d463b95e02}{check\_sparse\_determinant}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \ \ \ \ dA);}
\DoxyCodeLine{00367\ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a77821f9c68aee77a3a6709d463b95e02}{check\_sparse\_determinant}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ halfA,\ dA\ );}
\DoxyCodeLine{00368\ \ \ \}}
\DoxyCodeLine{00369\ \}}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver,\ \textcolor{keyword}{typename}\ DenseMat>}
\DoxyCodeLine{00372\ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ \mbox{\hyperlink{sparse__solver_8h_a2a636ef2e7efc175344517158b3c2b70}{generate\_sparse\_square\_problem}}(Solver\&,\ \textcolor{keyword}{typename}\ Solver::MatrixType\&\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ DenseMat\&\ dA,\ \textcolor{keywordtype}{int}\ maxSize\ =\ 300,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{options_8c_a92a8d2cc6467e45662af606615851df8}{options}}\ =\ \mbox{\hyperlink{sparse_8h_aaa0e0961d8919f4b744f64c200ed99fdac57c7eb0d864246e4402f4710e5be051}{ForceNonZeroDiag}})}
\DoxyCodeLine{00373\ \{}
\DoxyCodeLine{00374\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00375\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \ \ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ =\ internal::random<int>(1,maxSize);}
\DoxyCodeLine{00378\ \ \ \textcolor{keywordtype}{double}\ density\ =\ (std::max)(8./(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}),\ 0.01);}
\DoxyCodeLine{00379\ \ \ }
\DoxyCodeLine{00380\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.resize(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00381\ \ \ dA.resize(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \mbox{\hyperlink{sparse_8h_a3ba4abd21a1ace3122406c3b3b27fc5b}{initSparse<Scalar>}}(density,\ dA,\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{options_8c_a92a8d2cc6467e45662af606615851df8}{options}});}
\DoxyCodeLine{00384\ \ \ }
\DoxyCodeLine{00385\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}};}
\DoxyCodeLine{00386\ \}}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structprune__column_a90827c1f1498298114fee4b1fee83e80}{prune\_column}}\ \{}
\DoxyCodeLine{00390\ \ \ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ \mbox{\hyperlink{structprune__column_a2a1dd613323a26eb4806ecf9d9bcc3cf}{m\_col}};}
\DoxyCodeLine{00391\ \ \ \mbox{\hyperlink{structprune__column_a90827c1f1498298114fee4b1fee83e80}{prune\_column}}(\mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ \mbox{\hyperlink{_matrix_base__col_8cpp_aa168d9544aa6d49fce0cbfc0bec849b0}{col}})\ :\ \mbox{\hyperlink{structprune__column_a2a1dd613323a26eb4806ecf9d9bcc3cf}{m\_col}}(\mbox{\hyperlink{_matrix_base__col_8cpp_aa168d9544aa6d49fce0cbfc0bec849b0}{col}})\ \{\}}
\DoxyCodeLine{00392\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Scalar>}
\DoxyCodeLine{00393\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structprune__column_a87671de949eab1099a614e2b6a6c4c23}{operator()}}(\mbox{\hyperlink{class_eigen_1_1_tensor}{Index}},\ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ \mbox{\hyperlink{_matrix_base__col_8cpp_aa168d9544aa6d49fce0cbfc0bec849b0}{col}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_product}{Scalar}}\&)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_matrix_base__col_8cpp_aa168d9544aa6d49fce0cbfc0bec849b0}{col}}\ !=\ \mbox{\hyperlink{structprune__column_a2a1dd613323a26eb4806ecf9d9bcc3cf}{m\_col}};}
\DoxyCodeLine{00395\ \ \ \}}
\DoxyCodeLine{00396\ \};}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a12301f6419eb573c0fca674bc589b4f6}{check\_sparse\_square\_solving}}(Solver\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \textcolor{keywordtype}{int}\ maxSize\ =\ 300,\ \textcolor{keywordtype}{int}\ maxRealWorldSize\ =\ 100000,\ \textcolor{keywordtype}{bool}\ checkDeficient\ =\ \textcolor{keyword}{false})}
\DoxyCodeLine{00400\ \{}
\DoxyCodeLine{00401\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00402\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00403\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix<Scalar,ColMajor,\ typename\ Mat::StorageIndex>}}\ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_a04b63929a2578b5ce61f09f0b8b18122}{SpMat}};}
\DoxyCodeLine{00404\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_sparse_vector}{SparseVector<Scalar,\ 0,\ typename\ Mat::StorageIndex>}}\ SpVec;}
\DoxyCodeLine{00405\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,Dynamic>}}\ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}};}
\DoxyCodeLine{00406\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,1>}}\ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}};}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00408\ \ \ \textcolor{keywordtype}{int}\ rhsCols\ =\ internal::random<int>(1,16);}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00410\ \ \ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}}\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}};}
\DoxyCodeLine{00411\ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}}\ dA;}
\DoxyCodeLine{00412\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{namespace_eigen_a59cc9c6d0feb80ae2d45913c7ee7c430}{g\_repeat}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)\ \{}
\DoxyCodeLine{00413\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ =\ \mbox{\hyperlink{sparse__solver_8h_a2a636ef2e7efc175344517158b3c2b70}{generate\_sparse\_square\_problem}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ dA,\ maxSize);}
\DoxyCodeLine{00414\ }
\DoxyCodeLine{00415\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.makeCompressed();}
\DoxyCodeLine{00416\ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ DenseVector::Random(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00417\ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}}\ dB(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},rhsCols);}
\DoxyCodeLine{00418\ \ \ \ \ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_a04b63929a2578b5ce61f09f0b8b18122}{SpMat}}\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},rhsCols);}
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{keywordtype}{double}\ density\ =\ (std::max)(8./(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}*rhsCols),\ 0.1);}
\DoxyCodeLine{00420\ \ \ \ \ \mbox{\hyperlink{sparse_8h_a3ba4abd21a1ace3122406c3b3b27fc5b}{initSparse<Scalar>}}(density,\ dB,\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{sparse_8h_aaa0e0961d8919f4b744f64c200ed99fdac57c7eb0d864246e4402f4710e5be051}{ForceNonZeroDiag}});}
\DoxyCodeLine{00421\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}.makeCompressed();}
\DoxyCodeLine{00422\ \ \ \ \ SpVec\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}.col(0);}
\DoxyCodeLine{00423\ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}}\ dc\ =\ dB.col(0);}
\DoxyCodeLine{00424\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \ dA,\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}));}
\DoxyCodeLine{00425\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ dB,\ dA,\ dB));}
\DoxyCodeLine{00426\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \ dA,\ dB));}
\DoxyCodeLine{00427\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ \ dA,\ dc));}
\DoxyCodeLine{00428\ \ \ \ \ }
\DoxyCodeLine{00429\ \ \ \ \ \textcolor{comment}{//\ check\ only\ once}}
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}==0)}
\DoxyCodeLine{00431\ \ \ \ \ \{}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ DenseVector::Zero(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ dA,\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00434\ \ \ \ \ \}}
\DoxyCodeLine{00435\ \ \ \ \ \textcolor{comment}{//\ regression\ test\ for\ Bug\ 792\ (structurally\ rank\ deficient\ matrices):}}
\DoxyCodeLine{00436\ \ \ \ \ \textcolor{keywordflow}{if}(checkDeficient\ \&\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}>1)\ \{}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ \mbox{\hyperlink{_matrix_base__col_8cpp_aa168d9544aa6d49fce0cbfc0bec849b0}{col}}\ =\ internal::random<int>(0,\textcolor{keywordtype}{int}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}-\/1));}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.prune(\mbox{\hyperlink{structprune__column}{prune\_column}}(\mbox{\hyperlink{_matrix_base__col_8cpp_aa168d9544aa6d49fce0cbfc0bec849b0}{col}}));}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.compute(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_abc88c5b9b25fb749139e353d6e1e3ba8}{VERIFY\_IS\_EQUAL}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}}.info(),\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea1c6e20706575a629b27a105f07f1883b}{NumericalIssue}});}
\DoxyCodeLine{00441\ \ \ \ \ \}}
\DoxyCodeLine{00442\ \ \ \}}
\DoxyCodeLine{00443\ \ \ }
\DoxyCodeLine{00444\ \ \ \textcolor{comment}{//\ First,\ get\ the\ folder\ }}
\DoxyCodeLine{00445\ \textcolor{preprocessor}{\#ifdef\ TEST\_REAL\_CASES}}
\DoxyCodeLine{00446\ \ \ \textcolor{comment}{//\ Test\ real\ problems\ with\ double\ precision\ only}}
\DoxyCodeLine{00447\ \ \ \textcolor{keywordflow}{if}\ (internal::is\_same<\textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1_num_traits}{NumTraits<Scalar>::Real}},\ \textcolor{keywordtype}{double}>\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{::value}})}
\DoxyCodeLine{00448\ \ \ \{}
\DoxyCodeLine{00449\ \ \ \ \ std::string\ mat\_folder\ =\ get\_matrixfolder<Scalar>();}
\DoxyCodeLine{00450\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator}{MatrixMarketIterator<Scalar>}}\ it(mat\_folder);}
\DoxyCodeLine{00451\ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ it;\ ++it)}
\DoxyCodeLine{00452\ \ \ \ \ \{}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}\ =\ it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_a225e3e6415b8eb3a709bb8269133f888}{matrix}}();}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.diagonal().size()\ <=\ maxRealWorldSize)}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_a7aad817f6e07f11ba3c9139e7e4d02b7}{rhs}}();}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}}\ refX\ =\ it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_a610eb67e066cdd31e6777e070fe1086a}{refX}}();}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}INFO\ |\ Testing\ "{}}\ <<\ sym\_to\_string(it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_ace72fd4804dfc9c7fc9018f2712be9fe}{sym}}())\ <<\ \textcolor{stringliteral}{"{}sparse\ problem\ "{}}\ <<\ it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_a79b13fa6510e56c071bc463859b1cbe9}{matname}}()}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ ("{}}\ <<\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.rows()\ <<\ \textcolor{stringliteral}{"{}x"{}}\ <<\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.cols()\ <<\ \textcolor{stringliteral}{"{})\ using\ "{}}\ <<\ \textcolor{keyword}{typeid}(Solver).\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}()\ <<\ \textcolor{stringliteral}{"{}..."{}}\ <<\ std::endl;}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\mbox{\hyperlink{sparse__solver_8h_ab2f968e2c551b1869cf26ef5c6b4909e}{check\_sparse\_solving\_real\_cases}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ refX));}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ std::string\ stats\ =\ solver\_stats(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}});}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(stats.size()>0)}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}INFO\ |\ \ "{}}\ <<\ stats\ <<\ std::endl;}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}INFO\ |\ SKIP\ sparse\ problem\ \(\backslash\)"{}"{}}\ <<\ it.\mbox{\hyperlink{class_eigen_1_1_matrix_market_iterator_a79b13fa6510e56c071bc463859b1cbe9}{matname}}()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ (too\ large)"{}}\ <<\ std::endl;}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00469\ \ \ \ \ \}}
\DoxyCodeLine{00470\ \ \ \}}
\DoxyCodeLine{00471\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00472\ \ \ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_a7cf6d5b460def34dc4e6acf42889b6a9}{EIGEN\_UNUSED\_VARIABLE}}(maxRealWorldSize);}
\DoxyCodeLine{00473\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00474\ }
\DoxyCodeLine{00475\ \}}
\DoxyCodeLine{00476\ }
\DoxyCodeLine{00477\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_ab6d9eedcbfb7e2042a0fd79c6a9a5159}{check\_sparse\_square\_determinant}}(Solver\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}})}
\DoxyCodeLine{00478\ \{}
\DoxyCodeLine{00479\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00480\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00481\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,Dynamic>}}\ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}};}
\DoxyCodeLine{00482\ \ \ }
\DoxyCodeLine{00483\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{namespace_eigen_a59cc9c6d0feb80ae2d45913c7ee7c430}{g\_repeat}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)\ \{}
\DoxyCodeLine{00484\ \ \ \ \ \textcolor{comment}{//\ generate\ the\ problem}}
\DoxyCodeLine{00485\ \ \ \ \ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}}\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}};}
\DoxyCodeLine{00486\ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}}\ dA;}
\DoxyCodeLine{00487\ \ \ \ \ }
\DoxyCodeLine{00488\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ =\ internal::random<int>(1,30);}
\DoxyCodeLine{00489\ \ \ \ \ dA.setRandom(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00490\ \ \ \ \ }
\DoxyCodeLine{00491\ \ \ \ \ dA\ =\ (dA.\mbox{\hyperlink{class_matrix_a3cc1be4794e202734305220b3458177b}{array}}().\mbox{\hyperlink{datatypes_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}}()<0.3).select(0,dA);}
\DoxyCodeLine{00492\ \ \ \ \ dA.diagonal()\ =\ (dA.diagonal().\mbox{\hyperlink{sugar_8h_af6228a2253f88b2affbe0c54d8b5b321}{array}}()==0).select(1,dA.diagonal());}
\DoxyCodeLine{00493\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}\ =\ dA.sparseView();}
\DoxyCodeLine{00494\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.makeCompressed();}
\DoxyCodeLine{00495\ \ \ }
\DoxyCodeLine{00496\ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a77821f9c68aee77a3a6709d463b95e02}{check\_sparse\_determinant}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ dA);}
\DoxyCodeLine{00497\ \ \ \}}
\DoxyCodeLine{00498\ \}}
\DoxyCodeLine{00499\ }
\DoxyCodeLine{00500\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a3e4cd4c7995ac9046c60a5040c1fc429}{check\_sparse\_square\_abs\_determinant}}(Solver\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}})}
\DoxyCodeLine{00501\ \{}
\DoxyCodeLine{00502\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00503\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00504\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,Dynamic>}}\ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}};}
\DoxyCodeLine{00505\ }
\DoxyCodeLine{00506\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{namespace_eigen_a59cc9c6d0feb80ae2d45913c7ee7c430}{g\_repeat}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)\ \{}
\DoxyCodeLine{00507\ \ \ \ \ \textcolor{comment}{//\ generate\ the\ problem}}
\DoxyCodeLine{00508\ \ \ \ \ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}}\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}};}
\DoxyCodeLine{00509\ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}}\ dA;}
\DoxyCodeLine{00510\ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a2a636ef2e7efc175344517158b3c2b70}{generate\_sparse\_square\_problem}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ dA,\ 30);}
\DoxyCodeLine{00511\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.makeCompressed();}
\DoxyCodeLine{00512\ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a9cd6b2c65f978726c4dd9b1172b2dce2}{check\_sparse\_abs\_determinant}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ dA);}
\DoxyCodeLine{00513\ \ \ \}}
\DoxyCodeLine{00514\ \}}
\DoxyCodeLine{00515\ }
\DoxyCodeLine{00516\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver,\ \textcolor{keyword}{typename}\ DenseMat>}
\DoxyCodeLine{00517\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_a19f9005edec71898fb0cbac2b70089ca}{generate\_sparse\_leastsquare\_problem}}(Solver\&,\ \textcolor{keyword}{typename}\ Solver::MatrixType\&\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ DenseMat\&\ dA,\ \textcolor{keywordtype}{int}\ maxSize\ =\ 300,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{options_8c_a92a8d2cc6467e45662af606615851df8}{options}}\ =\ \mbox{\hyperlink{sparse_8h_aaa0e0961d8919f4b744f64c200ed99fdac57c7eb0d864246e4402f4710e5be051}{ForceNonZeroDiag}})}
\DoxyCodeLine{00518\ \{}
\DoxyCodeLine{00519\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00520\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00521\ }
\DoxyCodeLine{00522\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}}\ =\ internal::random<int>(1,maxSize);}
\DoxyCodeLine{00523\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}}\ =\ internal::random<int>(1,\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}});}
\DoxyCodeLine{00524\ \ \ \textcolor{keywordtype}{double}\ density\ =\ (std::max)(8./(\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}}*\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}}),\ 0.01);}
\DoxyCodeLine{00525\ \ \ }
\DoxyCodeLine{00526\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.resize(\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}},\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}});}
\DoxyCodeLine{00527\ \ \ dA.resize(\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}},\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}});}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00529\ \ \ \mbox{\hyperlink{sparse_8h_a3ba4abd21a1ace3122406c3b3b27fc5b}{initSparse<Scalar>}}(density,\ dA,\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{options_8c_a92a8d2cc6467e45662af606615851df8}{options}});}
\DoxyCodeLine{00530\ \}}
\DoxyCodeLine{00531\ }
\DoxyCodeLine{00532\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Solver>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sparse__solver_8h_aa559b721502e88a13007ed08ab0a8685}{check\_sparse\_leastsquare\_solving}}(Solver\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}})}
\DoxyCodeLine{00533\ \{}
\DoxyCodeLine{00534\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Solver::MatrixType\ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}};}
\DoxyCodeLine{00535\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1_plain_object_base_a7f978b0b6cad676c9d01c2840f8113f5}{Mat::Scalar}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00536\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix<Scalar,ColMajor,\ typename\ Mat::StorageIndex>}}\ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_a04b63929a2578b5ce61f09f0b8b18122}{SpMat}};}
\DoxyCodeLine{00537\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,Dynamic>}}\ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}};}
\DoxyCodeLine{00538\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,1>}}\ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}};}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00540\ \ \ \textcolor{keywordtype}{int}\ rhsCols\ =\ internal::random<int>(1,16);}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00542\ \ \ \mbox{\hyperlink{gemm_8cpp_af8aa4e04fe5d1aa229a8909d0c412986}{Mat}}\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}};}
\DoxyCodeLine{00543\ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}}\ dA;}
\DoxyCodeLine{00544\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{namespace_eigen_a59cc9c6d0feb80ae2d45913c7ee7c430}{g\_repeat}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)\ \{}
\DoxyCodeLine{00545\ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a19f9005edec71898fb0cbac2b70089ca}{generate\_sparse\_leastsquare\_problem}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ dA);}
\DoxyCodeLine{00546\ }
\DoxyCodeLine{00547\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.makeCompressed();}
\DoxyCodeLine{00548\ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_a2f3f67c514b9315305427f94ed179c53}{DenseVector}}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ DenseVector::Random(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.rows());}
\DoxyCodeLine{00549\ \ \ \ \ \mbox{\hyperlink{_bench_sparse_util_8h_ac8485cdde68067acc4788b568e5a44ef}{DenseMatrix}}\ dB(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.rows(),rhsCols);}
\DoxyCodeLine{00550\ \ \ \ \ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_a04b63929a2578b5ce61f09f0b8b18122}{SpMat}}\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.rows(),rhsCols);}
\DoxyCodeLine{00551\ \ \ \ \ \textcolor{keywordtype}{double}\ density\ =\ (std::max)(8./(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.rows()*rhsCols),\ 0.1);}
\DoxyCodeLine{00552\ \ \ \ \ \mbox{\hyperlink{sparse_8h_a3ba4abd21a1ace3122406c3b3b27fc5b}{initSparse<Scalar>}}(density,\ dB,\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{sparse_8h_aaa0e0961d8919f4b744f64c200ed99fdac57c7eb0d864246e4402f4710e5be051}{ForceNonZeroDiag}});}
\DoxyCodeLine{00553\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}.makeCompressed();}
\DoxyCodeLine{00554\ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \ dA,\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00555\ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ dB,\ dA,\ dB);}
\DoxyCodeLine{00556\ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \ dA,\ dB);}
\DoxyCodeLine{00557\ \ \ \ \ }
\DoxyCodeLine{00558\ \ \ \ \ \textcolor{comment}{//\ check\ only\ once}}
\DoxyCodeLine{00559\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}==0)}
\DoxyCodeLine{00560\ \ \ \ \ \{}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ DenseVector::Zero(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.rows());}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \mbox{\hyperlink{sparse__solver_8h_a2f19cda157e1f89db0769de982ecc5fa}{check\_sparse\_solving}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a209feb53f749fbb1b8caa36d3ee85979}{solver}},\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ dA,\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00563\ \ \ \ \ \}}
\DoxyCodeLine{00564\ \ \ \}}
\DoxyCodeLine{00565\ \}}

\end{DoxyCode}
