\doxysection{external/spine-\/runtimes/spine-\/cocos2dx 目录参考}
\hypertarget{dir_7a55ec0666b976e498a72dee645eb399}{}\label{dir_7a55ec0666b976e498a72dee645eb399}\index{external/spine-\/runtimes/spine-\/cocos2dx 目录参考@{external/spine-\/runtimes/spine-\/cocos2dx 目录参考}}
spine-\/cocos2dx 的目录依赖关系图
% FIG 0
\doxysubsubsection*{目录}
\begin{DoxyCompactItemize}
\item 
目录 \mbox{\hyperlink{dir_7b2de9e89da16250ada699e86bb3255b}{example}}
\item 
目录 \mbox{\hyperlink{dir_884e8c8a1e7740a1e5f472dd8ab7e19b}{spine-\/cocos2dx}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
The spine-\/cocos2dx runtime provides functionality to load, manipulate and render \href{http://esotericsoftware.com}{\texttt{ Spine}} skeletal animation data using \href{http://www.cocos2d-x.org/}{\texttt{ cocos2d-\/x}}. spine-\/cocos2dx is based on \href{../spine-cpp}{\texttt{ spine-\/cpp}}.\hypertarget{README.md_autotoc_md949}{}\doxysubsection{\texorpdfstring{Licensing}{Licensing}}\label{README.md_autotoc_md949}
You are welcome to evaluate the \doxylink{namespace_spine}{Spine} Runtimes and the examples we provide in this repository free of charge.

You can integrate the \doxylink{namespace_spine}{Spine} Runtimes into your software free of charge, but users of your software must have their own \href{https://esotericsoftware.com/spine-purchase}{\texttt{ Spine license}}. Please make your users aware of this requirement! This option is often chosen by those making development tools, such as an SDK, game toolkit, or software library.

In order to distribute your software containing the \doxylink{namespace_spine}{Spine} Runtimes to others that don\textquotesingle{}t have a \doxylink{namespace_spine}{Spine} license, you need a \href{https://esotericsoftware.com/spine-purchase}{\texttt{ Spine license}} at the time of integration. Then you can distribute your software containing the \doxylink{namespace_spine}{Spine} Runtimes however you like, provided others don\textquotesingle{}t modify it or use it to create new software. If others want to do that, they\textquotesingle{}ll need their own \doxylink{namespace_spine}{Spine} license.

For the official legal terms governing the \doxylink{namespace_spine}{Spine} Runtimes, please read the \href{http://esotericsoftware.com/spine-runtimes-license}{\texttt{ Spine Runtimes License Agreement}} and Section 2 of the \href{http://esotericsoftware.com/spine-editor-license\#s2}{\texttt{ Spine Editor License Agreement}}.\hypertarget{README.md_autotoc_md950}{}\doxysubsection{\texorpdfstring{Spine version}{Spine version}}\label{README.md_autotoc_md950}
spine-\/cocos2dx works with data exported from \doxylink{namespace_spine}{Spine} 4.\+2.\+xx.

spine-\/cocos2dx supports all \doxylink{namespace_spine}{Spine} features.\hypertarget{README.md_autotoc_md951}{}\doxysubsection{\texorpdfstring{Setup}{Setup}}\label{README.md_autotoc_md951}
The setup for cocos2d-\/x differs from most other \doxylink{namespace_spine}{Spine} Runtimes because the cocos2d-\/x distribution includes a copy of the \doxylink{namespace_spine}{Spine} Runtime files. This is not ideal because these files may be old and fail to work with the latest \doxylink{namespace_spine}{Spine} editor. Also it means if cocos2d-\/x is updated, you may get newer \doxylink{namespace_spine}{Spine} Runtime files which can break your application if you are not using the latest \doxylink{namespace_spine}{Spine} editor. For these reasons, we have requested cocos2d-\/x to cease distributing the \doxylink{namespace_spine}{Spine} Runtime files, but they continue to do so. The following instructions allow you to use the official \doxylink{namespace_spine}{Spine} cocos2d-\/x runtime with your cocos2d-\/x project.

spine-\/cocos2dx works with both Cocos2d-\/x v3 and v4. The setup process is identical in both cases. The preferred way to integrate spine-\/cocos2dx into your Cocos2d-\/x project is to use the \mbox{[}Cocos2d-\/x CMake build system\mbox{]}.


\begin{DoxyEnumerate}
\item \href{https://docs.cocos2d-x.org/cocos2d-x/v4/en/editors_and_tools/cocosCLTool.html}{\texttt{ Create a new C++ cocos2d-\/x project}}. Let\textquotesingle{}s assume you created your project in a folder {\ttfamily /path/to/\+My\+Game/} somewhere on your disk.
\item Download the \doxylink{namespace_spine}{Spine} Runtimes source using git ({\ttfamily git clone \href{https://github.com/esotericsoftware/spine-runtimes}{\texttt{ https\+://github.\+com/esotericsoftware/spine-\/runtimes}}}) or download it as a zip via the download button above. Let\textquotesingle{}s assume you cloned the \doxylink{namespace_spine}{Spine} Runtimes to a folder {\ttfamily /path/to/spine-\/runtimes/} somewhere on your disk.
\item Open {\ttfamily My\+Game/\+CMake\+Lists.\+txt} in a text editor and modify it as follows\+:
\begin{DoxyItemize}
\item After the line {\ttfamily project(\$\{APP\+\_\+\+NAME\})} add the following line\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{include(/path/to/spine-\/runtimes/spine-\/cocos2dx/spine-\/cocos2dx.cmake)}

\end{DoxyCode}

\item Before the line {\ttfamily target\+\_\+link\+\_\+libraries(\$\{APP\+\_\+\+NAME\} cocos2d)}add the following line\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \ target\_link\_libraries(\$\{APP\_NAME\}\ spine-\/cpp\ spine-\/cocos2dx)}
\DoxyCodeLine{\ \ \ \ \ @icode\ }
\DoxyCodeLine{4.\ [Proceed\ with\ generating\ IDE\ files\ via\ CMake](https://docs.cocos2d-\/x.org/cocos2d-\/x/v4/en/installation/CMake-\/Guide.html)\ and\ build\ and\ run\ your\ project.}
\DoxyCodeLine{}
\DoxyCodeLine{For\ reference,\ have\ a\ look\ at\ our\ spine-\/cocos2dx\ example\ project\ in\ this\ repository\ described\ below.}
\DoxyCodeLine{}
\DoxyCodeLine{\#\#\ Example}
\DoxyCodeLine{}
\DoxyCodeLine{The\ spine-\/cocos2dx\ example\ works\ on\ Windows,\ Linux,\ macOS,\ iOS,\ Linux,\ and\ Android,\ for\ both\ cocos2d-\/x\ v3\ and\ v4.}
\DoxyCodeLine{}
\DoxyCodeLine{Please\ [install\ the\ reprequisit\ software](https://docs.cocos2d-\/x.org/cocos2d-\/x/v4/en/installation/prerequisites.html)\ as\ per\ the\ Cocos2d-\/x\ documentation.\ Ensure\ that\ the\ following\ programs\ are\ in\ your\ \`{}PATH`\ environment\ variable\ and\ thus\ executable\ from\ the\ command\ line:}
\DoxyCodeLine{}
\DoxyCodeLine{-\/\ \`{}git`}
\DoxyCodeLine{-\/\ \`{}cmake`}
\DoxyCodeLine{-\/\ \`{}python`}
\DoxyCodeLine{}
\DoxyCodeLine{Before\ you\ can\ compile\ and\ run\ the\ example\ project\ for\ a\ specific\ target\ platform,\ you\ need\ to\ clone\ the\ [Cocos2d-\/x\ repository](https://github.com/cocos2d/cocos2d-\/x)\ to\ \`{}spine-\/runtimes/spine-\/cocos2dx/example/cocos2d`\ and\ download\ the\ dependencies:}

\end{DoxyCode}
 cd spine-\/runtimes/spine-\/cocos2dx/example git clone -\/b v4 --depth 1 \href{https://github.com/cocos2d/cocos2d-x}{\texttt{ https\+://github.\+com/cocos2d/cocos2d-\/x}} cocos2d python cocos2d/download-\/deps.\+py -\/r yes 
\begin{DoxyCode}{0}
\DoxyCodeLine{>\ **NOTE:**\ If\ you\ want\ to\ run\ the\ example\ with\ Cocos2d-\/x\ version\ 3,\ replace\ \`{}-\/b\ v4`\ with\ \`{}-\/b\ v3`\ in\ the\ \`{}git\ clone`\ command.}
\DoxyCodeLine{}
\DoxyCodeLine{>\ **NOTE:**\ On\ macOS\ Big\ Sur,\ replace\ \`{}python`\ with\ \`{}python3`.}
\DoxyCodeLine{}
\DoxyCodeLine{You\ can\ now\ use\ CMake\ to\ create\ IDE\ projects\ for\ the\ target\ platform\ you\ want\ to\ compile\ and\ run\ the\ example\ on.}
\DoxyCodeLine{}
\DoxyCodeLine{\#\#\#\ macOS}
\DoxyCodeLine{}
\DoxyCodeLine{Execute\ the\ following\ on\ the\ command\ line:}

\end{DoxyCode}
 cd spine-\/runtimes/spine-\/cocos2dx/example mkdir build-\/macos \&\& cmake . -\/GXcode -\/Bbuild-\/macos -\/DCMAKE\+\_\+\+OSX\+\_\+\+ARCHITECTURES=x86\+\_\+64 open build-\/macos/spine-\/cocos2dx-\/example.\+xcodeproj 
\begin{DoxyCode}{0}
\DoxyCodeLine{This\ will\ generate\ an\ Xcode\ project\ in\ \`{}build-\/macos/spine-\/cocos2dx-\/example.xcodeproj`\ and\ open\ it\ in\ Xcode.\ To\ build\ and\ run\ the\ example,\ select\ the\ \`{}spine-\/cocos2dx-\/example`\ scheme\ and\ press\ \`{}CMD\ +\ R`.}
\DoxyCodeLine{}
\DoxyCodeLine{>\ **NOTE:**\ Passing\ \`{}-\/DCMAKE\_OSX\_ARCHITECTURES=x86\_64`\ to\ CMake\ is\ currently\ required,\ as\ Cocos2d-\/X\ only\ provides\ prebuilt\ x86\_64\ binaries\ for\ its\ external\ dependencies.}
\DoxyCodeLine{}
\DoxyCodeLine{\#\#\#\ iOS}
\DoxyCodeLine{}
\DoxyCodeLine{Execute\ the\ following\ on\ the\ command\ line:}

\end{DoxyCode}
 cd spine-\/runtimes/spine-\/cocos2dx/example mkdir build-\/ios \&\& cmake . -\/GXcode -\/DCMAKE\+\_\+\+SYSTEM\+\_\+\+NAME=i\+OS -\/DCMAKE\+\_\+\+OSX\+\_\+\+SYSROOT=iphoneos -\/Bbuild-\/ios open build-\/ios/spine-\/cocos2dx-\/example.\+xcodeproj 
\begin{DoxyCode}{0}
\DoxyCodeLine{This\ will\ generate\ an\ Xcode\ project\ in\ \`{}build-\/ios/spine-\/cocos2dx-\/example.xcodeproj`\ and\ open\ it\ in\ Xcode.\ To\ build\ and\ run\ the\ example,\ select\ the\ \`{}spine-\/cocos2dx-\/example`\ scheme\ and\ select\ a\ device\ or\ simulator\ to\ build\ for\ and\ run\ on.\ Finally,\ press\ \`{}CMD\ +\ R`\ to\ build\ and\ run\ the\ example.}
\DoxyCodeLine{}
\DoxyCodeLine{\#\#\#\ Android}
\DoxyCodeLine{}
\DoxyCodeLine{Open\ the\ project\ in\ \`{}proj.android`\ in\ Android\ Studio.\ Make\ sure\ you\ have\ NDK\ version\ \`{}24.0.8215888`\ installed\ via\ the\ SDK\ Manager.\ Alternatively,\ you\ can\ set\ the\ \`{}ndkVersion`\ property\ in\ \`{}proj.android/app/build.gradle`\ to\ the\ NDK\ version\ you\ have\ installed\ locally.}
\DoxyCodeLine{}
\DoxyCodeLine{\#\#\#\ Windows}
\DoxyCodeLine{}
\DoxyCodeLine{Execute\ the\ following\ on\ the\ command\ line:}

\end{DoxyCode}
 cd spine-\/runtimes/spine-\/cocos2dx/example mkdir build-\/win cmake . -\/\doxylink{struct_g}{G} "{}\+Visual Studio 16 2019"{} -\/\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} Win32 -\/T host=x86 -\/Bbuild-\/win 
\end{DoxyItemize}
\end{DoxyEnumerate}

You can then open the file {\ttfamily build-\/win/spine-\/cocos2dx-\/example.\+sln} with Visual Studio 2019. In the solution explorer, right click the {\ttfamily spine-\/cocos2dx-\/example} project, then click {\ttfamily Set as Startup Project} in the context menu. Finally, click the {\ttfamily Local Windows Debugger} button to build and run the example.\hypertarget{README.md_autotoc_md952}{}\doxysubsection{\texorpdfstring{Notes}{Notes}}\label{README.md_autotoc_md952}

\begin{DoxyItemize}
\item Images are premultiplied by cocos2d-\/x, so the \doxylink{namespace_spine}{Spine} atlas images should {\itshape not} use premultiplied alpha.
\item Two color tinting needs to be enabled on a per-\/skeleton basis. Call {\ttfamily Skeleton\+Renderer\+::set\+Two\+Color\+Tine(true)} or {\ttfamily Skeleton\+Animation\+::set\+Two\+Color\+Tint(true)} after you created the skeleton instance. Note that two color tinting requires a custom shader and vertex format. Skeletons rendered with two color tinting can therefore not be batched with single color tinted skeletons or other 2D cocos2d-\/x elements like sprites. However, two-\/color tinted skeletons will be batched if possible when rendered after one another. Attaching a child to a two color tinted skeleton will also break the batch. 
\end{DoxyItemize}