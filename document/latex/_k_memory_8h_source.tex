\doxysection{KMemory.\+h}
\hypertarget{_k_memory_8h_source}{}\label{_k_memory_8h_source}\index{external/spine-\/runtimes/spine-\/c/spine-\/c-\/unit-\/tests/memory/KMemory.h@{external/spine-\/runtimes/spine-\/c/spine-\/c-\/unit-\/tests/memory/KMemory.h}}
\mbox{\hyperlink{_k_memory_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ \_\_KANJIMEMORY\_H\_\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ \_\_KANJIMEMORY\_H\_\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{stdint_8h}{stdint.h}}>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#if\ defined(\_DEBUG)\ \&\&\ !defined(KANJI\_MEMTRACE)}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#define\ KANJI\_MEMTRACE}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifdef\ WIN32}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#pragma\ warning(disable\ :\ 4595)}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00016\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ HOW\ TO\ USE\ THIS\ FILE}}
\DoxyCodeLine{00017\ \textcolor{comment}{//}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ In\ the\ desired\ .CPP\ file\ (NOT\ header\ file),\ AFTER\ ALL\ of\ your}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ \ \#include\ declarations,\ do\ a\ \#include\ "{}KMemory.h"{}\ or\ whatever\ you\ renamed}}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ \ this\ file\ to.\ It's\ very\ important\ that\ you\ do\ it\ only\ in\ the\ .cpp\ and}}
\DoxyCodeLine{00021\ \textcolor{comment}{//\ \ after\ every\ other\ include\ file,\ otherwise\ it\ won't\ compile.\ \ The\ memory\ leaks}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ \ will\ appear\ in\ a\ file\ called\ mem\_leaks.txt\ and\ they\ will\ also\ be\ printed\ out}}
\DoxyCodeLine{00023\ \textcolor{comment}{//\ \ in\ the\ output\ window\ when\ the\ program\ exits.}}
\DoxyCodeLine{00024\ \textcolor{comment}{//}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#ifndef\ SAFE\_DELETE}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#define\ SAFE\_DELETE(pPtr)\ \{\ if(pPtr)\ delete\ pPtr;\ pPtr\ =\ 0;\ \}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#ifndef\ SCOPED\_AUTO\_SAFE\_DELETE}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00034\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_scoped_auto_delete_pointer_helper_ad1508725f5d8956c9eb3ce25b4905c41}{ScopedAutoDeletePointerHelper}}\ \{}
\DoxyCodeLine{00035\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{class_scoped_auto_delete_pointer_helper_ad1508725f5d8956c9eb3ce25b4905c41}{ScopedAutoDeletePointerHelper}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ pPtr)\ :\ \mbox{\hyperlink{class_scoped_auto_delete_pointer_helper_a6a2e2055ff3e79d5e1af697c5410dbb1}{\_pPtr}}(pPtr)\ \{\}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{class_scoped_auto_delete_pointer_helper_acd48107f219411b89294b08b491c5e8d}{\string~ScopedAutoDeletePointerHelper}}()\ \{\mbox{\hyperlink{_k_memory_8h_a548021eb1f5e38371ed68847a00eb7b3}{SAFE\_DELETE}}(\mbox{\hyperlink{class_scoped_auto_delete_pointer_helper_a6a2e2055ff3e79d5e1af697c5410dbb1}{\_pPtr}});\ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{class_scoped_auto_delete_pointer_helper_a6a2e2055ff3e79d5e1af697c5410dbb1}{\_pPtr}};}
\DoxyCodeLine{00041\ \};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#define\ SCOPED\_AUTO\_SAFE\_DELETE(p)\ ScopedAutoDeletePointerHelper<decltype(p)>\ anAutoDelete\#\#p(p);}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#ifndef\ SAFE\_DELETE\_ARRAY}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#define\ SAFE\_DELETE\_ARRAY(pPtr)\ \{\ if(pPtr)\ delete\ []\ pPtr;\ pPtr\ =\ 0;\ \}}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_k_memory_8h_ae172226baae4eb1a46576be0e22c83ee}{KMemoryDumpUnfreed}}();}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_k_memory_8h_a563cd04465d46915929354bae3f296a6}{KMemoryAllocated}}();}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#ifdef\ WIN32}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#define\ KMEM\_CALLTYPE\ \_\_cdecl}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#define\ KMEM\_CALLTYPE}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#ifdef\ \_\_APPLE\_\_}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#define\ KMEM\_THROWSPEC\ throw(std::bad\_alloc)}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#define\ KMEM\_THROWS\_BADALLOC}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#include\ <new>}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#define\ KMEM\_THROWSPEC}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#if\ defined(KANJI\_MEMTRACE)}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00073\ \textcolor{comment}{//\ DO\ NOT\ CALL\ THESE\ TWO\ METHODS\ DIRECTLY\ \ //}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_k_memory_8cpp_a4231902562a813eadd456e52c21530f0}{KMemoryAddTrack}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{ittnotify__static_8h_a5a45e81e22c3c12a69b24c775466de97}{addr}},\ \textcolor{keywordtype}{size\_t}\ asize,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *fname,\ \textcolor{keywordtype}{int}\ lnum);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_k_memory_8cpp_a6c15c9547531ce4f09246e0bb70b15a5}{KMemoryRemoveTrack}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{ittnotify__static_8h_a5a45e81e22c3c12a69b24c775466de97}{addr}});}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \textcolor{comment}{//Replacement\ for\ the\ standard\ malloc/free,\ records\ size\ of\ allocation\ and\ the\ file/line\ number\ it\ was\ on}}
\DoxyCodeLine{00081\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{_k_memory_8h_adcc87be35dc7fc48155706c901d6b8b2}{\_kanjimalloc}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *file,\ \textcolor{keywordtype}{int}\ line)\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ =\ (\textcolor{keywordtype}{void}\ *)\ \mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{_k_memory_8cpp_a4231902562a813eadd456e52c21530f0}{KMemoryAddTrack}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ file,\ line);}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00085\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{_k_memory_8h_adcc87be35dc7fc48155706c901d6b8b2}{\_kanjimalloc}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_k_memory_8h_adcc87be35dc7fc48155706c901d6b8b2}{\_kanjimalloc}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \textcolor{stringliteral}{"{}"{}},\ 0);}
\DoxyCodeLine{00089\ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_k_memory_8h_a66cefaf6bc0310691aa83aa4cbeb8fd9}{\_kanjifree}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{_k_memory_8cpp_a6c15c9547531ce4f09246e0bb70b15a5}{KMemoryRemoveTrack}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00094\ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{_k_memory_8h_ab070d39fced9317b28bab2701f226eef}{\_kanjirealloc}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *file,\ \textcolor{keywordtype}{int}\ line)\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{void}\ *ptr2\ =\ (\textcolor{keywordtype}{void}\ *)\ \mbox{\hyperlink{mimalloc-override_8h_adbbb9b1695e5714db8873077d44ade2f}{realloc}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{if}\ (ptr2)\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_k_memory_8cpp_a6c15c9547531ce4f09246e0bb70b15a5}{KMemoryRemoveTrack}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_k_memory_8cpp_a4231902562a813eadd456e52c21530f0}{KMemoryAddTrack}}(ptr2,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ file,\ line);}
\DoxyCodeLine{00101\ \ \ \ \ \}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{return}\ ptr2;}
\DoxyCodeLine{00103\ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{_k_memory_8h_ab070d39fced9317b28bab2701f226eef}{\_kanjirealloc}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_k_memory_8h_ab070d39fced9317b28bab2701f226eef}{\_kanjirealloc}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \textcolor{stringliteral}{"{}"{}},\ 0);}
\DoxyCodeLine{00107\ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#define\ kanjimalloc(size)\ \_kanjimalloc((size),\ \_\_FILE\_\_,\ \_\_LINE\_\_)}}
\DoxyCodeLine{00110\ \textcolor{preprocessor}{\#define\ kanjifree\ \_kanjifree}}
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#define\ kanjirealloc(ptr,\ size)\ \_kanjirealloc(ptr,\ size,\ \_\_FILE\_\_,\ \_\_LINE\_\_)}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{comment}{//Replacement\ for\ the\ standard\ "{}new"{}\ operator,\ records\ size\ of\ allocation\ and\ the\ file/line\ number\ it\ was\ on}}
\DoxyCodeLine{00114\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{_k_memory_8h_a21b4150e3d5284e197567ae11c295307}{KMEM\_CALLTYPE}}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{new}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{namespace_c_l_i_1_1detail_a20a9a67e5f06ba0dc3f2ded2fed16f55a8c7dd922ad47494fc02c388e12c00eac}{file}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceconvert__lib__params__windows_a51664afdbf908eca147fd68e17dc2b64}{line}})\ \{}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ =\ (\textcolor{keywordtype}{void}\ *)\ \mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00116\ \ \ \ \ \mbox{\hyperlink{_k_memory_8cpp_a4231902562a813eadd456e52c21530f0}{KMemoryAddTrack}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ file,\ line);}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00118\ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \textcolor{comment}{//Same\ as\ above,\ but\ for\ arrays}}
\DoxyCodeLine{00121\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{_k_memory_8h_a21b4150e3d5284e197567ae11c295307}{KMEM\_CALLTYPE}}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{new}[](\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{namespace_c_l_i_1_1detail_a20a9a67e5f06ba0dc3f2ded2fed16f55a8c7dd922ad47494fc02c388e12c00eac}{file}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceconvert__lib__params__windows_a51664afdbf908eca147fd68e17dc2b64}{line}})\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ =\ (\textcolor{keywordtype}{void}\ *)\ \mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{_k_memory_8cpp_a4231902562a813eadd456e52c21530f0}{KMemoryAddTrack}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ file,\ line);}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00125\ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{comment}{//\ These\ single\ argument\ new\ operators\ allow\ vc6\ apps\ to\ compile\ without\ errors}}
\DoxyCodeLine{00129\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{_k_memory_8h_a21b4150e3d5284e197567ae11c295307}{KMEM\_CALLTYPE}}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{new}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ \mbox{\hyperlink{_k_memory_8h_a6a3bae6b0cda261ebeb7e47b00142ad9}{KMEM\_THROWSPEC}}\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ =\ (\textcolor{keywordtype}{void}\ *)\ \mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00131\ \textcolor{preprocessor}{\#ifdef\ KMEM\_THROWS\_BADALLOC}}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \textcolor{keywordflow}{throw}\ std::bad\_alloc();}
\DoxyCodeLine{00133\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00135\ \}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{_k_memory_8h_a21b4150e3d5284e197567ae11c295307}{KMEM\_CALLTYPE}}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{new}[](\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ \mbox{\hyperlink{_k_memory_8h_a6a3bae6b0cda261ebeb7e47b00142ad9}{KMEM\_THROWSPEC}}\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ =\ (\textcolor{keywordtype}{void}\ *)\ \mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\#ifdef\ KMEM\_THROWS\_BADALLOC}}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \textcolor{keywordflow}{throw}\ std::bad\_alloc();}
\DoxyCodeLine{00141\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ KMEM\_THROWS\_BADALLOC}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00143\ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \textcolor{comment}{//custom\ delete\ operators}}
\DoxyCodeLine{00147\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_k_memory_8h_a21b4150e3d5284e197567ae11c295307}{KMEM\_CALLTYPE}}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{delete}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\ \textcolor{keywordflow}{throw}()\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{_k_memory_8cpp_a6c15c9547531ce4f09246e0bb70b15a5}{KMemoryRemoveTrack}}(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{00149\ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{00150\ \}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_k_memory_8h_a21b4150e3d5284e197567ae11c295307}{KMEM\_CALLTYPE}}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{delete}[](\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\ \textcolor{keywordflow}{throw}()\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \mbox{\hyperlink{_k_memory_8cpp_a6c15c9547531ce4f09246e0bb70b15a5}{KMemoryRemoveTrack}}(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{00154\ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{00155\ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \textcolor{comment}{//needed\ in\ case\ in\ the\ constructor\ of\ the\ class\ we're\ newing,\ it\ throws\ an\ exception}}
\DoxyCodeLine{00158\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_k_memory_8h_a21b4150e3d5284e197567ae11c295307}{KMEM\_CALLTYPE}}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{delete}(\textcolor{keywordtype}{void}\ *pMem,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{namespace_c_l_i_1_1detail_a20a9a67e5f06ba0dc3f2ded2fed16f55a8c7dd922ad47494fc02c388e12c00eac}{file}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceconvert__lib__params__windows_a51664afdbf908eca147fd68e17dc2b64}{line}})\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(pMem);}
\DoxyCodeLine{00160\ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_k_memory_8h_a21b4150e3d5284e197567ae11c295307}{KMEM\_CALLTYPE}}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{delete}[](\textcolor{keywordtype}{void}\ *pMem,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{namespace_c_l_i_1_1detail_a20a9a67e5f06ba0dc3f2ded2fed16f55a8c7dd922ad47494fc02c388e12c00eac}{file}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceconvert__lib__params__windows_a51664afdbf908eca147fd68e17dc2b64}{line}})\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(pMem);}
\DoxyCodeLine{00164\ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\#define\ KDEBUG\_NEW\ new(\_\_FILE\_\_,\ \_\_LINE\_\_)}}
\DoxyCodeLine{00167\ \textcolor{preprocessor}{\#define\ new\ KDEBUG\_NEW}}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ KANJI\_MEMTRACE\ NOT\ DEFINED}}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\#define\ kanjimalloc\ malloc}}
\DoxyCodeLine{00172\ \textcolor{preprocessor}{\#define\ kanjifree\ free}}
\DoxyCodeLine{00173\ \textcolor{preprocessor}{\#define\ kanjirealloc\ realloc}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{_k_memory_8h_adcc87be35dc7fc48155706c901d6b8b2}{\_kanjimalloc}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});\ \}}
\DoxyCodeLine{00176\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \mbox{\hyperlink{_k_memory_8h_a66cefaf6bc0310691aa83aa4cbeb8fd9}{\_kanjifree}}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{\ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});\ \}}
\DoxyCodeLine{00177\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{_k_memory_8h_ab070d39fced9317b28bab2701f226eef}{\_kanjirealloc}}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{mimalloc-override_8h_adbbb9b1695e5714db8873077d44ade2f}{realloc}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});\ \}}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ KANJI\_MEMTRACE}}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_KANJIMEMORY\_H\_\_}}

\end{DoxyCode}
