\doxysection{large\+\_\+objects.\+cpp}
\hypertarget{large__objects_8cpp_source}{}\label{large__objects_8cpp_source}\index{external/taskflow/3rd-\/party/tbb/src/tbbmalloc/large\_objects.cpp@{external/taskflow/3rd-\/party/tbb/src/tbbmalloc/large\_objects.cpp}}
\mbox{\hyperlink{large__objects_8cpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbbmalloc__internal_8h}{tbbmalloc\_internal.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbb__environment_8h}{tbb/tbb\_environment.h}}"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{comment}{/*******************************\ Allocation\ of\ large\ objects\ *********************************************/}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerml}{rml}}\ \{}
\DoxyCodeLine{00023\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerml_1_1internal}{internal}}\ \{}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ Large\ Object\ cache\ init\ section\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a81c2be94178d790e10c7a32d97e4a979}{LargeObjectCache::init}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *memPool)}
\DoxyCodeLine{00028\ \{}
\DoxyCodeLine{00029\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}}\ =\ memPool;}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{comment}{//\ scalable\_allocation\_mode\ can\ be\ called\ before\ allocator\ initialization,\ respect\ this\ manual\ request}}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_aeb7b2a72b63cca54d14f50509fb3d46e}{hugeSizeThreshold}}\ ==\ 0)\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Huge\ size\ threshold\ initialization\ if\ environment\ variable\ was\ set}}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ requestedThreshold\ =\ \mbox{\hyperlink{namespacetbb_1_1internal_a9a89752c9101799490d672a1215d942a}{tbb::internal::GetIntegralEnvironmentVariable}}(\textcolor{stringliteral}{"{}TBB\_MALLOC\_SET\_HUGE\_SIZE\_THRESHOLD"{}});}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Read\ valid\ env\ or\ initialize\ by\ default\ with\ max\ possible\ values}}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (requestedThreshold\ !=\ -\/1)\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_abae80bbf0e42a0a758ff7224c10a9013}{setHugeSizeThreshold}}(requestedThreshold);}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_abae80bbf0e42a0a758ff7224c10a9013}{setHugeSizeThreshold}}(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ae0356feedd6ddbb526b0d9a63a08dcff}{maxHugeSize}});}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00040\ \ \ \ \ \}}
\DoxyCodeLine{00041\ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ Huge\ size\ threshold\ settings\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_abae80bbf0e42a0a758ff7224c10a9013}{LargeObjectCache::setHugeSizeThreshold}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}})}
\DoxyCodeLine{00046\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//\ Valid\ in\ the\ huge\ cache\ range:\ [MaxLargeSize,\ MaxHugeSize].}}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ <=\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ae0356feedd6ddbb526b0d9a63a08dcff}{maxHugeSize}})\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_aeb7b2a72b63cca54d14f50509fb3d46e}{hugeSizeThreshold}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ >=\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a5be5bc9abe0fb0609dd4fc7772591b71}{maxLargeSize}}\ ?\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a60b70cf5fd394c20459885fa6f093cb2}{alignToBin}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}})\ :\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a5be5bc9abe0fb0609dd4fc7772591b71}{maxLargeSize}};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ local\ indexes\ for\ the\ global\ threshold\ size\ (for\ fast\ search\ inside\ a\ regular\ cleanup)}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.hugeSizeThresholdIdx\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a34709ca417a364cded490b911baef26f}{LargeCacheType::numBins}};}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.hugeSizeThresholdIdx\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ac554d480cadb2599e4505c78ad87965b}{HugeCacheType::sizeToIdx}}(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_aeb7b2a72b63cca54d14f50509fb3d46e}{hugeSizeThreshold}});}
\DoxyCodeLine{00054\ \ \ \ \ \}}
\DoxyCodeLine{00055\ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a87779cd29e33583310ff57af869cf6cf}{LargeObjectCache::sizeInCacheRange}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})}
\DoxyCodeLine{00058\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ <=\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ae0356feedd6ddbb526b0d9a63a08dcff}{maxHugeSize}}\ \&\&\ (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size\ <=\ defaultMaxHugeSize\ ||\ size\ >}}=\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_aeb7b2a72b63cca54d14f50509fb3d46e}{hugeSizeThreshold}});}
\DoxyCodeLine{00060\ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \textcolor{comment}{/*\ The\ functor\ called\ by\ the\ aggregator\ for\ the\ operation\ list\ */}}
\DoxyCodeLine{00065\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>}
\DoxyCodeLine{00066\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aab3a9f73292df5cf839c651edcf7f0a9}{CacheBinFunctor}}\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin}{LargeObjectCacheImpl<Props>::CacheBin}}\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}};}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a411dd003f4a5923977d756a44a0e5eb0}{extMemPool}};}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{LargeObjectCacheImpl<Props>::BinBitMask}}\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a42aab9fdadfd12e1772c879cd7d7edc8}{bitMask}};}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a470b16a6faf5e07a4c7006694414e055}{idx}};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a8b6b413968d7c3baf9e0cfb04cb26387}{toRelease}};}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a846652675c10cca570f1fa489fc703e6}{needCleanup}};}
\DoxyCodeLine{00074\ \ \ \ \ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aa328c35692f5c61e001fb4b884deba47}{currTime}};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{/*\ Do\ preprocessing\ under\ the\ operation\ list.\ */}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{comment}{/*\ All\ the\ OP\_PUT\_LIST\ operations\ are\ merged\ in\ the\ one\ operation.}}
\DoxyCodeLine{00078\ \textcolor{comment}{\ \ \ \ \ \ \ All\ OP\_GET\ operations\ are\ merged\ with\ the\ OP\_PUT\_LIST\ operations\ but}}
\DoxyCodeLine{00079\ \textcolor{comment}{\ \ \ \ \ \ \ it\ demands\ the\ update\ of\ the\ moving\ average\ value\ in\ the\ bin.}}
\DoxyCodeLine{00080\ \textcolor{comment}{\ \ \ \ \ \ \ Only\ the\ last\ OP\_CLEAN\_TO\_THRESHOLD\ operation\ has\ sense.}}
\DoxyCodeLine{00081\ \textcolor{comment}{\ \ \ \ \ \ \ The\ OP\_CLEAN\_ALL\ operation\ also\ should\ be\ performed\ only\ once.}}
\DoxyCodeLine{00082\ \textcolor{comment}{\ \ \ \ \ \ \ Moreover\ it\ cancels\ the\ OP\_CLEAN\_TO\_THRESHOLD\ operation.\ */}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_aeecf398d6d2af81dffc84b81364dd818}{OperationPreprocessor}}\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ remove\ the\ dependency\ on\ CacheBin.}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin}{LargeObjectCacheImpl<Props>::CacheBin}}\ *\textcolor{keyword}{const}\ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a9197eb3011fb7a40f258b7ce3ba88d39}{bin}};}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Contains\ the\ relative\ time\ in\ the\ operation\ list.}}
\DoxyCodeLine{00088\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ It\ counts\ in\ the\ reverse\ order\ since\ the\ aggregator\ also}}
\DoxyCodeLine{00089\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ provides\ operations\ in\ the\ reverse\ order.\ */}}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a1ebd2845c3a80cf1c112f3b4408e834c}{lclTime}};}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ opGet\ contains\ only\ OP\_GET\ operations\ which\ cannot\ be\ merge\ with\ OP\_PUT\ operations}}
\DoxyCodeLine{00093\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ opClean\ contains\ all\ OP\_CLEAN\_TO\_THRESHOLD\ and\ OP\_CLEAN\_ALL\ operations.\ */}}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}},\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a91fedcc2a4ebaecc55dac4ef2df15d1e}{opClean}};}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ The\ time\ of\ the\ last\ OP\_CLEAN\_TO\_THRESHOLD\ operations\ */}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a12e6f97ee6fc11e5b746c513d833ef2a}{cleanTime}};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ lastGetOpTime\ -\/\ the\ time\ of\ the\ last\ OP\_GET\ operation.}}
\DoxyCodeLine{00099\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ lastGet\ -\/\ the\ same\ meaning\ as\ CacheBin::lastGet\ */}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a4edadc435b745791211c8956cc01ef74}{lastGetOpTime}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_adcfc3ebab248e355619bfd108ec37764}{lastGet}};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ The\ total\ sum\ of\ all\ usedSize\ changes\ requested\ with\ CBOP\_UPDATE\_USED\_SIZE\ operations.\ */}}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a23f76677ad0a3f59de3b78cb6a0d7408}{updateUsedSize}};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ The\ list\ of\ blocks\ for\ the\ OP\_PUT\_LIST\ operation.\ */}}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}},\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ae78c0a438f67cc0e1a93a1d313cc97c9}{tail}};}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a7563a87286c50be45acd68a7195c6912}{putListNum}};}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ if\ the\ OP\_CLEAN\_ALL\ is\ requested.\ */}}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a5f596e6414ea099954770cca9fd1f3ad}{isCleanAll}};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a690f5e4d50f8a091ae8401c755a43201}{commitOperation}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *op)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a8af44d38b771402098be3784ec767646}{addOpToOpList}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *op,\ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ **opList)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a0e19f04724c9340c92a9df934ec5cf38}{getFromPutList}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}*\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}},\ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aa328c35692f5c61e001fb4b884deba47}{currTime}});}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a8504f00099c02daa0e43c95498e6fc10}{addToPutList}}(\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}},\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ae78c0a438f67cc0e1a93a1d313cc97c9}{tail}},\ \textcolor{keywordtype}{int}\ num\ );}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_aeecf398d6d2af81dffc84b81364dd818}{OperationPreprocessor}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin}{LargeObjectCacheImpl<Props>::CacheBin}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a9197eb3011fb7a40f258b7ce3ba88d39}{bin}})\ :}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a9197eb3011fb7a40f258b7ce3ba88d39}{bin}}(\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a9197eb3011fb7a40f258b7ce3ba88d39}{bin}}),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a1ebd2845c3a80cf1c112f3b4408e834c}{lclTime}}(0),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a91fedcc2a4ebaecc55dac4ef2df15d1e}{opClean}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a12e6f97ee6fc11e5b746c513d833ef2a}{cleanTime}}(0),}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a4edadc435b745791211c8956cc01ef74}{lastGetOpTime}}(0),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a23f76677ad0a3f59de3b78cb6a0d7408}{updateUsedSize}}(0),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a5f596e6414ea099954770cca9fd1f3ad}{isCleanAll}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})\ \ \{\}}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a9c649d0e876c5b7e2e72a6314641a27c}{operator()}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}*\ opList);}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a3871ba4c31a8831fc357ec97561dbb77}{getTimeRange}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ -\/\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a1ebd2845c3a80cf1c112f3b4408e834c}{lclTime}};\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a431b17f0107e4690cc0e280e78326a58}{CacheBinFunctor}};}
\DoxyCodeLine{00125\ \ \ \ \ \};}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aab3a9f73292df5cf839c651edcf7f0a9}{CacheBinFunctor}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin}{LargeObjectCacheImpl<Props>::CacheBin}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}},\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a411dd003f4a5923977d756a44a0e5eb0}{extMemPool}},}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{LargeObjectCacheImpl<Props>::BinBitMask}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a42aab9fdadfd12e1772c879cd7d7edc8}{bitMask}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a470b16a6faf5e07a4c7006694414e055}{idx}})\ :}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}(\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a411dd003f4a5923977d756a44a0e5eb0}{extMemPool}}(\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a411dd003f4a5923977d756a44a0e5eb0}{extMemPool}}),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a42aab9fdadfd12e1772c879cd7d7edc8}{bitMask}}(\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a42aab9fdadfd12e1772c879cd7d7edc8}{bitMask}}),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a470b16a6faf5e07a4c7006694414e055}{idx}}(\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a470b16a6faf5e07a4c7006694414e055}{idx}}),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a8b6b413968d7c3baf9e0cfb04cb26387}{toRelease}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a846652675c10cca570f1fa489fc703e6}{needCleanup}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})\ \{\}}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_ab43a402b558e52317bc0ca6c91a44f33}{operator()}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}*\ opList);}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a527ea67afe469f808f387dc4e8e6b00d}{isCleanupNeeded}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a846652675c10cca570f1fa489fc703e6}{needCleanup}};\ \}}
\DoxyCodeLine{00134\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_ad5e99db15f2e160b10e60f6de87b3591}{getToRelease}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a8b6b413968d7c3baf9e0cfb04cb26387}{toRelease}};\ \}}
\DoxyCodeLine{00135\ \ \ \ \ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a7625290ce2e90bb75240a6c2090dbc48}{getCurrTime}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aa328c35692f5c61e001fb4b884deba47}{currTime}};\ \}}
\DoxyCodeLine{00136\ \};}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ Cache\ Bin\ Aggregator\ Operation\ Helpers\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \textcolor{comment}{//\ The\ list\ of\ structures\ which\ describe\ the\ operation\ data}}
\DoxyCodeLine{00141\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrml_1_1internal_1_1_op_get}{OpGet}}\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717}{CacheBinOperationType}}\ \mbox{\hyperlink{structrml_1_1internal_1_1_op_get_a28040d27682207b9fd319a5cef0e0d8e}{type}}\ =\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717aa9301e3d8f752fa5c273b862f6e5445a}{CBOP\_GET}};}
\DoxyCodeLine{00143\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ **\mbox{\hyperlink{structrml_1_1internal_1_1_op_get_a28900220e993772d0903734d563a1f3b}{res}};}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structrml_1_1internal_1_1_op_get_a945bece83e743a49829ae81200704df7}{size}};}
\DoxyCodeLine{00145\ \ \ \ \ uintptr\_t\ \mbox{\hyperlink{structrml_1_1internal_1_1_op_get_a11c9a90f605147ad0c32ef806596e340}{currTime}};}
\DoxyCodeLine{00146\ \};}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrml_1_1internal_1_1_op_put_list}{OpPutList}}\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717}{CacheBinOperationType}}\ \mbox{\hyperlink{structrml_1_1internal_1_1_op_put_list_a51141d17a54a3bbd5277cd90a72f72cf}{type}}\ =\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717a8a68cb060c489dc5aabcfb1b21a00979}{CBOP\_PUT\_LIST}};}
\DoxyCodeLine{00150\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{structrml_1_1internal_1_1_op_put_list_a6675ebdc575b32397671db2161e35e85}{head}};}
\DoxyCodeLine{00151\ \};}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_to_threshold}{OpCleanToThreshold}}\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717}{CacheBinOperationType}}\ \mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_to_threshold_a904154bbd957ec3a458adc8000974d2e}{type}}\ =\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717ac6ac4eaa23bbdef870ba56ac233ccea6}{CBOP\_CLEAN\_TO\_THRESHOLD}};}
\DoxyCodeLine{00155\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ **\mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_to_threshold_aa3b4094fce8b7405821126f3c150f5dd}{res}};}
\DoxyCodeLine{00156\ \ \ \ \ uintptr\_t\ \mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_to_threshold_a845bcd3da63851ae558264c320af0bdf}{currTime}};}
\DoxyCodeLine{00157\ \};}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_all}{OpCleanAll}}\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717}{CacheBinOperationType}}\ \mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_all_ae4e3e020a9d63ed08686a29e4d30187a}{type}}\ =\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717a56ffc8e4c6bea25559fcf73990eed8c2}{CBOP\_CLEAN\_ALL}};}
\DoxyCodeLine{00161\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ **\mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_all_aa133087dcb76a899a1027c85d9c3a420}{res}};}
\DoxyCodeLine{00162\ \};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrml_1_1internal_1_1_op_update_used_size}{OpUpdateUsedSize}}\ \{}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717}{CacheBinOperationType}}\ \mbox{\hyperlink{structrml_1_1internal_1_1_op_update_used_size_abbe9150ef3c79e29f791b861ddf05f37}{type}}\ =\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717af226200577643aabb2b99bbad4b76182}{CBOP\_UPDATE\_USED\_SIZE}};}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structrml_1_1internal_1_1_op_update_used_size_aec240cfb7ce427c640981288cedfd12e}{size}};}
\DoxyCodeLine{00167\ \};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \textcolor{keyword}{union\ }\mbox{\hyperlink{unionrml_1_1internal_1_1_cache_bin_operation_data}{CacheBinOperationData}}\ \{}
\DoxyCodeLine{00170\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00171\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_op_get}{OpGet}}\ \mbox{\hyperlink{unionrml_1_1internal_1_1_cache_bin_operation_data_a478686db2dd76eac68401b73837e0f8f}{opGet}};}
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_op_put_list}{OpPutList}}\ \mbox{\hyperlink{unionrml_1_1internal_1_1_cache_bin_operation_data_ab12cc1bbaa64295f67dbb7fd64d33a07}{opPutList}};}
\DoxyCodeLine{00173\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_to_threshold}{OpCleanToThreshold}}\ \mbox{\hyperlink{unionrml_1_1internal_1_1_cache_bin_operation_data_adf654605e04b487dde922ef073460289}{opCleanToThreshold}};}
\DoxyCodeLine{00174\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_all}{OpCleanAll}}\ \mbox{\hyperlink{unionrml_1_1internal_1_1_cache_bin_operation_data_aa4f75c6bf7314c21d5f0231c6b1edeab}{opCleanAll}};}
\DoxyCodeLine{00175\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_op_update_used_size}{OpUpdateUsedSize}}\ \mbox{\hyperlink{unionrml_1_1internal_1_1_cache_bin_operation_data_a106da5d2520e1d7e43e6bd1d203ae9ae}{opUpdateUsedSize}};}
\DoxyCodeLine{00176\ \};}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \textcolor{comment}{//\ Forward\ declarations}}
\DoxyCodeLine{00179\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OpTypeData>\ OpTypeData\&\ \mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ \&op);}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \textcolor{comment}{//\ Describes\ the\ aggregator\ operation}}
\DoxyCodeLine{00182\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation_ac12d12123353afcd98363d40c35d810a}{CacheBinOperation}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{struct_malloc_aggregated_operation}{MallocAggregatedOperation}}<CacheBinOperation>\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation_a7969bcfed65edafde21727551b35587c}{::type}}\ \{}
\DoxyCodeLine{00183\ \ \ \ \ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717}{CacheBinOperationType}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{type}};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OpTypeData>}
\DoxyCodeLine{00186\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation_ac12d12123353afcd98363d40c35d810a}{CacheBinOperation}}(OpTypeData\ \&\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}},\ \mbox{\hyperlink{namespacerml_1_1internal_a02c08c1188f0ba8a55bd4c45427282a5}{CacheBinOperationStatus}}\ st\ =\ \mbox{\hyperlink{namespacerml_1_1internal_a02c08c1188f0ba8a55bd4c45427282a5a5d04629785f41df13fe843011d27df6e}{CBST\_WAIT}})\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation_aa35962895ff923766660e201c0166d21}{opCast<OpTypeData>}}(*\textcolor{keyword}{this})\ =\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}};}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{type}}\ =\ OpTypeData::type;}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregated__operation_af9cb2284b25a21823d4131150288a70b}{MallocAggregatedOperation<CacheBinOperation>::type::status}}\ =\ st;}
\DoxyCodeLine{00190\ \ \ \ \ \}}
\DoxyCodeLine{00191\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00192\ \ \ \ \ \mbox{\hyperlink{unionrml_1_1internal_1_1_cache_bin_operation_data}{CacheBinOperationData}}\ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation_a7dce7a26da110d54d2ec18e80c1758cf}{data}};}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OpTypeData>}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keyword}{friend}\ OpTypeData\&\ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation_aa35962895ff923766660e201c0166d21}{opCast}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation_ac12d12123353afcd98363d40c35d810a}{CacheBinOperation}}\ \&op);}
\DoxyCodeLine{00196\ \};}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \textcolor{comment}{//\ The\ opCast\ function\ can\ be\ the\ member\ of\ CacheBinOperation\ but\ it\ will\ have}}
\DoxyCodeLine{00199\ \textcolor{comment}{//\ small\ stylistic\ ambiguity:\ it\ will\ look\ like\ a\ getter\ (with\ a\ cast)\ for\ the}}
\DoxyCodeLine{00200\ \textcolor{comment}{//\ CacheBinOperation::data\ data\ member\ but\ it\ should\ return\ a\ reference\ to}}
\DoxyCodeLine{00201\ \textcolor{comment}{//\ simplify\ the\ code\ from\ a\ lot\ of\ getter/setter\ calls.\ So\ the\ global\ cast\ in}}
\DoxyCodeLine{00202\ \textcolor{comment}{//\ the\ style\ of\ static\_cast\ (or\ reinterpret\_cast)\ seems\ to\ be\ more\ readable\ and}}
\DoxyCodeLine{00203\ \textcolor{comment}{//\ have\ more\ explicit\ semantic.}}
\DoxyCodeLine{00204\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OpTypeData>}
\DoxyCodeLine{00205\ OpTypeData\&\ \mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation_ac12d12123353afcd98363d40c35d810a}{CacheBinOperation}}\ \&op)\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{reinterpret\_cast<}OpTypeData*\textcolor{keyword}{>}(\&op.\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation_a7dce7a26da110d54d2ec18e80c1758cf}{data}});}
\DoxyCodeLine{00207\ \}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#if\ \_\_TBB\_MALLOC\_LOCACHE\_STAT}}
\DoxyCodeLine{00212\ intptr\_t\ mallocCalls,\ cacheHits;}
\DoxyCodeLine{00213\ intptr\_t\ memAllocKB,\ memHitKB;}
\DoxyCodeLine{00214\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacerml_1_1internal_abd8056b19a9a6bf84b71b0fd6bb52fb5}{lessThanWithOverflow}}(intptr\_t\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ intptr\_t\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})}
\DoxyCodeLine{00217\ \{}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ <\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ \&\&\ (\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ -\/\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ <\ \mbox{\hyperlink{eabase_8h_ab2355300ea19395357e62d780f4dd073}{UINTPTR\_MAX}}/2))\ ||}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ >\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ \&\&\ (\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ -\/\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ >\ \mbox{\hyperlink{eabase_8h_ab2355300ea19395357e62d780f4dd073}{UINTPTR\_MAX}}/2));}
\DoxyCodeLine{00220\ \}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ Operation\ processing\ methods\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a690f5e4d50f8a091ae8401c755a43201}{CacheBinFunctor<Props>::}}}
\DoxyCodeLine{00225\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a690f5e4d50f8a091ae8401c755a43201}{\ \ \ \ OperationPreprocessor::commitOperation}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *op)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00226\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00227\ \ \ \ \ \mbox{\hyperlink{_synchronize_8h_a19886ee3899c0a2435ea9840116ea325}{FencedStore}}(\ (intptr\_t\&)(op-\/>status),\ \mbox{\hyperlink{namespacerml_1_1internal_a02c08c1188f0ba8a55bd4c45427282a5af10797eae2c0b0cc30b4ece7796aba90}{CBST\_DONE}}\ );}
\DoxyCodeLine{00228\ \}}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a8af44d38b771402098be3784ec767646}{CacheBinFunctor<Props>::}}}
\DoxyCodeLine{00231\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a8af44d38b771402098be3784ec767646}{\ \ \ \ OperationPreprocessor::addOpToOpList}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *op,\ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ **opList)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00232\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00233\ \ \ \ \ op-\/>next\ =\ *opList;}
\DoxyCodeLine{00234\ \ \ \ \ *opList\ =\ op;}
\DoxyCodeLine{00235\ \}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a0e19f04724c9340c92a9df934ec5cf38}{CacheBinFunctor<Props>::}}}
\DoxyCodeLine{00238\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a0e19f04724c9340c92a9df934ec5cf38}{\ \ \ \ OperationPreprocessor::getFromPutList}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}},\ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aa328c35692f5c61e001fb4b884deba47}{currTime}})}
\DoxyCodeLine{00239\ \{}
\DoxyCodeLine{00240\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}}\ )\ \{}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ uintptr\_t\ age\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}}-\/>age;}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *next\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}}-\/>next;}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast<OpGet>}}(*opGet).res\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}};}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a690f5e4d50f8a091ae8401c755a43201}{commitOperation}}(\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}}\ );}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}}\ =\ next;}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a7563a87286c50be45acd68a7195c6912}{putListNum}}-\/-\/;}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a7563a87286c50be45acd68a7195c6912}{putListNum}}>=0,\ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}}\ );}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ use\ moving\ average\ with\ current\ hit\ interval}}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a9197eb3011fb7a40f258b7ce3ba88d39}{bin}}-\/>updateMeanHitRange(\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aa328c35692f5c61e001fb4b884deba47}{currTime}}\ -\/\ age\ );}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00252\ \ \ \ \ \}}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00254\ \}}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a8504f00099c02daa0e43c95498e6fc10}{CacheBinFunctor<Props>::}}}
\DoxyCodeLine{00257\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a8504f00099c02daa0e43c95498e6fc10}{\ \ \ \ OperationPreprocessor::addToPutList}}(\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}},\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}},\ \textcolor{keywordtype}{int}\ num)}
\DoxyCodeLine{00258\ \{}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}}\ )\ \{}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}},\ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}}\ );}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}-\/>next\ =\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}};}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}-\/>prev\ =\ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}};}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}\ =\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}};}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ putListNum\ +=\ num;}
\DoxyCodeLine{00265\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}}\ =\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}};}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}\ =\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}};}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ putListNum\ =\ num;}
\DoxyCodeLine{00269\ \ \ \ \ \}}
\DoxyCodeLine{00270\ \}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a9c649d0e876c5b7e2e72a6314641a27c}{CacheBinFunctor<Props>::}}}
\DoxyCodeLine{00273\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a9c649d0e876c5b7e2e72a6314641a27c}{\ \ \ \ OperationPreprocessor::operator()}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}*\ opList)}
\DoxyCodeLine{00274\ \{}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{keywordflow}{for}\ (\ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *op\ =\ opList,\ *opNext;\ op;\ op\ =\ opNext\ )\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ opNext\ =\ op-\/>next;}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\ op-\/>type\ )\ \{}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717aa9301e3d8f752fa5c273b862f6e5445a}{CBOP\_GET}}:}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a1ebd2845c3a80cf1c112f3b4408e834c}{lclTime}}-\/-\/;}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a4edadc435b745791211c8956cc01ef74}{lastGetOpTime}}\ )\ \{}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a4edadc435b745791211c8956cc01ef74}{lastGetOpTime}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a1ebd2845c3a80cf1c112f3b4408e834c}{lclTime}};}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_adcfc3ebab248e355619bfd108ec37764}{lastGet}}\ =\ 0;}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_adcfc3ebab248e355619bfd108ec37764}{lastGet}}\ )\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_adcfc3ebab248e355619bfd108ec37764}{lastGet}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a1ebd2845c3a80cf1c112f3b4408e834c}{lclTime}};}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a0e19f04724c9340c92a9df934ec5cf38}{getFromPutList}}(op,\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a1ebd2845c3a80cf1c112f3b4408e834c}{lclTime}})\ )\ \{}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast<OpGet>}}(*op).currTime\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a1ebd2845c3a80cf1c112f3b4408e834c}{lclTime}};}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a8af44d38b771402098be3784ec767646}{addOpToOpList}}(\ op,\ \&\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}}\ );}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717a8a68cb060c489dc5aabcfb1b21a00979}{CBOP\_PUT\_LIST}}:}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}}\ =\ \mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast<OpPutList>}}(*op).head;}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *curr\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}},\ *prev\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\ =\ 0;}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ do\ not\ kept\ prev\ pointers\ during\ assigning\ blocks\ to\ bins,\ set\ them\ now}}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ curr-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a3687b4a5f07044935f9cef3047e3c285}{prev}}\ =\ prev;}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Save\ the\ local\ times\ to\ the\ memory\ blocks.\ Local\ times\ are\ necessary}}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ for\ the\ getFromPutList\ function\ which\ updates\ the\ hit\ range\ value\ in}}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ CacheBin\ when\ OP\_GET\ and\ OP\_PUT\_LIST\ operations\ are\ merged\ successfully.}}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ age\ will\ be\ updated\ to\ the\ correct\ global\ time\ after\ preprocessing}}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ when\ global\ cache\ time\ is\ updated.}}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ curr-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a19d1063456bebeb3c16b5b3b78fd6c58}{age}}\ =\ -\/-\/\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a1ebd2845c3a80cf1c112f3b4408e834c}{lclTime}};}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\ =\ curr;}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\ +=\ 1;}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbbmalloc_2statistics_8h_a45adf7cb101679d45b142782cc324196}{STAT\_increment}}(\mbox{\hyperlink{namespacerml_1_1internal_a2877b2db91c23b8b7eb1d37891c40b2b}{getThreadId}}(),\ \mbox{\hyperlink{tbbmalloc_2statistics_8h_a5a9c41cecb75f90ed25e0b1b73f455d3}{ThreadCommonCounters}},\ \mbox{\hyperlink{tbbmalloc_2statistics_8h_ad0224919995a97978c3f07e260461115ac62d8374e1a1d669fe0474061b57eacc}{cacheLargeObj}});}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ ((curr\ =\ curr-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a556cab303968471599e3491cfcbeaeb8}{next}})\ !=\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ae78c0a438f67cc0e1a93a1d313cc97c9}{tail}}\ =\ prev;}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a8504f00099c02daa0e43c95498e6fc10}{addToPutList}}(\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ae78c0a438f67cc0e1a93a1d313cc97c9}{tail}},\ num);}
\DoxyCodeLine{00318\ }
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}}\ )\ \{}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *next\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}}-\/>next;}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a0e19f04724c9340c92a9df934ec5cf38}{getFromPutList}}(\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}},\ \mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast<OpGet>}}(*opGet).currTime)\ )}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}}\ =\ next;}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717af226200577643aabb2b99bbad4b76182}{CBOP\_UPDATE\_USED\_SIZE}}:}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a23f76677ad0a3f59de3b78cb6a0d7408}{updateUsedSize}}\ +=\ \mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast<OpUpdateUsedSize>}}(*op).size;}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a690f5e4d50f8a091ae8401c755a43201}{commitOperation}}(\ op\ );}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717a56ffc8e4c6bea25559fcf73990eed8c2}{CBOP\_CLEAN\_ALL}}:}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a5f596e6414ea099954770cca9fd1f3ad}{isCleanAll}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a8af44d38b771402098be3784ec767646}{addOpToOpList}}(\ op,\ \&\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a91fedcc2a4ebaecc55dac4ef2df15d1e}{opClean}}\ );}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacerml_1_1internal_af78f6812c5dab10cf50055e62d6d8717ac6ac4eaa23bbdef870ba56ac233ccea6}{CBOP\_CLEAN\_TO\_THRESHOLD}}:}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aa328c35692f5c61e001fb4b884deba47}{currTime}}\ =\ \mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast<OpCleanToThreshold>}}(*op).currTime;}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ don't\ worry\ about\ currTime\ overflow\ since\ it\ is\ a\ rare}}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ occurrence\ and\ doesn't\ affect\ correctness}}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a12e6f97ee6fc11e5b746c513d833ef2a}{cleanTime}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a12e6f97ee6fc11e5b746c513d833ef2a}{cleanTime}}\ <\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aa328c35692f5c61e001fb4b884deba47}{currTime}}\ ?\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aa328c35692f5c61e001fb4b884deba47}{currTime}}\ :\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a12e6f97ee6fc11e5b746c513d833ef2a}{cleanTime}};}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a8af44d38b771402098be3784ec767646}{addOpToOpList}}(\ op,\ \&\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a91fedcc2a4ebaecc55dac4ef2df15d1e}{opClean}}\ );}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\ \textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}Unknown\ operation."{}}\ );}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00351\ \ \ \ \ \}}
\DoxyCodeLine{00352\ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\ !(\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}}\ \&\&\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}}\ ),\ \textcolor{stringliteral}{"{}Not\ all\ put/get\ pairs\ are\ processed!"{}}\ );}
\DoxyCodeLine{00353\ \}}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00355\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_ab43a402b558e52317bc0ca6c91a44f33}{CacheBinFunctor<Props>::operator()}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}*\ opList)}
\DoxyCodeLine{00356\ \{}
\DoxyCodeLine{00357\ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\ opList,\ \textcolor{stringliteral}{"{}Empty\ operation\ list\ is\ passed\ into\ operation\ handler."{}}\ );}
\DoxyCodeLine{00358\ }
\DoxyCodeLine{00359\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor}{OperationPreprocessor}}\ prep(\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}});}
\DoxyCodeLine{00360\ \ \ \ \ prep(opList);}
\DoxyCodeLine{00361\ }
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ uintptr\_t\ timeRange\ =\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a3871ba4c31a8831fc357ec97561dbb77}{getTimeRange}}()\ )\ \{}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ uintptr\_t\ startTime\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a411dd003f4a5923977d756a44a0e5eb0}{extMemPool}}-\/>loc.getCurrTimeRange(timeRange);}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ endTime\ is\ used\ as\ the\ current\ (base)\ time\ since\ the\ local\ time\ is\ negative.}}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ uintptr\_t\ endTime\ =\ startTime\ +\ timeRange;}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a4edadc435b745791211c8956cc01ef74}{lastGetOpTime}}\ \&\&\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_adcfc3ebab248e355619bfd108ec37764}{lastGet}}\ )\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>setLastGet(prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_adcfc3ebab248e355619bfd108ec37764}{lastGet}}+endTime);}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *opGet\ =\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac31bca3ff7567dad28dd76442cf0c99f}{opGet}}\ )\ \{}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ isEmpty\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00372\ \textcolor{preprocessor}{\#if\ \_\_TBB\_MALLOC\_WHITEBOX\_TEST}}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbbmalloc__whitebox_a0c642131953fcbf832a52dead201ff37}{tbbmalloc\_whitebox::locGetProcessed}}++;}
\DoxyCodeLine{00374\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structrml_1_1internal_1_1_op_get}{OpGet}}\ \&opGetData\ =\ \mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast<OpGet>}}(*opGet);}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !isEmpty\ )\ \{}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>get()\ )\ \{}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uintptr\_t\ getTime\ =\ opGetData.\mbox{\hyperlink{structrml_1_1internal_1_1_op_get_a11c9a90f605147ad0c32ef806596e340}{currTime}}\ +\ endTime;}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ use\ moving\ average\ with\ current\ hit\ interval}}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>updateMeanHitRange(\ getTime\ -\/\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}-\/>age);}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>updateCachedSize(\ -\/opGetData.\mbox{\hyperlink{structrml_1_1internal_1_1_op_get_a945bece83e743a49829ae81200704df7}{size}}\ );}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *opGetData.\mbox{\hyperlink{structrml_1_1internal_1_1_op_get_a28900220e993772d0903734d563a1f3b}{res}}\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ isEmpty\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uintptr\_t\ lastGetOpTime\ =\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a4edadc435b745791211c8956cc01ef74}{lastGetOpTime}}+endTime;}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>forgetOutdatedState(lastGetOpTime);}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>updateAgeThreshold(lastGetOpTime);}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *opNext\ =\ opGet-\/>next;}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>updateUsedSize(\ opGetData.\mbox{\hyperlink{structrml_1_1internal_1_1_op_get_a945bece83e743a49829ae81200704df7}{size}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a42aab9fdadfd12e1772c879cd7d7edc8}{bitMask}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a470b16a6faf5e07a4c7006694414e055}{idx}}\ );}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a690f5e4d50f8a091ae8401c755a43201}{commitOperation}}(\ opGet\ );}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ opGet\ =\ opNext;}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (\ opGet\ );}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a4edadc435b745791211c8956cc01ef74}{lastGetOpTime}}\ )}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>setLastGet(\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a4edadc435b745791211c8956cc01ef74}{lastGetOpTime}}\ +\ endTime\ );}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *curr\ =\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}}\ )\ \{}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \ \ \ \ curr-\/>prev\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\ curr\ )\ \{}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ local\ times\ to\ global\ times}}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ curr-\/>age\ +=\ endTime;}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ curr=curr-\/>next;}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00405\ \textcolor{preprocessor}{\#if\ \_\_TBB\_MALLOC\_WHITEBOX\_TEST}}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbbmalloc__whitebox_a2dd61371cc9df02e02bebd3455cabfcd}{tbbmalloc\_whitebox::locPutProcessed}}+=prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a7563a87286c50be45acd68a7195c6912}{putListNum}};}
\DoxyCodeLine{00407\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a8b6b413968d7c3baf9e0cfb04cb26387}{toRelease}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>putList(prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ac2f8538b9bc3e0c364cacbe1e4e09bad}{head}},\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_ae78c0a438f67cc0e1a93a1d313cc97c9}{tail}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a42aab9fdadfd12e1772c879cd7d7edc8}{bitMask}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a470b16a6faf5e07a4c7006694414e055}{idx}},\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a7563a87286c50be45acd68a7195c6912}{putListNum}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a411dd003f4a5923977d756a44a0e5eb0}{extMemPool}}-\/>loc.hugeSizeThreshold);}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a846652675c10cca570f1fa489fc703e6}{needCleanup}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a411dd003f4a5923977d756a44a0e5eb0}{extMemPool}}-\/>loc.isCleanupNeededOnRange(timeRange,\ startTime);}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_aa328c35692f5c61e001fb4b884deba47}{currTime}}\ =\ endTime\ -\/\ 1;}
\DoxyCodeLine{00412\ \ \ \ \ \}}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *opClean\ =\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a91fedcc2a4ebaecc55dac4ef2df15d1e}{opClean}}\ )\ \{}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a5f596e6414ea099954770cca9fd1f3ad}{isCleanAll}}\ )}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast<OpCleanAll>}}(*opClean).res\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>cleanAll(\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a42aab9fdadfd12e1772c879cd7d7edc8}{bitMask}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a470b16a6faf5e07a4c7006694414e055}{idx}});}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{namespacerml_1_1internal_a3b44672eb667dbaebd9c9bb4ed8f50ab}{opCast<OpCleanToThreshold>}}(*opClean).res\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>cleanToThreshold(prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a12e6f97ee6fc11e5b746c513d833ef2a}{cleanTime}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a42aab9fdadfd12e1772c879cd7d7edc8}{bitMask}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a470b16a6faf5e07a4c7006694414e055}{idx}});}
\DoxyCodeLine{00419\ }
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *opNext\ =\ opClean-\/>next;}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a690f5e4d50f8a091ae8401c755a43201}{commitOperation}}(\ opClean\ );}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ ((opClean\ =\ opNext)\ !=\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ opNext\ =\ opClean-\/>next;}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a690f5e4d50f8a091ae8401c755a43201}{commitOperation}}(opClean);}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00427\ \ \ \ \ \}}
\DoxyCodeLine{00428\ }
\DoxyCodeLine{00429\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ =\ prep.\mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_1_1_operation_preprocessor_a23f76677ad0a3f59de3b78cb6a0d7408}{updateUsedSize}}\ )}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_abd48c753ca667e7f026feb70e95303e4}{bin}}-\/>updateUsedSize(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a42aab9fdadfd12e1772c879cd7d7edc8}{bitMask}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor_a470b16a6faf5e07a4c7006694414e055}{idx}});}
\DoxyCodeLine{00431\ \}}
\DoxyCodeLine{00432\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00433\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ Methods\ for\ creating\ and\ executing\ operations\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00434\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a6cce97dff8571c847de9520272c12343}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00435\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a6cce97dff8571c847de9520272c12343}{\ \ \ \ CacheBin::ExecuteOperation}}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *op,\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemPool,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{BinBitMask}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ \textcolor{keywordtype}{int}\ idx,\ \textcolor{keywordtype}{bool}\ longLifeTime)}
\DoxyCodeLine{00436\ \{}
\DoxyCodeLine{00437\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_cache_bin_functor}{CacheBinFunctor<Props>}}\ \mbox{\hyperlink{benchmarks_2async__task_2async__task_8hpp_abce53bb5cc1ee70cdc013fd9b93547eb}{func}}(\ \textcolor{keyword}{this},\ extMemPool,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ idx\ );}
\DoxyCodeLine{00438\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a624885b504ec52acca962296805ae3d7}{aggregator}}.execute(\ op,\ \mbox{\hyperlink{structfunc}{func}},\ longLifeTime\ );}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *toRelease\ =\ \mbox{\hyperlink{structfunc}{func}}.getToRelease())\ \{}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ extMemPool-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a86fdbadea90130b4aa51a5e1f2bb8fb3}{backend}}.\mbox{\hyperlink{classrml_1_1internal_1_1_backend_a1fcb1bab9ea664ed7202eb5398a12e0b}{returnLargeObject}}(toRelease);}
\DoxyCodeLine{00442\ \ \ \ \ \}}
\DoxyCodeLine{00443\ }
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{structfunc}{func}}.isCleanupNeeded()\ )\ \{}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ extMemPool-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a278849f2903427f0b7f96f677204b995}{loc}}.\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a67c5f245b2b8b4234de844d0b782d6cb}{doCleanup}}(\ \mbox{\hyperlink{structfunc}{func}}.getCurrTime(),\ \textcolor{comment}{/*doThreshDecr=*/}\textcolor{keyword}{false});}
\DoxyCodeLine{00446\ \ \ \ \ \}}
\DoxyCodeLine{00447\ \}}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00449\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a167f7e4a0fa05c1f5046bed10873672a}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00450\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a167f7e4a0fa05c1f5046bed10873672a}{\ \ \ \ CacheBin::get}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemPool,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{BinBitMask}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ \textcolor{keywordtype}{int}\ idx)}
\DoxyCodeLine{00451\ \{}
\DoxyCodeLine{00452\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *lmb=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00453\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_op_get}{OpGet}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}\ =\ \{\&lmb,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\};}
\DoxyCodeLine{00454\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ op(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}});}
\DoxyCodeLine{00455\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a6cce97dff8571c847de9520272c12343}{ExecuteOperation}}(\ \&op,\ extMemPool,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ idx\ );}
\DoxyCodeLine{00456\ \ \ \ \ \textcolor{keywordflow}{return}\ lmb;}
\DoxyCodeLine{00457\ \}}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a994b7ced227701d222003eef98c90e03}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00460\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a994b7ced227701d222003eef98c90e03}{\ \ \ \ CacheBin::putList}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemPool,\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{BinBitMask}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ \textcolor{keywordtype}{int}\ idx)}
\DoxyCodeLine{00461\ \{}
\DoxyCodeLine{00462\ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}})+\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}})<=\mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}}-\/>unalignedSize,\ \textcolor{stringliteral}{"{}CacheBinOperation\ is\ too\ large\ to\ be\ placed\ in\ LargeMemoryBlock!"{}});}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_op_put_list}{OpPutList}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}\ =\ \{\mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}}\};}
\DoxyCodeLine{00465\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ *op\ =\ \textcolor{keyword}{new}\ (\mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}}+1)\ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}},\ \mbox{\hyperlink{namespacerml_1_1internal_a02c08c1188f0ba8a55bd4c45427282a5ad5f679db8552a96b25100e43b7d4891d}{CBST\_NOWAIT}});}
\DoxyCodeLine{00466\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a6cce97dff8571c847de9520272c12343}{ExecuteOperation}}(\ op,\ extMemPool,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ idx,\ \textcolor{keyword}{false}\ );}
\DoxyCodeLine{00467\ \}}
\DoxyCodeLine{00468\ }
\DoxyCodeLine{00469\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a1315a5f356bec9be31e930cd15797238}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00470\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a1315a5f356bec9be31e930cd15797238}{\ \ \ \ CacheBin::cleanToThreshold}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemPool,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{BinBitMask}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ uintptr\_t\ currTime,\ \textcolor{keywordtype}{int}\ idx)}
\DoxyCodeLine{00471\ \{}
\DoxyCodeLine{00472\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *toRelease\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00473\ }
\DoxyCodeLine{00474\ \ \ \ \ \textcolor{comment}{/*\ oldest\ may\ be\ more\ recent\ then\ age,\ that's\ why\ cast\ to\ signed\ type}}
\DoxyCodeLine{00475\ \textcolor{comment}{\ \ \ \ \ \ \ was\ used.\ age\ overflow\ is\ also\ processed\ correctly.\ */}}
\DoxyCodeLine{00476\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}\ \&\&\ (intptr\_t)(currTime\ -\/\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a5f1126d0cf13d1188fe9475241f6275a}{oldest}})\ >\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a9097c6768e35ae845ac2ae7e5983f4b0}{ageThreshold}})\ \{}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_to_threshold}{OpCleanToThreshold}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}\ =\ \{\&toRelease,\ currTime\};}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ op(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}});}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a6cce97dff8571c847de9520272c12343}{ExecuteOperation}}(\ \&op,\ extMemPool,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ idx\ );}
\DoxyCodeLine{00480\ \ \ \ \ \}}
\DoxyCodeLine{00481\ \ \ \ \ \textcolor{keywordtype}{bool}\ released\ =\ toRelease;}
\DoxyCodeLine{00482\ }
\DoxyCodeLine{00483\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_backend}{Backend}}\ *backend\ =\ \&extMemPool-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a86fdbadea90130b4aa51a5e1f2bb8fb3}{backend}};}
\DoxyCodeLine{00484\ \ \ \ \ \textcolor{keywordflow}{while}\ (\ toRelease\ )\ \{}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *helper\ =\ toRelease-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a556cab303968471599e3491cfcbeaeb8}{next}};}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ backend-\/>\mbox{\hyperlink{classrml_1_1internal_1_1_backend_a1fcb1bab9ea664ed7202eb5398a12e0b}{returnLargeObject}}(toRelease);}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ toRelease\ =\ helper;}
\DoxyCodeLine{00488\ \ \ \ \ \}}
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{keywordflow}{return}\ released;}
\DoxyCodeLine{00490\ \}}
\DoxyCodeLine{00491\ }
\DoxyCodeLine{00492\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a0024e17fcc9acf5385716bdf81877748}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00493\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a0024e17fcc9acf5385716bdf81877748}{\ \ \ \ CacheBin::releaseAllToBackend}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemPool,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{BinBitMask}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ \textcolor{keywordtype}{int}\ idx)}
\DoxyCodeLine{00494\ \{}
\DoxyCodeLine{00495\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *toRelease\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00496\ }
\DoxyCodeLine{00497\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}})\ \{}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_op_clean_all}{OpCleanAll}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}\ =\ \{\&toRelease\};}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ op(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}});}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a6cce97dff8571c847de9520272c12343}{ExecuteOperation}}(\&op,\ extMemPool,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ idx);}
\DoxyCodeLine{00501\ \ \ \ \ \}}
\DoxyCodeLine{00502\ \ \ \ \ \textcolor{keywordtype}{bool}\ released\ =\ toRelease;}
\DoxyCodeLine{00503\ }
\DoxyCodeLine{00504\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_backend}{Backend}}\ *backend\ =\ \&extMemPool-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a86fdbadea90130b4aa51a5e1f2bb8fb3}{backend}};}
\DoxyCodeLine{00505\ \ \ \ \ \textcolor{keywordflow}{while}\ (\ toRelease\ )\ \{}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *helper\ =\ toRelease-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a556cab303968471599e3491cfcbeaeb8}{next}};}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(!helper\ ||\ \mbox{\hyperlink{namespacerml_1_1internal_abd8056b19a9a6bf84b71b0fd6bb52fb5}{lessThanWithOverflow}}(helper-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a19d1063456bebeb3c16b5b3b78fd6c58}{age}},\ toRelease-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a19d1063456bebeb3c16b5b3b78fd6c58}{age}}),}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}});}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ backend-\/>\mbox{\hyperlink{classrml_1_1internal_1_1_backend_a1fcb1bab9ea664ed7202eb5398a12e0b}{returnLargeObject}}(toRelease);}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ toRelease\ =\ helper;}
\DoxyCodeLine{00511\ \ \ \ \ \}}
\DoxyCodeLine{00512\ \ \ \ \ \textcolor{keywordflow}{return}\ released;}
\DoxyCodeLine{00513\ \}}
\DoxyCodeLine{00514\ }
\DoxyCodeLine{00515\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a58206897484048df44d7005ce9d5fc81}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00516\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a58206897484048df44d7005ce9d5fc81}{\ \ \ \ CacheBin::updateUsedSize}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemPool,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{BinBitMask}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ \textcolor{keywordtype}{int}\ idx)}
\DoxyCodeLine{00517\ \{}
\DoxyCodeLine{00518\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_op_update_used_size}{OpUpdateUsedSize}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}\ =\ \{\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\};}
\DoxyCodeLine{00519\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_cache_bin_operation}{CacheBinOperation}}\ op(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}});}
\DoxyCodeLine{00520\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a6cce97dff8571c847de9520272c12343}{ExecuteOperation}}(\ \&op,\ extMemPool,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ idx\ );}
\DoxyCodeLine{00521\ \}}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ Unsafe\ methods\ used\ with\ the\ aggregator\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00525\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a994b7ced227701d222003eef98c90e03}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00526\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a994b7ced227701d222003eef98c90e03}{\ \ \ \ CacheBin::putList}}(\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}},\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{BinBitMask}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ \textcolor{keywordtype}{int}\ idx,\ \textcolor{keywordtype}{int}\ num,\ \textcolor{keywordtype}{size\_t}\ hugeSizeThreshold)}
\DoxyCodeLine{00527\ \{}
\DoxyCodeLine{00528\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ =\ \mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}}-\/>unalignedSize;}
\DoxyCodeLine{00529\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3cc30369c46e1aebf9f91cb853a4dfee}{usedSize}}\ -\/=\ num*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}};}
\DoxyCodeLine{00530\ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\ !\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}\ ||\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>age\ !=\ 0\ \&\&\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>age\ !=\ -\/1U),\ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}}\ );}
\DoxyCodeLine{00531\ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\ (\mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}==\mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}}\ \&\&\ num==1)\ ||\ (\mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}!=\mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}}\ \&\&\ num>1),\ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}}\ );}
\DoxyCodeLine{00532\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *toRelease\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00533\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ <\ hugeSizeThreshold\ \&\&\ !\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3c315b045dddbe34ec4f365b408fcc76}{lastCleanedAge}})\ \{}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 1st\ object\ of\ such\ size\ was\ released.}}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Not\ cache\ it,\ and\ remember\ when\ this\ occurs}}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ to\ take\ into\ account\ during\ cache\ miss.}}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3c315b045dddbe34ec4f365b408fcc76}{lastCleanedAge}}\ =\ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}-\/>age;}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ toRelease\ =\ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}};}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}\ =\ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}-\/>prev;}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}})}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}-\/>next\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ num-\/-\/;}
\DoxyCodeLine{00545\ \ \ \ \ \}}
\DoxyCodeLine{00546\ \ \ \ \ \textcolor{keywordflow}{if}\ (num)\ \{}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ add\ [head;tail]\ list\ to\ cache}}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}},\ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}}\ );}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}-\/>next\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}};}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}})}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}}-\/>prev\ =\ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}};}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}}\ =\ \mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}};}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}})\ \{}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(0\ ==\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a5f1126d0cf13d1188fe9475241f6275a}{oldest}},\ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}});}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a5f1126d0cf13d1188fe9475241f6275a}{oldest}}\ =\ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}-\/>age;}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}\ =\ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}};}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00558\ }
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a034651830709dcfad9f24d4e745692d4}{cachedSize}}\ +=\ num*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}};}
\DoxyCodeLine{00560\ \ \ \ \ \}}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00562\ \ \ \ \ \textcolor{comment}{//\ No\ used\ object,\ and\ nothing\ in\ the\ bin,\ mark\ the\ bin\ as\ empty}}
\DoxyCodeLine{00563\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3cc30369c46e1aebf9f91cb853a4dfee}{usedSize}}\ \&\&\ !\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}})}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}}-\/>set(idx,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00565\ }
\DoxyCodeLine{00566\ \ \ \ \ \textcolor{keywordflow}{return}\ toRelease;}
\DoxyCodeLine{00567\ \}}
\DoxyCodeLine{00568\ }
\DoxyCodeLine{00569\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a167f7e4a0fa05c1f5046bed10873672a}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00570\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a167f7e4a0fa05c1f5046bed10873672a}{\ \ \ \ CacheBin::get}}()}
\DoxyCodeLine{00571\ \{}
\DoxyCodeLine{00572\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}=\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}};}
\DoxyCodeLine{00573\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}})\ \{}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}-\/>next;}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}})}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}}-\/>prev\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a5f1126d0cf13d1188fe9475241f6275a}{oldest}}\ =\ 0;}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00581\ \ \ \ \ \}}
\DoxyCodeLine{00582\ }
\DoxyCodeLine{00583\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{00584\ \}}
\DoxyCodeLine{00585\ }
\DoxyCodeLine{00586\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a5a6ff56f86f68830349785ef6fa0f2c4}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00587\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a5a6ff56f86f68830349785ef6fa0f2c4}{\ \ \ \ CacheBin::forgetOutdatedState}}(uintptr\_t\ currTime)}
\DoxyCodeLine{00588\ \{}
\DoxyCodeLine{00589\ \ \ \ \ \textcolor{comment}{//\ If\ the\ time\ since\ the\ last\ get\ is\ LongWaitFactor\ times\ more\ than\ ageThreshold}}
\DoxyCodeLine{00590\ \ \ \ \ \textcolor{comment}{//\ for\ the\ bin,\ treat\ the\ bin\ as\ rarely-\/used\ and\ forget\ everything\ we\ know}}
\DoxyCodeLine{00591\ \ \ \ \ \textcolor{comment}{//\ about\ it.}}
\DoxyCodeLine{00592\ \ \ \ \ \textcolor{comment}{//\ If\ LongWaitFactor\ is\ too\ small,\ we\ forget\ too\ early\ and}}
\DoxyCodeLine{00593\ \ \ \ \ \textcolor{comment}{//\ so\ prevents\ good\ caching,\ while\ if\ too\ high,\ caching\ blocks}}
\DoxyCodeLine{00594\ \ \ \ \ \textcolor{comment}{//\ with\ unrelated\ usage\ pattern\ occurs.}}
\DoxyCodeLine{00595\ \ \ \ \ \textcolor{keyword}{const}\ uintptr\_t\ sinceLastGet\ =\ currTime\ -\/\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_af69f8f6318625c8b23d0e1b4da9812a9}{lastGet}};}
\DoxyCodeLine{00596\ \ \ \ \ \textcolor{keywordtype}{bool}\ doCleanup\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00597\ }
\DoxyCodeLine{00598\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a9097c6768e35ae845ac2ae7e5983f4b0}{ageThreshold}})}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ doCleanup\ =\ sinceLastGet\ >\ Props::LongWaitFactor\ *\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a9097c6768e35ae845ac2ae7e5983f4b0}{ageThreshold}};}
\DoxyCodeLine{00600\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3c315b045dddbe34ec4f365b408fcc76}{lastCleanedAge}})}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ doCleanup\ =\ sinceLastGet\ >\ Props::LongWaitFactor\ *\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3c315b045dddbe34ec4f365b408fcc76}{lastCleanedAge}}\ -\/\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_af69f8f6318625c8b23d0e1b4da9812a9}{lastGet}});}
\DoxyCodeLine{00602\ }
\DoxyCodeLine{00603\ \ \ \ \ \textcolor{keywordflow}{if}\ (doCleanup)\ \{}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3c315b045dddbe34ec4f365b408fcc76}{lastCleanedAge}}\ =\ 0;}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a9097c6768e35ae845ac2ae7e5983f4b0}{ageThreshold}}\ =\ 0;}
\DoxyCodeLine{00606\ \ \ \ \ \}}
\DoxyCodeLine{00607\ }
\DoxyCodeLine{00608\ \}}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a1315a5f356bec9be31e930cd15797238}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00611\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a1315a5f356bec9be31e930cd15797238}{\ \ \ \ CacheBin::cleanToThreshold}}(uintptr\_t\ currTime,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{BinBitMask}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ \textcolor{keywordtype}{int}\ idx)}
\DoxyCodeLine{00612\ \{}
\DoxyCodeLine{00613\ \ \ \ \ \textcolor{comment}{/*\ oldest\ may\ be\ more\ recent\ then\ age,\ that's\ why\ cast\ to\ signed\ type}}
\DoxyCodeLine{00614\ \textcolor{comment}{\ \ \ \ was\ used.\ age\ overflow\ is\ also\ processed\ correctly.\ */}}
\DoxyCodeLine{00615\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}\ ||\ (intptr\_t)(currTime\ -\/\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>age)\ <\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a9097c6768e35ae845ac2ae7e5983f4b0}{ageThreshold}}\ )\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00616\ }
\DoxyCodeLine{00617\ \textcolor{preprocessor}{\#if\ MALLOC\_DEBUG}}
\DoxyCodeLine{00618\ \ \ \ \ uintptr\_t\ nextAge\ =\ 0;}
\DoxyCodeLine{00619\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00620\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00621\ \textcolor{preprocessor}{\#if\ MALLOC\_DEBUG}}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ that\ list\ ordered}}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(!nextAge\ ||\ \mbox{\hyperlink{namespacerml_1_1internal_abd8056b19a9a6bf84b71b0fd6bb52fb5}{lessThanWithOverflow}}(nextAge,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>age),}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}});}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ nextAge\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>age;}
\DoxyCodeLine{00626\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a034651830709dcfad9f24d4e745692d4}{cachedSize}}\ -\/=\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>unalignedSize;}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>prev;}
\DoxyCodeLine{00629\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}\ \&\&\ (intptr\_t)(currTime\ -\/\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>age)\ >\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a9097c6768e35ae845ac2ae7e5983f4b0}{ageThreshold}});}
\DoxyCodeLine{00630\ }
\DoxyCodeLine{00631\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *toRelease\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00632\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}})\ \{}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ toRelease\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>next;}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a5f1126d0cf13d1188fe9475241f6275a}{oldest}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>age;}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}-\/>next\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00636\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ toRelease\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}};}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a5f1126d0cf13d1188fe9475241f6275a}{oldest}}\ =\ 0;}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3cc30369c46e1aebf9f91cb853a4dfee}{usedSize}})}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}}-\/>set(idx,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00642\ \ \ \ \ \}}
\DoxyCodeLine{00643\ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\ toRelease,\ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}}\ );}
\DoxyCodeLine{00644\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3c315b045dddbe34ec4f365b408fcc76}{lastCleanedAge}}\ =\ toRelease-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a19d1063456bebeb3c16b5b3b78fd6c58}{age}};}
\DoxyCodeLine{00645\ }
\DoxyCodeLine{00646\ \ \ \ \ \textcolor{keywordflow}{return}\ toRelease;}
\DoxyCodeLine{00647\ \}}
\DoxyCodeLine{00648\ }
\DoxyCodeLine{00649\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a09d508eff509784d41af103c21cc93df}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00650\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a09d508eff509784d41af103c21cc93df}{\ \ \ \ CacheBin::cleanAll}}(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a2afe5bf4883f69c8b8092f51f70289f6}{BinBitMask}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ \textcolor{keywordtype}{int}\ idx)}
\DoxyCodeLine{00651\ \{}
\DoxyCodeLine{00652\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}})\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00653\ }
\DoxyCodeLine{00654\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *toRelease\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}};}
\DoxyCodeLine{00655\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_aea2da4ecf839d9de3438612763e74f47}{last}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00656\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00657\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a5f1126d0cf13d1188fe9475241f6275a}{oldest}}\ =\ 0;}
\DoxyCodeLine{00658\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a034651830709dcfad9f24d4e745692d4}{cachedSize}}\ =\ 0;}
\DoxyCodeLine{00659\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3cc30369c46e1aebf9f91cb853a4dfee}{usedSize}})}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}}-\/>set(idx,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00661\ }
\DoxyCodeLine{00662\ \ \ \ \ \textcolor{keywordflow}{return}\ toRelease;}
\DoxyCodeLine{00663\ \}}
\DoxyCodeLine{00664\ }
\DoxyCodeLine{00665\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00666\ }
\DoxyCodeLine{00667\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a4bca2c33aa10e7e1d5a0442715e20441}{LargeObjectCacheImpl<Props>::}}}
\DoxyCodeLine{00668\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a4bca2c33aa10e7e1d5a0442715e20441}{\ \ \ \ CacheBin::reportStat}}(\textcolor{keywordtype}{int}\ num,\ FILE\ *\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})}
\DoxyCodeLine{00669\ \{}
\DoxyCodeLine{00670\ \textcolor{preprocessor}{\#if\ \_\_TBB\_MALLOC\_LOCACHE\_STAT}}
\DoxyCodeLine{00671\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_ab5b4470bc8132eca622a42530f9b800a}{first}})}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}(\textcolor{stringliteral}{"{}\%d(\%lu):\ total\ \%lu\ KB\ thr\ \%ld\ lastCln\ \%lu\ oldest\ \%lu\(\backslash\)n"{}},}
\DoxyCodeLine{00673\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num,\ num*Props::CacheStep+Props::MinSize,}
\DoxyCodeLine{00674\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a034651830709dcfad9f24d4e745692d4}{cachedSize}}/1024,\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a9097c6768e35ae845ac2ae7e5983f4b0}{ageThreshold}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a3c315b045dddbe34ec4f365b408fcc76}{lastCleanedAge}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a5f1126d0cf13d1188fe9475241f6275a}{oldest}});}
\DoxyCodeLine{00675\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00676\ \ \ \ \ \mbox{\hyperlink{namespacerml_1_1internal_acf3df9c7e1c2baec44e3dab2d8f1ee42}{suppress\_unused\_warning}}(num);}
\DoxyCodeLine{00677\ \ \ \ \ \mbox{\hyperlink{namespacerml_1_1internal_acf3df9c7e1c2baec44e3dab2d8f1ee42}{suppress\_unused\_warning}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}});}
\DoxyCodeLine{00678\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00679\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_cache_bin_a034651830709dcfad9f24d4e745692d4}{cachedSize}};}
\DoxyCodeLine{00680\ \}}
\DoxyCodeLine{00681\ }
\DoxyCodeLine{00682\ \textcolor{comment}{//\ Release\ objects\ from\ cache\ blocks\ that\ are\ older\ than\ ageThreshold}}
\DoxyCodeLine{00683\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>}
\DoxyCodeLine{00684\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9ba25e56ce6eb3d47619c87aec732a77}{LargeObjectCacheImpl<Props>::regularCleanup}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemPool,\ uintptr\_t\ currTime,\ \textcolor{keywordtype}{bool}\ doThreshDecr)}
\DoxyCodeLine{00685\ \{}
\DoxyCodeLine{00686\ \ \ \ \ \textcolor{keywordtype}{bool}\ released\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00687\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_bins_summary}{BinsSummary}}\ binsSummary;}
\DoxyCodeLine{00688\ }
\DoxyCodeLine{00689\ \ \ \ \ \textcolor{comment}{//\ Threshold\ settings\ is\ below\ this\ cache\ or\ starts\ from\ zero\ index}}
\DoxyCodeLine{00690\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a4aa76d39bdd11e1e7676c7585ce76aca}{hugeSizeThresholdIdx}}\ ==\ 0)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00691\ }
\DoxyCodeLine{00692\ \ \ \ \ \textcolor{comment}{//\ Starting\ searching\ for\ bin\ that\ is\ less\ than\ huge\ size\ threshold\ (can\ be\ cleaned-\/up)}}
\DoxyCodeLine{00693\ \ \ \ \ \textcolor{keywordtype}{int}\ startSearchIdx\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a4aa76d39bdd11e1e7676c7585ce76aca}{hugeSizeThresholdIdx}}\ -\/\ 1;}
\DoxyCodeLine{00694\ }
\DoxyCodeLine{00695\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}}.getMaxTrue(startSearchIdx);\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ >=\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}}.getMaxTrue(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}-\/1))\ \{}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9fa357499afeb0f4ba92b5d8c622465b}{bin}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].updateBinsSummary(\&binsSummary);}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!doThreshDecr\ \&\&\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_aae99205aa65cac2430bba824a312dd9e}{tooLargeLOC}}\ >\ 2\ \&\&\ binsSummary.\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_bins_summary_a05358ab216ce972b7fc0b8dc6cf0687e}{isLOCTooLarge}}())\ \{}
\DoxyCodeLine{00698\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ LOC\ is\ too\ large\ for\ quite\ long\ time,\ decrease\ the\ threshold}}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ based\ on\ bin\ hit\ statistics.}}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ For\ this,\ redo\ cleanup\ from\ the\ beginning.}}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Note:\ on\ this\ iteration\ total\ usedSz\ can\ be\ not\ too\ large}}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in\ comparison\ to\ total\ cachedSz,\ as\ we\ calculated\ it\ only}}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ partially.\ We\ are\ ok\ with\ it.}}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}}.getMaxTrue(startSearchIdx)+1;}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ doThreshDecr\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \ \ \ \ binsSummary.\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_bins_summary_a15c05022faa97d543a44aa26576088f6}{reset}}();}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00708\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (doThreshDecr)}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9fa357499afeb0f4ba92b5d8c622465b}{bin}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].decreaseThreshold();}
\DoxyCodeLine{00711\ }
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9fa357499afeb0f4ba92b5d8c622465b}{bin}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].cleanToThreshold(extMemPool,\ \&\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ currTime,\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}))\ \{}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \ \ \ \ released\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00715\ \ \ \ \ \}}
\DoxyCodeLine{00716\ \ \ \ \ \textcolor{comment}{//\ We\ want\ to\ find\ if\ LOC\ was\ too\ large\ for\ some\ time\ continuously,}}
\DoxyCodeLine{00717\ \ \ \ \ \textcolor{comment}{//\ so\ OK\ with\ races\ between\ incrementing\ and\ zeroing,\ but\ incrementing}}
\DoxyCodeLine{00718\ \ \ \ \ \textcolor{comment}{//\ must\ be\ atomic.}}
\DoxyCodeLine{00719\ \ \ \ \ \textcolor{keywordflow}{if}\ (binsSummary.\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_1_1_bins_summary_a05358ab216ce972b7fc0b8dc6cf0687e}{isLOCTooLarge}}())}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_synchronize_8h_a248bc2de542e20022d01360546768c50}{AtomicIncrement}}(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_aae99205aa65cac2430bba824a312dd9e}{tooLargeLOC}});}
\DoxyCodeLine{00721\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_aae99205aa65cac2430bba824a312dd9e}{tooLargeLOC}}\ =\ 0;}
\DoxyCodeLine{00723\ \ \ \ \ \textcolor{keywordflow}{return}\ released;}
\DoxyCodeLine{00724\ \}}
\DoxyCodeLine{00725\ }
\DoxyCodeLine{00726\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>}
\DoxyCodeLine{00727\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ad5ad2617ab75a4bb9084236d74badf26}{LargeObjectCacheImpl<Props>::cleanAll}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemPool)}
\DoxyCodeLine{00728\ \{}
\DoxyCodeLine{00729\ \ \ \ \ \textcolor{keywordtype}{bool}\ released\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00730\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a34709ca417a364cded490b911baef26f}{numBins}}-\/1;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ >=\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}-\/-\/)\ \{}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ released\ |=\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9fa357499afeb0f4ba92b5d8c622465b}{bin}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].releaseAllToBackend(extMemPool,\ \&\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00732\ \ \ \ \ \}}
\DoxyCodeLine{00733\ \ \ \ \ \textcolor{keywordflow}{return}\ released;}
\DoxyCodeLine{00734\ \}}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>}
\DoxyCodeLine{00737\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9bec3e1f4d9ca4c92364f19b3f9951d8}{LargeObjectCacheImpl<Props>::reset}}()\ \{}
\DoxyCodeLine{00738\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_aae99205aa65cac2430bba824a312dd9e}{tooLargeLOC}}\ =\ 0;}
\DoxyCodeLine{00739\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a34709ca417a364cded490b911baef26f}{numBins}}-\/1;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ >=\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}-\/-\/)}
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9fa357499afeb0f4ba92b5d8c622465b}{bin}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}}();}
\DoxyCodeLine{00741\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}}.reset();}
\DoxyCodeLine{00742\ \}}
\DoxyCodeLine{00743\ }
\DoxyCodeLine{00744\ \textcolor{preprocessor}{\#if\ \_\_TBB\_MALLOC\_WHITEBOX\_TEST}}
\DoxyCodeLine{00745\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>}
\DoxyCodeLine{00746\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl}{LargeObjectCacheImpl<Props>::getLOCSize}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00747\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00748\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ =\ 0;}
\DoxyCodeLine{00749\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ numBins-\/1;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ >=\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}-\/-\/)}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ +=\ \mbox{\hyperlink{runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2base_8h_adfa139c9a1902753b3696794759b2c48ac1111bd512b29e821b120b86446026b8}{bin}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].getSize();}
\DoxyCodeLine{00751\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}};}
\DoxyCodeLine{00752\ \}}
\DoxyCodeLine{00753\ }
\DoxyCodeLine{00754\ \textcolor{keywordtype}{size\_t}\ LargeObjectCache::getLOCSize()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00755\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00756\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.getLOCSize()\ +\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.getLOCSize();}
\DoxyCodeLine{00757\ \}}
\DoxyCodeLine{00758\ }
\DoxyCodeLine{00759\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>}
\DoxyCodeLine{00760\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_large_object_cache_impl}{LargeObjectCacheImpl<Props>::getUsedSize}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00761\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00762\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ =\ 0;}
\DoxyCodeLine{00763\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ numBins-\/1;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ >=\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}-\/-\/)}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ +=\ \mbox{\hyperlink{runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2base_8h_adfa139c9a1902753b3696794759b2c48ac1111bd512b29e821b120b86446026b8}{bin}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].getUsedSize();}
\DoxyCodeLine{00765\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}};}
\DoxyCodeLine{00766\ \}}
\DoxyCodeLine{00767\ }
\DoxyCodeLine{00768\ \textcolor{keywordtype}{size\_t}\ LargeObjectCache::getUsedSize()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00769\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00770\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.getUsedSize()\ +\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.getUsedSize();}
\DoxyCodeLine{00771\ \}}
\DoxyCodeLine{00772\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_TBB\_MALLOC\_WHITEBOX\_TEST}}
\DoxyCodeLine{00773\ }
\DoxyCodeLine{00774\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ae4981a36c028cfa3a4eb59d4ceac0538}{LargeObjectCache::isCleanupNeededOnRange}}(uintptr\_t\ range,\ uintptr\_t\ currTime)}
\DoxyCodeLine{00775\ \{}
\DoxyCodeLine{00776\ \ \ \ \ \textcolor{keywordflow}{return}\ range\ >=\ \mbox{\hyperlink{namespacerml_1_1internal_aa1b64d1ce3c23d14639c5101213381c8}{cacheCleanupFreq}}}
\DoxyCodeLine{00777\ \ \ \ \ \ \ \ \ ||\ currTime+range\ <\ currTime-\/1\ \textcolor{comment}{//\ overflow,\ 0\ is\ power\ of\ 2,\ do\ cleanup}}
\DoxyCodeLine{00778\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ (prev;prev+range]\ contains\ n*cacheCleanupFreq}}
\DoxyCodeLine{00779\ \ \ \ \ \ \ \ \ ||\ \mbox{\hyperlink{shared__utils_8h_abf7a0e928f58ffeeefa291f674c30d69}{alignUp}}(currTime,\ \mbox{\hyperlink{namespacerml_1_1internal_aa1b64d1ce3c23d14639c5101213381c8}{cacheCleanupFreq}})<currTime+range;}
\DoxyCodeLine{00780\ \}}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00782\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a67c5f245b2b8b4234de844d0b782d6cb}{LargeObjectCache::doCleanup}}(uintptr\_t\ currTime,\ \textcolor{keywordtype}{bool}\ doThreshDecr)}
\DoxyCodeLine{00783\ \{}
\DoxyCodeLine{00784\ \ \ \ \ \textcolor{keywordflow}{if}\ (!doThreshDecr)}
\DoxyCodeLine{00785\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}}-\/>allLocalCaches.markUnused();}
\DoxyCodeLine{00786\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.regularCleanup(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}},\ currTime,\ doThreshDecr)}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ |\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.regularCleanup(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}},\ currTime,\ doThreshDecr);}
\DoxyCodeLine{00788\ \}}
\DoxyCodeLine{00789\ }
\DoxyCodeLine{00790\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a1b4d21e3da1e485df70f915fdd462970}{LargeObjectCache::decreasingCleanup}}()}
\DoxyCodeLine{00791\ \{}
\DoxyCodeLine{00792\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a67c5f245b2b8b4234de844d0b782d6cb}{doCleanup}}(\mbox{\hyperlink{_synchronize_8h_a0792980ea26344eaf2fc0a4112b5d848}{FencedLoad}}((intptr\_t\&)\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a1acb6b829d1cecb5a1f6834f508e0ce6}{cacheCurrTime}}),\ \textcolor{comment}{/*doThreshDecr=*/}\textcolor{keyword}{true});}
\DoxyCodeLine{00793\ \}}
\DoxyCodeLine{00794\ }
\DoxyCodeLine{00795\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a0cecb4c66f09c18daa6fab06e7eb0834}{LargeObjectCache::regularCleanup}}()}
\DoxyCodeLine{00796\ \{}
\DoxyCodeLine{00797\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a67c5f245b2b8b4234de844d0b782d6cb}{doCleanup}}(\mbox{\hyperlink{_synchronize_8h_a0792980ea26344eaf2fc0a4112b5d848}{FencedLoad}}((intptr\_t\&)\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a1acb6b829d1cecb5a1f6834f508e0ce6}{cacheCurrTime}}),\ \textcolor{comment}{/*doThreshDecr=*/}\textcolor{keyword}{false});}
\DoxyCodeLine{00798\ \}}
\DoxyCodeLine{00799\ }
\DoxyCodeLine{00800\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ab365662796f79cb89be19d09297fe90c}{LargeObjectCache::cleanAll}}()}
\DoxyCodeLine{00801\ \{}
\DoxyCodeLine{00802\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.cleanAll(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}})\ |\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.cleanAll(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}});}
\DoxyCodeLine{00803\ \}}
\DoxyCodeLine{00804\ }
\DoxyCodeLine{00805\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a84eefe5dca0d74871b43e60021071e3c}{LargeObjectCache::reset}}()}
\DoxyCodeLine{00806\ \{}
\DoxyCodeLine{00807\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.reset();}
\DoxyCodeLine{00808\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.reset();}
\DoxyCodeLine{00809\ \}}
\DoxyCodeLine{00810\ }
\DoxyCodeLine{00811\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>}
\DoxyCodeLine{00812\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a1f34dc716a45e5406898e5c235696594}{LargeObjectCacheImpl<Props>::get}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemoryPool,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})}
\DoxyCodeLine{00813\ \{}
\DoxyCodeLine{00814\ \ \ \ \ \textcolor{keywordtype}{int}\ idx\ =\ Props::sizeToIdx(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00815\ }
\DoxyCodeLine{00816\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *lmb\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9fa357499afeb0f4ba92b5d8c622465b}{bin}}[idx].get(extMemoryPool,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \&\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ idx);}
\DoxyCodeLine{00817\ }
\DoxyCodeLine{00818\ \ \ \ \ \textcolor{keywordflow}{if}\ (lmb)\ \{}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_customize_8h_a9187d1735e94c2a3b66004b6769f516f}{MALLOC\_ITT\_SYNC\_ACQUIRED}}(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9fa357499afeb0f4ba92b5d8c622465b}{bin}}+idx);}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbbmalloc_2statistics_8h_a45adf7cb101679d45b142782cc324196}{STAT\_increment}}(\mbox{\hyperlink{namespacerml_1_1internal_a2877b2db91c23b8b7eb1d37891c40b2b}{getThreadId}}(),\ \mbox{\hyperlink{tbbmalloc_2statistics_8h_a5a9c41cecb75f90ed25e0b1b73f455d3}{ThreadCommonCounters}},\ \mbox{\hyperlink{tbbmalloc_2statistics_8h_ad0224919995a97978c3f07e260461115a62d94133a9b74258ff71aa9a22888f37}{allocCachedLargeObj}});}
\DoxyCodeLine{00821\ \ \ \ \ \}}
\DoxyCodeLine{00822\ \ \ \ \ \textcolor{keywordflow}{return}\ lmb;}
\DoxyCodeLine{00823\ \}}
\DoxyCodeLine{00824\ }
\DoxyCodeLine{00825\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>}
\DoxyCodeLine{00826\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a4bc2ce8b08cabb263f15cb534bb0609e}{LargeObjectCacheImpl<Props>::updateCacheState}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemPool,\ \mbox{\hyperlink{namespacerml_1_1internal_ab5748e02f3b284f1b2243c4ea09b1916}{DecreaseOrIncrease}}\ op,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})}
\DoxyCodeLine{00827\ \{}
\DoxyCodeLine{00828\ \ \ \ \ \textcolor{keywordtype}{int}\ idx\ =\ Props::sizeToIdx(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00829\ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(idx<\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a34709ca417a364cded490b911baef26f}{numBins}},\ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}});}
\DoxyCodeLine{00830\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9fa357499afeb0f4ba92b5d8c622465b}{bin}}[idx].updateUsedSize(extMemPool,\ op==\mbox{\hyperlink{namespacerml_1_1internal_ab5748e02f3b284f1b2243c4ea09b1916a346632ccc9adec9e0a9cbd7c27dd82de}{decrease}}?\ -\/\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ :\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \&\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ idx);}
\DoxyCodeLine{00831\ \}}
\DoxyCodeLine{00832\ }
\DoxyCodeLine{00833\ \textcolor{preprocessor}{\#if\ \_\_TBB\_MALLOC\_LOCACHE\_STAT}}
\DoxyCodeLine{00834\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>}
\DoxyCodeLine{00835\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a5ae49ac806e466b376cf4b41d08046d5}{LargeObjectCacheImpl<Props>::reportStat}}(FILE\ *\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})}
\DoxyCodeLine{00836\ \{}
\DoxyCodeLine{00837\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ cachedSize\ =\ 0;}
\DoxyCodeLine{00838\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<numBins;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \ \ cachedSize\ +=\ \mbox{\hyperlink{runtime_2spdlog_2include_2spdlog_2fmt_2bundled_2base_8h_adfa139c9a1902753b3696794759b2c48ac1111bd512b29e821b120b86446026b8}{bin}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].reportStat(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}},\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}});}
\DoxyCodeLine{00840\ \ \ \ \ \mbox{\hyperlink{printf_8h_a9f315126362cae9675de1642105e631e}{fprintf}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}},\ \textcolor{stringliteral}{"{}total\ LOC\ size\ \%lu\ MB\(\backslash\)n"{}},\ cachedSize/1024/1024);}
\DoxyCodeLine{00841\ \}}
\DoxyCodeLine{00842\ }
\DoxyCodeLine{00843\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ad28bb2bb849815603684b2b640bfb4db}{LargeObjectCache::reportStat}}(FILE\ *\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})}
\DoxyCodeLine{00844\ \{}
\DoxyCodeLine{00845\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a5ae49ac806e466b376cf4b41d08046d5}{reportStat}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}});}
\DoxyCodeLine{00846\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a5ae49ac806e466b376cf4b41d08046d5}{reportStat}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}});}
\DoxyCodeLine{00847\ \ \ \ \ \mbox{\hyperlink{printf_8h_a9f315126362cae9675de1642105e631e}{fprintf}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}},\ \textcolor{stringliteral}{"{}cache\ time\ \%lu\(\backslash\)n"{}},\ \mbox{\hyperlink{test__malloc__whitebox_8cpp_a8faf45bb134010674428d87637ef4d03}{cacheCurrTime}});}
\DoxyCodeLine{00848\ \}}
\DoxyCodeLine{00849\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00850\ }
\DoxyCodeLine{00851\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Props>}
\DoxyCodeLine{00852\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a771ec22fdbf3385ee058c6ab44e81605}{LargeObjectCacheImpl<Props>::putList}}(\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool}{ExtMemoryPool}}\ *extMemPool,\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *toCache)}
\DoxyCodeLine{00853\ \{}
\DoxyCodeLine{00854\ \ \ \ \ \textcolor{keywordtype}{int}\ toBinIdx\ =\ Props::sizeToIdx(toCache-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_aaad527f7110e4c9e9a9cfa09411bd0b7}{unalignedSize}});}
\DoxyCodeLine{00855\ }
\DoxyCodeLine{00856\ \ \ \ \ \mbox{\hyperlink{_customize_8h_af8fcb50fd416dc4f6d1165ae21c58eb3}{MALLOC\_ITT\_SYNC\_RELEASING}}(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9fa357499afeb0f4ba92b5d8c622465b}{bin}}+toBinIdx);}
\DoxyCodeLine{00857\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a9fa357499afeb0f4ba92b5d8c622465b}{bin}}[toBinIdx].putList(extMemPool,\ toCache,\ \&\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ae1903015fae1ea37a873d8f2ec4e64a1}{bitMask}},\ toBinIdx);}
\DoxyCodeLine{00858\ \}}
\DoxyCodeLine{00859\ }
\DoxyCodeLine{00860\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a860273c02edb62060a9958cbb04be76e}{LargeObjectCache::updateCacheState}}(\mbox{\hyperlink{namespacerml_1_1internal_ab5748e02f3b284f1b2243c4ea09b1916}{DecreaseOrIncrease}}\ op,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})}
\DoxyCodeLine{00861\ \{}
\DoxyCodeLine{00862\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ <\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a5be5bc9abe0fb0609dd4fc7772591b71}{maxLargeSize}})}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.updateCacheState(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}},\ op,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00864\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ <\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ae0356feedd6ddbb526b0d9a63a08dcff}{maxHugeSize}})}
\DoxyCodeLine{00865\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.updateCacheState(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}},\ op,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00866\ \}}
\DoxyCodeLine{00867\ }
\DoxyCodeLine{00868\ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_afe680424a4ffac58bbd2e0914c15f1eb}{LargeObjectCache::getCurrTime}}()}
\DoxyCodeLine{00869\ \{}
\DoxyCodeLine{00870\ \ \ \ \ \textcolor{keywordflow}{return}\ (uintptr\_t)\mbox{\hyperlink{_synchronize_8h_a248bc2de542e20022d01360546768c50}{AtomicIncrement}}((intptr\_t\&)\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a1acb6b829d1cecb5a1f6834f508e0ce6}{cacheCurrTime}});}
\DoxyCodeLine{00871\ \}}
\DoxyCodeLine{00872\ }
\DoxyCodeLine{00873\ uintptr\_t\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a5e4e4692932fbe72c1b4a693ab43e5ee}{LargeObjectCache::getCurrTimeRange}}(uintptr\_t\ range)}
\DoxyCodeLine{00874\ \{}
\DoxyCodeLine{00875\ \ \ \ \ \textcolor{keywordflow}{return}\ (uintptr\_t)\mbox{\hyperlink{_synchronize_8h_ae9382ede99cb71105906a4be5337e684}{AtomicAdd}}((intptr\_t\&)\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a1acb6b829d1cecb5a1f6834f508e0ce6}{cacheCurrTime}},\ range)\ +\ 1;}
\DoxyCodeLine{00876\ \}}
\DoxyCodeLine{00877\ }
\DoxyCodeLine{00878\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_adf2f363b882b05185fc70570b6a60468}{LargeObjectCache::registerRealloc}}(\textcolor{keywordtype}{size\_t}\ oldSize,\ \textcolor{keywordtype}{size\_t}\ newSize)}
\DoxyCodeLine{00879\ \{}
\DoxyCodeLine{00880\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a860273c02edb62060a9958cbb04be76e}{updateCacheState}}(\mbox{\hyperlink{namespacerml_1_1internal_ab5748e02f3b284f1b2243c4ea09b1916a346632ccc9adec9e0a9cbd7c27dd82de}{decrease}},\ oldSize);}
\DoxyCodeLine{00881\ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a860273c02edb62060a9958cbb04be76e}{updateCacheState}}(\mbox{\hyperlink{namespacerml_1_1internal_ab5748e02f3b284f1b2243c4ea09b1916a85d08e41cee517e4c0acd40b0c159e2d}{increase}},\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a60b70cf5fd394c20459885fa6f093cb2}{alignToBin}}(newSize));}
\DoxyCodeLine{00882\ \}}
\DoxyCodeLine{00883\ }
\DoxyCodeLine{00884\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a60b70cf5fd394c20459885fa6f093cb2}{LargeObjectCache::alignToBin}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ \{}
\DoxyCodeLine{00885\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ <\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a5be5bc9abe0fb0609dd4fc7772591b71}{maxLargeSize}}\ ?\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a01f6ac36f886dfe3a705818b82f739ed}{LargeCacheType::alignToBin}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ :\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a01f6ac36f886dfe3a705818b82f739ed}{HugeCacheType::alignToBin}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00886\ \}}
\DoxyCodeLine{00887\ }
\DoxyCodeLine{00888\ \textcolor{comment}{//\ Used\ for\ internal\ purpose}}
\DoxyCodeLine{00889\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ab64d7735a19f8ce5721b0bc126a5ab0c}{LargeObjectCache::sizeToIdx}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})}
\DoxyCodeLine{00890\ \{}
\DoxyCodeLine{00891\ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ <=\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ae0356feedd6ddbb526b0d9a63a08dcff}{maxHugeSize}},\ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}});}
\DoxyCodeLine{00892\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ <\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a5be5bc9abe0fb0609dd4fc7772591b71}{maxLargeSize}}\ ?}
\DoxyCodeLine{00893\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ac554d480cadb2599e4505c78ad87965b}{LargeCacheType::sizeToIdx}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ :}
\DoxyCodeLine{00894\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_a34709ca417a364cded490b911baef26f}{LargeCacheType::numBins}}\ +\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_impl_ac554d480cadb2599e4505c78ad87965b}{HugeCacheType::sizeToIdx}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00895\ \}}
\DoxyCodeLine{00896\ }
\DoxyCodeLine{00897\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a46ca88a528765d3b1b5f048f7721fa2a}{LargeObjectCache::putList}}(\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *list)}
\DoxyCodeLine{00898\ \{}
\DoxyCodeLine{00899\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *toProcess,\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};}
\DoxyCodeLine{00900\ }
\DoxyCodeLine{00901\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *curr\ =\ list;\ curr;\ curr\ =\ toProcess)\ \{}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}\ =\ curr;}
\DoxyCodeLine{00903\ \ \ \ \ \ \ \ \ toProcess\ =\ curr-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a556cab303968471599e3491cfcbeaeb8}{next}};}
\DoxyCodeLine{00904\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a87779cd29e33583310ff57af869cf6cf}{sizeInCacheRange}}(curr-\/>unalignedSize))\ \{}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}}-\/>backend.returnLargeObject(curr);}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00908\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ currIdx\ =\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ab64d7735a19f8ce5721b0bc126a5ab0c}{sizeToIdx}}(curr-\/>unalignedSize);}
\DoxyCodeLine{00909\ }
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Find\ all\ blocks\ fitting\ to\ same\ bin.\ Not\ use\ more\ efficient\ sorting}}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ algorithm\ because\ list\ is\ short\ (commonly,}}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ LocalLOC's\ HIGH\_MARK-\/LOW\_MARK,\ i.e.\ 24\ items).}}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ toProcess;\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{}
\DoxyCodeLine{00914\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}-\/>next;}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_ab64d7735a19f8ce5721b0bc126a5ab0c}{sizeToIdx}}(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}-\/>unalignedSize)\ ==\ currIdx)\ \{}
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}-\/>next\ =\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}\ =\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (toProcess\ ==\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ toProcess\ =\ toProcess-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a556cab303968471599e3491cfcbeaeb8}{next}};}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}-\/>prev-\/>next\ =\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}-\/>next;}
\DoxyCodeLine{00922\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}-\/>next)}
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}-\/>next-\/>prev\ =\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}-\/>prev;}
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00925\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00926\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00927\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae6f0aed6c2af4489760c7c13c49ae904}{tail}}-\/>next\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00928\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (curr-\/>unalignedSize\ <\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a5be5bc9abe0fb0609dd4fc7772591b71}{maxLargeSize}})}
\DoxyCodeLine{00929\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.putList(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}},\ curr);}
\DoxyCodeLine{00930\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00931\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.putList(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}},\ curr);}
\DoxyCodeLine{00932\ \ \ \ \ \}}
\DoxyCodeLine{00933\ \}}
\DoxyCodeLine{00934\ }
\DoxyCodeLine{00935\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a97bc1264724a9919851857b23264c911}{LargeObjectCache::put}}(\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *largeBlock)}
\DoxyCodeLine{00936\ \{}
\DoxyCodeLine{00937\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ blockSize\ =\ largeBlock-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_aaad527f7110e4c9e9a9cfa09411bd0b7}{unalignedSize}};}
\DoxyCodeLine{00938\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a87779cd29e33583310ff57af869cf6cf}{sizeInCacheRange}}(blockSize))\ \{}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \ \ largeBlock-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_a556cab303968471599e3491cfcbeaeb8}{next}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (blockSize\ <\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a5be5bc9abe0fb0609dd4fc7772591b71}{maxLargeSize}})}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.putList(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}},\ largeBlock);}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00943\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.putList(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}},\ largeBlock);}
\DoxyCodeLine{00944\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00945\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}}-\/>backend.returnLargeObject(largeBlock);}
\DoxyCodeLine{00946\ \ \ \ \ \}}
\DoxyCodeLine{00947\ \}}
\DoxyCodeLine{00948\ }
\DoxyCodeLine{00949\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a5c2b247f4ec5bbae44b52fcd30c8e1ba}{LargeObjectCache::get}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})}
\DoxyCodeLine{00950\ \{}
\DoxyCodeLine{00951\ \ \ \ \ \mbox{\hyperlink{_customize_8h_ab07698dd675204d120111c1300b4185c}{MALLOC\_ASSERT}}(\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ >=\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_acd28b55c7046c20a51ce78c9e032c4b4}{minLargeSize}},\ \mbox{\hyperlink{tbbmalloc__internal_8h_a3b823c1707df8bd6d7d8b7cdb8b6dc6d}{ASSERT\_TEXT}}\ );}
\DoxyCodeLine{00952\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a87779cd29e33583310ff57af869cf6cf}{sizeInCacheRange}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}))\ \{}
\DoxyCodeLine{00953\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ <\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a5be5bc9abe0fb0609dd4fc7772591b71}{maxLargeSize}}\ ?}
\DoxyCodeLine{00954\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a69abc9fd4eaa969b804aca92af5c7ba3}{largeCache}}.get(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ :\ \mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a50033c24cfb8a80ba545e3364b0121f1}{hugeCache}}.get(\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_a325675af014d00bc7837258526c698c8}{extMemPool}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00955\ \ \ \ \ \}}
\DoxyCodeLine{00956\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00957\ \}}
\DoxyCodeLine{00958\ }
\DoxyCodeLine{00959\ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_aacc6cf8e5c7b4e0e31b4d6e8257128e7}{ExtMemoryPool::mallocLargeObject}}(\mbox{\hyperlink{classrml_1_1internal_1_1_memory_pool}{MemoryPool}}\ *pool,\ \textcolor{keywordtype}{size\_t}\ allocationSize)}
\DoxyCodeLine{00960\ \{}
\DoxyCodeLine{00961\ \textcolor{preprocessor}{\#if\ \_\_TBB\_MALLOC\_LOCACHE\_STAT}}
\DoxyCodeLine{00962\ \ \ \ \ \mbox{\hyperlink{_synchronize_8h_a248bc2de542e20022d01360546768c50}{AtomicIncrement}}(mallocCalls);}
\DoxyCodeLine{00963\ \ \ \ \ \mbox{\hyperlink{_synchronize_8h_ae9382ede99cb71105906a4be5337e684}{AtomicAdd}}(memAllocKB,\ allocationSize/1024);}
\DoxyCodeLine{00964\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00965\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}*\ lmb\ =\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a278849f2903427f0b7f96f677204b995}{loc}}.get(allocationSize);}
\DoxyCodeLine{00966\ \ \ \ \ \textcolor{keywordflow}{if}\ (!lmb)\ \{}
\DoxyCodeLine{00967\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrml_1_1internal_1_1_back_ref_idx}{BackRefIdx}}\ backRefIdx\ =\ BackRefIdx::newBackRef(\textcolor{comment}{/*largeObj=*/}\textcolor{keyword}{true});}
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (backRefIdx.isInvalid())}
\DoxyCodeLine{00969\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00970\ }
\DoxyCodeLine{00971\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ unalignedSize\ is\ set\ in\ getLargeBlock}}
\DoxyCodeLine{00972\ \ \ \ \ \ \ \ \ lmb\ =\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a86fdbadea90130b4aa51a5e1f2bb8fb3}{backend}}.getLargeBlock(allocationSize);}
\DoxyCodeLine{00973\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!lmb)\ \{}
\DoxyCodeLine{00974\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerml_1_1internal_ab8e65fb38698f5544e2b1fa3127bec85}{removeBackRef}}(backRefIdx);}
\DoxyCodeLine{00975\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a278849f2903427f0b7f96f677204b995}{loc}}.updateCacheState(\mbox{\hyperlink{namespacerml_1_1internal_ab5748e02f3b284f1b2243c4ea09b1916a346632ccc9adec9e0a9cbd7c27dd82de}{decrease}},\ allocationSize);}
\DoxyCodeLine{00976\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00977\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00978\ \ \ \ \ \ \ \ \ lmb-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_ad97a9f039a803f7f20887a0217b014de}{backRefIdx}}\ =\ backRefIdx;}
\DoxyCodeLine{00979\ \ \ \ \ \ \ \ \ lmb-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_ab6fa15d3ce41da0cfe36d85af326ed50}{pool}}\ =\ pool;}
\DoxyCodeLine{00980\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbbmalloc_2statistics_8h_a45adf7cb101679d45b142782cc324196}{STAT\_increment}}(\mbox{\hyperlink{namespacerml_1_1internal_a2877b2db91c23b8b7eb1d37891c40b2b}{getThreadId}}(),\ \mbox{\hyperlink{tbbmalloc_2statistics_8h_a5a9c41cecb75f90ed25e0b1b73f455d3}{ThreadCommonCounters}},\ \mbox{\hyperlink{tbbmalloc_2statistics_8h_ad0224919995a97978c3f07e260461115a0b6cce25ec74bc8aeaecafbf93b158c8}{allocNewLargeObj}});}
\DoxyCodeLine{00981\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00982\ \textcolor{preprocessor}{\#if\ \_\_TBB\_MALLOC\_LOCACHE\_STAT}}
\DoxyCodeLine{00983\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_synchronize_8h_a248bc2de542e20022d01360546768c50}{AtomicIncrement}}(cacheHits);}
\DoxyCodeLine{00984\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_synchronize_8h_ae9382ede99cb71105906a4be5337e684}{AtomicAdd}}(memHitKB,\ allocationSize/1024);}
\DoxyCodeLine{00985\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00986\ \ \ \ \ \}}
\DoxyCodeLine{00987\ \ \ \ \ \textcolor{keywordflow}{return}\ lmb;}
\DoxyCodeLine{00988\ \}}
\DoxyCodeLine{00989\ }
\DoxyCodeLine{00990\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a5fd4af27aa9529a0f7fe2ec01a192cce}{ExtMemoryPool::freeLargeObject}}(\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *mBlock)}
\DoxyCodeLine{00991\ \{}
\DoxyCodeLine{00992\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a278849f2903427f0b7f96f677204b995}{loc}}.put(mBlock);}
\DoxyCodeLine{00993\ \}}
\DoxyCodeLine{00994\ }
\DoxyCodeLine{00995\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a06321d28bde3009b25988ea85bee7748}{ExtMemoryPool::freeLargeObjectList}}(\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *\mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}})}
\DoxyCodeLine{00996\ \{}
\DoxyCodeLine{00997\ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a278849f2903427f0b7f96f677204b995}{loc}}.putList(\mbox{\hyperlink{ittnotify__static_8h_ad492e8facf9b4113e52f1918fceb8804}{head}});}
\DoxyCodeLine{00998\ \}}
\DoxyCodeLine{00999\ }
\DoxyCodeLine{01000\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_ae52e603c56025cd8d5fe2f84b21ba442}{ExtMemoryPool::softCachesCleanup}}()}
\DoxyCodeLine{01001\ \{}
\DoxyCodeLine{01002\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a278849f2903427f0b7f96f677204b995}{loc}}.regularCleanup();}
\DoxyCodeLine{01003\ \}}
\DoxyCodeLine{01004\ }
\DoxyCodeLine{01005\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_ac31ca686fe2deb68ac82bc4ad23feeb2}{ExtMemoryPool::hardCachesCleanup}}()}
\DoxyCodeLine{01006\ \{}
\DoxyCodeLine{01007\ \ \ \ \ \textcolor{comment}{//\ thread-\/local\ caches\ must\ be\ cleaned\ before\ LOC,}}
\DoxyCodeLine{01008\ \ \ \ \ \textcolor{comment}{//\ because\ object\ from\ thread-\/local\ cache\ can\ be\ released\ to\ LOC}}
\DoxyCodeLine{01009\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a47b9aace2f0d1d465a4aa47a489c464b}{releaseAllLocalCaches}}();}
\DoxyCodeLine{01010\ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ |=\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a8fa17ab397beaf1680550ef5213d1643}{orphanedBlocks}}.cleanup(\&\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a86fdbadea90130b4aa51a5e1f2bb8fb3}{backend}});}
\DoxyCodeLine{01011\ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ |=\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a278849f2903427f0b7f96f677204b995}{loc}}.cleanAll();}
\DoxyCodeLine{01012\ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ |=\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a86fdbadea90130b4aa51a5e1f2bb8fb3}{backend}}.clean();}
\DoxyCodeLine{01013\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{01014\ \}}
\DoxyCodeLine{01015\ }
\DoxyCodeLine{01016\ \textcolor{preprocessor}{\#if\ BACKEND\_HAS\_MREMAP}}
\DoxyCodeLine{01017\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_affe492c8041681b5fef472d5cd2f694e}{ExtMemoryPool::remap}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{keywordtype}{size\_t}\ oldSize,\ \textcolor{keywordtype}{size\_t}\ newSize,\ \textcolor{keywordtype}{size\_t}\ alignment)}
\DoxyCodeLine{01018\ \{}
\DoxyCodeLine{01019\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ oldUnalignedSize\ =\ ((\mbox{\hyperlink{structrml_1_1internal_1_1_large_object_hdr}{LargeObjectHdr}}*)\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ -\/\ 1)-\/>memoryBlock-\/>unalignedSize;}
\DoxyCodeLine{01020\ \ \ \ \ \textcolor{keywordtype}{void}\ *o\ =\ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a86fdbadea90130b4aa51a5e1f2bb8fb3}{backend}}.\mbox{\hyperlink{classrml_1_1internal_1_1_backend_a76d8d8974e4718d14657dc855024c2e2}{remap}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ oldSize,\ newSize,\ alignment);}
\DoxyCodeLine{01021\ \ \ \ \ \textcolor{keywordflow}{if}\ (o)\ \{}
\DoxyCodeLine{01022\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block}{LargeMemoryBlock}}\ *lmb\ =\ ((\mbox{\hyperlink{structrml_1_1internal_1_1_large_object_hdr}{LargeObjectHdr}}*)o\ -\/\ 1)-\/>memoryBlock;}
\DoxyCodeLine{01023\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrml_1_1internal_1_1_ext_memory_pool_a278849f2903427f0b7f96f677204b995}{loc}}.\mbox{\hyperlink{classrml_1_1internal_1_1_large_object_cache_adf2f363b882b05185fc70570b6a60468}{registerRealloc}}(oldUnalignedSize,\ lmb-\/>\mbox{\hyperlink{structrml_1_1internal_1_1_large_memory_block_aaad527f7110e4c9e9a9cfa09411bd0b7}{unalignedSize}});}
\DoxyCodeLine{01024\ \ \ \ \ \}}
\DoxyCodeLine{01025\ \ \ \ \ \textcolor{keywordflow}{return}\ o;}
\DoxyCodeLine{01026\ \}}
\DoxyCodeLine{01027\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ BACKEND\_HAS\_MREMAP\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{01028\ }
\DoxyCodeLine{01029\ \textcolor{comment}{/***********\ End\ allocation\ of\ large\ objects\ **********/}}
\DoxyCodeLine{01030\ }
\DoxyCodeLine{01031\ \}\ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{01032\ \}\ \textcolor{comment}{//\ namespace\ rml}}
\DoxyCodeLine{01033\ }

\end{DoxyCode}
