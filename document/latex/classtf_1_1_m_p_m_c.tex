\doxysection{tf\+::MPMC\texorpdfstring{$<$}{<} T, Log\+Size \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classtf_1_1_m_p_m_c}{}\label{classtf_1_1_m_p_m_c}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}


{\ttfamily \#include $<$mpmc.\+hpp$>$}

\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structtf_1_1_m_p_m_c_1_1_cell}{Cell}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1_m_p_m_c_a69aa6b9c1f3978bdf768471d1fff740f}{MPMC}} ()
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1_m_p_m_c_ada1b3ad5f8a9fcb5ba2cb668cbf4daa3}{try\+\_\+enqueue}} (\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_m_p_m_c_ab26c42439c1c9c5695f11ee71a213f17}{enqueue}} (\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}})
\item 
std\+::optional$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \mbox{\hyperlink{classtf_1_1_m_p_m_c_ab1674236635bf7dba191d2e96e3a2d87}{try\+\_\+dequeue}} ()
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1_m_p_m_c_aabaf88fe7a14b91564160bd3b3dfb6a6}{empty}} () const
\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_m_p_m_c_a597c07dc54eae73306a752c10a56ab48}{capacity}} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
std\+::array$<$ \mbox{\hyperlink{structtf_1_1_m_p_m_c_1_1_cell}{Cell}}, \mbox{\hyperlink{classtf_1_1_m_p_m_c_a10a6c6dcd625263a50d7d6c6ca6a4f92}{Buffer\+Size}} $>$ \mbox{\hyperlink{classtf_1_1_m_p_m_c_a330c4988c5e0246de9cdb6ea54b88ac7}{\+\_\+buffer}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\+\_\+t}} $>$ \mbox{\hyperlink{classtf_1_1_m_p_m_c_a11f4756d6a6e3ffc62e59dfdc36dfd37}{\+\_\+enqueue\+\_\+pos}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\+\_\+t}} $>$ \mbox{\hyperlink{classtf_1_1_m_p_m_c_a35c95a16164e275158c5f55a92c2d73b}{\+\_\+dequeue\+\_\+pos}}
\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Private 属性}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\+\_\+t}} \mbox{\hyperlink{classtf_1_1_m_p_m_c_a10a6c6dcd625263a50d7d6c6ca6a4f92}{Buffer\+Size}} = 1ull $<$$<$ Log\+Size
\item 
static constexpr \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\+\_\+t}} \mbox{\hyperlink{classtf_1_1_m_p_m_c_ab3f70e72e7667986427f1a4bcb03ebf5}{Buffer\+Mask}} = (\mbox{\hyperlink{classtf_1_1_m_p_m_c_a10a6c6dcd625263a50d7d6c6ca6a4f92}{Buffer\+Size}} -\/ 1)
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$\newline
class tf\+::\+MPMC$<$ T, Log\+Size $>$}
\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} \textquotesingle{}lockless\textquotesingle{} bounded multi-\/producer, multi-\/consumer queue

Has the caveat that the queue can {\itshape appear} empty even if there are returned items within it as a single thread can block progression of the queue. 

\doxysubsection{构造及析构函数说明}
\Hypertarget{classtf_1_1_m_p_m_c_a69aa6b9c1f3978bdf768471d1fff740f}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!MPMC@{MPMC}}
\index{MPMC@{MPMC}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{MPMC()}{MPMC()}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_a69aa6b9c1f3978bdf768471d1fff740f} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
\mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+MPMC (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}

Constructs a bounded multi-\/producer, multi-\/consumer queue

Note\+: Due to the algorithm used, buffer\+\_\+size must be a power of two and must be greater than or equal to two.


\begin{DoxyParams}{参数}
{\em buffer\+\_\+size} & \doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of spaces available in the queue. \\
\hline
\end{DoxyParams}


\doxysubsection{成员函数说明}
\Hypertarget{classtf_1_1_m_p_m_c_a597c07dc54eae73306a752c10a56ab48}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!capacity@{capacity}}
\index{capacity@{capacity}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{capacity()}{capacity()}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_a597c07dc54eae73306a752c10a56ab48} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
size\+\_\+t \mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::capacity (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classtf_1_1_m_p_m_c_aabaf88fe7a14b91564160bd3b3dfb6a6}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!empty@{empty}}
\index{empty@{empty}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_aabaf88fe7a14b91564160bd3b3dfb6a6} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classtf_1_1_m_p_m_c_ab26c42439c1c9c5695f11ee71a213f17}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_ab26c42439c1c9c5695f11ee71a213f17} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classtf_1_1_m_p_m_c_ab1674236635bf7dba191d2e96e3a2d87}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!try\_dequeue@{try\_dequeue}}
\index{try\_dequeue@{try\_dequeue}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{try\_dequeue()}{try\_dequeue()}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_ab1674236635bf7dba191d2e96e3a2d87} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
std\+::optional$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} $>$ \mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::try\+\_\+dequeue (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Dequeues an item from the queue


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ out}}  & {\em data} & Reference to place item into \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
false if the queue was empty (and dequeuing failed), true if successful 
\end{DoxyReturn}
\Hypertarget{classtf_1_1_m_p_m_c_ada1b3ad5f8a9fcb5ba2cb668cbf4daa3}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!try\_enqueue@{try\_enqueue}}
\index{try\_enqueue@{try\_enqueue}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{try\_enqueue()}{try\_enqueue()}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_ada1b3ad5f8a9fcb5ba2cb668cbf4daa3} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::try\+\_\+enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Enqueues an item into the queue


\begin{DoxyParams}{参数}
{\em data} & Argument to place into the array \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
false if the queue was full (and enqueing failed), true otherwise 
\end{DoxyReturn}


\doxysubsection{类成员变量说明}
\Hypertarget{classtf_1_1_m_p_m_c_a330c4988c5e0246de9cdb6ea54b88ac7}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!\_buffer@{\_buffer}}
\index{\_buffer@{\_buffer}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{\_buffer}{\_buffer}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_a330c4988c5e0246de9cdb6ea54b88ac7} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
std\+::array$<$\mbox{\hyperlink{structtf_1_1_m_p_m_c_1_1_cell}{Cell}}, \mbox{\hyperlink{classtf_1_1_m_p_m_c_a10a6c6dcd625263a50d7d6c6ca6a4f92}{Buffer\+Size}}$>$ \mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+\_\+buffer\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_m_p_m_c_a35c95a16164e275158c5f55a92c2d73b}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!\_dequeue\_pos@{\_dequeue\_pos}}
\index{\_dequeue\_pos@{\_dequeue\_pos}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{\_dequeue\_pos}{\_dequeue\_pos}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_a35c95a16164e275158c5f55a92c2d73b} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
std\+::atomic$<$\mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\+\_\+t}}$>$ \mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+\_\+dequeue\+\_\+pos\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_m_p_m_c_a11f4756d6a6e3ffc62e59dfdc36dfd37}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!\_enqueue\_pos@{\_enqueue\_pos}}
\index{\_enqueue\_pos@{\_enqueue\_pos}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{\_enqueue\_pos}{\_enqueue\_pos}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_a11f4756d6a6e3ffc62e59dfdc36dfd37} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
std\+::atomic$<$\mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\+\_\+t}}$>$ \mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+\_\+enqueue\+\_\+pos\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_m_p_m_c_ab3f70e72e7667986427f1a4bcb03ebf5}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!BufferMask@{BufferMask}}
\index{BufferMask@{BufferMask}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{BufferMask}{BufferMask}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_ab3f70e72e7667986427f1a4bcb03ebf5} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
\mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\+\_\+t}} \mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+Buffer\+Mask = (\mbox{\hyperlink{classtf_1_1_m_p_m_c_a10a6c6dcd625263a50d7d6c6ca6a4f92}{Buffer\+Size}} -\/ 1)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}

\Hypertarget{classtf_1_1_m_p_m_c_a10a6c6dcd625263a50d7d6c6ca6a4f92}\index{tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}!BufferSize@{BufferSize}}
\index{BufferSize@{BufferSize}!tf::MPMC$<$ T, LogSize $>$@{tf::MPMC$<$ T, LogSize $>$}}
\doxysubsubsection{\texorpdfstring{BufferSize}{BufferSize}}
{\footnotesize\ttfamily \label{classtf_1_1_m_p_m_c_a10a6c6dcd625263a50d7d6c6ca6a4f92} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, size\+\_\+t Log\+Size = 10$>$ \\
\mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\+\_\+t}} \mbox{\hyperlink{classtf_1_1_m_p_m_c}{tf\+::\+MPMC}}$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Log\+Size $>$\+::\+Buffer\+Size = 1ull $<$$<$ Log\+Size\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/taskflow/utility/\mbox{\hyperlink{mpmc_8hpp}{mpmc.\+hpp}}\end{DoxyCompactItemize}
