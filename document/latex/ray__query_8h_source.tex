\doxysection{ray\+\_\+query.\+h}
\hypertarget{ray__query_8h_source}{}\label{ray__query_8h_source}\index{runtime/dsl/rtx/ray\_query.h@{runtime/dsl/rtx/ray\_query.h}}
\mbox{\hyperlink{ray__query_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{core_2stl_2functional_8h}{runtime/core/stl/functional.h}}>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{statement_8h}{runtime/ast/statement.h}}>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dsl_2rtx_2hit_8h}{runtime/dsl/rtx/hit.h}}>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dsl_2rtx_2ray_8h}{runtime/dsl/rtx/ray.h}}>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute}{luisa::compute}}\ \{}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail}{detail}}\ \{}
\DoxyCodeLine{00011\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }RayQueryBase;}
\DoxyCodeLine{00013\ \}\textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{comment}{//\ RayQuery\ DSL\ module,\ see\ test\_procedural.cpp\ as\ example}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{class\ }\mbox{\hyperlink{dll__export_8h_a0f23f409f57fcf93535a1f02ca7586b9}{LC\_DSL\_API}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_a58645a743e8651155e04af6976a3acb5}{SurfaceCandidate}}\ \{}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_ad1a19006b4f9d4e0e0d9bfd212f0d3d1}{\_query}};}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base}{detail::RayQueryBase}};}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_a58645a743e8651155e04af6976a3acb5}{SurfaceCandidate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *query)\ noexcept}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_ad1a19006b4f9d4e0e0d9bfd212f0d3d1}{\_query}}\{query\}\ \{\}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00029\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_aaca8c22e71dd19f1c38e4cb23bda33db}{SurfaceCandidate}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_a58645a743e8651155e04af6976a3acb5}{SurfaceCandidate}}\ \textcolor{keyword}{const}\ \&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_a06c08f92a0f7bfc5ea5fb1a4f1b784d1}{SurfaceCandidate}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_a58645a743e8651155e04af6976a3acb5}{SurfaceCandidate}}\ \&\&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_a58645a743e8651155e04af6976a3acb5}{SurfaceCandidate}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_a58645a743e8651155e04af6976a3acb5}{SurfaceCandidate}}\ const\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_a58645a743e8651155e04af6976a3acb5}{SurfaceCandidate}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_a58645a743e8651155e04af6976a3acb5}{SurfaceCandidate}}\ \&\&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ public:}
\DoxyCodeLine{00035\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}<\mbox{\hyperlink{structluisa_1_1compute_1_1_ray}{Ray}}>\ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_ac299839d3be27770458dbba8c74a5baa}{ray}}()\ const\ noexcept;}
\DoxyCodeLine{00036\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}<\mbox{\hyperlink{namespaceluisa_1_1compute_ab043061250f90534df6cb8178a908f5a}{TriangleHit}}>\ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_a569e30bbf1bee9ac81f8151ed300a1d7}{hit}}()\ const\ noexcept;}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_ab48971fd73d91a4dde4625cc04b71109}{commit}}()\ const\ noexcept;}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate_aa46ff860df8f34c3424c2339affa1244}{terminate}}()\ const\ noexcept;}
\DoxyCodeLine{00039\ \};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{comment}{//\ legacy\ names,\ provided\ for\ compatibility}}
\DoxyCodeLine{00042\ using\ \mbox{\hyperlink{namespaceluisa_1_1compute_a1be45bd2b2e14cc2da84fbca8730e2bf}{TriangleCandidate}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate}{SurfaceCandidate}};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ class\ \mbox{\hyperlink{dll__export_8h_a0f23f409f57fcf93535a1f02ca7586b9}{LC\_DSL\_API}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a7916edb3a8f4f58ab82fea3dad2f762c}{ProceduralCandidate}}\ \{}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a8a73ace70470beff5843e0de77189cf3}{\_query}};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base}{detail::RayQueryBase}};}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a7916edb3a8f4f58ab82fea3dad2f762c}{ProceduralCandidate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *query)\ noexcept}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a8a73ace70470beff5843e0de77189cf3}{\_query}}\{query\}\ \{\}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_ad386e1684dde02af4cec468b5512dbf9}{ProceduralCandidate}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a7916edb3a8f4f58ab82fea3dad2f762c}{ProceduralCandidate}}\ \textcolor{keyword}{const}\ \&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_ade9f92509eb38426e8ff3db1a21d3869}{ProceduralCandidate}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a7916edb3a8f4f58ab82fea3dad2f762c}{ProceduralCandidate}}\ \&\&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a7916edb3a8f4f58ab82fea3dad2f762c}{ProceduralCandidate}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a7916edb3a8f4f58ab82fea3dad2f762c}{ProceduralCandidate}}\ const\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a7916edb3a8f4f58ab82fea3dad2f762c}{ProceduralCandidate}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a7916edb3a8f4f58ab82fea3dad2f762c}{ProceduralCandidate}}\ \&\&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ public:}
\DoxyCodeLine{00062\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}<\mbox{\hyperlink{structluisa_1_1compute_1_1_ray}{Ray}}>\ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a5269e833d99759eb06ee2e5992f5f2cb}{ray}}()\ const\ noexcept;}
\DoxyCodeLine{00063\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}<\mbox{\hyperlink{namespaceluisa_1_1compute_a9430dbaa8e275935d2b7b26d741d686b}{ProceduralHit}}>\ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_aa6a6395ff72e2e2946d0184a943c0699}{hit}}()\ const\ noexcept;}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_a3377f66210689022879aadae9a991f72}{commit}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\textcolor{keywordtype}{float}>\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_aff0ab05c9153ea88fc01732c564581bb}{distance}})\ const\ noexcept;}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate_af968b4faf061c6c181b7eb6b2a8c5a1b}{terminate}}()\ const\ noexcept;}
\DoxyCodeLine{00066\ \};}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ namespace\ \mbox{\hyperlink{namespacedetail}{detail}}\ \{}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00071\ \textcolor{keyword}{class\ }RayQuerySurfaceProxy;}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00074\ \textcolor{keyword}{class\ }RayQueryProceduralProxy;}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00077\ \textcolor{keyword}{class\ }\mbox{\hyperlink{dll__export_8h_a0f23f409f57fcf93535a1f02ca7586b9}{LC\_DSL\_API}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}\ \{}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_ray_query_stmt}{RayQueryStmt}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_aa9384370beb439d0551766806b2b52d3}{\_stmt}};}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_aedf7a6a15e1583012cf91d2378e96e2c}{\_inside\_surface\_handler}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_a2aa155cb5d3616e6ce423e8e475be90a}{\_inside\_procedural\_handler}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_ad7a59c5c9e1527b67c56f31ef9e04b9f}{SurfaceCandidateHandler}}\ =\ luisa::function<\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate}{SurfaceCandidate}}\ \&)>;}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_a8057cc7be05ffc904e7f173a07721130}{ProceduralCandidateHandler}}\ =\ luisa::function<\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate}{ProceduralCandidate}}\ \&)>;}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *\mbox{\hyperlink{sugar_8h_a6acbe853d002e5b9d9ab0e9bdeb0a6c6}{accel}},}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *ray,}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *mask)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *\mbox{\hyperlink{sugar_8h_a6acbe853d002e5b9d9ab0e9bdeb0a6c6}{accel}},}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *ray,}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *time,}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *mask)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_ab254f7ad47176c92c6f9e700280a8892}{RayQueryBase}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_ray_query_stmt}{RayQueryStmt}}\ *stmt,}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inside\_surface\_handler,}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inside\_procedural\_handler)\ noexcept}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_aa9384370beb439d0551766806b2b52d3}{\_stmt}}(stmt),}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_aedf7a6a15e1583012cf91d2378e96e2c}{\_inside\_surface\_handler}}(inside\_surface\_handler),}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_a2aa155cb5d3616e6ce423e8e475be90a}{\_inside\_procedural\_handler}}(inside\_procedural\_handler)\ \{\}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_a3dabf4676de47f7e59eb0108c0b0dc98}{\string~RayQueryBase}}()\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00107\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}\ \&\&)\ noexcept;}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}\ const\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}\ \&\&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}\ const\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ public:}
\DoxyCodeLine{00113\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}<\mbox{\hyperlink{structluisa_1_1compute_1_1_committed_hit}{CommittedHit}}>\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_a0d55b909c7668daaca6afa6d07cb0520}{trace}}()\ const\ noexcept;}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ protected:}
\DoxyCodeLine{00116\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy}{RayQueryProceduralProxy}}<terminate\_on\_first>\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_ad1a75deed537f2bbbe5bf445105f54d7}{\_on\_surface\_candidate}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_ad7a59c5c9e1527b67c56f31ef9e04b9f}{SurfaceCandidateHandler}}\ \&handler)\ noexcept;}
\DoxyCodeLine{00117\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy}{RayQuerySurfaceProxy}}<terminate\_on\_first>\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_a8855f3a5653cd451994c4f35309650ee}{\_on\_procedural\_candidate}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_afb57c195117b1da4054d00e10a4568bf}{ProceduralCandidateHandler}}\ \&handler)\ noexcept;}
\DoxyCodeLine{00118\ \};}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ template<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00121\ class\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a0b5bee29ea37f9c2bb2f56e7836a4fa0}{RayQueryProceduralProxy}}\ :\ public\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}<terminate\_on\_first>\ \{}
\DoxyCodeLine{00122\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\mbox{\hyperlink{classluisa_1_1compute_1_1_accel}{Accel}}>;}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate}{compute::SurfaceCandidate}};}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate}{compute::ProceduralCandidate}};}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}<terminate\_on\_first>;}
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a0b5bee29ea37f9c2bb2f56e7836a4fa0}{RayQueryProceduralProxy}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_ray_query_stmt}{RayQueryStmt}}\ *stmt,}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inside\_surface\_handler,}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inside\_procedural\_handler)\ noexcept}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase<terminate\_on\_first>}}(stmt,\ inside\_surface\_handler,\ inside\_procedural\_handler)\ \{\}}
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a2cb6453009ea447d41db99a5c15b740e}{RayQueryProceduralProxy}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a0b5bee29ea37f9c2bb2f56e7836a4fa0}{RayQueryProceduralProxy}}\ \&\&rhs)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00132\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_afb57c195117b1da4054d00e10a4568bf}{ProceduralCandidateHandler}}\ =\ luisa::function<\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a3d295f5d3968ee8541ec2c68d237d371}{ProceduralCandidate}}\ \&)>;}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{comment}{//\ legacy\ names,\ provided\ for\ compatibility}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a408fa727fb569d71a45681e1784734c6}{RayQueryProceduralProxy}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a0b5bee29ea37f9c2bb2f56e7836a4fa0}{RayQueryProceduralProxy}}\ \textcolor{keyword}{const}\ \&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00138\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a0b5bee29ea37f9c2bb2f56e7836a4fa0}{RayQueryProceduralProxy}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_ac29cafdfa93158ffe313e9399e80f82e}{operator=}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a0b5bee29ea37f9c2bb2f56e7836a4fa0}{RayQueryProceduralProxy}}\ \&\&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00139\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a0b5bee29ea37f9c2bb2f56e7836a4fa0}{RayQueryProceduralProxy}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a0b5bee29ea37f9c2bb2f56e7836a4fa0}{RayQueryProceduralProxy}}\ const\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00140\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}<terminate\_on\_first>\ on\_procedural\_candidate(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_a8057cc7be05ffc904e7f173a07721130}{ProceduralCandidateHandler}}\ \&handler)\ \&\&\ noexcept;}
\DoxyCodeLine{00141\ \};}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ template<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00144\ class\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a49548d7edd172afd133e678e65a3ae2d}{RayQuerySurfaceProxy}}\ :\ public\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}<terminate\_on\_first>\ \{}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\mbox{\hyperlink{classluisa_1_1compute_1_1_accel}{Accel}}>;}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate}{compute::SurfaceCandidate}};}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate}{compute::ProceduralCandidate}};}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}<terminate\_on\_first>;}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a49548d7edd172afd133e678e65a3ae2d}{RayQuerySurfaceProxy}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_ray_query_stmt}{RayQueryStmt}}\ *stmt,}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inside\_surface\_handler,}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inside\_procedural\_handler)\ noexcept}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase<terminate\_on\_first>}}(stmt,\ inside\_surface\_handler,\ inside\_procedural\_handler)\ \{\}}
\DoxyCodeLine{00156\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_ab7c77e406f95c7dc118256258ff6fb39}{RayQuerySurfaceProxy}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a49548d7edd172afd133e678e65a3ae2d}{RayQuerySurfaceProxy}}\ \&\&rhs)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a48cbc8fc8f43ff590a9dafe76a7d8bae}{SurfaceCandidateHandler}}\ =\ luisa::function<\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_af63d036d98bffb8d18b7f39700a38af0}{SurfaceCandidate}}\ \&)>;}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{comment}{//\ legacy\ names,\ provided\ for\ compatibility}}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a3f424b2df8342e5d0db3ee375bf05740}{TriangleCandidateHandler}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a48cbc8fc8f43ff590a9dafe76a7d8bae}{SurfaceCandidateHandler}};}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a7047cb59ecf3f286bc4650e690291da6}{RayQuerySurfaceProxy}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a49548d7edd172afd133e678e65a3ae2d}{RayQuerySurfaceProxy}}\ \textcolor{keyword}{const}\ \&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a49548d7edd172afd133e678e65a3ae2d}{RayQuerySurfaceProxy}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a35f08db65b27da16622dc74e76b7a36d}{operator=}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a49548d7edd172afd133e678e65a3ae2d}{RayQuerySurfaceProxy}}\ \&\&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00165\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a49548d7edd172afd133e678e65a3ae2d}{RayQuerySurfaceProxy}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a49548d7edd172afd133e678e65a3ae2d}{RayQuerySurfaceProxy}}\ const\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00166\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}<terminate\_on\_first>\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a58158ad854d623780e194ec4f109ef4b}{on\_surface\_candidate}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a48cbc8fc8f43ff590a9dafe76a7d8bae}{SurfaceCandidateHandler}}\ \&handler)\ \&\&\ noexcept;}
\DoxyCodeLine{00167\ \ \ \ \ [[nodiscard,\ deprecated(\textcolor{stringliteral}{"{}Please\ use\ on\_surface\_candidate(),\ which\ unifies\ the\ code\ paths\ for\ triangles\ and\ curves."{}})]]\textcolor{comment}{//\ deprecated}}
\DoxyCodeLine{00168\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}<terminate\_on\_first>}
\DoxyCodeLine{00169\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_ab6508d6f2ca4719f33e90f530caf3651}{on\_triangle\_candidate}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a1cd8482ffaaa318e23e548adee3f7697}{TriangleCandidateHandler}}\ \&handler)\ \&\&\ noexcept;}
\DoxyCodeLine{00170\ \};}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ template<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00173\ class\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa1240b4204947f949289e0e841ea855a}{RayQueryProxy}}\ :\ public\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}<terminate\_on\_first>\ \{}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\mbox{\hyperlink{classluisa_1_1compute_1_1_accel}{Accel}}>;}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_surface_candidate}{compute::SurfaceCandidate}};}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_procedural_candidate}{compute::ProceduralCandidate}};}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase}}<terminate\_on\_first>;}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa1240b4204947f949289e0e841ea855a}{RayQueryProxy}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *\mbox{\hyperlink{sugar_8h_a6acbe853d002e5b9d9ab0e9bdeb0a6c6}{accel}},}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *ray,}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *mask)\ noexcept}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase<terminate\_on\_first>}}(\mbox{\hyperlink{sugar_8h_a6acbe853d002e5b9d9ab0e9bdeb0a6c6}{accel}},\ ray,\ mask)\ \{\}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a26c8b2ce90dc66f2a986e0f069e0fd7c}{RayQueryProxy}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *\mbox{\hyperlink{sugar_8h_a6acbe853d002e5b9d9ab0e9bdeb0a6c6}{accel}},}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *ray,}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *time,}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *mask)\ noexcept}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase<terminate\_on\_first>}}(\mbox{\hyperlink{sugar_8h_a6acbe853d002e5b9d9ab0e9bdeb0a6c6}{accel}},\ ray,\ time,\ mask)\ \{\}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a159d812710de652e30cfcaf1c4f76f17}{RayQueryProxy}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa1240b4204947f949289e0e841ea855a}{RayQueryProxy}}\ \&\&rhs)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a5a5d9aa176f144b8b53c840a9677985f}{SurfaceCandidateHandler}}\ =\ luisa::function<\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_af63d036d98bffb8d18b7f39700a38af0}{SurfaceCandidate}}\ \&)>;}
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa468f4986be74e8efedbab95e6d11292}{ProceduralCandidateHandler}}\ =\ luisa::function<\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a3d295f5d3968ee8541ec2c68d237d371}{ProceduralCandidate}}\ \&)>;}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{comment}{//\ legacy\ names,\ provided\ for\ compatibility}}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a1cd8482ffaaa318e23e548adee3f7697}{TriangleCandidateHandler}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a5a5d9aa176f144b8b53c840a9677985f}{SurfaceCandidateHandler}};}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aaf901f36684c197479007b9e902f710a}{RayQueryProxy}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa1240b4204947f949289e0e841ea855a}{RayQueryProxy}}\ \textcolor{keyword}{const}\ \&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00202\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa1240b4204947f949289e0e841ea855a}{RayQueryProxy}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a9869cc00e1832a5e029bca1c94d5b04b}{operator=}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa1240b4204947f949289e0e841ea855a}{RayQueryProxy}}\ \&\&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00203\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa1240b4204947f949289e0e841ea855a}{RayQueryProxy}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa1240b4204947f949289e0e841ea855a}{RayQueryProxy}}\ const\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00204\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy}{RayQueryProceduralProxy}}<terminate\_on\_first>\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a7a8aa84a3deac744b7d1c5bafb409a2d}{on\_surface\_candidate}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a5a5d9aa176f144b8b53c840a9677985f}{SurfaceCandidateHandler}}\ \&handler)\ \&\&\ noexcept;}
\DoxyCodeLine{00205\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy}{RayQuerySurfaceProxy}}<terminate\_on\_first>\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aca80daaa88ef519593ae269d6cd4bb11}{on\_procedural\_candidate}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa468f4986be74e8efedbab95e6d11292}{ProceduralCandidateHandler}}\ \&handler)\ \&\&\ noexcept;}
\DoxyCodeLine{00206\ \ \ \ \ [[nodiscard,\ deprecated(\textcolor{stringliteral}{"{}Please\ use\ on\_surface\_candidate(),\ which\ unifies\ the\ code\ paths\ for\ triangles\ and\ curves."{}})]]\textcolor{comment}{//\ deprecated}}
\DoxyCodeLine{00207\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy}{RayQueryProceduralProxy}}<terminate\_on\_first>}
\DoxyCodeLine{00208\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_ab6508d6f2ca4719f33e90f530caf3651}{on\_triangle\_candidate}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a1cd8482ffaaa318e23e548adee3f7697}{TriangleCandidateHandler}}\ \&handler)\ \&\&\ noexcept;}
\DoxyCodeLine{00209\ \};}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ template<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00212\ inline\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy}{RayQueryProceduralProxy}}<terminate\_on\_first>\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa1240b4204947f949289e0e841ea855a}{RayQueryProxy}}<terminate\_on\_first>::\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a7a8aa84a3deac744b7d1c5bafb409a2d}{on\_surface\_candidate}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a5a5d9aa176f144b8b53c840a9677985f}{SurfaceCandidateHandler}}\ \&handler)\ \&\&\ noexcept\ \{}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_ad1a75deed537f2bbbe5bf445105f54d7}{\_on\_surface\_candidate}}(handler);}
\DoxyCodeLine{00214\ \}}
\DoxyCodeLine{00215\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00216\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy}{RayQueryProceduralProxy<terminate\_on\_first>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_ab6508d6f2ca4719f33e90f530caf3651}{RayQueryProxy<terminate\_on\_first>::on\_triangle\_candidate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_a1cd8482ffaaa318e23e548adee3f7697}{TriangleCandidateHandler}}\ \&handler)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_ad1a75deed537f2bbbe5bf445105f54d7}{\_on\_surface\_candidate}}(handler);}
\DoxyCodeLine{00218\ \}}
\DoxyCodeLine{00219\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00220\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy}{RayQuerySurfaceProxy<terminate\_on\_first>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aca80daaa88ef519593ae269d6cd4bb11}{RayQueryProxy<terminate\_on\_first>::on\_procedural\_candidate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy_aa468f4986be74e8efedbab95e6d11292}{ProceduralCandidateHandler}}\ \&handler)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_a8855f3a5653cd451994c4f35309650ee}{\_on\_procedural\_candidate}}(handler);}
\DoxyCodeLine{00222\ \}}
\DoxyCodeLine{00223\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00224\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase<terminate\_on\_first>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_a35d705d0af7ded101eb6e412976eb5f6}{RayQueryProceduralProxy<terminate\_on\_first>::on\_procedural\_candidate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_procedural_proxy_afb57c195117b1da4054d00e10a4568bf}{ProceduralCandidateHandler}}\ \&handler)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_a8855f3a5653cd451994c4f35309650ee}{\_on\_procedural\_candidate}}(handler);}
\DoxyCodeLine{00226\ \}}
\DoxyCodeLine{00227\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00228\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase<terminate\_on\_first>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a58158ad854d623780e194ec4f109ef4b}{RayQuerySurfaceProxy<terminate\_on\_first>::on\_surface\_candidate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a48cbc8fc8f43ff590a9dafe76a7d8bae}{SurfaceCandidateHandler}}\ \&handler)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_ad1a75deed537f2bbbe5bf445105f54d7}{\_on\_surface\_candidate}}(handler);}
\DoxyCodeLine{00230\ \}}
\DoxyCodeLine{00231\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ terminate\_on\_first>}
\DoxyCodeLine{00232\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_acb79ee1b95251210de32a4d717329d30}{RayQueryBase<terminate\_on\_first>}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a6ac08c25d3d024e6f7596f6e47d5af89}{RayQuerySurfaceProxy<terminate\_on\_first>::on\_triangle\_candidate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_surface_proxy_a3f424b2df8342e5d0db3ee375bf05740}{TriangleCandidateHandler}}\ \&handler)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_base_ad1a75deed537f2bbbe5bf445105f54d7}{\_on\_surface\_candidate}}(handler);}
\DoxyCodeLine{00234\ \}}
\DoxyCodeLine{00235\ \}\textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_a0f364f7f51aea40688131ab9a322e41a}{RayQueryAny}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy}{detail::RayQueryProxy<true>}};}
\DoxyCodeLine{00238\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_ae0c3586fd5bf01a5155532020954701a}{RayQueryAll}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_ray_query_proxy}{detail::RayQueryProxy<false>}};}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \}\textcolor{comment}{//\ namespace\ luisa::compute}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \mbox{\hyperlink{type__registry_8h_a7d0adb20499072a3ce1ad8114cf1927d}{LUISA\_CUSTOM\_STRUCT\_REFLECT}}(luisa::compute::RayQueryAll,\ \textcolor{stringliteral}{"{}LC\_RayQueryAll"{}})}
\DoxyCodeLine{00243\ \mbox{\hyperlink{type__registry_8h_a7d0adb20499072a3ce1ad8114cf1927d}{LUISA\_CUSTOM\_STRUCT\_REFLECT}}(\mbox{\hyperlink{namespaceluisa}{luisa}}::\mbox{\hyperlink{namespaceluisa_1_1compute}{compute}}::RayQueryAny,\ \textcolor{stringliteral}{"{}LC\_RayQueryAny"{}})}

\end{DoxyCode}
