\doxysection{external/taskflow/3rd-\/party/tbb/src/tbb/tbb\+\_\+statistics.h 文件参考}
\hypertarget{tbb__statistics_8h}{}\label{tbb__statistics_8h}\index{external/taskflow/3rd-\/party/tbb/src/tbb/tbb\_statistics.h@{external/taskflow/3rd-\/party/tbb/src/tbb/tbb\_statistics.h}}
{\ttfamily \#include "{}tbb/tbb\+\_\+stddef.\+h"{}}\newline
tbb\+\_\+statistics.\+h 的引用(Include)关系图\+:
% FIG 0
此图展示该文件被哪些文件直接或间接地引用了\+:
% FIG 1
\doxysubsubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{tbb__statistics_8h_a7f07a87ee664e7909de31b1251ccfa89}{\+\_\+\+\_\+\+TBB\+\_\+\+STATISTICS}}~0
\item 
\#define \mbox{\hyperlink{tbb__statistics_8h_a08f1e46bb511c63da3ce07aa9c897bc4}{GATHER\+\_\+\+STATISTIC}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})
\end{DoxyCompactItemize}


\doxysubsection{宏定义说明}
\Hypertarget{tbb__statistics_8h_a7f07a87ee664e7909de31b1251ccfa89}\index{tbb\_statistics.h@{tbb\_statistics.h}!\_\_TBB\_STATISTICS@{\_\_TBB\_STATISTICS}}
\index{\_\_TBB\_STATISTICS@{\_\_TBB\_STATISTICS}!tbb\_statistics.h@{tbb\_statistics.h}}
\doxysubsubsection{\texorpdfstring{\_\_TBB\_STATISTICS}{\_\_TBB\_STATISTICS}}
{\footnotesize\ttfamily \label{tbb__statistics_8h_a7f07a87ee664e7909de31b1251ccfa89} 
\#define \+\_\+\+\_\+\+TBB\+\_\+\+STATISTICS~0}

This file defines parameters of the internal statistics collected by the \doxylink{struct_t_b_b}{TBB} library (currently by the task scheduler only).

Statistics is accumulated separately in each thread and is dumped when the scheduler instance associated with the given thread is destroyed. For apps with multiple master threads or with the same master repeatedly initializing and then deinitializing task scheduler this results in \doxylink{struct_t_b_b}{TBB} workers statistics getting inseparably mixed.

Therefore statistics is accumulated in arena slots, and should be dumped when arena is destroyed. This separates statistics collected for each scheduler activity region in each master thread.

With the current RML implementation (\doxylink{struct_t_b_b}{TBB} 2.\+2, 3.\+0) to avoid complete loss of statistics data during app shutdown (because of lazy workers deinitialization logic) set \+\_\+\+\_\+\+TBB\+\_\+\+STATISTICS\+\_\+\+EARLY\+\_\+\+DUMP macro to write the statistics at the moment a master thread deinitializes its scheduler. This may happen a little earlier than the moment of arena destruction resulting in the following undesired (though usually tolerable) effects\+:
\begin{DoxyItemize}
\item a few events related to unsuccessful stealing or thread pool activity may be lost,
\item statistics may be substantially incomplete in case of FIFO tasks used in the FAF mode.
\end{DoxyItemize}

Macro \+\_\+\+\_\+\+TBB\+\_\+\+STATISTICS\+\_\+\+STDOUT and global variable \+\_\+\+\_\+\+TBB\+\_\+\+Active\+Statistics\+Groups defined below can be used to configure the statistics output.

To add new counter\+: 1) \doxylink{struct_insert}{Insert} it into the appropriate group range in statistics\+\_\+counters; 2) \doxylink{struct_insert}{Insert} the corresponding field title into Stat\+Field\+Titles (preserving relative order of the fields).

To add new counters group\+: 1) \doxylink{struct_insert}{Insert} new group bit flag into statistics\+\_\+groups; 2) \doxylink{struct_insert}{Insert} the new group title into Stat\+Group\+Titles (preserving relative order of the groups). 3) Add counter belonging to the new group as described above \Hypertarget{tbb__statistics_8h_a08f1e46bb511c63da3ce07aa9c897bc4}\index{tbb\_statistics.h@{tbb\_statistics.h}!GATHER\_STATISTIC@{GATHER\_STATISTIC}}
\index{GATHER\_STATISTIC@{GATHER\_STATISTIC}!tbb\_statistics.h@{tbb\_statistics.h}}
\doxysubsubsection{\texorpdfstring{GATHER\_STATISTIC}{GATHER\_STATISTIC}}
{\footnotesize\ttfamily \label{tbb__statistics_8h_a08f1e46bb511c63da3ce07aa9c897bc4} 
\#define GATHER\+\_\+\+STATISTIC(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}}{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{((\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}})0)}

\end{DoxyCode}
