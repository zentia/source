\doxysection{node.\+hpp}
\hypertarget{node_8hpp_source}{}\label{node_8hpp_source}\index{external/taskflow/3rd-\/party/ff/node.hpp@{external/taskflow/3rd-\/party/ff/node.hpp}}
\mbox{\hyperlink{node_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/*-\/\ Mode:\ C++;\ tab-\/width:\ 4;\ c-\/basic-\/offset:\ 4;\ indent-\/tabs-\/mode:\ nil\ -\/*-\/\ */}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ FF\_NODE\_HPP}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ FF\_NODE\_HPP}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{comment}{/*\ ***************************************************************************}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ \ FastFlow\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or\ modify\ it}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ \ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public\ License\ version\ 3\ as}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ \ published\ by\ the\ Free\ Software\ Foundation.}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ \ Starting\ from\ version\ 3.0.1\ FastFlow\ is\ dual\ licensed\ under\ the\ GNU\ LGPLv3}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ \ or\ MIT\ License\ (https://github.com/ParaGroup/WindFlow/blob/vers3.x/LICENSE.MIT)}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ \ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,\ but\ WITHOUT}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ *\ \ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of\ MERCHANTABILITY\ or}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ \ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *\ \ License\ for\ more\ details.}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ *\ \ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public\ License}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ *\ \ along\ with\ this\ program;\ if\ not,\ write\ to\ the\ Free\ Software\ Foundation,}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ *\ \ Inc.,\ 59\ Temple\ Place\ -\/\ Suite\ 330,\ Boston,\ MA\ 02111-\/1307,\ USA.}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ ****************************************************************************}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#include\ <iosfwd>}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{external_2taskflow_23rd-party_2ff_2platforms_2_platform_8h}{ff/platforms/platform.h}}>}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{cycle_8h}{ff/cycle.h}}>}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{utils_8hpp}{ff/utils.hpp}}>}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{buffer_8hpp}{ff/buffer.hpp}}>}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{ubuffer_8hpp}{ff/ubuffer.hpp}}>}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{mapper_8hpp}{ff/mapper.hpp}}>}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{config_8hpp}{ff/config.hpp}}>}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{svector_8hpp}{ff/svector.hpp}}>}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{barrier_8hpp}{ff/barrier.hpp}}>}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{ff__network_8hpp}{ff/distributed/ff\_network.hpp}}>}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{ff__typetraits_8hpp}{ff/distributed/ff\_typetraits.hpp}}>}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#include\ <cereal/cereal.hpp>}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#include\ <cereal/types/polymorphic.hpp>}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#include\ <cereal/archives/portable\_binary.hpp>}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceff}{ff}}\ \{}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \textcolor{comment}{//\ distributed\ rts\ related\ type,\ but\ always\ defined}}
\DoxyCodeLine{00065\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1_group_interface}{GroupInterface}};\ }
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}}\ \ \ \ \ \ \ \ \ \ \ =\ (\textcolor{keywordtype}{void}*)(ULLONG\_MAX);\ \ \ \ \ }
\DoxyCodeLine{00069\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}}\ \ =\ (\textcolor{keywordtype}{void}*)(ULLONG\_MAX-\/1);\ \ \ }
\DoxyCodeLine{00070\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceff_acaef0c2eb0aeb203e6d74b0859a543fb}{FF\_EOSW}}\ \ \ \ \ \ \ \ \ \ =\ (\textcolor{keywordtype}{void}*)(ULLONG\_MAX-\/2);\ \ \ }
\DoxyCodeLine{00071\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceff_a0d49fe9ae339a6ea515d87ade60b6d08}{FF\_GO\_ON}}\ \ \ \ \ \ \ \ \ =\ (\textcolor{keywordtype}{void}*)(ULLONG\_MAX-\/3);\ \ \ }
\DoxyCodeLine{00072\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceff_a87d1455fcd512edda2f88c16618c6424}{FF\_GO\_OUT}}\ \ \ \ \ \ \ \ =\ (\textcolor{keywordtype}{void}*)(ULLONG\_MAX-\/4);\ \ \ }
\DoxyCodeLine{00073\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceff_a2488fa657bbd0b26c6a6f32e6a43cc8c}{FF\_TAG\_MIN}}\ \ \ \ \ \ \ =\ (\textcolor{keywordtype}{void}*)(ULLONG\_MAX-\/10);\ \ }
\DoxyCodeLine{00074\ \textcolor{comment}{//\ The\ FF\_GO\_OUT\ is\ quite\ similar\ to\ the\ FF\_EOS\_NOFREEZE.\ Both\ of\ them\ are\ not\ propagated\ automatically\ to}}
\DoxyCodeLine{00075\ \textcolor{comment}{//\ the\ next\ stage,\ but\ while\ the\ first\ one\ is\ used\ to\ exit\ the\ main\ computation\ loop\ and,\ if\ this\ is\ the\ case,\ to\ be\ frozen,}}
\DoxyCodeLine{00076\ \textcolor{comment}{//\ the\ second\ one\ is\ used\ to\ exit\ the\ computation\ loop\ and\ keep\ spinning\ on\ the\ input\ queue\ waiting\ for\ a\ new\ task}}
\DoxyCodeLine{00077\ \textcolor{comment}{//\ without\ being\ frozen.}}
\DoxyCodeLine{00078\ \textcolor{comment}{//\ EOSW\ is\ like\ EOS\ but\ it\ is\ not\ propagated\ outside\ a\ farm\ pattern.\ If\ an\ emitter\ receives\ EOSW\ in\ input,}}
\DoxyCodeLine{00079\ \textcolor{comment}{//\ then\ it\ will\ be\ discarded.}}
\DoxyCodeLine{00080\ \textcolor{comment}{//}}
\DoxyCodeLine{00081\ \ \ \ \ }
\DoxyCodeLine{00082\ \textcolor{comment}{/*\ optimization\ levels\ used\ in\ the\ optimize\_static\ call\ (see\ optimize.hpp)\ */}\ \ \ \ }
\DoxyCodeLine{00083\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1_opt_level}{OptLevel}}\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \ \mbox{\hyperlink{structff_1_1_opt_level_ab3a7021b5294496c61b153b69d39860e}{max\_nb\_threads}}\{\mbox{\hyperlink{config_8hpp_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}}\};}
\DoxyCodeLine{00085\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \ \mbox{\hyperlink{structff_1_1_opt_level_a6673f17637b01a29b07a5202175482cb}{max\_mapped\_threads}}\{\mbox{\hyperlink{config_8hpp_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}}\};}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_afa60b909920f9d9ee3fd7c113008df3d}{verbose\_level}}\{0\};}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_ae8749cd48daad9d6f43d4540959f4cca}{no\_initial\_barrier}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_ae1b9a53f0a66682352aff52d28cb89a5}{no\_default\_mapping}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_afc0febc2bdac20ff5ca00675baba4957}{blocking\_mode}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_ae43a730c06710c35c4b3e2ad947539e8}{merge\_with\_emitter}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_af3023d9505cc15e480409d0b3419ac6d}{remove\_collector}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_a4781472ab341cd31a2dc17d8b4cde429}{merge\_farms}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_aa831d8e9fd20dc395205cd74cefb5c24}{introduce\_a2a}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00094\ \};}
\DoxyCodeLine{00095\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1_opt_level1_a1545fff3ca2dd3108ae63d694b481774}{OptLevel1}}:\ \mbox{\hyperlink{structff_1_1_opt_level}{OptLevel}}\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level1_a1545fff3ca2dd3108ae63d694b481774}{OptLevel1}}()\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_ab3a7021b5294496c61b153b69d39860e}{max\_nb\_threads}}=\mbox{\hyperlink{mapping__utils_8hpp_a92c07f85b45e7d7730ddd6b45d2f3d75}{ff\_numCores}}();\ \ \ \textcolor{comment}{//\ TODO:\ use\ the\ mapper}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_afc0febc2bdac20ff5ca00675baba4957}{blocking\_mode}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_ae8749cd48daad9d6f43d4540959f4cca}{no\_initial\_barrier}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_af3023d9505cc15e480409d0b3419ac6d}{remove\_collector}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00101\ \ \ \ \ \}}
\DoxyCodeLine{00102\ \};}
\DoxyCodeLine{00103\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1_opt_level2_afbd4a631269a1ce495e327c21ad2efd2}{OptLevel2}}:\ \mbox{\hyperlink{structff_1_1_opt_level}{OptLevel}}\ \{}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level2_afbd4a631269a1ce495e327c21ad2efd2}{OptLevel2}}()\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_ab3a7021b5294496c61b153b69d39860e}{max\_nb\_threads}}=\mbox{\hyperlink{mapping__utils_8hpp_a92c07f85b45e7d7730ddd6b45d2f3d75}{ff\_numCores}}();\ \ \ \textcolor{comment}{//\ TODO:\ use\ the\ mapper}}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_afc0febc2bdac20ff5ca00675baba4957}{blocking\_mode}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_ae8749cd48daad9d6f43d4540959f4cca}{no\_initial\_barrier}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_ae43a730c06710c35c4b3e2ad947539e8}{merge\_with\_emitter}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_af3023d9505cc15e480409d0b3419ac6d}{remove\_collector}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1_opt_level_a4781472ab341cd31a2dc17d8b4cde429}{merge\_farms}}=\ \textcolor{keyword}{true};}
\DoxyCodeLine{00111\ \ \ \ \ \}}
\DoxyCodeLine{00112\ \};}
\DoxyCodeLine{00113\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \textcolor{comment}{//\ This\ is\ just\ a\ counter,\ and\ is\ used\ to\ set\ the\ ff\_node::tid\ value.}}
\DoxyCodeLine{00116\ \textcolor{comment}{//\ The\ \_noBarrier\ counter\ is\ to\ use\ with\ threads\ that\ are\ not\ part\ of\ a\ topology,}}
\DoxyCodeLine{00117\ \textcolor{comment}{//\ such\ for\ example\ stand-\/alone\ nodes\ or\ manager\ node\ or\ ...etc...\ \ \ \ }}
\DoxyCodeLine{00118\ \textcolor{keyword}{static}\ std::atomic\_ulong\ \ \ \mbox{\hyperlink{namespaceff_abb5ef15f98b26ed4b8f90abb5323c301}{internal\_threadCounter}}\{0\};}
\DoxyCodeLine{00119\ \textcolor{keyword}{static}\ std::atomic\_ulong\ \ \ \mbox{\hyperlink{namespaceff_a7cb8db6b03888ab755dad6322222d8bf}{internal\_threadCounter\_noBarrier}}\{\mbox{\hyperlink{config_8hpp_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}}\};}
\DoxyCodeLine{00120\ \ \ \ \ }
\DoxyCodeLine{00121\ \textcolor{comment}{//\ TODO:\ Should\ be\ rewritten\ in\ terms\ of\ mapping\_utils.hpp\ }}
\DoxyCodeLine{00122\ \textcolor{preprocessor}{\#if\ defined(HAVE\_PTHREAD\_SETAFFINITY\_NP)\ \&\&\ !defined(NO\_DEFAULT\_MAPPING)}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00125\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00126\ \textcolor{comment}{\ \ \ \ \ *\ \(\backslash\)brief\ Initialize\ thread\ affinity\ }}
\DoxyCodeLine{00127\ \textcolor{comment}{\ \ \ \ \ *\ It\ initializes\ thread\ affinity\ i.e.\ which\ cpu\ the\ thread\ should\ be}}
\DoxyCodeLine{00128\ \textcolor{comment}{\ \ \ \ \ *\ assigned.}}
\DoxyCodeLine{00129\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00130\ \textcolor{comment}{\ \ \ \ \ *\ \(\backslash\)note\ Linux-\/specific\ code}}
\DoxyCodeLine{00131\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00132\ \textcolor{comment}{\ \ \ \ \ *\ \(\backslash\)param\ attr\ is\ the\ pthread\ attribute}}
\DoxyCodeLine{00133\ \textcolor{comment}{\ \ \ \ \ *\ \(\backslash\)param\ cpuID\ is\ the\ identifier\ the\ core}}
\DoxyCodeLine{00134\ \textcolor{comment}{\ \ \ \ \ *\ \(\backslash\)return\ -\/2\ \ if\ error,\ the\ cpu\ identifier\ if\ successful}}
\DoxyCodeLine{00135\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00136\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceff_afe043ceb2bbc0f0e7c085316070b4ca8}{init\_thread\_affinity}}(\mbox{\hyperlink{pthread__minport__windows_8h_ad1483d9532e78abdc68abd50693a3bb6}{pthread\_attr\_t}}*attr,\ \textcolor{keywordtype}{int}\ cpuId)\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{comment}{//\ This\ is\ linux-\/specific\ code}}
\DoxyCodeLine{00138\ \ \ \ \ cpu\_set\_t\ cpuset;\ \ \ \ }
\DoxyCodeLine{00139\ \ \ \ \ CPU\_ZERO(\&cpuset);}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordflow}{if}\ (cpuId<0)\ \{}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}()-\/>\mbox{\hyperlink{classff_1_1thread_mapper_a61e5c76e85405419992019500d8f2eba}{getCoreId}}();}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ CPU\_SET\ (\textcolor{keywordtype}{id},\ \&cpuset);}
\DoxyCodeLine{00145\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{id}\ =\ cpuId;}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ CPU\_SET\ (cpuId,\ \&cpuset);}
\DoxyCodeLine{00148\ \ \ \ \ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordflow}{if}\ (pthread\_attr\_setaffinity\_np\ (attr,\ \textcolor{keyword}{sizeof}(cpuset),\ \&cpuset)<0)\ \{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}pthread\_attr\_setaffinity\_np"{}});}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/2;}
\DoxyCodeLine{00153\ \ \ \ \ \}}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};\ \ \ \ }
\DoxyCodeLine{00155\ \}}
\DoxyCodeLine{00156\ \textcolor{preprocessor}{\#elif\ !defined(HAVE\_PTHREAD\_SETAFFINITY\_NP)\ \&\&\ !defined(NO\_DEFAULT\_MAPPING)}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \textcolor{comment}{/*}}
\DoxyCodeLine{00159\ \textcolor{comment}{\ *\ \(\backslash\)brief\ Initializes\ thread\ affinity}}
\DoxyCodeLine{00160\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00161\ \textcolor{comment}{\ *\ It\ initializes\ thread\ affinity\ i.e.\ it\ defines\ to\ which\ core\ ths\ thread}}
\DoxyCodeLine{00162\ \textcolor{comment}{\ *\ should\ be\ assigned.}}
\DoxyCodeLine{00163\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00164\ \textcolor{comment}{\ *\ \(\backslash\)return\ always\ return\ -\/1\ because\ no\ thread\ mapping\ is\ done}}
\DoxyCodeLine{00165\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00166\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceff_afe043ceb2bbc0f0e7c085316070b4ca8}{init\_thread\_affinity}}(\mbox{\hyperlink{pthread__minport__windows_8h_ad1483d9532e78abdc68abd50693a3bb6}{pthread\_attr\_t}}*,\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{comment}{//\ Ensure\ that\ the\ threadMapper\ constructor\ is\ called}}
\DoxyCodeLine{00168\ \ \ \ \ \mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}();}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00170\ \}}
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00172\ \textcolor{comment}{/*}}
\DoxyCodeLine{00173\ \textcolor{comment}{\ *\ \(\backslash\)brief\ Initializes\ thread\ affinity}}
\DoxyCodeLine{00174\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00175\ \textcolor{comment}{\ *\ It\ initializes\ thread\ affinity\ i.e.\ it\ defines\ to\ which\ core\ ths\ thread}}
\DoxyCodeLine{00176\ \textcolor{comment}{\ *\ should\ be\ assigned.}}
\DoxyCodeLine{00177\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00178\ \textcolor{comment}{\ *\ \(\backslash\)return\ always\ return\ -\/1\ because\ no\ thread\ mapping\ is\ done}}
\DoxyCodeLine{00179\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00180\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceff_afe043ceb2bbc0f0e7c085316070b4ca8}{init\_thread\_affinity}}(\mbox{\hyperlink{pthread__minport__windows_8h_ad1483d9532e78abdc68abd50693a3bb6}{pthread\_attr\_t}}*,\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{comment}{//\ Do\ nothing}}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00183\ \}}
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ HAVE\_PTHREAD\_SETAFFINITY\_NP\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \textcolor{comment}{//\ forward\ decl}}
\DoxyCodeLine{00188\ \textcolor{comment}{/*}}
\DoxyCodeLine{00189\ \textcolor{comment}{\ *\ \(\backslash\)brief\ Proxy\ thread\ routine}}
\DoxyCodeLine{00190\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00191\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00192\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{namespaceff_a02cfff8393ca71a98f5907a968b7e9d5}{proxy\_thread\_routine}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}});}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00205\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__thread_a077db4cce394f84488da05f72a42a26a}{ff\_thread}}\ \{}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{classff_1_1ff__thread_ab5484db05d237243f16ad36219240774}{proxy\_thread\_routine}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}});}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00210\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a077db4cce394f84488da05f72a42a26a}{ff\_thread}}(\mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}}\ *\ \mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__thread_a8db36a004f6e613293d673fe98d34dcb}{default\_mapping}}=\textcolor{keyword}{true}):}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}}((size\_t)-\/1),\mbox{\hyperlink{classff_1_1ff__thread_a1dd3ebc20f5c14bd98534c26ddc078d2}{threadid}}(0),\ \mbox{\hyperlink{classff_1_1ff__thread_a8db36a004f6e613293d673fe98d34dcb}{default\_mapping}}(\mbox{\hyperlink{classff_1_1ff__thread_a8db36a004f6e613293d673fe98d34dcb}{default\_mapping}}),}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}}(\mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}}),\ \mbox{\hyperlink{classff_1_1ff__thread_abc30fcdf990c1f7550d094ec3707fe2a}{stp}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),\ \textcolor{comment}{//\ only\ one\ shot\ by\ default}}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a9af2dc805d2aec73cacae61f109225ba}{spawned}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\ \mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}}(0),\ \mbox{\hyperlink{classff_1_1ff__thread_acee83123e26393bbdc92026ff83f719a}{frozen}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{classff_1_1ff__thread_afeb01b966b92606913eca975c74bc8b6}{isdone}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a6b5a13391f88d89d66b48a5939f97410}{init\_error}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\ \mbox{\hyperlink{classff_1_1ff__thread_a76c9efcc5ca3b43cf2c2a70b79039fc0}{attr}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}})\mbox{\hyperlink{namespaceff_a2488fa657bbd0b26c6a6f32e6a43cc8c}{FF\_TAG\_MIN}};\ \textcolor{comment}{//\ to\ avoid\ warnings}}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Attr\ is\ NULL,\ default\ mutex\ attributes\ are\ used.\ Upon\ successful}}
\DoxyCodeLine{00218\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ initialization,\ the\ state\ of\ the\ mutex\ becomes\ initialized\ and}}
\DoxyCodeLine{00219\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ unlocked.\ }}
\DoxyCodeLine{00220\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ */}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a06769b1c0f650377fed34ef94ac2a01c}{pthread\_mutex\_init}}(\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}},\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})!=0)\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FATAL\ ERROR:\ ff\_thread:\ pthread\_mutex\_init\ fails!\(\backslash\)n"{}});}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ abort();}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a71bdb8a20eb782047e084c27fcf7aa65}{pthread\_cond\_init}}(\&\mbox{\hyperlink{classff_1_1ff__thread_aaeab6dc1387b7d677f110f32319a1f48}{cond}},\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})!=0)\ \{}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FATAL\ ERROR:\ ff\_thread:\ pthread\_cond\_init\ fails!\(\backslash\)n"{}});}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ abort();}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a71bdb8a20eb782047e084c27fcf7aa65}{pthread\_cond\_init}}(\&\mbox{\hyperlink{classff_1_1ff__thread_ac0f415e7af596731f33fb032fd7c0df0}{cond\_frozen}},\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})!=0)\ \{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FATAL\ ERROR:\ ff\_thread:\ pthread\_cond\_init\ fails!\(\backslash\)n"{}});}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ abort();}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ \ \ \ \ \}}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1ff__thread_a2b382517ffd153657fdeecbcf429d7e1}{\string~ff\_thread}}()\ \{\}}
\DoxyCodeLine{00236\ \ \ \ \ }
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__thread_a4435afbf89bbbc81236a4bd210d59add}{thread\_routine}}()\ \{}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a1dd3ebc20f5c14bd98534c26ddc078d2}{threadid}}\ =\ \mbox{\hyperlink{mapping__utils_8hpp_a9ad3de6d54a3007e35640df5381ef52b}{ff\_getThreadID}}();}
\DoxyCodeLine{00239\ \textcolor{preprocessor}{\#if\ defined(FF\_INITIAL\_BARRIER)}}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}})\ \{}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}}-\/>doBarrier(\mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}});}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ else\ \{}}
\DoxyCodeLine{00244\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ \ \ \ printf("{}THREAD\ \%ld\ skip\ barrier\(\backslash\)n"{},\ threadid);}}
\DoxyCodeLine{00245\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ \}}}
\DoxyCodeLine{00246\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00247\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a6b5a13391f88d89d66b48a5939f97410}{init\_error}}=\textcolor{keyword}{false};}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_a15d63a6a2af3aa89df0515c319a26b29}{svc\_init}}()<0)\ \{}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_thread,\ svc\_init\ failed,\ thread\ exit!!!\(\backslash\)n"{}});}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a6b5a13391f88d89d66b48a5939f97410}{init\_error}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \ \{}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{classff_1_1ff__thread_ab391ca0f45c64399f85230dda0ea7252}{svc}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a22e9ad1f77e61a9c70af582411aa6fdb}{svc\_end}}();}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_a3d545e9a2358b8f8a7302e9ce08d8b2d}{disable\_cancelability}}())\ \{}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_thread,\ thread\_routine,\ could\ not\ change\ thread\ cancelability"{}});}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ acquire\ lock.\ While\ freezing\ is\ true,}}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ freeze\ and\ wait.\ }}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}});}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ !=\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__thread_abc30fcdf990c1f7550d094ec3707fe2a}{stp}})\ \{}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}}\ ==\ 0)\ \&\&\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}}))\ \mbox{\hyperlink{classff_1_1ff__thread_abc30fcdf990c1f7550d094ec3707fe2a}{stp}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(\mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}}==1)\ \{\ \textcolor{comment}{//\ NOTE:\ freezing\ can\ change\ to\ 2}}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_acee83123e26393bbdc92026ff83f719a}{frozen}}=\textcolor{keyword}{true};\ }
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_af3771cd9bcc377935b42c79ab48a3931}{pthread\_cond\_signal}}(\&\mbox{\hyperlink{classff_1_1ff__thread_ac0f415e7af596731f33fb032fd7c0df0}{cond\_frozen}});}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_af9530616ca0356931235e064a7063c59}{pthread\_cond\_wait}}(\&\mbox{\hyperlink{classff_1_1ff__thread_aaeab6dc1387b7d677f110f32319a1f48}{cond}},\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}});}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//thawed=true;}}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//pthread\_cond\_signal(\&cond);}}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//frozen=false;\ }}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}}\ !=\ 0)\ \mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}}\ =\ 1;\ \textcolor{comment}{//\ freeze\ again\ next\ time\ }}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}});}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_a507b755bb283dba7eb30a37ebe707016}{enable\_cancelability}}())\ \{}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_thread,\ thread\_routine,\ could\ not\ change\ thread\ cancelability"{}});}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}(!\mbox{\hyperlink{classff_1_1ff__thread_abc30fcdf990c1f7550d094ec3707fe2a}{stp}});}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}})\ \{}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}});}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_acee83123e26393bbdc92026ff83f719a}{frozen}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_af3771cd9bcc377935b42c79ab48a3931}{pthread\_cond\_signal}}(\&\mbox{\hyperlink{classff_1_1ff__thread_ac0f415e7af596731f33fb032fd7c0df0}{cond\_frozen}});}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}});}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_afeb01b966b92606913eca975c74bc8b6}{isdone}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00296\ \ \ \ \ \}}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__thread_a3d545e9a2358b8f8a7302e9ce08d8b2d}{disable\_cancelability}}()\ \{}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_ac9d377e54ad1ed0658f51052f535b9dc}{pthread\_setcancelstate}}(\mbox{\hyperlink{pthread__minport__windows_8h_a6c661332f782dcebc87b878990424b4c}{PTHREAD\_CANCEL\_DISABLE}},\ \&\mbox{\hyperlink{classff_1_1ff__thread_a806b448c3b53a0573b03ec4b14dec525}{old\_cancelstate}}))\ \{}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}pthread\_setcanceltype"{}});}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00304\ \ \ \ \ \}}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__thread_a507b755bb283dba7eb30a37ebe707016}{enable\_cancelability}}()\ \{}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_ac9d377e54ad1ed0658f51052f535b9dc}{pthread\_setcancelstate}}(\mbox{\hyperlink{classff_1_1ff__thread_a806b448c3b53a0573b03ec4b14dec525}{old\_cancelstate}},\ 0))\ \{}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}pthread\_setcanceltype"{}});}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00312\ \ \ \ \ \}}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ callbackIn(\textcolor{keywordtype}{void}\ \ *\ =\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{\ \}}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ callbackOut(\textcolor{keywordtype}{void}\ *\ =\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{\ \}}
\DoxyCodeLine{00318\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00319\ \ \ \ \ }
\DoxyCodeLine{00320\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00321\ \ }
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classff_1_1ff__thread_ab391ca0f45c64399f85230dda0ea7252}{svc}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ =\ 0;}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a15d63a6a2af3aa89df0515c319a26b29}{svc\_init}}()\ \{\ \textcolor{keywordflow}{return}\ 0;\ \};}
\DoxyCodeLine{00324\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \mbox{\hyperlink{classff_1_1ff__thread_a22e9ad1f77e61a9c70af582411aa6fdb}{svc\_end}}()\ \ \{\}}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__thread_aa517de1054de63c8a5106a3c19af248d}{set\_barrier}}(\mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \{\ \mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}}=\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};\}}
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}}*\ \mbox{\hyperlink{classff_1_1ff__thread_afd58df5aae1aaed8f23a04d4efac381b}{get\_barrier}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}};\ \}}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00329\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__thread_ac65297f6d870da3cf03f80b723b326e2}{no\_mapping}}()\ \{\ \mbox{\hyperlink{classff_1_1ff__thread_a8db36a004f6e613293d673fe98d34dcb}{default\_mapping}}=\textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__thread_aedb2d3eabb5a6fbc69ab36c5b3a396db}{get\_mapping}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_a8db36a004f6e613293d673fe98d34dcb}{default\_mapping}};\ \}}
\DoxyCodeLine{00331\ \ \ \ \ }
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__thread_a69014d917a4755a1826669ed58876488}{run}}(\textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_a1858e3635a473e28f30c28f8fd4d3b70}{spawn}}();\ \}}
\DoxyCodeLine{00333\ \ \ \ \ }
\DoxyCodeLine{00334\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__thread_a1858e3635a473e28f30c28f8fd4d3b70}{spawn}}(\textcolor{keywordtype}{int}\ cpuId=-\/1)\ \{}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_a9af2dc805d2aec73cacae61f109225ba}{spawned}})\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{classff_1_1ff__thread_a76c9efcc5ca3b43cf2c2a70b79039fc0}{attr}}\ =\ (\mbox{\hyperlink{pthread__minport__windows_8h_ad1483d9532e78abdc68abd50693a3bb6}{pthread\_attr\_t}}*)\mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{pthread__minport__windows_8h_ad1483d9532e78abdc68abd50693a3bb6}{pthread\_attr\_t}})))\ ==\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}spawn:\ pthread\ can\ not\ be\ created,\ malloc\ failed\(\backslash\)n"{}});}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a5c66c9042370b9d9220428bbd0108da0}{pthread\_attr\_init}}(\mbox{\hyperlink{classff_1_1ff__thread_a76c9efcc5ca3b43cf2c2a70b79039fc0}{attr}}))\ \{}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}pthread\_attr\_init:\ pthread\ can\ not\ be\ created."{}});}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ CPUId\ =\ -\/1;}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_a8db36a004f6e613293d673fe98d34dcb}{default\_mapping}})}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_afe043ceb2bbc0f0e7c085316070b4ca8}{init\_thread\_affinity}}(\mbox{\hyperlink{classff_1_1ff__thread_a76c9efcc5ca3b43cf2c2a70b79039fc0}{attr}},\ cpuId);}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (CPUId==-\/2)\ \textcolor{keywordflow}{return}\ -\/2;}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}})}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}}=\ \mbox{\hyperlink{namespaceff_abb5ef15f98b26ed4b8f90abb5323c301}{internal\_threadCounter}}.fetch\_add(1);}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}}=\ \mbox{\hyperlink{namespaceff_a7cb8db6b03888ab755dad6322222d8bf}{internal\_threadCounter\_noBarrier}}.fetch\_add(1);}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=0;}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\mbox{\hyperlink{pthread__minport__windows_8h_a6afb84a81a45d337464674b9ff88d41e}{pthread\_create}}(\&\mbox{\hyperlink{classff_1_1ff__thread_a2bda99fffd8d91d3fe911f2ab524163a}{th\_handle}},\ \mbox{\hyperlink{classff_1_1ff__thread_a76c9efcc5ca3b43cf2c2a70b79039fc0}{attr}},}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_ab5484db05d237243f16ad36219240774}{proxy\_thread\_routine}},\ \textcolor{keyword}{this}))\ !=\ 0)\ \{}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ errno=\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}pthread\_create:\ pthread\ creation\ failed."{}});}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}}?-\/-\/\mbox{\hyperlink{namespaceff_abb5ef15f98b26ed4b8f90abb5323c301}{internal\_threadCounter}}:-\/-\/\mbox{\hyperlink{namespaceff_a7cb8db6b03888ab755dad6322222d8bf}{internal\_threadCounter\_noBarrier}};}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/2;}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a9af2dc805d2aec73cacae61f109225ba}{spawned}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CPUId;}
\DoxyCodeLine{00365\ \ \ \ \ \}}
\DoxyCodeLine{00366\ \ \ \ \ \ }
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__thread_aa979a2923e0d4789835832f96edea1ae}{wait}}()\ \{}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=0;}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_abc30fcdf990c1f7550d094ec3707fe2a}{stp}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_ad640f724a3b10e2dc1ff89a52fb1a010}{isfrozen}}())\ \{}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a66eaa9163a54edc8046f1a7c16ac5bd4}{wait\_freezing}}();}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a900624376e40a51b35da67992c1653fc}{thaw}}();}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_a9af2dc805d2aec73cacae61f109225ba}{spawned}})\ \{}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ab55b290bca62946e18d5eb3c7a1c5114}{pthread\_join}}(\mbox{\hyperlink{classff_1_1ff__thread_a2bda99fffd8d91d3fe911f2ab524163a}{th\_handle}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}}\ ?\ -\/-\/\mbox{\hyperlink{namespaceff_abb5ef15f98b26ed4b8f90abb5323c301}{internal\_threadCounter}}:\ -\/-\/\mbox{\hyperlink{namespaceff_a7cb8db6b03888ab755dad6322222d8bf}{internal\_threadCounter\_noBarrier}};}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__thread_a76c9efcc5ca3b43cf2c2a70b79039fc0}{attr}})\ \{}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a2836afab79bfa407e60adab6001b0c73}{pthread\_attr\_destroy}}(\mbox{\hyperlink{classff_1_1ff__thread_a76c9efcc5ca3b43cf2c2a70b79039fc0}{attr}}))\ \{}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ERROR:\ ff\_thread.wait:\ pthread\_attr\_destroy\ fails!"{}});}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=-\/1;}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{classff_1_1ff__thread_a76c9efcc5ca3b43cf2c2a70b79039fc0}{attr}});}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a76c9efcc5ca3b43cf2c2a70b79039fc0}{attr}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a9af2dc805d2aec73cacae61f109225ba}{spawned}}=\textcolor{keyword}{false};}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00388\ \ \ \ \ \}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__thread_a66eaa9163a54edc8046f1a7c16ac5bd4}{wait\_freezing}}()\ \{}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}});}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(!\mbox{\hyperlink{classff_1_1ff__thread_acee83123e26393bbdc92026ff83f719a}{frozen}})\ \mbox{\hyperlink{pthread__minport__windows_8h_af9530616ca0356931235e064a7063c59}{pthread\_cond\_wait}}(\&\mbox{\hyperlink{classff_1_1ff__thread_ac0f415e7af596731f33fb032fd7c0df0}{cond\_frozen}},\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}});}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}});}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__thread_a6b5a13391f88d89d66b48a5939f97410}{init\_error}}?-\/1:0);}
\DoxyCodeLine{00395\ \ \ \ \ \}}
\DoxyCodeLine{00396\ }
\DoxyCodeLine{00397\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__thread_a22a359c1486ba1578050f969aeceb3be}{stop}}()\ \{\ \mbox{\hyperlink{classff_1_1ff__thread_abc30fcdf990c1f7550d094ec3707fe2a}{stp}}\ =\ \textcolor{keyword}{true};\ \};}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__thread_aad5e4b95ad6f312e7d95616394eccb23}{freeze}}()\ \{\ \ }
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_abc30fcdf990c1f7550d094ec3707fe2a}{stp}}=\textcolor{keyword}{false};}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}}\ =\ 1;}
\DoxyCodeLine{00402\ \ \ \ \ \}}
\DoxyCodeLine{00403\ \ \ \ \ }
\DoxyCodeLine{00404\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__thread_a900624376e40a51b35da67992c1653fc}{thaw}}(\textcolor{keywordtype}{bool}\ \_freeze=\textcolor{keyword}{false},\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}=-\/1)\ \{}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}});}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ this\ function\ is\ called\ even\ if\ the\ thread\ is\ not\ }}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in\ frozen\ state,\ then\ freezing\ has\ to\ be\ set\ to\ 1\ and\ not\ 2}}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \textcolor{comment}{//if\ (\_freeze)\ freezing=\ (frozen?2:1);\ //\ next\ time\ freeze\ again\ the\ thread}}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ October\ 2014,\ changed\ the\ above\ policy.}}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ thaw\ is\ called\ and\ the\ thread\ is\ not\ in\ the\ frozen\ stage,\ }}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ then\ the\ thread\ won't\ fall\ to\ sleep\ at\ the\ next\ freezing\ point}}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_freeze)\ \mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}}\ =\ 2;\ \textcolor{comment}{//\ next\ time\ freeze\ again\ the\ thread}}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}}=0;}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \textcolor{comment}{//assert(thawed==false);}}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_acee83123e26393bbdc92026ff83f719a}{frozen}}=\textcolor{keyword}{false};\ }
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_af3771cd9bcc377935b42c79ab48a3931}{pthread\_cond\_signal}}(\&\mbox{\hyperlink{classff_1_1ff__thread_aaeab6dc1387b7d677f110f32319a1f48}{cond}});}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\&\mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}});}
\DoxyCodeLine{00419\ }
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \textcolor{comment}{//pthread\_mutex\_lock(\&mutex);}}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \textcolor{comment}{//while(!thawed)\ pthread\_cond\_wait(\&cond,\ \&mutex);}}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \textcolor{comment}{//thawed=false;}}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \textcolor{comment}{//pthread\_mutex\_unlock(\&mutex);}}
\DoxyCodeLine{00424\ \ \ \ \ \}}
\DoxyCodeLine{00425\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__thread_ad640f724a3b10e2dc1ff89a52fb1a010}{isfrozen}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}}>0;\}\ }
\DoxyCodeLine{00426\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__thread_ac7813c0d38f6c1b3513cf16ce0ad43c6}{done}}()\textcolor{keyword}{\ \ \ \ \ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_afeb01b966b92606913eca975c74bc8b6}{isdone}}\ ||\ (\mbox{\hyperlink{classff_1_1ff__thread_acee83123e26393bbdc92026ff83f719a}{frozen}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__thread_abc30fcdf990c1f7550d094ec3707fe2a}{stp}});\}}
\DoxyCodeLine{00427\ }
\DoxyCodeLine{00428\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ad665cf4bf4a61dd23aab712d9c5e9d81}{pthread\_t}}\ \mbox{\hyperlink{classff_1_1ff__thread_a52e16d8335e2c6eab684e3b9a103ba7c}{get\_handle}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_a2bda99fffd8d91d3fe911f2ab524163a}{th\_handle}};\}}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__thread_aae5a74ad2e11fbfdba4ad0ef1005aec9}{getTid}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}};\ \}}
\DoxyCodeLine{00431\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__thread_a41ca284c42b3f62325d421d870ab0961}{getOSThreadId}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_a1dd3ebc20f5c14bd98534c26ddc078d2}{threadid}};\ \}}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00434\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00435\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a1dd3ebc20f5c14bd98534c26ddc078d2}{threadid}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00436\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a8db36a004f6e613293d673fe98d34dcb}{default\_mapping}};}
\DoxyCodeLine{00437\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00438\ \ \ \ \ \mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}}\ \ \ \ *\ \ \mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}};\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00439\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_abc30fcdf990c1f7550d094ec3707fe2a}{stp}};}
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a9af2dc805d2aec73cacae61f109225ba}{spawned}};}
\DoxyCodeLine{00441\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_ac0ca16d47fe1a6a88a80169b7089da81}{freezing}};\ \ }
\DoxyCodeLine{00442\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_acee83123e26393bbdc92026ff83f719a}{frozen}},\mbox{\hyperlink{classff_1_1ff__thread_afeb01b966b92606913eca975c74bc8b6}{isdone}};}
\DoxyCodeLine{00443\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a6b5a13391f88d89d66b48a5939f97410}{init\_error}};}
\DoxyCodeLine{00444\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ad665cf4bf4a61dd23aab712d9c5e9d81}{pthread\_t}}\ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a2bda99fffd8d91d3fe911f2ab524163a}{th\_handle}};}
\DoxyCodeLine{00445\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ad1483d9532e78abdc68abd50693a3bb6}{pthread\_attr\_t}}\ *\mbox{\hyperlink{classff_1_1ff__thread_a76c9efcc5ca3b43cf2c2a70b79039fc0}{attr}};}
\DoxyCodeLine{00446\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \mbox{\hyperlink{classff_1_1ff__thread_a1184c61dc6af8d5ab8996eaa8cb9f9ab}{mutex}};\ }
\DoxyCodeLine{00447\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \mbox{\hyperlink{classff_1_1ff__thread_aaeab6dc1387b7d677f110f32319a1f48}{cond}};}
\DoxyCodeLine{00448\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \mbox{\hyperlink{classff_1_1ff__thread_ac0f415e7af596731f33fb032fd7c0df0}{cond\_frozen}};}
\DoxyCodeLine{00449\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a806b448c3b53a0573b03ec4b14dec525}{old\_cancelstate}};}
\DoxyCodeLine{00450\ \};}
\DoxyCodeLine{00451\ \ \ \ \ }
\DoxyCodeLine{00452\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{namespaceff_a02cfff8393ca71a98f5907a968b7e9d5}{proxy\_thread\_routine}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})\ \{}
\DoxyCodeLine{00453\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a077db4cce394f84488da05f72a42a26a}{ff\_thread}}\ \&\ obj\ =\ *(\mbox{\hyperlink{classff_1_1ff__thread_a077db4cce394f84488da05f72a42a26a}{ff\_thread}}\ *)\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}};}
\DoxyCodeLine{00454\ \ \ \ \ obj.\mbox{\hyperlink{classff_1_1ff__thread_a4435afbf89bbbc81236a4bd210d59add}{thread\_routine}}();}
\DoxyCodeLine{00455\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_acb373fa829d9d1b2faaa79346f5090a7}{pthread\_exit}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00456\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00457\ \}}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ \textcolor{comment}{//\ forward\ declaration\ \ \ \ }}
\DoxyCodeLine{00460\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__loadbalancer}{ff\_loadbalancer}};}
\DoxyCodeLine{00461\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__gatherer}{ff\_gatherer}};}
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00497\ }
\DoxyCodeLine{00498\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ \{}
\DoxyCodeLine{00499\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00500\ }
\DoxyCodeLine{00501\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_a49105d0bd6775d145575fd6dfa2d8471}{ff\_farm}};}
\DoxyCodeLine{00502\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_a3f36c1cb1d96150c90c517c1cae31d7e}{ff\_pipeline}};}
\DoxyCodeLine{00503\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_a7712fe67ad5c003176d1eb8954f61e3c}{ff\_map}};}
\DoxyCodeLine{00504\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ IN,\textcolor{keyword}{typename}\ OUT>}
\DoxyCodeLine{00505\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_a584425ebbcd491a2bd1ff44e5aa5de50}{ff\_nodeSelector}};}
\DoxyCodeLine{00506\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_a4507398d523881cfadefdf463bfa5962}{ff\_loadbalancer}};}
\DoxyCodeLine{00507\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_a60ba6ed26a612548d9930f0457bf852c}{ff\_gatherer}};}
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_a5c2a2267cef9b123fb010235262f1201}{ff\_minode}};}
\DoxyCodeLine{00509\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_a9fd03def584ea607d1d7986eef54ac6c}{ff\_monode}};}
\DoxyCodeLine{00510\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_a7542a58b0efa58291c12d2926c2a78d4}{ff\_a2a}};}
\DoxyCodeLine{00511\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_abe64ffac2201bfaef32ab7a7c16ab511}{ff\_comb}};}
\DoxyCodeLine{00512\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{classff_1_1ff__node_aa0c3089f80b6fa84352b822890b2b864}{internal\_mo\_transformer}};}
\DoxyCodeLine{00513\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{classff_1_1ff__node_aaabca995c8e468c3324993dd8ba73e4c}{internal\_mi\_transformer}};}
\DoxyCodeLine{00514\ }
\DoxyCodeLine{00515\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00516\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1d_groups}{dGroups}};}
\DoxyCodeLine{00517\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1d_group}{dGroup}};}
\DoxyCodeLine{00518\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00519\ }
\DoxyCodeLine{00520\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00521\ \ \ \ \ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ \ \ \ \ \ \ \ *\ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00523\ \ \ \ \ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ \ \ \ \ \ \ \ *\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00525\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_adb9f904fd4d880a67c2bf6c7e14bd82f}{myid}};\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00526\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a8d004e52f00f95e80f190fdd59a21a65}{CPUId}};}
\DoxyCodeLine{00527\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a452cf15111a236bfa6d5c45363ac5014}{neos}}=1;\ \ \ \ \ \ \ }
\DoxyCodeLine{00528\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_acae613bdeb037cdec0363a8619f859ad}{myoutbuffer}};}
\DoxyCodeLine{00529\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_ab7fea5bccd5835d6eb3cebbfeb4ac39d}{myinbuffer}};}
\DoxyCodeLine{00530\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a2cc5475e2a45313b1e2eddf4f4df23ac}{skip1pop}};}
\DoxyCodeLine{00531\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00532\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_skipallpop;}
\DoxyCodeLine{00533\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00534\ }
\DoxyCodeLine{00535\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aee915470424072d6097cff9aa5d819c8}{in\_active}};\ \ \ \ \textcolor{comment}{//\ allows\ to\ disable/enable\ input\ tasks\ receiving\ \ \ }}
\DoxyCodeLine{00536\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a0d3dfe586534ded89173c549b580036e}{my\_own\_thread}};}
\DoxyCodeLine{00537\ }
\DoxyCodeLine{00538\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread}{ff\_thread}}\ \ \ \ \ \ \ *\ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}};\ \ \ \ \ \ \ }
\DoxyCodeLine{00539\ \ \ \ \ \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}\ (*\mbox{\hyperlink{classff_1_1ff__node_afc373ea4adfe2cc2126a77a9a63ee773}{callback}})(\textcolor{keywordtype}{void}\ *,\ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}},\ \textcolor{keywordtype}{unsigned}\ long,\textcolor{keywordtype}{unsigned}\ long,\ \textcolor{keywordtype}{void}\ *);}
\DoxyCodeLine{00540\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ *\ \mbox{\hyperlink{classff_1_1ff__node_a2b15cc91cce1d8fd18df3f44b56572c1}{callback\_arg}};}
\DoxyCodeLine{00541\ \ \ \ \ \mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}}\ \ \ \ \ \ \ *\ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}};\ \ \ \ \ \ }
\DoxyCodeLine{00542\ \ \ \ \ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__node_a761dbd561af7a21124c768efc1b4762f}{tstart}};}
\DoxyCodeLine{00543\ \ \ \ \ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__node_af97b0febe919147c6b29452e49b30c22}{tstop}};}
\DoxyCodeLine{00544\ \ \ \ \ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__node_a6118c9fd7fce76b50eb58cd8076c8b31}{wtstart}};}
\DoxyCodeLine{00545\ \ \ \ \ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__node_a7b52f713ae7508c8b0d27099d7e4ebc2}{wtstop}};}
\DoxyCodeLine{00546\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff__node_a0f54bd765dd301707bbc338bb35cde5b}{wttime}};}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00548\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00549\ \ \ \ \ }
\DoxyCodeLine{00550\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a922fc688f91665519c1f6c967638fa38}{set\_id}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_adb9f904fd4d880a67c2bf6c7e14bd82f}{myid}}\ =\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};}
\DoxyCodeLine{00552\ \ \ \ \ \}}
\DoxyCodeLine{00553\ \ \ \ \ \textcolor{comment}{//\ sets\ how\ many\ EOSs\ the\ node\ has\ to\ receive\ before\ terminating,}}
\DoxyCodeLine{00554\ \ \ \ \ \textcolor{comment}{//\ it\ also\ sets\ when\ eosnotify\ has\ to\ be\ called,\ by\ default\ at\ each\ input\ EOS\ \ \ \ }}
\DoxyCodeLine{00555\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_aeb7e7fad60c40bdf8d7703cc99182984}{set\_neos}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{\ \mbox{\hyperlink{classff_1_1ff__node_a452cf15111a236bfa6d5c45363ac5014}{neos}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};\ \}}
\DoxyCodeLine{00556\ \ \ \ \ }
\DoxyCodeLine{00557\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a3af0ed444dc4c7fb56b43a99787e41df}{push}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}-\/>push(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});\ \}}
\DoxyCodeLine{00558\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_ad5cc2cf5075a13cb58eddeb948d46deb}{pop}}(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{\ }
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_aee915470424072d6097cff9aa5d819c8}{in\_active}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \textcolor{comment}{//\ it\ does\ not\ want\ to\ receive\ data}}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>pop(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00561\ \ \ \ \ \}}
\DoxyCodeLine{00562\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a8e0242ad8fad595d94a952b9aa6cbafd}{Push}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=(\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{TICKS2WAIT}}))\ \{}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (blocking\_out)\ \{}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ retry:}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ empty=\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}-\/>empty();}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_a3af0ed444dc4c7fb56b43a99787e41df}{push}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ \{\ \textcolor{comment}{//\ OK}}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (empty)\ \mbox{\hyperlink{pthread__minport__windows_8h_af3771cd9bcc377935b42c79ab48a3931}{pthread\_cond\_signal}}(\mbox{\hyperlink{classff_1_1ff__node_aa7be481f0b79329c78a06d6024145078}{p\_cons\_c}});}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ FULL}}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ tv;}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a5b1f0a8d2b5b3ed69bee02a6b2d3041e}{timedwait\_timeout}}(tv);}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}});}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pthread\_cond\_timedwait(\mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}},\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}},\&tv);}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}});}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ retry;}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<retry;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a3af0ed444dc4c7fb56b43a99787e41df}{push}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_af269eeed52f7216ac56ddca1cd781add}{losetime\_out}}(ticks);}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \}\ \ \ \ \ }
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00584\ \ \ \ \ \}}
\DoxyCodeLine{00585\ \ \ \ \ }
\DoxyCodeLine{00586\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a754e2a5f5cca8d783e6f69ab261edfad}{Pop}}(\textcolor{keywordtype}{void}\ **\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=(\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{TICKS2WAIT}}))\ \{}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (blocking\_in)\ \{}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_aee915470424072d6097cff9aa5d819c8}{in\_active}})\ \{\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ retry:}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>pop(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ \{\ \textcolor{comment}{//\ EMPTY\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ tv;}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a5b1f0a8d2b5b3ed69bee02a6b2d3041e}{timedwait\_timeout}}(tv);}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}});}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pthread\_cond\_timedwait(\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}},\ \mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}},\&tv);}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}});}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ retry;}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<retry;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_aee915470424072d6097cff9aa5d819c8}{in\_active}})\ \{\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_ad5cc2cf5075a13cb58eddeb948d46deb}{pop}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a1d2193b3053dc20e707d194d0bda91cf}{losetime\_in}}(ticks);}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00606\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00607\ \ \ \ \ \}}
\DoxyCodeLine{00608\ }
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \ \ \ \ \textcolor{comment}{//\ consumer}}
\DoxyCodeLine{00611\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_aab934f40b0c6129cc45d95fb085f8024}{init\_input\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \textcolor{comment}{/*feedback*/}=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}}==\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}}\ =\ (\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}*)\mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}));}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}}\ =\ (\mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}*)\mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}));}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}});\ assert(\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}});}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a06769b1c0f650377fed34ef94ac2a01c}{pthread\_mutex\_init}}(\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ !=\ 0)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a71bdb8a20eb782047e084c27fcf7aa65}{pthread\_cond\_init}}(\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ !=\ 0)\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}},\ \ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}};}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00624\ \ \ \ \ \}}
\DoxyCodeLine{00625\ \ \ \ \ \textcolor{comment}{//\ producer}}
\DoxyCodeLine{00626\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a2d686a96eb183cf5b8fc2969b12e0a09}{init\_output\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \textcolor{comment}{/*feedback*/}=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}}==\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}}\ =\ (\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}*)\mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}));}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}}\ =\ (\mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}*)\mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}));}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}});\ assert(\mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}});}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a06769b1c0f650377fed34ef94ac2a01c}{pthread\_mutex\_init}}(\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ !=\ 0)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a71bdb8a20eb782047e084c27fcf7aa65}{pthread\_cond\_init}}(\mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ !=\ 0)\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}},\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}};}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00639\ \ \ \ \ \}}
\DoxyCodeLine{00640\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a84ae02b065e080db75da2c63183e2865}{set\_output\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ canoverwrite=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ assert(canoverwrite\ ||}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{classff_1_1ff__node_aa7be481f0b79329c78a06d6024145078}{p\_cons\_c}}\ ==\ \textcolor{keyword}{nullptr})\ ||}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{classff_1_1ff__node_aa7be481f0b79329c78a06d6024145078}{p\_cons\_c}}\ ==\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}));}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_a1aebef44e18bd3f2833fea929c783695}{FF\_IGNORE\_UNUSED}}(canoverwrite);}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_a1aebef44e18bd3f2833fea929c783695}{FF\_IGNORE\_UNUSED}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}});}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aa7be481f0b79329c78a06d6024145078}{p\_cons\_c}}\ =\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}};}
\DoxyCodeLine{00649\ \ \ \ \ \}}
\DoxyCodeLine{00650\ }
\DoxyCodeLine{00651\ \ \ \ \ \textcolor{comment}{//\ this\ function\ is\ used\ mainly\ for\ combined\ node\ where\ the\ cond\ variable\ must}}
\DoxyCodeLine{00652\ \ \ \ \ \textcolor{comment}{//\ be\ shared\ with\ the\ first\ internal\ node\ }}
\DoxyCodeLine{00653\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \mbox{\hyperlink{classff_1_1ff__node_a60e920b0b9f806ca1633b945e81547b9}{set\_cons\_c}}(\mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ \{}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}}\ ==\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}}\ ==\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}}\ =\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}};}
\DoxyCodeLine{00657\ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00658\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ \&\mbox{\hyperlink{classff_1_1ff__node_a6428bdb4a1a63a1f4c439d092a49e2af}{get\_cons\_c}}()\ \ \ \ \ \ \ \{\ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}};\}}
\DoxyCodeLine{00659\ }
\DoxyCodeLine{00670\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a949d963e759f57c978bd0d85f89ed1b3}{skipfirstpop}}(\textcolor{keywordtype}{bool}\ sk)\ \ \ \{\ \mbox{\hyperlink{classff_1_1ff__node_a2cc5475e2a45313b1e2eddf4f4df23ac}{skip1pop}}=sk;\}}
\DoxyCodeLine{00671\ }
\DoxyCodeLine{00672\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00673\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ skipallpop(\textcolor{keywordtype}{bool}\ sk)\ \{\_skipallpop\ =\ sk;\}}
\DoxyCodeLine{00674\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00675\ }
\DoxyCodeLine{00687\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a71789627f48cb9f466c50601a881c7bc}{skipfirstpop}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a2cc5475e2a45313b1e2eddf4f4df23ac}{skip1pop}};\ \}}
\DoxyCodeLine{00688\ }
\DoxyCodeLine{00689\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00690\ \ \ \ \ \textcolor{keywordtype}{bool}\ skipallpop()\ \{\textcolor{keywordflow}{return}\ \_skipallpop;\}}
\DoxyCodeLine{00691\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00692\ }
\DoxyCodeLine{00693\ \ \ \ \ }
\DoxyCodeLine{00703\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_adfe6c917b93de5635d21a79c8c4181cb}{create\_input\_buffer}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ \textcolor{keywordtype}{bool}\ fixedsize=\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}})\ \{}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}}<=0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},fixedsize);}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00708\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_ab7fea5bccd5835d6eb3cebbfeb4ac39d}{myinbuffer}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>init())\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00711\ \ \ \ \ \}}
\DoxyCodeLine{00712\ }
\DoxyCodeLine{00713\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_ac7d023db5b2847b0211e1633c9a3a772}{create\_input\_buffer\_mp}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ \textcolor{keywordtype}{bool}\ fixedsize=\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_a452cf15111a236bfa6d5c45363ac5014}{neos}}=1)\ \{}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_adfe6c917b93de5635d21a79c8c4181cb}{create\_input\_buffer}}(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},fixedsize)<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ setting\ multi-\/producer\ push}}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>pushPMF\ =\ \&FFBUFFER::mp\_push;}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aeb7e7fad60c40bdf8d7703cc99182984}{set\_neos}}(\mbox{\hyperlink{classff_1_1ff__node_a452cf15111a236bfa6d5c45363ac5014}{neos}});}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00719\ \ \ \ \ \}}
\DoxyCodeLine{00720\ \ \ \ \ }
\DoxyCodeLine{00730\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_aea470bb6d3cd85ced8e63e4d58ce7c5c}{create\_output\_buffer}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ \textcolor{keywordtype}{bool}\ fixedsize=\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}})\ \{}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00732\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}}<=0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00733\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},fixedsize);\ }
\DoxyCodeLine{00734\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00735\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_acae613bdeb037cdec0363a8619f859ad}{myoutbuffer}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00736\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}-\/>init())\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00738\ \ \ \ \ \}}
\DoxyCodeLine{00739\ }
\DoxyCodeLine{00750\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_afb1c0ca383122fb4105b32f1a7702ee3}{set\_output\_buffer}}(\mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\ \textcolor{keyword}{const}\ o)\ \{}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_acae613bdeb037cdec0363a8619f859ad}{myoutbuffer}})\ \textcolor{keywordflow}{return}\ -\/1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00752\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ =\ o;}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00754\ \ \ \ \ \}}
\DoxyCodeLine{00755\ }
\DoxyCodeLine{00756\ }
\DoxyCodeLine{00767\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_a561a7e071f3721de62e465f41384c933}{set\_input\_buffer}}(\mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00768\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_ab7fea5bccd5835d6eb3cebbfeb4ac39d}{myinbuffer}})\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}};}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00771\ \ \ \ \ \}}
\DoxyCodeLine{00772\ }
\DoxyCodeLine{00773\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_afd5d0d287eede86501cafcd5f2f93780}{set\_input}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&)\ \{\ \textcolor{keywordflow}{return}\ -\/1;\}}
\DoxyCodeLine{00774\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_abfe919e29918f8f9f35ebecab17769fd}{set\_input}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a561a7e071f3721de62e465f41384c933}{set\_input\_buffer}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>get\_in\_buffer());}
\DoxyCodeLine{00776\ \ \ \ \ \}}
\DoxyCodeLine{00777\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_a93fe77f476d54b904598388d89c0b9a7}{set\_input\_feedback}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *)\ \{\ \textcolor{keywordflow}{return}\ -\/1;\}}
\DoxyCodeLine{00778\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_ab6ffd295306d5d959f1e8f4a8a8b1d4f}{set\_output}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&)\ \{\ \textcolor{keywordflow}{return}\ -\/1;\}}
\DoxyCodeLine{00779\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_af7d298d0309717ed22497ee185874729}{set\_output}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{}
\DoxyCodeLine{00780\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_afb1c0ca383122fb4105b32f1a7702ee3}{set\_output\_buffer}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>get\_in\_buffer());}
\DoxyCodeLine{00781\ \ \ \ \ \}}
\DoxyCodeLine{00782\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_ad2e9a0121f47a14aa35322d945252ebf}{set\_output\_feedback}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *)\ \{\ \textcolor{keywordflow}{return}\ -\/1;\}}
\DoxyCodeLine{00783\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a4a35a5e3daedb1bd0181c28301fe9b6e}{set\_input\_channelid}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}},\ \textcolor{keywordtype}{bool}=\textcolor{keyword}{true})\ \{\}}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00785\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_a12a94dcc87c0b754ae713ca6cd698022}{prepare}}()\ \{\ \mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}}=\textcolor{keyword}{true};\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00786\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_a0faab3b24468693d99603366863ab07c}{dryrun}}()\ \{\ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}})\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a12a94dcc87c0b754ae713ca6cd698022}{prepare}}();\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00787\ }
\DoxyCodeLine{00788\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a3165dab446f987dcb32ff269b478d8b7}{set\_scheduling\_ondemand}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \textcolor{comment}{/*inbufferentries*/}=1)\ \{\}\ }
\DoxyCodeLine{00789\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_ab83c63b75280a88bb3e67e8ba8fb707f}{ondemand\_buffer}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ 0;\}\ }
\DoxyCodeLine{00790\ }
\DoxyCodeLine{00791\ \ \ \ \ }
\DoxyCodeLine{00797\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_aec4506dc3946ff9e6ce5bb5370545864}{run}}(\textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{\ }
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keyword}{delete}\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker}{thWorker}}*\textcolor{keyword}{>}(\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}});}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker}{thWorker}}(\textcolor{keyword}{this},\mbox{\hyperlink{classff_1_1ff__node_a452cf15111a236bfa6d5c45363ac5014}{neos}});}
\DoxyCodeLine{00800\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00801\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>run();}
\DoxyCodeLine{00802\ \ \ \ \ \}}
\DoxyCodeLine{00803\ }
\DoxyCodeLine{00804\ \textcolor{preprocessor}{\ \ \ \ \#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00805\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_aec4506dc3946ff9e6ce5bb5370545864}{run}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*,\ \textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{\textcolor{keywordflow}{return}\ 0;\}}
\DoxyCodeLine{00806\ \textcolor{preprocessor}{\ \ \ \ \#endif\ \ \ \ \ }}
\DoxyCodeLine{00807\ \ \ \ \ }
\DoxyCodeLine{00815\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_a2a3cf53a9770db79fe5b20d08e66a0cf}{freeze\_and\_run}}(\textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keyword}{delete}\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker}{thWorker}}*\textcolor{keyword}{>}(\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}});}
\DoxyCodeLine{00817\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker}{thWorker}}(\textcolor{keyword}{this},\mbox{\hyperlink{classff_1_1ff__node_a452cf15111a236bfa6d5c45363ac5014}{neos}});}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aa9cbd68a2b1b94ac714a5939d510467b}{freeze}}();}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>run();}
\DoxyCodeLine{00821\ \ \ \ \ \}}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00828\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \ \mbox{\hyperlink{classff_1_1ff__node_a060b15e97e9fdc8d50fd10c0dd141a0f}{wait}}()\ \{\ }
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>wait();\ }
\DoxyCodeLine{00831\ \ \ \ \ \}}
\DoxyCodeLine{00832\ \ \ \ \ }
\DoxyCodeLine{00840\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \ \mbox{\hyperlink{classff_1_1ff__node_abe92009631afe597677ebc7fb91cbd07}{wait\_freezing}}()\ \{\ }
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00842\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>wait\_freezing();\ }
\DoxyCodeLine{00843\ \ \ \ \ \}}
\DoxyCodeLine{00844\ \ \ \ \ }
\DoxyCodeLine{00845\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a94d7a6d3bc2af21a2c6e0da1a7d911ea}{stop}}()\ \{}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return};\ }
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>stop();\ }
\DoxyCodeLine{00848\ \ \ \ \ \}}
\DoxyCodeLine{00849\ \ \ \ \ }
\DoxyCodeLine{00853\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_aa9cbd68a2b1b94ac714a5939d510467b}{freeze}}()\ \{\ }
\DoxyCodeLine{00854\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return};\ }
\DoxyCodeLine{00855\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>freeze();\ }
\DoxyCodeLine{00856\ \ \ \ \ \}}
\DoxyCodeLine{00857\ \ \ \ \ }
\DoxyCodeLine{00861\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a53ecd4da7c7652b8abc8923bbd57c589}{thaw}}(\textcolor{keywordtype}{bool}\ \_freeze=\textcolor{keyword}{false},\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}=-\/1)\ \{\ }
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return};\ }
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>thaw(\_freeze);}
\DoxyCodeLine{00864\ \ \ \ \ \}}
\DoxyCodeLine{00865\ \ \ \ \ }
\DoxyCodeLine{00870\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_ad530addcffd6d545b3c520094136e7bd}{isfrozen}}()\textcolor{keyword}{\ const\ }\{\ }
\DoxyCodeLine{00871\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00872\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>isfrozen();}
\DoxyCodeLine{00873\ \ \ \ \ \}}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00879\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_ad05b720f168f769e1ff81a44a8252684}{done}}()\textcolor{keyword}{\ const\ \ }\{}
\DoxyCodeLine{00880\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00881\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>done();}
\DoxyCodeLine{00882\ \ \ \ \ \}}
\DoxyCodeLine{00883\ }
\DoxyCodeLine{00884\ }
\DoxyCodeLine{00885\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_ab9242a64e852a3719f46aaac7d4ea664}{isoutbuffermine}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_acae613bdeb037cdec0363a8619f859ad}{myoutbuffer}};\}}
\DoxyCodeLine{00886\ }
\DoxyCodeLine{00887\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \ \mbox{\hyperlink{classff_1_1ff__node_a36d0f2e9af23bfae8014ef794b02db3c}{cardinality}}(\mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \{\ }
\DoxyCodeLine{00888\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}}\ =\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};}
\DoxyCodeLine{00889\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00890\ \ \ \ \ \}}
\DoxyCodeLine{00891\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \ \mbox{\hyperlink{classff_1_1ff__node_abc5dfd395a0901f2b153acc569a23c47}{cardinality}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ 1;\ \}}
\DoxyCodeLine{00892\ }
\DoxyCodeLine{00893\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a068804567fa72f3bf9fb7fffa2feb657}{setlb}}(\mbox{\hyperlink{classff_1_1ff__node_a4507398d523881cfadefdf463bfa5962}{ff\_loadbalancer}}*,\textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{\}}
\DoxyCodeLine{00894\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_af13bb788d36b48134c970d659a74e04d}{setgt}}(\mbox{\hyperlink{classff_1_1ff__node_a60ba6ed26a612548d9930f0457bf852c}{ff\_gatherer}}*,\textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{\}}
\DoxyCodeLine{00895\ }
\DoxyCodeLine{00896\ \ \ \ \ }
\DoxyCodeLine{00902\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff__node_aae04163f91c23bef4cf6faea5a534962}{ffTime}}()\ \{}
\DoxyCodeLine{00903\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__node_af97b0febe919147c6b29452e49b30c22}{tstop}},\mbox{\hyperlink{classff_1_1ff__node_a761dbd561af7a21124c768efc1b4762f}{tstart}});}
\DoxyCodeLine{00904\ \ \ \ \ \}}
\DoxyCodeLine{00905\ }
\DoxyCodeLine{00911\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff__node_aa3eaacc8f4f13e976d1214f23a14afb8}{wffTime}}()\ \{}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__node_a7b52f713ae7508c8b0d27099d7e4ebc2}{wtstop}},\mbox{\hyperlink{classff_1_1ff__node_a6118c9fd7fce76b50eb58cd8076c8b31}{wtstart}});}
\DoxyCodeLine{00913\ \ \ \ \ \}}
\DoxyCodeLine{00914\ }
\DoxyCodeLine{00915\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00916\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00917\ \textcolor{comment}{\ \ \ \ \ *\ \(\backslash\)brief\ Default\ retry\ delay\ in\ nonblocking\ get/put\ on\ channels}}
\DoxyCodeLine{00918\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00919\ \ \ \ \ \textcolor{keyword}{enum}\ \{\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{TICKS2WAIT}}=1000\};}
\DoxyCodeLine{00920\ }
\DoxyCodeLine{00921\ \ \ \ \ \textcolor{keywordtype}{void}\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespaceff_a0d49fe9ae339a6ea515d87ade60b6d08}{FF\_GO\_ON}};}
\DoxyCodeLine{00922\ \ \ \ \ \textcolor{keywordtype}{void}\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__node_a57ce59be19900e98cce03412a099738a}{GO\_OUT}}\ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespaceff_a87d1455fcd512edda2f88c16618c6424}{FF\_GO\_OUT}};}
\DoxyCodeLine{00923\ \ \ \ \ \textcolor{keywordtype}{void}\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__node_a35c10ab7f946623d0c9a64371ba25b3b}{EOS\_NOFREEZE}}\ =\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}};}
\DoxyCodeLine{00924\ \ \ \ \ \textcolor{keywordtype}{void}\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__node_a1e60cdd7d63155baf308086d38690567}{EOS}}\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}};}
\DoxyCodeLine{00925\ \ \ \ \ \textcolor{keywordtype}{void}\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__node_ab24c701c859d3d63684470c592cbee24}{EOSW}}\ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{namespaceff_acaef0c2eb0aeb203e6d74b0859a543fb}{FF\_EOSW}};}
\DoxyCodeLine{00926\ }
\DoxyCodeLine{00927\ \ \ \ \ }
\DoxyCodeLine{00928\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\&):\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}()\ \{\}}
\DoxyCodeLine{00929\ \ }
\DoxyCodeLine{00935\ \ \ \ \ \textcolor{keyword}{virtual}\ \ \mbox{\hyperlink{classff_1_1ff__node_acad6bc940eefa68ba9e679fd6921d679}{\string~ff\_node}}()\ \{}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__node_ab7fea5bccd5835d6eb3cebbfeb4ac39d}{myinbuffer}})\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}};}
\DoxyCodeLine{00937\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__node_acae613bdeb037cdec0363a8619f859ad}{myoutbuffer}})\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}};}
\DoxyCodeLine{00938\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__node_a0d3dfe586534ded89173c549b580036e}{my\_own\_thread}})\ \textcolor{keyword}{delete}\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker}{thWorker}}*\textcolor{keyword}{>}(\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}});}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}})\ \{}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_aa195608723fa0adb8478449f3f21e122}{pthread\_cond\_destroy}}(\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}});}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}});}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00943\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00944\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}})\ \{}
\DoxyCodeLine{00945\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a733a87c6f8ed4dc0b76662dac0ea4a9a}{pthread\_mutex\_destroy}}(\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}});}
\DoxyCodeLine{00946\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}});}
\DoxyCodeLine{00947\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00948\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00949\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}})\ \{}
\DoxyCodeLine{00950\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a733a87c6f8ed4dc0b76662dac0ea4a9a}{pthread\_mutex\_destroy}}(\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}});}
\DoxyCodeLine{00951\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}});}
\DoxyCodeLine{00952\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00953\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00954\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}})\ \{}
\DoxyCodeLine{00955\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_aa195608723fa0adb8478449f3f21e122}{pthread\_cond\_destroy}}(\mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}});}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}});}
\DoxyCodeLine{00957\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00958\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00959\ \ \ \ \ \};}
\DoxyCodeLine{00960\ }
\DoxyCodeLine{00967\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classff_1_1ff__node_a9f01b6c64e68815c58b7a3e83f7064be}{svc}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ =\ 0;}
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00979\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_af5af8302af6ca191d0aa21c5b5265fb3}{svc\_init}}()\ \{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00980\ \ \ \ \ }
\DoxyCodeLine{00988\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \mbox{\hyperlink{classff_1_1ff__node_afe2bc9f071260a12cb6abed7022520d0}{svc\_end}}()\ \{\}}
\DoxyCodeLine{00989\ \ \ \ \ }
\DoxyCodeLine{00990\ }
\DoxyCodeLine{00999\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \ \ \mbox{\hyperlink{classff_1_1ff__node_a1a5fd40db83e323236b8d08ac0eccc76}{nodeInit}}()\ \{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{01000\ }
\DoxyCodeLine{01007\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \mbox{\hyperlink{classff_1_1ff__node_af78182bab518ef43b605809ad9e6f006}{nodeEnd}}()\ \ \{\ \}}
\DoxyCodeLine{01008\ }
\DoxyCodeLine{01017\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_ad8068f6d0bf1c13abcd9566524a4cbbe}{eosnotify}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \textcolor{comment}{/*id*/}=-\/1)\ \{\}}
\DoxyCodeLine{01018\ \ \ \ \ }
\DoxyCodeLine{01022\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__node_acf28eacf6588708c30a49804a22e6197}{get\_neos}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a452cf15111a236bfa6d5c45363ac5014}{neos}};\}}
\DoxyCodeLine{01023\ \ \ \ \ }
\DoxyCodeLine{01027\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__node_a32d30503e0a33406841d77bc1f4dc2e2}{get\_my\_id}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_adb9f904fd4d880a67c2bf6c7e14bd82f}{myid}};\ \};}
\DoxyCodeLine{01028\ }
\DoxyCodeLine{01035\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__node_ad7157071cb20c09d6532c9eaf64cf0b8}{getOSThreadId}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>getOSThreadId();\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{01036\ }
\DoxyCodeLine{01037\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_ad70aa2e45015115075277d96b32e31d4}{change\_node}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*\ old,\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ remove\_from\_cleanuplist=\textcolor{keyword}{false})\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\}}
\DoxyCodeLine{01038\ }
\DoxyCodeLine{01044\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_aedcd1ca541900d5c52835eaf608db420}{change\_outputqueuesize}}(\textcolor{keywordtype}{size\_t}\ newsz,\ \textcolor{keywordtype}{size\_t}\ \&oldsz)\ \{}
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \{\ oldsz=0;\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{01046\ \ \ \ \ \ \ \ \ oldsz\ =\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}-\/>changesize(newsz);}
\DoxyCodeLine{01047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01048\ \ \ \ \ \}}
\DoxyCodeLine{01054\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a34d3750d31818f57650aa95e5093bc16}{change\_inputqueuesize}}(\textcolor{keywordtype}{size\_t}\ newsz,\ \textcolor{keywordtype}{size\_t}\ \&oldsz)\ \{}
\DoxyCodeLine{01055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \{\ oldsz=0;\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{01056\ \ \ \ \ \ \ \ \ oldsz\ =\ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>changesize(newsz);}
\DoxyCodeLine{01057\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01058\ \ \ \ \ \}}
\DoxyCodeLine{01059\ }
\DoxyCodeLine{01060\ \ \ \ \ }
\DoxyCodeLine{01061\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{01062\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ callbackIn(\textcolor{keywordtype}{void}\ *\ =\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \ \{\ \}}
\DoxyCodeLine{01063\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ callbackOut(\textcolor{keywordtype}{void}\ *\ =\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{\ \}}
\DoxyCodeLine{01064\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01065\ }
\DoxyCodeLine{01066\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_ab05d103aca4217e980d99b05778573aa}{get\_out\_nodes}}(\mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.push\_back(\textcolor{keyword}{this});\ \}}
\DoxyCodeLine{01067\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_ae94f973b7e1228546792f8895ddd7bc0}{get\_out\_nodes\_feedback}}(\mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&)\ \{\}}
\DoxyCodeLine{01068\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a13a611e0875cf7501e1c5cd5ca84411c}{get\_in\_nodes}}(\mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.push\_back(\textcolor{keyword}{this});\ \}}
\DoxyCodeLine{01069\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a102474a12057c125ec0a6607ed584731}{get\_in\_nodes\_feedback}}(\mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&)\ \{\}}
\DoxyCodeLine{01070\ }
\DoxyCodeLine{01071\ \ \ \ \ }
\DoxyCodeLine{01077\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \mbox{\hyperlink{classff_1_1ff__node_a4bfa22d706cf8d27ebd6402be7f3521b}{setAffinity}}(\textcolor{keywordtype}{int}\ cpuID)\ \{\ }
\DoxyCodeLine{01078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cpuID<0\ ||\ !\mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}()-\/>checkCPUId(cpuID)\ )\ \{}
\DoxyCodeLine{01079\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}setAffinity,\ invalid\ cpuID\(\backslash\)n"{}});}
\DoxyCodeLine{01080\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01081\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a8d004e52f00f95e80f190fdd59a21a65}{CPUId}}=cpuID;}
\DoxyCodeLine{01082\ \ \ \ \ \}}
\DoxyCodeLine{01083\ }
\DoxyCodeLine{01084\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_aa9344f2d96ac7c041c5f0db882e79568}{set\_barrier}}(\mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \{}
\DoxyCodeLine{01085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}}\ =\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};}
\DoxyCodeLine{01086\ \ \ \ \ \}}
\DoxyCodeLine{01087\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}}*\ \mbox{\hyperlink{classff_1_1ff__node_a26f22c81ae0c8c1b13e39645fa1eb021}{get\_barrier}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}};\ \}}
\DoxyCodeLine{01088\ \ \ \ \ }
\DoxyCodeLine{01097\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_adfde80f5bf0b0077a4e351a6f21311e3}{getCPUId}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a8d004e52f00f95e80f190fdd59a21a65}{CPUId}};\ \}}
\DoxyCodeLine{01098\ }
\DoxyCodeLine{01109\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \mbox{\hyperlink{classff_1_1ff__node_ac257caa02b62b4546345560e649839dc}{put}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{\ }
\DoxyCodeLine{01110\ \ \ \ \ \ \ \ \ \textcolor{comment}{//return\ in-\/>push(ptr);}}
\DoxyCodeLine{01111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>*\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>pushPMF)(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{01112\ \ \ \ \ \}}
\DoxyCodeLine{01113\ \ \ \ \ }
\DoxyCodeLine{01122\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \mbox{\hyperlink{classff_1_1ff__node_ae18ca66ff9749c52b3299b46891de59c}{get}}(\textcolor{keywordtype}{void}\ **\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}-\/>pop(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});\}}
\DoxyCodeLine{01123\ \ \ \ }
\DoxyCodeLine{01124\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_af269eeed52f7216ac56ddca1cd781add}{losetime\_out}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{ff\_node::TICKS2WAIT}})\ \{}
\DoxyCodeLine{01125\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(lostpushticks+=ticks;\ ++pushwait);}
\DoxyCodeLine{01126\ \textcolor{preprocessor}{\#if\ defined(SPIN\_USE\_PAUSE)}}
\DoxyCodeLine{01127\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ (long)ticks/2000;}
\DoxyCodeLine{01128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<=\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ PAUSE();}
\DoxyCodeLine{01129\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01130\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a04585e83a60ec0d1664ccfec22c87b8c}{ticks\_wait}}(ticks);}
\DoxyCodeLine{01131\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ SPIN\_USE\_PAUSE\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{01132\ \ \ \ \ \}}
\DoxyCodeLine{01133\ }
\DoxyCodeLine{01134\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a1d2193b3053dc20e707d194d0bda91cf}{losetime\_in}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{ff\_node::TICKS2WAIT}})\ \{}
\DoxyCodeLine{01135\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(lostpopticks+=ticks;\ ++popwait);}
\DoxyCodeLine{01136\ \textcolor{preprocessor}{\#if\ defined(SPIN\_USE\_PAUSE)}}
\DoxyCodeLine{01137\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ (long)ticks/2000;}
\DoxyCodeLine{01138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<=\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ PAUSE();}
\DoxyCodeLine{01139\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01140\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a04585e83a60ec0d1664ccfec22c87b8c}{ticks\_wait}}(ticks);}
\DoxyCodeLine{01141\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ SPIN\_USE\_PAUSE\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{01142\ \ \ \ \ \}}
\DoxyCodeLine{01143\ }
\DoxyCodeLine{01151\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\ \mbox{\hyperlink{classff_1_1ff__node_adfa6f2bc22637590349e94ecb9b3c8eb}{get\_in\_buffer}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}};\}}
\DoxyCodeLine{01152\ }
\DoxyCodeLine{01160\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\ \mbox{\hyperlink{classff_1_1ff__node_a334096bd901d8b6c2ae2d73877846ff0}{get\_out\_buffer}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}};\}}
\DoxyCodeLine{01161\ }
\DoxyCodeLine{01162\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__node_aa7572f50f891b790016e4dde7d55feb4}{getstarttime}}()\ const\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a761dbd561af7a21124c768efc1b4762f}{tstart}};\}}
\DoxyCodeLine{01163\ }
\DoxyCodeLine{01164\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__node_a486bce16c07344d8a23d9d397d45e09e}{getstoptime}}()\ \ const\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_af97b0febe919147c6b29452e49b30c22}{tstop}};\}}
\DoxyCodeLine{01165\ }
\DoxyCodeLine{01166\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__node_a154e7f1d5715416d55029fded8869763}{getwstartime}}()\ const\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a6118c9fd7fce76b50eb58cd8076c8b31}{wtstart}};\}}
\DoxyCodeLine{01167\ }
\DoxyCodeLine{01168\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__node_a3d2c3a7c33d44c203117b519183378f6}{getwstoptime}}()\ const\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a7b52f713ae7508c8b0d27099d7e4ebc2}{wtstop}};\}\ \ \ \ }
\DoxyCodeLine{01169\ }
\DoxyCodeLine{01170\ \textcolor{preprocessor}{\#if\ defined(TRACE\_FASTFLOW)}}
\DoxyCodeLine{01171\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ ffStats(std::ostream\ \&\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \{}
\DoxyCodeLine{01172\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ <<\ \textcolor{stringliteral}{"{}ID:\ "{}}\ <<\ \mbox{\hyperlink{classff_1_1ff__node_a32d30503e0a33406841d77bc1f4dc2e2}{get\_my\_id}}()}
\DoxyCodeLine{01173\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ work-\/time\ (ms):\ "{}}\ <<\ \mbox{\hyperlink{classff_1_1ff__node_a0f54bd765dd301707bbc338bb35cde5b}{wttime}}\ \ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{01174\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ n.\ tasks\ \ \ \ \ \ :\ "{}}\ <<\ taskcnt\ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{01175\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ svc\ ticks\ \ \ \ \ :\ "{}}\ <<\ tickstot\ \ <<\ \textcolor{stringliteral}{"{}\ (min=\ "{}}\ <<\ ticksmin\ <<\ \textcolor{stringliteral}{"{}\ max=\ "{}}\ <<\ ticksmax\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}}}
\DoxyCodeLine{01176\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ n.\ push\ lost\ \ :\ "{}}\ <<\ pushwait\ \ <<\ \textcolor{stringliteral}{"{}\ (ticks="{}}\ <<\ lostpushticks\ <<\ \textcolor{stringliteral}{"{})"{}}\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{01177\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ n.\ pop\ lost\ \ \ :\ "{}}\ <<\ popwait\ \ \ <<\ \textcolor{stringliteral}{"{}\ (ticks="{}}\ <<\ lostpopticks\ \ <<\ \textcolor{stringliteral}{"{})"{}}\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{01178\ \ \ \ \ \}}
\DoxyCodeLine{01179\ }
\DoxyCodeLine{01180\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{double}\ getworktime()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a0f54bd765dd301707bbc338bb35cde5b}{wttime}};\ \}}
\DoxyCodeLine{01181\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ getnumtask()\textcolor{keyword}{\ \ const\ }\{\ \textcolor{keywordflow}{return}\ taskcnt;\ \}}
\DoxyCodeLine{01182\ \ \ \ \ \textcolor{keyword}{virtual}\ ticks\ \ getsvcticks()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ tickstot;\ \}}
\DoxyCodeLine{01183\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ getpushlost()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ pushwait;\}}
\DoxyCodeLine{01184\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ getpoplost()\textcolor{keyword}{\ \ const\ }\{\ \textcolor{keywordflow}{return}\ popwait;\ \}}
\DoxyCodeLine{01185\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01186\ }
\DoxyCodeLine{01198\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a66ddc4b89e7a2fd1b8d4a02c94eb9408}{ff\_send\_out}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}=-\/1,}
\DoxyCodeLine{01199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),}
\DoxyCodeLine{01200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=(\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{TICKS2WAIT}}))\ \{\ }
\DoxyCodeLine{01201\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_afc373ea4adfe2cc2126a77a9a63ee773}{callback}})\ \textcolor{keywordflow}{return}\ \ \mbox{\hyperlink{classff_1_1ff__node_afc373ea4adfe2cc2126a77a9a63ee773}{callback}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\textcolor{keywordtype}{id},retry,ticks,\mbox{\hyperlink{classff_1_1ff__node_a2b15cc91cce1d8fd18df3f44b56572c1}{callback\_arg}});}
\DoxyCodeLine{01202\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\mbox{\hyperlink{classff_1_1ff__node_a8e0242ad8fad595d94a952b9aa6cbafd}{Push}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},retry,ticks);}
\DoxyCodeLine{01203\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{01204\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ callbackOut();}
\DoxyCodeLine{01205\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01206\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{01207\ \ \ \ \ \}}
\DoxyCodeLine{01208\ }
\DoxyCodeLine{01209\ \ \ \ \ \textcolor{comment}{//\ Warning\ resetting\ queues\ while\ the\ node\ is\ running\ may\ produce\ unexpected\ results.}}
\DoxyCodeLine{01210\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a91d0d3a3336b0f29dbaf48a7e94b99c2}{reset}}()\ \{}
\DoxyCodeLine{01211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>reset();}
\DoxyCodeLine{01212\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}-\/>reset();}
\DoxyCodeLine{01213\ \ \ \ \ \}}
\DoxyCodeLine{01214\ }
\DoxyCodeLine{01219\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_ae19d751c9e02406928e3b1dcef6dbc15}{isMultiInput}}()\textcolor{keyword}{\ const\ }\{\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{01220\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_adfb7746174f6744ae019cf494ca2b8a5}{isMultiOutput}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{01221\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_ac8e132cbcab68af6a4ca13bbcccd62f3}{isAll2All}}()\textcolor{keyword}{\ const\ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{01222\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a2af2bb6ee5bffb4bb5074b4c46ededed}{isFarm}}()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{01223\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a0e0ec9da95b11c7d9a5ce874870cf9df}{isOFarm}}()\textcolor{keyword}{\ const\ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{01224\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a96dcc6dd5c2dd5d783959aa45c44b087}{isComp}}()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{01225\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_af6f2c022154421e2908065194b3cc75e}{isPipe}}()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{01226\ }
\DoxyCodeLine{01227\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_afe8d7c7d7e512fd3c75c6f71943e8a2c}{set\_multiinput}}()\ \ \{\}}
\DoxyCodeLine{01228\ \ \ \ \ }
\DoxyCodeLine{01229\ \textcolor{preprocessor}{\#if\ defined(FF\_REPARA)}}
\DoxyCodeLine{01230\ \ \ \ \ \textcolor{keyword}{struct\ }rpr\_measure\_t\ \{}
\DoxyCodeLine{01231\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ schedule\_id;}
\DoxyCodeLine{01232\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ time\_before,\ time\_after;}
\DoxyCodeLine{01233\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ problemSize;\ \ \textcolor{comment}{//\ computed\ if\ the\ rpr::task\_size\ attribute\ is\ defined\ otherwise\ is\ 0}}
\DoxyCodeLine{01234\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ bytesIn,\ bytesOut;}
\DoxyCodeLine{01235\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ vmSize,\ vmPeak;}
\DoxyCodeLine{01236\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ energy;}
\DoxyCodeLine{01237\ \ \ \ \ \};}
\DoxyCodeLine{01238\ \ \ \ \ }
\DoxyCodeLine{01239\ \ \ \ \ \textcolor{keyword}{using\ }RPR\_devices\_measure\ =\ std::vector<std::pair<int,\ std::vector<rpr\_measure\_t>\ >\ >;}
\DoxyCodeLine{01240\ \ \ \ \ \textcolor{keyword}{using\ }RPR\_measures\_vector\ =\ std::vector<std::vector<RPR\_devices\_measure>\ >;}
\DoxyCodeLine{01241\ }
\DoxyCodeLine{01245\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ rpr\_get\_sizeIn()\textcolor{keyword}{\ \ const\ }\{\ \textcolor{keywordflow}{return}\ rpr\_sizeIn;\ \}}
\DoxyCodeLine{01246\ }
\DoxyCodeLine{01250\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ rpr\_get\_sizeOut()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ rpr\_sizeOut;\ \}}
\DoxyCodeLine{01251\ }
\DoxyCodeLine{01255\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ rpr\_get\_measure\_energy()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ measureEnergy;\ \}}
\DoxyCodeLine{01256\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ rpr\_set\_measure\_energy(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}})\ \{\ measureEnergy\ =\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}};\ \}}
\DoxyCodeLine{01257\ }
\DoxyCodeLine{01268\ \ \ \ \ \textcolor{keyword}{virtual}\ RPR\_measures\_vector\ rpr\_get\_measures()\ \{\ \textcolor{keywordflow}{return}\ RPR\_measures\_vector();\ \}}
\DoxyCodeLine{01269\ }
\DoxyCodeLine{01270\ \ \ \ \ }
\DoxyCodeLine{01271\ \textcolor{keyword}{protected}:\ }
\DoxyCodeLine{01272\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ measureEnergy\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01273\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ rpr\_sizeIn\ \ \ \ \ \ =\ \{0\};}
\DoxyCodeLine{01274\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ rpr\_sizeOut\ \ \ \ \ =\ \{0\};}
\DoxyCodeLine{01275\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{/*\ FF\_REPARA\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{01276\ }
\DoxyCodeLine{01280\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_afe5d23d824721119f1cfd766a1da53ed}{ff\_send\_out\_comp}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keywordtype}{int},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{comment}{/*retry*/},\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{comment}{/*ticks*/},\ \textcolor{keywordtype}{void}\ *obj)\ \{}
\DoxyCodeLine{01281\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *)obj)-\/>push\_comp\_local(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{01282\ \ \ \ \ \}}
\DoxyCodeLine{01283\ }
\DoxyCodeLine{01284\ }
\DoxyCodeLine{01285\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a1ea0503efa0d6fa0c448b5f51544c0cf}{push\_comp\_local}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{01286\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}})\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{01287\ \ \ \ \ \ \ \ \ abort();\ \ \textcolor{comment}{//\ to\ be\ removed,\ just\ for\ debugging\ purposes}}
\DoxyCodeLine{01288\ \ \ \ \ \}}
\DoxyCodeLine{01289\ }
\DoxyCodeLine{01290\ }
\DoxyCodeLine{01291\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__node_a15ed1e4c7b71e403ea94bf187d36739e}{get\_channel\_id}}()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ -\/1;\ \}}
\DoxyCodeLine{01293\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \ \mbox{\hyperlink{classff_1_1ff__node_ae6d1bb207b2895166f2ed0e64e4e3eb0}{get\_num\_outchannels}}()\textcolor{keyword}{\ const\ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{01295\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \ \mbox{\hyperlink{classff_1_1ff__node_accccc76569bfef8837ede58c224a9b8a}{get\_num\_inchannels}}()\textcolor{keyword}{\ const\ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}\ \textcolor{comment}{//(in?1:0);\ \}}}
\DoxyCodeLine{01296\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \ \mbox{\hyperlink{classff_1_1ff__node_a29c5bf7e11bcb2b8406a694b772125ed}{get\_num\_feedbackchannels}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}\ \textcolor{comment}{//(out?1:0);\}}}
\DoxyCodeLine{01297\ \ \ \ \ }
\DoxyCodeLine{01298\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a5ee72d9b2a759d00898ae9ce92eb247e}{propagateEOS}}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}=\mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}})\ \{\ (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}})\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};\ \}}
\DoxyCodeLine{01299\ \ \ \ \ }
\DoxyCodeLine{01300\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{01301\ \ \ \ \ std::function<\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}(\textcolor{keywordtype}{void}*,\ \mbox{\hyperlink{classdata_buffer}{dataBuffer}}\&)>\ serializeF;}
\DoxyCodeLine{01302\ \ \ \ \ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keywordtype}{void}*)>\ freetaskF;}
\DoxyCodeLine{01303\ \ \ \ \ std::function<\textcolor{keywordtype}{void}*(\mbox{\hyperlink{classdata_buffer}{dataBuffer}}\&,\ \textcolor{keywordtype}{bool}\&)>\ deserializeF;}
\DoxyCodeLine{01304\ \ \ \ \ std::function<\textcolor{keywordtype}{void}*(\textcolor{keywordtype}{char}*,\ size\_t)>\ alloctaskF;}
\DoxyCodeLine{01305\ }
\DoxyCodeLine{01306\ \ \ \ \ }
\DoxyCodeLine{01307\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ isSerializable()\{\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{bool})serializeF;\ \}}
\DoxyCodeLine{01308\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ isDeserializable()\{\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{bool})deserializeF;\ \}}
\DoxyCodeLine{01309\ \ \ \ \ \textcolor{keyword}{virtual}\ std::pair<\textcolor{keyword}{decltype}(serializeF),\ \textcolor{keyword}{decltype}(freetaskF)>\ getSerializationFunction()\{\textcolor{keywordflow}{return}\ std::make\_pair(serializeF,freetaskF);\}}
\DoxyCodeLine{01310\ \ \ \ \ \textcolor{keyword}{virtual}\ std::pair<\textcolor{keyword}{decltype}(deserializeF),\ \textcolor{keyword}{decltype}(alloctaskF)>\ getDeserializationFunction()\{\ \textcolor{keywordflow}{return}\ std::make\_pair(deserializeF,alloctaskF);\}}
\DoxyCodeLine{01311\ }
\DoxyCodeLine{01312\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01313\ \ \ \ \ \textcolor{comment}{//\ always\ defined,\ the\ body\ will\ implement\ a\ no-\/op\ if\ the\ distributed\ runtime\ is\ disabled}}
\DoxyCodeLine{01314\ \ \ \ \ GroupInterface\ \mbox{\hyperlink{classff_1_1ff__node_a709f20c713adf4fa67d6d5ec39805c45}{createGroup}}(std::string);}
\DoxyCodeLine{01315\ \ \ \ \ }
\DoxyCodeLine{01316\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01317\ }
\DoxyCodeLine{01318\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a8dd9719fe25adcefd8156ebb81f3f26b}{ff\_node}}():\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}(0),\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}(0),\mbox{\hyperlink{classff_1_1ff__node_adb9f904fd4d880a67c2bf6c7e14bd82f}{myid}}(-\/1),\mbox{\hyperlink{classff_1_1ff__node_a8d004e52f00f95e80f190fdd59a21a65}{CPUId}}(-\/1),}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_acae613bdeb037cdec0363a8619f859ad}{myoutbuffer}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{classff_1_1ff__node_ab7fea5bccd5835d6eb3cebbfeb4ac39d}{myinbuffer}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),}
\DoxyCodeLine{01320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a2cc5475e2a45313b1e2eddf4f4df23ac}{skip1pop}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\ \mbox{\hyperlink{classff_1_1ff__node_aee915470424072d6097cff9aa5d819c8}{in\_active}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),\ }
\DoxyCodeLine{01321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a0d3dfe586534ded89173c549b580036e}{my\_own\_thread}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),}
\DoxyCodeLine{01322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\mbox{\hyperlink{classff_1_1ff__node_afc373ea4adfe2cc2126a77a9a63ee773}{callback}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{01323\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a21b873e8dbf6f7b80eec5be4f9fd3a60}{time\_setzero}}(\mbox{\hyperlink{classff_1_1ff__node_a761dbd561af7a21124c768efc1b4762f}{tstart}});\mbox{\hyperlink{namespaceff_a21b873e8dbf6f7b80eec5be4f9fd3a60}{time\_setzero}}(\mbox{\hyperlink{classff_1_1ff__node_af97b0febe919147c6b29452e49b30c22}{tstop}});}
\DoxyCodeLine{01324\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a21b873e8dbf6f7b80eec5be4f9fd3a60}{time\_setzero}}(\mbox{\hyperlink{classff_1_1ff__node_a6118c9fd7fce76b50eb58cd8076c8b31}{wtstart}});\mbox{\hyperlink{namespaceff_a21b873e8dbf6f7b80eec5be4f9fd3a60}{time\_setzero}}(\mbox{\hyperlink{classff_1_1ff__node_a7b52f713ae7508c8b0d27099d7e4ebc2}{wtstop}});}
\DoxyCodeLine{01325\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a0f54bd765dd301707bbc338bb35cde5b}{wttime}}=0;}
\DoxyCodeLine{01326\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(taskcnt=0;lostpushticks=0;pushwait=0;lostpopticks=0;popwait=0;ticksmin=(ticks)-\/1;ticksmax=0;tickstot=0);}
\DoxyCodeLine{01327\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01328\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aa7be481f0b79329c78a06d6024145078}{p\_cons\_c}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{01329\ }
\DoxyCodeLine{01330\ \ \ \ \ \ \ \ \ blocking\_in\ =\ blocking\_out\ =\ \mbox{\hyperlink{config_8hpp_a735fc6b958d76afde43c44b7d84115da}{FF\_RUNTIME\_MODE}};}
\DoxyCodeLine{01331\ \ \ \ \ \};}
\DoxyCodeLine{01332\ }
\DoxyCodeLine{01333\ \ \ \ \ }
\DoxyCodeLine{01334\ \ \ \ \ \textcolor{comment}{//\ move\ constructor}}
\DoxyCodeLine{01335\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_ae603a1eaad729b2f71af412ce4aeb0b0}{ff\_node}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ \&\&\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{}
\DoxyCodeLine{01336\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a761dbd561af7a21124c768efc1b4762f}{tstart}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.tstart;}
\DoxyCodeLine{01337\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_af97b0febe919147c6b29452e49b30c22}{tstop}}\ \ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.tstop;}
\DoxyCodeLine{01338\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a6118c9fd7fce76b50eb58cd8076c8b31}{wtstart}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.wtstart;}
\DoxyCodeLine{01339\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a7b52f713ae7508c8b0d27099d7e4ebc2}{wtstop}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.wtstop;}
\DoxyCodeLine{01340\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a0f54bd765dd301707bbc338bb35cde5b}{wttime}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.wttime;}
\DoxyCodeLine{01341\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aa7be481f0b79329c78a06d6024145078}{p\_cons\_c}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.p\_cons\_c;}
\DoxyCodeLine{01342\ \ \ \ \ \ \ \ \ blocking\_in\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.blocking\_in;}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \ \ blocking\_out\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.blocking\_out;}
\DoxyCodeLine{01344\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aac7a5fe3ed358b0a7a36ab97df203d0c}{default\_mapping}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.default\_mapping;}
\DoxyCodeLine{01345\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aee915470424072d6097cff9aa5d819c8}{in\_active}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.in\_active;}
\DoxyCodeLine{01346\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.cons\_m;\ \ \mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.cons\_c;}
\DoxyCodeLine{01347\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.prod\_m;\ \ \mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.prod\_c;}
\DoxyCodeLine{01348\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.barrier;}
\DoxyCodeLine{01349\ }
\DoxyCodeLine{01350\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO\ trace\ <-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01352\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.in;}
\DoxyCodeLine{01353\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_ab7fea5bccd5835d6eb3cebbfeb4ac39d}{myinbuffer}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.myinbuffer;}
\DoxyCodeLine{01354\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.out;}
\DoxyCodeLine{01355\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_acae613bdeb037cdec0363a8619f859ad}{myoutbuffer}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.myoutbuffer;}
\DoxyCodeLine{01356\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.thread;}
\DoxyCodeLine{01357\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a0d3dfe586534ded89173c549b580036e}{my\_own\_thread}}\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.my\_own\_thread;}
\DoxyCodeLine{01358\ }
\DoxyCodeLine{01359\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.in\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01360\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.myinbuffer\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01361\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.out\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01362\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.myoutbuffer\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01363\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.thread\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01364\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.my\_own\_thread\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01365\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.barrier\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01366\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.cons\_m\ =\ \textcolor{keyword}{nullptr};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.cons\_c\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01367\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.prod\_m\ =\ \textcolor{keyword}{nullptr};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.prod\_c\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01368\ \ \ \ \ \}}
\DoxyCodeLine{01369\ }
\DoxyCodeLine{01370\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_acbdf7a6daed6e03473f5c3cec2d1da6f}{input\_active}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ onoff)\ \{}
\DoxyCodeLine{01371\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_aee915470424072d6097cff9aa5d819c8}{in\_active}}\ !=\ onoff)}
\DoxyCodeLine{01372\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aee915470424072d6097cff9aa5d819c8}{in\_active}}=\ onoff;}
\DoxyCodeLine{01373\ \ \ \ \ \}}
\DoxyCodeLine{01374\ }
\DoxyCodeLine{01375\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_ad8c6802b7a49124aaab14b4d95ef06f0}{registerCallback}}(\textcolor{keywordtype}{bool}\ (*\mbox{\hyperlink{namespaceff_a6b0f1a6fb598cb9b6388ac19b8d1bdb2}{cb}})(\textcolor{keywordtype}{void}\ *,\textcolor{keywordtype}{int},\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long},\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long},\textcolor{keywordtype}{void}\ *),\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})\ \{}
\DoxyCodeLine{01376\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_afc373ea4adfe2cc2126a77a9a63ee773}{callback}}=\mbox{\hyperlink{namespaceff_a6b0f1a6fb598cb9b6388ac19b8d1bdb2}{cb}};}
\DoxyCodeLine{01377\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a2b15cc91cce1d8fd18df3f44b56572c1}{callback\_arg}}=\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}};}
\DoxyCodeLine{01378\ \ \ \ \ \}}
\DoxyCodeLine{01379\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_ac0493dbc049d001a0e90bf76665c8af6}{registerAllGatherCallback}}(\textcolor{keywordtype}{int}\ (*\ \textcolor{comment}{/*cb*/})(\textcolor{keywordtype}{void}\ *,\textcolor{keywordtype}{void}\ **,\ \textcolor{keywordtype}{void}*),\ \textcolor{keywordtype}{void}\ *\ \textcolor{comment}{/*arg*/})\ \{\}}
\DoxyCodeLine{01380\ }
\DoxyCodeLine{01381\ \ \ \ \ \textcolor{comment}{/*\ WARNING:\ these\ method\ must\ be\ called\ before\ the\ run()\ method\ */}}
\DoxyCodeLine{01382\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a76d5cf775c23ed5265d94759a613dde3}{blocking\_mode}}(\textcolor{keywordtype}{bool}\ blk=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{01383\ \ \ \ \ \ \ \ \ blocking\_in\ =\ blocking\_out\ =\ blk;}
\DoxyCodeLine{01384\ \ \ \ \ \}}
\DoxyCodeLine{01385\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a425c02dc07443e954676f9c309891853}{no\_barrier}}()\ \{}
\DoxyCodeLine{01386\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a27cedacb1f7d9d831106d6ef05010a90}{initial\_barrier}}=\textcolor{keyword}{false};}
\DoxyCodeLine{01387\ \ \ \ \ \}}
\DoxyCodeLine{01388\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_a8cf18e542b92e7268e938644cd08a079}{no\_mapping}}()\ \{}
\DoxyCodeLine{01389\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aac7a5fe3ed358b0a7a36ab97df203d0c}{default\_mapping}}=\textcolor{keyword}{false};}
\DoxyCodeLine{01390\ \ \ \ \ \}}
\DoxyCodeLine{01391\ \ \ \ \ }
\DoxyCodeLine{01392\ \textcolor{keyword}{private}:\ \ }
\DoxyCodeLine{01393\ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{01394\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_ac17df4e257e29b087a66759dd53d3cbd}{thWorker}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1ff__thread_a077db4cce394f84488da05f72a42a26a}{ff\_thread}}\ \{}
\DoxyCodeLine{01395\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01396\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_ac17df4e257e29b087a66759dd53d3cbd}{thWorker}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a894d15e590ab314b16f7b8efa826192e}{input\_neos}}=1):}
\DoxyCodeLine{01397\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a077db4cce394f84488da05f72a42a26a}{ff\_thread}}(\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>\mbox{\hyperlink{classff_1_1ff__thread_ae2d274b80f37549cb00dee42eef48aea}{barrier}},\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>\mbox{\hyperlink{classff_1_1ff__thread_a8db36a004f6e613293d673fe98d34dcb}{default\_mapping}}),\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}(\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}),\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a894d15e590ab314b16f7b8efa826192e}{input\_neos}}(\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a894d15e590ab314b16f7b8efa826192e}{input\_neos}})\ \{\}}
\DoxyCodeLine{01398\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01399\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a5417a738d91f9e8ade8b1eb3d80a82d4}{push}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{01400\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ NOTE:\ filter-\/>push\ and\ not\ buffer-\/>push\ because\ of\ the\ filter\ can\ be\ a\ dnode}}
\DoxyCodeLine{01401\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ *\ \ }}
\DoxyCodeLine{01402\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ *\ It\ is\ not\ correct\ to\ call\ filter-\/>Push\ because\ the\ filter\ could\ be\ a\ composition}}
\DoxyCodeLine{01403\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ *\ so\ the\ ff\_send\_out\ allows\ to\ call\ the\ callback}}
\DoxyCodeLine{01404\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{01405\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//return\ filter-\/>Push(task);}}
\DoxyCodeLine{01406\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>ff\_send\_out(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{01407\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01408\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01409\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a2aeeffbebbc06eb9bfea67cd096ef5a9}{pop}}(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{01410\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ }}
\DoxyCodeLine{01411\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ *\ NOTE:\ filter-\/>pop\ and\ not\ buffer-\/>pop\ because\ of\ the\ filter\ can\ be\ a\ dnode}}
\DoxyCodeLine{01412\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{01413\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>Pop(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{01414\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01415\ }
\DoxyCodeLine{01416\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a11574a5644366ffd5254825c70f355b7}{put}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>put(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});\}}
\DoxyCodeLine{01417\ }
\DoxyCodeLine{01418\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a991166a2cb4e925e31d92504c89449ef}{get}}(\textcolor{keywordtype}{void}\ **\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>get(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});\}}
\DoxyCodeLine{01419\ }
\DoxyCodeLine{01420\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a1c5ec23b6ec97ddaf306c4184c8e803b}{svc}}(\textcolor{keywordtype}{void}\ *\ )\ \{}
\DoxyCodeLine{01421\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{01422\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ \ =\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}};}
\DoxyCodeLine{01423\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inpresent\ \ =\ (\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>get\_in\_buffer()\ !=\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{01424\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ outpresent\ =\ (\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>get\_out\_buffer()\ !=\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{01425\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_a949d963e759f57c978bd0d85f89ed1b3}{skipfirstpop}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>skipfirstpop();\ }
\DoxyCodeLine{01426\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ exit=\textcolor{keyword}{false};\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01427\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ filter\_outpresent\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01428\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__node_a452cf15111a236bfa6d5c45363ac5014}{neos}}=\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a894d15e590ab314b16f7b8efa826192e}{input\_neos}};}
\DoxyCodeLine{01429\ }
\DoxyCodeLine{01430\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01431\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ node\ is\ a\ combine\ where\ the\ last\ stage\ is\ a\ multi-\/output}}
\DoxyCodeLine{01432\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}\ \&\&\ (\ !outpresent\ \&\&\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>isMultiOutput()\ )\ )\ \{}
\DoxyCodeLine{01433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ filter\_outpresent=\textcolor{keyword}{true};}
\DoxyCodeLine{01434\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01435\ \ \ \ \ \ \ \ \ \ \ \ \ gettimeofday(\&\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>wtstart,\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{01436\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{01437\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>skipallpop()\ \&\&\ inpresent)\{}
\DoxyCodeLine{01439\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inpresent)\ \{}
\DoxyCodeLine{01441\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a949d963e759f57c978bd0d85f89ed1b3}{skipfirstpop}})\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a2aeeffbebbc06eb9bfea67cd096ef5a9}{pop}}(\&\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});\ }
\DoxyCodeLine{01443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{classff_1_1ff__node_a949d963e759f57c978bd0d85f89ed1b3}{skipfirstpop}}=\textcolor{keyword}{false};}
\DoxyCodeLine{01444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}})\ ||\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_acaef0c2eb0aeb203e6d74b0859a543fb}{FF\_EOSW}})\ ||}
\DoxyCodeLine{01445\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}}))\ \{}
\DoxyCodeLine{01446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{01447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (-\/-\/\mbox{\hyperlink{classff_1_1ff__node_a452cf15111a236bfa6d5c45363ac5014}{neos}}\ >\ 0)\ \textcolor{keywordflow}{continue};\ \ }
\DoxyCodeLine{01449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>eosnotify();}
\DoxyCodeLine{01450\ }
\DoxyCodeLine{01451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ only\ EOS\ and\ EOSW\ are\ propagated}}
\DoxyCodeLine{01452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}})\ ||\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_acaef0c2eb0aeb203e6d74b0859a543fb}{FF\_EOSW}})\ )\ \ \{}
\DoxyCodeLine{01453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (outpresent)\ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a5417a738d91f9e8ade8b1eb3d80a82d4}{push}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{01454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (filter\_outpresent)\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>propagateEOS();}
\DoxyCodeLine{01455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_a87d1455fcd512edda2f88c16618c6424}{FF\_GO\_OUT}})\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(++\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>taskcnt);}
\DoxyCodeLine{01461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(ticks\ \mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}\ =\ getticks());}
\DoxyCodeLine{01462\ }
\DoxyCodeLine{01463\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{01464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}})\ callbackIn();}
\DoxyCodeLine{01465\ \textcolor{preprocessor}{\#endif\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{01466\ }
\DoxyCodeLine{01467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>svc(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{01468\ }
\DoxyCodeLine{01469\ \textcolor{preprocessor}{\#if\ defined(TRACE\_FASTFLOW)}}
\DoxyCodeLine{01470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ticks\ diff=(getticks()-\/\mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}});}
\DoxyCodeLine{01471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>tickstot\ +=diff;}
\DoxyCodeLine{01472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>ticksmin=(\mbox{\hyperlink{namespacestd_ac7b9885417769949d76890454b6d072e}{std::min}})(\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>ticksmin,diff);\ \textcolor{comment}{//\ (std::min)\ for\ win\ portability)}}
\DoxyCodeLine{01473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>ticksmax=(std::max)(\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>ticksmax,diff);}
\DoxyCodeLine{01474\ \textcolor{preprocessor}{\#endif\ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{01475\ }
\DoxyCodeLine{01476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ ==\ \mbox{\hyperlink{namespaceff_a87d1455fcd512edda2f88c16618c6424}{FF\_GO\_OUT}})\ \textcolor{keywordflow}{break};\ \ \ \ \ }
\DoxyCodeLine{01477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ ||\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ >=\ \mbox{\hyperlink{namespaceff_acaef0c2eb0aeb203e6d74b0859a543fb}{FF\_EOSW}}))\ \{\ \textcolor{comment}{//\ EOS\ or\ EOS\_NOFREEZE\ or\ EOSW}}
\DoxyCodeLine{01478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ The\ EOS\ is\ gonna\ be\ produced\ in\ the\ output\ queue}}
\DoxyCodeLine{01479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ the\ thread\ exits\ even\ if\ there\ might\ be\ some\ tasks}}
\DoxyCodeLine{01480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in\ the\ input\ queue\ !!!}}
\DoxyCodeLine{01481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}})\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}};}
\DoxyCodeLine{01482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ exit=\textcolor{keyword}{true};}
\DoxyCodeLine{01483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ outpresent\ \&\&\ ((\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ !=\ \mbox{\hyperlink{namespaceff_a0d49fe9ae339a6ea515d87ade60b6d08}{FF\_GO\_ON}})\ \&\&\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ !=\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}}))\ )\ \{\ }
\DoxyCodeLine{01485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a5417a738d91f9e8ade8b1eb3d80a82d4}{push}}(\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}});}
\DoxyCodeLine{01486\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{01487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}})\ callbackOut();}
\DoxyCodeLine{01488\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01490\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}(!exit);}
\DoxyCodeLine{01491\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01492\ \ \ \ \ \ \ \ \ \ \ \ \ gettimeofday(\&\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>wtstop,\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{01493\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>wttime+=\mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>wtstop,\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>wtstart);}
\DoxyCodeLine{01494\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01495\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{01496\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01497\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01498\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a11531588bd44825c155f411cd6b3a9a6}{svc\_init}}()\ \{}
\DoxyCodeLine{01499\ \textcolor{preprocessor}{\#if\ !defined(HAVE\_PTHREAD\_SETAFFINITY\_NP)\ \&\&\ !defined(NO\_DEFAULT\_MAPPING)}}
\DoxyCodeLine{01500\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>default\_mapping)\ \{}
\DoxyCodeLine{01501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cpuId\ =\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>getCPUId();}
\DoxyCodeLine{01502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mapping__utils_8hpp_a55cc056711b4071b978f875d18914b44}{ff\_mapThreadToCpu}}((cpuId<0)\ ?\ (cpuId=\mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}()-\/>getCoreId(\mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}}))\ :\ cpuId)!=0)}
\DoxyCodeLine{01503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}Cannot\ map\ thread\ \%d\ to\ CPU\ \%d,\ mask\ is\ \%u,\ \ size\ is\ \%u,\ \ going\ on...\(\backslash\)n"{}},\mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}},\ (cpuId<0)\ ?\ \mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}()-\/>getCoreId(\mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}})\ :\ cpuId,\ \mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}()-\/>getMask(),\ \mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}()-\/>getCListSize());\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>setCPUId(cpuId);}
\DoxyCodeLine{01505\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01506\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01507\ \ \ \ \ \ \ \ \ \ \ \ \ gettimeofday(\&\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>tstart,\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{01508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>svc\_init();}
\DoxyCodeLine{01509\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01510\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01511\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a50a168cb16e26a57e3aecc3d4c9264d8}{svc\_end}}()\ \{}
\DoxyCodeLine{01512\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>svc\_end();}
\DoxyCodeLine{01513\ \ \ \ \ \ \ \ \ \ \ \ \ gettimeofday(\&\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>tstop,\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01514\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01515\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01516\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a5ca98b7cb69e4059a65b5fdb8f925dce}{run}}(\textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{\ }
\DoxyCodeLine{01517\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__node_a8d004e52f00f95e80f190fdd59a21a65}{CPUId}}\ =\ \mbox{\hyperlink{classff_1_1ff__thread_a1858e3635a473e28f30c28f8fd4d3b70}{ff\_thread::spawn}}(\mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>getCPUId());\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01518\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>setCPUId(\mbox{\hyperlink{classff_1_1ff__node_a8d004e52f00f95e80f190fdd59a21a65}{CPUId}});}
\DoxyCodeLine{01519\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__node_a8d004e52f00f95e80f190fdd59a21a65}{CPUId}}==-\/2)?-\/1:0;}
\DoxyCodeLine{01520\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01521\ }
\DoxyCodeLine{01522\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a3879fc1d2d7c4bc31bb028a2e1e09f7f}{wait}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_aa979a2923e0d4789835832f96edea1ae}{ff\_thread::wait}}();\}}
\DoxyCodeLine{01523\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_ae27cfef9f961becb64f107bf1bb2566f}{wait\_freezing}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_a66eaa9163a54edc8046f1a7c16ac5bd4}{ff\_thread::wait\_freezing}}();\}}
\DoxyCodeLine{01524\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_addaab144062b683d7b24bab94f7800be}{freeze}}()\ \{\ \mbox{\hyperlink{classff_1_1ff__thread_aad5e4b95ad6f312e7d95616394eccb23}{ff\_thread::freeze}}();\}}
\DoxyCodeLine{01525\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a523a6c3308622a5323ac3a59bc012bad}{isfrozen}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_ad640f724a3b10e2dc1ff89a52fb1a010}{ff\_thread::isfrozen}}();\}}
\DoxyCodeLine{01526\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_aff34218532e3954fb42606ccdd1ba086}{done}}()\textcolor{keyword}{\ \ \ \ \ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__thread_ac7813c0d38f6c1b3513cf16ce0ad43c6}{ff\_thread::done}}();\}}
\DoxyCodeLine{01527\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_aef133976f8b88d19710d9a6d7c5eedd9}{get\_my\_id}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}}-\/>get\_my\_id();\ \};}
\DoxyCodeLine{01528\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01529\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01530\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{01531\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ callbackIn(\textcolor{keywordtype}{void}\ \ *\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{\ \mbox{\hyperlink{spine-cocos2dx_8cpp_ae976ff2ddeccb72b53e8f53775044589}{filter}}-\/>callbackIn(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});\ \ \}}
\DoxyCodeLine{01532\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ callbackOut(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{\ \mbox{\hyperlink{spine-cocos2dx_8cpp_ae976ff2ddeccb72b53e8f53775044589}{filter}}-\/>callbackOut(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});\ \}}
\DoxyCodeLine{01533\ \textcolor{preprocessor}{\#endif\ \ \ \ \ \ \ \ }}
\DoxyCodeLine{01534\ \ \ \ \ \textcolor{keyword}{protected}:\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01535\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a57892ce654c7e1870b8d8aecd7cd340d}{filter}};}
\DoxyCodeLine{01536\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__node_1_1th_worker_a894d15e590ab314b16f7b8efa826192e}{input\_neos}};}
\DoxyCodeLine{01537\ \ \ \ \ \};}
\DoxyCodeLine{01538\ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{01539\ }
\DoxyCodeLine{01540\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \mbox{\hyperlink{classff_1_1ff__node_a862b58ff9a14487975025c46caf378cf}{setCPUId}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ \{\ \mbox{\hyperlink{classff_1_1ff__node_a8d004e52f00f95e80f190fdd59a21a65}{CPUId}}\ =\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};\}}
\DoxyCodeLine{01541\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \mbox{\hyperlink{classff_1_1ff__node_a0afa610e4054d6e1e28d2de91fced75d}{setThread}}(\mbox{\hyperlink{classff_1_1ff__thread}{ff\_thread}}\ *\textcolor{keyword}{const}\ th)\ \{\ \mbox{\hyperlink{classff_1_1ff__node_a0d3dfe586534ded89173c549b580036e}{my\_own\_thread}}\ =\ \textcolor{keyword}{false};\ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}\ =\ th;\ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01542\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__node_a977264b3a55ab883fa458514fd3c5b25}{getTid}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01543\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}})\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})-\/1;}
\DoxyCodeLine{01544\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1058ad046a0f8ebb5bcff326c7668e83}{thread}}-\/>getTid();}
\DoxyCodeLine{01545\ \ \ \ \ \}\ }
\DoxyCodeLine{01546\ }
\DoxyCodeLine{01547\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01548\ }
\DoxyCodeLine{01549\ \textcolor{preprocessor}{\#if\ defined(TRACE\_FASTFLOW)}}
\DoxyCodeLine{01550\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ taskcnt;}
\DoxyCodeLine{01551\ \ \ \ \ ticks\ \ \ \ \ \ \ \ \ lostpushticks;}
\DoxyCodeLine{01552\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ pushwait;}
\DoxyCodeLine{01553\ \ \ \ \ ticks\ \ \ \ \ \ \ \ \ lostpopticks;}
\DoxyCodeLine{01554\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ popwait;}
\DoxyCodeLine{01555\ \ \ \ \ ticks\ \ \ \ \ \ \ \ \ ticksmin;}
\DoxyCodeLine{01556\ \ \ \ \ ticks\ \ \ \ \ \ \ \ \ ticksmax;}
\DoxyCodeLine{01557\ \ \ \ \ ticks\ \ \ \ \ \ \ \ \ tickstot;}
\DoxyCodeLine{01558\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01559\ \ \ \ \ }
\DoxyCodeLine{01560\ \ \ \ \ \textcolor{comment}{//\ for\ the\ input\ queue}}
\DoxyCodeLine{01561\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ \ *\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01562\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ \ *\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01563\ }
\DoxyCodeLine{01564\ }
\DoxyCodeLine{01565\ \ \ \ \ \textcolor{comment}{//\ for\ the\ output\ queue}}
\DoxyCodeLine{01566\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ \ *\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01567\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ \ *\mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01568\ }
\DoxyCodeLine{01569\ \ \ \ \ \textcolor{comment}{//\ for\ synchronizing\ with\ the\ next\ multi-\/input\ stage}}
\DoxyCodeLine{01570\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ \ *\mbox{\hyperlink{classff_1_1ff__node_aa7be481f0b79329c78a06d6024145078}{p\_cons\_c}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01571\ }
\DoxyCodeLine{01572\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a774720f5344c78d758db0d81cd4c96a5}{FF\_MEM\_ALIGN}}(blocking\_in,32);\ }
\DoxyCodeLine{01573\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a3dc456bbe8d418f02a2306658344172d}{FF\_MEM\_ALIGN}}(blocking\_out,32);}
\DoxyCodeLine{01574\ }
\DoxyCodeLine{01575\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01576\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a27cedacb1f7d9d831106d6ef05010a90}{initial\_barrier}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01577\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aac7a5fe3ed358b0a7a36ab97df203d0c}{default\_mapping}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01578\ \};\ \ \textcolor{comment}{//\ ff\_node}}
\DoxyCodeLine{01579\ }
\DoxyCodeLine{01580\ }
\DoxyCodeLine{01581\ \textcolor{comment}{/*\ ***************************\ Typed\ node\ *************************\ */}}
\DoxyCodeLine{01582\ }
\DoxyCodeLine{01583\ \textcolor{comment}{//\#ifndef\ WIN32\ //VS12}}
\DoxyCodeLine{01594\ }
\DoxyCodeLine{01595\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ IN\_t,\ \textcolor{keyword}{typename}\ OUT\_t\ =\ IN\_t>}
\DoxyCodeLine{01596\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff__node__t_adfa24b76d1e3870514d1a5c09d45123c}{ff\_node\_t}}:\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ \{}
\DoxyCodeLine{01597\ \ \ \ \ \textcolor{keyword}{typedef}\ IN\_t\ \ \mbox{\hyperlink{structff_1_1ff__node__t_a65e598d8f307bf04434e04c6b65f5787}{in\_type}};}
\DoxyCodeLine{01598\ \ \ \ \ \textcolor{keyword}{typedef}\ OUT\_t\ \mbox{\hyperlink{structff_1_1ff__node__t_a2cd337e57fcd2942a047ba879b5fb38d}{out\_type}};}
\DoxyCodeLine{01599\ }
\DoxyCodeLine{01600\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff__node_ad8c6802b7a49124aaab14b4d95ef06f0}{ff\_node::registerCallback}};}
\DoxyCodeLine{01601\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff__node_a66ddc4b89e7a2fd1b8d4a02c94eb9408}{ff\_node::ff\_send\_out}};}
\DoxyCodeLine{01602\ \ \ \ \ }
\DoxyCodeLine{01603\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__node__t_adfa24b76d1e3870514d1a5c09d45123c}{ff\_node\_t}}():}
\DoxyCodeLine{01604\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__node__t_a0d81bcf453ce4482e01f7f73b376dd1e}{GO\_ON}}((OUT\_t*)\mbox{\hyperlink{namespaceff_a0d49fe9ae339a6ea515d87ade60b6d08}{FF\_GO\_ON}}),}
\DoxyCodeLine{01605\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__node__t_a9942431fef1318dcade6ef74a08162c3}{EOS}}((OUT\_t*)\mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}}),}
\DoxyCodeLine{01606\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__node__t_a45da015f371fd21f42880507ec88912b}{EOSW}}((OUT\_t*)\mbox{\hyperlink{namespaceff_acaef0c2eb0aeb203e6d74b0859a543fb}{FF\_EOSW}}),}
\DoxyCodeLine{01607\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__node__t_ab68789c475c567b1c77995120b4df73f}{GO\_OUT}}((OUT\_t*)\mbox{\hyperlink{namespaceff_a87d1455fcd512edda2f88c16618c6424}{FF\_GO\_OUT}}),}
\DoxyCodeLine{01608\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__node__t_af5fa5c084addb18dcff6be4acfd6a984}{EOS\_NOFREEZE}}((OUT\_t*)\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}})\ \{}
\DoxyCodeLine{01609\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{01610\ }
\DoxyCodeLine{01611\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ WARNING:\ }}
\DoxyCodeLine{01612\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ \ \ \ the\ definition\ of\ functions\ alloctaskF,\ freetaskF,\ serializeF,\ deserializeF}}
\DoxyCodeLine{01613\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ \ \ \ IS\ DUPLICATED\ for\ the\ ff\_minode\_t\ and\ ff\_monode\_t\ (see\ file\ multinode.hpp).}}
\DoxyCodeLine{01614\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{01615\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{01616\ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\mbox{\hyperlink{namespaceff_1_1traits_af0185d1ef649c4fb5d012ec9511470c8}{traits::has\_alloctask\_v<IN\_t>}})\ \{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01617\ \ \ \ \ \ \ \ \ \ this-\/>alloctaskF\ =\ [](\textcolor{keywordtype}{char}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{keywordtype}{size\_t}\ sz)\ -\/>\ \textcolor{keywordtype}{void}*\ \{}
\DoxyCodeLine{01618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IN\_t*\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a03d37a1804bcbb4d1e55a21fa64317de}{alloctaskWrapper<IN\_t>}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ sz,\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{01620\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{01621\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}};}
\DoxyCodeLine{01622\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{01623\ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01624\ \ \ \ \ \ \ \ \ \ this-\/>alloctaskF\ =\ [](\textcolor{keywordtype}{char}*,\ size\_t\ )\ -\/>\ \textcolor{keywordtype}{void}*\ \{}
\DoxyCodeLine{01625\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IN\_t*\ o\ =\ \textcolor{keyword}{new}\ IN\_t;}
\DoxyCodeLine{01626\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(o);}
\DoxyCodeLine{01627\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ o;}
\DoxyCodeLine{01628\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{01629\ \ \ \ \ \ \}}
\DoxyCodeLine{01630\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01631\ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\mbox{\hyperlink{namespaceff_1_1traits_a016b004aa62e2cc210dcfa0823c8cfef}{traits::has\_freetask\_v<OUT\_t>}})\ \{}
\DoxyCodeLine{01632\ \ \ \ \ \ \ \ \ this-\/>freetaskF\ =\ [](\textcolor{keywordtype}{void}*\ o)\ \{}
\DoxyCodeLine{01633\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_ad1ccefd2b87c4e4f6081b24d2a0fc0a3}{freetaskWrapper<OUT\_t>}}(\textcolor{keyword}{reinterpret\_cast<}OUT\_t*\textcolor{keyword}{>}(o));}
\DoxyCodeLine{01634\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{01635\ }
\DoxyCodeLine{01636\ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01637\ \ \ \ \ \ \ \ \ \ this-\/>freetaskF\ =\ [](\textcolor{keywordtype}{void}*\ o)\ \{}
\DoxyCodeLine{01638\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (!std::is\_void\_v<OUT\_t>)\ \{}
\DoxyCodeLine{01639\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OUT\_t*\ obj\ =\ \textcolor{keyword}{reinterpret\_cast<}OUT\_t*\textcolor{keyword}{>}(o);}
\DoxyCodeLine{01640\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ obj;}
\DoxyCodeLine{01641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01642\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{01643\ \ \ \ \ \ \}}
\DoxyCodeLine{01644\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01645\ \ \ \ \ \textcolor{comment}{//\ check\ on\ Serialization\ capabilities\ on\ the\ OUTPUT\ type!}}
\DoxyCodeLine{01646\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\mbox{\hyperlink{namespaceff_1_1traits_aaffc1b9bb941dba72c06950c1952adbf}{traits::is\_serializable\_v<OUT\_t>}})\{}
\DoxyCodeLine{01647\ \ \ \ \ \ \ \ \ this-\/>serializeF\ =\ [](\textcolor{keywordtype}{void}*\ o,\ \mbox{\hyperlink{classdata_buffer}{dataBuffer}}\&\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01648\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ datacopied\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01649\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::pair<char*,\ size\_t>\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ \mbox{\hyperlink{namespaceff_aba013b2d3918e0f5c021706dfdc44aa5}{serializeWrapper<OUT\_t>}}(\textcolor{keyword}{reinterpret\_cast<}OUT\_t*\textcolor{keyword}{>}(o,datacopied));}
\DoxyCodeLine{01650\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.setBuffer(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}.first,\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}.second);}
\DoxyCodeLine{01651\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ datacopied;}
\DoxyCodeLine{01652\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{01653\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (cereal::traits::is\_output\_serializable<OUT\_t,\ cereal::PortableBinaryOutputArchive>::value)\{}
\DoxyCodeLine{01654\ \ \ \ \ \ \ \ \ this-\/>serializeF\ =\ [](\textcolor{keywordtype}{void}*\ o,\ \mbox{\hyperlink{classdata_buffer}{dataBuffer}}\&\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01655\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::ostream\ oss(\&\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{01656\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cereal::PortableBinaryOutputArchive\ ar(oss);}
\DoxyCodeLine{01657\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ar\ <<\ *reinterpret\_cast<OUT\_t*>(o);}
\DoxyCodeLine{01658\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01659\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{01660\ \ \ \ \ \}}
\DoxyCodeLine{01661\ \ \ \ \ }
\DoxyCodeLine{01662\ \ \ \ \ \textcolor{comment}{//\ check\ on\ Serialization\ capabilities\ on\ the\ INPUT\ type!}}
\DoxyCodeLine{01663\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\mbox{\hyperlink{namespaceff_1_1traits_a06b07cd1cbaf4d099957eb12608faa76}{traits::is\_deserializable\_v<IN\_t>}})\ \{}
\DoxyCodeLine{01664\ \ \ \ \ \ \ \ \ this-\/>deserializeF\ =\ [\textcolor{keyword}{this}](\mbox{\hyperlink{classdata_buffer}{dataBuffer}}\&\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \textcolor{keywordtype}{bool}\&\ datacopied)\ -\/>\ \textcolor{keywordtype}{void}*\ \{}
\DoxyCodeLine{01665\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IN\_t*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}=(IN\_t*)this-\/>alloctaskF(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.getPtr(),\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.getLen());}
\DoxyCodeLine{01666\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ datacopied\ =\ \mbox{\hyperlink{namespaceff_a15191bd118a099d039f30cc949f1a018}{deserializeWrapper<IN\_t>}}(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.getPtr(),\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}.getLen(),\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{01667\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{01668\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}};}
\DoxyCodeLine{01669\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{01670\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}(cereal::traits::is\_input\_serializable<IN\_t,\ cereal::PortableBinaryInputArchive>::value)\{}
\DoxyCodeLine{01671\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>deserializeF\ =\ [\textcolor{keyword}{this}](\mbox{\hyperlink{classdata_buffer}{dataBuffer}}\&\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},\ \textcolor{keywordtype}{bool}\&\ datacopied)\ -\/>\ \textcolor{keywordtype}{void}*\ \{}
\DoxyCodeLine{01672\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::istream\ iss(\&\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{01673\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cereal::PortableBinaryInputArchive\ ar(iss);}
\DoxyCodeLine{01674\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IN\_t*\ o\ =\ (IN\_t*)this-\/>alloctaskF(\textcolor{keyword}{nullptr},0);}
\DoxyCodeLine{01675\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(o);}
\DoxyCodeLine{01676\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ar\ >>\ *o;}
\DoxyCodeLine{01677\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ datacopied\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01678\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ o;}
\DoxyCodeLine{01679\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{01680\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01681\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01682\ }
\DoxyCodeLine{01683\ \ \ \ \ \}}
\DoxyCodeLine{01684\ \ \ \ \ OUT\_t\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1ff__node__t_a0d81bcf453ce4482e01f7f73b376dd1e}{GO\_ON}},\ \ *\textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1ff__node__t_a9942431fef1318dcade6ef74a08162c3}{EOS}},\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1ff__node__t_a45da015f371fd21f42880507ec88912b}{EOSW}},\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1ff__node__t_ab68789c475c567b1c77995120b4df73f}{GO\_OUT}},\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1ff__node__t_af5fa5c084addb18dcff6be4acfd6a984}{EOS\_NOFREEZE}};}
\DoxyCodeLine{01685\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{structff_1_1ff__node__t_a9e1b7c358a12f87ee5031b86dc67da55}{\string~ff\_node\_t}}()\ \ \{\}}
\DoxyCodeLine{01686\ \ \ \ \ \textcolor{keyword}{virtual}\ OUT\_t*\ \mbox{\hyperlink{structff_1_1ff__node__t_adbbc187c31f8c8d8fd44cdb858249c76}{svc}}(IN\_t*)=0;}
\DoxyCodeLine{01687\ \ \ \ \ \textcolor{keyword}{inline}\ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{structff_1_1ff__node__t_ad4db84d7d0eb9496476a2361e39af02e}{svc}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structff_1_1ff__node__t_ad4db84d7d0eb9496476a2361e39af02e}{svc}}(\textcolor{keyword}{reinterpret\_cast<}IN\_t*\textcolor{keyword}{>}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}));\ \};}
\DoxyCodeLine{01688\ \textcolor{keyword}{private}:}
\DoxyCodeLine{01689\ \ \ \ \ \textcolor{comment}{//\ deleting\ some\ functions\ that\ do\ not\ have\ to\ be\ used\ in\ the\ svc}}
\DoxyCodeLine{01690\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff__node_a3af0ed444dc4c7fb56b43a99787e41df}{ff\_node::push}};}
\DoxyCodeLine{01691\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff__node_ad5cc2cf5075a13cb58eddeb948d46deb}{ff\_node::pop}};}
\DoxyCodeLine{01692\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff__node_a8e0242ad8fad595d94a952b9aa6cbafd}{ff\_node::Push}};}
\DoxyCodeLine{01693\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff__node_a754e2a5f5cca8d783e6f69ab261edfad}{ff\_node::Pop}};}
\DoxyCodeLine{01694\ }
\DoxyCodeLine{01695\ \};}
\DoxyCodeLine{01696\ }
\DoxyCodeLine{01697\ \textcolor{preprocessor}{\#if\ (\_\_cplusplus\ >=\ 201103L)\ ||\ (defined\ \_\_GXX\_EXPERIMENTAL\_CXX0X\_\_)\ ||\ (defined(HAS\_CXX11\_VARIADIC\_TEMPLATES))}}
\DoxyCodeLine{01698\ }
\DoxyCodeLine{01709\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ TIN,\ \textcolor{keyword}{typename}\ TOUT=TIN,\ }
\DoxyCodeLine{01710\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ FUNC=std::function<TOUT*(TIN*,\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\textcolor{keyword}{const})>\ >}
\DoxyCodeLine{01711\ \textcolor{keyword}{struct}\ ff\_node\_F:\ public\ \mbox{\hyperlink{structff_1_1ff__node__t}{ff\_node\_t}}<TIN,TOUT>\ \{}
\DoxyCodeLine{01712\ \ \ \ ff\_node\_F(FUNC\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}):\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ \{\}}
\DoxyCodeLine{01713\ \ \ \ TOUT*\ \mbox{\hyperlink{classff_1_1ff__node_a9f01b6c64e68815c58b7a3e83f7064be}{svc}}(TIN*\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keyword}{this});\ \}}
\DoxyCodeLine{01714\ \ \ \ FUNC\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}};}
\DoxyCodeLine{01715\ \};}
\DoxyCodeLine{01716\ }
\DoxyCodeLine{01717\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01718\ \textcolor{comment}{//\#endif}}
\DoxyCodeLine{01719\ }
\DoxyCodeLine{01720\ }
\DoxyCodeLine{01721\ }
\DoxyCodeLine{01722\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ internal\ node\ implementations,\ should\ not\ be\ used\ -\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{01723\ }
\DoxyCodeLine{01724\ \textcolor{comment}{/*\ just\ a\ node\ interface\ for\ the\ input\ and\ output\ buffers\ }}
\DoxyCodeLine{01725\ \textcolor{comment}{\ *\ This\ is\ used\ in\ the\ internal\ implementation\ but\ can\ be\ used\ also}}
\DoxyCodeLine{01726\ \textcolor{comment}{\ *\ at\ the\ user\ level.\ In\ this\ second\ case}}
\DoxyCodeLine{01727\ \textcolor{comment}{\ */}}
\DoxyCodeLine{01728\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff__buffernode_a9a59b81171feec7f07242b785fa6d6ed}{ff\_buffernode}}:\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ \{}
\DoxyCodeLine{01729\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__buffernode_a9a59b81171feec7f07242b785fa6d6ed}{ff\_buffernode}}()\ \{\}}
\DoxyCodeLine{01730\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__buffernode_a1b59a467ff285d825bdbd67417a8969e}{ff\_buffernode}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ \textcolor{keywordtype}{bool}\ fixedsize=\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}},\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}=-\/1,\ \textcolor{keywordtype}{int}\ multi\_producer\_eos=-\/1)\ \{}
\DoxyCodeLine{01731\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceset}{set}}(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},fixedsize,\textcolor{keywordtype}{id},\ multi\_producer\_eos);}
\DoxyCodeLine{01732\ \ \ \ \ \}}
\DoxyCodeLine{01733\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ this\ constructor\ is\ supposed\ to\ be\ used\ only\ for\ implementing\ }}
\DoxyCodeLine{01734\ \ \ \ \ \textcolor{comment}{//\ internal\ FastFlow\ features!}}
\DoxyCodeLine{01735\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__buffernode_a75e7d4f4c1631fd08b34652103bdde88}{ff\_buffernode}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}},\ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \{}
\DoxyCodeLine{01736\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a922fc688f91665519c1f6c967638fa38}{set\_id}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{01737\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a561a7e071f3721de62e465f41384c933}{set\_input\_buffer}}(\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}});}
\DoxyCodeLine{01738\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_afb1c0ca383122fb4105b32f1a7702ee3}{set\_output\_buffer}}(\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}});}
\DoxyCodeLine{01739\ \ \ \ \ \}}
\DoxyCodeLine{01740\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structff_1_1ff__buffernode_ac1c613413109182487d9dac39fe3babe}{set}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ \textcolor{keywordtype}{bool}\ fixedsize=\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}},\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}=-\/1,\ \textcolor{keywordtype}{int}\ multi\_producer\_eos=-\/1)\ \{}
\DoxyCodeLine{01741\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a922fc688f91665519c1f6c967638fa38}{set\_id}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{01742\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (multi\_producer\_eos<0)\ \{}
\DoxyCodeLine{01743\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_adfe6c917b93de5635d21a79c8c4181cb}{create\_input\_buffer}}(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},fixedsize)\ <\ 0)\ \{}
\DoxyCodeLine{01744\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FATAL\ ERROR:\ ff\_buffernode::set:\ create\_input\_buffer\ fails!\(\backslash\)n"{}});}
\DoxyCodeLine{01745\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ abort();}
\DoxyCodeLine{01746\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01747\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_afb1c0ca383122fb4105b32f1a7702ee3}{set\_output\_buffer}}(\mbox{\hyperlink{classff_1_1ff__node_adfa6f2bc22637590349e94ecb9b3c8eb}{ff\_node::get\_in\_buffer}}());}
\DoxyCodeLine{01748\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01749\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_ac7d023db5b2847b0211e1633c9a3a772}{create\_input\_buffer\_mp}}(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},fixedsize,\ multi\_producer\_eos)\ <\ 0)\ \{}
\DoxyCodeLine{01750\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FATAL\ ERROR:\ ff\_buffernode::set:\ create\_input\_buffer\_mp\ fails!\(\backslash\)n"{}});}
\DoxyCodeLine{01751\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ abort();}
\DoxyCodeLine{01752\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01753\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_afb1c0ca383122fb4105b32f1a7702ee3}{set\_output\_buffer}}(\mbox{\hyperlink{classff_1_1ff__node_adfa6f2bc22637590349e94ecb9b3c8eb}{ff\_node::get\_in\_buffer}}());}
\DoxyCodeLine{01754\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01755\ \ \ \ \ \}}
\DoxyCodeLine{01756\ }
\DoxyCodeLine{01757\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structff_1_1ff__buffernode_a6599bc6364793be40df18ab2ea7acfba}{init\_blocking\_stuff}}()\ \{}
\DoxyCodeLine{01758\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ blocking\ stuff}}
\DoxyCodeLine{01759\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{01760\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{01761\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a2d686a96eb183cf5b8fc2969b12e0a09}{ff\_node::init\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{01762\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}buffernode,\ FATAL\ ERROR,\ init\ input\ blocking\ mode\ for\ accelerator\(\backslash\)n"{}});}
\DoxyCodeLine{01763\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01764\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01765\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_aab934f40b0c6129cc45d95fb085f8024}{ff\_node::init\_input\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{01766\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}buffernode,\ FATAL\ ERROR,\ init\ input\ blocking\ mode\ for\ accelerator\(\backslash\)n"{}});}
\DoxyCodeLine{01767\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01768\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01769\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01770\ \ \ \ \ \}}
\DoxyCodeLine{01771\ }
\DoxyCodeLine{01772\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structff_1_1ff__buffernode_ab6309b13b7179f6e49f478579322198a}{reset\_blocking\_out}}()\ \{\ blocking\_out\ =\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{01773\ \ \ \ \ }
\DoxyCodeLine{01774\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structff_1_1ff__buffernode_a001ad8204a2f432afb64b36cd43ac2f7}{ff\_send\_out}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}=-\/1,}
\DoxyCodeLine{01775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=(\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{ff\_node::TICKS2WAIT}}))\ \{}
\DoxyCodeLine{01776\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a66ddc4b89e7a2fd1b8d4a02c94eb9408}{ff\_node::ff\_send\_out}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\textcolor{keywordtype}{id},retry,ticks);}
\DoxyCodeLine{01777\ \ \ \ \ \}}
\DoxyCodeLine{01778\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structff_1_1ff__buffernode_a3f5a81d97349fe820b17fba6d0d58b80}{gather\_task}}(\textcolor{keywordtype}{void}\ **\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=(\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{ff\_node::TICKS2WAIT}}))\ \{\ \ \ \ }
\DoxyCodeLine{01779\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\mbox{\hyperlink{classff_1_1ff__node_a754e2a5f5cca8d783e6f69ab261edfad}{ff\_node::Pop}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},retry,ticks);}
\DoxyCodeLine{01780\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{01781\ \ \ \ \ \}}
\DoxyCodeLine{01782\ }
\DoxyCodeLine{01783\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>\ }
\DoxyCodeLine{01784\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structff_1_1ff__buffernode_a49595051ed2db18a3e7e2a5d4d5c882c}{gather\_task}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ *\&\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=(\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{ff\_node::TICKS2WAIT}}))\ \{\ \ \ \ }
\DoxyCodeLine{01785\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structff_1_1ff__buffernode_a3f5a81d97349fe820b17fba6d0d58b80}{gather\_task}}((\textcolor{keywordtype}{void}\ **)\&\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ retry,\ ticks);}
\DoxyCodeLine{01786\ \ \ \ \ \}}
\DoxyCodeLine{01787\ }
\DoxyCodeLine{01788\ }
\DoxyCodeLine{01789\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01790\ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{structff_1_1ff__buffernode_ac0e32e3ff4a3ef1e5ad95aafc6d801f2}{svc}}(\textcolor{keywordtype}{void}*)\{\textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};\}}
\DoxyCodeLine{01791\ }
\DoxyCodeLine{01792\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ \&\mbox{\hyperlink{structff_1_1ff__buffernode_af657ab2aece29478f5d811d9085abaa6}{get\_cons\_c}}()\ \ \ \ \ \ \ \{\ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{classff_1_1ff__node_aa7be481f0b79329c78a06d6024145078}{p\_cons\_c}};\}}
\DoxyCodeLine{01793\ }
\DoxyCodeLine{01794\ }
\DoxyCodeLine{01795\ \ \ \ \ \textcolor{comment}{//\ New\ Blocking\ protocol\ (both\ for\ bounded\ and\ unbounded\ buffer):}}
\DoxyCodeLine{01796\ \ \ \ \ \textcolor{comment}{//\ init\_output\_blocking\ initializes\ prod\_*}}
\DoxyCodeLine{01797\ \ \ \ \ \textcolor{comment}{//\ set\_output\_blocking\ sets\ p\_cons\_*}}
\DoxyCodeLine{01798\ \ \ \ \ \textcolor{comment}{//\ init\_input\_blocking\ initializes\ cons\_*}}
\DoxyCodeLine{01799\ }
\DoxyCodeLine{01800\ \ \ \ \ \textcolor{comment}{//\ sender:}}
\DoxyCodeLine{01801\ \ \ \ \ \textcolor{comment}{//\ \ \ empty=channel.empty();}}
\DoxyCodeLine{01802\ \ \ \ \ \textcolor{comment}{//\ \ \ r=channel.send()}}
\DoxyCodeLine{01803\ \ \ \ \ \textcolor{comment}{//\ \ \ if\ (!r)\ timewait(prod\_c);}}
\DoxyCodeLine{01804\ \ \ \ \ \textcolor{comment}{//\ \ \ if\ empty\ then\ signal(p\_cons\_c)\ //\ the\ channel\ was\ empty}}
\DoxyCodeLine{01805\ }
\DoxyCodeLine{01806\ \ \ \ \ \textcolor{comment}{//\ receive:}}
\DoxyCodeLine{01807\ \ \ \ \ \textcolor{comment}{//\ \ r=channel.receive()}}
\DoxyCodeLine{01808\ \ \ \ \ \textcolor{comment}{//\ \ if\ (!r)\ timewait(cons\_c);\ \ \ \ \ \ \ //\ channel\ empty}}
\DoxyCodeLine{01809\ \};}
\DoxyCodeLine{01810\ }
\DoxyCodeLine{01811\ }
\DoxyCodeLine{01812\ \ \ \ \ }
\DoxyCodeLine{01813\ }
\DoxyCodeLine{01814\ \ \ \ \ }
\DoxyCodeLine{01815\ }
\DoxyCodeLine{01816\ \}\ \textcolor{comment}{//\ namespace\ ff}}
\DoxyCodeLine{01817\ }
\DoxyCodeLine{01818\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ FF\_NODE\_HPP\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
