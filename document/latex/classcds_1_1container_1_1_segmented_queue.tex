\doxysection{cds\+::container\+::Segmented\+Queue\texorpdfstring{$<$}{<} GC, T, Traits \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1container_1_1_segmented_queue}{}\label{classcds_1_1container_1_1_segmented_queue}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}


Segmented queue  




{\ttfamily \#include $<$segmented\+\_\+queue.\+h$>$}



类 cds\+::container\+::Segmented\+Queue\texorpdfstring{$<$}{<} GC, T, Traits \texorpdfstring{$>$}{>} 继承关系图\+:
% FIG 0


cds\+::container\+::Segmented\+Queue\texorpdfstring{$<$}{<} GC, T, Traits \texorpdfstring{$>$}{>} 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef GC \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a59826927713723924eff80a9a7f08bfb}{gc}}
\begin{DoxyCompactList}\small\item\em Garbage collector \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}}
\begin{DoxyCompactList}\small\item\em type of the value stored in the queue \end{DoxyCompactList}\item 
typedef Traits \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_afd924efe0fd69d05949774ca12877a3b}{traits}}
\begin{DoxyCompactList}\small\item\em Queue traits \end{DoxyCompactList}\item 
typedef traits\+::node\+\_\+allocator \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a471b48a9c3fa634f691f9e7a63eff8d8}{node\+\_\+allocator}}
\begin{DoxyCompactList}\small\item\em \doxylink{class_node}{Node} allocator \end{DoxyCompactList}\item 
typedef base\+\_\+class\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_af12d5bd97d8e04bd37404acd81d78c62}{memory\+\_\+model}}
\begin{DoxyCompactList}\small\item\em Memory ordering. See \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model} option \end{DoxyCompactList}\item 
typedef base\+\_\+class\+::item\+\_\+counter \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_afbf2cf07cf36bafadccc7b510d32c761}{item\+\_\+counter}}
\begin{DoxyCompactList}\small\item\em Item counting policy, see \doxylink{structcds_1_1opt_1_1item__counter}{cds\+::opt\+::item\+\_\+counter} option setter \end{DoxyCompactList}\item 
typedef base\+\_\+class\+::stat \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_acbdb5f79369b42a242228cea23c7e510}{stat}}
\begin{DoxyCompactList}\small\item\em Internal statistics policy \end{DoxyCompactList}\item 
typedef base\+\_\+class\+::lock\+\_\+type \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a8f2d482ad3c5a90ab74e20b00a95a00b}{lock\+\_\+type}}
\begin{DoxyCompactList}\small\item\em \doxylink{ir__common_8h_a1ac75f8fee198af783521627f1fecfbc}{Type} of mutex for maintaining an internal list of allocated segments. \end{DoxyCompactList}\item 
typedef base\+\_\+class\+::permutation\+\_\+generator \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a8088cbf1759789823b681ad3e07eec27}{permutation\+\_\+generator}}
\begin{DoxyCompactList}\small\item\em Random permutation generator for sequence \mbox{[}0, quasi-\/factor) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a3f6a0c367d9fa4b92663e5d2d8c4c10a}{Segmented\+Queue}} (size\+\_\+t n\+Quasi\+Factor)
\begin{DoxyCompactList}\small\item\em Initializes the empty queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a98bbdefa56194fb90c37f66ea160126a}{\texorpdfstring{$\sim$}{\string~}\+Segmented\+Queue}} ()
\begin{DoxyCompactList}\small\item\em Clears the queue and deletes all internal data \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_aada9d85d68dcf1293c9eadf03b2e4ecd}{enqueue}} (\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} const \&val)
\begin{DoxyCompactList}\small\item\em Inserts a new element at last segment of the queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_ae0c8cb66a5feebace931adbe80801387}{enqueue}} (\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} \&\&val)
\begin{DoxyCompactList}\small\item\em Inserts a new element at last segment of the queue, move semantics \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a19fd9b1e189ecfefb3fe7dbe8718c529}{enqueue\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Enqueues data to the queue using a functor \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_ac35bcc292299af2a5ae13129e11f62f7}{push}} (\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} const \&val)
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_aada9d85d68dcf1293c9eadf03b2e4ecd}{enqueue( value\+\_\+type const\& )}} member function \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a9a1f90754c93d18d535ad0ab36866e1b}{push}} (\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} \&\&val)
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_ae0c8cb66a5feebace931adbe80801387}{enqueue( value\+\_\+type\&\& )}} member function \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a70f49fd6f8db730c0b2253767c34724a}{push\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_a19fd9b1e189ecfefb3fe7dbe8718c529}{enqueue\+\_\+with()}} member function \end{DoxyCompactList}\item 
{\footnotesize template$<$typename... Args$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_abfaeac8e454a53b0e1944cd4ba00347f}{emplace}} (Args \&\&... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})
\begin{DoxyCompactList}\small\item\em Enqueues data of type \doxylink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type} constructed with {\ttfamily std\+::forward$<$\+Args$>$(args)...} \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a8a625c6917029a03b6ba788ce658ceec}{dequeue}} (\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} \&dest)
\begin{DoxyCompactList}\small\item\em Dequeues a value from the queue \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a3d6492f153a1550d06bad6553ed45e62}{dequeue\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Dequeues a value using a functor \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a6e78346d948abde6b8f7f97f0ef08fee}{pop\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_a3d6492f153a1550d06bad6553ed45e62}{dequeue\+\_\+with()}} function \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_af5e22d05bef8070c2edeb3fac666607f}{pop}} (\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} \&dest)
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_a8a625c6917029a03b6ba788ce658ceec}{dequeue()}} function \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_abb72c3154c28c375edba95ad4120e4a1}{empty}} () const
\begin{DoxyCompactList}\small\item\em Checks if the queue is empty \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_ae90185a12f72dcb4beb2de01fca1cd54}{clear}} ()
\begin{DoxyCompactList}\small\item\em Clear the queue \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a9c64e67c14e2eff31b8fd87d2f3d8ea9}{size}} () const
\begin{DoxyCompactList}\small\item\em Returns queue\textquotesingle{}s item count \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_acbdb5f79369b42a242228cea23c7e510}{stat}} \& \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_adc781c4f8a47de771862ec9f823263ba}{statistics}} () const
\begin{DoxyCompactList}\small\item\em Returns reference to internal statistics \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_ade149d9d1677a24de1c3b51c0d5ad02d}{quasi\+\_\+factor}} () const
\begin{DoxyCompactList}\small\item\em Returns quasi factor, a power-\/of-\/two number \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 属性}
\begin{DoxyCompactItemize}
\item 
static const size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a025e4461b9a74c04010e16c98a7bf440}{c\+\_\+n\+Hazard\+Ptr\+Count}} = base\+\_\+class\+::c\+\_\+n\+Hazard\+Ptr\+Count
\begin{DoxyCompactList}\small\item\em Count of hazard pointer required for the algorithm \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$\newline
class cds\+::container\+::\+Segmented\+Queue$<$ GC, T, Traits $>$}
Segmented queue 

The queue is based on work
\begin{DoxyItemize}
\item \mbox{[}2010\mbox{]} Afek, Korland, Yanovsky "{}\+Quasi-\/\+Linearizability\+: relaxed consistency for improved concurrency"{}
\end{DoxyItemize}

In this paper the authors offer a relaxed version of linearizability, so-\/called quasi-\/linearizability, that preserves some of the intuition, provides a flexible way to control the level of relaxation and supports th implementation of more concurrent and scalable data structure. Intuitively, the linearizability requires each run to be equivalent in some sense to a serial run of the algorithm. This equivalence to some serial run imposes strong synchronization requirements that in many cases results in limited scalability and synchronization bottleneck.

The general idea is that the queue maintains a linked list of segments, each segment is an array of nodes in the size of the quasi factor, and each node has a deleted boolean marker, which states if it has been dequeued. Each producer iterates over last segment in the linked list in some random permutation order. Whet it finds an empty cell it performs a CAS operation attempting to enqueue its new element. In case the entire segment has been scanned and no available cell is found (implying that the segment is full), then it attempts to add a new segment to the list.

The dequeue operation is similar\+: the consumer iterates over the first segment in the linked list in some random permutation order. When it finds an item which has not yet been dequeued, it performs CAS on its deleted marker in order to "{}delete"{} it, if succeeded this item is considered dequeued. In case the entire segment was scanned and all the nodes have already been dequeued (implying that the segment is empty), then it attempts to remove this segment from the linked list and starts the same process on the next segment. If there is no next segment, the queue is considered empty.

Based on the fact that most of the time threads do not add or remove segments, most of the work is done in parallel on different cells in the segments. This ensures a controlled contention depending on the segment size, which is quasi factor.

The segmented queue is an {\itshape unfair} queue since it violates the strong FIFO order but no more than quasi factor. It means that the consumer dequeues any item from the current first segment.

Template parameters\+:
\begin{DoxyItemize}
\item {\ttfamily GC} -\/ a garbage collector, possible types are \doxylink{namespacecds_1_1gc_af0523881f089593a7559d194ee2b5dd9}{cds\+::gc\+::\+HP}, \doxylink{classcds_1_1gc_1_1_d_h_p}{cds\+::gc\+::\+DHP}
\item {\ttfamily T} -\/ the type of values stored in the queue
\item {\ttfamily Traits} -\/ queue type traits, default is {\ttfamily \doxylink{structcds_1_1container_1_1segmented__queue_1_1traits}{segmented\+\_\+queue\+::traits}}. {\ttfamily \doxylink{structcds_1_1container_1_1segmented__queue_1_1make__traits}{segmented\+\_\+queue\+::make\+\_\+traits}} metafunction can be used to construct your type traits. 
\end{DoxyItemize}

\doxysubsection{成员类型定义说明}
\Hypertarget{classcds_1_1container_1_1_segmented_queue_a59826927713723924eff80a9a7f08bfb}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!gc@{gc}}
\index{gc@{gc}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{gc}{gc}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a59826927713723924eff80a9a7f08bfb} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
typedef GC \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::gc}



Garbage collector 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_afbf2cf07cf36bafadccc7b510d32c761}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!item\_counter@{item\_counter}}
\index{item\_counter@{item\_counter}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{item\_counter}{item\_counter}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_afbf2cf07cf36bafadccc7b510d32c761} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
typedef base\+\_\+class\+::item\+\_\+counter \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::item\+\_\+counter}



Item counting policy, see \doxylink{structcds_1_1opt_1_1item__counter}{cds\+::opt\+::item\+\_\+counter} option setter 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_a8f2d482ad3c5a90ab74e20b00a95a00b}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!lock\_type@{lock\_type}}
\index{lock\_type@{lock\_type}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{lock\_type}{lock\_type}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a8f2d482ad3c5a90ab74e20b00a95a00b} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
typedef base\+\_\+class\+::lock\+\_\+type \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::lock\+\_\+type}



\doxylink{ir__common_8h_a1ac75f8fee198af783521627f1fecfbc}{Type} of mutex for maintaining an internal list of allocated segments. 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_af12d5bd97d8e04bd37404acd81d78c62}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!memory\_model@{memory\_model}}
\index{memory\_model@{memory\_model}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{memory\_model}{memory\_model}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_af12d5bd97d8e04bd37404acd81d78c62} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
typedef base\+\_\+class\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::memory\+\_\+model}



Memory ordering. See \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model} option 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_a471b48a9c3fa634f691f9e7a63eff8d8}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!node\_allocator@{node\_allocator}}
\index{node\_allocator@{node\_allocator}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{node\_allocator}{node\_allocator}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a471b48a9c3fa634f691f9e7a63eff8d8} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
typedef traits\+::node\+\_\+allocator \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::node\+\_\+allocator}



\doxylink{class_node}{Node} allocator 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_a8088cbf1759789823b681ad3e07eec27}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!permutation\_generator@{permutation\_generator}}
\index{permutation\_generator@{permutation\_generator}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{permutation\_generator}{permutation\_generator}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a8088cbf1759789823b681ad3e07eec27} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
typedef base\+\_\+class\+::permutation\+\_\+generator \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::permutation\+\_\+generator}



Random permutation generator for sequence \mbox{[}0, quasi-\/factor) 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_acbdb5f79369b42a242228cea23c7e510}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!stat@{stat}}
\index{stat@{stat}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{stat}{stat}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_acbdb5f79369b42a242228cea23c7e510} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
typedef base\+\_\+class\+::stat \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\mbox{\hyperlink{structcds_1_1container_1_1segmented__queue_1_1stat}{\+::stat}}}



Internal statistics policy 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_afd924efe0fd69d05949774ca12877a3b}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!traits@{traits}}
\index{traits@{traits}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{traits}{traits}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_afd924efe0fd69d05949774ca12877a3b} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
typedef Traits \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::traits}



Queue traits 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!value\_type@{value\_type}}
\index{value\_type@{value\_type}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{value\_type}{value\_type}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
typedef \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::value\+\_\+type}



type of the value stored in the queue 



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1container_1_1_segmented_queue_a3f6a0c367d9fa4b92663e5d2d8c4c10a}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!SegmentedQueue@{SegmentedQueue}}
\index{SegmentedQueue@{SegmentedQueue}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{SegmentedQueue()}{SegmentedQueue()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a3f6a0c367d9fa4b92663e5d2d8c4c10a} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::\+Segmented\+Queue (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Quasi\+Factor}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Initializes the empty queue 


\begin{DoxyParams}{参数}
{\em n\+Quasi\+Factor} & Quasi factor. If it is not a power of 2 it is rounded up to nearest power of 2. Minimum is 2. \\
\hline
\end{DoxyParams}
\Hypertarget{classcds_1_1container_1_1_segmented_queue_a98bbdefa56194fb90c37f66ea160126a}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!````~SegmentedQueue@{\texorpdfstring{$\sim$}{\string~}SegmentedQueue}}
\index{````~SegmentedQueue@{\texorpdfstring{$\sim$}{\string~}SegmentedQueue}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}SegmentedQueue()}{\string~SegmentedQueue()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a98bbdefa56194fb90c37f66ea160126a} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::\texorpdfstring{$\sim$}{\string~}\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{Segmented\+Queue}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clears the queue and deletes all internal data 



\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1container_1_1_segmented_queue_ae90185a12f72dcb4beb2de01fca1cd54}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!clear@{clear}}
\index{clear@{clear}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_ae90185a12f72dcb4beb2de01fca1cd54} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::clear (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clear the queue 

The function repeatedly calls {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_a8a625c6917029a03b6ba788ce658ceec}{dequeue()}} until it returns {\ttfamily nullptr}. The disposer specified in {\ttfamily Traits} template argument is called for each removed item. \Hypertarget{classcds_1_1container_1_1_segmented_queue_a8a625c6917029a03b6ba788ce658ceec}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!dequeue@{dequeue}}
\index{dequeue@{dequeue}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{dequeue()}{dequeue()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a8a625c6917029a03b6ba788ce658ceec} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::dequeue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} \&}]{dest}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Dequeues a value from the queue 

If queue is not empty, the function returns {\ttfamily true}, {\ttfamily dest} contains copy of dequeued value. The assignment operator for type \doxylink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type} is invoked. If queue is empty, the function returns {\ttfamily false}, {\ttfamily dest} is unchanged. \Hypertarget{classcds_1_1container_1_1_segmented_queue_a3d6492f153a1550d06bad6553ed45e62}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!dequeue\_with@{dequeue\_with}}
\index{dequeue\_with@{dequeue\_with}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{dequeue\_with()}{dequeue\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a3d6492f153a1550d06bad6553ed45e62} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::dequeue\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Dequeues a value using a functor 

{\ttfamily Func} is a functor called to copy dequeued value. The functor takes one argument -\/ a reference to removed node\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{cds:container::MSQueue<\ cds::gc::HP,\ Foo\ >\ myQueue;}
\DoxyCodeLine{Bar\ bar;}
\DoxyCodeLine{myQueue.dequeue\_with(\ [\&bar](\ Foo\&\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ )\ \{\ bar\ =\ std::move(\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ );\});}

\end{DoxyCode}
 The functor is called only if the queue is not empty. \Hypertarget{classcds_1_1container_1_1_segmented_queue_abfaeac8e454a53b0e1944cd4ba00347f}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!emplace@{emplace}}
\index{emplace@{emplace}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_abfaeac8e454a53b0e1944cd4ba00347f} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
template$<$typename... Args$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::emplace (\begin{DoxyParamCaption}\item[{Args \&\&...}]{args}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues data of type \doxylink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type} constructed with {\ttfamily std\+::forward$<$\+Args$>$(args)...} 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_abb72c3154c28c375edba95ad4120e4a1}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!empty@{empty}}
\index{empty@{empty}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_abb72c3154c28c375edba95ad4120e4a1} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks if the queue is empty 

The original segmented queue algorithm does not allow to check emptiness accurately because {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_abb72c3154c28c375edba95ad4120e4a1}{empty()}} is unlinearizable. This function tests queue\textquotesingle{}s emptiness checking {\ttfamily \doxylink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size()} == 0}, so, the item counting feature is an essential part of queue\textquotesingle{}s algorithm. \Hypertarget{classcds_1_1container_1_1_segmented_queue_ae0c8cb66a5feebace931adbe80801387}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_ae0c8cb66a5feebace931adbe80801387} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} \&\&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Inserts a new element at last segment of the queue, move semantics 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_aada9d85d68dcf1293c9eadf03b2e4ecd}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_aada9d85d68dcf1293c9eadf03b2e4ecd} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} const \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Inserts a new element at last segment of the queue 

The function makes queue node in dynamic memory calling copy constructor for {\ttfamily val} and then it calls intrusive\+::\+SEgmented\+Queue\+::enqueue. Returns {\ttfamily true} if success, {\ttfamily false} otherwise. \Hypertarget{classcds_1_1container_1_1_segmented_queue_a19fd9b1e189ecfefb3fe7dbe8718c529}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!enqueue\_with@{enqueue\_with}}
\index{enqueue\_with@{enqueue\_with}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue\_with()}{enqueue\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a19fd9b1e189ecfefb3fe7dbe8718c529} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::enqueue\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues data to the queue using a functor 

{\ttfamily Func} is a functor called to create node. The functor {\ttfamily f} takes one argument -\/ a reference to a new node of type \doxylink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type} \+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{cds::container::SegmentedQueue<\ cds::gc::HP,\ Foo\ >\ myQueue;}
\DoxyCodeLine{Bar\ bar;}
\DoxyCodeLine{myQueue.\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a19fd9b1e189ecfefb3fe7dbe8718c529}{enqueue\_with}}(\ [\&bar](\ Foo\&\ dest\ )\ \{\ dest\ =\ bar;\ \}\ );}

\end{DoxyCode}
 \Hypertarget{classcds_1_1container_1_1_segmented_queue_af5e22d05bef8070c2edeb3fac666607f}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!pop@{pop}}
\index{pop@{pop}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_af5e22d05bef8070c2edeb3fac666607f} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::pop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} \&}]{dest}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_a8a625c6917029a03b6ba788ce658ceec}{dequeue()}} function 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_a6e78346d948abde6b8f7f97f0ef08fee}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!pop\_with@{pop\_with}}
\index{pop\_with@{pop\_with}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop\_with()}{pop\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a6e78346d948abde6b8f7f97f0ef08fee} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::pop\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_a3d6492f153a1550d06bad6553ed45e62}{dequeue\+\_\+with()}} function 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_a9a1f90754c93d18d535ad0ab36866e1b}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!push@{push}}
\index{push@{push}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a9a1f90754c93d18d535ad0ab36866e1b} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} \&\&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_ae0c8cb66a5feebace931adbe80801387}{enqueue( value\+\_\+type\&\& )}} member function 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_ac35bcc292299af2a5ae13129e11f62f7}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!push@{push}}
\index{push@{push}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_ac35bcc292299af2a5ae13129e11f62f7} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_a883d4d55057800bdd4b607602ed76060}{value\+\_\+type}} const \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_aada9d85d68dcf1293c9eadf03b2e4ecd}{enqueue( value\+\_\+type const\& )}} member function 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_a70f49fd6f8db730c0b2253767c34724a}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!push\_with@{push\_with}}
\index{push\_with@{push\_with}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push\_with()}{push\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a70f49fd6f8db730c0b2253767c34724a} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::push\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_segmented_queue_a19fd9b1e189ecfefb3fe7dbe8718c529}{enqueue\+\_\+with()}} member function 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_ade149d9d1677a24de1c3b51c0d5ad02d}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!quasi\_factor@{quasi\_factor}}
\index{quasi\_factor@{quasi\_factor}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{quasi\_factor()}{quasi\_factor()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_ade149d9d1677a24de1c3b51c0d5ad02d} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::quasi\+\_\+factor (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns quasi factor, a power-\/of-\/two number 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_a9c64e67c14e2eff31b8fd87d2f3d8ea9}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!size@{size}}
\index{size@{size}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a9c64e67c14e2eff31b8fd87d2f3d8ea9} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{\+::size}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns queue\textquotesingle{}s item count 

\Hypertarget{classcds_1_1container_1_1_segmented_queue_adc781c4f8a47de771862ec9f823263ba}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!statistics@{statistics}}
\index{statistics@{statistics}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{statistics()}{statistics()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_adc781c4f8a47de771862ec9f823263ba} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
const \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue_acbdb5f79369b42a242228cea23c7e510}{stat}} \& \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::statistics (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns reference to internal statistics 

The type of internal statistics is specified by {\ttfamily Traits} template argument. 

\doxysubsection{类成员变量说明}
\Hypertarget{classcds_1_1container_1_1_segmented_queue_a025e4461b9a74c04010e16c98a7bf440}\index{cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}!c\_nHazardPtrCount@{c\_nHazardPtrCount}}
\index{c\_nHazardPtrCount@{c\_nHazardPtrCount}!cds::container::SegmentedQueue$<$ GC, T, Traits $>$@{cds::container::SegmentedQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{c\_nHazardPtrCount}{c\_nHazardPtrCount}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_segmented_queue_a025e4461b9a74c04010e16c98a7bf440} 
template$<$class GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = segmented\+\_\+queue\+::traits$>$ \\
const size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_segmented_queue}{cds\+::container\+::\+Segmented\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::c\+\_\+n\+Hazard\+Ptr\+Count = base\+\_\+class\+::c\+\_\+n\+Hazard\+Ptr\+Count\hspace{0.3cm}{\ttfamily [static]}}



Count of hazard pointer required for the algorithm 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/container/\mbox{\hyperlink{container_2segmented__queue_8h}{segmented\+\_\+queue.\+h}}\end{DoxyCompactItemize}
