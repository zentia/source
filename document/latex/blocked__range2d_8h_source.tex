\doxysection{blocked\+\_\+range2d.\+h}
\hypertarget{blocked__range2d_8h_source}{}\label{blocked__range2d_8h_source}\index{external/taskflow/3rd-\/party/tbb/include/tbb/blocked\_range2d.h@{external/taskflow/3rd-\/party/tbb/include/tbb/blocked\_range2d.h}}
\mbox{\hyperlink{blocked__range2d_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#ifndef\ \_\_TBB\_blocked\_range2d\_H}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ \_\_TBB\_blocked\_range2d\_H}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbb__stddef_8h}{tbb\_stddef.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{blocked__range_8h}{blocked\_range.h}}"{}}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb}{tbb}}\ \{}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ RowValue,\ \textcolor{keyword}{typename}\ ColValue=RowValue>}
\DoxyCodeLine{00028\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1blocked__range2d_a5aa4e2c389c4b833937fcad66efe2b6a}{blocked\_range2d}}\ \{}
\DoxyCodeLine{00029\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtbb_1_1blocked__range}{blocked\_range<RowValue>}}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada609b296a9af0591cc34761b8538100}{row\_range\_type}};}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classtbb_1_1blocked__range}{blocked\_range<ColValue>}}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a9820ed2f2560633d18bf35cece8b6493}{col\_range\_type}};}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada609b296a9af0591cc34761b8538100}{row\_range\_type}}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}};}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a9820ed2f2560633d18bf35cece8b6493}{col\_range\_type}}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a5aa4e2c389c4b833937fcad66efe2b6a}{blocked\_range2d}}(\ RowValue\ row\_begin,\ RowValue\ row\_end,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classtest__partitioner__utils_1_1blocked__range_a89b300cecd9d617e4ee801c786756e55}{row\_range\_type::size\_type}}\ row\_grainsize,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ColValue\ col\_begin,\ ColValue\ col\_end,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classtest__partitioner__utils_1_1blocked__range_a89b300cecd9d617e4ee801c786756e55}{col\_range\_type::size\_type}}\ col\_grainsize\ )\ :}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}(row\_begin,row\_end,row\_grainsize),}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}}(col\_begin,col\_end,col\_grainsize)}
\DoxyCodeLine{00044\ \ \ \ \ \{\}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_aaf45f93921022437fdcb500585768a5e}{blocked\_range2d}}(\ RowValue\ row\_begin,\ RowValue\ row\_end,}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ColValue\ col\_begin,\ ColValue\ col\_end\ )\ :}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}(row\_begin,row\_end),}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}}(col\_begin,col\_end)}
\DoxyCodeLine{00050\ \ \ \ \ \{\}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a2dcd60d8e39c23a362aaab99928af68b}{empty}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Range\ is\ empty\ if\ at\ least\ one\ dimension\ is\ empty.}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}.empty()\ ||\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}}.empty();}
\DoxyCodeLine{00056\ \ \ \ \ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a57b91c3cdf4b680ec481bc1f479f986d}{is\_divisible}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}.is\_divisible()\ ||\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}}.is\_divisible();}
\DoxyCodeLine{00061\ \ \ \ \ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_af0e752d01b661b01c9a473473bea43fc}{blocked\_range2d}}(\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a5aa4e2c389c4b833937fcad66efe2b6a}{blocked\_range2d}}\&\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}},\ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}\ )\ :}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.\mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}),}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.\mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}})}
\DoxyCodeLine{00066\ \ \ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}\ split\_obj;}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a06ae436bae2c8be5a95212ea410791db}{do\_split}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}},\ split\_obj);}
\DoxyCodeLine{00069\ \ \ \ \ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#if\ \_\_TBB\_USE\_PROPORTIONAL\_SPLIT\_IN\_BLOCKED\_RANGES}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_aa0519760654368000f7ebc87d9bfe898}{is\_splittable\_in\_proportion}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a9ebbf0fa580c0553ec2e3c5997b9799c}{blocked\_range2d}}(\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a5aa4e2c389c4b833937fcad66efe2b6a}{blocked\_range2d}}\&\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}},\ proportional\_split\&\ proportion\ )\ :}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.\mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}),}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.\mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}})}
\DoxyCodeLine{00078\ \ \ \ \ \{}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a06ae436bae2c8be5a95212ea410791db}{do\_split}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}},\ proportion);}
\DoxyCodeLine{00080\ \ \ \ \ \}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_USE\_PROPORTIONAL\_SPLIT\_IN\_BLOCKED\_RANGES\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada609b296a9af0591cc34761b8538100}{row\_range\_type}}\&\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_aef4c9123af332d19afffe36a436f11b3}{rows}}()\textcolor{keyword}{\ const\ }\{\textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}};\}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a9820ed2f2560633d18bf35cece8b6493}{col\_range\_type}}\&\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a8a82c756db86876e7f34e08616af50b4}{cols}}()\textcolor{keyword}{\ const\ }\{\textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}};\}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Split>}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a06ae436bae2c8be5a95212ea410791db}{do\_split}}(\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a5aa4e2c389c4b833937fcad66efe2b6a}{blocked\_range2d}}\&\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}},\ Split\&\ split\_obj\ )}
\DoxyCodeLine{00093\ \ \ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}.size()*\textcolor{keywordtype}{double}(\mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}}.grainsize())\ <\ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}}.size()*\textcolor{keywordtype}{double}(\mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}.grainsize())\ )\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_a81250e2be21f3077e57304ea890699e3}{my\_cols}}.my\_begin\ =\ \mbox{\hyperlink{classtbb_1_1blocked__range_aa5b02cb98cc0ad6c0cd5d29bb1271b7c}{col\_range\_type::do\_split}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.my\_cols,\ split\_obj);}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1blocked__range2d_ada346e0d01b237b34771b0a38e459ad7}{my\_rows}}.my\_begin\ =\ \mbox{\hyperlink{classtbb_1_1blocked__range_aa5b02cb98cc0ad6c0cd5d29bb1271b7c}{row\_range\_type::do\_split}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.my\_rows,\ split\_obj);}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00099\ \ \ \ \ \}}
\DoxyCodeLine{00100\ \};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \}\ \textcolor{comment}{//\ namespace\ tbb}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_blocked\_range2d\_H\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
