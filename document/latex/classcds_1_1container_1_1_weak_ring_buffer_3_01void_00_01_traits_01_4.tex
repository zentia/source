\doxysection{cds\+::container\+::Weak\+Ring\+Buffer\texorpdfstring{$<$}{<} void, Traits \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4}{}\label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}


Single-\/producer single-\/consumer ring buffer for untyped variable-\/sized data  




{\ttfamily \#include $<$weak\+\_\+ringbuffer.\+h$>$}



类 cds\+::container\+::Weak\+Ring\+Buffer\texorpdfstring{$<$}{<} void, Traits \texorpdfstring{$>$}{>} 继承关系图\+:
% FIG 0


cds\+::container\+::Weak\+Ring\+Buffer\texorpdfstring{$<$}{<} void, Traits \texorpdfstring{$>$}{>} 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef Traits \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a0d17c2d958004da8aca0857be714068c}{traits}}
\begin{DoxyCompactList}\small\item\em Ring buffer traits \end{DoxyCompactList}\item 
typedef traits\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a47d47dec5474ea5b84283e9788c0ec7c}{memory\+\_\+model}}
\begin{DoxyCompactList}\small\item\em Memory ordering. See {\ttfamily \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model}} option \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}}
\begin{DoxyCompactList}\small\item\em \doxylink{struct_value}{Value} type to be stored in the ring buffer \end{DoxyCompactList}\item 
typedef Traits \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_ad8d5b6bdd67cd22251dae16f354a894b}{traits}}
\begin{DoxyCompactList}\small\item\em Ring buffer traits \end{DoxyCompactList}\item 
typedef traits\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a12cfe4adcb06d43c6c5a763371e728c0}{memory\+\_\+model}}
\begin{DoxyCompactList}\small\item\em Memory ordering. See {\ttfamily \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model}} option \end{DoxyCompactList}\item 
typedef traits\+::value\+\_\+cleaner \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a3d3b5ef7affaa6b3647a864bde9b6805}{value\+\_\+cleaner}}
\begin{DoxyCompactList}\small\item\em \doxylink{struct_value}{Value} cleaner, see {\ttfamily \doxylink{structcds_1_1container_1_1weak__ringbuffer_1_1traits_a7407c26ce91a93b784451793d2939bea}{weak\+\_\+ringbuffer\+::traits\+::value\+\_\+cleaner}} \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_add81264704727f880e13ba60e29479e9}{Weak\+Ring\+Buffer}} (size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_acf4f71d27eb21e6c2047bde2c184f2a6}{capacity}}=0)
\begin{DoxyCompactList}\small\item\em Creates the ring buffer of {\ttfamily capacity} bytes \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_aedd1009eec04ec2f8d45443ba09e8a93}{back}} (size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})
\begin{DoxyCompactList}\small\item\em \mbox{[}producer\mbox{]} Reserve {\ttfamily size} bytes \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a0f6f6e7b2487fedc256e0d3cbabb4ee1}{push\+\_\+back}} ()
\begin{DoxyCompactList}\small\item\em \mbox{[}producer\mbox{]} Push reserved bytes into ring \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_aab326acaba41c37f2acbd965cff654be}{push\+\_\+back}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} const \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})
\begin{DoxyCompactList}\small\item\em \mbox{[}producer\mbox{]} Push {\ttfamily data} of {\ttfamily size} bytes into ring \end{DoxyCompactList}\item 
std\+::pair$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}, size\+\_\+t $>$ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a6530fdd4b11cc16708a84b6e64c42f57}{front}} ()
\begin{DoxyCompactList}\small\item\em \mbox{[}consumer\mbox{]} Get top data from the ring \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_ad82ea8c5781760b9af4839430b405738}{pop\+\_\+front}} ()
\begin{DoxyCompactList}\small\item\em \mbox{[}consumer\mbox{]} Pops top data \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a07bbef34b4f00cbd344e2248b1f75b05}{clear}} ()
\begin{DoxyCompactList}\small\item\em \mbox{[}consumer\mbox{]} Clears the ring buffer \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a85250d2112a7a8933169264ee781964b}{empty}} () const
\begin{DoxyCompactList}\small\item\em Checks if the ring-\/buffer is empty \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a8cd6a10dcd11100dd717795815d7e39f}{full}} () const
\begin{DoxyCompactList}\small\item\em Checks if the ring-\/buffer is full \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}} () const
\begin{DoxyCompactList}\small\item\em Returns the current size of ring buffer \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_acf4f71d27eb21e6c2047bde2c184f2a6}{capacity}} () const
\begin{DoxyCompactList}\small\item\em Returns capacity of the ring buffer \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_ade3f4829aa7bee40abd0e3b904de7253}{Weak\+Ring\+Buffer}} (size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_acf4f71d27eb21e6c2047bde2c184f2a6}{capacity}}=0)
\begin{DoxyCompactList}\small\item\em Creates the ring buffer of {\ttfamily capacity} \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_aebe07507f1981dfb4fa6608d697f2597}{\texorpdfstring{$\sim$}{\string~}\+Weak\+Ring\+Buffer}} ()
\begin{DoxyCompactList}\small\item\em Destroys the ring buffer \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_aad5bd7aab55417b4b873f355ea1bca96}{push}} (\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \texorpdfstring{$\ast$}{*}arr, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}}, Copy\+Func \mbox{\hyperlink{level1__impl_8h_a7ffc26122ca6f9bec01f9bc5e64f3006}{copy}})
\begin{DoxyCompactList}\small\item\em Batch push -\/ push array {\ttfamily arr} of size {\ttfamily count} \end{DoxyCompactList}\item 
std\+::enable\+\_\+if$<$ std\+::is\+\_\+constructible$<$ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}}, \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{\+::value}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_aa5967821e32c6427d646270526d0d2d2}{push}} (\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \texorpdfstring{$\ast$}{*}arr, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em Batch push -\/ push array {\ttfamily arr} of size {\ttfamily count} with assignment as copy functor \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_ab1ebe914eb2b34bdc722a914d7a74d95}{push}} (\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}} const \&val)
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_a1fe6e8db6d610ff34ea049ff7d6aa1ae}{enqueue( value\+\_\+type const\& )}} \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_aebfdb5467709087ed61b7f1989f8f97c}{push}} (\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}} \&\&val)
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_ad133fc131ad51e681a520ce77938d1da}{enqueue( value\+\_\+type\&\& )}} \end{DoxyCompactList}\item 
std\+::enable\+\_\+if$<$ std\+::is\+\_\+constructible$<$ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}}, Args... $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{\+::value}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_adfb5a1db05c1b3caafc3857bc84fa34e}{emplace}} (Args \&\&... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})
\begin{DoxyCompactList}\small\item\em Push one element created from {\ttfamily args} \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_aac8cccf098ab10638a020645b1c2e08d}{enqueue\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Enqueues data to the ring using a functor \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a1fe6e8db6d610ff34ea049ff7d6aa1ae}{enqueue}} (\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}} const \&val)
\begin{DoxyCompactList}\small\item\em Enqueues {\ttfamily val} value into the queue. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_ad133fc131ad51e681a520ce77938d1da}{enqueue}} (\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}} \&\&val)
\begin{DoxyCompactList}\small\item\em Enqueues {\ttfamily val} value into the queue, move semantics \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a26f22f387b3a057715929ef6dca28b05}{push\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_aac8cccf098ab10638a020645b1c2e08d}{enqueue\+\_\+with()}} \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a13333a0c045795ff612f05f865a3b98b}{pop}} (\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \texorpdfstring{$\ast$}{*}arr, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}}, Copy\+Func \mbox{\hyperlink{level1__impl_8h_a7ffc26122ca6f9bec01f9bc5e64f3006}{copy}})
\begin{DoxyCompactList}\small\item\em Batch pop {\ttfamily count} element from the ring buffer into {\ttfamily arr} \end{DoxyCompactList}\item 
std\+::enable\+\_\+if$<$ std\+::is\+\_\+assignable$<$ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \&, value\+\_\+typeconst \& $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{\+::value}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a1827c32eb2ab547715f5556876042246}{pop}} (\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \texorpdfstring{$\ast$}{*}arr, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em Batch pop -\/ push array {\ttfamily arr} of size {\ttfamily count} with assignment as copy functor \end{DoxyCompactList}\item 
std\+::enable\+\_\+if$<$ std\+::is\+\_\+assignable$<$ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \&, value\+\_\+typeconst \& $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{\+::value}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a5d0bd8c361376e40d056b40415929903}{pop}} (\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \&val)
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_a8279423ce017f52a78902b2e304c2568}{dequeue( Q\& )}} \end{DoxyCompactList}\item 
std\+::enable\+\_\+if$<$ std\+::is\+\_\+assignable$<$ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \&, value\+\_\+typeconst \& $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{\+::value}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a8279423ce017f52a78902b2e304c2568}{dequeue}} (\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \&val)
\begin{DoxyCompactList}\small\item\em Dequeues an element from the ring to {\ttfamily val} \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a13f1ba3ef5da174d07fbd3338271d1de}{dequeue\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Dequeues a value using a functor \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_ab4b441c26f1a1858f70dabb83cbbbdf9}{pop\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_a13f1ba3ef5da174d07fbd3338271d1de}{dequeue\+\_\+with()}} \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a191edd5d7aeab6b39c787210e797716e}{front}} ()
\begin{DoxyCompactList}\small\item\em Gets pointer to first element of ring buffer \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a90a249b769ffc63a5936e9a3f48905ab}{pop\+\_\+front}} ()
\begin{DoxyCompactList}\small\item\em Removes front element of ring-\/buffer \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_aa1c674dbe7cc5c2f0df00d32df35eeb9}{clear}} ()
\begin{DoxyCompactList}\small\item\em Clears the ring buffer (only consumer can call this function!) \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_ae503f5c2aa7882394c3efefb2c0db524}{empty}} () const
\begin{DoxyCompactList}\small\item\em Checks if the ring-\/buffer is empty \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a20111a03a75e933c5e7b4595c8593136}{full}} () const
\begin{DoxyCompactList}\small\item\em Checks if the ring-\/buffer is full \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a7478de455fded0e3a7ab8f65a9c70676}{size}} () const
\begin{DoxyCompactList}\small\item\em Returns the current size of ring buffer \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a8cfc17f95530b21aba8f9b6512f7cdc8}{capacity}} () const
\begin{DoxyCompactList}\small\item\em Returns capacity of the ring buffer \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename Traits$>$\newline
class cds\+::container\+::\+Weak\+Ring\+Buffer$<$ void, Traits $>$}
Single-\/producer single-\/consumer ring buffer for untyped variable-\/sized data 

\label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_cds_nonintrusive_WeakRingBuffer_void}%
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_cds_nonintrusive_WeakRingBuffer_void}%
 This SPSC ring-\/buffer is intended for data of variable size. The producer allocates a buffer from ring, you fill it with data and pushes them back to ring. The consumer thread reads data from front-\/end and then pops them\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ allocates\ 1M\ ring\ buffer}}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{WeakRingBuffer<void>}}\ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}(\ 1024\ *\ 1024\ );}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{producer\_thread}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Get\ data\ of\ size\ N\ bytes}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}*\ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}\ (\ \textcolor{keyword}{true}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ external\ data}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::tie}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}}\ )\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{get\_data}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}}\ ==\ \textcolor{keyword}{nullptr}\ )}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Allocates\ a\ buffer\ from\ the\ ring}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}.back(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}}\ );}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::cout}}\ <<\ \textcolor{stringliteral}{"{}The\ ring\ is\ full"{}}\ <<\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::endl}};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{memcpy}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}}\ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Push\ data\ into\ the\ ring}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}.push\_back();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{consumer\_thread}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}\ (\ \textcolor{keyword}{true}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}.\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a191edd5d7aeab6b39c787210e797716e}{front}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}.first\ ==\ \textcolor{keyword}{nullptr}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::cout}}\ <<\ \textcolor{stringliteral}{"{}The\ ring\ is\ empty"{}}\ <<\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::endl}};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Process\ data}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{process\_data}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}.first,\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}.second\ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Free\ buffer}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}.\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a90a249b769ffc63a5936e9a3f48905ab}{pop\_front}}();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


\begin{DoxyWarning}{警告}
\+: {\ttfamily Weak\+Ring\+Buffer} is developed for 64-\/bit architecture. 32-\/bit platform must provide support for 64-\/bit atomics. 
\end{DoxyWarning}


\doxysubsection{成员类型定义说明}
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a12cfe4adcb06d43c6c5a763371e728c0}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!memory\_model@{memory\_model}}
\index{memory\_model@{memory\_model}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{memory\_model}{memory\_model}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a12cfe4adcb06d43c6c5a763371e728c0} 
typedef traits\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::memory\+\_\+model}



Memory ordering. See {\ttfamily \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model}} option 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a47d47dec5474ea5b84283e9788c0ec7c}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!memory\_model@{memory\_model}}
\index{memory\_model@{memory\_model}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{memory\_model}{memory\_model}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a47d47dec5474ea5b84283e9788c0ec7c} 
template$<$typename Traits$>$ \\
typedef traits\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::memory\+\_\+model}



Memory ordering. See {\ttfamily \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model}} option 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_ad8d5b6bdd67cd22251dae16f354a894b}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!traits@{traits}}
\index{traits@{traits}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{traits}{traits}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_ad8d5b6bdd67cd22251dae16f354a894b} 
typedef Traits \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::traits}



Ring buffer traits 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a0d17c2d958004da8aca0857be714068c}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!traits@{traits}}
\index{traits@{traits}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{traits}{traits}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a0d17c2d958004da8aca0857be714068c} 
template$<$typename Traits$>$ \\
typedef Traits \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::traits}



Ring buffer traits 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a3d3b5ef7affaa6b3647a864bde9b6805}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!value\_cleaner@{value\_cleaner}}
\index{value\_cleaner@{value\_cleaner}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{value\_cleaner}{value\_cleaner}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a3d3b5ef7affaa6b3647a864bde9b6805} 
typedef traits\+::value\+\_\+cleaner \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::value\+\_\+cleaner}



\doxylink{struct_value}{Value} cleaner, see {\ttfamily \doxylink{structcds_1_1container_1_1weak__ringbuffer_1_1traits_a7407c26ce91a93b784451793d2939bea}{weak\+\_\+ringbuffer\+::traits\+::value\+\_\+cleaner}} 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!value\_type@{value\_type}}
\index{value\_type@{value\_type}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{value\_type}{value\_type}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69} 
typedef \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::value\+\_\+type}



\doxylink{struct_value}{Value} type to be stored in the ring buffer 



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_add81264704727f880e13ba60e29479e9}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!WeakRingBuffer@{WeakRingBuffer}}
\index{WeakRingBuffer@{WeakRingBuffer}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{WeakRingBuffer()}{WeakRingBuffer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_add81264704727f880e13ba60e29479e9} 
template$<$typename Traits$>$ \\
\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::\+Weak\+Ring\+Buffer (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{capacity}{ = {\ttfamily 0}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creates the ring buffer of {\ttfamily capacity} bytes 

For {\ttfamily \doxylink{classcds_1_1opt_1_1v_1_1uninitialized__static__buffer}{cds\+::opt\+::v\+::uninitialized\+\_\+static\+\_\+buffer}} the {\ttfamily n\+Capacity} parameter is ignored.

If the buffer capacity is a power of two, lightweight binary arithmetics is used instead of modulo arithmetics. 函数调用图\+:
% FIG 2
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_ade3f4829aa7bee40abd0e3b904de7253}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!WeakRingBuffer@{WeakRingBuffer}}
\index{WeakRingBuffer@{WeakRingBuffer}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{WeakRingBuffer()}{WeakRingBuffer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_ade3f4829aa7bee40abd0e3b904de7253} 
\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::\+Weak\+Ring\+Buffer (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{capacity}{ = {\ttfamily 0}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Creates the ring buffer of {\ttfamily capacity} 

For {\ttfamily \doxylink{classcds_1_1opt_1_1v_1_1uninitialized__static__buffer}{cds\+::opt\+::v\+::uninitialized\+\_\+static\+\_\+buffer}} the {\ttfamily n\+Capacity} parameter is ignored.

If the buffer capacity is a power of two, lightweight binary arithmetics is used instead of modulo arithmetics. \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_aebe07507f1981dfb4fa6608d697f2597}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!````~WeakRingBuffer@{\texorpdfstring{$\sim$}{\string~}WeakRingBuffer}}
\index{````~WeakRingBuffer@{\texorpdfstring{$\sim$}{\string~}WeakRingBuffer}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}WeakRingBuffer()}{\string~WeakRingBuffer()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_aebe07507f1981dfb4fa6608d697f2597} 
\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::\texorpdfstring{$\sim$}{\string~}\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{Weak\+Ring\+Buffer}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Destroys the ring buffer 



\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_aedd1009eec04ec2f8d45443ba09e8a93}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!back@{back}}
\index{back@{back}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{back()}{back()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_aedd1009eec04ec2f8d45443ba09e8a93} 
template$<$typename Traits$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::back (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\mbox{[}producer\mbox{]} Reserve {\ttfamily size} bytes 

The function returns a pointer to reserved buffer of {\ttfamily size} bytes. If no enough space in the ring buffer the function returns {\ttfamily nullptr}.

After successful {\ttfamily back}() you should fill the buffer provided and call {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a0f6f6e7b2487fedc256e0d3cbabb4ee1}{push\+\_\+back()}}\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ allocates\ 1M\ ring\ buffer}}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{WeakRingBuffer<void>}}\ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}(\ 1024\ *\ 1024\ );}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{producer\_thread}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Get\ data\ of\ size\ N\ bytes}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}};1}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}*\ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}\ (\ \textcolor{keyword}{true}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ external\ data}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::tie}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}}\ )\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{get\_data}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}}\ ==\ \textcolor{keyword}{nullptr}\ )}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Allocates\ a\ buffer\ from\ the\ ring}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}.back(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}}\ );}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::cout}}\ <<\ \textcolor{stringliteral}{"{}The\ ring\ is\ full"{}}\ <<\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::endl}};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{memcpy}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}}\ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Push\ data\ into\ the\ ring}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}.push\_back();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 3
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a8cfc17f95530b21aba8f9b6512f7cdc8}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!capacity@{capacity}}
\index{capacity@{capacity}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{capacity()}{capacity()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a8cfc17f95530b21aba8f9b6512f7cdc8} 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::capacity (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns capacity of the ring buffer 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_acf4f71d27eb21e6c2047bde2c184f2a6}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!capacity@{capacity}}
\index{capacity@{capacity}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{capacity()}{capacity()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_acf4f71d27eb21e6c2047bde2c184f2a6} 
template$<$typename Traits$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::capacity (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns capacity of the ring buffer 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_aa1c674dbe7cc5c2f0df00d32df35eeb9}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!clear@{clear}}
\index{clear@{clear}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_aa1c674dbe7cc5c2f0df00d32df35eeb9} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::clear (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clears the ring buffer (only consumer can call this function!) 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a07bbef34b4f00cbd344e2248b1f75b05}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!clear@{clear}}
\index{clear@{clear}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a07bbef34b4f00cbd344e2248b1f75b05} 
template$<$typename Traits$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::clear (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\mbox{[}consumer\mbox{]} Clears the ring buffer 

函数调用图\+:
% FIG 4
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a8279423ce017f52a78902b2e304c2568}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!dequeue@{dequeue}}
\index{dequeue@{dequeue}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{dequeue()}{dequeue()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a8279423ce017f52a78902b2e304c2568} 
std\+::enable\+\_\+if$<$ std\+::is\+\_\+assignable$<$ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \&, value\+\_\+typeconst \& $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{\+::value}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::dequeue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Dequeues an element from the ring to {\ttfamily val} 

The function is available only if {\ttfamily std\+::is\+\_\+assignable$<$\+Q\&, value\+\_\+type const\&$>$\+::value} is {\ttfamily true}.

Returns {\ttfamily false} if the ring is full or {\ttfamily true} otherwise. \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a13f1ba3ef5da174d07fbd3338271d1de}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!dequeue\_with@{dequeue\_with}}
\index{dequeue\_with@{dequeue\_with}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{dequeue\_with()}{dequeue\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a13f1ba3ef5da174d07fbd3338271d1de} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::dequeue\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Dequeues a value using a functor 

{\ttfamily Func} is a functor called to copy dequeued value. The functor takes one argument -\/ a reference to removed node\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds}}:\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{container::WeakRingBuffer<\ Foo\ >}}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{myRing}};}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{Bar}}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{bar}};}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{myRing}}.\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a13f1ba3ef5da174d07fbd3338271d1de}{dequeue\_with}}(\ [\&\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{bar}}](\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{Foo}}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{src}}\ )\ \{\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{bar}}\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::move}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{src}}\ );\});}

\end{DoxyCode}


Returns {\ttfamily true} if the ring is not empty, {\ttfamily false} otherwise. The functor is called only if the ring is not empty. \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_adfb5a1db05c1b3caafc3857bc84fa34e}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!emplace@{emplace}}
\index{emplace@{emplace}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_adfb5a1db05c1b3caafc3857bc84fa34e} 
std\+::enable\+\_\+if$<$ std\+::is\+\_\+constructible$<$ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}}, Args... $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{\+::value}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::emplace (\begin{DoxyParamCaption}\item[{Args \&\&...}]{args}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Push one element created from {\ttfamily args} 

The function is available only if {\ttfamily std\+::is\+\_\+constructible$<$value\+\_\+type, Args...$>$\+::value} is {\ttfamily true}.

Returns {\ttfamily false} if the ring is full or {\ttfamily true} otherwise. \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_ae503f5c2aa7882394c3efefb2c0db524}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!empty@{empty}}
\index{empty@{empty}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_ae503f5c2aa7882394c3efefb2c0db524} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks if the ring-\/buffer is empty 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a85250d2112a7a8933169264ee781964b}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!empty@{empty}}
\index{empty@{empty}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a85250d2112a7a8933169264ee781964b} 
template$<$typename Traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks if the ring-\/buffer is empty 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_ad133fc131ad51e681a520ce77938d1da}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_ad133fc131ad51e681a520ce77938d1da} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}} \&\&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues {\ttfamily val} value into the queue, move semantics 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a1fe6e8db6d610ff34ea049ff7d6aa1ae}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a1fe6e8db6d610ff34ea049ff7d6aa1ae} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}} const \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues {\ttfamily val} value into the queue. 

The new queue item is created by calling placement new in free cell. Returns {\ttfamily true} if success, {\ttfamily false} if the ring is full. \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_aac8cccf098ab10638a020645b1c2e08d}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!enqueue\_with@{enqueue\_with}}
\index{enqueue\_with@{enqueue\_with}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue\_with()}{enqueue\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_aac8cccf098ab10638a020645b1c2e08d} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::enqueue\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues data to the ring using a functor 

{\ttfamily Func} is a functor called to copy a value to the ring element. The functor {\ttfamily f} takes one argument -\/ a reference to a empty cell of type \doxylink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type} \+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds::container::WeakRingBuffer<\ Foo\ >}}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{myRing}};}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{Bar}}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{bar}};}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{myRing}}.\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_aac8cccf098ab10638a020645b1c2e08d}{enqueue\_with}}(\ [\&\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{bar}}](\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{Foo}}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{dest}}\ )\ \{\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{dest}}\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::move}}(\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{bar}});\ \}\ );}

\end{DoxyCode}
 \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a191edd5d7aeab6b39c787210e797716e}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!front@{front}}
\index{front@{front}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{front()}{front()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a191edd5d7aeab6b39c787210e797716e} 
\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::front (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Gets pointer to first element of ring buffer 

If the ring buffer is empty, returns {\ttfamily nullptr} 

The function is thread-\/safe since there is only one consumer. Recall, {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer}{Weak\+Ring\+Buffer}} is single-\/producer/single consumer container. \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a6530fdd4b11cc16708a84b6e64c42f57}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!front@{front}}
\index{front@{front}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{front()}{front()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a6530fdd4b11cc16708a84b6e64c42f57} 
template$<$typename Traits$>$ \\
std\+::pair$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}, size\+\_\+t $>$ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::front (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\mbox{[}consumer\mbox{]} Get top data from the ring 

If the ring is empty, the function returns {\ttfamily nullptr} in {\ttfamily std\+:pair\+:}\+:first. 函数调用图\+:
% FIG 5
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a20111a03a75e933c5e7b4595c8593136}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!full@{full}}
\index{full@{full}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{full()}{full()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a20111a03a75e933c5e7b4595c8593136} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::full (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks if the ring-\/buffer is full 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a8cd6a10dcd11100dd717795815d7e39f}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!full@{full}}
\index{full@{full}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{full()}{full()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a8cd6a10dcd11100dd717795815d7e39f} 
template$<$typename Traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::full (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Checks if the ring-\/buffer is full 

函数调用图\+:
% FIG 6
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a5d0bd8c361376e40d056b40415929903}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!pop@{pop}}
\index{pop@{pop}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a5d0bd8c361376e40d056b40415929903} 
std\+::enable\+\_\+if$<$ std\+::is\+\_\+assignable$<$ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \&, value\+\_\+typeconst \& $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{\+::value}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::pop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_a8279423ce017f52a78902b2e304c2568}{dequeue( Q\& )}} 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a1827c32eb2ab547715f5556876042246}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!pop@{pop}}
\index{pop@{pop}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a1827c32eb2ab547715f5556876042246} 
std\+::enable\+\_\+if$<$ std\+::is\+\_\+assignable$<$ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \&, value\+\_\+typeconst \& $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{\+::value}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::pop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \texorpdfstring{$\ast$}{*}}]{arr}{, }\item[{size\+\_\+t}]{count}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Batch pop -\/ push array {\ttfamily arr} of size {\ttfamily count} with assignment as copy functor 

This function is equivalent for\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a13333a0c045795ff612f05f865a3b98b}{pop}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{arr}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{count}},\ [](\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{Q}}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{dest}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\_type}}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{src}}\ )\ \{\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{dest}}\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{src}};\ \}\ );}

\end{DoxyCode}


The function is available only if {\ttfamily std\+::is\+\_\+assignable$<$\+Q\&, value\+\_\+type const\&$>$\+::value} is {\ttfamily true}.

Returns {\ttfamily true} if success or {\ttfamily false} if not enough space in the ring \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a13333a0c045795ff612f05f865a3b98b}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!pop@{pop}}
\index{pop@{pop}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a13333a0c045795ff612f05f865a3b98b} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::pop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \texorpdfstring{$\ast$}{*}}]{arr}{, }\item[{size\+\_\+t}]{count}{, }\item[{Copy\+Func}]{copy}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Batch pop {\ttfamily count} element from the ring buffer into {\ttfamily arr} 

{\ttfamily Copy\+Func} is a per-\/element copy functor\+: for each element of {\ttfamily arr} {\ttfamily copy( arr\mbox{[}i\mbox{]}, source )} is called. The {\ttfamily Copy\+Func} signature\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{copy\_func}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{Q}}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{dest}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\_type}}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{elemen}}\ );}

\end{DoxyCode}


Returns {\ttfamily true} if success or {\ttfamily false} if not enough space in the ring \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a90a249b769ffc63a5936e9a3f48905ab}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!pop\_front@{pop\_front}}
\index{pop\_front@{pop\_front}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop\_front()}{pop\_front()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a90a249b769ffc63a5936e9a3f48905ab} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::pop\+\_\+front (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Removes front element of ring-\/buffer 

If the ring-\/buffer is empty, returns {\ttfamily false}. Otherwise, pops the first element from the ring. \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_ad82ea8c5781760b9af4839430b405738}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!pop\_front@{pop\_front}}
\index{pop\_front@{pop\_front}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop\_front()}{pop\_front()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_ad82ea8c5781760b9af4839430b405738} 
template$<$typename Traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::pop\+\_\+front (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\mbox{[}consumer\mbox{]} Pops top data 

Typical consumer workloop\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ allocates\ 1M\ ring\ buffer}}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{WeakRingBuffer<void>}}\ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}(\ 1024\ *\ 1024\ );}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{consumer\_thread}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}\ (\ \textcolor{keyword}{true}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}.\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a191edd5d7aeab6b39c787210e797716e}{front}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}.first\ ==\ \textcolor{keyword}{nullptr}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::cout}}\ <<\ \textcolor{stringliteral}{"{}The\ ring\ is\ empty"{}}\ <<\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::endl}};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Process\ data}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{process\_data}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}.first,\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}.second\ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Free\ buffer}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}.\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_a90a249b769ffc63a5936e9a3f48905ab}{pop\_front}}();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 7
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_ab4b441c26f1a1858f70dabb83cbbbdf9}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!pop\_with@{pop\_with}}
\index{pop\_with@{pop\_with}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop\_with()}{pop\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_ab4b441c26f1a1858f70dabb83cbbbdf9} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::pop\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_a13f1ba3ef5da174d07fbd3338271d1de}{dequeue\+\_\+with()}} 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_aa5967821e32c6427d646270526d0d2d2}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!push@{push}}
\index{push@{push}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_aa5967821e32c6427d646270526d0d2d2} 
std\+::enable\+\_\+if$<$ std\+::is\+\_\+constructible$<$ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}}, \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{\+::value}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \texorpdfstring{$\ast$}{*}}]{arr}{, }\item[{size\+\_\+t}]{count}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Batch push -\/ push array {\ttfamily arr} of size {\ttfamily count} with assignment as copy functor 

This function is equivalent for\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_aad5bd7aab55417b4b873f355ea1bca96}{push}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{arr}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{count}},\ [](\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\_type}}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{dest}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{src}}\ )\ \{\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{dest}}\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{src}};\ \}\ );}

\end{DoxyCode}


The function is available only if {\ttfamily std\+::is\+\_\+constructible$<$value\+\_\+type, Q$>$\+::value} is {\ttfamily true}.

Returns {\ttfamily true} if success or {\ttfamily false} if not enough space in the ring \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_aad5bd7aab55417b4b873f355ea1bca96}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!push@{push}}
\index{push@{push}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_aad5bd7aab55417b4b873f355ea1bca96} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} \texorpdfstring{$\ast$}{*}}]{arr}{, }\item[{size\+\_\+t}]{count}{, }\item[{Copy\+Func}]{copy}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Batch push -\/ push array {\ttfamily arr} of size {\ttfamily count} 

{\ttfamily Copy\+Func} is a per-\/element copy functor\+: for each element of {\ttfamily arr} {\ttfamily copy( dest, arr\mbox{[}i\mbox{]} )} is called. The {\ttfamily Copy\+Func} signature\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{copy\_func}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\_type}}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{element}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{source}}\ );}

\end{DoxyCode}
 Here {\ttfamily element} is uninitialized so you should construct it using placement new if needed; for example, if the element type is {\ttfamily str\+::string} and {\ttfamily Q} is {\ttfamily char const\texorpdfstring{$\ast$}{*}}, {\ttfamily copy} functor can be\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds::container::WeakRingBuffer<std::string>}}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{ringbuf}};}
\DoxyCodeLine{\textcolor{keywordtype}{char}\ \textcolor{keyword}{const}*\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{arr}}[10];}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{ringbuf}}.\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_aad5bd7aab55417b4b873f355ea1bca96}{push}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{arr}},\ 10,}
\DoxyCodeLine{\ \ \ \ [](\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::string}}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{element}},\ \textcolor{keywordtype}{char}\ \textcolor{keyword}{const}*\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{src}}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{new}(\ \&\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{element}}\ )\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::string}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{src}}\ );}
\DoxyCodeLine{\ \ \ \ \});}

\end{DoxyCode}
 You may use move semantics if appropriate\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds::container::WeakRingBuffer<std::string>}}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{ringbuf}};}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::string}}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{arr}}[10];}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{ringbuf}}.\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_aad5bd7aab55417b4b873f355ea1bca96}{push}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{arr}},\ 10,}
\DoxyCodeLine{\ \ \ \ [](\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::string}}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{element}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std}}:\textcolor{keywordtype}{string}\&\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{src}}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{new}(\ \&\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{element}}\ )\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::string}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::move}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{src}}\ ));}
\DoxyCodeLine{\ \ \ \ \});}

\end{DoxyCode}


Returns {\ttfamily true} if success or {\ttfamily false} if not enough space in the ring \Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_aebfdb5467709087ed61b7f1989f8f97c}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!push@{push}}
\index{push@{push}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_aebfdb5467709087ed61b7f1989f8f97c} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}} \&\&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_ad133fc131ad51e681a520ce77938d1da}{enqueue( value\+\_\+type\&\& )}} 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_ab1ebe914eb2b34bdc722a914d7a74d95}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!push@{push}}
\index{push@{push}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_ab1ebe914eb2b34bdc722a914d7a74d95} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_af1167c5484a24b46471b3fd9cb162b69}{value\+\_\+type}} const \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_a1fe6e8db6d610ff34ea049ff7d6aa1ae}{enqueue( value\+\_\+type const\& )}} 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a0f6f6e7b2487fedc256e0d3cbabb4ee1}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!push\_back@{push\_back}}
\index{push\_back@{push\_back}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push\_back()}{push\_back()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a0f6f6e7b2487fedc256e0d3cbabb4ee1} 
template$<$typename Traits$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::push\+\_\+back (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\mbox{[}producer\mbox{]} Push reserved bytes into ring 

The function pushes reserved buffer into the ring. Afte this call, the buffer becomes visible by a consumer\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ allocates\ 1M\ ring\ buffer}}
\DoxyCodeLine{\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{WeakRingBuffer<void>}}\ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}(\ 1024\ *\ 1024\ );}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{producer\_thread}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Get\ data\ of\ size\ N\ bytes}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}};1}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}*\ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}\ (\ \textcolor{keyword}{true}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ external\ data}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::tie}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}}\ )\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{get\_data}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}}\ ==\ \textcolor{keyword}{nullptr}\ )}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Allocates\ a\ buffer\ from\ the\ ring}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}\ =\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}.back(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}}\ );}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}}\ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::cout}}\ <<\ \textcolor{stringliteral}{"{}The\ ring\ is\ full"{}}\ <<\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{std::endl}};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{memcpy}}(\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{buf}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{data}},\ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}{size}}\ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Push\ data\ into\ the\ ring}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{theRing}}.push\_back();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 8
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_aab326acaba41c37f2acbd965cff654be}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!push\_back@{push\_back}}
\index{push\_back@{push\_back}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push\_back()}{push\_back()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_aab326acaba41c37f2acbd965cff654be} 
template$<$typename Traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::push\+\_\+back (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} const \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{size\+\_\+t}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\mbox{[}producer\mbox{]} Push {\ttfamily data} of {\ttfamily size} bytes into ring 

This function invokes {\ttfamily back( size )}, {\ttfamily memcpy( buf, data, size )} and {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_a0f6f6e7b2487fedc256e0d3cbabb4ee1}{push\+\_\+back()}} in one call. 函数调用图\+:
% FIG 9
\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a26f22f387b3a057715929ef6dca28b05}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!push\_with@{push\_with}}
\index{push\_with@{push\_with}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push\_with()}{push\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a26f22f387b3a057715929ef6dca28b05} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\+::push\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_weak_ring_buffer_aac8cccf098ab10638a020645b1c2e08d}{enqueue\+\_\+with()}} 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_a7478de455fded0e3a7ab8f65a9c70676}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!size@{size}}
\index{size@{size}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_a7478de455fded0e3a7ab8f65a9c70676} 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{\+::size}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the current size of ring buffer 

\Hypertarget{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3}\index{cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}!size@{size}}
\index{size@{size}!cds::container::WeakRingBuffer$<$ void, Traits $>$@{cds::container::WeakRingBuffer$<$ void, Traits $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_weak_ring_buffer_3_01void_00_01_traits_01_4_adb177419838e0e003f1fb110fc578bd3} 
template$<$typename Traits$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_weak_ring_buffer}{cds\+::container\+::\+Weak\+Ring\+Buffer}}$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, Traits $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{\+::size}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the current size of ring buffer 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/container/\mbox{\hyperlink{weak__ringbuffer_8h}{weak\+\_\+ringbuffer.\+h}}\end{DoxyCompactItemize}
