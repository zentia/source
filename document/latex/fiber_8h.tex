\doxysection{runtime/core/fiber.h 文件参考}
\hypertarget{fiber_8h}{}\label{fiber_8h}\index{runtime/core/fiber.h@{runtime/core/fiber.h}}
{\ttfamily \#include $<$marl/event.\+h$>$}\newline
{\ttfamily \#include $<$marl/future.\+h$>$}\newline
{\ttfamily \#include $<$marl/waitgroup.\+h$>$}\newline
{\ttfamily \#include $<$marl/finally.\+h$>$}\newline
{\ttfamily \#include $<$luisa/core/shared\+\_\+function.\+h$>$}\newline
{\ttfamily \#include $<$luisa/core/stl/functional.\+h$>$}\newline
{\ttfamily \#include $<$luisa/core/concepts.\+h$>$}\newline
fiber.\+h 的引用(Include)关系图\+:
% FIG 0
\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classluisa_1_1fiber_1_1scheduler}{luisa\+::fiber\+::scheduler}}
\item 
struct \mbox{\hyperlink{structluisa_1_1fiber_1_1event}{luisa\+::fiber\+::event}}
\item 
struct \mbox{\hyperlink{structluisa_1_1fiber_1_1detail_1_1_non_movable_atomic}{luisa\+::fiber\+::detail\+::\+Non\+Movable\+Atomic$<$ T $>$}}
\end{DoxyCompactItemize}
\doxysubsubsection*{命名空间}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacemarl}{marl}}
\item 
namespace \mbox{\hyperlink{namespaceluisa}{luisa}}
\item 
namespace \mbox{\hyperlink{namespaceluisa_1_1fiber}{luisa\+::fiber}}
\item 
namespace \mbox{\hyperlink{namespaceluisa_1_1fiber_1_1detail}{luisa\+::fiber\+::detail}}
\end{DoxyCompactItemize}
\doxysubsubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{fiber_8h_aa0950450ac6238c32f8ed7558b0c3e55}{LUISA\+\_\+\+MARL\+\_\+\+CONCAT\+\_\+}}(a,  \mbox{\hyperlink{offscreen_8c_a83fc1af92e29717b4513d121b0c72c7d}{b}})
\item 
\#define \mbox{\hyperlink{fiber_8h_aacb1f772b1e0a203f2cf47a79a4ab4fc}{LUISA\+\_\+\+MARL\+\_\+\+CONCAT}}(a,  \mbox{\hyperlink{offscreen_8c_a83fc1af92e29717b4513d121b0c72c7d}{b}})
\item 
\#define \mbox{\hyperlink{fiber_8h_a8ee481a37f0c6018894511605da33cdd}{luisa\+\_\+fiber\+\_\+defer}}(...)
\end{DoxyCompactItemize}
\doxysubsubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{namespaceluisa_1_1fiber_abec29e066dadc31c2d7175e0ff1c5d84}{luisa\+::fiber\+::counter}} = marl\+::\+Wait\+Group
\item 
using \mbox{\hyperlink{namespaceluisa_1_1fiber_ada8d5357e4857ee67a188f7cc9c56dd0}{luisa\+::fiber\+::lock}} = marl\+::lock
\item 
using \mbox{\hyperlink{namespaceluisa_1_1fiber_ae839f806db3679c7528ed7f72c0365d1}{luisa\+::fiber\+::condition\+\_\+variable}} = marl\+::\+Condition\+Variable
\item 
using \mbox{\hyperlink{namespaceluisa_1_1fiber_a1ab4d3cd3e173b0829d752498ac66eec}{luisa\+::fiber\+::mutex}} = marl\+::mutex
\item 
{\footnotesize template$<$typename T$>$ }\\using \mbox{\hyperlink{namespaceluisa_1_1fiber_ade0f9c58b88c65b0e9c7be95852327ff}{luisa\+::fiber\+::future}} = marl\+::\+Future$<$T$>$
\end{DoxyCompactItemize}
\doxysubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Iter$>$ }\\\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{namespaceluisa_1_1fiber_a04b927c638d97e1f4b8e6cb350fd6f3a}{luisa\+::fiber\+::\+\_\+advance}} (Iter \&\&ite, size\+\_\+t n)
\item 
{\footnotesize template$<$typename Iter$>$ }\\auto \mbox{\hyperlink{namespaceluisa_1_1fiber_afdff6ad0f3ceb944e7286bb7e36cd7aa}{luisa\+::fiber\+::\+\_\+distance}} (Iter ite, Iter last)
\item 
\mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} \mbox{\hyperlink{namespaceluisa_1_1fiber_a11e5ff95cfa6d1e4f3453bb9055f9f90}{luisa\+::fiber\+::worker\+\_\+thread\+\_\+count}} ()
\item 
{\footnotesize template$<$class F$>$ \newline
requires (std\+::is\+\_\+invocable\+\_\+v$<$F$>$)}\\\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{namespaceluisa_1_1fiber_a0312cee5225449694b925b669031973f}{luisa\+::fiber\+::schedule}} (F \&\&f) noexcept
\item 
{\footnotesize template$<$class F$>$ \newline
requires (std\+::is\+\_\+invocable\+\_\+v$<$F$>$)}\\auto \mbox{\hyperlink{namespaceluisa_1_1fiber_a9d91df5f51feb6ae6b84019f03242378}{luisa\+::fiber\+::async}} (F \&\&\mbox{\hyperlink{sugar_8h_aa2bc5aa57d417f3226228d9058ab9f20}{lambda}}) noexcept
\item 
{\footnotesize template$<$class F$>$ \newline
requires (std\+::is\+\_\+invocable\+\_\+v$<$F, \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}$>$)}\\auto \mbox{\hyperlink{namespaceluisa_1_1fiber_a34e9ebeeed94afe549df781bcd3a9a76}{luisa\+::fiber\+::async\+\_\+parallel}} (\mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} job\+\_\+count, F \&\&\mbox{\hyperlink{sugar_8h_aa2bc5aa57d417f3226228d9058ab9f20}{lambda}}, \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} internal\+\_\+jobs=1) noexcept
\item 
{\footnotesize template$<$class F$>$ \newline
requires (std\+::is\+\_\+invocable\+\_\+v$<$F, \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}$>$)}\\\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{namespaceluisa_1_1fiber_ada17d1d1013ce5a021a02c6f06ba6ed0}{luisa\+::fiber\+::parallel}} (\mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} job\+\_\+count, F \&\&\mbox{\hyperlink{sugar_8h_aa2bc5aa57d417f3226228d9058ab9f20}{lambda}}, \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} internal\+\_\+jobs=1) noexcept
\item 
{\footnotesize template$<$class F, class Iter$>$ \newline
requires (std\+::is\+\_\+invocable\+\_\+v$<$F, Iter, Iter$>$)}\\\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{namespaceluisa_1_1fiber_a02fd5753b5921b23e4e46e3e9e2e8c8f}{luisa\+::fiber\+::parallel}} (Iter begin, Iter end, size\+\_\+t batch, F f, size\+\_\+t inplace\+\_\+batch\+\_\+threahold=1ull)
\item 
{\footnotesize template$<$class F, class Iter$>$ \newline
requires (std\+::is\+\_\+invocable\+\_\+v$<$F, Iter, Iter$>$)}\\auto \mbox{\hyperlink{namespaceluisa_1_1fiber_ac585c285cfb2c08cfdbe57ed73ec5448}{luisa\+::fiber\+::async\+\_\+parallel}} (Iter begin, Iter end, size\+\_\+t batch, F f, size\+\_\+t inplace\+\_\+batch\+\_\+threahold=1ull)
\end{DoxyCompactItemize}


\doxysubsection{宏定义说明}
\Hypertarget{fiber_8h_a8ee481a37f0c6018894511605da33cdd}\index{fiber.h@{fiber.h}!luisa\_fiber\_defer@{luisa\_fiber\_defer}}
\index{luisa\_fiber\_defer@{luisa\_fiber\_defer}!fiber.h@{fiber.h}}
\doxysubsubsection{\texorpdfstring{luisa\_fiber\_defer}{luisa\_fiber\_defer}}
{\footnotesize\ttfamily \label{fiber_8h_a8ee481a37f0c6018894511605da33cdd} 
\#define luisa\+\_\+fiber\+\_\+defer(\begin{DoxyParamCaption}\item[{}]{}...{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{fiber_8h_aacb1f772b1e0a203f2cf47a79a4ab4fc}{LUISA\_MARL\_CONCAT}}(defer\_,\ \_\_LINE\_\_)\ =\ marl::make\_finally([\&]()\ \textcolor{keyword}{noexcept}\ \{\ \_\_VA\_ARGS\_\_;\ \})}

\end{DoxyCode}
\Hypertarget{fiber_8h_aacb1f772b1e0a203f2cf47a79a4ab4fc}\index{fiber.h@{fiber.h}!LUISA\_MARL\_CONCAT@{LUISA\_MARL\_CONCAT}}
\index{LUISA\_MARL\_CONCAT@{LUISA\_MARL\_CONCAT}!fiber.h@{fiber.h}}
\doxysubsubsection{\texorpdfstring{LUISA\_MARL\_CONCAT}{LUISA\_MARL\_CONCAT}}
{\footnotesize\ttfamily \label{fiber_8h_aacb1f772b1e0a203f2cf47a79a4ab4fc} 
\#define LUISA\+\_\+\+MARL\+\_\+\+CONCAT(\begin{DoxyParamCaption}\item[{}]{a}{, }\item[{}]{\mbox{\hyperlink{offscreen_8c_a83fc1af92e29717b4513d121b0c72c7d}{b}}}{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{fiber_8h_aa0950450ac6238c32f8ed7558b0c3e55}{LUISA\_MARL\_CONCAT\_}}(a,\ \mbox{\hyperlink{offscreen_8c_a83fc1af92e29717b4513d121b0c72c7d}{b}})}

\end{DoxyCode}
\Hypertarget{fiber_8h_aa0950450ac6238c32f8ed7558b0c3e55}\index{fiber.h@{fiber.h}!LUISA\_MARL\_CONCAT\_@{LUISA\_MARL\_CONCAT\_}}
\index{LUISA\_MARL\_CONCAT\_@{LUISA\_MARL\_CONCAT\_}!fiber.h@{fiber.h}}
\doxysubsubsection{\texorpdfstring{LUISA\_MARL\_CONCAT\_}{LUISA\_MARL\_CONCAT\_}}
{\footnotesize\ttfamily \label{fiber_8h_aa0950450ac6238c32f8ed7558b0c3e55} 
\#define LUISA\+\_\+\+MARL\+\_\+\+CONCAT\+\_\+(\begin{DoxyParamCaption}\item[{}]{a}{, }\item[{}]{\mbox{\hyperlink{offscreen_8c_a83fc1af92e29717b4513d121b0c72c7d}{b}}}{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{a\#\#\mbox{\hyperlink{offscreen_8c_a83fc1af92e29717b4513d121b0c72c7d}{b}}}

\end{DoxyCode}
