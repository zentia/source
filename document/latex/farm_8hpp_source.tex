\doxysection{farm.\+hpp}
\hypertarget{farm_8hpp_source}{}\label{farm_8hpp_source}\index{external/taskflow/3rd-\/party/ff/farm.hpp@{external/taskflow/3rd-\/party/ff/farm.hpp}}
\mbox{\hyperlink{farm_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/*-\/\ Mode:\ C++;\ tab-\/width:\ 4;\ c-\/basic-\/offset:\ 4;\ indent-\/tabs-\/mode:\ nil\ -\/*-\/\ */}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{comment}{/*\ ***************************************************************************}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ *\ \ }}
\DoxyCodeLine{00034\ \textcolor{comment}{\ *\ \ FastFlow\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or\ modify\ it}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ *\ \ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public\ License\ version\ 3\ as}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ *\ \ published\ by\ the\ Free\ Software\ Foundation.}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ *\ \ Starting\ from\ version\ 3.0.1\ FastFlow\ is\ dual\ licensed\ under\ the\ GNU\ LGPLv3}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ *\ \ or\ MIT\ License\ (https://github.com/ParaGroup/WindFlow/blob/vers3.x/LICENSE.MIT)}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ *\ \ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,\ but\ WITHOUT}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ *\ \ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of\ MERCHANTABILITY\ or}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ *\ \ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{00043\ \textcolor{comment}{\ *\ \ License\ for\ more\ details.}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ *\ \ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public\ License}}
\DoxyCodeLine{00046\ \textcolor{comment}{\ *\ \ along\ with\ this\ program;\ if\ not,\ write\ to\ the\ Free\ Software\ Foundation,}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ *\ \ Inc.,\ 59\ Temple\ Place\ -\/\ Suite\ 330,\ Boston,\ MA\ 02111-\/1307,\ USA.}}
\DoxyCodeLine{00048\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00049\ \textcolor{comment}{\ ****************************************************************************}}
\DoxyCodeLine{00050\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{comment}{/*}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ *\ \ \ Author:}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ *\ \ \ \ \ \ Massimo\ Torquati}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#ifndef\ FF\_FARM\_HPP}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#define\ FF\_FARM\_HPP}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#include\ <iosfwd>}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{external_2taskflow_23rd-party_2ff_2platforms_2_platform_8h}{ff/platforms/platform.h}}>}}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{lb_8hpp}{ff/lb.hpp}}>}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{gt_8hpp}{ff/gt.hpp}}>}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{node_8hpp}{ff/node.hpp}}>}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{multinode_8hpp}{ff/multinode.hpp}}>}}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{ordering__policies_8hpp}{ff/ordering\_policies.hpp}}>}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{all2all_8hpp}{ff/all2all.hpp}}>}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceff}{ff}}\ \{}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \textcolor{comment}{/*\ This\ file\ provides\ the\ following\ classes:}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ *\ \ \ ff\_farm\ \ \ \ task-\/farm\ pattern\ }}
\DoxyCodeLine{00077\ \textcolor{comment}{\ *\ \ \ ff\_Farm\ \ \ \ typed\ version\ of\ the\ task-\/farm\ pattern\ (requires\ c++11)}}
\DoxyCodeLine{00078\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00079\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{comment}{//\ forward\ decls}}
\DoxyCodeLine{00082\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}};}
\DoxyCodeLine{00083\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceff_a7f7589d2b1d91f35218bad0cd1370fc4}{optimize\_static}}(\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1_opt_level}{OptLevel}}\&);}
\DoxyCodeLine{00084\ \ \ \ \ }
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00100\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__farm_a9b16234269f61fb52814e520773fba3e}{ff\_farm}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ \{}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_aec38d3c8679d8f51871f0f94eeb53f9f}{optimize\_static}}(\mbox{\hyperlink{classff_1_1ff__farm_a9b16234269f61fb52814e520773fba3e}{ff\_farm}}\&,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1_opt_level}{OptLevel}}\&);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/\ strict\ round-\/robin\ load\ balancer\ and\ gatherer\ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ This\ the\ default\ policy\ used\ by\ the\ ff\_farm\ when\ set\_ordered}}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ is\ called}}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_aa454c09616530b87483d0bd6f2f5219e}{ofarm\_lb}}:\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a8b8f228fd4a63d3da50be60d2b28e699}{ff\_loadbalancer}}\ \{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}}\ =\ 0;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_aa454c09616530b87483d0bd6f2f5219e}{ofarm\_lb}}(\textcolor{keywordtype}{int}\ max\_num\_workers):\mbox{\hyperlink{classff_1_1ff__loadbalancer_a8b8f228fd4a63d3da50be60d2b28e699}{ff\_loadbalancer}}(max\_num\_workers),\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}}(0)\ \{\}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a2b65da3536e9cffcd2888ee9ffbbf7}{selectworker}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}};\ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a9ad6cd4fbb0aa88ebe6a8fecab52d011}{schedule\_task}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry,\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks)\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}\ =\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a57439ed486af8f0908a37f529f7943b6}{ff\_loadbalancer::schedule\_task}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ retry,\ ticks);}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}})\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}}\ =\ (\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}}+1)\ \%\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a3b941ed604a60ad7356945071b6ed6d5}{getnworkers}}();}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}};}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a5dd4a05fbc2e8618a78eb63be8993270}{broadcast\_task}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \&\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}\ =\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_ae0b8657d7ae7f0c48c3d71f0220e0b70}{getWorkers}}();}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__loadbalancer_a790fe831a43f554d3cab5fd1167c8a00}{blocking\_out}})\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ nw\ =\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a3b941ed604a60ad7356945071b6ed6d5}{getnworkers}}();}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}};\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nw;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (!\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__node_ac257caa02b62b4546345560e649839dc}{put}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\mbox{\hyperlink{classff_1_1ff__loadbalancer_a65d4ab6410a19c33097b1e2443930eea}{prod\_m}});}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ tv;}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a5b1f0a8d2b5b3ed69bee02a6b2d3041e}{timedwait\_timeout}}(tv);}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pthread\_cond\_timedwait(\mbox{\hyperlink{classff_1_1ff__loadbalancer_ae05b4fbc254e7687c8356be169fdf094}{prod\_c}},\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a65d4ab6410a19c33097b1e2443930eea}{prod\_m}},\&tv);}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\mbox{\hyperlink{classff_1_1ff__loadbalancer_a65d4ab6410a19c33097b1e2443930eea}{prod\_m}});\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a4f5f24de898f485099367d4a17d43d13}{put\_done}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (!\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__node_ac257caa02b62b4546345560e649839dc}{put}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\mbox{\hyperlink{classff_1_1ff__loadbalancer_a65d4ab6410a19c33097b1e2443930eea}{prod\_m}});}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ tv;}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a5b1f0a8d2b5b3ed69bee02a6b2d3041e}{timedwait\_timeout}}(tv);}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pthread\_cond\_timedwait(\mbox{\hyperlink{classff_1_1ff__loadbalancer_ae05b4fbc254e7687c8356be169fdf094}{prod\_c}},\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a65d4ab6410a19c33097b1e2443930eea}{prod\_m}},\&tv);}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\mbox{\hyperlink{classff_1_1ff__loadbalancer_a65d4ab6410a19c33097b1e2443930eea}{prod\_m}});\ }
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a4f5f24de898f485099367d4a17d43d13}{put\_done}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ }
\DoxyCodeLine{00142\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ callbackOut(\textcolor{keyword}{this});}
\DoxyCodeLine{00144\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}};\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__loadbalancer_a3b941ed604a60ad7356945071b6ed6d5}{getnworkers}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (!\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__node_ac257caa02b62b4546345560e649839dc}{put}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a6f332ed5f5c98d391298afed648098e4}{losetime\_out}}();}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (!\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__node_ac257caa02b62b4546345560e649839dc}{put}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a6f332ed5f5c98d391298afed648098e4}{losetime\_out}}();}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00155\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ callbackOut(\textcolor{keyword}{this});}
\DoxyCodeLine{00157\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a1fc2920bb1dde306c5d8c21d93b6f985}{thaw}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_afcce87c8c005a29a1b182e16494857a0}{freeze}}=\textcolor{keyword}{false},\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw=-\/1)\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nw\ <\ (\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}})\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}})\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}}\ =\ 0;}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a5fec4d96961280ef4d4d2fe91da1a364}{ff\_loadbalancer::thaw}}(\mbox{\hyperlink{classff_1_1ff__loadbalancer_afcce87c8c005a29a1b182e16494857a0}{freeze}},nw);}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7c0694f06d6497bd5458aa457e209874}{thawWorkers}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_afcce87c8c005a29a1b182e16494857a0}{freeze}}=\textcolor{keyword}{false},\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw=-\/1)\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nw\ <\ (\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}})\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}})\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}}\ =\ 0;}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a37918d461d1750e68a5b3e6352ff85d6}{ff\_loadbalancer::thawWorkers}}(\mbox{\hyperlink{classff_1_1ff__loadbalancer_afcce87c8c005a29a1b182e16494857a0}{freeze}},nw);}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a38dc27bec68076a2f48ffdfc6414686b}{ff\_send\_out\_to}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry,\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks)\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb_a7a8d5b37b661aae1ad6b5d953affeb96}{victim}}==(\textcolor{keywordtype}{size\_t})\textcolor{keywordtype}{id})\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__loadbalancer_a19ea5e6e2013226b016823987642287a}{ff\_loadbalancer::ff\_send\_out\_to}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keywordtype}{id},\ retry,\ ticks);}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00171\ \ \ \ \ \};}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a99b34037ed9c3671e7c57b90f46d6202}{ofarm\_gt}}:\ \mbox{\hyperlink{classff_1_1ff__gatherer_afda3d12631bd6dfaea8f59816036a559}{ff\_gatherer}}\ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a99b34037ed9c3671e7c57b90f46d6202}{ofarm\_gt}}(\textcolor{keywordtype}{int}\ max\_num\_workers):}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_afda3d12631bd6dfaea8f59816036a559}{ff\_gatherer}}(max\_num\_workers),\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6d175437637c3c13fd6db52da99f4e28}{dead}}(max\_num\_workers)\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6d175437637c3c13fd6db52da99f4e28}{dead}}.resize(max\_num\_workers);}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_ac02538a8258bc00314b9fda8d2fd9650}{selectworker}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}};\ \}}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a7fa3971222ebe953301d3bf598bf9f9f}{updatenextone}}()\ \{}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{cpq__pdes_8cpp_a455a4d1d80a69762a133ad026f1cba43}{start}}\ =\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}};}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}}=\ (\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}}+1)\ \%\ \mbox{\hyperlink{classff_1_1ff__gatherer_a06a7b49dca58753e8bb91a347adde5b0}{getrunning}}();}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}(\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6d175437637c3c13fd6db52da99f4e28}{dead}}[\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}}]\ \&\&\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}}\ !=\ \mbox{\hyperlink{cpq__pdes_8cpp_a455a4d1d80a69762a133ad026f1cba43}{start}});}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a67ec35a146cd358e72c3b4601d94ec1c}{gather\_task}}(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1f7955f1c6e048ec38dd1209e5ad2802}{ff\_gatherer::gather\_task}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ assert((\textcolor{keywordtype}{size\_t})\mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}\ ==\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}});}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}}\ ||\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}==\mbox{\hyperlink{namespaceff_acaef0c2eb0aeb203e6d74b0859a543fb}{FF\_EOSW}}\ ||\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}==\mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}})}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6d175437637c3c13fd6db52da99f4e28}{dead}}[\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}}]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a7fa3971222ebe953301d3bf598bf9f9f}{updatenextone}}();}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}};}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a4f57858748b8ebf608517fab309e4334}{svc\_init}}()\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6d175437637c3c13fd6db52da99f4e28}{dead}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6d175437637c3c13fd6db52da99f4e28}{dead}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\textcolor{keyword}{false};}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a17cbccbcde413256a7025e9e29fa0f93}{ff\_gatherer::svc\_init}}();}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a4b5179b39064ed712354d9c4a702c1a7}{thaw}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a24d0cd9aa197dd2c89859f036373b238}{freeze}}=\textcolor{keyword}{false},\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw=-\/1)\ \{}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nw\ <\ (\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}})\mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}})\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}}\ =\ 0;}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a106a2348a0a38d44085eb3c6071643e7}{ff\_gatherer::thaw}}(\mbox{\hyperlink{classff_1_1ff__farm_a24d0cd9aa197dd2c89859f036373b238}{freeze}},nw);}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \}\ \ \ \ }
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6f2324c42b04f3003acbb913d7f42cb0}{victim}}\ =\ 0;}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<bool>}}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt_a6d175437637c3c13fd6db52da99f4e28}{dead}};}
\DoxyCodeLine{00202\ \ \ \ \ \};\ \ \ \ }
\DoxyCodeLine{00203\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a02802ccb0a092021e4e0ed109b89ab43}{cardinality}}(\mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}})\ \ \{\ }
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ card=0;}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ }
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ card\ +=\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_aadaff30ac3a0ec01d035f761705c9a30}{cardinality}}(\mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}});}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>set\_barrier(\mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}});}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>set\_barrier(\mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}});}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (card\ +\ 1\ +\ ((\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})?1:0));}
\DoxyCodeLine{00213\ \ \ \ \ \}}
\DoxyCodeLine{00214\ \ \ \ \ }
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a848992cce0933404c983529a57ef323b}{prepare}}()\ \{}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ nworkers\ =\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nworkers==0\ ||\ nworkers\ >\ \mbox{\hyperlink{classff_1_1ff__farm_adc2955274f3a4238e31805932f57d0c3}{max\_nworkers}})\ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM:\ wrong\ number\ of\ workers\(\backslash\)n"{}});}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>set\_id(\textcolor{keywordtype}{int}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}));}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ if\ the\ farm\ is\ in\ a\ master-\/worker\ configuration,\ all\ workers\ must\ be\ either}}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ sequential\ or\ parallel\ \ building\ block}}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker())\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_parallel\_bb\ =\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>isAll2All()\ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>isFarm()\ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>isPipe();}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>parallel\_workers\ =\ is\_parallel\_bb;}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=1;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ tmp=\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>isAll2All()\ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>isFarm()\ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>isPipe();}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tmp\ !=\ is\_parallel\_bb)\ \{}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ prepare,\ farm\ in\ master-\/worker\ configuration\ but\ with\ non\ homogeneous\ workers\(\backslash\)n"{}});}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ordering}}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a0f1b70afc67104cc2042bafbcc3fe376}{ordered}})\ \{}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ this\ constraint\ must\ be\ relaxed!!!!!!}}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a431edc561638fb362e3c462b0e9ab500}{isFarm}}()\ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__node_af6f2c022154421e2908065194b3cc75e}{isPipe}}()\ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a1773ee1697f8f1a45096dafb5ffcd8de}{isMultiInput}}()}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac9df391522afe1909fcc685506e940d6}{isMultiOutput}}()\ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__node_ac8e132cbcab68af6a4ca13bbcccd62f3}{isAll2All}}()\ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__node_a96dcc6dd5c2dd5d783959aa45c44b087}{isComp}}()\ )\ \{}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM:\ ordered\ farm\ is\ currently\ supported\ only\ for\ standard\ node!\(\backslash\)n"{}});}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}})\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ordered__lb}{ordered\_lb}}*\ \_lb=\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ordered__lb}{ordered\_lb}}(nworkers);}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ordered__gt}{ordered\_gt}}*\ \_gt=\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ordered__gt}{ordered\_gt}}(nworkers);}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\_lb);\ assert(\_gt);}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a129434f84a4efbc25eb24e93f2956fb6}{ordering\_Memory}}.resize(nworkers\ *\ (2*\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ff\_farm::ondemand\_buffer}}()+3)+\mbox{\hyperlink{classff_1_1ff__farm_a5c87be22f9a154584ad748ef82b55c40}{ordering\_memsize}});}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_lb-\/>\mbox{\hyperlink{structff_1_1ordered__lb_a59740834975bd878679e986ac67e7aab}{init}}(\mbox{\hyperlink{classff_1_1ff__farm_a129434f84a4efbc25eb24e93f2956fb6}{ordering\_Memory}}.begin(),\ \mbox{\hyperlink{classff_1_1ff__farm_a129434f84a4efbc25eb24e93f2956fb6}{ordering\_Memory}}.size());}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_gt-\/>\mbox{\hyperlink{structff_1_1ordered__gt_adacec17f55ddc91a6fad678bb51d7df1}{init}}(\mbox{\hyperlink{classff_1_1ff__farm_a5c87be22f9a154584ad748ef82b55c40}{ordering\_memsize}});}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a3068153fc80df8e02564c157b2f783c4}{setlb}}(\_lb,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a6abf216fac9a398d5176ff6b90b8d792}{setgt}}(\_gt,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nworkers;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1_ordered_worker_wrapper}{OrderedWorkerWrapper}}(\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ \mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}});}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb}{ofarm\_lb}}*\ \_lb\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__lb}{ofarm\_lb}}(nworkers);}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt}{ofarm\_gt}}*\ \_gt\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff__farm_1_1ofarm__gt}{ofarm\_gt}}(nworkers);}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}});\ assert(\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}});}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a3068153fc80df8e02564c157b2f783c4}{setlb}}(\_lb,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a6abf216fac9a398d5176ff6b90b8d792}{setgt}}(\_gt,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ accelerator}}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}})\ \{\ }
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_aa9110a6e4a29c680ec9e9749083473f8}{create\_input\_buffer}}(\mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}},\ \mbox{\hyperlink{classff_1_1ff__farm_aec6dbb2ba9178a0898b393085ed9cbc8}{fixedsizeIN}})<0)\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ creating\ input\ buffer\(\backslash\)n"{}});}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5c5dc54cb6a91caacf2d316f5c3a19ad}{hasCollector}}())\ \{}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ the\ queue\ is\ forced\ to\ be\ unbounded}}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae103f480a8fd1b62d697c50452ae035e}{create\_output\_buffer}}(\mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}},\ \textcolor{keyword}{false})<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nworkers;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a7542a58b0efa58291c12d2926c2a78d4}{ff\_a2a}}*\ a2a\_first\ =\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ Emitter\ sees\ this\ all-\/to-\/all}}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a7542a58b0efa58291c12d2926c2a78d4}{ff\_a2a}}*\ a2a\_last\ \ =\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ Collector\ sees\ this\ all-\/to-\/all}}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__node_ac8e132cbcab68af6a4ca13bbcccd62f3}{isAll2All}}())\ \{}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a2a\_first\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__node_a7542a58b0efa58291c12d2926c2a78d4}{ff\_a2a}}*\textcolor{keyword}{>}(\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a2a\_last\ \ =\ a2a\_first;\ }
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \ \textcolor{comment}{//\ TODO:\ farm\ with\ workers\ A2A\ or\ pipeline\ ending\ with\ A2A}}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__node_af6f2c022154421e2908065194b3cc75e}{isPipe}}())\ \{}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a3f36c1cb1d96150c90c517c1cae31d7e}{ff\_pipeline}}*\ pipe=\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__node_a3f36c1cb1d96150c90c517c1cae31d7e}{ff\_pipeline}}*\textcolor{keyword}{>}(\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*\ node0\ =\ pipe-\/>\mbox{\hyperlink{classff_1_1ff__pipeline_aeb7333c888ddf66d2db7eafa116a078e}{get\_node}}(0);}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*\ nodeN\ =\ pipe-\/>\mbox{\hyperlink{classff_1_1ff__pipeline_a31b7be04692e62622384586cb48f777a}{get\_lastnode}}();}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node0-\/>\mbox{\hyperlink{classff_1_1ff__node_ac8e132cbcab68af6a4ca13bbcccd62f3}{isAll2All}}())\ \{}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a2a\_first\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__node_a7542a58b0efa58291c12d2926c2a78d4}{ff\_a2a}}*\textcolor{keyword}{>}(node0);}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nodeN-\/>\mbox{\hyperlink{classff_1_1ff__node_ac8e132cbcab68af6a4ca13bbcccd62f3}{isAll2All}}())\ \{}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a2a\_last\ \ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__node_a7542a58b0efa58291c12d2926c2a78d4}{ff\_a2a}}*\textcolor{keyword}{>}(nodeN);}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a2a\_first)\ \{\ \ }
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//NOTE:\ if\ the\ worker\ is\ an\ A2A\ or\ a\ pipe\ starting\ with\ an\ A2A,\ the\ L-\/Workers}}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ are\ transformed\ by\ the\ prepare,\ that's\ why\ the\ prepare\ must\ be\ done}}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ before\ adding\ workers\ to\ the\ emitter}}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a2a\_first-\/>\mbox{\hyperlink{classff_1_1ff__a2a_ae6f7554a55e15bb9ee506599fd0b8275}{prepare}}()<0)\ \{}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ preparing\ worker\ A2A\ \%d\(\backslash\)n"{}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a2a\_first-\/>\mbox{\hyperlink{classff_1_1ff__a2a_acfa93ebe15d0294127628e2696f950dc}{create\_input\_buffer}}((\textcolor{keywordtype}{int})\ (\mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}\ ?\ \mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}:\ \mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}}),\ }
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}\ ?\ \textcolor{keyword}{true}:\ \mbox{\hyperlink{classff_1_1ff__farm_aec6dbb2ba9178a0898b393085ed9cbc8}{fixedsizeIN}}))<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\ W1\ =\ a2a\_first-\/>\mbox{\hyperlink{classff_1_1ff__a2a_aab5b0ed53d04a6ae56fcc801f7f7ce7c}{getFirstSet}}();}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>register\_worker(W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_aa9110a6e4a29c680ec9e9749083473f8}{create\_input\_buffer}}((\textcolor{keywordtype}{int})\ (\mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}\ ?\ \mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}:\ \mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}}),\ }
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}\ ?\ \textcolor{keyword}{true}:\ \mbox{\hyperlink{classff_1_1ff__farm_aec6dbb2ba9178a0898b393085ed9cbc8}{fixedsizeIN}}))<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>register\_worker(\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a2a\_last)\ \{}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a2a\_first\ !=\ a2a\_last)\ \{}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//NOTE:\ if\ the\ worker\ is\ an\ A2A\ or\ a\ pipe\ ending\ with\ an\ A2A,\ the\ R-\/Workers}}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ are\ transformed\ by\ the\ prepare,\ that's\ why\ the\ prepare\ must\ be\ done}}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ before\ adding\ workers\ to\ the\ collector}}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a2a\_last-\/>\mbox{\hyperlink{classff_1_1ff__a2a_ae6f7554a55e15bb9ee506599fd0b8275}{prepare}}()<0)\ \{}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ preparing\ worker\ A2A\ \%d\ (collector\ side)\(\backslash\)n"{}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\ W2\ =\ a2a\_last-\/>\mbox{\hyperlink{classff_1_1ff__a2a_a15e634b23e08ae53f1d5296cae30fb9d}{getSecondSet}}();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ If\ the\ internal\ A2A\ has\ feedbacks\ toward\ the\ Emitter\ (i.e.\ master-\/worker)\ and\ there\ is\ also\ the\ collector}}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ then\ this\ case\ is\ not\ properly\ handled\ because\ R-\/Workers\ are\ not\ connected\ to\ the\ collector}}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker())\ \{}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ the\ following\ call\ might\ fail\ because\ the\ buffers\ were\ already\ created\ for\ example\ by}}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ pipeline\ that\ contains\ this\ stage}}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a2a\_last-\/>\mbox{\hyperlink{classff_1_1ff__a2a_a02634595cbaef2a830dcef756f0d39b4}{create\_output\_buffer}}(\mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}},(\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker()?\textcolor{keyword}{false}:\mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}}));}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(1);}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>get\_out\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()>0);}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}=0;\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}<\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>register\_worker(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]);}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM\ feature\ not\ yet\ supported\ (1)\(\backslash\)n"{}});}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ abort();\ \textcolor{comment}{//\ <-\/-\/-\/-\/\ FIX}}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ there\ is\ no\ collector}}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}.size())\ \{\ }
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(W2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}()\ ==\ \mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}.size());}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_adf17c22366b2e7bf3bd17fe53961f9c4}{set\_output}}(\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}])<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ for\ the\ moment\ we\ support\ only\ feedback\ channels\ and\ not\ both\ feedback\ and\ forward\ channels}}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ for\ the\ last\ stages\ of\ the\ last\ all-\/to-\/all}}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker())\ \{}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a2a\_last-\/>\mbox{\hyperlink{classff_1_1ff__a2a_a02634595cbaef2a830dcef756f0d39b4}{create\_output\_buffer}}(\mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}},(\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker()?\textcolor{keyword}{false}:\mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}}))<0)\ \{}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM\ failed\ to\ create\ feedback\ channels\(\backslash\)n"{}});}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00381\ }
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(1);}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>get\_out\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()>0);}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}=0;\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}<\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>set\_input\_feedback(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]);}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00392\ }
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ }
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ helper\ function}}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ create\_feedback\_buffers\ =\ [\&]()\ \{}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ idx=0;}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(1);}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>get\_out\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}=0;\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}<\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__buffernode}{ff\_buffernode}}*\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff__buffernode}{ff\_buffernode}}(\mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}},\ \textcolor{keyword}{false},\ idx++);}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.push\_back(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>set\_output\_feedback(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ REMEMBER:\ if\ the\ worker\ is\ not\ parallel\ (i.e.,\ farm,\ a2a,\ pipeline)\ then}}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ lb\ adds\ the\ workers\ to\ the\ 'availworkers'\ array\ directly,}}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ so\ set\_input\_feedback\ must\ be\ avoided\ to\ don't\ have\ duplicates.}}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>parallel\_workers)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>set\_input\_feedback(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>set\_output\_buffer(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>get\_out\_buffer());}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{\ \ \ \textcolor{comment}{//\ there\ is\ a\ collector\ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__node_a334096bd901d8b6c2ae2d73877846ff0}{get\_out\_buffer}}()==\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac9df391522afe1909fcc685506e940d6}{isMultiOutput}}())\ \{\ \ \ \textcolor{comment}{//\ the\ worker\ is\ multi-\/output}}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker())\ \{\ \ \ \textcolor{comment}{//\ there\ is\ a\ feedback}}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ create\_feedback\_buffers();}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(\mbox{\hyperlink{config_8hpp_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}});}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>get\_out\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()>0)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ idx=0;}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}=0;\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}<\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff__buffernode}{ff\_buffernode}}(\mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}},\mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}},\ idx++);}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.push\_back(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac9df391522afe1909fcc685506e940d6}{isMultiOutput}}())\ \{}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_adf17c22366b2e7bf3bd17fe53961f9c4}{set\_output}}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_adf17c22366b2e7bf3bd17fe53961f9c4}{set\_output}}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>register\_worker(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \ \{\ \textcolor{comment}{//\ single\ node\ multi-\/output}}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff__buffernode}{ff\_buffernode}}(\mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}},\mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});\ }
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.push\_back(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>set\_output(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker())\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>set\_output\_buffer(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>get\_out\_buffer());}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>register\_worker(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ standard\ worker\ or\ composition\ where\ the\ second\ stage\ is\ not\ multi-\/output}}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ae103f480a8fd1b62d697c50452ae035e}{create\_output\_buffer}}(\mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}},(\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker()?\textcolor{keyword}{false}:\mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}}))<0)}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(!\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker());}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>register\_worker(\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ is\ possible\ only\ if\ the\ collector\ filter\ is\ a\ multi-\/output\ node}}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}.size())\ \{\ }
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert((\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ !=\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>isMultiOutput());}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>set\_output(\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}});}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ there\ is\ not\ a\ collector}}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__node_a334096bd901d8b6c2ae2d73877846ff0}{get\_out\_buffer}}()==\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac9df391522afe1909fcc685506e940d6}{isMultiOutput}}())\ \{}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker())\ \{\ \ \ \ \textcolor{comment}{//\ feedback\ channels\ from\ workers}}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ create\_feedback\_buffers();}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}.size())\ \{\ }
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>set\_output(\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}});\ }
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \ \textcolor{comment}{//\ the\ worker\ is\ not\ multi-\/output}}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}.size())\ \{}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__farm_a06e7e9cce89a1e7309c3ba6ad60da482}{outputNodesFeedback}}.size()==0);}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(!\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker());\ \ \ \ \textcolor{comment}{//\ no\ master-\/worker\ }}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}.size()\ ==\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size());\ \textcolor{comment}{//\ same\ cardinality}}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>set\_output\_buffer(\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__node_adfa6f2bc22637590349e94ecb9b3c8eb}{get\_in\_buffer}}());}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a06e7e9cce89a1e7309c3ba6ad60da482}{outputNodesFeedback}}.size())\ \{}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(!\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker());\ \ \ \ \textcolor{comment}{//\ no\ master-\/worker\ }}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__farm_a06e7e9cce89a1e7309c3ba6ad60da482}{outputNodesFeedback}}.size()\ ==\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size());\ \textcolor{comment}{//\ same\ cardinality}}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>set\_output\_buffer(\mbox{\hyperlink{classff_1_1ff__farm_a06e7e9cce89a1e7309c3ba6ad60da482}{outputNodesFeedback}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__node_adfa6f2bc22637590349e94ecb9b3c8eb}{get\_in\_buffer}}());}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker())\ \{}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ create\_feedback\_buffers();}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ preparing\ emitter}}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}})\ \{}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>isMultiOutput())\ \{}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ can\ use\ a\ multi-\/output\ node\ as\ emitter\ or\ a\ composition\ where\ the\ }}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ last\ stage\ is\ a\ multi-\/output\ node\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>setlb(\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}});}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>set\_filter(\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}})<0)\ \{}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ preparing\ emitter\ filter\(\backslash\)n"{}});}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ emitter\ is\ a\ composition\ we\ have\ to\ call\ prepare}}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ to\ be\ sure\ to\ have\ a\ consistent\ gt}}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>isComp())\ \{}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(\mbox{\hyperlink{config_8hpp_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}});}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>get\_in\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size())\ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>set\_input(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>prepare()<0)\ \{\ }
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ preparing\ emitter\ filter\(\backslash\)n"{}});}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ preparing\ collector}}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}\ \&\&\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ !=\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ )\ \{}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>isMultiInput())\{}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>setgt(\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}});}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>isMultiOutput())}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>prepare()<0)\ \{}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ preparing\ multi-\/output\ collector\ filter\(\backslash\)n"{}});}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>isComp())\ }
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>prepare()<0)\ \{\ }
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ preparing\ collector\ filter\(\backslash\)n"{}});}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ if\ the\ collector\ has\ a\ filter\ and\ the\ set\_output\_blocking\ has}}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ been\ already\ executed\ (for\ example\ by\ the\ pipeline),\ then\ we}}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ have\ to\ set\ the\ blocking\ stuff\ also\ for\ the\ filter}}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>set\_filter(\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}})<0)\ \{}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ preparing\ collector\ filter\(\backslash\)n"{}});}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ blocking\ stuff\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nworkers;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_afbe820f62fc8f1a713800390f601f88a}{init\_input\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ init\ input\ blocking\ mode\ for\ worker\ \%d\(\backslash\)n"{}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac1f68c3934cd7ace4e4285804d57e948}{init\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ init\ output\ blocking\ mode\ for\ worker\ \%d\(\backslash\)n"{}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00562\ }
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ if\ the\ emitter\ filter\ is\ a\ multi-\/output\ node,\ it\ shares}}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ the\ same\ lb\ of\ the\ farm.}}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ if\ the\ collector\ filter\ is\ a\ multi-\/input\ node,\ it\ shares}}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ the\ same\ gt\ of\ the\ farm.}}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>init\_output\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ init\ output\ blocking\ mode\ for\ LB\(\backslash\)n"{}});}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>init\_input\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ init\ output\ blocking\ mode\ for\ GT\(\backslash\)n"{}});}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}=0;\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}<nworkers;++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}};}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]-\/>get\_out\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()>0);}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ }
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a5f4a4c70d2bbbcdb6081a36cdfb97e0e}{set\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00586\ }
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>masterworker())\ \{}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ last\_multioutput\ =\ [\&]()\ \{}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ WARNING:\ we\ consider\ homogeneous\ workers!}}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>parallel\_workers)\ \{}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}};}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>get\_out\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac9df391522afe1909fcc685506e940d6}{isMultiOutput}}())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac9df391522afe1909fcc685506e940d6}{isMultiOutput}}())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ ();}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_afbe820f62fc8f1a713800390f601f88a}{init\_input\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ init\ input\ blocking\ mode\ for\ master-\/worker\(\backslash\)n"{}});}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00606\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}=0;\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}<nworkers;++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}};}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (last\_multioutput)\ \{}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]-\/>get\_out\_nodes\_feedback(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()\ ==\ 0)}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]-\/>get\_out\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ }
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]-\/>get\_out\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()>0);}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ it\ is\ possible\ that\ we\ have\ to\ overwrite\ the\ }}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ p\_cons\_*\ variables\ that\ could\ have\ been\ set\ in\ the}}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ wrap\_around\ method.\ This\ can\ happen\ when\ the\ last}}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ stage\ is\ multi-\/output\ and\ it\ has\ a\ feedback\ channel}}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ and\ one\ (or\ more)\ forward\ channels\ to\ the\ next\ stage.}}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ }
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a5f4a4c70d2bbbcdb6081a36cdfb97e0e}{set\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ \textcolor{keyword}{true});\ \ }
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00624\ }
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}})\ \{}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_afbe820f62fc8f1a713800390f601f88a}{init\_input\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ init\ input\ blocking\(\backslash\)n"{}});}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ is\ to\ notify\ the\ Emitter\ when\ the\ queue}}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ is\ not\ anymore\ empty\ }}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a84ae02b065e080db75da2c63183e2865}{ff\_node::set\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ is\ to\ setup\ the\ condition\ variable\ where}}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ thread\ (main?)\ that\ is\ using\ the\ accelerator}}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ will\ sleep\ if\ the\ queue\ fill\ up}}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a2d686a96eb183cf5b8fc2969b12e0a09}{ff\_node::init\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ init\ output\ blocking\(\backslash\)n"{}});}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5c5dc54cb6a91caacf2d316f5c3a19ad}{hasCollector}}())\ \{}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ac1f68c3934cd7ace4e4285804d57e948}{init\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ init\ output\ blocking\(\backslash\)n"{}});}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_aab934f40b0c6129cc45d95fb085f8024}{ff\_node::init\_input\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ init\ input\ blocking\(\backslash\)n"{}});}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5f4a4c70d2bbbcdb6081a36cdfb97e0e}{set\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00662\ \ \ \ \ \}}
\DoxyCodeLine{00663\ }
\DoxyCodeLine{00664\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a0b1523176227c56bb06414219dc17df9}{freeze\_and\_run}}(\textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}})\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a848992cce0933404c983529a57ef323b}{prepare}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a24d0cd9aa197dd2c89859f036373b238}{freeze}}();}
\DoxyCodeLine{00667\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a89ce87c93462adc209a3af4e3f2c5c23}{run}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00668\ \ \ \ \ \}}
\DoxyCodeLine{00669\ }
\DoxyCodeLine{00670\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a04363dd9277facf54363f04ab91f61ca}{skipfirstpop}}(\textcolor{keywordtype}{bool}\ sk)\ \ \ \{\ }
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>skipfirstpop(sk);}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a2cc5475e2a45313b1e2eddf4f4df23ac}{skip1pop}}=sk;}
\DoxyCodeLine{00673\ \ \ \ \ \}}
\DoxyCodeLine{00674\ }
\DoxyCodeLine{00675\ \ }
\DoxyCodeLine{00676\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00677\ \ \ \ \ \textcolor{keywordtype}{void}\ skipallpop(\textcolor{keywordtype}{bool}\ sk)\ \ \ \{\ }
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>skipallpop(sk);}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ ff\_node::skipallpop(sk);}
\DoxyCodeLine{00680\ \ \ \ \ \}}
\DoxyCodeLine{00681\ \textcolor{preprocessor}{\#endif\ \ \ }}
\DoxyCodeLine{00682\ }
\DoxyCodeLine{00683\ }
\DoxyCodeLine{00684\ \ \ \ \ \textcolor{comment}{//\ consumer}}
\DoxyCodeLine{00685\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_afbe820f62fc8f1a713800390f601f88a}{init\_input\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \textcolor{comment}{/*feedback*/}=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>init\_input\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ for\ all\ registered\ input\ node\ (or\ buffernode)\ we\ have\ to\ set\ the\ }}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ blocking\ stuff\ (see\ also\ ff\_minode::init\_input\_blocking)}}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}};}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>get\_in\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>get\_in\_nodes\_feedback(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a5f4a4c70d2bbbcdb6081a36cdfb97e0e}{set\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00698\ \ \ \ \ \}}
\DoxyCodeLine{00699\ \ \ \ \ \textcolor{comment}{//\ producer}}
\DoxyCodeLine{00700\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_ac1f68c3934cd7ace4e4285804d57e948}{init\_output\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \textcolor{comment}{/*feedback*/}=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ ==\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>init\_output\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>init\_output\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00708\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac1f68c3934cd7ace4e4285804d57e948}{init\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00710\ }
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00712\ \ \ \ \ \}}
\DoxyCodeLine{00713\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a5f4a4c70d2bbbcdb6081a36cdfb97e0e}{set\_output\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ canoverwrite=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ ==\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>set\_output\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ canoverwrite);}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>set\_output\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ canoverwrite);}
\DoxyCodeLine{00721\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00723\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{00724\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a5f4a4c70d2bbbcdb6081a36cdfb97e0e}{set\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ canoverwrite);}
\DoxyCodeLine{00725\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00726\ \ \ \ \ \}}
\DoxyCodeLine{00727\ }
\DoxyCodeLine{00728\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ \&\mbox{\hyperlink{classff_1_1ff__farm_a5e8a655381d32b27512d01b246898f32}{get\_cons\_c}}()\ \ \ \ \ \ \ \ \{\ \textcolor{keywordflow}{return}\ *(\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>cons\_c);\}}
\DoxyCodeLine{00729\ }
\DoxyCodeLine{00730\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00731\ }
\DoxyCodeLine{00732\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff__farm_a28b9c788ddcfcb6cdad0f5dfc2b46e80}{lb\_t}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_a4507398d523881cfadefdf463bfa5962}{ff\_loadbalancer}};}
\DoxyCodeLine{00733\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff__farm_a6cfb8f61c59e30639b95479b466a81ba}{gt\_t}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_a60ba6ed26a612548d9930f0457bf852c}{ff\_gatherer}};\ \ \ \ }
\DoxyCodeLine{00734\ }
\DoxyCodeLine{00735\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00736\ \textcolor{comment}{\ \ \ \ \ *\ \(\backslash\)ingroup\ building\_blocks}}
\DoxyCodeLine{00737\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ farm\ building\ block\ }}
\DoxyCodeLine{00738\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00739\ \textcolor{comment}{\ \ \ \ \ *\ This\ is\ the\ farm\ constructor.}}
\DoxyCodeLine{00740\ \textcolor{comment}{\ \ \ \ \ *\ Note\ that,\ by\ using\ this\ constructor,\ the\ collector\ IS\ added\ automatically\ !}}
\DoxyCodeLine{00741\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00742\ \textcolor{comment}{\ \ \ \ \ *\ @param\ W\ vector\ of\ workers}}
\DoxyCodeLine{00743\ \textcolor{comment}{\ \ \ \ \ *\ @param\ Emitter\ pointer\ to\ Emitter\ object\ (mandatory)}}
\DoxyCodeLine{00744\ \textcolor{comment}{\ \ \ \ \ *\ @param\ Collector\ pointer\ to\ Collector\ object\ (optional)}}
\DoxyCodeLine{00745\ \textcolor{comment}{\ \ \ \ \ *\ @param\ input\_ch\ \(\backslash\)p\ true\ for\ enabling\ the\ input\ stream}}
\DoxyCodeLine{00746\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00747\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9b16234269f61fb52814e520773fba3e}{ff\_farm}}(\textcolor{keyword}{const}\ std::vector<ff\_node*>\&\ \mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}},\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *\textcolor{keyword}{const}\ Emitter=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *\textcolor{keyword}{const}\ Collector=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},\ \textcolor{keywordtype}{bool}\ input\_ch=\textcolor{keyword}{false}):}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}}(input\_ch),\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{classff_1_1ff__farm_a0f1b70afc67104cc2042bafbcc3fe376}{ordered}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{classff_1_1ff__farm_aec6dbb2ba9178a0898b393085ed9cbc8}{fixedsizeIN}}(\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}}),\mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}}(\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}}),}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),\mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),\mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}(0),}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}}(\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}}),}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}}(\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}}),}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_adc2955274f3a4238e31805932f57d0c3}{max\_nworkers}}(\mbox{\hyperlink{config_8hpp_a1c4f30863b8ed8d50b6eb98cee2f6f7c}{DEF\_MAX\_NUM\_WORKERS}}),\mbox{\hyperlink{classff_1_1ff__farm_a5c87be22f9a154584ad748ef82b55c40}{ordering\_memsize}}(0),}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}(new\ \mbox{\hyperlink{classff_1_1ff__farm_a28b9c788ddcfcb6cdad0f5dfc2b46e80}{lb\_t}}(\mbox{\hyperlink{classff_1_1ff__farm_adc2955274f3a4238e31805932f57d0c3}{max\_nworkers}})),\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}(new\ \mbox{\hyperlink{classff_1_1ff__farm_a6cfb8f61c59e30639b95479b466a81ba}{gt\_t}}(\mbox{\hyperlink{classff_1_1ff__farm_adc2955274f3a4238e31805932f57d0c3}{max\_nworkers}})),}
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}.\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}())\ \{}
\DoxyCodeLine{00757\ }
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}.size()>0);}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{add\_workers}}(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}});}
\DoxyCodeLine{00760\ }
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (Emitter)\ \mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(Emitter);\ }
\DoxyCodeLine{00762\ }
\DoxyCodeLine{00763\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ add\ default\ collector\ even\ if\ Collector\ is\ NULL,\ }}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ you\ don't\ want\ the\ collector\ you\ have\ to\ call\ remove\_collector}}
\DoxyCodeLine{00765\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(Collector);\ }
\DoxyCodeLine{00766\ \ \ \ \ \}}
\DoxyCodeLine{00767\ }
\DoxyCodeLine{00768\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00769\ \textcolor{comment}{\ \ \ \ \ *\ \(\backslash\)ingroup\ building\_blocks}}
\DoxyCodeLine{00770\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ farm\ building\ block\ }}
\DoxyCodeLine{00771\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00772\ \textcolor{comment}{\ \ \ \ \ *\ This\ is\ the\ farm\ constructor.}}
\DoxyCodeLine{00773\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00774\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a1a384ea8bd247aecf405f20ad5906b59}{ff\_farm}}(\textcolor{keyword}{const}\ std::vector<ff\_node*>\&\ \mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}},\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\&\ \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}},\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\&\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}):\mbox{\hyperlink{classff_1_1ff__farm_a9b16234269f61fb52814e520773fba3e}{ff\_farm}}(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}},\&\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}},\&\mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}},\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})\ \{}
\DoxyCodeLine{00775\ \ \ \ \ \}}
\DoxyCodeLine{00776\ \ \ \ \ }
\DoxyCodeLine{00791\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classff_1_1ff__farm_a99030934c77574b8f0195bb8f6df247c}{ff\_farm}}(\textcolor{keywordtype}{bool}\ input\_ch=\textcolor{keyword}{false},}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}}=\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}}=\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},}
\DoxyCodeLine{00794\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}}=\textcolor{keyword}{false},\ \textcolor{comment}{//\ NOTE:\ by\ default\ no\ cleanup\ at\ exit\ is\ done\ !}}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ max\_num\_workers=\mbox{\hyperlink{config_8hpp_a1c4f30863b8ed8d50b6eb98cee2f6f7c}{DEF\_MAX\_NUM\_WORKERS}},}
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ fixedsize=\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}}):\ }
\DoxyCodeLine{00797\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}}(input\_ch),\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\ \mbox{\hyperlink{classff_1_1ff__farm_a0f1b70afc67104cc2042bafbcc3fe376}{ordered}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\ \mbox{\hyperlink{classff_1_1ff__farm_aec6dbb2ba9178a0898b393085ed9cbc8}{fixedsizeIN}}(\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}}),\mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}}(\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}}),}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),\mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),\mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}}(\mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}}),\mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\ \mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}(0),}
\DoxyCodeLine{00800\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}}(\mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}}),}
\DoxyCodeLine{00801\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}}(\mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}}),\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00802\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_adc2955274f3a4238e31805932f57d0c3}{max\_nworkers}}(max\_num\_workers),\mbox{\hyperlink{classff_1_1ff__farm_a5c87be22f9a154584ad748ef82b55c40}{ordering\_memsize}}(0),}
\DoxyCodeLine{00803\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),}
\DoxyCodeLine{00804\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}(new\ \mbox{\hyperlink{classff_1_1ff__farm_a28b9c788ddcfcb6cdad0f5dfc2b46e80}{lb\_t}}(max\_num\_workers)),\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}(new\ \mbox{\hyperlink{classff_1_1ff__farm_a6cfb8f61c59e30639b95479b466a81ba}{gt\_t}}(max\_num\_workers)),}
\DoxyCodeLine{00805\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}(max\_num\_workers)\ \ \{}
\DoxyCodeLine{00806\ }
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<max\_num\_workers;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00808\ \ \ \ \ \}}
\DoxyCodeLine{00809\ }
\DoxyCodeLine{00810\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a03651c3bfddebc7e6a9673d9aa288439}{ff\_farm}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__farm_a9b16234269f61fb52814e520773fba3e}{ff\_farm}}\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ :\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ \{\ }
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.prepared)\ \{}
\DoxyCodeLine{00812\ \ \ \ \ \ \ \ \ \ \ \ \ error(\textcolor{stringliteral}{"{}ff\_farm,\ copy\ constructor,\ the\ input\ farm\ is\ already\ prepared\(\backslash\)n"{}});}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ \ \ \ \ return;}
\DoxyCodeLine{00814\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00815\ }
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.has\_input\_channel;}
\DoxyCodeLine{00817\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.collector\_removed;}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a0f1b70afc67104cc2042bafbcc3fe376}{ordered}}\ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.ordered;}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5c87be22f9a154584ad748ef82b55c40}{ordering\_memsize}}\ \ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.ordering\_memsize;}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.ondemand;\ \mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.in\_buffer\_entries;}
\DoxyCodeLine{00821\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.out\_buffer\_entries;}
\DoxyCodeLine{00822\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.worker\_cleanup;\ }
\DoxyCodeLine{00823\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.emitter\_cleanup;}
\DoxyCodeLine{00824\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.collector\_cleanup;}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_adc2955274f3a4238e31805932f57d0c3}{max\_nworkers}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.max\_nworkers;}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}=\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.internalSupportNodes;}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aec6dbb2ba9178a0898b393085ed9cbc8}{fixedsizeIN}}\ \ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.fixedsizeIN;}
\DoxyCodeLine{00828\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.fixedsizeOUT;}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.myownlb;}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.myowngt;}
\DoxyCodeLine{00831\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.workers;}
\DoxyCodeLine{00832\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00833\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00834\ }
\DoxyCodeLine{00835\ \ \ \ \ \ \ \ \ \textcolor{comment}{//lb\ =\ new\ lb\_t(max\_nworkers);}}
\DoxyCodeLine{00836\ \ \ \ \ \ \ \ \ \textcolor{comment}{//gt\ =\ new\ gt\_t(max\_nworkers);}}
\DoxyCodeLine{00837\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}=\textcolor{keyword}{nullptr};\mbox{\hyperlink{classff_1_1ff__farm_a3068153fc80df8e02564c157b2f783c4}{setlb}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.lb);\ \mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.myownlb;}
\DoxyCodeLine{00838\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}=\textcolor{keyword}{nullptr};\mbox{\hyperlink{classff_1_1ff__farm_a6abf216fac9a398d5176ff6b90b8d792}{setgt}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.gt);\ \mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.myowngt;}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}});\ assert(\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}});}
\DoxyCodeLine{00840\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.emitter);}
\DoxyCodeLine{00842\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.hasCollector())\ \mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.getCollector());}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ is\ a\ dirty\ part,\ we\ modify\ a\ const\ object.....}}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9b16234269f61fb52814e520773fba3e}{ff\_farm}}\ *dirty\ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{classff_1_1ff__farm_a9b16234269f61fb52814e520773fba3e}{ff\_farm}}*\textcolor{keyword}{>}(\&\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}});}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a129434f84a4efbc25eb24e93f2956fb6}{ordering\_Memory}}\ \ \ \ \ \ \ \ \ \ =\ std::move(dirty-\/>\mbox{\hyperlink{classff_1_1ff__farm_a129434f84a4efbc25eb24e93f2956fb6}{ordering\_Memory}});}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ dirty-\/>\mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}}\ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00848\ \ \ \ \ \ \ \ \ dirty-\/>\mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}\ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00849\ \ \ \ \ \ \ \ \ dirty-\/>\mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}}\ =\ \textcolor{keyword}{false};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00850\ \ \ \ \ \ \ \ \ dirty-\/>\mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}}\ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00851\ \ \ \ \ \ \ \ \ dirty-\/>\mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}}\ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00852\ \ \ \ \ \ \ \ \ dirty-\/>\mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.resize(0);}
\DoxyCodeLine{00853\ \ \ \ \ \}}
\DoxyCodeLine{00854\ \ \ \ \ }
\DoxyCodeLine{00855\ \ \ \ \ \textcolor{comment}{/*\ move\ constructor\ */}}
\DoxyCodeLine{00856\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a2f8324047de66ed204aa372979a8f1c9}{ff\_farm}}(\mbox{\hyperlink{classff_1_1ff__farm_a9b16234269f61fb52814e520773fba3e}{ff\_farm}}\ \&\&\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}):\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}(\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})),\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}(\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}})),\ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}(\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.\mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}))\ \{}
\DoxyCodeLine{00857\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00858\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.has\_input\_channel;}
\DoxyCodeLine{00859\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.collector\_removed;}
\DoxyCodeLine{00860\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a0f1b70afc67104cc2042bafbcc3fe376}{ordered}}\ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.ordered;}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5c87be22f9a154584ad748ef82b55c40}{ordering\_memsize}}\ \ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.ordering\_memsize;}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a129434f84a4efbc25eb24e93f2956fb6}{ordering\_Memory}}\ \ \ =\ std::move(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.ordering\_Memory);}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.ondemand;\ \mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.in\_buffer\_entries;}
\DoxyCodeLine{00864\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.out\_buffer\_entries;}
\DoxyCodeLine{00865\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.worker\_cleanup;\ }
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.emitter\_cleanup;}
\DoxyCodeLine{00867\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.collector\_cleanup;}
\DoxyCodeLine{00868\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_adc2955274f3a4238e31805932f57d0c3}{max\_nworkers}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.max\_nworkers;}
\DoxyCodeLine{00869\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aec6dbb2ba9178a0898b393085ed9cbc8}{fixedsizeIN}}\ \ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.fixedsizeIN;}
\DoxyCodeLine{00870\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.fixedsizeOUT;}
\DoxyCodeLine{00871\ }
\DoxyCodeLine{00872\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.emitter;\ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.collector;}
\DoxyCodeLine{00873\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.lb;\ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.gt;\ \ \ \ \ }
\DoxyCodeLine{00874\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.myownlb;\ \mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.myowngt;}
\DoxyCodeLine{00875\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.lb\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00876\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.gt\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00877\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.max\_nworkers=0;}
\DoxyCodeLine{00878\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.worker\_cleanup\ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00879\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.emitter\_cleanup\ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00880\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.collector\_cleanup\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00881\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.myownlb\ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00882\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.myowngt\ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{false};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00883\ \ \ \ \ \}}
\DoxyCodeLine{00884\ }
\DoxyCodeLine{00885\ }
\DoxyCodeLine{00892\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1ff__farm_a279fb3b1f90dca57e829390a38e519e6}{\string~ff\_farm}}()\ \{\ }
\DoxyCodeLine{00893\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}})\ \{}
\DoxyCodeLine{00894\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>get\_filter())\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>get\_filter();}
\DoxyCodeLine{00895\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}})\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}};}
\DoxyCodeLine{00896\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00897\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}})\ \{}
\DoxyCodeLine{00898\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>get\_filter())\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>get\_filter();}
\DoxyCodeLine{00899\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ !=\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}};}
\DoxyCodeLine{00900\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}})\ \{\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}};\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};\}}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}})\ \{\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}};\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};\}}
\DoxyCodeLine{00903\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}})\ \{}
\DoxyCodeLine{00904\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ }
\DoxyCodeLine{00905\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}])\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00908\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00909\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00911\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}})\ \{\textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}};\ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};\}}
\DoxyCodeLine{00912\ \ \ \ \ \}}
\DoxyCodeLine{00913\ }
\DoxyCodeLine{00914\ \ \ \ \ \textcolor{comment}{//\ used\ to\ redefine\ scheduling/gathering\ policy}}
\DoxyCodeLine{00915\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a6abf216fac9a398d5176ff6b90b8d792}{setgt}}(\mbox{\hyperlink{classff_1_1ff__node_a60ba6ed26a612548d9930f0457bf852c}{ff\_gatherer}}\ *external\_gt,\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false})\ \{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ assert(external\_gt);}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \{}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \ \ \ \ \ \ *external\_gt\ =\ std::move(*\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}});}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}})\ \{}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ ==\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ =\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)external\_gt;}
\DoxyCodeLine{00922\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}};\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}}=\textcolor{keyword}{false};}
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00925\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}\ =\ external\_gt;}
\DoxyCodeLine{00926\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}}\ =\ cleanup;}
\DoxyCodeLine{00927\ \ \ \ \ \}}
\DoxyCodeLine{00928\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a3068153fc80df8e02564c157b2f783c4}{setlb}}(\mbox{\hyperlink{classff_1_1ff__node_a4507398d523881cfadefdf463bfa5962}{ff\_loadbalancer}}\ *external\_lb,\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00929\ \ \ \ \ \ \ \ \ assert(external\_lb);}
\DoxyCodeLine{00930\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}})\ \{\ }
\DoxyCodeLine{00931\ \ \ \ \ \ \ \ \ \ \ \ \ *external\_lb\ =\ std::move(*\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}});}
\DoxyCodeLine{00932\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00933\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}})\ \{}
\DoxyCodeLine{00934\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}};\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}=\textcolor{keyword}{nullptr};}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}}=\textcolor{keyword}{false};}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00937\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}\ =\ external\_lb;}
\DoxyCodeLine{00938\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}}\ =\ cleanup;}
\DoxyCodeLine{00939\ \ \ \ \ \}\ \ \ \ }
\DoxyCodeLine{00940\ \ \ \ \ }
\DoxyCodeLine{00953\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00954\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ *\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ \{\ }
\DoxyCodeLine{00955\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}==\textcolor{keyword}{nullptr})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/>isFarm()\ ||\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/>isAll2All()\ ||\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/>isPipe())\ \{}
\DoxyCodeLine{00957\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ add\_emitter:\ wrong\ kind\ of\ node,\ the\ Emitter\ filter\ cannot\ be\ a\ parallel\ building\ block\ (i.e.\ farm,\ all2all,\ pipeline)\(\backslash\)n"{}});}
\DoxyCodeLine{00958\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00959\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00960\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/>isComp())\ \{}
\DoxyCodeLine{00961\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ if\ a\ comp\ is\ set\ as\ a\ filter\ in\ the\ emitter\ of\ a\ farm,}}
\DoxyCodeLine{00962\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ it\ must\ terminate\ with\ a\ multi-\/output\ node.}}
\DoxyCodeLine{00963\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ In\ the\ previous\ version,\ it\ was\ allowed\ to\ add\ whatever\ kind\ of\ sequantial\ BB}}
\DoxyCodeLine{00964\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ as\ filter,\ but\ in\ some\ cases\ we\ experienced\ problems\ with\ EOS\ propagation}}
\DoxyCodeLine{00965\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/>isMultiOutput())\ \{}
\DoxyCodeLine{00966\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ add\_emitter:\ wrong\ kind\ of\ node,\ if\ the\ filter\ is\ a\ combine\ building\ block,\ it\ must\ terminate\ with\ a\ multi-\/output\ node\(\backslash\)n"{}});}
\DoxyCodeLine{00967\ }
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00969\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ abort();\ \ \ \ \textcolor{comment}{//\ WARNING:\ here\ for\ debugging\ purposes,\ it\ must\ be\ removed!\ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00970\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00971\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00972\ }
\DoxyCodeLine{00973\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ combine\ is\ forced\ to\ appear\ as\ multi-\/input\ even\ if\ it\ is\ not}}
\DoxyCodeLine{00974\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/>set\_multiinput();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00975\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00976\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}})\ \{}
\DoxyCodeLine{00977\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ add\_emitter:\ emitter\ already\ present\(\backslash\)n"{}});}
\DoxyCodeLine{00978\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;\ }
\DoxyCodeLine{00979\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00980\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}\ =\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}};}
\DoxyCodeLine{00981\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00982\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ emitter\ is\ a\ real\ multi-\/input,\ then\ we\ have\ to\ register\ the\ callback\ for}}
\DoxyCodeLine{00983\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ all\_gather\ call\ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00984\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/>isMultiInput())\ \{}
\DoxyCodeLine{00985\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/>registerAllGatherCallback(\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>ff\_all\_gather\_emitter,\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}});}
\DoxyCodeLine{00986\ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ }
\DoxyCodeLine{00987\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00988\ \ \ \ \ \}}
\DoxyCodeLine{00989\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00990\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a9b768f01a6d9c0efce3716705336d550}{add\_emitter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ \{}
\DoxyCodeLine{00991\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}(\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}});}
\DoxyCodeLine{00992\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00993\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00994\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00995\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00996\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00997\ \ \ \ \ \}}
\DoxyCodeLine{00998\ }
\DoxyCodeLine{00999\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01000\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ *\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{01001\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}==\textcolor{keyword}{nullptr})\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}});}
\DoxyCodeLine{01002\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}})\ \{}
\DoxyCodeLine{01003\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}};}
\DoxyCodeLine{01004\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}=\textcolor{keyword}{false};}
\DoxyCodeLine{01005\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01006\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>reset\_filter();}
\DoxyCodeLine{01007\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}=\textcolor{keyword}{nullptr};}
\DoxyCodeLine{01008\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}=cleanup;}
\DoxyCodeLine{01009\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(e);}
\DoxyCodeLine{01010\ \ \ \ \ \}}
\DoxyCodeLine{01011\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01012\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_abb173798cecd14d8bd168bb81ec0bd11}{change\_emitter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{01013\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}==\textcolor{keyword}{nullptr})\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}});}
\DoxyCodeLine{01014\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}})\ \{}
\DoxyCodeLine{01015\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}};}
\DoxyCodeLine{01016\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}=\textcolor{keyword}{false};}
\DoxyCodeLine{01017\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01018\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>reset\_filter();}
\DoxyCodeLine{01019\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}=\textcolor{keyword}{nullptr};}
\DoxyCodeLine{01020\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}=cleanup;}
\DoxyCodeLine{01021\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(e);}
\DoxyCodeLine{01022\ \ \ \ \ \}}
\DoxyCodeLine{01023\ }
\DoxyCodeLine{01024\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_ac201e474b1ecdfc6be0d77cb382937ae}{change\_node}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*\ old,\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ remove\_from\_cleanuplist=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{01025\ \ \ \ \ \ \ \ \ assert(old!=\textcolor{keyword}{nullptr});}
\DoxyCodeLine{01026\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}!=\textcolor{keyword}{nullptr});}
\DoxyCodeLine{01027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}})\ \{}
\DoxyCodeLine{01028\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ change\_node\ cannot\ be\ called\ because\ the\ FARM\ has\ already\ been\ prepared\(\backslash\)n"{}});}
\DoxyCodeLine{01029\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01030\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01031\ }
\DoxyCodeLine{01032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}\ ==\ old)\ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ cleanup)==0);}
\DoxyCodeLine{01033\ }
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ ==\ old)\ \{}
\DoxyCodeLine{01035\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}})\ \{}
\DoxyCodeLine{01036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}};}
\DoxyCodeLine{01037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}}=\textcolor{keyword}{false};}
\DoxyCodeLine{01038\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01039\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>reset\_filter();}
\DoxyCodeLine{01040\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}=\textcolor{keyword}{nullptr};}
\DoxyCodeLine{01041\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}}=cleanup;}
\DoxyCodeLine{01042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (this-\/>\mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(n)\ ==\ 0);}
\DoxyCodeLine{01043\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01044\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ ==\ old)\ \{}
\DoxyCodeLine{01047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (remove\_from\_cleanuplist)\ \{}
\DoxyCodeLine{01048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ pos=-\/1;}
\DoxyCodeLine{01049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{01050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ ==\ old)\ \{\ pos\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}};\ \textcolor{keywordflow}{break};\ \}}
\DoxyCodeLine{01051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos>=0)\ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.erase(\mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.begin()+pos);\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01053\ }
\DoxyCodeLine{01054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}})}
\DoxyCodeLine{01055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.push\_back(\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{01056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};}
\DoxyCodeLine{01058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cleanup\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}})\ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.push\_back(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01060\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01061\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01062\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01064\ \ \ \ \ \}}
\DoxyCodeLine{01065\ \ \ \ \ }
\DoxyCodeLine{01083\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a259e203b6eaf044985781f0a8668b9ae}{set\_scheduling\_ondemand}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ inbufferentries=1)\ \{}
\DoxyCodeLine{01084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}})\ \{}
\DoxyCodeLine{01085\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ set\_scheduling\_ondemand,\ farm\ already\ prepared\(\backslash\)n"{}});}
\DoxyCodeLine{01086\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01087\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inbufferentries<=0)\ \mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}=1;}
\DoxyCodeLine{01089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}}=inbufferentries;}
\DoxyCodeLine{01090\ \ \ \ \ \}}
\DoxyCodeLine{01100\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_aab29a7a312aafea479fa34f9dfc9ec24}{set\_ordered}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ MemoryElements=\mbox{\hyperlink{config_8hpp_a1e5437ee963d80d44b1fe26c90a6b877}{DEF\_OFARM\_ONDEMAND\_MEMORY}})\ \{}
\DoxyCodeLine{01101\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}})\ \{}
\DoxyCodeLine{01102\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ set\_ordered,\ farm\ already\ prepared\(\backslash\)n"{}});}
\DoxyCodeLine{01103\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01104\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01105\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a0f1b70afc67104cc2042bafbcc3fe376}{ordered}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01106\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5c87be22f9a154584ad748ef82b55c40}{ordering\_memsize}}=MemoryElements;}
\DoxyCodeLine{01107\ \ \ \ \ \}}
\DoxyCodeLine{01108\ }
\DoxyCodeLine{01109\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a9544735c9a4f72824e4aa6b77f8fa7a7}{ordered\_resize\_memory}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ \{}
\DoxyCodeLine{01110\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a129434f84a4efbc25eb24e93f2956fb6}{ordering\_Memory}}.resize(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{01111\ \ \ \ \ \}}
\DoxyCodeLine{01112\ \ \ \ \ \mbox{\hyperlink{namespaceff_a88b7fc50b6b0f421f556c6d1be10e1a3}{ordering\_pair\_t}}*\ \mbox{\hyperlink{classff_1_1ff__farm_a37d2a03d393c9b650355dcb81367441d}{ordered\_get\_memory}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a129434f84a4efbc25eb24e93f2956fb6}{ordering\_Memory}}.begin();\ \}}
\DoxyCodeLine{01113\ \ \ \ \ }
\DoxyCodeLine{01114\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}};\ \}}
\DoxyCodeLine{01115\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__farm_a1a0b0581014d22ab13082e379b31dbe4}{ordering\_memory\_size}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a5c87be22f9a154584ad748ef82b55c40}{ordering\_memsize}};\ \}}
\DoxyCodeLine{01116\ \ \ \ \ }
\DoxyCodeLine{01130\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{add\_workers}}(\textcolor{keyword}{const}\ std::vector<ff\_node\ *>\ \&\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{\ }
\DoxyCodeLine{01131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size()+\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size())>\ \mbox{\hyperlink{classff_1_1ff__farm_adc2955274f3a4238e31805932f57d0c3}{max\_nworkers}})\ \{}
\DoxyCodeLine{01132\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ try\ to\ add\ too\ many\ workers,\ please\ increase\ max\_nworkers\(\backslash\)n"{}});}
\DoxyCodeLine{01133\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;\ }
\DoxyCodeLine{01134\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()==0)\ \{}
\DoxyCodeLine{01136\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ try\ to\ add\ zero\ workers!\(\backslash\)n"{}});}
\DoxyCodeLine{01137\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;\ }
\DoxyCodeLine{01138\ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01139\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01140\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.push\_back(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);\ \ \ \ \ \ }
\DoxyCodeLine{01141\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01142\ }
\DoxyCodeLine{01143\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01144\ \ \ \ \ \}}
\DoxyCodeLine{01149\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a1b349c3a7c414083ae1f7a63337c34d4}{change\_workers}}(\textcolor{keyword}{const}\ std::vector<ff\_node*>\&\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{01150\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.clear();}
\DoxyCodeLine{01151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{add\_workers}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{01152\ \ \ \ \ \}}
\DoxyCodeLine{01153\ }
\DoxyCodeLine{01154\ \ \ \ \ }
\DoxyCodeLine{01167\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false})\ \{\ }
\DoxyCodeLine{01168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ \&\&\ (\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}-\/>isFarm()\ ||\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}-\/>isAll2All()\ ||\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}-\/>isPipe()))\ \{}
\DoxyCodeLine{01169\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ add\_collector:\ wrong\ kind\ of\ node,\ the\ Collector\ filter\ can\ be\ either\ a\ standard\ node\ or\ a\ multi-\/input\ node\ or\ a\ multi-\/output\ node\(\backslash\)n"{}});}
\DoxyCodeLine{01170\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01171\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01172\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01173\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ !=\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{}
\DoxyCodeLine{01174\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}add\_collector:\ collector\ already\ defined!\(\backslash\)n"{}});}
\DoxyCodeLine{01175\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;\ }
\DoxyCodeLine{01176\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01177\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \textcolor{keywordflow}{return}\ -\/1;\ \textcolor{comment}{//inconsist\ state}}
\DoxyCodeLine{01178\ }
\DoxyCodeLine{01179\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ if\ a\ comp\ is\ set\ as\ a\ filter\ in\ the\ collector\ of\ a\ farm,}}
\DoxyCodeLine{01180\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ it\ is\ a\ multiinput\ node\ even\ if\ the\ first\ stage\ of\ the\ composition}}
\DoxyCodeLine{01181\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ is\ not\ a\ multi-\/input.}}
\DoxyCodeLine{01182\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ \&\&\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}-\/>isComp())\ \{}
\DoxyCodeLine{01183\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ if\ a\ comp\ is\ set\ as\ a\ filter\ in\ the\ collector\ of\ a\ farm,}}
\DoxyCodeLine{01184\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ it\ should\ start\ with\ a\ multi-\/input\ node.}}
\DoxyCodeLine{01185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ However,\ if\ it\ is\ not\ the\ case,\ the\ combine\ is\ forced\ to\ appear\ as\ multi-\/input}}
\DoxyCodeLine{01186\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ even\ if\ its\ first\ stage\ is\ not.\ This\ is\ because\ EOS\ should\ be\ propagated}}
\DoxyCodeLine{01187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ only\ if\ all\ EOSs\ from\ previous\ stages\ were\ received\ (see\ eosnotify\ in\ the\ combine)}}
\DoxyCodeLine{01188\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}-\/>set\_multiinput();}
\DoxyCodeLine{01189\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ \{}
\DoxyCodeLine{01191\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ =\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}};}
\DoxyCodeLine{01192\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cleanup)\ \mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}}=\textcolor{keyword}{true};}
\DoxyCodeLine{01193\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ }
\DoxyCodeLine{01194\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}=(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}};}
\DoxyCodeLine{01195\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01196\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01197\ \ \ \ \ \}}
\DoxyCodeLine{01198\ \ \ \ \ }
\DoxyCodeLine{01210\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_ad33e81a08a5b198f51fb1b7b5fed08ec}{wrap\_around}}()\ \{}
\DoxyCodeLine{01211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!this-\/>\mbox{\hyperlink{classff_1_1ff__farm_a5c5dc54cb6a91caacf2d316f5c3a19ad}{hasCollector}}())\ \{\ \textcolor{comment}{//\ all\ stuff\ are\ in\ the\ prepare\ method}}
\DoxyCodeLine{01212\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>set\_masterworker()<0)\ \textcolor{keywordflow}{return}\ -\/1;\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01213\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}})\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>skipfirstpop(\textcolor{keyword}{true});}
\DoxyCodeLine{01214\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01215\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01216\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}})\ \{}
\DoxyCodeLine{01217\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM:\ wrap\_around:\ cannot\ create\ feedback\ if\ accelerator\ mode\ is\ set,\ and\ the\ collector\ is\ present!\(\backslash\)n"{}});}
\DoxyCodeLine{01218\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01219\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01220\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__buffernode}{ff\_buffernode}}\ *tmpbuffer\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff__buffernode}{ff\_buffernode}}(\mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}},\ \textcolor{keyword}{false});}
\DoxyCodeLine{01221\ \ \ \ \ \ \ \ \ assert(tmpbuffer);}
\DoxyCodeLine{01222\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}}.push\_back(tmpbuffer);}
\DoxyCodeLine{01223\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_adc66c69987fe506d4be8fc32a578a183}{set\_output\_buffer}}(tmpbuffer-\/>\mbox{\hyperlink{classff_1_1ff__node_adfa6f2bc22637590349e94ecb9b3c8eb}{get\_in\_buffer}}())<0)\ \{}
\DoxyCodeLine{01224\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ setting\ output\ buffer\ for\ multi-\/input\ configuration\(\backslash\)n"{}});}
\DoxyCodeLine{01225\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01226\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01227\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}()\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>isMultiOutput())}
\DoxyCodeLine{01228\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>set\_output\_feedback(tmpbuffer);}
\DoxyCodeLine{01229\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01230\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>set\_input\_feedback(tmpbuffer);}
\DoxyCodeLine{01231\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01232\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ blocking\ stuff\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01233\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{01234\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{01235\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_afbe820f62fc8f1a713800390f601f88a}{init\_input\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{01236\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ wrap\_around,\ init\ input\ blocking\ mode\ for\ emitter\(\backslash\)n"{}});}
\DoxyCodeLine{01237\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01238\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01239\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5f4a4c70d2bbbcdb6081a36cdfb97e0e}{set\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{01240\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{01241\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ac1f68c3934cd7ace4e4285804d57e948}{init\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}))\ \{}
\DoxyCodeLine{01242\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ wrap\_around,\ init\ output\ blocking\ mode\ for\ collector\(\backslash\)n"{}});}
\DoxyCodeLine{01243\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01244\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01245\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01246\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01247\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>skipfirstpop(\textcolor{keyword}{true});}
\DoxyCodeLine{01248\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01249\ \ \ \ \ \}}
\DoxyCodeLine{01250\ }
\DoxyCodeLine{01260\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a5fde02281e79ca2a135688e261a7225f}{remove\_collector}}()\ \{}
\DoxyCodeLine{01261\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a0f1b70afc67104cc2042bafbcc3fe376}{ordered}})\ \{}
\DoxyCodeLine{01262\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}=(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}};}
\DoxyCodeLine{01263\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01264\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01265\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01266\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01267\ \ \ \ \ \}}
\DoxyCodeLine{01268\ }
\DoxyCodeLine{01269\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a1773ee1697f8f1a45096dafb5ffcd8de}{isMultiInput}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\}}
\DoxyCodeLine{01270\ }
\DoxyCodeLine{01271\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_ac9df391522afe1909fcc685506e940d6}{isMultiOutput}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01272\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01273\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ ==\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01274\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>isMultiOutput();}
\DoxyCodeLine{01275\ \ \ \ \ \}}
\DoxyCodeLine{01276\ }
\DoxyCodeLine{01277\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a431edc561638fb362e3c462b0e9ab500}{isFarm}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{01278\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a0f1b70afc67104cc2042bafbcc3fe376}{ordered}};\ \}}
\DoxyCodeLine{01279\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a42d82ae49a441e726e5b1ee8438daf26}{isPrepared}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}};\}}
\DoxyCodeLine{01280\ \ \ \ \ }
\DoxyCodeLine{01281\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a5c5dc54cb6a91caacf2d316f5c3a19ad}{hasCollector}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01282\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__farm_a0f1b70afc67104cc2042bafbcc3fe376}{ordered}}\ ?\ \textcolor{keyword}{true}:\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}));}
\DoxyCodeLine{01283\ \ \ \ \ \}}
\DoxyCodeLine{01284\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01285\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}};\ \}}
\DoxyCodeLine{01286\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}};\}}
\DoxyCodeLine{01287\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}};\ \}}
\DoxyCodeLine{01288\ \ \ \ \ }
\DoxyCodeLine{01294\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keywordtype}{bool}\ onoff=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{01295\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}}\ =\ onoff;}
\DoxyCodeLine{01296\ \ \ \ \ \}}
\DoxyCodeLine{01297\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keywordtype}{bool}\ onoff=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{01298\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}\ =\ onoff;}
\DoxyCodeLine{01299\ \ \ \ \ \}}
\DoxyCodeLine{01300\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keywordtype}{bool}\ onoff=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{01301\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}}\ =\ onoff;}
\DoxyCodeLine{01302\ \ \ \ \ \}}
\DoxyCodeLine{01303\ \ \ \ \ }
\DoxyCodeLine{01304\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a86ad840d47acf03add025d3f020c613c}{cleanup\_all}}()\ \{}
\DoxyCodeLine{01305\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}}\ \ \ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01306\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}}\ \ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01307\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}}=\ \textcolor{keyword}{true};}
\DoxyCodeLine{01308\ \ \ \ \ \}}
\DoxyCodeLine{01309\ }
\DoxyCodeLine{01310\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_af50793a4faee530b0000fe51954a16c9}{no\_barrier}}()\ \{}
\DoxyCodeLine{01311\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a27cedacb1f7d9d831106d6ef05010a90}{initial\_barrier}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01312\ \ \ \ \ \}}
\DoxyCodeLine{01313\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a15b475d3663b9a8a9a0f1b1a12a873f4}{no\_mapping}}()\ \{}
\DoxyCodeLine{01314\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aac7a5fe3ed358b0a7a36ab97df203d0c}{default\_mapping}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01315\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>no\_mapping();}
\DoxyCodeLine{01316\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>no\_mapping();}
\DoxyCodeLine{01317\ \ \ \ \ \}}
\DoxyCodeLine{01318\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a90fb224eff4a132ae6a3e924ac158467}{blocking\_mode}}(\textcolor{keywordtype}{bool}\ blk=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ blocking\_mode\ for\ workers\ is\ managed\ by\ the\ load-\/balancer}}
\DoxyCodeLine{01320\ \ \ \ \ \ \ \ \ blocking\_in\ =\ blocking\_out\ =\ blk;}
\DoxyCodeLine{01321\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>blocking\_mode(blk);}
\DoxyCodeLine{01322\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>blocking\_mode(blk);\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01323\ \ \ \ \ \}}
\DoxyCodeLine{01324\ \ \ \ \ }
\DoxyCodeLine{01325\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_aadaff30ac3a0ec01d035f761705c9a30}{cardinality}}()\textcolor{keyword}{\ const\ }\{\ }
\DoxyCodeLine{01326\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ card=0;}
\DoxyCodeLine{01327\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ }
\DoxyCodeLine{01328\ \ \ \ \ \ \ \ \ \ \ \ \ card\ +=\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_aadaff30ac3a0ec01d035f761705c9a30}{cardinality}}();}
\DoxyCodeLine{01329\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01330\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (card\ +\ 1\ +\ ((\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})?1:0));}
\DoxyCodeLine{01331\ \ \ \ \ \}}
\DoxyCodeLine{01332\ }
\DoxyCodeLine{01333\ \ \ \ \ }
\DoxyCodeLine{01345\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a89ce87c93462adc209a3af4e3f2c5c23}{run}}(\textcolor{keywordtype}{bool}\ skip\_init=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{01346\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!skip\_init)\ \{}
\DoxyCodeLine{01347\ \textcolor{preprocessor}{\#if\ defined(FF\_INITIAL\_BARRIER)}}
\DoxyCodeLine{01348\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a27cedacb1f7d9d831106d6ef05010a90}{initial\_barrier}})\ \{}
\DoxyCodeLine{01349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ set\ the\ initial\ value\ for\ the\ barrier\ }}
\DoxyCodeLine{01350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}})\ \ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}};}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceff_a0b5a32cb1a4d51a37ecabc2a4ecc9f92}{nthreads}}\ =\ \mbox{\hyperlink{classff_1_1ff__farm_aadaff30ac3a0ec01d035f761705c9a30}{cardinality}}(\mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}});}
\DoxyCodeLine{01352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceff_a0b5a32cb1a4d51a37ecabc2a4ecc9f92}{nthreads}}\ >\ \mbox{\hyperlink{config_8hpp_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}})\ \{}
\DoxyCodeLine{01353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ too\ much\ threads,\ increase\ MAX\_NUM\_THREADS\ !\(\backslash\)n"{}});}
\DoxyCodeLine{01354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}}-\/>barrierSetup(\mbox{\hyperlink{namespaceff_a0b5a32cb1a4d51a37ecabc2a4ecc9f92}{nthreads}});}
\DoxyCodeLine{01357\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01358\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01359\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>skipfirstpop(!\mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}});}
\DoxyCodeLine{01360\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01361\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01362\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}})\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a848992cce0933404c983529a57ef323b}{prepare}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01363\ }
\DoxyCodeLine{01364\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ starting\ the\ emitter\ node}}
\DoxyCodeLine{01365\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>runlb()<0)\ \{}
\DoxyCodeLine{01366\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ running\ load-\/balancer\ module\(\backslash\)n"{}});}
\DoxyCodeLine{01367\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01368\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01369\ }
\DoxyCodeLine{01370\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ starting\ the\ workers}}
\DoxyCodeLine{01371\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ac4cac38412e36b2179a10e2a6116c7ac}{isfrozen}}())\ \{}
\DoxyCodeLine{01372\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ set\ the\ initial\ blocking\ mode}}
\DoxyCodeLine{01374\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{01375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(blocking\_in==blocking\_out);}
\DoxyCodeLine{01376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>blocking\_mode(blocking\_in);}
\DoxyCodeLine{01377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_aac7a5fe3ed358b0a7a36ab97df203d0c}{default\_mapping}})\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>no\_mapping();}
\DoxyCodeLine{01378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//workers[i]-\/>skipfirstpop(false);}}
\DoxyCodeLine{01379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a0b1523176227c56bb06414219dc17df9}{freeze\_and\_run}}(\textcolor{keyword}{true})<0)\ \{}
\DoxyCodeLine{01380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ spawning\ worker\ thread\(\backslash\)n"{}});}
\DoxyCodeLine{01381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ }
\DoxyCodeLine{01383\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01384\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01385\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ set\ the\ initial\ blocking\ mode}}
\DoxyCodeLine{01387\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{01388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(blocking\_in==blocking\_out);}
\DoxyCodeLine{01389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>blocking\_mode(blocking\_in);}
\DoxyCodeLine{01390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_aac7a5fe3ed358b0a7a36ab97df203d0c}{default\_mapping}})\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>no\_mapping();}
\DoxyCodeLine{01391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//workers[i]-\/>skipfirstpop(false);}}
\DoxyCodeLine{01392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a89ce87c93462adc209a3af4e3f2c5c23}{run}}(\textcolor{keyword}{true})<0)\ \{}
\DoxyCodeLine{01393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ spawning\ worker\ thread\(\backslash\)n"{}});}
\DoxyCodeLine{01394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01396\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01397\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01398\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ starting\ the\ collector\ node}}
\DoxyCodeLine{01399\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})}
\DoxyCodeLine{01400\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>run(\textcolor{keyword}{true})<0)\ \{}
\DoxyCodeLine{01401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ running\ gather\ module\(\backslash\)n"{}});}
\DoxyCodeLine{01402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01403\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01404\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01405\ \ \ \ \ \}}
\DoxyCodeLine{01406\ }
\DoxyCodeLine{01415\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a859e23194593a62722f15f49ee06db01}{run\_and\_wait\_end}}()\ \{}
\DoxyCodeLine{01416\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ac4cac38412e36b2179a10e2a6116c7ac}{isfrozen}}())\ \{}
\DoxyCodeLine{01417\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a2c7d4b190bed5cd9d9758a99393a72e1}{stop}}();}
\DoxyCodeLine{01418\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9bbfc237fe87820d0f6fcf4b102e7e2e}{thaw}}();}
\DoxyCodeLine{01419\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_aecfdf624552b6d156de35fb5db36604c}{wait}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01420\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01421\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01422\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a2c7d4b190bed5cd9d9758a99393a72e1}{stop}}();}
\DoxyCodeLine{01423\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a89ce87c93462adc209a3af4e3f2c5c23}{run}}(\textcolor{keyword}{false})<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01424\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_aecfdf624552b6d156de35fb5db36604c}{wait}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01425\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01426\ \ \ \ \ \}}
\DoxyCodeLine{01427\ }
\DoxyCodeLine{01436\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_aae4b5318e8fdb4a62dfeccbece56a061}{run\_then\_freeze}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw=-\/1)\ \{}
\DoxyCodeLine{01437\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ac4cac38412e36b2179a10e2a6116c7ac}{isfrozen}}())\ \{}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ true\ means\ that\ next\ time\ threads\ are\ frozen\ again}}
\DoxyCodeLine{01439\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9bbfc237fe87820d0f6fcf4b102e7e2e}{thaw}}(\textcolor{keyword}{true},\ nw);\ }
\DoxyCodeLine{01440\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01441\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01442\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}})\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a848992cce0933404c983529a57ef323b}{prepare}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01443\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a24d0cd9aa197dd2c89859f036373b238}{freeze}}();}
\DoxyCodeLine{01444\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a89ce87c93462adc209a3af4e3f2c5c23}{run}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01445\ \ \ \ \ \}}
\DoxyCodeLine{01446\ \ \ \ \ }
\DoxyCodeLine{01454\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_aecfdf624552b6d156de35fb5db36604c}{wait}}()\ \{}
\DoxyCodeLine{01455\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}=0;}
\DoxyCodeLine{01456\ \ \ \ \ \ \ \ \ \textcolor{comment}{//if\ (lb-\/>waitWorkers()<0)\ ret\ =\ -\/1;}}
\DoxyCodeLine{01457\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{01458\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_aecfdf624552b6d156de35fb5db36604c}{wait}}()<0)\ \{}
\DoxyCodeLine{01459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ waiting\ worker\ thread,\ id\ =\ \%d\(\backslash\)n"{}},\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac739b3832fc7ca13c318af7b97f20068}{get\_my\_id}}());}
\DoxyCodeLine{01460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ -\/1;}
\DoxyCodeLine{01461\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01462\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>running\ =\ -\/1;}
\DoxyCodeLine{01463\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>waitlb()<0)\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}=-\/1;}
\DoxyCodeLine{01464\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}})\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>wait()<0)\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}=-\/1;}
\DoxyCodeLine{01465\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{01466\ \ \ \ \ \}}
\DoxyCodeLine{01467\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a944885fe834e70e40bdafd0ccbcb4d0b}{wait\_collector}}()\ \{}
\DoxyCodeLine{01468\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}=-\/1;}
\DoxyCodeLine{01469\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}})\ \{}
\DoxyCodeLine{01470\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>wait()<0)\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}=-\/1;}
\DoxyCodeLine{01471\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ 0;}
\DoxyCodeLine{01472\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01473\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{01474\ \ \ \ \ \}}
\DoxyCodeLine{01475\ \ \ \ \ }
\DoxyCodeLine{01483\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a1e1b92636cd0aab779e35be4cd4e9093}{wait\_freezing}}(\textcolor{comment}{/*\ timeval\ */}\ )\ \{}
\DoxyCodeLine{01484\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}=0;}
\DoxyCodeLine{01485\ \ \ \ \ \ \ \ \ \textcolor{comment}{//if\ (lb-\/>wait\_freezingWorkers()<0)\ ret\ =\ -\/1;}}
\DoxyCodeLine{01486\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{01487\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a1e1b92636cd0aab779e35be4cd4e9093}{wait\_freezing}}()<0)\ \{}
\DoxyCodeLine{01488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ waiting\ freezing\ of\ worker\ thread,\ id\ =\ \%d\(\backslash\)n"{}},\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac739b3832fc7ca13c318af7b97f20068}{get\_my\_id}}());}
\DoxyCodeLine{01489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ -\/1;}
\DoxyCodeLine{01490\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01491\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>running\ =\ -\/1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01492\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>wait\_lb\_freezing()<0)\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}=-\/1;}
\DoxyCodeLine{01493\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}})\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>wait\_freezing()<0)\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}=-\/1;}
\DoxyCodeLine{01494\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};\ }
\DoxyCodeLine{01495\ \ \ \ \ \}\ }
\DoxyCodeLine{01496\ }
\DoxyCodeLine{01503\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a2c7d4b190bed5cd9d9758a99393a72e1}{stop}}()\ \{}
\DoxyCodeLine{01504\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>stop();}
\DoxyCodeLine{01505\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>stop();}
\DoxyCodeLine{01506\ \ \ \ \ \}}
\DoxyCodeLine{01507\ }
\DoxyCodeLine{01514\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a24d0cd9aa197dd2c89859f036373b238}{freeze}}()\ \{}
\DoxyCodeLine{01515\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>freeze();}
\DoxyCodeLine{01516\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>freeze();}
\DoxyCodeLine{01517\ \ \ \ \ \}}
\DoxyCodeLine{01518\ }
\DoxyCodeLine{01528\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a3b3184b58552c9a97032ff94ba5d2fd2}{done}}()\textcolor{keyword}{\ const\ }\{\ }
\DoxyCodeLine{01529\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>done()\ \&\&\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>done());}
\DoxyCodeLine{01530\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>done();}
\DoxyCodeLine{01531\ \ \ \ \ \}}
\DoxyCodeLine{01532\ }
\DoxyCodeLine{01544\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a2a275b6ac54a5424245c4a56868ee2d2}{offload}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},}
\DoxyCodeLine{01545\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),}
\DoxyCodeLine{01546\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=\mbox{\hyperlink{classff_1_1ff__loadbalancer_a2e2e06da430375b9b41976c2afd948fca4fd0e758e14b68e95fceb3d4beda1e9a}{ff\_loadbalancer::TICKS2WAIT}})\ \{\ }
\DoxyCodeLine{01547\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\ inbuffer\ =\ \mbox{\hyperlink{classff_1_1ff__node_adfa6f2bc22637590349e94ecb9b3c8eb}{get\_in\_buffer}}();}
\DoxyCodeLine{01548\ }
\DoxyCodeLine{01549\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inbuffer)\ \{}
\DoxyCodeLine{01550\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (blocking\_out)\ \{}
\DoxyCodeLine{01551\ \ \ \ \ \ \ \ \ \ \ \ \ \_retry:}
\DoxyCodeLine{01552\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ empty=inbuffer-\/>empty();}
\DoxyCodeLine{01553\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inbuffer-\/>push(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \{}
\DoxyCodeLine{01554\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (empty)\ \mbox{\hyperlink{pthread__minport__windows_8h_af3771cd9bcc377935b42c79ab48a3931}{pthread\_cond\_signal}}(\mbox{\hyperlink{classff_1_1ff__node_aa7be481f0b79329c78a06d6024145078}{p\_cons\_c}});}
\DoxyCodeLine{01555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ tv;}
\DoxyCodeLine{01558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a5b1f0a8d2b5b3ed69bee02a6b2d3041e}{timedwait\_timeout}}(tv);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}});}
\DoxyCodeLine{01560\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pthread\_cond\_timedwait(\mbox{\hyperlink{classff_1_1ff__node_a11e20a0c57c67d02be9978d17dbe3139}{prod\_c}},\ \mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}},\ \&tv);}
\DoxyCodeLine{01561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\mbox{\hyperlink{classff_1_1ff__node_a48a7bfb7a1292d9d6a223b6779c96ab3}{prod\_m}});}
\DoxyCodeLine{01562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ \_retry;}
\DoxyCodeLine{01563\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01564\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<retry;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inbuffer-\/>push(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_af269eeed52f7216ac56ddca1cd781add}{losetime\_out}}(ticks);}
\DoxyCodeLine{01567\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{01568\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01569\ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01570\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}})\ }
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM:\ accelerator\ is\ not\ set,\ offload\ not\ available"{}});}
\DoxyCodeLine{01572\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01573\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM:\ input\ buffer\ creation\ failed"{}});}
\DoxyCodeLine{01574\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01575\ \ \ \ \ \}}
\DoxyCodeLine{01576\ }
\DoxyCodeLine{01577\ }
\DoxyCodeLine{01589\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_ae7762b60786f38833f017400e155dc84}{load\_result}}(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},}
\DoxyCodeLine{01590\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),}
\DoxyCodeLine{01591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=\mbox{\hyperlink{classff_1_1ff__gatherer_a25a4ed393c99b990514e84ade2bed797af872b9f39e81228100289c7ec9a8e314}{ff\_gatherer::TICKS2WAIT}})\ \{}
\DoxyCodeLine{01592\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}})\ \{}
\DoxyCodeLine{01593\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM:\ load\_result:\ no\ collector\ present!!"{}});}
\DoxyCodeLine{01594\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01595\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01596\ }
\DoxyCodeLine{01597\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (blocking\_in)\ \{}
\DoxyCodeLine{01598\ \ \ \ \ \ \ \ \ \_retry:}
\DoxyCodeLine{01599\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>pop\_nb(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \{}
\DoxyCodeLine{01600\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ the\ queue\ between\ collector\ and\ the\ main\ thread\ is\ forced\ to\ be\ unbounded}}
\DoxyCodeLine{01601\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ therefore\ the\ collector\ cannot\ be\ blocked\ for\ the\ condition\ buffer\ full\ !\ }}
\DoxyCodeLine{01602\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((*\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ !=\ (\textcolor{keywordtype}{void}\ *)\mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}}))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01605\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01606\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ tv;}
\DoxyCodeLine{01607\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a5b1f0a8d2b5b3ed69bee02a6b2d3041e}{timedwait\_timeout}}(tv);}
\DoxyCodeLine{01608\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}});}
\DoxyCodeLine{01609\ \ \ \ \ \ \ \ \ \ \ \ \ pthread\_cond\_timedwait(\mbox{\hyperlink{classff_1_1ff__node_aa677b2d5f771ca0a9cfb59b6f198b910}{cons\_c}},\ \mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}},\&tv);}
\DoxyCodeLine{01610\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\mbox{\hyperlink{classff_1_1ff__node_a98de8c9881e56073f071ba0c4650ade8}{cons\_m}});}
\DoxyCodeLine{01611\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ \_retry;}
\DoxyCodeLine{01612\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01613\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<retry;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01614\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>pop\_nb(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \{}
\DoxyCodeLine{01615\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((*\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ !=\ (\textcolor{keywordtype}{void}\ *)\mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}}))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01617\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01618\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a1d2193b3053dc20e707d194d0bda91cf}{losetime\_in}}(ticks);}
\DoxyCodeLine{01619\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01620\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01621\ \ \ \ \ \}}
\DoxyCodeLine{01633\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a45e360c25774278a979e4a94d4dd1632}{load\_result\_nb}}(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{01634\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}})\ \{}
\DoxyCodeLine{01635\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM:\ load\_result\_nb:\ no\ collector\ present!!"{}});}
\DoxyCodeLine{01636\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01637\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01638\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>pop\_nb(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{01639\ \ \ \ \ \}}
\DoxyCodeLine{01640\ \ \ \ \ }
\DoxyCodeLine{01650\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classff_1_1ff__farm_a28b9c788ddcfcb6cdad0f5dfc2b46e80}{lb\_t}}\ *\ \mbox{\hyperlink{classff_1_1ff__farm_ac198b3718c3dfc5c89291a4a7b2fa732}{getlb}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}};\}}
\DoxyCodeLine{01651\ }
\DoxyCodeLine{01660\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classff_1_1ff__farm_a6cfb8f61c59e30639b95479b466a81ba}{gt\_t}}\ *\ \mbox{\hyperlink{classff_1_1ff__farm_a10078083e6b36267c7669a5993605f9e}{getgt}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}};\}}
\DoxyCodeLine{01661\ }
\DoxyCodeLine{01670\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\ \mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}};\ \}}
\DoxyCodeLine{01671\ }
\DoxyCodeLine{01672\ }
\DoxyCodeLine{01680\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*\ \mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}()\textcolor{keyword}{\ const\ \ \ }\{}
\DoxyCodeLine{01681\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}};}
\DoxyCodeLine{01682\ \ \ \ \ \}}
\DoxyCodeLine{01683\ }
\DoxyCodeLine{01693\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*\ \mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}()\textcolor{keyword}{\ const\ }\{\ }
\DoxyCodeLine{01694\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ ==\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}\ ||\ \mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01695\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}};}
\DoxyCodeLine{01696\ \ \ \ \ \}}
\DoxyCodeLine{01697\ }
\DoxyCodeLine{01698\ }
\DoxyCodeLine{01699\ }
\DoxyCodeLine{01707\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a99b75a304b6e523d9597ad13a5c8b9ce}{reset}}()\ \{}
\DoxyCodeLine{01708\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}})\ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>reset();}
\DoxyCodeLine{01709\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})\ \ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>reset();}
\DoxyCodeLine{01710\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a99b75a304b6e523d9597ad13a5c8b9ce}{reset}}();}
\DoxyCodeLine{01711\ \ \ \ \ \}}
\DoxyCodeLine{01712\ }
\DoxyCodeLine{01721\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();\}}
\DoxyCodeLine{01722\ }
\DoxyCodeLine{01728\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_ab0e702de1fa76c39793d2efbe49aeee1}{get\_out\_nodes}}(\mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{01729\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{}
\DoxyCodeLine{01730\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}\ ==\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}})\ \{}
\DoxyCodeLine{01731\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>get\_out\_buffer());}
\DoxyCodeLine{01732\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.push\_back(\textcolor{keyword}{this});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01733\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01734\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>get\_out\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{01735\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()==0)\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.push\_back(\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}});}
\DoxyCodeLine{01736\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01737\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01738\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01739\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ wtmp;}
\DoxyCodeLine{01740\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{01741\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ab0e702de1fa76c39793d2efbe49aeee1}{get\_out\_nodes}}(wtmp);}
\DoxyCodeLine{01742\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (wtmp.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}()==0)\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}\ +=\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}};}
\DoxyCodeLine{01743\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}\ +=\ wtmp;}
\DoxyCodeLine{01744\ \ \ \ \ \}}
\DoxyCodeLine{01745\ }
\DoxyCodeLine{01746\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_ad04d046fd01ff701a0ce255ea03ea014}{get\_out\_nodes\_feedback}}(\mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{01747\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}\ +=\ \mbox{\hyperlink{classff_1_1ff__farm_a06e7e9cce89a1e7309c3ba6ad60da482}{outputNodesFeedback}};}
\DoxyCodeLine{01748\ \ \ \ \ \}}
\DoxyCodeLine{01749\ }
\DoxyCodeLine{01750\ \ \ \ \ }
\DoxyCodeLine{01751\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a8eac0373d9ff357375a99da36414b1ef}{get\_in\_nodes}}(\mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{01752\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.push\_back(\textcolor{keyword}{this});}
\DoxyCodeLine{01753\ \ \ \ \ \}}
\DoxyCodeLine{01754\ }
\DoxyCodeLine{01755\ \ \ \ \ \textcolor{comment}{/*\ \ WARNING:\ if\ these\ methods\ are\ called\ after\ prepare\ (i.e.\ after\ having\ called}}
\DoxyCodeLine{01756\ \textcolor{comment}{\ \ \ \ \ *\ \ run\_and\_wait\_end/run\_then\_freeze/run/....)\ they\ have\ no\ effect.\ \ \ \ \ }}
\DoxyCodeLine{01757\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{01758\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{01759\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a11ff7399a839693457f19a4fcf0c5794}{setFixedSize}}(\textcolor{keywordtype}{bool}\ fs)\ \{\ \mbox{\hyperlink{classff_1_1ff__farm_aec6dbb2ba9178a0898b393085ed9cbc8}{fixedsizeIN}}\ =\ \mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}}\ =\ fs;\ \}}
\DoxyCodeLine{01760\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_ab930205413a02f58f21fd511e4d2afbb}{setInputQueueLength}}(\textcolor{keywordtype}{int}\ sz,\ \textcolor{keywordtype}{bool}\ fixedsize)\ \ \{}
\DoxyCodeLine{01761\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}}\ =\ sz;}
\DoxyCodeLine{01762\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aec6dbb2ba9178a0898b393085ed9cbc8}{fixedsizeIN}}\ \ \ \ \ \ \ =\ fixedsize;}
\DoxyCodeLine{01763\ \ \ \ \ \}}
\DoxyCodeLine{01764\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_ad2c11f3711f28b73e2e414bf83e577c6}{setOutputQueueLength}}(\textcolor{keywordtype}{int}\ sz,\ \textcolor{keywordtype}{bool}\ fixedsize)\ \{}
\DoxyCodeLine{01765\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}}\ =\ sz;}
\DoxyCodeLine{01766\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}}\ \ \ \ \ \ \ =\ fixedsize;}
\DoxyCodeLine{01767\ \ \ \ \ \}}
\DoxyCodeLine{01768\ }
\DoxyCodeLine{01769\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a3b9ef87abb98204967b06079df2236b4}{numThreads}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_aadaff30ac3a0ec01d035f761705c9a30}{cardinality}}();\ \}}
\DoxyCodeLine{01770\ }
\DoxyCodeLine{01780\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__farm_a97cc8ef233e8b853b0f4dc3146b90bc0}{getstarttime}}()\ const\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>getstarttime();\}}
\DoxyCodeLine{01781\ }
\DoxyCodeLine{01794\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \ \mbox{\hyperlink{classff_1_1ff__farm_a36cc9f4f77cd43aa7f92514ced035c3c}{getstoptime}}()\ \ const\ \{}
\DoxyCodeLine{01795\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>getstoptime();}
\DoxyCodeLine{01796\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ timeval\ \mbox{\hyperlink{svd__common_8h_a4a86f5596ff1afa9113ff6cc07a60453}{zero}}=\{0,0\};}
\DoxyCodeLine{01797\ \ \ \ \ \ \ \ \ std::vector<struct\ timeval\ >\ workertime(\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size()+1,\mbox{\hyperlink{svd__common_8h_a4a86f5596ff1afa9113ff6cc07a60453}{zero}});}
\DoxyCodeLine{01798\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{01799\ \ \ \ \ \ \ \ \ \ \ \ \ workertime[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>getstoptime();}
\DoxyCodeLine{01800\ \ \ \ \ \ \ \ \ workertime[\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size()]=\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>getstoptime();}
\DoxyCodeLine{01801\ \ \ \ \ \ \ \ \ std::vector<struct\ timeval\ >::iterator\ it=}
\DoxyCodeLine{01802\ \ \ \ \ \ \ \ \ \ \ \ \ std::max\_element(workertime.begin(),workertime.end(),\mbox{\hyperlink{namespaceff_ac54c754eeec6fd543506690ce08703f8}{time\_compare}});}
\DoxyCodeLine{01803\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sugar_8h_a6b8c693f1c0454a1128432b746966c17}{return}}\ (*it);}
\DoxyCodeLine{01804\ \ \ \ \ \}}
\DoxyCodeLine{01805\ }
\DoxyCodeLine{01814\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \ \mbox{\hyperlink{classff_1_1ff__farm_af63b3eb5fa39e828357b5ac1cd9e4600}{getwstartime}}()\ const\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>getwstartime();\ \}\ \ \ \ }
\DoxyCodeLine{01815\ }
\DoxyCodeLine{01826\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \ \mbox{\hyperlink{classff_1_1ff__farm_ac563104e689ee1869723b145a9fc9026}{getwstoptime}}()\ const\ \{}
\DoxyCodeLine{01827\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>getwstoptime();}
\DoxyCodeLine{01828\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ timeval\ \mbox{\hyperlink{svd__common_8h_a4a86f5596ff1afa9113ff6cc07a60453}{zero}}=\{0,0\};}
\DoxyCodeLine{01829\ \ \ \ \ \ \ \ \ std::vector<struct\ timeval\ >\ workertime(\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size()+1,\mbox{\hyperlink{svd__common_8h_a4a86f5596ff1afa9113ff6cc07a60453}{zero}});}
\DoxyCodeLine{01830\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01831\ \ \ \ \ \ \ \ \ \ \ \ \ workertime[i]=workers[i]-\/>getwstoptime();}
\DoxyCodeLine{01832\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01833\ \ \ \ \ \ \ \ \ workertime[\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size()]=\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>getwstoptime();}
\DoxyCodeLine{01834\ \ \ \ \ \ \ \ \ std::vector<struct\ timeval\ >::iterator\ it=}
\DoxyCodeLine{01835\ \ \ \ \ \ \ \ \ \ \ \ \ std::max\_element(workertime.begin(),workertime.end(),\mbox{\hyperlink{namespaceff_ac54c754eeec6fd543506690ce08703f8}{time\_compare}});}
\DoxyCodeLine{01836\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sugar_8h_a6b8c693f1c0454a1128432b746966c17}{return}}\ (*it);}
\DoxyCodeLine{01837\ \ \ \ \ \}}
\DoxyCodeLine{01838\ \ \ \ \ }
\DoxyCodeLine{01848\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff__farm_a3e6029f4a04e3472c9c4d5ba8528185e}{ffTime}}()\ \{}
\DoxyCodeLine{01849\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})}
\DoxyCodeLine{01850\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>getstoptime(),\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>getstarttime());}
\DoxyCodeLine{01851\ }
\DoxyCodeLine{01852\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__farm_a36cc9f4f77cd43aa7f92514ced035c3c}{getstoptime}}(),\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>getstarttime());}
\DoxyCodeLine{01853\ \ \ \ \ \}}
\DoxyCodeLine{01854\ }
\DoxyCodeLine{01863\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff__farm_ae17ed3f1d48640ecc4705cf61f98282c}{ffwTime}}()\ \{}
\DoxyCodeLine{01864\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})}
\DoxyCodeLine{01865\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>getwstoptime(),\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>getwstartime());}
\DoxyCodeLine{01866\ }
\DoxyCodeLine{01867\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__farm_ac563104e689ee1869723b145a9fc9026}{getwstoptime}}(),\mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>getwstartime());}
\DoxyCodeLine{01868\ \ \ \ \ \}}
\DoxyCodeLine{01869\ }
\DoxyCodeLine{01870\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{01871\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ isSerializable()\{\ }
\DoxyCodeLine{01872\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ outputs;\ this-\/>\mbox{\hyperlink{classff_1_1ff__farm_ab0e702de1fa76c39793d2efbe49aeee1}{get\_out\_nodes}}(outputs);}
\DoxyCodeLine{01873\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}:\ outputs)\ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}}-\/>isSerializable())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01874\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01875\ \ \ \ \ \}}
\DoxyCodeLine{01876\ }
\DoxyCodeLine{01877\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ isDeserializable()\{\ }
\DoxyCodeLine{01878\ \ \ \ \ \ \ \ \ svector<ff\_node*>\ inputs;\ this-\/>\mbox{\hyperlink{classff_1_1ff__farm_a8eac0373d9ff357375a99da36414b1ef}{get\_in\_nodes}}(inputs);}
\DoxyCodeLine{01879\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{classff_1_1ff__node_a8dd9719fe25adcefd8156ebb81f3f26b}{ff\_node}}*\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}:\ inputs)\ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}-\/>isDeserializable())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01880\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ }
\DoxyCodeLine{01881\ \ \ \ \ \}}
\DoxyCodeLine{01882\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01883\ }
\DoxyCodeLine{01884\ \ \ \ \ }
\DoxyCodeLine{01885\ \textcolor{preprocessor}{\#if\ defined(TRACE\_FASTFLOW)}}
\DoxyCodeLine{01886\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a38626bfaad84beab04fe5e3f360d649c}{ffStats}}(std::ostream\ \&\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \{\ }
\DoxyCodeLine{01887\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ farm:\(\backslash\)n"{}};}
\DoxyCodeLine{01888\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>ffStats(\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}});}
\DoxyCodeLine{01889\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_a38626bfaad84beab04fe5e3f360d649c}{ffStats}}(\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}});}
\DoxyCodeLine{01890\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>ffStats(\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}});}
\DoxyCodeLine{01891\ \ \ \ \ \}}
\DoxyCodeLine{01892\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01893\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a38626bfaad84beab04fe5e3f360d649c}{ffStats}}(std::ostream\ \&\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \{\ }
\DoxyCodeLine{01894\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ <<\ \textcolor{stringliteral}{"{}FastFlow\ trace\ not\ enabled\(\backslash\)n"{}};}
\DoxyCodeLine{01895\ \ \ \ \ \}}
\DoxyCodeLine{01896\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01897\ }
\DoxyCodeLine{01898\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01899\ }
\DoxyCodeLine{01903\ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classff_1_1ff__farm_ae1a10685c58cdad964c0d89c3089e714}{svc}}(\textcolor{keywordtype}{void}\ *)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};\ \}}
\DoxyCodeLine{01904\ }
\DoxyCodeLine{01908\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a65bf807eaae59f89718beb4c5cb5ef6f}{svc\_init}}()\ \ \ \ \ \ \ \{\ \textcolor{keywordflow}{return}\ -\/1;\ \};}
\DoxyCodeLine{01909\ }
\DoxyCodeLine{01913\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_add5b42e5c7103a08a2168bedc34beae5}{svc\_end}}()\ \ \ \ \ \ \ \ \{\}}
\DoxyCodeLine{01914\ }
\DoxyCodeLine{01915\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__farm_ac739b3832fc7ca13c318af7b97f20068}{get\_my\_id}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ -\/1;\ \};}
\DoxyCodeLine{01916\ }
\DoxyCodeLine{01917\ }
\DoxyCodeLine{01918\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a2e601e9d5c98cd758138e83a7faccd95}{setAffinity}}(\textcolor{keywordtype}{int})\ \{\ }
\DoxyCodeLine{01919\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ setAffinity:\ cannot\ set\ affinity\ for\ the\ farm\(\backslash\)n"{}});}
\DoxyCodeLine{01920\ \ \ \ \ \}}
\DoxyCodeLine{01921\ }
\DoxyCodeLine{01922\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_abe40b2eb76a90cfa81c2db79ebb1c836}{getCPUId}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ -\/1;\}}
\DoxyCodeLine{01923\ }
\DoxyCodeLine{01930\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__farm_a9bbfc237fe87820d0f6fcf4b102e7e2e}{thaw}}(\textcolor{keywordtype}{bool}\ \_freeze=\textcolor{keyword}{false},\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw=-\/1)\ \{}
\DoxyCodeLine{01931\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>thaw(\_freeze,\ nw);}
\DoxyCodeLine{01932\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>thaw(\_freeze,\ nw);}
\DoxyCodeLine{01933\ \ \ \ \ \}}
\DoxyCodeLine{01934\ }
\DoxyCodeLine{01943\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_ac4cac38412e36b2179a10e2a6116c7ac}{isfrozen}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>isfrozen();\ \}}
\DoxyCodeLine{01944\ }
\DoxyCodeLine{01945\ }
\DoxyCodeLine{01957\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_aa9110a6e4a29c680ec9e9749083473f8}{create\_input\_buffer}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ \textcolor{keywordtype}{bool}\ fixedsize)\ \{}
\DoxyCodeLine{01958\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \{}
\DoxyCodeLine{01959\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM\ create\_input\_buffer,\ buffer\ already\ present\(\backslash\)n"{}});}
\DoxyCodeLine{01960\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01961\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01962\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}})\ \{}
\DoxyCodeLine{01963\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>create\_input\_buffer(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},fixedsize)<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01964\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>isMultiInput())\ \{}
\DoxyCodeLine{01965\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>isComp())\ }
\DoxyCodeLine{01966\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}\ =\ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>get\_in\_buffer();}
\DoxyCodeLine{01967\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01968\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(1);}
\DoxyCodeLine{01969\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>get\_in\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{01970\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()==1);}
\DoxyCodeLine{01971\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}\ =\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[0]-\/>get\_in\_buffer();}
\DoxyCodeLine{01972\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01973\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}\ =\ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}}-\/>get\_in\_buffer();}
\DoxyCodeLine{01974\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01975\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_adfe6c917b93de5635d21a79c8c4181cb}{ff\_node::create\_input\_buffer}}(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ fixedsize)<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01976\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01977\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>set\_in\_buffer(\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}});}
\DoxyCodeLine{01978\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01979\ \ \ \ \ \}}
\DoxyCodeLine{01980\ \ \ \ \ }
\DoxyCodeLine{01994\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_ae103f480a8fd1b62d697c50452ae035e}{create\_output\_buffer}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ \textcolor{keywordtype}{bool}\ fixedsize=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{01995\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \{}
\DoxyCodeLine{01996\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM\ create\_output\_buffer,\ buffer\ already\ present\(\backslash\)n"{}});}
\DoxyCodeLine{01997\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01998\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01999\ }
\DoxyCodeLine{02000\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!this-\/>\mbox{\hyperlink{classff_1_1ff__farm_a5c5dc54cb6a91caacf2d316f5c3a19ad}{hasCollector}}())\ \{}
\DoxyCodeLine{02001\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ nworkers\ =\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size();}
\DoxyCodeLine{02002\ \ \ \ \ \ \ \ \ \ \ \ \ assert(nworkers>0);}
\DoxyCodeLine{02003\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{02004\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ to\ see\ if\ workers'\ output\ buffer\ has\ been\ already\ created\ }}
\DoxyCodeLine{02005\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__node_a334096bd901d8b6c2ae2d73877846ff0}{get\_out\_buffer}}()\ ==\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{02006\ }
\DoxyCodeLine{02007\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ can\ be\ here\ because\ we\ are\ in\ a\ pipeline\ and\ the\ next\ stage}}
\DoxyCodeLine{02008\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ is\ a\ multi-\/input\ stage.\ If\ the\ farm\ is\ a\ masterworker\ or\ if\ the\ node\ }}
\DoxyCodeLine{02009\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ has\ multiple\ output\ then\ we\ are\ a\ multi-\/output\ node\ and\ thus\ all\ channels}}
\DoxyCodeLine{02010\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ have\ to\ be\ registered\ as\ output\ channels\ for\ the\ worker.}}
\DoxyCodeLine{02011\ }
\DoxyCodeLine{02012\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nworkers;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{02013\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__farm_ae103f480a8fd1b62d697c50452ae035e}{create\_output\_buffer}}(\mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}},fixedsize)<0)\ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02014\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02015\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02016\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02017\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02018\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{02019\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_aea470bb6d3cd85ced8e63e4d58ce7c5c}{ff\_node::create\_output\_buffer}}(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ fixedsize)<0)\ \textcolor{keywordflow}{return}\ -\/1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{02020\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>set\_output\_buffer(this-\/>get\_out\_buffer())<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02021\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{}
\DoxyCodeLine{02022\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ !=\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})}
\DoxyCodeLine{02023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>set\_output\_buffer(this-\/>\mbox{\hyperlink{classff_1_1ff__node_a334096bd901d8b6c2ae2d73877846ff0}{get\_out\_buffer}}());}
\DoxyCodeLine{02024\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02025\ }
\DoxyCodeLine{02026\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02027\ \ \ \ \ \}}
\DoxyCodeLine{02028\ }
\DoxyCodeLine{02038\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a637e3a78c89d8f7343dccc44332ba79b}{set\_input}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{\ }
\DoxyCodeLine{02039\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>set\_input(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{02040\ \ \ \ \ \}}
\DoxyCodeLine{02041\ }
\DoxyCodeLine{02042\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a447eae9914ffc6125c4e8b4792d0bc15}{set\_input}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *node)\ \{\ }
\DoxyCodeLine{02043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>set\_input(node);}
\DoxyCodeLine{02044\ \ \ \ \ \}}
\DoxyCodeLine{02045\ }
\DoxyCodeLine{02046\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_abf495f9bd3d292eef0b8673aa7423c7d}{set\_input\_feedback}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *node)\ \{\ }
\DoxyCodeLine{02047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}}-\/>set\_input\_feedback(node);}
\DoxyCodeLine{02048\ \ \ \ \ \}}
\DoxyCodeLine{02049\ }
\DoxyCodeLine{02050\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_adf17c22366b2e7bf3bd17fe53961f9c4}{set\_output}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{02051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{}
\DoxyCodeLine{02052\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ !=\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})}
\DoxyCodeLine{02053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>isMultiOutput())\ \{}
\DoxyCodeLine{02054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>set\_output(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{02055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02057\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ cannot\ add\ output\ nodes,\ the\ collector\ is\ not\ multi-\/output\(\backslash\)n"{}});}
\DoxyCodeLine{02058\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02059\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}.size()+\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()\ >\ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}}.size())\ \{}
\DoxyCodeLine{02061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02062\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}\ +=\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}};}
\DoxyCodeLine{02064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;\ }
\DoxyCodeLine{02065\ \ \ \ \ \}}
\DoxyCodeLine{02066\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a113ac78040d1a5fd53dcef91559c285e}{set\_output}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *node)\ \{}
\DoxyCodeLine{02067\ }
\DoxyCodeLine{02068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{}
\DoxyCodeLine{02069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ !=\ (\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}*)\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}})}
\DoxyCodeLine{02070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>isMultiOutput())\ \{}
\DoxyCodeLine{02071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>set\_output(node);}
\DoxyCodeLine{02072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02074\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM,\ cannot\ add\ output\ node\(\backslash\)n"{}});}
\DoxyCodeLine{02075\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02076\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(1);}
\DoxyCodeLine{02078\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classff_1_1ff__farm_ab0e702de1fa76c39793d2efbe49aeee1}{get\_out\_nodes}}(w);}
\DoxyCodeLine{02079\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}.size()+1\ >\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size())\ \{}
\DoxyCodeLine{02080\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02081\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02082\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}}.push\_back(node);}
\DoxyCodeLine{02083\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;\ }
\DoxyCodeLine{02084\ \ \ \ \ \}}
\DoxyCodeLine{02085\ }
\DoxyCodeLine{02086\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_aefa2c322605628811c34507ab7e10a5d}{set\_output\_feedback}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *node)\ \{\ }
\DoxyCodeLine{02087\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a06e7e9cce89a1e7309c3ba6ad60da482}{outputNodesFeedback}}.push\_back(node);\ }
\DoxyCodeLine{02088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02089\ \ \ \ \ \}}
\DoxyCodeLine{02090\ }
\DoxyCodeLine{02091\ \ \ \ \ }
\DoxyCodeLine{02104\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_adc66c69987fe506d4be8fc32a578a183}{set\_output\_buffer}}(\mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\ \textcolor{keyword}{const}\ o)\ \{}
\DoxyCodeLine{02105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}})\ \{}
\DoxyCodeLine{02106\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}FARM\ with\ no\ collector,\ cannot\ set\ output\ buffer\(\backslash\)n"{}});}
\DoxyCodeLine{02107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02108\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}}-\/>set\_output\_buffer(o)<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02110\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}())\ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}}-\/>set\_output\_buffer(o);}
\DoxyCodeLine{02111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02112\ \ \ \ \ \}}
\DoxyCodeLine{02113\ }
\DoxyCodeLine{02114\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{02115\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_ab8822399d0bd94c8934538aa5cb5830e}{has\_input\_channel}};\ \textcolor{comment}{//\ for\ the\ accelerator\ mode}}
\DoxyCodeLine{02116\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_ad00c25cbef03bf6e5c6a62b31571bb43}{collector\_removed}};}
\DoxyCodeLine{02117\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a0f1b70afc67104cc2042bafbcc3fe376}{ordered}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{02118\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_aec6dbb2ba9178a0898b393085ed9cbc8}{fixedsizeIN}},\ \mbox{\hyperlink{classff_1_1ff__farm_aeddb0acf6bbdadc49db7ffbf6b4504a0}{fixedsizeOUT}};}
\DoxyCodeLine{02119\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_a9fcae58c60177a0d69d15e8f8dbbc308}{myownlb}},\mbox{\hyperlink{classff_1_1ff__farm_a18cdeaa3a0235c802d4c2d01efac98ad}{myowngt}};}
\DoxyCodeLine{02120\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__farm_aa85a4b110ef8c62b1a86328ba4570f0f}{worker\_cleanup}},\ \mbox{\hyperlink{classff_1_1ff__farm_ad91e5e266b6cb5ade66cd2614b350b51}{emitter\_cleanup}},\mbox{\hyperlink{classff_1_1ff__farm_a46fbbda42c1ac2f336775f7820a0b955}{collector\_cleanup}};}
\DoxyCodeLine{02121\ \ \ \ \ }
\DoxyCodeLine{02122\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a0dbcd63016ecca393cf8368766a4b522}{ondemand}};\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ >0,\ emulates\ on-\/demand\ scheduling}}
\DoxyCodeLine{02123\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_ad8f9ddd6f4241ba750a1646bba418b07}{in\_buffer\_entries}};}
\DoxyCodeLine{02124\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a162be8751520da23cfd41d1080b99560}{out\_buffer\_entries}};}
\DoxyCodeLine{02125\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__farm_adc2955274f3a4238e31805932f57d0c3}{max\_nworkers}};}
\DoxyCodeLine{02126\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__farm_a5c87be22f9a154584ad748ef82b55c40}{ordering\_memsize}};}
\DoxyCodeLine{02127\ \ \ \ \ }
\DoxyCodeLine{02128\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ \ \ \ \ \ \ \ \ \ *\ \ \mbox{\hyperlink{classff_1_1ff__farm_a5a8d1a9157268bdfd8954aa56468fc48}{emitter}};}
\DoxyCodeLine{02129\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ \ \ \ \ \ \ \ \ \ *\ \ \mbox{\hyperlink{classff_1_1ff__farm_a97205adaf26b3909054db2698a515724}{collector}};}
\DoxyCodeLine{02130\ }
\DoxyCodeLine{02131\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a28b9c788ddcfcb6cdad0f5dfc2b46e80}{lb\_t}}\ \ \ \ \ \ \ \ \ \ \ \ \ *\ \mbox{\hyperlink{classff_1_1ff__farm_ad697e953ef7206bd1199a4daf2376383}{lb}};}
\DoxyCodeLine{02132\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a6cfb8f61c59e30639b95479b466a81ba}{gt\_t}}\ \ \ \ \ \ \ \ \ \ \ \ \ *\ \mbox{\hyperlink{classff_1_1ff__farm_ae8620726d6fc169e4e13ba1b5a4ae2d3}{gt}};}
\DoxyCodeLine{02133\ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \ \mbox{\hyperlink{classff_1_1ff__farm_ab3fc92f157357c4c214a2906229f7dc4}{workers}};}
\DoxyCodeLine{02134\ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \ \mbox{\hyperlink{classff_1_1ff__farm_a628f1a6dd871b9409d856bb560a54763}{outputNodes}};}
\DoxyCodeLine{02135\ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \ \mbox{\hyperlink{classff_1_1ff__farm_a06e7e9cce89a1e7309c3ba6ad60da482}{outputNodesFeedback}};\ \ \ \ \ \ \ }
\DoxyCodeLine{02136\ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \ \mbox{\hyperlink{classff_1_1ff__farm_ae4e9624f757569097e5b03dfcda89783}{internalSupportNodes}};}
\DoxyCodeLine{02137\ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ordering\_pair\_t>}}\ \ \mbox{\hyperlink{classff_1_1ff__farm_a129434f84a4efbc25eb24e93f2956fb6}{ordering\_Memory}};\ \ \ \ \ \textcolor{comment}{//\ used\ for\ ordering\ purposes}}
\DoxyCodeLine{02138\ \};}
\DoxyCodeLine{02139\ }
\DoxyCodeLine{02140\ }
\DoxyCodeLine{02141\ }
\DoxyCodeLine{02142\ }
\DoxyCodeLine{02143\ }
\DoxyCodeLine{02144\ }
\DoxyCodeLine{02145\ \textcolor{preprocessor}{\#if\ (\_\_cplusplus\ >=\ 201103L)\ ||\ (defined\ \_\_GXX\_EXPERIMENTAL\_CXX0X\_\_)\ ||\ (defined(HAS\_CXX11\_VARIADIC\_TEMPLATES))}}
\DoxyCodeLine{02146\ }
\DoxyCodeLine{02147\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{make__unique_8hpp}{ff/make\_unique.hpp}}>}}
\DoxyCodeLine{02148\ }
\DoxyCodeLine{02149\ \textcolor{comment}{/*}}
\DoxyCodeLine{02150\ \textcolor{comment}{\ *\ \(\backslash\)class\ ff\_Farm}}
\DoxyCodeLine{02151\ \textcolor{comment}{\ *\ \(\backslash\)ingroup\ \ high\_level\_patterns}}
\DoxyCodeLine{02152\ \textcolor{comment}{\ *}}
\DoxyCodeLine{02153\ \textcolor{comment}{\ *\ \ \(\backslash\)brief\ The\ Farm\ pattern.}}
\DoxyCodeLine{02154\ \textcolor{comment}{\ */}\ \ \ \ }
\DoxyCodeLine{02155\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ IN\_t=\textcolor{keywordtype}{char},\ \textcolor{keyword}{typename}\ OUT\_t=IN\_t>}
\DoxyCodeLine{02156\ \textcolor{keyword}{class\ }ff\_Farm:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ \{}
\DoxyCodeLine{02157\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{02158\ \ \ \ \ \textcolor{comment}{//\ unique\_ptr\ based\ data}}
\DoxyCodeLine{02159\ \ \ \ \ std::vector<std::unique\_ptr<ff\_node>\ >\ Workers;}
\DoxyCodeLine{02160\ \ \ \ \ std::unique\_ptr<ff\_node>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Emitter;}
\DoxyCodeLine{02161\ \ \ \ \ std::unique\_ptr<ff\_node>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Collector;}
\DoxyCodeLine{02162\ \textcolor{keyword}{public}:\ \ \ \ }
\DoxyCodeLine{02163\ \ \ \ \ \textcolor{keyword}{typedef}\ IN\_t\ \ in\_type;}
\DoxyCodeLine{02164\ \ \ \ \ \textcolor{keyword}{typedef}\ OUT\_t\ out\_type;}
\DoxyCodeLine{02165\ }
\DoxyCodeLine{02166\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ the\ ownership\ of\ the\ ff\_node\ (unique)\ pointers\ is\ transferred\ to\ the\ farm\ !!!!}}
\DoxyCodeLine{02167\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ All\ workers,\ the\ Emitter\ and\ the\ Collector\ will\ be\ deleted\ in\ the\ ff\_Farm\ destructor\ !}}
\DoxyCodeLine{02168\ }
\DoxyCodeLine{02169\ \ \ \ \ ff\_Farm(std::vector<std::unique\_ptr<ff\_node>\ >\ \&\&\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}},}
\DoxyCodeLine{02170\ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<ff\_node>\ \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}\ \ =std::unique\_ptr<ff\_node>(\textcolor{keyword}{nullptr}),\ }
\DoxyCodeLine{02171\ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<ff\_node>\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ \ =std::unique\_ptr<ff\_node>(\textcolor{keyword}{nullptr}),\ }
\DoxyCodeLine{02172\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ input\_ch=\textcolor{keyword}{false}):\ }
\DoxyCodeLine{02173\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}(input\_ch,\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\textcolor{keyword}{false}),\ }
\DoxyCodeLine{02174\ \ \ \ \ \ \ \ \ Workers(std::move(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}})),\ Emitter(std::move(\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}})),\ Collector(std::move(\mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}))\ \{\ }
\DoxyCodeLine{02175\ }
\DoxyCodeLine{02176\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ nw\ =\ Workers.size();}
\DoxyCodeLine{02177\ \ \ \ \ \ \ \ \ assert(nw>0);}
\DoxyCodeLine{02178\ \ \ \ \ \ \ \ \ std::vector<ff\_node*>\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(nw);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{02179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nw;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\ Workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{stdlist__overload_8cpp_a120a90058439faee14791b33f94c0693}{get}}();\ }
\DoxyCodeLine{02180\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{ff\_farm::add\_workers}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{02181\ }
\DoxyCodeLine{02182\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ add\ default\ collector\ even\ if\ Collector\ is\ NULL,\ }}
\DoxyCodeLine{02183\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ you\ don't\ want\ the\ collector\ you\ have\ to\ call\ remove\_collector}}
\DoxyCodeLine{02184\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{ff\_farm::add\_collector}}(Collector.get());}
\DoxyCodeLine{02185\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}\ =\ Emitter.get();}
\DoxyCodeLine{02186\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ \mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{ff\_farm::add\_emitter}}(\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}});\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{02187\ \ \ \ \ \}}
\DoxyCodeLine{02188\ }
\DoxyCodeLine{02189\ \ \ \ \ ff\_Farm(std::vector<std::unique\_ptr<ff\_node>\ >\ \&\&\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}},}
\DoxyCodeLine{02190\ \ \ \ \ \ \ \ \ \ \ \ \ ff\_node\ \&\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}},\ ff\_node\ \&\mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}},\ }
\DoxyCodeLine{02191\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ input\_ch=\textcolor{keyword}{false}):}
\DoxyCodeLine{02192\ \ \ \ \ \ \ \ \ ff\_farm(input\_ch,\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),}
\DoxyCodeLine{02193\ \ \ \ \ \ \ \ \ Workers(\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}))\ \{}
\DoxyCodeLine{02194\ }
\DoxyCodeLine{02195\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ nw\ =\ Workers.size();}
\DoxyCodeLine{02196\ \ \ \ \ \ \ \ \ assert(nw>0);}
\DoxyCodeLine{02197\ \ \ \ \ \ \ \ \ std::vector<ff\_node*>\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(nw);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{02198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nw;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=Workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{stdlist__overload_8cpp_a120a90058439faee14791b33f94c0693}{get}}();}
\DoxyCodeLine{02199\ \ \ \ \ \ \ \ \ ff\_farm::add\_workers(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{02200\ }
\DoxyCodeLine{02201\ \ \ \ \ \ \ \ \ ff\_farm::add\_collector(\&\mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}});}
\DoxyCodeLine{02202\ \ \ \ \ \ \ \ \ ff\_farm::add\_emitter(\&\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}});\ }
\DoxyCodeLine{02203\ \ \ \ \ \}}
\DoxyCodeLine{02204\ \ \ \ \ ff\_Farm(std::vector<std::unique\_ptr<ff\_node>\ >\ \&\&\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}},\ \ }
\DoxyCodeLine{02205\ \ \ \ \ \ \ \ \ \ \ \ \ ff\_node\ \&\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}},\ \textcolor{keywordtype}{bool}\ input\_ch=\textcolor{keyword}{false}):}
\DoxyCodeLine{02206\ \ \ \ \ \ \ \ \ ff\_farm(input\_ch,\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\ \mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),}
\DoxyCodeLine{02207\ \ \ \ \ \ \ \ \ Workers(std::\mbox{\hyperlink{namespaceeastl_a58ada88d74ffe16bba892a0ccccc8aba}{move}}(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}))\ \{}
\DoxyCodeLine{02208\ }
\DoxyCodeLine{02209\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ nw\ =\ Workers.size();}
\DoxyCodeLine{02210\ \ \ \ \ \ \ \ \ assert(nw>0);}
\DoxyCodeLine{02211\ \ \ \ \ \ \ \ \ std::vector<ff\_node*>\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(nw);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{02212\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nw;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=Workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{stdlist__overload_8cpp_a120a90058439faee14791b33f94c0693}{get}}();}
\DoxyCodeLine{02213\ \ \ \ \ \ \ \ \ ff\_farm::add\_workers(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{02214\ }
\DoxyCodeLine{02215\ \ \ \ \ \ \ \ \ ff\_farm::add\_collector(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{02216\ \ \ \ \ \ \ \ \ ff\_farm::add\_emitter(\&\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}});\ }
\DoxyCodeLine{02217\ \ \ \ \ \}}
\DoxyCodeLine{02218\ }
\DoxyCodeLine{02219\ \ \ \ \ ff\_Farm(std::vector<std::unique\_ptr<ff\_node>\ >\ \&\&\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}},\ \textcolor{keywordtype}{bool}\ input\_ch):}
\DoxyCodeLine{02220\ \ \ \ \ \ \ \ \ ff\_Farm(std::\mbox{\hyperlink{namespaceeastl_a58ada88d74ffe16bba892a0ccccc8aba}{move}}(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}),\ std::unique\_ptr<ff\_node>(nullptr),\ }
\DoxyCodeLine{02221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<ff\_node>(nullptr),\ input\_ch)\ \{}
\DoxyCodeLine{02222\ \ \ \ \ \}}
\DoxyCodeLine{02223\ \ \ \ }
\DoxyCodeLine{02224\ \ \ \ \ \textcolor{comment}{/*\ copy\ constructor\ */}}
\DoxyCodeLine{02225\ \ \ \ \ ff\_Farm(\textcolor{keyword}{const}\ ff\_Farm<IN\_t,\ OUT\_t>\ \&\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}):\ ff\_farm(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ \{}
\DoxyCodeLine{02226\ \ \ \ \ \}}
\DoxyCodeLine{02227\ }
\DoxyCodeLine{02228\ \ \ \ \ }
\DoxyCodeLine{02229\ \ \ \ \ \textcolor{comment}{/*\ move\ constructor\ */}}
\DoxyCodeLine{02230\ \ \ \ \ ff\_Farm(ff\_Farm<IN\_t,\ OUT\_t>\ \&\&\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}):ff\_farm(std::\mbox{\hyperlink{namespaceeastl_a58ada88d74ffe16bba892a0ccccc8aba}{move}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}))\ \{}
\DoxyCodeLine{02231\ }
\DoxyCodeLine{02232\ \ \ \ \ \ \ \ \ Workers\ =\ std::move(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.Workers);}
\DoxyCodeLine{02233\ \ \ \ \ \ \ \ \ Emitter\ =\ std::move(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.Emitter);}
\DoxyCodeLine{02234\ \ \ \ \ \ \ \ \ Collector\ =\ std::move(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.Collector);}
\DoxyCodeLine{02235\ }
\DoxyCodeLine{02236\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.worker\_cleanup\ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02237\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.emitter\_cleanup\ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02238\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}.collector\_cleanup\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02239\ \ \ \ \ \}}
\DoxyCodeLine{02240\ }
\DoxyCodeLine{02241\ }
\DoxyCodeLine{02242\ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/\ */}}
\DoxyCodeLine{02243\ }
\DoxyCodeLine{02244\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FUNC\_t>}
\DoxyCodeLine{02245\ \ \ \ \ \textcolor{keyword}{explicit}\ ff\_Farm(FUNC\_t\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}},\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw,\ \textcolor{keywordtype}{bool}\ input\_ch=\textcolor{keyword}{false}):\ }
\DoxyCodeLine{02246\ \ \ \ \ \ \ \ \ ff\_farm(input\_ch,\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},}
\DoxyCodeLine{02247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}},\ nw)\ \{}
\DoxyCodeLine{02248\ }
\DoxyCodeLine{02249\ \ \ \ \ \ \ \ \ std::vector<ff\_node*>\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(nw);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{02250\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i<nw;++i)\ w[i]=new\ ff\_node\_F<IN\_t,OUT\_t>}}(\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}});}
\DoxyCodeLine{02251\ \ \ \ \ \ \ \ \ ff\_farm::add\_workers(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{02252\ \ \ \ \ \ \ \ \ ff\_farm::add\_collector(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{02253\ }
\DoxyCodeLine{02254\ \ \ \ \ \ \ \ \ ff\_farm::cleanup\_workers();\ \ }
\DoxyCodeLine{02255\ \ \ \ \ \}}
\DoxyCodeLine{02256\ }
\DoxyCodeLine{02257\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~ff\_Farm()\ \{\ \}}
\DoxyCodeLine{02258\ }
\DoxyCodeLine{02259\ \ \ \ \ \textcolor{keywordtype}{int}\ add\_emitter(ff\_node\ \&\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ \{}
\DoxyCodeLine{02260\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =ff\_farm::add\_emitter(\&\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}});}
\DoxyCodeLine{02261\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}>=0)\ emitter\_cleanup=\textcolor{keyword}{false};}
\DoxyCodeLine{02262\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{02263\ \ \ \ \ \}}
\DoxyCodeLine{02264\ \ \ \ \ \textcolor{keywordtype}{int}\ add\_collector(ff\_node\ \&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ \{}
\DoxyCodeLine{02265\ \ \ \ \ \ \ \ \ ff\_farm::remove\_collector();}
\DoxyCodeLine{02266\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=ff\_farm::add\_collector(\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{02267\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}>=0)\ collector\_cleanup=\textcolor{keyword}{false};}
\DoxyCodeLine{02268\ \ \ \ \ \ \ \ \ ff\_farm::collector\_removed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02269\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{02270\ \ \ \ \ \}}
\DoxyCodeLine{02271\ }
\DoxyCodeLine{02272\ \ \ \ \ \textcolor{keywordtype}{bool}\ load\_result(OUT\_t\ *\&\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},}
\DoxyCodeLine{02273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),}
\DoxyCodeLine{02274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=ff\_gatherer::TICKS2WAIT)\ \{}
\DoxyCodeLine{02275\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ff\_farm::load\_result((\textcolor{keywordtype}{void}**)\&\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ retry,ticks);}
\DoxyCodeLine{02276\ \ \ \ \ \}}
\DoxyCodeLine{02277\ \ \ \ \ \textcolor{keywordtype}{bool}\ load\_result\_nb(OUT\_t\ *\&\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ \{}
\DoxyCodeLine{02278\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ff\_farm::load\_result\_nb((\textcolor{keywordtype}{void}**)\&\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}});}
\DoxyCodeLine{02279\ \ \ \ \ \}\ \ \ \ }
\DoxyCodeLine{02280\ }
\DoxyCodeLine{02281\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ deleted\ method\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ }}
\DoxyCodeLine{02282\ \ \ \ \ \textcolor{keywordtype}{int}\ add\_workers(std::vector<ff\_node\ *>\ \&\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02283\ \ \ \ \ \textcolor{keywordtype}{int}\ add\_emitter(ff\_node\ *\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02284\ \ \ \ \ \textcolor{keywordtype}{int}\ add\_collector(ff\_node\ *\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{delete};\ \ \ \ }
\DoxyCodeLine{02285\ \ \ \ \ \textcolor{keywordtype}{bool}\ load\_result(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},}
\DoxyCodeLine{02286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),}
\DoxyCodeLine{02287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=ff\_gatherer::TICKS2WAIT)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02288\ \ \ \ \ \textcolor{keywordtype}{void}\ cleanup\_workers()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02289\ \ \ \ \ \textcolor{keywordtype}{void}\ cleanup\_all()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02290\ \ \ \ \ \textcolor{keywordtype}{bool}\ load\_result\_nb(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02291\ \};}
\DoxyCodeLine{02292\ }
\DoxyCodeLine{02293\ }
\DoxyCodeLine{02294\ \ \ \ \ }
\DoxyCodeLine{02295\ \textcolor{comment}{/*}}
\DoxyCodeLine{02296\ \textcolor{comment}{\ *\ \(\backslash\)class\ ff\_Farm}}
\DoxyCodeLine{02297\ \textcolor{comment}{\ *\ \(\backslash\)ingroup\ \ high\_level\_patterns}}
\DoxyCodeLine{02298\ \textcolor{comment}{\ *}}
\DoxyCodeLine{02299\ \textcolor{comment}{\ *\ \(\backslash\)brief\ The\ ordered\ Farm\ pattern.}}
\DoxyCodeLine{02300\ \textcolor{comment}{\ *}}
\DoxyCodeLine{02301\ \textcolor{comment}{\ *\ Ordered\ task-\/farm\ pattern\ based\ on\ ff\_farm\ building-\/block}}
\DoxyCodeLine{02302\ \textcolor{comment}{\ *}}
\DoxyCodeLine{02303\ \textcolor{comment}{\ */}}
\DoxyCodeLine{02304\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ IN\_t=\textcolor{keywordtype}{char},\ \textcolor{keyword}{typename}\ OUT\_t=IN\_t>}
\DoxyCodeLine{02305\ \textcolor{keyword}{class\ }ff\_OFarm:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ \{}
\DoxyCodeLine{02306\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{02307\ \ \ \ \ \textcolor{comment}{//\ unique\_ptr\ based\ data}}
\DoxyCodeLine{02308\ \ \ \ \ std::vector<std::unique\_ptr<ff\_node>\ >\ Workers;}
\DoxyCodeLine{02309\ \textcolor{keyword}{public}:\ \ \ \ }
\DoxyCodeLine{02310\ \ \ \ \ \textcolor{keyword}{typedef}\ IN\_t\ \ in\_type;}
\DoxyCodeLine{02311\ \ \ \ \ \textcolor{keyword}{typedef}\ OUT\_t\ out\_type;}
\DoxyCodeLine{02312\ }
\DoxyCodeLine{02313\ \ \ \ \ ff\_OFarm(std::vector<std::unique\_ptr<ff\_node>\ >\ \&\&\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}},\ \ \textcolor{keywordtype}{bool}\ input\_ch=\textcolor{keyword}{false}):\ }
\DoxyCodeLine{02314\ \ \ \ \ \ \ \ \ ff\_farm(input\_ch,\ \mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\ \mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}},\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}.\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}()),\ }
\DoxyCodeLine{02315\ \ \ \ \ \ \ \ \ Workers(std::\mbox{\hyperlink{namespaceeastl_a58ada88d74ffe16bba892a0ccccc8aba}{move}}(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}))\ \{\ }
\DoxyCodeLine{02316\ \ \ \ \ \ \ \ \ assert(Workers.size());}
\DoxyCodeLine{02317\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ nw\ =\ Workers.size();}
\DoxyCodeLine{02318\ \ \ \ \ \ \ \ \ assert(nw>0);}
\DoxyCodeLine{02319\ \ \ \ \ \ \ \ \ std::vector<ff\_node*>\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(nw);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{02320\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nw;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\ Workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{stdlist__overload_8cpp_a120a90058439faee14791b33f94c0693}{get}}();\ }
\DoxyCodeLine{02321\ \ \ \ \ \ \ \ \ ff\_farm::add\_workers(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{02322\ \ \ \ \ \ \ \ \ this-\/>set\_ordered();}
\DoxyCodeLine{02323\ \ \ \ \ \ \ \ \ ff\_farm::add\_collector(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{02324\ \ \ \ \ \}}
\DoxyCodeLine{02325\ }
\DoxyCodeLine{02326\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FUNC\_t>}
\DoxyCodeLine{02327\ \ \ \ \ \textcolor{keyword}{explicit}\ ff\_OFarm(FUNC\_t\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}},\ \textcolor{keywordtype}{size\_t}\ nw,\ \textcolor{keywordtype}{bool}\ input\_ch=\textcolor{keyword}{false}):\ }
\DoxyCodeLine{02328\ \ \ \ \ \ \ \ \ ff\_farm(input\_ch,\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\mbox{\hyperlink{config_8hpp_a3ad1f45f1a1677795f690af8cd99bf24}{DEFAULT\_BUFFER\_CAPACITY}},\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}},nw)\ \{}
\DoxyCodeLine{02329\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (Workers.size()>0)\ \{}
\DoxyCodeLine{02330\ \ \ \ \ \ \ \ \ \ \ \ \ error(\textcolor{stringliteral}{"{}OFARM:\ workers\ already\ added\(\backslash\)n"{}});}
\DoxyCodeLine{02331\ \ \ \ \ \ \ \ \ \ \ \ \ return;}
\DoxyCodeLine{02332\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02333\ \ \ \ \ \ \ \ \ assert(nw>0);}
\DoxyCodeLine{02334\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nw;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{02335\ \ \ \ \ \ \ \ \ \ \ \ \ Workers.push\_back(make\_unique<ff\_node\_F<IN\_t,OUT\_t>>(\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}));}
\DoxyCodeLine{02336\ \ \ \ \ \ \ \ \ std::vector<ff\_node*>\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(nw);\ \ \ \ \ \ \ \ }
\DoxyCodeLine{02337\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<nw;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\ Workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{stdlist__overload_8cpp_a120a90058439faee14791b33f94c0693}{get}}();\ }
\DoxyCodeLine{02338\ \ \ \ \ \ \ \ \ ff\_farm::add\_workers(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});\ \ \ \ \ \ \ \ }
\DoxyCodeLine{02339\ \ \ \ \ \ \ \ \ this-\/>set\_ordered();}
\DoxyCodeLine{02340\ \ \ \ \ \ \ \ \ ff\_farm::add\_collector(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{02341\ \ \ \ \ \}}
\DoxyCodeLine{02342\ }
\DoxyCodeLine{02343\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~ff\_OFarm()\ \{\ \}}
\DoxyCodeLine{02344\ }
\DoxyCodeLine{02345\ \ \ \ \ \textcolor{keywordtype}{int}\ add\_emitter(ff\_node\ \&\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ \{}
\DoxyCodeLine{02346\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =ff\_farm::add\_emitter(\&\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}});}
\DoxyCodeLine{02347\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}>=0)\ emitter\_cleanup=\textcolor{keyword}{false};}
\DoxyCodeLine{02348\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{02349\ \ \ \ \ \}}
\DoxyCodeLine{02350\ \ \ \ \ \textcolor{keywordtype}{int}\ add\_collector(ff\_node\ \&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ \{}
\DoxyCodeLine{02351\ \ \ \ \ \ \ \ \ ff\_farm::remove\_collector();}
\DoxyCodeLine{02352\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=ff\_farm::add\_collector(\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{02353\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}>=0)\ collector\_cleanup=\textcolor{keyword}{false};}
\DoxyCodeLine{02354\ \ \ \ \ \ \ \ \ ff\_farm::collector\_removed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02355\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{02356\ \ \ \ \ \}}
\DoxyCodeLine{02357\ }
\DoxyCodeLine{02358\ }
\DoxyCodeLine{02359\ \ \ \ \ }
\DoxyCodeLine{02360\ \ \ \ \ \textcolor{keywordtype}{int}\ add\_emitter(ff\_node\ *\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ \ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02361\ \ \ \ \ \textcolor{keywordtype}{int}\ add\_collector(ff\_node\ *\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02362\ }
\DoxyCodeLine{02363\ \ \ \ \ \textcolor{keywordtype}{int}\ add\_workers(std::vector<ff\_node\ *>\ \&\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02364\ \ \ \ \ \textcolor{keywordtype}{int}\ remove\_collector()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02365\ \ \ \ \ \textcolor{keywordtype}{void}\ cleanup\_all()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02366\ }
\DoxyCodeLine{02367\ \ \ \ \ \textcolor{keywordtype}{bool}\ load\_result(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},}
\DoxyCodeLine{02368\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),}
\DoxyCodeLine{02369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=ff\_gatherer::TICKS2WAIT)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02370\ \ \ \ \ \textcolor{keywordtype}{bool}\ load\_result(OUT\_t\ *\&\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},}
\DoxyCodeLine{02371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),}
\DoxyCodeLine{02372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=ff\_gatherer::TICKS2WAIT)\ \{}
\DoxyCodeLine{02373\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ff\_farm::load\_result((\textcolor{keywordtype}{void}**)\&\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ retry,ticks);}
\DoxyCodeLine{02374\ \ \ \ \ \}}
\DoxyCodeLine{02375\ }
\DoxyCodeLine{02376\ \ \ \ \ \textcolor{keywordtype}{bool}\ load\_result\_nb(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02377\ \ \ \ \ \textcolor{keywordtype}{bool}\ load\_result\_nb(OUT\_t\ *\&\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ \{}
\DoxyCodeLine{02378\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ff\_farm::load\_result\_nb((\textcolor{keywordtype}{void}**)\&\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}});}
\DoxyCodeLine{02379\ \ \ \ \ \}}
\DoxyCodeLine{02380\ \};}
\DoxyCodeLine{02381\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02382\ }
\DoxyCodeLine{02383\ \}\ \textcolor{comment}{//\ namespace\ ff}}
\DoxyCodeLine{02384\ }
\DoxyCodeLine{02385\ }
\DoxyCodeLine{02386\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ FF\_FARM\_HPP\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
