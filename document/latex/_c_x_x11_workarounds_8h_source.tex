\doxysection{CXX11\+Workarounds.\+h}
\hypertarget{_c_x_x11_workarounds_8h_source}{}\label{_c_x_x11_workarounds_8h_source}\index{external/taskflow/3rd-\/party/eigen-\/3.3.7/unsupported/Eigen/CXX11/src/util/CXX11Workarounds.h@{external/taskflow/3rd-\/party/eigen-\/3.3.7/unsupported/Eigen/CXX11/src/util/CXX11Workarounds.h}}
\mbox{\hyperlink{_c_x_x11_workarounds_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2013\ Christian\ Seiler\ <christian@iwakd.de>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_CXX11WORKAROUNDS\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_CXX11WORKAROUNDS\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{comment}{/*\ COMPATIBILITY\ CHECKS}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ (so\ users\ of\ compilers\ that\ are\ too\ old\ get\ some\ realistic\ error\ messages)}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#if\ defined(\_\_INTEL\_COMPILER)\ \&\&\ (\_\_INTEL\_COMPILER\ <\ 1310)}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#error\ Intel\ Compiler\ only\ supports\ required\ C++\ features\ since\ version\ 13.1.}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ note\ that\ most\ stuff\ in\ principle\ works\ with\ 13.0\ but\ when\ combining}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ some\ features,\ at\ some\ point\ 13.0\ will\ just\ fail\ with\ an\ internal\ assertion}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#elif\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_clang\_\_)\ \&\&\ !defined(\_\_INTEL\_COMPILER)\ \&\&\ (\_\_GNUC\_\_\ <\ 4\ ||\ (\_\_GNUC\_\_\ ==\ 4\ \&\&\ \_\_GNUC\_MINOR\_\_\ <\ 6))}}
\DoxyCodeLine{00021\ \textcolor{comment}{//\ G++\ <\ 4.6\ by\ default\ will\ continue\ processing\ the\ source\ files\ -\/\ even\ if\ we\ use\ \#error\ to\ make}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ it\ error\ out.\ For\ this\ reason,\ we\ use\ the\ pragma\ to\ make\ sure\ G++\ aborts\ at\ the\ first\ error}}
\DoxyCodeLine{00023\ \textcolor{comment}{//\ it\ sees.\ Unfortunately,\ that\ is\ still\ not\ our\ \#error\ directive,\ but\ at\ least\ the\ output\ is}}
\DoxyCodeLine{00024\ \textcolor{comment}{//\ short\ enough\ the\ user\ has\ a\ chance\ to\ see\ that\ the\ compiler\ version\ is\ not\ sufficient\ for}}
\DoxyCodeLine{00025\ \textcolor{comment}{//\ the\ funky\ template\ mojo\ we\ use.}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ error\ "{}-\/Wfatal-\/errors"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#error\ GNU\ C++\ Compiler\ (g++)\ only\ supports\ required\ C++\ features\ since\ version\ 4.6.}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{comment}{/*\ Check\ that\ the\ compiler\ at\ least\ claims\ to\ support\ C++11.\ It\ might\ not\ be\ sufficient}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ *\ because\ the\ compiler\ may\ not\ implement\ it\ correctly,\ but\ at\ least\ we'll\ know.}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ *\ On\ the\ other\ hand,\ visual\ studio\ still\ doesn't\ claim\ to\ support\ C++11\ although\ it's}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ *\ compliant\ enugh\ for\ our\ purpose.}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#if\ (\_\_cplusplus\ <=\ 199711L)\ \&\&\ (EIGEN\_COMP\_MSVC\ <\ 1900)}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_clang\_\_)\ \&\&\ !defined(\_\_INTEL\_COMPILER)}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ error\ "{}-\/Wfatal-\/errors"{}}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#error\ This\ library\ needs\ at\ least\ a\ C++11\ compliant\ compiler.\ If\ you\ use\ g++/clang,\ please\ enable\ the\ -\/std=c++11\ compiler\ flag.\ (-\/std=c++0x\ on\ older\ versions.)}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_eigen}{Eigen}}\ \{}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_eigen_1_1internal}{internal}}\ \{}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{comment}{/*\ std::get\ is\ only\ constexpr\ in\ C++14,\ not\ yet\ in\ C++11}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t}\ I,\ \textcolor{keyword}{class}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ \ \ \ \ \ \ \mbox{\hyperlink{namespace_eigen_1_1internal_a7dd131bbd4a892f4d48cfce903de56c5}{array\_get}}(std::vector<T>\&\ \ \ \ \ \ \ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}[I];\ \}}
\DoxyCodeLine{00051\ \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t}\ I,\ \textcolor{keyword}{class}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\&\ \ \ \ \ \ \mbox{\hyperlink{namespace_eigen_1_1internal_a7dd131bbd4a892f4d48cfce903de56c5}{array\_get}}(std::vector<T>\&\&\ \ \ \ \ \ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}[I];\ \}}
\DoxyCodeLine{00052\ \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t}\ I,\ \textcolor{keyword}{class}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{namespace_eigen_1_1internal_a7dd131bbd4a892f4d48cfce903de56c5}{array\_get}}(std::vector<T>\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}[I];\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{comment}{/*\ Suppose\ you\ have\ a\ template\ of\ the\ form}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ *\ template<typename\ T>\ struct\ X;}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ *\ And\ you\ want\ to\ specialize\ it\ in\ such\ a\ way:}}
\DoxyCodeLine{00057\ \textcolor{comment}{\ *\ \ \ \ template<typename\ S1,\ typename...\ SN>\ struct\ X<Foo<S1,\ SN...>>\ \{\ :::\ \};}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ *\ \ \ \ template<>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ struct\ X<Foo<>>\ \ \ \ \ \ \ \ \ \ \{\ :::\ \};}}
\DoxyCodeLine{00059\ \textcolor{comment}{\ *\ This\ will\ work\ in\ Intel's\ compiler\ 13.0,\ but\ only\ to\ some\ extent\ in\ g++\ 4.6,\ since}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ *\ g++\ can\ only\ match\ templates\ called\ with\ parameter\ packs\ if\ the\ number\ of\ template}}
\DoxyCodeLine{00061\ \textcolor{comment}{\ *\ arguments\ is\ not\ a\ fixed\ size\ (so\ inside\ the\ first\ specialization,\ referencing}}
\DoxyCodeLine{00062\ \textcolor{comment}{\ *\ X<Foo<Sn...>>\ will\ fail\ in\ g++).\ On\ the\ other\ hand,\ g++\ will\ accept\ the\ following:}}
\DoxyCodeLine{00063\ \textcolor{comment}{\ *\ \ \ \ template<typename\ S...>\ struct\ X<Foo<S...>>\ \{\ :::\ \}:}}
\DoxyCodeLine{00064\ \textcolor{comment}{\ *\ as\ an\ additional\ (!)\ specialization,\ which\ will\ then\ only\ match\ the\ empty\ case.}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ *\ But\ Intel's\ compiler\ 13.0\ won't\ accept\ that,\ it\ will\ only\ accept\ the\ empty\ syntax,}}
\DoxyCodeLine{00066\ \textcolor{comment}{\ *\ so\ we\ have\ to\ create\ a\ workaround\ for\ this.}}
\DoxyCodeLine{00067\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_INTEL\_COMPILER)}}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#define\ EIGEN\_TPL\_PP\_SPEC\_HACK\_DEF(mt,\ n)\ \ \ \ mt...\ n}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ EIGEN\_TPL\_PP\_SPEC\_HACK\_DEFC(mt,\ n)\ \ \ ,\ EIGEN\_TPL\_PP\_SPEC\_HACK\_DEF(mt,\ n)}}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#define\ EIGEN\_TPL\_PP\_SPEC\_HACK\_USE(n)\ \ \ \ \ \ \ \ n...}}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#define\ EIGEN\_TPL\_PP\_SPEC\_HACK\_USEC(n)\ \ \ \ \ \ \ ,\ n...}}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#define\ EIGEN\_TPL\_PP\_SPEC\_HACK\_DEF(mt,\ n)}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#define\ EIGEN\_TPL\_PP\_SPEC\_HACK\_DEFC(mt,\ n)}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#define\ EIGEN\_TPL\_PP\_SPEC\_HACK\_USE(n)}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#define\ EIGEN\_TPL\_PP\_SPEC\_HACK\_USEC(n)}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \}\ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_CXX11WORKAROUNDS\_H}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \textcolor{comment}{/*}}
\DoxyCodeLine{00087\ \textcolor{comment}{\ *\ kate:\ space-\/indent\ on;\ indent-\/width\ 2;\ mixedindent\ off;\ indent-\/mode\ cstyle;}}
\DoxyCodeLine{00088\ \textcolor{comment}{\ */}}

\end{DoxyCode}
