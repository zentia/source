\doxysection{motion\+\_\+transform.\+h}
\hypertarget{motion__transform_8h_source}{}\label{motion__transform_8h_source}\index{runtime/runtime/rtx/motion\_transform.h@{runtime/runtime/rtx/motion\_transform.h}}
\mbox{\hyperlink{motion__transform_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Created\ by\ mike\ on\ 9/22/24.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{basic__types_8h}{runtime/core/basic\_types.h}}>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute}{luisa::compute}}\ \{}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_a3dd0dffc0a650f39390a32cc6a34ada2}{MotionInstanceTransformMatrix}}\ =\ \mbox{\hyperlink{namespaceluisa_aa265c9f4149500b446114ab68a968446}{float4x4}};}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{struct\ }\textcolor{keyword}{alignas}(16)\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t}{MotionInstanceTransformSRT}}\ \{}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t_a04e050d8388f1997fda87f4583257a31}{pivot}}[3]\ =\ \{0.f,\ 0.f,\ 0.f\};}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t_a19a0cd23e758d79a611bb2b1396eba36}{quaternion}}[4]\ =\ \{0.f,\ 0.f,\ 0.f,\ 1.f\};}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t_a30af290bf232741a2af01615076e6a51}{scale}}[3]\ =\ \{1.f,\ 1.f,\ 1.f\};}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t_a187d1cfc77870721b7cac202f3d0424d}{shear}}[3]\ =\ \{0.f,\ 0.f,\ 0.f\};}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t_a9c252cf91d316c70d0ffae6c9cf663d3}{translation}}[3]\ =\ \{0.f,\ 0.f,\ 0.f\};}
\DoxyCodeLine{00019\ \};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{struct\ }\textcolor{keyword}{alignas}(16)\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_ab35831a9b7ff54431a1d1b6ecc15504b}{MotionInstanceTransform}}\ \{}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_aedc2bef5ca9c32b5db9b28faab43050f}{data}}[16]\ =\ \{\};}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_ab35831a9b7ff54431a1d1b6ecc15504b}{MotionInstanceTransform}}()\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00026\ \ \ \ \ explicit\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_ab35831a9b7ff54431a1d1b6ecc15504b}{MotionInstanceTransform}}(const\ \mbox{\hyperlink{namespaceluisa_1_1compute_a3dd0dffc0a650f39390a32cc6a34ada2}{MotionInstanceTransformMatrix}}\ \&m)\ noexcept;}
\DoxyCodeLine{00027\ \ \ \ \ explicit\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_ab35831a9b7ff54431a1d1b6ecc15504b}{MotionInstanceTransform}}(const\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t}{MotionInstanceTransformSRT}}\ \&m)\ noexcept;}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \ [[nodiscard]]\ auto\ \&\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_ab6fda2b84f474c89235ddaeec241ca33}{as\_matrix}}()\ noexcept\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespaceluisa_1_1compute_a3dd0dffc0a650f39390a32cc6a34ada2}{MotionInstanceTransformMatrix}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_aedc2bef5ca9c32b5db9b28faab43050f}{data}});\ \}}
\DoxyCodeLine{00030\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \&\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_a2efb638ecb55b5ae30ca20121c7dae69}{as\_matrix}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{namespaceluisa_1_1compute_a3dd0dffc0a650f39390a32cc6a34ada2}{MotionInstanceTransformMatrix}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_aedc2bef5ca9c32b5db9b28faab43050f}{data}});\ \}}
\DoxyCodeLine{00031\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \&\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_a12bd7ea4ec4ec5fd33c3e4c951289d6e}{as\_srt}}()\ noexcept\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t}{MotionInstanceTransformSRT}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_aedc2bef5ca9c32b5db9b28faab43050f}{data}});\ \}}
\DoxyCodeLine{00032\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \&\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_afd1d3f21d07680541fa6c997a95f0c1e}{as\_srt}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t}{MotionInstanceTransformSRT}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_aedc2bef5ca9c32b5db9b28faab43050f}{data}});\ \}}
\DoxyCodeLine{00033\ \};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_ab35831a9b7ff54431a1d1b6ecc15504b}{MotionInstanceTransform::MotionInstanceTransform}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceluisa_1_1compute_a3dd0dffc0a650f39390a32cc6a34ada2}{MotionInstanceTransformMatrix}}\ \&m)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_ab6fda2b84f474c89235ddaeec241ca33}{as\_matrix}}()\ =\ m;}
\DoxyCodeLine{00037\ \}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_ab35831a9b7ff54431a1d1b6ecc15504b}{MotionInstanceTransform::MotionInstanceTransform}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t}{MotionInstanceTransformSRT}}\ \&m)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_a12bd7ea4ec4ec5fd33c3e4c951289d6e}{as\_srt}}()\ =\ m;}
\DoxyCodeLine{00041\ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceluisa_1_1compute_a3dd0dffc0a650f39390a32cc6a34ada2}{MotionInstanceTransformMatrix}})\ ==\ 64u\ \&\&\ \textcolor{keyword}{alignof}(\mbox{\hyperlink{namespaceluisa_1_1compute_a3dd0dffc0a650f39390a32cc6a34ada2}{MotionInstanceTransformMatrix}})\ ==\ 16u);}
\DoxyCodeLine{00044\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t}{MotionInstanceTransformSRT}})\ ==\ 64u\ \&\&\ \textcolor{keyword}{alignof}(\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform_s_r_t}{MotionInstanceTransformSRT}})\ ==\ 16u);}
\DoxyCodeLine{00045\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform}{MotionInstanceTransform}})\ ==\ 64u\ \&\&\ \textcolor{keyword}{alignof}(\mbox{\hyperlink{structluisa_1_1compute_1_1_motion_instance_transform}{MotionInstanceTransform}})\ ==\ 16u);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \}}

\end{DoxyCode}
