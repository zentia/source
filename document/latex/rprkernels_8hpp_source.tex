\doxysection{rprkernels.\+hpp}
\hypertarget{rprkernels_8hpp_source}{}\label{rprkernels_8hpp_source}\index{external/taskflow/3rd-\/party/ff/repara/rprkernels.hpp@{external/taskflow/3rd-\/party/ff/repara/rprkernels.hpp}}
\mbox{\hyperlink{rprkernels_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/*-\/\ Mode:\ C++;\ tab-\/width:\ 4;\ c-\/basic-\/offset:\ 4;\ indent-\/tabs-\/mode:\ nil\ -\/*-\/\ */}}
\DoxyCodeLine{00002\ \textcolor{comment}{/*\ ***************************************************************************}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ \ FastFlow\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or\ modify\ it}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ \ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public\ License\ version\ 3\ as}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ \ published\ by\ the\ Free\ Software\ Foundation.}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ \ Starting\ from\ version\ 3.0.1\ FastFlow\ is\ dual\ licensed\ under\ the\ GNU\ LGPLv3}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ \ or\ MIT\ License\ (https://github.com/ParaGroup/WindFlow/blob/vers3.x/LICENSE.MIT)}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ \ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,\ but\ WITHOUT}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *\ \ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of\ MERCHANTABILITY\ or}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ \ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ \ License\ for\ more\ details.}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ \ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public\ License}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ \ along\ with\ this\ program;\ if\ not,\ write\ to\ the\ Free\ Software\ Foundation,}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ \ Inc.,\ 59\ Temple\ Place\ -\/\ Suite\ 330,\ Boston,\ MA\ 02111-\/1307,\ USA.}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ ****************************************************************************}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{comment}{/*}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ Authors:\ Massimo\ Torquati}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ Rafael\ Sotomayor}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ *\ Date:\ \ \ \ October\ \ \ 2015}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ February\ \ 2016\ (major\ improvements\ -\/-\/\ Massimo)}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ May\ \ \ \ \ \ \ 2016\ (minor\ improvements\ -\/-\/\ Massimo)}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ July\ \ \ \ \ \ 2016\ (fixing\ scope\ env\ variables\ -\/-\/\ Massimo)}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#ifndef\ REPARA\_KERNELS\_HPP}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#define\ REPARA\_KERNELS\_HPP}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{comment}{//\ enables\ REPARA\ support\ in\ the\ FastFlow\ run-\/time}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#if\ !defined(FF\_REPARA)}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#error\ "{}FF\_REPARA\ not\ defined"{}}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00039\ \textcolor{comment}{//\ defines\ FastFlow\ blocking\ mode}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#if\ !defined(BLOCKING\_MODE)}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#error\ "{}BLOCKING\_MODE\ not\ defined"{}}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#include\ <cassert>}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#include\ <cstdlib>}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{node_8hpp}{ff/node.hpp}}>}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{selector_8hpp}{ff/selector.hpp}}>}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{map_8hpp}{ff/map.hpp}}>}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ CPU\ map}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{stencil_reduce_o_c_l_8hpp}{ff/stencilReduceOCL.hpp}}>}\ \ \textcolor{comment}{//\ GPU\ map}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{tpcnode_8hpp}{ff/tpcnode.hpp}}>}\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TPC\ devices}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{3rd-party_2ff_2pipeline_8hpp}{ff/pipeline.hpp}}>}\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ pipeline}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{farm_8hpp}{ff/farm.hpp}}>}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ task-\/ffarm\ }}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{base_kernel_task_8hpp}{ff/repara/baseKernelTask.hpp}}>}\ \ \ \ \textcolor{comment}{//\ repara\ base\ task}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#include\ <Method.h>}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#include\ <PicoScopeMethod.h>}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#include\ <RaplMethod.h>}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{keyword}{using\ namespace\ }repara::measurement;}
\DoxyCodeLine{00067\ \textcolor{keyword}{using\ namespace\ }repara::measurement::scope;}
\DoxyCodeLine{00068\ \textcolor{keyword}{using\ namespace\ }repara::measurement::rapl;}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ENERGY\_MEASUREMENT\ }}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespaceff}{ff}};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#if\ defined(DPE\_PROTOCOL)}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#define\ DPE(X)\ X}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dpe_8hpp}{ff/repara/dpe.hpp}}>}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#else\ }}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#define\ DPE(X)}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#define\ NO\_DPE\_SCHEDULE\ 1}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerepara}{repara}}\ \{}
\DoxyCodeLine{00082\ \textcolor{keyword}{namespace\ }rprkernels\ \{}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{comment}{//\ queue\ size\ between\ two\ pipeline\ stages}}
\DoxyCodeLine{00085\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a616740dce4388fd934e6b30cf069bc8d}{DEFAULT\_PIPELINE\_QUEUE\_SIZE}}\ =\ 8;}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{comment}{//\ FIFO\ path\ and\ its\ default\ value}}
\DoxyCodeLine{00088\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{namespacerepara_1_1rprkernels_a0285e0761dd7557675cf1dcec095d974}{FIFO\_FILE}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00089\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_aa8cf7c6fbd4a665be28ad21efa7aa437}{DEFAULT\_FIFO\_FILE}}[]\ \ \ \ \ \ \ =\ \textcolor{stringliteral}{"{}/tmp/RMEASURE\_FIFO"{}};}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{comment}{//\ queue\ size\ between\ the\ scheduler\ and\ the\ workers}}
\DoxyCodeLine{00092\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_aa19d6ab105ceece61a017dc558678e70}{DEFAULT\_FARM\_QUEUE\_SIZE}}\ \ \ \ \ =\ 2;}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \textcolor{comment}{//\ logical\ target\ device\ number\ }}
\DoxyCodeLine{00095\ \textcolor{keyword}{typedef}\ \ \textcolor{keyword}{enum}\ \{\ }
\DoxyCodeLine{00096\ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba23a21bef013ff479b800c4ec0933c6a7}{CPU}}=0,\ }
\DoxyCodeLine{00097\ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba7a03417d3e348417736362d209429e89}{GPU0}}=10,\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba5f053641a139f4fab57870dbda769e9f}{GPU1}},\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba2ace88b0ec0e372ce304b141acd3da16}{GPU2}},\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bbab0c4238f2faa947ad496f40d93edcaf2}{GPU3}},\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba913a2e87494c6037d00a32c78c9ae7c2}{GPU4}},}
\DoxyCodeLine{00098\ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba297deb3ac4e981bf5d138141dddd3a27}{FPGA0}}=20,\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba96daa90884ce87389918308de659ba1d}{FPGA1}},\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bbad9af2cec65227ecde6aa9e594e578ead}{FPGA2}},\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba3ea043d6c31803cdd08fdf61784427f3}{FPGA3}},\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba869e7acd8f94bf88199da5fb7287e7b4}{FPGA4}},}
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bbad93a69a49f16e08f3d5e414f98dc6f6f}{DSP0}}=30,\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba915cd2e98ebe64dee05eaaa9779cf8ee}{DSP1}},\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba0b95bf42a6f960870c68950cb05ba5ae}{DSP2}},\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bbaf77dfe7eb1c880327f1de6168605ce5b}{DSP3}},\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba5d82e7e6850780d7c0e4484c1de952f6}{DSP4}}\ }
\DoxyCodeLine{00100\ \}\ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bb}{Kernel\_Target\_t}};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \textcolor{keyword}{static}\ std::map<std::string,\ Kernel\_Target\_t>\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a4a2a02f69f421c066d0767edb2602774}{String2Target}}\ =\ \{\ }
\DoxyCodeLine{00103\ \ \ \ \ \{\textcolor{stringliteral}{"{}GPU:0"{}},\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba7a03417d3e348417736362d209429e89}{GPU0}}\},\ \ \ \{\textcolor{stringliteral}{"{}GPU:1"{}},\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba5f053641a139f4fab57870dbda769e9f}{GPU1}}\},\ \ \ \{\textcolor{stringliteral}{"{}GPU:2"{}},\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba2ace88b0ec0e372ce304b141acd3da16}{GPU2}}\},}
\DoxyCodeLine{00104\ \ \ \ \ \{\textcolor{stringliteral}{"{}FPGA:0"{}},\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba297deb3ac4e981bf5d138141dddd3a27}{FPGA0}}\},\ \{\textcolor{stringliteral}{"{}FPGA:1"{}},\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba96daa90884ce87389918308de659ba1d}{FPGA1}}\},\ \{\textcolor{stringliteral}{"{}FPGA:2"{}},\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bbad9af2cec65227ecde6aa9e594e578ead}{FPGA2}}\},}
\DoxyCodeLine{00105\ \ \ \ \ \{\textcolor{stringliteral}{"{}DSP:0"{}},\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bbad93a69a49f16e08f3d5e414f98dc6f6f}{DSP0}}\},\ \ \ \{\textcolor{stringliteral}{"{}DSP:1"{}},\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba915cd2e98ebe64dee05eaaa9779cf8ee}{DSP1}}\},\ \ \ \{\textcolor{stringliteral}{"{}DSP:2"{}},\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba0b95bf42a6f960870c68950cb05ba5ae}{DSP2}}\}}
\DoxyCodeLine{00106\ \};}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00113\ \textcolor{keyword}{static}\ std::map<std::string,\ size\_t\ >\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab59e939024fda24be923630cccbb4e6f}{device\_table}};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ }
\DoxyCodeLine{00122\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_af702d26aaddc2d45bd26052ad0c09b82}{Setup}}(\textcolor{keyword}{const}\ std::string\ \&program\_name)\ \{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\#ifdef\ SCOPE}}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ DEFAULT\_SCOPESERVICE[]\ \ \ \ =\ \textcolor{stringliteral}{"{}http://scopemachine:8080/RPC2"{}};}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordtype}{char}\ *scopeservice\ =\ getenv(\textcolor{stringliteral}{"{}SCOPESERVICE"{}});}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordflow}{if}\ (scopeservice\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}SCOPESERVICE\ env\ variable\ not\ set,\ using\ default\ value\ ("{}}\ <<\ DEFAULT\_SCOPESERVICE\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}};\ \ \ \ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ setenv(\textcolor{stringliteral}{"{}SCOPESERVICE"{}},DEFAULT\_SCOPESERVICE,\ 1);}
\DoxyCodeLine{00131\ \ \ \ \ \}\ }
\DoxyCodeLine{00132\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ DEFAULT\_RMEASURESERVICE[]\ =\ \textcolor{stringliteral}{"{}http://localhost:8081/RPC2"{}};}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{char}\ *rmeasureservice\ =\ getenv(\textcolor{stringliteral}{"{}RMEASURESERVICE"{}});}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{if}\ (rmeasureservice\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}RMEASURESERVICE\ \ env\ variable\ not\ set,\ using\ default\ value\ ("{}}\ <<\ DEFAULT\_RMEASURESERVICE\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}};\ \ \ \ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ setenv(\textcolor{stringliteral}{"{}RMEASURESERVICE"{}},DEFAULT\_RMEASURESERVICE,\ 1);}
\DoxyCodeLine{00138\ \ \ \ \ \}}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordtype}{char}*\ fifoFile\ =\ getenv\ (\textcolor{stringliteral}{"{}RMEASURE\_FIFO"{}});}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{if}\ (fifoFile\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}RMEASURE\_FIFO\ \ env\ variable\ not\ set,\ using\ default\ value\ ("{}}\ <<\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_aa8cf7c6fbd4a665be28ad21efa7aa437}{DEFAULT\_FIFO\_FILE}}\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}};\ \ \ \ }
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a0285e0761dd7557675cf1dcec095d974}{FIFO\_FILE}}\ =\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_aa8cf7c6fbd4a665be28ad21efa7aa437}{DEFAULT\_FIFO\_FILE}};}
\DoxyCodeLine{00143\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a0285e0761dd7557675cf1dcec095d974}{FIFO\_FILE}}\ =\ fifoFile;}
\DoxyCodeLine{00144\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ 0;}
\DoxyCodeLine{00146\ \ \ \ \ \mbox{\hyperlink{rprkernels_8hpp_a546962b05a9d798e53290baaead6a252}{DPE}}(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{namespacerpr_a9aedfdc45b0bc0887f697a0d3826a65a}{rpr::setup}}(program\_name));}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00148\ \}}
\DoxyCodeLine{00152\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a1c608c8bbeb845bba92735c919ec3986}{Cleanup}}()\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \mbox{\hyperlink{rprkernels_8hpp_a546962b05a9d798e53290baaead6a252}{DPE}}(\mbox{\hyperlink{namespacerpr_afeefd6887181195472822223c4dc3c1d}{rpr::cleanup}}());}
\DoxyCodeLine{00154\ \}\ \ \ \ }
\DoxyCodeLine{00160\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ std::string\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a75b5f44e52f1e192eedc10ab9687e156}{schedule\_kernel}}(\textcolor{keywordtype}{int}\ kernel\_id,\ \textcolor{keywordtype}{size\_t}\ problem\_size\ =\ 0)\ \{}
\DoxyCodeLine{00161\ \textcolor{preprocessor}{\#if\ defined(DPE\_PROTOCOL)}}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerpr_a691c128425e7d203153a3238d5b138c3}{rpr::schedule\_kernel}}(kernel\_id,\ problem\_size);}
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\#else\ \ \ }}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordflow}{return}\ std::string(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00166\ \}\ \ \ \ }
\DoxyCodeLine{00172\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ std::string\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4502be7d2ed3f3af96f941357b886d5}{schedule\_pipeline}}(\textcolor{keywordtype}{int}\ pipeline\_id,\ \textcolor{keywordtype}{size\_t}\ problem\_size\ =\ 0)\ \{}
\DoxyCodeLine{00173\ \textcolor{preprocessor}{\#if\ defined(DPE\_PROTOCOL)}}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerpr_ae425d8a70dfc826950b069c979af1ae6}{rpr::schedule\_pipeline}}(pipeline\_id,\ problem\_size);}
\DoxyCodeLine{00175\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keywordflow}{return}\ std::string(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00177\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00178\ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a597d43038b1989e64e4c531600ab093e}{register\_kernel}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ \&node,\ \textcolor{keywordtype}{int}\ kernel\_id)\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \mbox{\hyperlink{rprkernels_8hpp_a546962b05a9d798e53290baaead6a252}{DPE}}(\mbox{\hyperlink{namespacerpr_a0c31887b3fa63ec1880766e973eec67f}{rpr::register\_kernel}}(node,\ kernel\_id));}
\DoxyCodeLine{00182\ \}}
\DoxyCodeLine{00183\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_abbb812d0cb502227ad153626b5a432d5}{deregister\_kernel}}(\textcolor{keywordtype}{int}\ kernel\_id)\ \{}
\DoxyCodeLine{00184\ \ \ \ \ \mbox{\hyperlink{rprkernels_8hpp_a546962b05a9d798e53290baaead6a252}{DPE}}(\mbox{\hyperlink{namespacerpr_a56edaa32759fee6ec7a9518acc0122ef}{rpr::deregister\_kernel}}(kernel\_id));}
\DoxyCodeLine{00185\ \}}
\DoxyCodeLine{00186\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ae5c01ae0126ad6ec98d59f4da3d83f7e}{register\_pipeline}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ \&node,\ \textcolor{keywordtype}{int}\ pipeline\_id)\ \{}
\DoxyCodeLine{00187\ \textcolor{preprocessor}{\#if\ defined(DPE\_PROTOCOL)}}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerpr_a024383535b7ab7958ad88ef8e0a153f3}{rpr::register\_pipeline}}(node,\ pipeline\_id);}
\DoxyCodeLine{00189\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a616740dce4388fd934e6b30cf069bc8d}{DEFAULT\_PIPELINE\_QUEUE\_SIZE}};\ }
\DoxyCodeLine{00191\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00192\ \}}
\DoxyCodeLine{00193\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a73bfe2efca49723dffd2534a3212f297}{deregister\_pipeline}}(\textcolor{keywordtype}{int}\ pipeline\_id)\ \{}
\DoxyCodeLine{00194\ \ \ \ \ \mbox{\hyperlink{rprkernels_8hpp_a546962b05a9d798e53290baaead6a252}{DPE}}(\mbox{\hyperlink{namespacerpr_aa03d30a9d07f6ca091754f8d500f692c}{rpr::deregister\_pipeline}}(pipeline\_id));}
\DoxyCodeLine{00195\ \}}
\DoxyCodeLine{00196\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_af86e44105241cd369cbaffd3794c4a39}{register\_farm}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ \&node,\ \textcolor{keywordtype}{int}\ kernel\_id)\ \{}
\DoxyCodeLine{00197\ \textcolor{preprocessor}{\#if\ defined(DPE\_PROTOCOL)}}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{comment}{//return\ rpr::register\_farm(node,\ kernel\_id);}}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00200\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_aa19d6ab105ceece61a017dc558678e70}{DEFAULT\_FARM\_QUEUE\_SIZE}};\ \ }
\DoxyCodeLine{00202\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00203\ \}}
\DoxyCodeLine{00204\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_afa2894b3f71bf49bcf3800ac0d3663b4}{deregister\_farm}}(\textcolor{keywordtype}{int}\ kernel\_id)\ \{}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{comment}{//DPE(rpr::deregister\_farm(kernel\_id));}}
\DoxyCodeLine{00206\ \}}
\DoxyCodeLine{00207\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a9f28fb892dff24744fabf719972aa110}{register\_async}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ \&node,\ \textcolor{keywordtype}{int}\ kernel\_id)\ \{}
\DoxyCodeLine{00208\ \textcolor{preprocessor}{\#if\ defined(DPE\_PROTOCOL)}}
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{comment}{//return\ rpr::register\_async(node,\ kernel\_id);}}
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_aa19d6ab105ceece61a017dc558678e70}{DEFAULT\_FARM\_QUEUE\_SIZE}};\ \ }
\DoxyCodeLine{00213\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00214\ \}}
\DoxyCodeLine{00215\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a9c25f1dde2e4dbd6edf8f9e0dce0075d}{deregister\_async}}(\textcolor{keywordtype}{int}\ kernel\_id)\ \{}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{comment}{//DPE(rpr::deregister\_async(kernel\_id));}}
\DoxyCodeLine{00217\ \}}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \ Utility\ functions\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00221\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a093100c3d2d0f4ade2824779062e4f8b}{print\_Measures}}(\textcolor{keyword}{const}\ ff\_node::RPR\_measures\_vector\ \&\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}},\ \textcolor{keyword}{const}\ std::string\ \&str)\ \{}
\DoxyCodeLine{00222\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Metrics\ "{}}\ <<\ str\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ entries\ =\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}.size();}
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<entries;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ std::cout\ <<\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}+1\ <<\ \textcolor{stringliteral}{"{}/"{}}\ <<\ entries\ <<\ \textcolor{stringliteral}{"{}:\(\backslash\)n"{}};}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}=0;\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}<\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size();++\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}})\ \{}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}=0;\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}<\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}].size();\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ \textcolor{stringliteral}{"{}device="{}}\ <<\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}][\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}].first\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ k=0;k<\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}][\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}].second.size();\ ++k)\ \{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ }
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}][\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}].second[k].time\_before\ <<\ \textcolor{stringliteral}{"{},"{}}\ }
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}][\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}].second[k].time\_after\ <<\ \textcolor{stringliteral}{"{},\ "{}}\ \ }
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}][\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}].second[k].bytesIn\ <<\ \textcolor{stringliteral}{"{},"{}}\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}][\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}].second[k].bytesOut\ <<\ \textcolor{stringliteral}{"{},\ "{}}}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}][\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}].second[k].vmSize\ \ \ <<\ \textcolor{stringliteral}{"{},"{}}}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}][\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}].second[k].vmPeak\ \ \ <<\ \textcolor{stringliteral}{"{},\ "{}}}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}][\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}].second[k].problemSize\ <<\ \textcolor{stringliteral}{"{},\ "{}}}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}][\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}][\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}].second[k].energy\ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00242\ \ \ \ \ \}}
\DoxyCodeLine{00243\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00244\ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a441c3e412f149697b9ad7a6559441781}{printMemoryFlags}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceff_a94417209ca91ceef9c1b916c518cd058}{memoryflagsVector}}\ \&\mbox{\hyperlink{_matrix_base__cast_8cpp_aed6c65c87fa7442e6d3877f0859ae668}{mf}},\ \textcolor{keyword}{const}\ std::string\ \&str)\ \{}
\DoxyCodeLine{00247\ \ \ \ \ std::cout\ <<\ str\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{_matrix_base__cast_8cpp_aed6c65c87fa7442e6d3877f0859ae668}{mf}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}param:\ "{}}\ <<\ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ \ \ \ copy\ \ \ :\ \ "{}}\ <<\ (\mbox{\hyperlink{_matrix_base__cast_8cpp_aed6c65c87fa7442e6d3877f0859ae668}{mf}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].copy==\mbox{\hyperlink{namespaceff_acf3839aff35441912827987b0f82fb89ae8606d021da140a92c7eba8d9b8af84f}{CopyFlags::COPY}}\ ?\ \textcolor{stringliteral}{"{}COPY"{}}\ :\ \textcolor{stringliteral}{"{}DONTCOPY"{}})\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ \ \ \ reuse\ \ :\ \ "{}}\ <<\ (\mbox{\hyperlink{_matrix_base__cast_8cpp_aed6c65c87fa7442e6d3877f0859ae668}{mf}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].reuse==\mbox{\hyperlink{namespaceff_a18ef4d982dc69fd426d7bea0f3261247a0a8e4fd54250dc259c749ebf914f6a5e}{ReuseFlags::REUSE}}\ ?\ \textcolor{stringliteral}{"{}REUSE"{}}\ :\ \textcolor{stringliteral}{"{}DONTREUSE"{}})\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\ \ \ \ release:\ \ "{}}\ <<\ (\mbox{\hyperlink{_matrix_base__cast_8cpp_aed6c65c87fa7442e6d3877f0859ae668}{mf}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].release==\mbox{\hyperlink{namespaceff_a7b6f9072356a7389155fe6b37cd2709fa7d649ef069df9885e382417c79f3d5cd}{ReleaseFlags::RELEASE}}\ ?\ \textcolor{stringliteral}{"{}RELEASE"{}}\ :\ \textcolor{stringliteral}{"{}DONTRELEASE"{}})\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00253\ \ \ \ \ \}}
\DoxyCodeLine{00254\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00255\ \}}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00258\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ sendFifoMsg(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ msg,\ \textcolor{keywordtype}{int}\ isBegin)\ \{}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keywordflow}{if}\ (access\ (\mbox{\hyperlink{namespacerepara_1_1rprkernels_a0285e0761dd7557675cf1dcec095d974}{FIFO\_FILE}},\ F\_OK)\ ==\ -\/1)\ \{}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}access"{}});}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00262\ \ \ \ \ \}}
\DoxyCodeLine{00263\ \ \ \ \ FILE\ *fp;}
\DoxyCodeLine{00264\ \ \ \ \ fp\ =\ fopen(\mbox{\hyperlink{namespacerepara_1_1rprkernels_a0285e0761dd7557675cf1dcec095d974}{FIFO\_FILE}},\ \textcolor{stringliteral}{"{}w"{}});}
\DoxyCodeLine{00265\ \ \ \ \ \textcolor{keywordflow}{if}\ (fp\ ==\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}fopen"{}});}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00268\ \ \ \ \ \}}
\DoxyCodeLine{00269\ \ \ \ \ \textcolor{keywordflow}{if}\ (isBegin\ ==\ 1)\ \{}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ rKernelName[strlen(msg)+5];}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ memset(rKernelName,\ 0,\ \textcolor{keyword}{sizeof}\ rKernelName);}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ strcat(rKernelName,\textcolor{stringliteral}{"{}B:\(\backslash\)0"{}});}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ strcat(rKernelName,\ msg);}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ strcat(rKernelName,\ \textcolor{stringliteral}{"{};\(\backslash\)0"{}});}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fputs(rKernelName,\ fp)\ ==\ EOF)\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}fputs"{}});}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00279\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fputs(msg,\ fp)\ ==\ EOF)\ \{}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ perror(\textcolor{stringliteral}{"{}fputs"{}});}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00284\ \ \ \ \ \}}
\DoxyCodeLine{00285\ \ \ \ \ fclose(fp);}
\DoxyCodeLine{00286\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00287\ \}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{double}\ getSourceResults(\textcolor{keyword}{const}\ Measurement\&\ measurement)\ \{}
\DoxyCodeLine{00290\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ 0.0;}
\DoxyCodeLine{00291\ \ \ \ \ }
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{comment}{//\ we\ have\ just\ one\ single\ kernel\ instance}}
\DoxyCodeLine{00293\ \ \ \ \ Measurement::KernelSourceMap::const\_iterator\ kernelSourceIt\ =\ measurement.kernelSourceMap().begin();}
\DoxyCodeLine{00294\ \ \ \ \ Measurement::SourceContainer::const\_iterator\ resultsIt\ =\ kernelSourceIt-\/>second.begin();}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keyword}{const}\ Measurement::SourceMap\&\ sourceMap\ =\ *resultsIt;}
\DoxyCodeLine{00296\ \ \ \ \ Measurement::SourceMap::const\_iterator\ sourceIt\ =\ sourceMap.begin();}
\DoxyCodeLine{00297\ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ sourceIt\ !=\ sourceMap.end();\ ++sourceIt)\ \{}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Measurement::DataMap\&\ dataMap\ =\ sourceIt-\/>second;}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ Measurement::DataMap::const\_iterator\ dataIt\ =\ dataMap.begin();}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ dataIt\ !=\ dataMap.end();\ ++dataIt)\ \{}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ are\ interested\ in\ only\ for\ the\ Energy\ field}}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dataIt-\/>first\ ==\ SourceCapability::Energy)\ \{}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ +=dataIt-\/>second;}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00307\ \ \ \ \ \}\ \ \ \ \ \ \ }
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{00309\ \}}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ EnergyMeasure\_Begin(\textcolor{keyword}{const}\ std::string\ \&kernel)\ \{}
\DoxyCodeLine{00313\ \textcolor{preprocessor}{\#if\ defined(SCOPE)}}
\DoxyCodeLine{00314\ \ \ \ \ PicoScopeMethod*\ scopeMethod\ =\ PicoScopeMethod::getInstance();}
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{comment}{//scopeMethod-\/>setSampleRate(10,\ TIME\_US);}}
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{comment}{//scopeMethod-\/>startMeasurement(scopeMethod-\/>configuration());}}
\DoxyCodeLine{00317\ \ \ \ \ PicoScopeConfiguration\ scopeConfig;}
\DoxyCodeLine{00318\ \ \ \ \ scopeConfig.setSampleRate(TIME\_US,\ 10);}
\DoxyCodeLine{00319\ \ \ \ \ scopeMethod-\/>startMeasurement(scopeConfig);}
\DoxyCodeLine{00320\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00321\ \ \ \ \ RaplMethod\ *raplMethod\ =\ RaplMethod::getInstance();}
\DoxyCodeLine{00322\ \ \ \ \ raplMethod-\/>startMeasurement(raplMethod-\/>configuration());}
\DoxyCodeLine{00323\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00324\ \ \ \ \ sendFifoMsg(kernel.c\_str(),\ 1);}
\DoxyCodeLine{00325\ \}}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ EnergyMeasure\_End(\textcolor{keyword}{const}\ std::string\ \&kernel,\ \textcolor{keywordtype}{double}\ \&energy)\ \{}
\DoxyCodeLine{00328\ \ \ \ \ sendFifoMsg(\textcolor{stringliteral}{"{}E;"{}},\ 0);}
\DoxyCodeLine{00329\ \ \ \ \ energy\ =\ 0.0;}
\DoxyCodeLine{00330\ \textcolor{preprocessor}{\#if\ defined(SCOPE)}}
\DoxyCodeLine{00331\ \ \ \ \ PicoScopeMeasurement*\ measurement\ =\ PicoScopeMethod::getInstance()-\/>stopMeasurement();}
\DoxyCodeLine{00332\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00333\ \ \ \ \ RaplMeasurement*\ measurement\ =\ RaplMethod::getInstance()-\/>stopMeasurement();}
\DoxyCodeLine{00334\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00335\ \ \ \ \ \textcolor{keywordflow}{if}\ (measurement)\ }
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ energy\ =\ getSourceResults(*measurement);}
\DoxyCodeLine{00337\ \}}
\DoxyCodeLine{00338\ }
\DoxyCodeLine{00339\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ ENERGY\_MEASUREMENT}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00344\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_acfc039d037f9d868312fefb1bae74555}{default\_init\_F}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \&)\ \{\}}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00350\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}},\ }
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ CONDF\_t,\ }
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ INCF\_t,\ }
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ INITF\_t\ =\ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}\ (*)(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&)\ >}
\DoxyCodeLine{00354\ \textcolor{keyword}{class}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_a671ec014a684ac84a0aaa84fd5596098}{streamGen\_Kernel}}:\ public\ \mbox{\hyperlink{structff_1_1ff__node__t_adfa24b76d1e3870514d1a5c09d45123c}{ff\_node\_t}}<\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}>\ \{}
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_a63ef73d33742a4de919743193e3b9ddb}{basenode}}\ =\ \mbox{\hyperlink{structff_1_1ff__node__t_adfa24b76d1e3870514d1a5c09d45123c}{ff\_node\_t<T>}};}
\DoxyCodeLine{00356\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00365\ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_a671ec014a684ac84a0aaa84fd5596098}{streamGen\_Kernel}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_af5bea772d614d4501b71697178c358f0}{pipeline\_id}},\ }
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CONDF\_t\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_aecdcbac367377eb10f4b73feafa3c73e}{condF}},\ INCF\_t\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_aca3873ce5041b8948ef9e8a856569c7c}{incF}},\ INITF\_t\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_ace66cc225f291fdce19c31833d374660}{initF}}\ =\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_acfc039d037f9d868312fefb1bae74555}{default\_init\_F<T>}},\ }
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_ac3a3228de8c8c50049c746a223a570db}{init\_value}}=0):}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_af5bea772d614d4501b71697178c358f0}{pipeline\_id}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_af5bea772d614d4501b71697178c358f0}{pipeline\_id}}),\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_ac3a3228de8c8c50049c746a223a570db}{init\_value}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_ac3a3228de8c8c50049c746a223a570db}{init\_value}}),\ }
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_aecdcbac367377eb10f4b73feafa3c73e}{condF}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_aecdcbac367377eb10f4b73feafa3c73e}{condF}}),\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_aca3873ce5041b8948ef9e8a856569c7c}{incF}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_aca3873ce5041b8948ef9e8a856569c7c}{incF}}),\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_ace66cc225f291fdce19c31833d374660}{initF}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_ace66cc225f291fdce19c31833d374660}{initF}})\ \{}
\DoxyCodeLine{00370\ \ \ \ \ \}}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \textcolor{keyword}{protected}:\ \ \ \ }
\DoxyCodeLine{00373\ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ *\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_a7589a1ecdc715506e7fdf0ff38f41dd3}{svc}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*)\ \{}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ idx=\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_ac3a3228de8c8c50049c746a223a570db}{init\_value}};}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_aecdcbac367377eb10f4b73feafa3c73e}{condF}}(idx))\ \{}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&cmd\ =\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4502be7d2ed3f3af96f941357b886d5}{schedule\_pipeline}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_af5bea772d614d4501b71697178c358f0}{pipeline\_id}});}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ *\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}(idx,\ cmd);}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_ace66cc225f291fdce19c31833d374660}{initF}}(*\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}});\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__node__t_a66ddc4b89e7a2fd1b8d4a02c94eb9408}{basenode::ff\_send\_out}}(\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}});}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_aca3873ce5041b8948ef9e8a856569c7c}{incF}}(idx);}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structff_1_1ff__node__t_a9942431fef1318dcade6ef74a08162c3}{basenode::EOS}};}
\DoxyCodeLine{00383\ \ \ \ \ \}}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00385\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_af5bea772d614d4501b71697178c358f0}{pipeline\_id}};}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_ac3a3228de8c8c50049c746a223a570db}{init\_value}};}
\DoxyCodeLine{00387\ \ \ \ \ CONDF\_t\ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_aecdcbac367377eb10f4b73feafa3c73e}{condF}};\ \ \ }
\DoxyCodeLine{00388\ \ \ \ \ INCF\_t\ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_aca3873ce5041b8948ef9e8a856569c7c}{incF}};}
\DoxyCodeLine{00389\ \ \ \ \ INITF\_t\ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1stream_gen___kernel_ace66cc225f291fdce19c31833d374660}{initF}};}
\DoxyCodeLine{00390\ \};}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00393\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a4866079c15027972dacf85b46495c884}{zeroProblemSize}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&)\ \{\ \textcolor{keywordflow}{return}\ 0;\}}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00400\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ F\_t>}
\DoxyCodeLine{00401\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1fill_task___kernel_ac293ce96f9ec8c3ceab26dafcbd2c290}{fillTask\_Kernel}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structff_1_1ff__node__t_adfa24b76d1e3870514d1a5c09d45123c}{ff\_node\_t<T>}}\ \{}
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1fill_task___kernel_af4d43cca4664bd895456135034ae20d8}{basenode}}\ =\ \mbox{\hyperlink{structff_1_1ff__node__t_adfa24b76d1e3870514d1a5c09d45123c}{ff\_node\_t<T>}};}
\DoxyCodeLine{00403\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00404\ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1fill_task___kernel_ac293ce96f9ec8c3ceab26dafcbd2c290}{fillTask\_Kernel}}(F\_t\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1fill_task___kernel_ae61f9b5a3b0f73525e612a373fee3d9e}{F}}):\mbox{\hyperlink{classrepara_1_1rprkernels_1_1fill_task___kernel_ae61f9b5a3b0f73525e612a373fee3d9e}{F}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1fill_task___kernel_ae61f9b5a3b0f73525e612a373fee3d9e}{F}})\ \{\}}
\DoxyCodeLine{00405\ \textcolor{keyword}{protected}:\ \ \ \ }
\DoxyCodeLine{00406\ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ *\mbox{\hyperlink{classrepara_1_1rprkernels_1_1fill_task___kernel_af33c0be9581d91477ef89b3a926180cd}{svc}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \{}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}(*\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}});}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}};}
\DoxyCodeLine{00409\ \ \ \ \ \}}
\DoxyCodeLine{00410\ \ \ \ \ F\_t\ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1fill_task___kernel_ae61f9b5a3b0f73525e612a373fee3d9e}{F}};\ \ \ }
\DoxyCodeLine{00411\ \};}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00418\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ IN\_t,\ \textcolor{keyword}{typename}\ OUT\_t=IN\_t>}
\DoxyCodeLine{00419\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aebf286ead9e328c05b580b496fc582bb}{Kernel}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1ff__node_selector_aadde4a2598b2e085d72fd19c911f77ca}{ff\_nodeSelector<IN\_t,\ OUT\_t>}}\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a6106e97efe9cb2e7f2264270d6eaabf4}{selector}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_selector_aadde4a2598b2e085d72fd19c911f77ca}{ff\_nodeSelector<IN\_t,OUT\_t>}};\ \ \ \ }
\DoxyCodeLine{00421\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}\ =\ ff\_node::RPR\_measures\_vector;}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \textcolor{keyword}{public}:\ \ \ \ \ }
\DoxyCodeLine{00430\ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aebf286ead9e328c05b580b496fc582bb}{Kernel}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}}):\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}}),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}}(nullptr),}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a6c6c58cf782f541e848379ce21cd6a49}{problemSize\_F}}(\mbox{\hyperlink{namespacerepara_1_1rprkernels_a4866079c15027972dacf85b46495c884}{zeroProblemSize}}<IN\_t>)\ \{}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ac0382efd5f4ebae9c4b641fd0e7524a9}{pw}}.store(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00433\ \ \ \ \ \}}
\DoxyCodeLine{00434\ }
\DoxyCodeLine{00435\ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a46707a44b8557bf9c01a264bc86f0cd9}{Kernel}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}},\ std::function<\textcolor{keywordtype}{size\_t}(\textcolor{keyword}{const}\ IN\_t\&)>\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}):\ }
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}}),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}}(nullptr),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a6c6c58cf782f541e848379ce21cd6a49}{problemSize\_F}}(\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}))\ \{}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ac0382efd5f4ebae9c4b641fd0e7524a9}{pw}}.store(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00438\ \ \ \ \ \}}
\DoxyCodeLine{00439\ \ }
\DoxyCodeLine{00448\ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a2bac2ab9bcdf119067f52628f9983794}{Kernel}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}},\ IN\_t\ \&task):}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}}),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}}(\&task),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a6c6c58cf782f541e848379ce21cd6a49}{problemSize\_F}}(\mbox{\hyperlink{namespacerepara_1_1rprkernels_a4866079c15027972dacf85b46495c884}{zeroProblemSize}}<IN\_t>)\ \{}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ac0382efd5f4ebae9c4b641fd0e7524a9}{pw}}.store(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00451\ \ \ \ \ \}}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a12f697d64bd736bca30583999743d389}{Kernel}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}},\ IN\_t\ \&task,\ \textcolor{keywordtype}{size\_t}\ (*\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}})(\textcolor{keyword}{const}\ IN\_t\&)):\ }
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}}),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}}(\&task),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a6c6c58cf782f541e848379ce21cd6a49}{problemSize\_F}}(\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}})\ \{}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ac0382efd5f4ebae9c4b641fd0e7524a9}{pw}}.store(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00456\ \ \ \ \ \}}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00463\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a5a0ef98a41b417d9e8187028c1624d69}{\string~Kernel}}()\ \{}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}\ *\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ac0382efd5f4ebae9c4b641fd0e7524a9}{pw}}.load();}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ !=\ \textcolor{keyword}{nullptr})\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}};}
\DoxyCodeLine{00466\ \ \ \ \ \}}
\DoxyCodeLine{00472\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a04e9bb0eb63791f9d661d50c3c05cb9c}{addNode}}(\mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ \&node,\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bb}{Kernel\_Target\_t}}\ \mbox{\hyperlink{structstrip__const}{type}})\ \{}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ node.rpr\_set\_measure\_energy(\textcolor{keyword}{true});}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{classff_1_1ff__node_selector_afcf8fdae04cb3fd969a31e3787b5f9d9}{selector::addNode}}(node);}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a2054c1313ec0a878fa784c9902be0a21}{kernel2node}}[\mbox{\hyperlink{structstrip__const}{type}}]\ =\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};}
\DoxyCodeLine{00476\ \ \ \ \ \}}
\DoxyCodeLine{00477\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a0ffd863c9f999f4a97c70ff0edf84132}{addNode}}(std::unique\_ptr<ff\_node>\ \&\&node,\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bb}{Kernel\_Target\_t}}\ \mbox{\hyperlink{structstrip__const}{type}})\ \{}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ node.get()-\/>rpr\_set\_measure\_energy(\textcolor{keyword}{true});}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{classff_1_1ff__node_selector_afcf8fdae04cb3fd969a31e3787b5f9d9}{selector::addNode}}(std::move(node));}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a2054c1313ec0a878fa784c9902be0a21}{kernel2node}}[\mbox{\hyperlink{structstrip__const}{type}}]\ =\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};}
\DoxyCodeLine{00481\ \ \ \ \ \}}
\DoxyCodeLine{00482\ }
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_abea1f2e38e6828e02bf2b8f99de1ef13}{run}}(\textcolor{keywordtype}{bool}\ =\ \textcolor{keyword}{false})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_aec4506dc3946ff9e6ce5bb5370545864}{ff\_node::run}}();\ \ \}\ \ \ }
\DoxyCodeLine{00496\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_af18ea79004db149d869454186deb2e54}{wait}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a060b15e97e9fdc8d50fd10c0dd141a0f}{ff\_node::wait}}();\ \}}
\DoxyCodeLine{00497\ }
\DoxyCodeLine{00504\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a1f57fa4e54d5f8bb8b73140b56d5b420}{run\_and\_wait\_end}}()\ \{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a597d43038b1989e64e4c531600ab093e}{register\_kernel}}(*\textcolor{keyword}{this},\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_selector_a67618270a7e6675f9f8e03f070aa0e3a}{selector::run\_and\_wait\_end}}()<0)\ \{}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_abbb812d0cb502227ad153626b5a432d5}{deregister\_kernel}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}});}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_abbb812d0cb502227ad153626b5a432d5}{deregister\_kernel}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}});}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00512\ \ \ \ \ \}}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a9b535dceeab6a20bce8412868ffc4b0e}{get\_my\_id}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a32d30503e0a33406841d77bc1f4dc2e2}{ff\_node::get\_my\_id}}();\ \};}
\DoxyCodeLine{00515\ \ \ \ \ }
\DoxyCodeLine{00520\ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a9dd493b5e1056dd10fef850c5b590009}{rpr\_get\_measures}}()\ \{}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}\ *\mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}(1);}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ (*v)[0].resize(1);}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ (*v)[0][0].resize(\mbox{\hyperlink{classff_1_1ff__node_selector_a7d1d6518c30898391a49008f7de9249a}{selector::numNodes}}());}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}\ *\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ \ =\ std::atomic\_exchange(\&\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ac0382efd5f4ebae9c4b641fd0e7524a9}{pw}},\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}});}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ ==\ \textcolor{keyword}{nullptr})\ \{\ \textcolor{comment}{//\ maybe\ too\ early....}}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}();}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}\ tmp\ =\ std::move(*\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}};}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tmp;}
\DoxyCodeLine{00532\ \ \ \ \ \}}
\DoxyCodeLine{00533\ }
\DoxyCodeLine{00534\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00549\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a2475841f4fe5514843d8d028c508b741}{getDeviceID}}(\textcolor{keyword}{const}\ std::string\ \&cmd,\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bb}{Kernel\_Target\_t}}\ \&target)\ \{}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cmd\ ==\ \textcolor{stringliteral}{"{}"{}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ kid\ =\ \textcolor{stringliteral}{"{}kernel\_"{}}+std::to\_string(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}});}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *semicolon\ =\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ cmd.rfind(kid);}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ !=\ std::string::npos);}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ cmd.find\_first\_of(semicolon,\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ !=\ std::string::npos);}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ =\ cmd.find\_first\_of(semicolon,\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}+1);}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ !=\ std::string::npos);}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&device\ =\ cmd.substr(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}+1,\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}-\/\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/1);}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ target\ =\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a4a2a02f69f421c066d0767edb2602774}{String2Target}}[device];}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a2054c1313ec0a878fa784c9902be0a21}{kernel2node}}[target];}
\DoxyCodeLine{00562\ \ \ \ \ \}}
\DoxyCodeLine{00563\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_abc7669600afbc7c155f1a5f4141bb7d9}{getScheduleID}}(\textcolor{keyword}{const}\ std::string\ \&cmd)\ \{}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cmd\ ==\ \textcolor{stringliteral}{"{}"{}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ cmd.find\_first\_of(\textcolor{stringliteral}{"{};"{}});}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ !=\ std::string::npos);}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::stol(cmd.substr(0,\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}));}
\DoxyCodeLine{00568\ \ \ \ \ \}}
\DoxyCodeLine{00569\ }
\DoxyCodeLine{00570\ \ \ \ \ \textcolor{comment}{//\ called\ once\ at\ the\ very\ beginning}}
\DoxyCodeLine{00571\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_afd0cea775f322f6ba7ac7b0a237a7612}{nodeInit}}()\ \{}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}\ *\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ac0382efd5f4ebae9c4b641fd0e7524a9}{pw}}.load();}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ !=\ \textcolor{keyword}{nullptr})\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}};}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}\ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}(1);}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ (*c)[0].resize(1);}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ (*c)[0][0].resize(\mbox{\hyperlink{classff_1_1ff__node_selector_a7d1d6518c30898391a49008f7de9249a}{selector::numNodes}}());}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ac0382efd5f4ebae9c4b641fd0e7524a9}{pw}}.store(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a5432f9f37e17fdf36d7b39c5e4b451ea}{statusStr}}\ =\ \textcolor{stringliteral}{"{}/proc/"{}}+std::to\_string(getpid())+\textcolor{stringliteral}{"{}/status"{}};}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_selector_aaf6b5df1cb820521e2b184cb3639456c}{selector::nodeInit}}();}
\DoxyCodeLine{00581\ \ \ \ \ \}}
\DoxyCodeLine{00582\ }
\DoxyCodeLine{00583\ \ \ \ \ \textcolor{comment}{//\ TODO:\ leaks\ check}}
\DoxyCodeLine{00584\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a90245cc82007f1ae353689f7e9fb2548}{nodeEnd}}()\ \{\}}
\DoxyCodeLine{00585\ }
\DoxyCodeLine{00586\ \ \ \ \ OUT\_t\ *\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ab5769510e94f28c73d1936b5c27a08cd}{svc}}(IN\_t\ *\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \{}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ oneshot\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ selectedDevice\ =\ 0;}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ problem\_size\ =\ 0;}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bb}{Kernel\_Target\_t}}\ target;}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}\ ==\ \textcolor{keyword}{nullptr})\ \{\ \ \textcolor{comment}{//\ non-\/streaming\ kernel\ execution}}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}}\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \ \ \ \ oneshot\ =\ \textcolor{keyword}{true};\ \ }
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ problem\_size\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a6c6c58cf782f541e848379ce21cd6a49}{problemSize\_F}}(*\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}});}
\DoxyCodeLine{00595\ \textcolor{preprocessor}{\#if\ !defined(NO\_DPE\_SCHEDULE)}}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&cmd\ =\mbox{\hyperlink{namespacerepara_1_1rprkernels_a75b5f44e52f1e192eedc10ab9687e156}{schedule\_kernel}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}},\ problem\_size);}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}}-\/>cmd\ =\ cmd;}
\DoxyCodeLine{00598\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}}-\/>kernel\_id\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}};}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \ \ \ \ selectedDevice\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a2475841f4fe5514843d8d028c508b741}{getDeviceID}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}}-\/>cmd,\ target);}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}};}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}}\ ==\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \ \ \ \ problem\_size\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a6c6c58cf782f541e848379ce21cd6a49}{problemSize\_F}}(*\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}});}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \ \ \ \ selectedDevice\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a2475841f4fe5514843d8d028c508b741}{getDeviceID}}(\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>cmd,\ target);}
\DoxyCodeLine{00606\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>kernel\_id\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}};}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_selector_a2d95b8ac83ace04549e6b21e0a08202a}{selector::selectNode}}(selectedDevice);}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ is\ the\ node\ that\ is\ going\ to\ be\ executed}}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ *node\ =\ \mbox{\hyperlink{classff_1_1ff__node_selector_a3a69208ac29ee36869d22277a527df5b}{selector::getNode}}(selectedDevice);}
\DoxyCodeLine{00612\ }
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ ff\_node::rpr\_measure\_t\ measure;}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__node_a94d7a6d3bc2af21a2c6e0da1a7d911ea}{stop}},\ \mbox{\hyperlink{cpq__pdes_8cpp_a455a4d1d80a69762a133ad026f1cba43}{start}},\ pstop,pstart;}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ measure.schedule\_id\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_abc7669600afbc7c155f1a5f4141bb7d9}{getScheduleID}}(\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}}-\/>cmd);}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ measure.problemSize\ =\ problem\_size;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_abb83c20cbe014b93fc6e6aa3d4f96857}{memory\_Stats}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a5432f9f37e17fdf36d7b39c5e4b451ea}{statusStr}}.c\_str(),\ \mbox{\hyperlink{cpq__pdes_8cpp_a455a4d1d80a69762a133ad026f1cba43}{start}},\ pstart);}
\DoxyCodeLine{00618\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ measureEnergy\ =\ node-\/>rpr\_get\_measure\_energy();}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (measureEnergy)\ EnergyMeasure\_Begin(\textcolor{stringliteral}{"{}kernel"{}});}
\DoxyCodeLine{00621\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ measure.time\_before\ =\ \mbox{\hyperlink{dff__run_8cpp_a459206f2c60b3d98559956c72e3d9141}{getusec}}();}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ OUT\_t\ *\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ \ =\ \mbox{\hyperlink{classff_1_1ff__node_selector_adbcdb18cbbd26ca22dfb3672d616b7bc}{selector::svc}}(\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}});\ \ \textcolor{comment}{//\ executes\ the\ kernel!}}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ measure.time\_after\ \ =\ \mbox{\hyperlink{dff__run_8cpp_a459206f2c60b3d98559956c72e3d9141}{getusec}}();}
\DoxyCodeLine{00625\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (measureEnergy)\ EnergyMeasure\_End(\textcolor{stringliteral}{"{}kernel"{}},measure.energy);}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ measure.energy\ =\ 0.0;}
\DoxyCodeLine{00628\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_abb83c20cbe014b93fc6e6aa3d4f96857}{memory\_Stats}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a5432f9f37e17fdf36d7b39c5e4b451ea}{statusStr}}.c\_str(),\ \mbox{\hyperlink{classff_1_1ff__node_a94d7a6d3bc2af21a2c6e0da1a7d911ea}{stop}},\ pstop);}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ gets\ input/output\ size\ and\ virtual\ memory\ }}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ measure.bytesIn\ \ =\ node-\/>rpr\_get\_sizeIn();}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ measure.bytesOut\ =\ node-\/>rpr\_get\_sizeOut();}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ measure.vmSize\ \ \ =\ (\mbox{\hyperlink{classff_1_1ff__node_a94d7a6d3bc2af21a2c6e0da1a7d911ea}{stop}}>\mbox{\hyperlink{cpq__pdes_8cpp_a455a4d1d80a69762a133ad026f1cba43}{start}})?(\mbox{\hyperlink{classff_1_1ff__node_a94d7a6d3bc2af21a2c6e0da1a7d911ea}{stop}}-\/\mbox{\hyperlink{cpq__pdes_8cpp_a455a4d1d80a69762a133ad026f1cba43}{start}}):0;}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ measure.vmPeak\ \ \ =\ (pstop>pstart)?(pstop-\/pstart):0;}
\DoxyCodeLine{00635\ }
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ stores\ the\ collected\ measures}}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ad45a335b01f417babf0163158e942908}{RPR\_measures\_vector}}\ *pw\_vector\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ac0382efd5f4ebae9c4b641fd0e7524a9}{pw}}.load();}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ (*pw\_vector)[0][0][selectedDevice].first\ =\ target;}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ (*pw\_vector)[0][0][selectedDevice].second.push\_back(measure);}
\DoxyCodeLine{00640\ }
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ oneshot?\mbox{\hyperlink{classff_1_1ff__node_a1e60cdd7d63155baf308086d38690567}{selector::EOS}}:\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}};}
\DoxyCodeLine{00642\ \ \ \ \ \}}
\DoxyCodeLine{00643\ \ \ \ \ }
\DoxyCodeLine{00644\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00645\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_aacfc456b79e19f5f25a5f1092fbdc305}{kernel\_id}};}
\DoxyCodeLine{00646\ \ \ \ \ IN\_t\ \ \ \ \ *\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ae240499548674dbc5f14907bd14bdde5}{Task}};\ \ \ \ }
\DoxyCodeLine{00647\ \ \ \ \ std::string\ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a5432f9f37e17fdf36d7b39c5e4b451ea}{statusStr}};}
\DoxyCodeLine{00648\ \ \ \ \ std::function<size\_t(\textcolor{keyword}{const}\ IN\_t\&)>\ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a6c6c58cf782f541e848379ce21cd6a49}{problemSize\_F}};}
\DoxyCodeLine{00649\ \ \ \ \ std::map<Kernel\_Target\_t,\ size\_t>\ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_a2054c1313ec0a878fa784c9902be0a21}{kernel2node}};\ \ \ \textcolor{comment}{//\ multimap\ ???}}
\DoxyCodeLine{00650\ \ \ \ \ std::atomic<RPR\_measures\_vector\ *>\ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_kernel_ac0382efd5f4ebae9c4b641fd0e7524a9}{pw}};}
\DoxyCodeLine{00651\ \};}
\DoxyCodeLine{00652\ }
\DoxyCodeLine{00653\ }
\DoxyCodeLine{00658\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a4209a68ffa1a852360a25e6f83d4ab29}{Pipe\_Kernel}}:\ \textcolor{keyword}{public}\ ff\_Pipe<>\ \{}
\DoxyCodeLine{00659\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a4a101669b12a60c517ea92e46133fdad}{pipe}}\ =\ ff\_Pipe<>;}
\DoxyCodeLine{00660\ }
\DoxyCodeLine{00661\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00662\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ STAGES>}
\DoxyCodeLine{00663\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a4209a68ffa1a852360a25e6f83d4ab29}{Pipe\_Kernel}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a575caed53a858cfaa9f9efdfe7b5c870}{kernel\_id}},\ STAGES\ \&\&...stages):\ }
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ ff\_Pipe<>(stages...),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a575caed53a858cfaa9f9efdfe7b5c870}{kernel\_id}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a575caed53a858cfaa9f9efdfe7b5c870}{kernel\_id}})\ \{}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ \textcolor{comment}{//sets\ bounded\ queues\ }}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ ff\_Pipe<>::setFixedSize(\textcolor{keyword}{true});}
\DoxyCodeLine{00667\ }
\DoxyCodeLine{00668\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Energy\ is\ measured\ for\ the\ entire\ pipeline\ and\ not\ for\ the\ single\ kernel}}
\DoxyCodeLine{00669\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \&\mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__do_2parallel__preorder_2main_8cpp_a6a5c3f7e9d33dd3ab656f0191f83aa79}{nodes}}\ =\ getStages();}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__do_2parallel__preorder_2main_8cpp_a6a5c3f7e9d33dd3ab656f0191f83aa79}{nodes}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ }
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__do_2parallel__preorder_2main_8cpp_a6a5c3f7e9d33dd3ab656f0191f83aa79}{nodes}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>rpr\_set\_measure\_energy(\textcolor{keyword}{false});}
\DoxyCodeLine{00672\ \ \ \ \ \}}
\DoxyCodeLine{00673\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_ab67cbe2e99ca3f91bbe717ebfeade4e1}{\string~Pipe\_Kernel}}()\ \{\}}
\DoxyCodeLine{00674\ }
\DoxyCodeLine{00675\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a79d10d0c43e804100426e956b87ab8c5}{run\_and\_wait\_end}}()\ \{}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ queue\_size\ =\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_ae5c01ae0126ad6ec98d59f4da3d83f7e}{register\_pipeline}}(*\textcolor{keyword}{this},\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a575caed53a858cfaa9f9efdfe7b5c870}{kernel\_id}});}
\DoxyCodeLine{00677\ \ \ \ \ \ \ \ \ ff\_Pipe<>::setXNodeInputQueueLength(queue\_size);}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ ff\_Pipe<>::setXNodeOutputQueueLength(queue\_size);}
\DoxyCodeLine{00679\ }
\DoxyCodeLine{00680\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ EnergyMeasure\_Begin(\textcolor{stringliteral}{"{}kernel"{}});}
\DoxyCodeLine{00682\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pipe::run\_and\_wait\_end()<0)\ \{}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a73bfe2efca49723dffd2534a3212f297}{deregister\_pipeline}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a575caed53a858cfaa9f9efdfe7b5c870}{kernel\_id}});}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00687\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ EnergyMeasure\_End(\textcolor{stringliteral}{"{}kernel"{}},\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a7bbf7a6808a9280c9e39713e9b81e0fd}{energy}});}
\DoxyCodeLine{00689\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a7bbf7a6808a9280c9e39713e9b81e0fd}{energy}}\ =\ 0.0;}
\DoxyCodeLine{00691\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_a73bfe2efca49723dffd2534a3212f297}{deregister\_pipeline}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a575caed53a858cfaa9f9efdfe7b5c870}{kernel\_id}});}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00694\ \ \ \ \ \}}
\DoxyCodeLine{00695\ \ \ \ \ }
\DoxyCodeLine{00700\ \ \ \ \ RPR\_measures\_vector\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_aec0767ab71ec9ae5e01f50ef364512af}{rpr\_get\_measures}}()\ \{}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \&\mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__do_2parallel__preorder_2main_8cpp_a6a5c3f7e9d33dd3ab656f0191f83aa79}{nodes}}\ =\ getStages();}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ RPR\_measures\_vector\ measures;}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ measures.reserve(\mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__do_2parallel__preorder_2main_8cpp_a6a5c3f7e9d33dd3ab656f0191f83aa79}{nodes}}.size()+1);}
\DoxyCodeLine{00704\ }
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ energy\ is\ stored\ for\ the\ first\ stage\ (the\ Generator\ stage)\ which\ is\ }}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ always\ a\ sequential\ stage\ running\ on\ the\ CPU}}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ std::vector<RPR\_devices\_measure>\ tmp(1);}
\DoxyCodeLine{00708\ \ \ \ \ \ \ \ \ tmp[0].resize(1);}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ tmp[0][\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba23a21bef013ff479b800c4ec0933c6a7}{CPU}}].second.resize(1);}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ (tmp[0][\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba23a21bef013ff479b800c4ec0933c6a7}{CPU}}].second)[0].\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a7bbf7a6808a9280c9e39713e9b81e0fd}{energy}}\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a7bbf7a6808a9280c9e39713e9b81e0fd}{energy}};}
\DoxyCodeLine{00711\ }
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ (tmp[0][\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba23a21bef013ff479b800c4ec0933c6a7}{CPU}}].second)[0].time\_before=\ \mbox{\hyperlink{dff__run_8cpp_a459206f2c60b3d98559956c72e3d9141}{getusec}}(ff\_Pipe<>::startTime());\ \textcolor{comment}{//\ stores\ pipeline\ starting\ time}}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ (tmp[0][\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba23a21bef013ff479b800c4ec0933c6a7}{CPU}}].second)[0].time\_after\ =\ \mbox{\hyperlink{dff__run_8cpp_a459206f2c60b3d98559956c72e3d9141}{getusec}}();\ \textcolor{comment}{//\ stores\ current\ time}}
\DoxyCodeLine{00714\ }
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ measures.push\_back(tmp);}
\DoxyCodeLine{00716\ }
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=1;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__do_2parallel__preorder_2main_8cpp_a6a5c3f7e9d33dd3ab656f0191f83aa79}{nodes}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ RPR\_measures\_vector\ \&\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}\ =\ \mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__do_2parallel__preorder_2main_8cpp_a6a5c3f7e9d33dd3ab656f0191f83aa79}{nodes}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>rpr\_get\_measures();}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ \ \ \ \ measures.insert(measures.end(),\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}.begin(),\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}.end());}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00721\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ measures;}
\DoxyCodeLine{00722\ \ \ \ \ \}}
\DoxyCodeLine{00723\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00724\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a575caed53a858cfaa9f9efdfe7b5c870}{kernel\_id}};}
\DoxyCodeLine{00725\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_pipe___kernel_a7bbf7a6808a9280c9e39713e9b81e0fd}{energy}}\ =\ 0.0;}
\DoxyCodeLine{00726\ \};}
\DoxyCodeLine{00727\ }
\DoxyCodeLine{00728\ }
\DoxyCodeLine{00733\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a1bf01f7ce750836fe2639807548b7803}{Farm\_Kernel}}:\ \textcolor{keyword}{public}\ ff\_Farm<>\ \{}
\DoxyCodeLine{00734\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a022669f7a12b5173f888614d9d765ffb}{farm}}\ =\ ff\_Farm<>;}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00737\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a1bf01f7ce750836fe2639807548b7803}{Farm\_Kernel}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a5418334293e4a70aab07fae05bc7c77a}{farm\_id}},\ }
\DoxyCodeLine{00738\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<std::unique\_ptr<ff\_node>\ >\ \&\&\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}},}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<ff\_node>\ \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}\ \ =std::unique\_ptr<ff\_node>(\textcolor{keyword}{nullptr}),\ }
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<ff\_node>\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ \ =std::unique\_ptr<ff\_node>(\textcolor{keyword}{nullptr})):}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \ \ ff\_Farm<>(\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}),\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}),\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}),\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a5418334293e4a70aab07fae05bc7c77a}{farm\_id}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a5418334293e4a70aab07fae05bc7c77a}{farm\_id}})\ \{}
\DoxyCodeLine{00742\ \ \ \ \ \ \ \ \ \textcolor{comment}{//sets\ bounded\ queues\ }}
\DoxyCodeLine{00743\ \ \ \ \ \ \ \ \ ff\_Farm<>::setFixedSize(\textcolor{keyword}{true});\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00744\ }
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Energy\ is\ measured\ for\ the\ entire\ farm\ and\ not\ for\ the\ single\ kernel}}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\ workers\ =\ \ getWorkers();\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<workers.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ }
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \ \ \ \ workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>rpr\_set\_measure\_energy(\textcolor{keyword}{false});}
\DoxyCodeLine{00749\ \ \ \ \ \}}
\DoxyCodeLine{00750\ }
\DoxyCodeLine{00751\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a68b4ad211f72d11451035eba7fd36d2e}{\string~Farm\_Kernel}}()\ \{\}}
\DoxyCodeLine{00752\ }
\DoxyCodeLine{00753\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_afc2a2e71673907ee95d3f323bb2070e9}{run\_and\_wait\_end}}()\ \{}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ queue\_size\ =\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_af86e44105241cd369cbaffd3794c4a39}{register\_farm}}(*\textcolor{keyword}{this},\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a5418334293e4a70aab07fae05bc7c77a}{farm\_id}});}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ farm::set\_scheduling\_ondemand(queue\_size);}
\DoxyCodeLine{00756\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \ \ EnergyMeasure\_Begin(\textcolor{stringliteral}{"{}kernel"{}});}
\DoxyCodeLine{00758\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm::run\_and\_wait\_end()<0)\ \{}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_afa2894b3f71bf49bcf3800ac0d3663b4}{deregister\_farm}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a5418334293e4a70aab07fae05bc7c77a}{farm\_id}});}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00762\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00763\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ EnergyMeasure\_End(\textcolor{stringliteral}{"{}kernel"{}},\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_acd1c013eb61c81c50840cccfc777cc2b}{energy}});}
\DoxyCodeLine{00765\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_acd1c013eb61c81c50840cccfc777cc2b}{energy}}\ =\ 0.0;}
\DoxyCodeLine{00767\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00768\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_afa2894b3f71bf49bcf3800ac0d3663b4}{deregister\_farm}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a5418334293e4a70aab07fae05bc7c77a}{farm\_id}});}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00770\ \ \ \ \ \}\ \ \ \ }
\DoxyCodeLine{00775\ \ \ \ \ RPR\_measures\_vector\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_ac20e7b29b0d30c3d9a433ffd6f1d39f6}{rpr\_get\_measures}}()\ \{}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\ workers\ =\ \ getWorkers();\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00777\ }
\DoxyCodeLine{00778\ \ \ \ \ \ \ \ \ RPR\_measures\_vector\ measures;}
\DoxyCodeLine{00779\ \ \ \ \ \ \ \ \ measures.reserve(workers.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}()+1);}
\DoxyCodeLine{00780\ }
\DoxyCodeLine{00781\ \ \ \ \ \ \ \ \ std::vector<RPR\_devices\_measure>\ tmp(1);}
\DoxyCodeLine{00782\ \ \ \ \ \ \ \ \ tmp[0].resize(1);}
\DoxyCodeLine{00783\ \ \ \ \ \ \ \ \ tmp[0][\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba23a21bef013ff479b800c4ec0933c6a7}{CPU}}].second.resize(1);}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ (tmp[0][\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba23a21bef013ff479b800c4ec0933c6a7}{CPU}}].second)[0].\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_acd1c013eb61c81c50840cccfc777cc2b}{energy}}\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_acd1c013eb61c81c50840cccfc777cc2b}{energy}};}
\DoxyCodeLine{00785\ \ \ \ \ \ \ \ \ measures.push\_back(tmp);}
\DoxyCodeLine{00786\ }
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<workers.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00788\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ RPR\_measures\_vector\ \&\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}\ =\ workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>rpr\_get\_measures();}
\DoxyCodeLine{00789\ \ \ \ \ \ \ \ \ \ \ \ \ measures.\mbox{\hyperlink{classff_1_1svector_a3a0ed7a1961983238e824b314f49b61f}{insert}}(measures.end(),\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}.begin(),\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}.end());}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00791\ }
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ measures;}
\DoxyCodeLine{00793\ \ \ \ \ \}}
\DoxyCodeLine{00794\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00795\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_a5418334293e4a70aab07fae05bc7c77a}{farm\_id}};\ }
\DoxyCodeLine{00796\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_farm___kernel_acd1c013eb61c81c50840cccfc777cc2b}{energy}}\ =\ 0.0;}
\DoxyCodeLine{00797\ \};}
\DoxyCodeLine{00798\ }
\DoxyCodeLine{00799\ }
\DoxyCodeLine{00804\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a22b80a1575af8ca97b682fc2bfacba5c}{OFarm\_Kernel}}:\ \textcolor{keyword}{public}\ ff\_OFarm<>\ \{}
\DoxyCodeLine{00805\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a5abae2591106b2b1056c2d0f47e2d2ff}{farm}}\ =\ ff\_OFarm<>;}
\DoxyCodeLine{00806\ \ \ \ \ std::unique\_ptr<ff\_node>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a33fd472943e4be0b576af0fd8ce21500}{EmitterF}};}
\DoxyCodeLine{00807\ \ \ \ \ std::unique\_ptr<ff\_node>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a9358e735a9c77cefd45cf0be946f63d1}{CollectorF}};}
\DoxyCodeLine{00808\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00809\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a22b80a1575af8ca97b682fc2bfacba5c}{OFarm\_Kernel}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_aa39d03f7c22acf47674a624e404e5b92}{farm\_id}},\ }
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<std::unique\_ptr<ff\_node>\ >\ \&\&\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}},}
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<ff\_node>\ \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}\ \ =std::unique\_ptr<ff\_node>(\textcolor{keyword}{nullptr}),\ }
\DoxyCodeLine{00812\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<ff\_node>\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ \ =std::unique\_ptr<ff\_node>(\textcolor{keyword}{nullptr})):}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ ff\_OFarm<>(\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}),\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a33fd472943e4be0b576af0fd8ce21500}{EmitterF}}(\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}})),\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a9358e735a9c77cefd45cf0be946f63d1}{CollectorF}}(\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}})),\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_aa39d03f7c22acf47674a624e404e5b92}{farm\_id}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_aa39d03f7c22acf47674a624e404e5b92}{farm\_id}})\ \{}
\DoxyCodeLine{00814\ \ \ \ \ \ \ \ \ \textcolor{comment}{//sets\ bounded\ queues\ }}
\DoxyCodeLine{00815\ \ \ \ \ \ \ \ \ ff\_OFarm<>::setFixedSize(\textcolor{keyword}{true});\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00816\ }
\DoxyCodeLine{00817\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a33fd472943e4be0b576af0fd8ce21500}{EmitterF}}.get();}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ farm::setEmitterF(*\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}});}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a9358e735a9c77cefd45cf0be946f63d1}{CollectorF}}.get();}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ farm::setEmitterF(*\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00821\ }
\DoxyCodeLine{00822\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Energy\ is\ measured\ for\ the\ entire\ farm\ and\ not\ for\ the\ single\ kernel}}
\DoxyCodeLine{00823\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\ workers\ =\ \ getWorkers();\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00824\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<workers.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ }
\DoxyCodeLine{00825\ \ \ \ \ \ \ \ \ \ \ \ \ workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>rpr\_set\_measure\_energy(\textcolor{keyword}{false});}
\DoxyCodeLine{00826\ \ \ \ \ \}}
\DoxyCodeLine{00827\ }
\DoxyCodeLine{00828\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a9f1adb00acfe9b131201f595d7d189f8}{\string~OFarm\_Kernel}}()\ \{\}}
\DoxyCodeLine{00829\ }
\DoxyCodeLine{00830\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a8786f4af4cb132eed9ec36f9a10266f1}{run\_and\_wait\_end}}()\ \{}
\DoxyCodeLine{00831\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ nw\ =\ farm::getNWorkers();}
\DoxyCodeLine{00832\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ queue\_size\ =\ \mbox{\hyperlink{namespacerepara_1_1rprkernels_af86e44105241cd369cbaffd3794c4a39}{register\_farm}}(*\textcolor{keyword}{this},\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_aa39d03f7c22acf47674a624e404e5b92}{farm\_id}});}
\DoxyCodeLine{00833\ \ \ \ \ \ \ \ \ farm::setInputQueueLength(queue\_size*nw);}
\DoxyCodeLine{00834\ \ \ \ \ \ \ \ \ farm::setOutputQueueLength(queue\_size*nw);}
\DoxyCodeLine{00835\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00836\ \ \ \ \ \ \ \ \ EnergyMeasure\_Begin(\textcolor{stringliteral}{"{}kernel"{}});}
\DoxyCodeLine{00837\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00838\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm::run\_and\_wait\_end()<0)\ \{}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_afa2894b3f71bf49bcf3800ac0d3663b4}{deregister\_farm}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_aa39d03f7c22acf47674a624e404e5b92}{farm\_id}});}
\DoxyCodeLine{00840\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00842\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ EnergyMeasure\_End(\textcolor{stringliteral}{"{}kernel"{}},\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a280df07141e8accc0a3cd99545a81eea}{energy}});}
\DoxyCodeLine{00844\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a280df07141e8accc0a3cd99545a81eea}{energy}}\ =\ 0.0;}
\DoxyCodeLine{00846\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerepara_1_1rprkernels_afa2894b3f71bf49bcf3800ac0d3663b4}{deregister\_farm}}(\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_aa39d03f7c22acf47674a624e404e5b92}{farm\_id}});}
\DoxyCodeLine{00848\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00849\ \ \ \ \ \}\ \ \ \ }
\DoxyCodeLine{00854\ \ \ \ \ RPR\_measures\_vector\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a733e22a16ac690a2710393c2126155ba}{rpr\_get\_measures}}()\ \{}
\DoxyCodeLine{00855\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\ workers\ =\ \ getWorkers();\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00856\ }
\DoxyCodeLine{00857\ \ \ \ \ \ \ \ \ RPR\_measures\_vector\ measures;}
\DoxyCodeLine{00858\ \ \ \ \ \ \ \ \ measures.reserve(workers.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}()+1);}
\DoxyCodeLine{00859\ }
\DoxyCodeLine{00860\ \ \ \ \ \ \ \ \ std::vector<RPR\_devices\_measure>\ tmp(1);}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ tmp[0].resize(1);}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ tmp[0][\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba23a21bef013ff479b800c4ec0933c6a7}{CPU}}].second.resize(1);}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ (tmp[0][\mbox{\hyperlink{namespacerepara_1_1rprkernels_ab4ea50a2de1d040f6d71de0ad04208bba23a21bef013ff479b800c4ec0933c6a7}{CPU}}].second)[0].\mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a280df07141e8accc0a3cd99545a81eea}{energy}}\ =\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a280df07141e8accc0a3cd99545a81eea}{energy}};}
\DoxyCodeLine{00864\ \ \ \ \ \ \ \ \ measures.push\_back(tmp);}
\DoxyCodeLine{00865\ }
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<workers.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00867\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ RPR\_measures\_vector\ \&\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}\ =\ workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>rpr\_get\_measures();}
\DoxyCodeLine{00868\ \ \ \ \ \ \ \ \ \ \ \ \ measures.\mbox{\hyperlink{classff_1_1svector_a3a0ed7a1961983238e824b314f49b61f}{insert}}(measures.end(),\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}.begin(),\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}.end());}
\DoxyCodeLine{00869\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00870\ }
\DoxyCodeLine{00871\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ measures;}
\DoxyCodeLine{00872\ \ \ \ \ \}}
\DoxyCodeLine{00873\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00874\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_aa39d03f7c22acf47674a624e404e5b92}{farm\_id}};\ }
\DoxyCodeLine{00875\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classrepara_1_1rprkernels_1_1_o_farm___kernel_a280df07141e8accc0a3cd99545a81eea}{energy}}\ =\ 0.0;}
\DoxyCodeLine{00876\ \};}
\DoxyCodeLine{00877\ }
\DoxyCodeLine{00878\ }
\DoxyCodeLine{00879\ \textcolor{preprocessor}{\#if\ 0}\textcolor{preprocessor}{}}
\DoxyCodeLine{00884\ \textcolor{keyword}{class\ }Async\_Kernel:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1ff__taskf}{ff\_taskf}}\ \{}
\DoxyCodeLine{00885\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{test__asyncs_8cpp_a6ed787ae487d77da647441a542051e36}{async}}\ =\ \mbox{\hyperlink{classff_1_1ff__taskf}{ff\_taskf}};}
\DoxyCodeLine{00886\ }
\DoxyCodeLine{00887\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00888\ \ \ \ \ \textcolor{keyword}{explicit}\ Async\_Kernel(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kernel\_id):\ }
\DoxyCodeLine{00889\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf}{ff\_taskf}}(),\ kernel\_id(kernel\_id)\ \{}
\DoxyCodeLine{00890\ \ \ \ \ \}}
\DoxyCodeLine{00891\ }
\DoxyCodeLine{00892\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~Async\_Kernel()\ \{\}}
\DoxyCodeLine{00893\ }
\DoxyCodeLine{00894\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F\_t,\ \textcolor{keyword}{typename}...\ Param>}
\DoxyCodeLine{00895\ \ \ \ \ \textcolor{keywordtype}{void}\ AddTask(\textcolor{keyword}{const}\ F\_t\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}},\ Param...\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}});}
\DoxyCodeLine{00896\ }
\DoxyCodeLine{00900\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{poisson_8cpp_ae12af222b820baf64e953be588c5bbbe}{run}}();}
\DoxyCodeLine{00901\ \ \ \ }
\DoxyCodeLine{00905\ \ \ \ \ \textcolor{keywordtype}{int}\ wait();}
\DoxyCodeLine{00906\ }
\DoxyCodeLine{00907\ }
\DoxyCodeLine{00911\ \ \ \ \ \textcolor{keywordtype}{int}\ run\_and\_wait\_end()\ \{}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ queue\_size\ =\ \mbox{\hyperlink{namespacerpr_a363baebc458b533ef8e7d3e1b65c6e25}{register\_async}}(*\textcolor{keyword}{this},\ kernel\_id);}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \ \ \textcolor{comment}{//sets\ bounded\ queues\ }}
\DoxyCodeLine{00914\ \ \ \ \ \ \ \ \ async::setFixedSize(\textcolor{keyword}{true});\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ async::setXNodeInputQueueLength(queue\_size);}
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ async::setXNodeOutputQueueLength(queue\_size);}
\DoxyCodeLine{00917\ }
\DoxyCodeLine{00918\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ EnergyMeasure\_Begin(\textcolor{stringliteral}{"{}kernel"{}});}
\DoxyCodeLine{00920\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pipe::run\_and\_wait\_end()<0)\ \{}
\DoxyCodeLine{00922\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerpr_a311e58a4df96d753a8d21d36a808b03a}{deregister\_async}}(kernel\_id);}
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00925\ \textcolor{preprocessor}{\#if\ defined(ENERGY\_MEASUREMENT)}}
\DoxyCodeLine{00926\ \ \ \ \ \ \ \ \ EnergyMeasure\_End(\textcolor{stringliteral}{"{}kernel"{}},\ energy);}
\DoxyCodeLine{00927\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00928\ \ \ \ \ \ \ \ \ energy\ =\ 0.0;}
\DoxyCodeLine{00929\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00930\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerpr_a311e58a4df96d753a8d21d36a808b03a}{deregister\_async}}(kernel\_id);}
\DoxyCodeLine{00931\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00932\ \ \ \ \ \}}
\DoxyCodeLine{00933\ \ \ \ \ }
\DoxyCodeLine{00938\ \ \ \ \ RPR\_measures\_vector\ rpr\_get\_measures()\ \{}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \ \ RPR\_measures\_vector\ measures;}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ measures;}
\DoxyCodeLine{00941\ \ \ \ \ \}}
\DoxyCodeLine{00942\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00943\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a5c7e693b1cfb4cb7a79b29ff9febb68b}{kernel\_id}};}
\DoxyCodeLine{00944\ \ \ \ \ \textcolor{keywordtype}{double}\ energy\ =\ 0.0;}
\DoxyCodeLine{00945\ \};}
\DoxyCodeLine{00946\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ if\ 0}}
\DoxyCodeLine{00947\ }
\DoxyCodeLine{00948\ }
\DoxyCodeLine{00949\ }
\DoxyCodeLine{00950\ \};\ \textcolor{comment}{//\ namespace\ rprkernels}}
\DoxyCodeLine{00951\ \};\ \textcolor{comment}{//\ namespace\ repara}}
\DoxyCodeLine{00952\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ REPARA\_KERNELS\_HPP\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
