\doxysection{cuda\+\_\+execution\+\_\+policy.\+hpp}
\hypertarget{cuda__execution__policy_8hpp_source}{}\label{cuda__execution__policy_8hpp_source}\index{external/taskflow/taskflow/cuda/cuda\_execution\_policy.hpp@{external/taskflow/taskflow/cuda/cuda\_execution\_policy.hpp}}
\mbox{\hyperlink{cuda__execution__policy_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cuda__error_8hpp}{cuda\_error.hpp}}"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetf}{tf}}\ \{}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned}\ NT,\ \textcolor{keywordtype}{unsigned}\ VT>}
\DoxyCodeLine{00029\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1cuda_execution_policy_aea3b671f778bfb9eca5d7113636f63bf}{cudaExecutionPolicy}}\ \{}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespacetf_a8d48a5014f34a9f97aae5269c2367e38}{is\_pow2}}(NT),\ \textcolor{stringliteral}{"{}max\ \#\ threads\ per\ block\ must\ be\ a\ power\ of\ two"{}});}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00036\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_abb1050526f45873c967976a99e9a370d}{nt}}\ =\ NT;}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00039\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a9410f1b3a5cb9a3cc5e8d640bc7d3990}{vt}}\ =\ VT;}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00042\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a92ac5a32147584738f32a720ea08e3f4}{nv}}\ =\ NT*VT;}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00047\ \ \ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_aea3b671f778bfb9eca5d7113636f63bf}{cudaExecutionPolicy}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00052\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_ac1c7784472394d4abcb6f6a2a80cc019}{cudaExecutionPolicy}}(cudaStream\_t\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}})\ :\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a1eaf3d45afdf53b4bf9927dd1bd7a02b}{\_stream}}\{\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}\}\ \{\}}
\DoxyCodeLine{00053\ \ \ }
\DoxyCodeLine{00057\ \ \ cudaStream\_t\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a5be1b273985800ab886665d28663c29b}{stream}}()\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a1eaf3d45afdf53b4bf9927dd1bd7a02b}{\_stream}};\ \};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00062\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a5f2a4d6b35af49403756ee2291264758}{stream}}(cudaStream\_t\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a5be1b273985800ab886665d28663c29b}{stream}})\ \textcolor{keyword}{noexcept}\ \{\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a1eaf3d45afdf53b4bf9927dd1bd7a02b}{\_stream}}\ =\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a5be1b273985800ab886665d28663c29b}{stream}};\ \}}
\DoxyCodeLine{00063\ \ \ }
\DoxyCodeLine{00067\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_ab96c478964fcba935aa99efe91a64e5c}{num\_blocks}}(\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}})\ \{\ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}\ +\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a92ac5a32147584738f32a720ea08e3f4}{nv}}\ -\/\ 1)\ /\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a92ac5a32147584738f32a720ea08e3f4}{nv}};\ \}\ }
\DoxyCodeLine{00068\ \ \ }
\DoxyCodeLine{00069\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00070\ \ \ \textcolor{comment}{//\ Buffer\ Sizes\ for\ Standard\ Algorithms}}
\DoxyCodeLine{00071\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00072\ \ \ }
\DoxyCodeLine{00084\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00085\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a446cee95bb839ee180052059e2ad7fd6}{reduce\_bufsz}}(\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}});}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00097\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00098\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_abcafb001cd68c1135392f4bcda5a2a05}{min\_element\_bufsz}}(\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}});}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00110\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00111\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a31fe75c4b0765df3035e12be49af88aa}{max\_element\_bufsz}}(\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}});}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00124\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00125\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_af25648b3269902b333cfcd58665005e8}{scan\_bufsz}}(\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}});}
\DoxyCodeLine{00126\ \ \ }
\DoxyCodeLine{00140\ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a1febbe549d9cbe4502a5b66167ab9553}{merge\_bufsz}}(\textcolor{keywordtype}{unsigned}\ a\_count,\ \textcolor{keywordtype}{unsigned}\ b\_count);}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ cudaStream\_t\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy_a1eaf3d45afdf53b4bf9927dd1bd7a02b}{\_stream}}\ \{0\};}
\DoxyCodeLine{00145\ \};}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00150\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacetf_a0c8e4b43b5822445e2316659bbd44245}{cudaDefaultExecutionPolicy}}\ =\ \mbox{\hyperlink{classtf_1_1cuda_execution_policy}{cudaExecutionPolicy<512,\ 7>}};}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \}\ \ \textcolor{comment}{//\ end\ of\ namespace\ tf\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ }

\end{DoxyCode}
