\doxysection{Thread\+Pool类 参考}
\hypertarget{class_thread_pool}{}\label{class_thread_pool}\index{ThreadPool@{ThreadPool}}


{\ttfamily \#include $<$Thread\+Pool.\+hpp$>$}



Thread\+Pool 的协作图\+:
% FIG 0
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_thread_pool_ac291710e33dbbed96ee20711080d506d}{Thread\+Pool}} (size\+\_\+t)
\item 
{\footnotesize template$<$class \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, class... Args$>$ }\\auto \mbox{\hyperlink{class_thread_pool_a26e67526c70650724a805bf9aee27ebb}{enqueue}} (\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \&\&\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}, Args \&\&... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}}) -\/$>$ std\+::future$<$ typename std\+::invoke\+\_\+result$<$ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, Args... $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}} $>$
\item 
\mbox{\hyperlink{class_thread_pool_a44d3d2ab618970605e684efc216655eb}{\texorpdfstring{$\sim$}{\string~}\+Thread\+Pool}} ()
\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{class_thread_pool_a7c3e7095c52992e5cf34e0dcde0b342d}{thread\+\_\+number}} (std\+::thread\+::id \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}})
\item 
size\+\_\+t \mbox{\hyperlink{class_thread_pool_a454cea2e472f552b89c4ff59efddaef6}{num\+\_\+threads}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_thread_pool}{Thread\+Pool}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_thread_pool_a536bb855d328117d3f619d86abdc33c2}{get}} ()
\item 
static \mbox{\hyperlink{class_thread_pool}{Thread\+Pool}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_thread_pool_af4a8891cdfc1adf43d37b4937862039b}{instance}} (\mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} numthreads)
\item 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{class_thread_pool_a1e2d2d1b8b7571ee10a331bbd4034be1}{release}} ()
\item 
static \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} \mbox{\hyperlink{class_thread_pool_a0d5bd67752a4204636e9c636c1afde2d}{hardware\+\_\+concurrency}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ std\+::thread $>$ \mbox{\hyperlink{class_thread_pool_a9ef531ca4b7d046f3acaf4b5b36cdeff}{workers}}
\item 
std\+::queue$<$ std\+::function$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}()$>$ $>$ \mbox{\hyperlink{class_thread_pool_aecd2f98ff952b12bcd21102df80bdfe9}{tasks}}
\item 
std\+::mutex \mbox{\hyperlink{class_thread_pool_adf76c928f148e8fdcd7e34c2bbaa97e3}{queue\+\_\+mutex}}
\item 
std\+::condition\+\_\+variable \mbox{\hyperlink{class_thread_pool_a6dd0c005d9bc726e976def8d6ac2d2a7}{condition}}
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{class_thread_pool_a04e2cc4b3c979b4e054071436988d23d}{stop}}
\item 
std\+::map$<$ std\+::thread\+::id, size\+\_\+t $>$ \mbox{\hyperlink{class_thread_pool_aaafb9f86f3a21c7bccda21c60db77000}{id\+\_\+map}}
\item 
size\+\_\+t \mbox{\hyperlink{class_thread_pool_a679ae55da17bdb962ca2c98f37a72c3c}{num\+\_\+threads\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Private 属性}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_thread_pool}{Thread\+Pool}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_thread_pool_a07f563582f789817fa73196bc20a85d9}{singleton}} = nullptr
\item 
static std\+::mutex \mbox{\hyperlink{class_thread_pool_a8a3ae8419ce95b2cbe62502f6c288d16}{singleton\+\_\+mutex}}
\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\Hypertarget{class_thread_pool_ac291710e33dbbed96ee20711080d506d}\index{ThreadPool@{ThreadPool}!ThreadPool@{ThreadPool}}
\index{ThreadPool@{ThreadPool}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{ThreadPool()}{ThreadPool()}}
{\footnotesize\ttfamily \label{class_thread_pool_ac291710e33dbbed96ee20711080d506d} 
Thread\+Pool\+::\+Thread\+Pool (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{threads}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{class_thread_pool_a44d3d2ab618970605e684efc216655eb}\index{ThreadPool@{ThreadPool}!````~ThreadPool@{\texorpdfstring{$\sim$}{\string~}ThreadPool}}
\index{````~ThreadPool@{\texorpdfstring{$\sim$}{\string~}ThreadPool}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}ThreadPool()}{\string~ThreadPool()}}
{\footnotesize\ttfamily \label{class_thread_pool_a44d3d2ab618970605e684efc216655eb} 
Thread\+Pool\+::\texorpdfstring{$\sim$}{\string~}\+Thread\+Pool (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{成员函数说明}
\Hypertarget{class_thread_pool_a26e67526c70650724a805bf9aee27ebb}\index{ThreadPool@{ThreadPool}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}}
{\footnotesize\ttfamily \label{class_thread_pool_a26e67526c70650724a805bf9aee27ebb} 
template$<$class \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, class... Args$>$ \\
auto Thread\+Pool\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \&\&}]{f}{, }\item[{Args \&\&...}]{args}{}\end{DoxyParamCaption}) -\/$>$ std\+::future$<$typename std\+::invoke\+\_\+result$<$\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, Args...$>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{\+::type}}$>$}

函数调用图\+:
% FIG 1
\Hypertarget{class_thread_pool_a536bb855d328117d3f619d86abdc33c2}\index{ThreadPool@{ThreadPool}!get@{get}}
\index{get@{get}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily \label{class_thread_pool_a536bb855d328117d3f619d86abdc33c2} 
static \mbox{\hyperlink{class_thread_pool}{Thread\+Pool}} \texorpdfstring{$\ast$}{*} Thread\+Pool\+::get (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

函数调用图\+:
% FIG 2
\Hypertarget{class_thread_pool_a0d5bd67752a4204636e9c636c1afde2d}\index{ThreadPool@{ThreadPool}!hardware\_concurrency@{hardware\_concurrency}}
\index{hardware\_concurrency@{hardware\_concurrency}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{hardware\_concurrency()}{hardware\_concurrency()}}
{\footnotesize\ttfamily \label{class_thread_pool_a0d5bd67752a4204636e9c636c1afde2d} 
static \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} Thread\+Pool\+::hardware\+\_\+concurrency (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

\Hypertarget{class_thread_pool_af4a8891cdfc1adf43d37b4937862039b}\index{ThreadPool@{ThreadPool}!instance@{instance}}
\index{instance@{instance}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{instance()}{instance()}}
{\footnotesize\ttfamily \label{class_thread_pool_af4a8891cdfc1adf43d37b4937862039b} 
static \mbox{\hyperlink{class_thread_pool}{Thread\+Pool}} \texorpdfstring{$\ast$}{*} Thread\+Pool\+::instance (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}}]{numthreads}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

函数调用图\+:
% FIG 3
\Hypertarget{class_thread_pool_a454cea2e472f552b89c4ff59efddaef6}\index{ThreadPool@{ThreadPool}!num\_threads@{num\_threads}}
\index{num\_threads@{num\_threads}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{num\_threads()}{num\_threads()}}
{\footnotesize\ttfamily \label{class_thread_pool_a454cea2e472f552b89c4ff59efddaef6} 
size\+\_\+t Thread\+Pool\+::num\+\_\+threads (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{class_thread_pool_a1e2d2d1b8b7571ee10a331bbd4034be1}\index{ThreadPool@{ThreadPool}!release@{release}}
\index{release@{release}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{release()}{release()}}
{\footnotesize\ttfamily \label{class_thread_pool_a1e2d2d1b8b7571ee10a331bbd4034be1} 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} Thread\+Pool\+::release (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

\Hypertarget{class_thread_pool_a7c3e7095c52992e5cf34e0dcde0b342d}\index{ThreadPool@{ThreadPool}!thread\_number@{thread\_number}}
\index{thread\_number@{thread\_number}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{thread\_number()}{thread\_number()}}
{\footnotesize\ttfamily \label{class_thread_pool_a7c3e7095c52992e5cf34e0dcde0b342d} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Thread\+Pool\+::thread\+\_\+number (\begin{DoxyParamCaption}\item[{std\+::thread\+::id}]{id}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{类成员变量说明}
\Hypertarget{class_thread_pool_a6dd0c005d9bc726e976def8d6ac2d2a7}\index{ThreadPool@{ThreadPool}!condition@{condition}}
\index{condition@{condition}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{condition}{condition}}
{\footnotesize\ttfamily \label{class_thread_pool_a6dd0c005d9bc726e976def8d6ac2d2a7} 
std\+::condition\+\_\+variable Thread\+Pool\+::condition\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_thread_pool_aaafb9f86f3a21c7bccda21c60db77000}\index{ThreadPool@{ThreadPool}!id\_map@{id\_map}}
\index{id\_map@{id\_map}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{id\_map}{id\_map}}
{\footnotesize\ttfamily \label{class_thread_pool_aaafb9f86f3a21c7bccda21c60db77000} 
std\+::map$<$std\+::thread\+::id, size\+\_\+t$>$ Thread\+Pool\+::id\+\_\+map\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_thread_pool_a679ae55da17bdb962ca2c98f37a72c3c}\index{ThreadPool@{ThreadPool}!num\_threads\_@{num\_threads\_}}
\index{num\_threads\_@{num\_threads\_}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{num\_threads\_}{num\_threads\_}}
{\footnotesize\ttfamily \label{class_thread_pool_a679ae55da17bdb962ca2c98f37a72c3c} 
size\+\_\+t Thread\+Pool\+::num\+\_\+threads\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_thread_pool_adf76c928f148e8fdcd7e34c2bbaa97e3}\index{ThreadPool@{ThreadPool}!queue\_mutex@{queue\_mutex}}
\index{queue\_mutex@{queue\_mutex}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{queue\_mutex}{queue\_mutex}}
{\footnotesize\ttfamily \label{class_thread_pool_adf76c928f148e8fdcd7e34c2bbaa97e3} 
std\+::mutex Thread\+Pool\+::queue\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_thread_pool_a07f563582f789817fa73196bc20a85d9}\index{ThreadPool@{ThreadPool}!singleton@{singleton}}
\index{singleton@{singleton}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{singleton}{singleton}}
{\footnotesize\ttfamily \label{class_thread_pool_a07f563582f789817fa73196bc20a85d9} 
\mbox{\hyperlink{class_thread_pool}{Thread\+Pool}} \texorpdfstring{$\ast$}{*} Thread\+Pool\+::singleton = nullptr\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

\Hypertarget{class_thread_pool_a8a3ae8419ce95b2cbe62502f6c288d16}\index{ThreadPool@{ThreadPool}!singleton\_mutex@{singleton\_mutex}}
\index{singleton\_mutex@{singleton\_mutex}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{singleton\_mutex}{singleton\_mutex}}
{\footnotesize\ttfamily \label{class_thread_pool_a8a3ae8419ce95b2cbe62502f6c288d16} 
std\+::mutex Thread\+Pool\+::singleton\+\_\+mutex\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

\Hypertarget{class_thread_pool_a04e2cc4b3c979b4e054071436988d23d}\index{ThreadPool@{ThreadPool}!stop@{stop}}
\index{stop@{stop}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{stop}{stop}}
{\footnotesize\ttfamily \label{class_thread_pool_a04e2cc4b3c979b4e054071436988d23d} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} Thread\+Pool\+::stop\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_thread_pool_aecd2f98ff952b12bcd21102df80bdfe9}\index{ThreadPool@{ThreadPool}!tasks@{tasks}}
\index{tasks@{tasks}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{tasks}{tasks}}
{\footnotesize\ttfamily \label{class_thread_pool_aecd2f98ff952b12bcd21102df80bdfe9} 
std\+::queue$<$std\+::function$<$\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}()$>$ $>$ Thread\+Pool\+::tasks\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_thread_pool_a9ef531ca4b7d046f3acaf4b5b36cdeff}\index{ThreadPool@{ThreadPool}!workers@{workers}}
\index{workers@{workers}!ThreadPool@{ThreadPool}}
\doxysubsubsection{\texorpdfstring{workers}{workers}}
{\footnotesize\ttfamily \label{class_thread_pool_a9ef531ca4b7d046f3acaf4b5b36cdeff} 
std\+::vector$<$std\+::thread$>$ Thread\+Pool\+::workers\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/benchmarks/thread\+\_\+pool/\mbox{\hyperlink{_thread_pool_8hpp}{Thread\+Pool.\+hpp}}\item 
external/taskflow/benchmarks/thread\+\_\+pool/\mbox{\hyperlink{thread__pool_8cpp}{thread\+\_\+pool.\+cpp}}\end{DoxyCompactItemize}
