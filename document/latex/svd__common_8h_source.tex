\doxysection{svd\+\_\+common.\+h}
\hypertarget{svd__common_8h_source}{}\label{svd__common_8h_source}\index{external/taskflow/3rd-\/party/eigen-\/3.3.7/test/svd\_common.h@{external/taskflow/3rd-\/party/eigen-\/3.3.7/test/svd\_common.h}}
\mbox{\hyperlink{svd__common_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2008-\/2014\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ Copyright\ (C)\ 2009\ Benoit\ Jacob\ <jacob.benoit.1@gmail.com>}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ SVD\_DEFAULT}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#error\ a\ macro\ SVD\_DEFAULT(MatrixType)\ must\ be\ defined\ prior\ to\ including\ svd\_common.h}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ SVD\_FOR\_MIN\_NORM}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#error\ a\ macro\ SVD\_FOR\_MIN\_NORM(MatrixType)\ must\ be\ defined\ prior\ to\ including\ svd\_common.h}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{svd__fill_8h}{svd\_fill.h}}"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{comment}{//\ Check\ that\ the\ matrix\ m\ is\ properly\ reconstructed\ and\ that\ the\ U\ and\ V\ factors\ are\ unitary}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ The\ SVD\ must\ have\ already\ been\ computed.}}
\DoxyCodeLine{00023\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ SvdType,\ \textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00024\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{svd__common_8h_ae318f00d929c0c2ed357e8252860ab47}{svd\_check\_full}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\&\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ \textcolor{keyword}{const}\ SvdType\&\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}})}
\DoxyCodeLine{00025\ \{}
\DoxyCodeLine{00026\ \ \ Index\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}}\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.rows();}
\DoxyCodeLine{00027\ \ \ Index\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}}\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.cols();}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00030\ \ \ \ \ RowsAtCompileTime\ =\ MatrixType::RowsAtCompileTime,}
\DoxyCodeLine{00031\ \ \ \ \ ColsAtCompileTime\ =\ MatrixType::ColsAtCompileTime}
\DoxyCodeLine{00032\ \ \ \};}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MatrixType::Scalar\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00035\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MatrixType::RealScalar\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}};}
\DoxyCodeLine{00036\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ RowsAtCompileTime,\ RowsAtCompileTime>}}\ MatrixUType;}
\DoxyCodeLine{00037\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ ColsAtCompileTime,\ ColsAtCompileTime>}}\ MatrixVType;}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\ sigma\ =\ MatrixType::Zero(\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}},\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}});}
\DoxyCodeLine{00040\ \ \ sigma.diagonal()\ =\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.singularValues().template\ \mbox{\hyperlink{_common_cwise_unary_ops_8h_aa89d007196125d10fa7d6e19811aca05}{cast<Scalar>}}();}
\DoxyCodeLine{00041\ \ \ MatrixUType\ \mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__for_2seismic_2main_8cpp_a2a671aca47b8db55cef1dd7174adad6f}{u}}\ =\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU();}
\DoxyCodeLine{00042\ \ \ MatrixVType\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ =\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV();}
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ scaling\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.cwiseAbs().maxCoeff();}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordflow}{if}(scaling<(std::numeric\_limits<RealScalar>::min)())}
\DoxyCodeLine{00045\ \ \ \{}
\DoxyCodeLine{00046\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(sigma.cwiseAbs().maxCoeff()\ <=\ (std::numeric\_limits<RealScalar>::min)());}
\DoxyCodeLine{00047\ \ \ \}}
\DoxyCodeLine{00048\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00049\ \ \ \{}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}/scaling,\ \mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__for_2seismic_2main_8cpp_a2a671aca47b8db55cef1dd7174adad6f}{u}}\ *\ (sigma/scaling)\ *\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}.adjoint());}
\DoxyCodeLine{00051\ \ \ \}}
\DoxyCodeLine{00052\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ad07709a83a8d46d73b1c30d936cd4c0b}{VERIFY\_IS\_UNITARY}}(\mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2parallel__for_2seismic_2main_8cpp_a2a671aca47b8db55cef1dd7174adad6f}{u}});}
\DoxyCodeLine{00053\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ad07709a83a8d46d73b1c30d936cd4c0b}{VERIFY\_IS\_UNITARY}}(\mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}});}
\DoxyCodeLine{00054\ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{comment}{//\ Compare\ partial\ SVD\ defined\ by\ computationOptions\ to\ a\ full\ SVD\ referenceSvd}}
\DoxyCodeLine{00057\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ SvdType,\ \textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00058\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{svd__common_8h_a6831b336d27a4806382ee770116b0a2b}{svd\_compare\_to\_full}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\&\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ computationOptions,}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SvdType\&\ referenceSvd)}
\DoxyCodeLine{00061\ \{}
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MatrixType::RealScalar\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}};}
\DoxyCodeLine{00063\ \ \ Index\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}}\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.rows();}
\DoxyCodeLine{00064\ \ \ Index\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}}\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.cols();}
\DoxyCodeLine{00065\ \ \ Index\ diagSize\ =\ (\mbox{\hyperlink{namespacestd_ac7b9885417769949d76890454b6d072e}{std::min}})(\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}},\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}});}
\DoxyCodeLine{00066\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ prec\ =\ \mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<RealScalar>}}();}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ SvdType\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ computationOptions);}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.singularValues(),\ referenceSvd.singularValues());}
\DoxyCodeLine{00071\ \ \ }
\DoxyCodeLine{00072\ \ \ \textcolor{keywordflow}{if}(computationOptions\ \&\ (ComputeFullV|ComputeThinV))}
\DoxyCodeLine{00073\ \ \ \{}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\ (\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV().adjoint()*\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV()).isIdentity(prec)\ );}
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV().leftCols(diagSize)\ *\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.singularValues().asDiagonal()\ *\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV().leftCols(diagSize).adjoint(),}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ referenceSvd.matrixV().leftCols(diagSize)\ *\ referenceSvd.singularValues().asDiagonal()\ *\ referenceSvd.matrixV().leftCols(diagSize).adjoint());}
\DoxyCodeLine{00077\ \ \ \}}
\DoxyCodeLine{00078\ \ \ }
\DoxyCodeLine{00079\ \ \ \textcolor{keywordflow}{if}(computationOptions\ \&\ (ComputeFullU|ComputeThinU))}
\DoxyCodeLine{00080\ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\ (\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU().adjoint()*\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU()).isIdentity(prec)\ );}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU().leftCols(diagSize)\ *\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.singularValues().cwiseAbs2().asDiagonal()\ *\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU().leftCols(diagSize).adjoint(),}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ referenceSvd.matrixU().leftCols(diagSize)\ *\ referenceSvd.singularValues().cwiseAbs2().asDiagonal()\ *\ referenceSvd.matrixU().leftCols(diagSize).adjoint());}
\DoxyCodeLine{00084\ \ \ \}}
\DoxyCodeLine{00085\ \ \ }
\DoxyCodeLine{00086\ \ \ \textcolor{comment}{//\ The\ following\ checks\ are\ not\ critical.}}
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ For\ instance,\ with\ Dived\&Conquer\ SVD,\ if\ only\ the\ factor\ 'V'\ is\ computedt\ then\ different\ matrix-\/matrix\ product\ implementation\ will\ be\ used}}
\DoxyCodeLine{00088\ \ \ \textcolor{comment}{//\ and\ the\ resulting\ 'V'\ factor\ might\ be\ significantly\ different\ when\ the\ SVD\ decomposition\ is\ not\ unique,\ especially\ with\ single\ precision\ float.}}
\DoxyCodeLine{00089\ \ \ ++g\_test\_level;}
\DoxyCodeLine{00090\ \ \ \textcolor{keywordflow}{if}(computationOptions\ \&\ ComputeFullU)\ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU(),\ referenceSvd.matrixU());}
\DoxyCodeLine{00091\ \ \ \textcolor{keywordflow}{if}(computationOptions\ \&\ ComputeThinU)\ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU(),\ referenceSvd.matrixU().leftCols(diagSize));}
\DoxyCodeLine{00092\ \ \ \textcolor{keywordflow}{if}(computationOptions\ \&\ ComputeFullV)\ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV().cwiseAbs(),\ referenceSvd.matrixV().cwiseAbs());}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{if}(computationOptions\ \&\ ComputeThinV)\ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV(),\ referenceSvd.matrixV().leftCols(diagSize));}
\DoxyCodeLine{00094\ \ \ -\/-\/g\_test\_level;}
\DoxyCodeLine{00095\ \}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \textcolor{comment}{//}}
\DoxyCodeLine{00098\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ SvdType,\ \textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00099\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{svd__common_8h_a993e3af0920e58583d5df615c5f56d35}{svd\_least\_square}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\&\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ computationOptions)}
\DoxyCodeLine{00100\ \{}
\DoxyCodeLine{00101\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MatrixType::Scalar\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00102\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MatrixType::RealScalar\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}};}
\DoxyCodeLine{00103\ \ \ Index\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}}\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.rows();}
\DoxyCodeLine{00104\ \ \ Index\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}}\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.cols();}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00107\ \ \ \ \ RowsAtCompileTime\ =\ MatrixType::RowsAtCompileTime,}
\DoxyCodeLine{00108\ \ \ \ \ ColsAtCompileTime\ =\ MatrixType::ColsAtCompileTime}
\DoxyCodeLine{00109\ \ \ \};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ RowsAtCompileTime,\ Dynamic>}}\ RhsType;}
\DoxyCodeLine{00112\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ ColsAtCompileTime,\ Dynamic>}}\ SolutionType;}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ RhsType\ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}\ =\ RhsType::Random(\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}},\ internal::random<Index>(1,\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}}));}
\DoxyCodeLine{00115\ \ \ SvdType\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ computationOptions);}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(internal::is\_same<RealScalar,double>::value)\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.setThreshold(1\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/8);}
\DoxyCodeLine{00118\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(internal::is\_same<RealScalar,float>::value)\ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.setThreshold(2\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/4);}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ SolutionType\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ =\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.solve(\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}});}
\DoxyCodeLine{00121\ \ \ \ }
\DoxyCodeLine{00122\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ residual\ =\ (\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}*\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}-\/\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}).norm();}
\DoxyCodeLine{00123\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ rhs\_norm\ =\ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.norm();}
\DoxyCodeLine{00124\ \ \ \textcolor{keywordflow}{if}(!test\_isMuchSmallerThan(residual,\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.norm()))}
\DoxyCodeLine{00125\ \ \ \{}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{comment}{//\ \string^\string^\string^\ If\ the\ residual\ is\ very\ small,\ then\ we\ have\ an\ exact\ solution,\ so\ we\ are\ already\ good.}}
\DoxyCodeLine{00127\ \ \ \ \ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{comment}{//\ evaluate\ normal\ equation\ which\ works\ also\ for\ least-\/squares\ solutions}}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordflow}{if}(internal::is\_same<RealScalar,double>::value\ ||\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.rank()==\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.diagonal().size())}
\DoxyCodeLine{00130\ \ \ \ \ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \textcolor{keyword}{using\ }std::sqrt;}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \textcolor{comment}{//\ This\ test\ is\ not\ stable\ with\ single\ precision.}}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \textcolor{comment}{//\ This\ is\ probably\ because\ squaring\ m\ signicantly\ affects\ the\ precision.\ \ \ \ \ \ }}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(internal::is\_same<RealScalar,float>::value)\ ++g\_test\_level;}
\DoxyCodeLine{00135\ \ \ \ \ \ \ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.adjoint()*(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}*\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}),\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.adjoint()*\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}});}
\DoxyCodeLine{00137\ \ \ \ \ \ \ }
\DoxyCodeLine{00138\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(internal::is\_same<RealScalar,float>::value)\ -\/-\/g\_test\_level;}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \ \ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{comment}{//\ Check\ that\ there\ is\ no\ significantly\ better\ solution\ in\ the\ neighborhood\ of\ x}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordflow}{for}(Index\ k=0;k<\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.rows();++k)}
\DoxyCodeLine{00143\ \ \ \ \ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \textcolor{keyword}{using\ }std::abs;}
\DoxyCodeLine{00145\ \ \ \ \ \ \ }
\DoxyCodeLine{00146\ \ \ \ \ \ \ SolutionType\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}});}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}.row(k)\ =\ (\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(1)+2*NumTraits<RealScalar>::epsilon())*\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.row(k);}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ residual\_y\ =\ (\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}-\/\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}).norm();}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\ test\_isMuchSmallerThan(\mbox{\hyperlink{datatypes_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}}(residual\_y-\/residual),\ rhs\_norm)\ ||\ residual\ <\ residual\_y\ );}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(internal::is\_same<RealScalar,float>::value)\ ++g\_test\_level;}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\ test\_isApprox(residual\_y,residual)\ ||\ residual\ <\ residual\_y\ );}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(internal::is\_same<RealScalar,float>::value)\ -\/-\/g\_test\_level;}
\DoxyCodeLine{00153\ \ \ \ \ \ \ }
\DoxyCodeLine{00154\ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}.row(k)\ =\ (\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(1)-\/2*NumTraits<RealScalar>::epsilon())*\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}.row(k);}
\DoxyCodeLine{00155\ \ \ \ \ \ \ residual\_y\ =\ (\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a5e247fc24ceb70d83f6ad59149b8910a}{y}}-\/\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}).norm();}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\ test\_isMuchSmallerThan(\mbox{\hyperlink{datatypes_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}}(residual\_y-\/residual),\ rhs\_norm)\ ||\ residual\ <\ residual\_y\ );}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(internal::is\_same<RealScalar,float>::value)\ ++g\_test\_level;}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\ test\_isApprox(residual\_y,residual)\ ||\ residual\ <\ residual\_y\ );}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(internal::is\_same<RealScalar,float>::value)\ -\/-\/g\_test\_level;}
\DoxyCodeLine{00160\ \ \ \ \ \}}
\DoxyCodeLine{00161\ \ \ \}}
\DoxyCodeLine{00162\ \}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \textcolor{comment}{//\ check\ minimal\ norm\ solutions,\ the\ inoput\ matrix\ m\ is\ only\ used\ to\ recover\ problem\ size}}
\DoxyCodeLine{00165\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00166\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{svd__common_8h_a59fb42b0829d86517e758c9b3c5c3769}{svd\_min\_norm}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\&\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ computationOptions)}
\DoxyCodeLine{00167\ \{}
\DoxyCodeLine{00168\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MatrixType::Scalar\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00169\ \ \ Index\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}}\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.cols();}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00172\ \ \ \ \ ColsAtCompileTime\ =\ MatrixType::ColsAtCompileTime}
\DoxyCodeLine{00173\ \ \ \};}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ ColsAtCompileTime,\ Dynamic>}}\ SolutionType;}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \textcolor{comment}{//\ generate\ a\ full-\/rank\ m\ x\ n\ problem\ with\ m<n}}
\DoxyCodeLine{00178\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00179\ \ \ \ \ RankAtCompileTime2\ =\ ColsAtCompileTime==Dynamic\ ?\ Dynamic\ :\ (ColsAtCompileTime)/2+1,}
\DoxyCodeLine{00180\ \ \ \ \ RowsAtCompileTime3\ =\ ColsAtCompileTime==Dynamic\ ?\ Dynamic\ :\ ColsAtCompileTime+1}
\DoxyCodeLine{00181\ \ \ \};}
\DoxyCodeLine{00182\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ RankAtCompileTime2,\ ColsAtCompileTime>}}\ MatrixType2;}
\DoxyCodeLine{00183\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ RankAtCompileTime2,\ 1>}}\ RhsType2;}
\DoxyCodeLine{00184\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ ColsAtCompileTime,\ RankAtCompileTime2>}}\ MatrixType2T;}
\DoxyCodeLine{00185\ \ \ Index\ \mbox{\hyperlink{ittnotify__static_8h_a4d59258314b5b7d431d257e3a5a98b57}{rank}}\ =\ RankAtCompileTime2==Dynamic\ ?\ internal::random<Index>(1,\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}})\ :\ Index(RankAtCompileTime2);}
\DoxyCodeLine{00186\ \ \ MatrixType2\ \mbox{\hyperlink{_tutorial___map__using_8cpp_ab3a01b595d22393ace0d30d5fa299f76}{m2}}(\mbox{\hyperlink{ittnotify__static_8h_a4d59258314b5b7d431d257e3a5a98b57}{rank}},\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}});}
\DoxyCodeLine{00187\ \ \ \textcolor{keywordtype}{int}\ guard\ =\ 0;}
\DoxyCodeLine{00188\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{_tutorial___map__using_8cpp_ab3a01b595d22393ace0d30d5fa299f76}{m2}}.setRandom();}
\DoxyCodeLine{00190\ \ \ \}\ \textcolor{keywordflow}{while}(\mbox{\hyperlink{bdcsvd_8cpp_ac6290843e6be5ef77440ba4abcef726b}{SVD\_FOR\_MIN\_NORM}}(MatrixType2)(\mbox{\hyperlink{_tutorial___map__using_8cpp_ab3a01b595d22393ace0d30d5fa299f76}{m2}}).setThreshold(\mbox{\hyperlink{spbenchsolver_8h_ac873ccd2d8b50aa74f31783a38ba5d99}{test\_precision<Scalar>}}()).\mbox{\hyperlink{ittnotify__static_8h_a4d59258314b5b7d431d257e3a5a98b57}{rank}}()!=\mbox{\hyperlink{ittnotify__static_8h_a4d59258314b5b7d431d257e3a5a98b57}{rank}}\ \&\&\ (++guard)<10);}
\DoxyCodeLine{00191\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(guard<10);}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \ \ RhsType2\ rhs2\ =\ RhsType2::Random(\mbox{\hyperlink{ittnotify__static_8h_a4d59258314b5b7d431d257e3a5a98b57}{rank}});}
\DoxyCodeLine{00194\ \ \ \textcolor{comment}{//\ use\ QR\ to\ find\ a\ reference\ minimal\ norm\ solution}}
\DoxyCodeLine{00195\ \ \ HouseholderQR<MatrixType2T>\ \mbox{\hyperlink{qr__colpivoting_8cpp_a234047f1d6b0303293c8918968a9670e}{qr}}(\mbox{\hyperlink{_tutorial___map__using_8cpp_ab3a01b595d22393ace0d30d5fa299f76}{m2}}.adjoint());}
\DoxyCodeLine{00196\ \ \ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,Dynamic,1>}}\ tmp\ =\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_ab766ef1a187400b0619104b16613d3cf}{qr}}.matrixQR().topLeftCorner(\mbox{\hyperlink{ittnotify__static_8h_a4d59258314b5b7d431d257e3a5a98b57}{rank}},\mbox{\hyperlink{ittnotify__static_8h_a4d59258314b5b7d431d257e3a5a98b57}{rank}}).template\ triangularView<Upper>().adjoint().solve(rhs2);}
\DoxyCodeLine{00197\ \ \ tmp.conservativeResize(\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}});}
\DoxyCodeLine{00198\ \ \ tmp.tail(\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}}-\/\mbox{\hyperlink{ittnotify__static_8h_a4d59258314b5b7d431d257e3a5a98b57}{rank}}).setZero();}
\DoxyCodeLine{00199\ \ \ SolutionType\ x21\ =\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_ab766ef1a187400b0619104b16613d3cf}{qr}}.householderQ()\ *\ tmp;}
\DoxyCodeLine{00200\ \ \ \textcolor{comment}{//\ now\ check\ with\ SVD}}
\DoxyCodeLine{00201\ \ \ \mbox{\hyperlink{bdcsvd_8cpp_ac6290843e6be5ef77440ba4abcef726b}{SVD\_FOR\_MIN\_NORM}}(MatrixType2)\ svd2(\mbox{\hyperlink{_tutorial___map__using_8cpp_ab3a01b595d22393ace0d30d5fa299f76}{m2}},\ computationOptions);}
\DoxyCodeLine{00202\ \ \ SolutionType\ x22\ =\ svd2.solve(rhs2);}
\DoxyCodeLine{00203\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_tutorial___map__using_8cpp_ab3a01b595d22393ace0d30d5fa299f76}{m2}}*x21,\ rhs2);}
\DoxyCodeLine{00204\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_tutorial___map__using_8cpp_ab3a01b595d22393ace0d30d5fa299f76}{m2}}*x22,\ rhs2);}
\DoxyCodeLine{00205\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(x21,\ x22);}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \textcolor{comment}{//\ Now\ check\ with\ a\ rank\ deficient\ matrix}}
\DoxyCodeLine{00208\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ RowsAtCompileTime3,\ ColsAtCompileTime>}}\ MatrixType3;}
\DoxyCodeLine{00209\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ RowsAtCompileTime3,\ 1>}}\ RhsType3;}
\DoxyCodeLine{00210\ \ \ Index\ rows3\ =\ RowsAtCompileTime3==Dynamic\ ?\ internal::random<Index>(\mbox{\hyperlink{ittnotify__static_8h_a4d59258314b5b7d431d257e3a5a98b57}{rank}}+1,2*\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}})\ :\ Index(RowsAtCompileTime3);}
\DoxyCodeLine{00211\ \ \ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,RowsAtCompileTime3,Dynamic>}}\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ =\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,RowsAtCompileTime3,Dynamic>::Random}}(rows3,\mbox{\hyperlink{ittnotify__static_8h_a4d59258314b5b7d431d257e3a5a98b57}{rank}});}
\DoxyCodeLine{00212\ \ \ MatrixType3\ m3\ =\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ *\ \mbox{\hyperlink{_tutorial___map__using_8cpp_ab3a01b595d22393ace0d30d5fa299f76}{m2}};}
\DoxyCodeLine{00213\ \ \ RhsType3\ rhs3\ =\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ *\ rhs2;}
\DoxyCodeLine{00214\ \ \ \mbox{\hyperlink{bdcsvd_8cpp_ac6290843e6be5ef77440ba4abcef726b}{SVD\_FOR\_MIN\_NORM}}(MatrixType3)\ svd3(m3,\ computationOptions);}
\DoxyCodeLine{00215\ \ \ SolutionType\ x3\ =\ svd3.solve(rhs3);}
\DoxyCodeLine{00216\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(m3*x3,\ rhs3);}
\DoxyCodeLine{00217\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(m3*x21,\ rhs3);}
\DoxyCodeLine{00218\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_tutorial___map__using_8cpp_ab3a01b595d22393ace0d30d5fa299f76}{m2}}*x3,\ rhs2);}
\DoxyCodeLine{00219\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(x21,\ x3);}
\DoxyCodeLine{00220\ \}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \textcolor{comment}{//\ Check\ full,\ compare\_to\_full,\ least\_square,\ and\ min\_norm\ for\ all\ possible\ compute-\/options}}
\DoxyCodeLine{00223\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ SvdType,\ \textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00224\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{svd__common_8h_ab1630fb76a0e3e342bffe3dd03e8619d}{svd\_test\_all\_computation\_options}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\&\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ \textcolor{keywordtype}{bool}\ full\_only)}
\DoxyCodeLine{00225\ \{}
\DoxyCodeLine{00226\ \textcolor{comment}{//\ \ \ if\ (QRPreconditioner\ ==\ NoQRPreconditioner\ \&\&\ m.rows()\ !=\ m.cols())}}
\DoxyCodeLine{00227\ \textcolor{comment}{//\ \ \ \ \ return;}}
\DoxyCodeLine{00228\ \ \ SvdType\ fullSvd(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU|ComputeFullV);}
\DoxyCodeLine{00229\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_ae318f00d929c0c2ed357e8252860ab47}{svd\_check\_full}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ fullSvd)\ ));}
\DoxyCodeLine{00230\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a993e3af0920e58583d5df615c5f56d35}{svd\_least\_square<SvdType>}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU\ |\ ComputeFullV)\ ));}
\DoxyCodeLine{00231\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a59fb42b0829d86517e758c9b3c5c3769}{svd\_min\_norm}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU\ |\ ComputeFullV)\ ));}
\DoxyCodeLine{00232\ \ \ }
\DoxyCodeLine{00233\ \textcolor{preprocessor}{\ \ \#if\ defined\ \_\_INTEL\_COMPILER}}
\DoxyCodeLine{00234\ \ \ \textcolor{comment}{//\ remark\ \#111:\ statement\ is\ unreachable}}
\DoxyCodeLine{00235\ \textcolor{preprocessor}{\ \ \#pragma\ warning\ disable\ 111}}
\DoxyCodeLine{00236\ \textcolor{preprocessor}{\ \ \#endif}}
\DoxyCodeLine{00237\ \ \ \textcolor{keywordflow}{if}(full\_only)}
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a6831b336d27a4806382ee770116b0a2b}{svd\_compare\_to\_full}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU,\ fullSvd)\ ));}
\DoxyCodeLine{00241\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a6831b336d27a4806382ee770116b0a2b}{svd\_compare\_to\_full}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullV,\ fullSvd)\ ));}
\DoxyCodeLine{00242\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a6831b336d27a4806382ee770116b0a2b}{svd\_compare\_to\_full}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ 0,\ fullSvd)\ ));}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \textcolor{keywordflow}{if}\ (MatrixType::ColsAtCompileTime\ ==\ Dynamic)\ \{}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{comment}{//\ thin\ U/V\ are\ only\ available\ with\ dynamic\ number\ of\ columns}}
\DoxyCodeLine{00246\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a6831b336d27a4806382ee770116b0a2b}{svd\_compare\_to\_full}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU|ComputeThinV,\ fullSvd)\ ));}
\DoxyCodeLine{00247\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a6831b336d27a4806382ee770116b0a2b}{svd\_compare\_to\_full}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ ComputeThinV,\ fullSvd)\ ));}
\DoxyCodeLine{00248\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a6831b336d27a4806382ee770116b0a2b}{svd\_compare\_to\_full}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeThinU|ComputeFullV,\ fullSvd)\ ));}
\DoxyCodeLine{00249\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a6831b336d27a4806382ee770116b0a2b}{svd\_compare\_to\_full}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeThinU\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ fullSvd)\ ));}
\DoxyCodeLine{00250\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a6831b336d27a4806382ee770116b0a2b}{svd\_compare\_to\_full}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeThinU|ComputeThinV,\ fullSvd)\ ));}
\DoxyCodeLine{00251\ \ \ \ \ }
\DoxyCodeLine{00252\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a993e3af0920e58583d5df615c5f56d35}{svd\_least\_square<SvdType>}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU\ |\ ComputeThinV)\ ));}
\DoxyCodeLine{00253\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a993e3af0920e58583d5df615c5f56d35}{svd\_least\_square<SvdType>}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeThinU\ |\ ComputeFullV)\ ));}
\DoxyCodeLine{00254\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a993e3af0920e58583d5df615c5f56d35}{svd\_least\_square<SvdType>}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeThinU\ |\ ComputeThinV)\ ));}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a59fb42b0829d86517e758c9b3c5c3769}{svd\_min\_norm}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU\ |\ ComputeThinV)\ ));}
\DoxyCodeLine{00257\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a59fb42b0829d86517e758c9b3c5c3769}{svd\_min\_norm}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeThinU\ |\ ComputeFullV)\ ));}
\DoxyCodeLine{00258\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}((\ \mbox{\hyperlink{svd__common_8h_a59fb42b0829d86517e758c9b3c5c3769}{svd\_min\_norm}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeThinU\ |\ ComputeThinV)\ ));}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{comment}{//\ test\ reconstruction}}
\DoxyCodeLine{00261\ \ \ \ \ Index\ diagSize\ =\ (\mbox{\hyperlink{namespacestd_ac7b9885417769949d76890454b6d072e}{std::min}})(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.rows(),\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.cols());}
\DoxyCodeLine{00262\ \ \ \ \ SvdType\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeThinU\ |\ ComputeThinV);}
\DoxyCodeLine{00263\ \ \ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU().leftCols(diagSize)\ *\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.singularValues().asDiagonal()\ *\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV().leftCols(diagSize).adjoint());}
\DoxyCodeLine{00264\ \ \ \}}
\DoxyCodeLine{00265\ \}}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ \textcolor{comment}{//\ work\ around\ stupid\ msvc\ error\ when\ constructing\ at\ compile\ time\ an\ expression\ that\ involves}}
\DoxyCodeLine{00269\ \textcolor{comment}{//\ a\ division\ by\ zero,\ even\ if\ the\ numeric\ type\ has\ floating\ point}}
\DoxyCodeLine{00270\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar>}
\DoxyCodeLine{00271\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_aa715c1fe854205b27e962ee7d7e06faf}{EIGEN\_DONT\_INLINE}}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}\ \mbox{\hyperlink{svd__common_8h_a4a86f5596ff1afa9113ff6cc07a60453}{zero}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(0);\ \}}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \textcolor{comment}{//\ workaround\ aggressive\ optimization\ in\ ICC}}
\DoxyCodeLine{00274\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>\ \mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_aa715c1fe854205b27e962ee7d7e06faf}{EIGEN\_DONT\_INLINE}}\ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{svd__common_8h_abbcc1b1ba3de417b2c556b7a2f6d54f6}{sub}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ -\/\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};\ \}}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \textcolor{comment}{//\ all\ this\ function\ does\ is\ verify\ we\ don't\ iterate\ infinitely\ on\ nan/inf\ values}}
\DoxyCodeLine{00277\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ SvdType,\ \textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00278\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{svd__common_8h_a8196f7d689a2447d9883159d40914692}{svd\_inf\_nan}}()}
\DoxyCodeLine{00279\ \{}
\DoxyCodeLine{00280\ \ \ SvdType\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}};}
\DoxyCodeLine{00281\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MatrixType::Scalar\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00282\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}\ some\_inf\ =\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(1)\ /\ \mbox{\hyperlink{svd__common_8h_a4a86f5596ff1afa9113ff6cc07a60453}{zero<Scalar>}}();}
\DoxyCodeLine{00283\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(\mbox{\hyperlink{svd__common_8h_abbcc1b1ba3de417b2c556b7a2f6d54f6}{sub}}(some\_inf,\ some\_inf)\ !=\ \mbox{\hyperlink{svd__common_8h_abbcc1b1ba3de417b2c556b7a2f6d54f6}{sub}}(some\_inf,\ some\_inf));}
\DoxyCodeLine{00284\ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(MatrixType::Constant(10,10,some\_inf),\ ComputeFullU\ |\ ComputeFullV);}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00286\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}\ nan\ =\ std::numeric\_limits<Scalar>::quiet\_NaN();}
\DoxyCodeLine{00287\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_a8fd475674858848a6a3fa5e47bde4727}{VERIFY}}(nan\ !=\ nan);}
\DoxyCodeLine{00288\ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(MatrixType::Constant(10,10,nan),\ ComputeFullU\ |\ ComputeFullV);}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \ \ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ =\ MatrixType::Zero(10,10);}
\DoxyCodeLine{00291\ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}(internal::random<int>(0,9),\ internal::random<int>(0,9))\ =\ some\_inf;}
\DoxyCodeLine{00292\ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU\ |\ ComputeFullV);}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ =\ MatrixType::Zero(10,10);}
\DoxyCodeLine{00295\ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}(internal::random<int>(0,9),\ internal::random<int>(0,9))\ =\ nan;}
\DoxyCodeLine{00296\ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU\ |\ ComputeFullV);}
\DoxyCodeLine{00297\ \ \ }
\DoxyCodeLine{00298\ \ \ \textcolor{comment}{//\ regression\ test\ for\ bug\ 791}}
\DoxyCodeLine{00299\ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.resize(3,3);}
\DoxyCodeLine{00300\ \ \ m\ <<\ 0,\ \ \ \ 2*NumTraits<Scalar>::epsilon(),\ \ 0.5,}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ 0,\ \ \ -\/0.5,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0,}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ nan,\ \ 0,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0;}
\DoxyCodeLine{00303\ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU\ |\ ComputeFullV);}
\DoxyCodeLine{00304\ \ \ }
\DoxyCodeLine{00305\ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.resize(4,4);}
\DoxyCodeLine{00306\ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ <<\ \ 1,\ 0,\ 0,\ 0,}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ 0,\ 3,\ 1,\ 2\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/308,}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ 1,\ 0,\ 1,\ nan,}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ 0,\ nan,\ nan,\ 0;}
\DoxyCodeLine{00310\ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU\ |\ ComputeFullV);}
\DoxyCodeLine{00311\ \}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \textcolor{comment}{//\ Regression\ test\ for\ bug\ 286:\ JacobiSVD\ loops\ indefinitely\ with\ some}}
\DoxyCodeLine{00314\ \textcolor{comment}{//\ matrices\ containing\ denormal\ numbers.}}
\DoxyCodeLine{00315\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}>}
\DoxyCodeLine{00316\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{svd__common_8h_a7cbc24ede5c93bde20c682c51ef2439a}{svd\_underoverflow}}()}
\DoxyCodeLine{00317\ \{}
\DoxyCodeLine{00318\ \textcolor{preprocessor}{\#if\ defined\ \_\_INTEL\_COMPILER}}
\DoxyCodeLine{00319\ \textcolor{comment}{//\ shut\ up\ warning\ \#239:\ floating\ point\ underflow}}
\DoxyCodeLine{00320\ \textcolor{preprocessor}{\#pragma\ warning\ push}}
\DoxyCodeLine{00321\ \textcolor{preprocessor}{\#pragma\ warning\ disable\ 239}}
\DoxyCodeLine{00322\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00323\ \ \ Matrix2d\ \mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}};}
\DoxyCodeLine{00324\ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}}\ <<\ -\/7.90884e-\/313,\ -\/4.94e-\/324,}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0,\ 5.60844e-\/313;}
\DoxyCodeLine{00326\ \ \ \mbox{\hyperlink{bdcsvd_8cpp_a2abd8eaf55e1181ee230b0dc87cd54d2}{SVD\_DEFAULT}}(Matrix2d)\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}};}
\DoxyCodeLine{00327\ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}},ComputeFullU|ComputeFullV);}
\DoxyCodeLine{00328\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{svd__common_8h_ae318f00d929c0c2ed357e8252860ab47}{svd\_check\_full}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}},\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}})\ );}
\DoxyCodeLine{00329\ \ \ }
\DoxyCodeLine{00330\ \ \ \textcolor{comment}{//\ Check\ all\ 2x2\ matrices\ made\ with\ the\ following\ coefficients:}}
\DoxyCodeLine{00331\ \ \ VectorXd\ value\_set(9);}
\DoxyCodeLine{00332\ \ \ value\_set\ <<\ 0,\ 1,\ -\/1,\ 5.60844e-\/313,\ -\/5.60844e-\/313,\ 4.94e-\/324,\ -\/4.94e-\/324,\ -\/4.94e-\/223,\ 4.94e-\/223;}
\DoxyCodeLine{00333\ \ \ Array4i\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}}(0,0,0,0);}
\DoxyCodeLine{00334\ \ \ \textcolor{keywordtype}{int}\ k\ =\ 0;}
\DoxyCodeLine{00335\ \ \ \textcolor{keywordflow}{do}}
\DoxyCodeLine{00336\ \ \ \{}
\DoxyCodeLine{00337\ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}}\ <<\ value\_set(\textcolor{keywordtype}{id}(0)),\ value\_set(\textcolor{keywordtype}{id}(1)),\ value\_set(\textcolor{keywordtype}{id}(2)),\ value\_set(\textcolor{keywordtype}{id}(3));}
\DoxyCodeLine{00338\ \ \ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}},ComputeFullU|ComputeFullV);}
\DoxyCodeLine{00339\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{svd__common_8h_ae318f00d929c0c2ed357e8252860ab47}{svd\_check\_full}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}},\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}})\ );}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ \ \ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}}(k)++;}
\DoxyCodeLine{00342\ \ \ \ \ \textcolor{keywordflow}{if}(\textcolor{keywordtype}{id}(k)>=value\_set.size())}
\DoxyCodeLine{00343\ \ \ \ \ \{}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \textcolor{keywordflow}{while}(k<3\ \&\&\ \textcolor{keywordtype}{id}(k)>=value\_set.size())\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}}(++k)++;}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \textcolor{keywordtype}{id}.head(k).setZero();}
\DoxyCodeLine{00346\ \ \ \ \ \ \ k=0;}
\DoxyCodeLine{00347\ \ \ \ \ \}}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \ \ \}\ \textcolor{keywordflow}{while}((\textcolor{keywordtype}{id}<\textcolor{keywordtype}{int}(value\_set.size())).all());}
\DoxyCodeLine{00350\ \ \ }
\DoxyCodeLine{00351\ \textcolor{preprocessor}{\#if\ defined\ \_\_INTEL\_COMPILER}}
\DoxyCodeLine{00352\ \textcolor{preprocessor}{\#pragma\ warning\ pop}}
\DoxyCodeLine{00353\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00354\ \ \ }
\DoxyCodeLine{00355\ \ \ \textcolor{comment}{//\ Check\ for\ overflow:}}
\DoxyCodeLine{00356\ \ \ Matrix3d\ \mbox{\hyperlink{_tutorial___slicing_col_8cpp_a14f7fa063aa2ce842adbe0ed34124aed}{M3}};}
\DoxyCodeLine{00357\ \ \ \mbox{\hyperlink{_tutorial___slicing_col_8cpp_a14f7fa063aa2ce842adbe0ed34124aed}{M3}}\ <<\ 4.4331978442502944e+307,\ -\/5.8585363752028680e+307,\ \ 6.4527017443412964e+307,}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ 3.7841695601406358e+307,\ \ 2.4331702789740617e+306,\ -\/3.5235707140272905e+307,}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ -\/8.7190887618028355e+307,\ -\/7.3453213709232193e+307,\ -\/2.4367363684472105e+307;}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00361\ \ \ \mbox{\hyperlink{bdcsvd_8cpp_a2abd8eaf55e1181ee230b0dc87cd54d2}{SVD\_DEFAULT}}(Matrix3d)\ svd3;}
\DoxyCodeLine{00362\ \ \ svd3.compute(\mbox{\hyperlink{_tutorial___slicing_col_8cpp_a14f7fa063aa2ce842adbe0ed34124aed}{M3}},ComputeFullU|ComputeFullV);\ \textcolor{comment}{//\ just\ check\ we\ don't\ loop\ indefinitely}}
\DoxyCodeLine{00363\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_ab16051a9c2d2d769e8534211f9198557}{CALL\_SUBTEST}}(\ \mbox{\hyperlink{svd__common_8h_ae318f00d929c0c2ed357e8252860ab47}{svd\_check\_full}}(\mbox{\hyperlink{_tutorial___slicing_col_8cpp_a14f7fa063aa2ce842adbe0ed34124aed}{M3}},svd3)\ );}
\DoxyCodeLine{00364\ \}}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \textcolor{comment}{//\ void\ jacobisvd(const\ MatrixType\&\ a\ =\ MatrixType(),\ bool\ pickrandom\ =\ true)}}
\DoxyCodeLine{00367\ }
\DoxyCodeLine{00368\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00369\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{svd__common_8h_a8fd7fe5d507344c765982c5ffe736ee8}{svd\_all\_trivial\_2x2}}(\ \textcolor{keywordtype}{void}\ (*cb)(\textcolor{keyword}{const}\ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\&,\textcolor{keywordtype}{bool})\ )}
\DoxyCodeLine{00370\ \{}
\DoxyCodeLine{00371\ \ \ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}};}
\DoxyCodeLine{00372\ \ \ VectorXd\ value\_set(3);}
\DoxyCodeLine{00373\ \ \ value\_set\ <<\ 0,\ 1,\ -\/1;}
\DoxyCodeLine{00374\ \ \ Array4i\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}}(0,0,0,0);}
\DoxyCodeLine{00375\ \ \ \textcolor{keywordtype}{int}\ k\ =\ 0;}
\DoxyCodeLine{00376\ \ \ \textcolor{keywordflow}{do}}
\DoxyCodeLine{00377\ \ \ \{}
\DoxyCodeLine{00378\ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}}\ <<\ value\_set(\textcolor{keywordtype}{id}(0)),\ value\_set(\textcolor{keywordtype}{id}(1)),\ value\_set(\textcolor{keywordtype}{id}(2)),\ value\_set(\textcolor{keywordtype}{id}(3));}
\DoxyCodeLine{00379\ \ \ \ \ }
\DoxyCodeLine{00380\ \ \ \ \ cb(\mbox{\hyperlink{test__overwrite__node_8cpp_a52037c938e3c1b126c6277da5ca689d0}{M}},\textcolor{keyword}{false});}
\DoxyCodeLine{00381\ \ \ \ \ }
\DoxyCodeLine{00382\ \ \ \ \ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}}(k)++;}
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{keywordflow}{if}(\textcolor{keywordtype}{id}(k)>=value\_set.size())}
\DoxyCodeLine{00384\ \ \ \ \ \{}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \textcolor{keywordflow}{while}(k<3\ \&\&\ \textcolor{keywordtype}{id}(k)>=value\_set.size())\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}}(++k)++;}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \textcolor{keywordtype}{id}.head(k).setZero();}
\DoxyCodeLine{00387\ \ \ \ \ \ \ k=0;}
\DoxyCodeLine{00388\ \ \ \ \ \}}
\DoxyCodeLine{00389\ \ \ \ \ }
\DoxyCodeLine{00390\ \ \ \}\ \textcolor{keywordflow}{while}((\textcolor{keywordtype}{id}<\textcolor{keywordtype}{int}(value\_set.size())).all());}
\DoxyCodeLine{00391\ \}}
\DoxyCodeLine{00392\ }
\DoxyCodeLine{00393\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}>}
\DoxyCodeLine{00394\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{svd__common_8h_acc8ac8eb2f21caf3db8b0d47b10a45fd}{svd\_preallocate}}()}
\DoxyCodeLine{00395\ \{}
\DoxyCodeLine{00396\ \ \ Vector3f\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}(3.f,\ 2.f,\ 1.f);}
\DoxyCodeLine{00397\ \ \ MatrixXf\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ =\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}.asDiagonal();}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \ internal::set\_is\_malloc\_allowed(\textcolor{keyword}{false});}
\DoxyCodeLine{00400\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(VectorXf\ tmp(10);)}
\DoxyCodeLine{00401\ \ \ \mbox{\hyperlink{bdcsvd_8cpp_a2abd8eaf55e1181ee230b0dc87cd54d2}{SVD\_DEFAULT}}(MatrixXf)\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}};}
\DoxyCodeLine{00402\ \ \ internal::set\_is\_malloc\_allowed(\textcolor{keyword}{true});}
\DoxyCodeLine{00403\ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}});}
\DoxyCodeLine{00404\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.singularValues(),\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}});}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \mbox{\hyperlink{bdcsvd_8cpp_a2abd8eaf55e1181ee230b0dc87cd54d2}{SVD\_DEFAULT}}(MatrixXf)\ svd2(3,3);}
\DoxyCodeLine{00407\ \ \ internal::set\_is\_malloc\_allowed(\textcolor{keyword}{false});}
\DoxyCodeLine{00408\ \ \ svd2.compute(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}});}
\DoxyCodeLine{00409\ \ \ internal::set\_is\_malloc\_allowed(\textcolor{keyword}{true});}
\DoxyCodeLine{00410\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(svd2.singularValues(),\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}});}
\DoxyCodeLine{00411\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(svd2.matrixU());}
\DoxyCodeLine{00412\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(svd2.matrixV());}
\DoxyCodeLine{00413\ \ \ svd2.compute(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU\ |\ ComputeFullV);}
\DoxyCodeLine{00414\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(svd2.matrixU(),\ Matrix3f::Identity());}
\DoxyCodeLine{00415\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(svd2.matrixV(),\ Matrix3f::Identity());}
\DoxyCodeLine{00416\ \ \ internal::set\_is\_malloc\_allowed(\textcolor{keyword}{false});}
\DoxyCodeLine{00417\ \ \ svd2.compute(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}});}
\DoxyCodeLine{00418\ \ \ internal::set\_is\_malloc\_allowed(\textcolor{keyword}{true});}
\DoxyCodeLine{00419\ }
\DoxyCodeLine{00420\ \ \ \mbox{\hyperlink{bdcsvd_8cpp_a2abd8eaf55e1181ee230b0dc87cd54d2}{SVD\_DEFAULT}}(MatrixXf)\ svd3(3,3,ComputeFullU|ComputeFullV);}
\DoxyCodeLine{00421\ \ \ internal::set\_is\_malloc\_allowed(\textcolor{keyword}{false});}
\DoxyCodeLine{00422\ \ \ svd2.compute(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}});}
\DoxyCodeLine{00423\ \ \ internal::set\_is\_malloc\_allowed(\textcolor{keyword}{true});}
\DoxyCodeLine{00424\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(svd2.singularValues(),\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}});}
\DoxyCodeLine{00425\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(svd2.matrixU(),\ Matrix3f::Identity());}
\DoxyCodeLine{00426\ \ \ \mbox{\hyperlink{integer__types_8cpp_a5bba36711e335d7eb5793360e7d7b100}{VERIFY\_IS\_APPROX}}(svd2.matrixV(),\ Matrix3f::Identity());}
\DoxyCodeLine{00427\ \ \ internal::set\_is\_malloc\_allowed(\textcolor{keyword}{false});}
\DoxyCodeLine{00428\ \ \ svd2.compute(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ ComputeFullU|ComputeFullV);}
\DoxyCodeLine{00429\ \ \ internal::set\_is\_malloc\_allowed(\textcolor{keyword}{true});}
\DoxyCodeLine{00430\ \}}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00432\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ SvdType,\textcolor{keyword}{typename}\ MatrixType>\ }
\DoxyCodeLine{00433\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{svd__common_8h_a94af9c474132d0b86890f42afabcd93c}{svd\_verify\_assert}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\&\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}})}
\DoxyCodeLine{00434\ \{}
\DoxyCodeLine{00435\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MatrixType::Scalar\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}};}
\DoxyCodeLine{00436\ \ \ Index\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}}\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.rows();}
\DoxyCodeLine{00437\ \ \ Index\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}}\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}.cols();}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00440\ \ \ \ \ RowsAtCompileTime\ =\ MatrixType::RowsAtCompileTime,}
\DoxyCodeLine{00441\ \ \ \ \ ColsAtCompileTime\ =\ MatrixType::ColsAtCompileTime}
\DoxyCodeLine{00442\ \ \ \};}
\DoxyCodeLine{00443\ }
\DoxyCodeLine{00444\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_matrix}{Matrix<Scalar,\ RowsAtCompileTime,\ 1>}}\ RhsType;}
\DoxyCodeLine{00445\ \ \ RhsType\ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}(\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}});}
\DoxyCodeLine{00446\ \ \ SvdType\ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}};}
\DoxyCodeLine{00447\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU())}
\DoxyCodeLine{00448\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.singularValues())}
\DoxyCodeLine{00449\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV())}
\DoxyCodeLine{00450\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.solve(\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}))}
\DoxyCodeLine{00451\ \ \ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ =\ MatrixType::Zero(\mbox{\hyperlink{_tutorial__commainit__02_8cpp_a061459acc9e078fa4699e0e349887215}{rows}},\ \mbox{\hyperlink{_tutorial__commainit__02_8cpp_a4407a60bc4387adae24cee658711f2d9}{cols}});}
\DoxyCodeLine{00452\ \ \ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}.setZero();}
\DoxyCodeLine{00453\ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ 0);}
\DoxyCodeLine{00454\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU())}
\DoxyCodeLine{00455\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV())}
\DoxyCodeLine{00456\ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.singularValues();}
\DoxyCodeLine{00457\ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.solve(\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}))}
\DoxyCodeLine{00458\ \ \ \ \ }
\DoxyCodeLine{00459\ \ \ \textcolor{keywordflow}{if}\ (ColsAtCompileTime\ ==\ Dynamic)}
\DoxyCodeLine{00460\ \ \ \{}
\DoxyCodeLine{00461\ \ \ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ ComputeThinU);}
\DoxyCodeLine{00462\ \ \ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU();}
\DoxyCodeLine{00463\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV())}
\DoxyCodeLine{00464\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.solve(\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}))}
\DoxyCodeLine{00465\ \ \ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ ComputeThinV);}
\DoxyCodeLine{00466\ \ \ \ \ \mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixV();}
\DoxyCodeLine{00467\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.matrixU())}
\DoxyCodeLine{00468\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.solve(\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}))}
\DoxyCodeLine{00469\ \ \ \}}
\DoxyCodeLine{00470\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00471\ \ \ \{}
\DoxyCodeLine{00472\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ ComputeThinU))}
\DoxyCodeLine{00473\ \ \ \ \ \mbox{\hyperlink{taskflow_23rd-party_2eigen-3_83_87_2test_2main_8h_adff0e131e1264a2b62146d9a58338861}{VERIFY\_RAISES\_ASSERT}}(\mbox{\hyperlink{_jacobi_s_v_d__basic_8cpp_a961ad48248cad814fa628db8adefbd42}{svd}}.compute(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},\ ComputeThinV))}
\DoxyCodeLine{00474\ \ \ \}}
\DoxyCodeLine{00475\ \}}
\DoxyCodeLine{00476\ }
\DoxyCodeLine{00477\ \textcolor{preprocessor}{\#undef\ SVD\_DEFAULT}}
\DoxyCodeLine{00478\ \textcolor{preprocessor}{\#undef\ SVD\_FOR\_MIN\_NORM}}

\end{DoxyCode}
