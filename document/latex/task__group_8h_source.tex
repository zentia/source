\doxysection{task\+\_\+group.\+h}
\hypertarget{task__group_8h_source}{}\label{task__group_8h_source}\index{external/taskflow/3rd-\/party/tbb/include/tbb/task\_group.h@{external/taskflow/3rd-\/party/tbb/include/tbb/task\_group.h}}
\mbox{\hyperlink{task__group_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#ifndef\ \_\_TBB\_task\_group\_H}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ \_\_TBB\_task\_group\_H}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#define\ \_\_TBB\_task\_group\_H\_include\_area}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{__warning__suppress__enable__notice_8h}{internal/\_warning\_suppress\_enable\_notice.h}}"{}}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{task_8h}{task.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbb__exception_8h}{tbb\_exception.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{__template__helpers_8h}{internal/\_template\_helpers.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#if\ TBB\_PREVIEW\_ISOLATED\_TASK\_GROUP\ \&\&\ \_\_TBB\_TASK\_ISOLATION}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{task__arena_8h}{task\_arena.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#if\ \_\_TBB\_TASK\_GROUP\_CONTEXT}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb}{tbb}}\ \{}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>\ \textcolor{keyword}{class\ }task\_handle\_task;}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{class\ }task\_group;}
\DoxyCodeLine{00039\ \textcolor{keyword}{class\ }structured\_task\_group;}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#if\ TBB\_PREVIEW\_ISOLATED\_TASK\_GROUP\ \&\&\ \_\_TBB\_TASK\_ISOLATION}}
\DoxyCodeLine{00041\ \textcolor{keyword}{class\ }isolated\_task\_group;}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00045\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_concurrency_1_1task__handle_a1e213e12e1c2d789c22e56901b53b1d2}{task\_handle}}\ :\ internal::no\_assign\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_F>\ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1internal_1_1task__handle__task}{internal::task\_handle\_task}};}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1task__handle_abe85fe1f158cb2a40cd7203854b9460a}{task\_group}};}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1task__handle_a2913777f78e95f9ea09d788b12db6b62}{structured\_task\_group}};}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#if\ TBB\_PREVIEW\_ISOLATED\_TASK\_GROUP\ \&\&\ \_\_TBB\_TASK\_ISOLATION}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }isolated\_task\_group;}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ intptr\_t\ \mbox{\hyperlink{classtbb_1_1task__handle_accc164d7d4d66c40f6e8d01e3eedad51}{scheduled}}\ =\ 0x1;}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\ \mbox{\hyperlink{classtbb_1_1task__handle_a8b82eb8579792cd5a0322d147e147401}{my\_func}};}
\DoxyCodeLine{00056\ \ \ \ \ intptr\_t\ \mbox{\hyperlink{classtbb_1_1task__handle_a992d3402c18066080fdeb65bca858b3f}{my\_state}};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1task__handle_a631d5c44c738a49cd95f28cf12b98e3e}{mark\_scheduled}}\ ()\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ check\ here\ is\ intentionally\ lax\ to\ avoid\ the\ impact\ of\ interlocked\ operation}}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classtbb_1_1task__handle_a992d3402c18066080fdeb65bca858b3f}{my\_state}}\ \&\ \mbox{\hyperlink{classtbb_1_1task__handle_accc164d7d4d66c40f6e8d01e3eedad51}{scheduled}}\ )}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_a61a681f9fd15fdb055f7725d6416ddf4}{internal::throw\_exception}}(\ \mbox{\hyperlink{namespacetbb_1_1internal_ace88c7330e7f616616785ffb001e04f9a94ec9b6ffa5a26e45765f2c7ebeaf144}{internal::eid\_invalid\_multiple\_scheduling}}\ );}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1task__handle_a992d3402c18066080fdeb65bca858b3f}{my\_state}}\ |=\ \mbox{\hyperlink{classtbb_1_1task__handle_accc164d7d4d66c40f6e8d01e3eedad51}{scheduled}};}
\DoxyCodeLine{00063\ \ \ \ \ \}}
\DoxyCodeLine{00064\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1task__handle_a1e213e12e1c2d789c22e56901b53b1d2}{task\_handle}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\ :\ \mbox{\hyperlink{classtbb_1_1task__handle_a8b82eb8579792cd5a0322d147e147401}{my\_func}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}),\ \mbox{\hyperlink{classtbb_1_1task__handle_a992d3402c18066080fdeb65bca858b3f}{my\_state}}(0)\ \{\}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#if\ \_\_TBB\_CPP11\_RVALUE\_REF\_PRESENT}}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1task__handle_a1e213e12e1c2d789c22e56901b53b1d2}{task\_handle}}(\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\ :\ \mbox{\hyperlink{classtbb_1_1task__handle_a8b82eb8579792cd5a0322d147e147401}{my\_func}}(\ \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{namespacetbb_ac41903d6b80e61bd6c605412e7820e08}{move}}(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})),\ \mbox{\hyperlink{classtbb_1_1task__handle_a992d3402c18066080fdeb65bca858b3f}{my\_state}}(0)\ \{\}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1task__handle_a66473ca7c86bd117433392df292f86d1}{operator()\ }}()\textcolor{keyword}{\ const\ }\{\ \mbox{\hyperlink{classtbb_1_1task__handle_a8b82eb8579792cd5a0322d147e147401}{my\_func}}();\ \}}
\DoxyCodeLine{00071\ \};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7aaab1411f4c406df521cf3a57b4540a109}{not\_complete}},}
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7aa16ee546d9c961d3311ab99f3528d0bb5}{complete}},}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7aa2aee070418c1a4ee59b714d978e39b5e}{canceled}}}
\DoxyCodeLine{00077\ \};}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00082\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1internal_1_1task__handle__task_abcddb511967aa06d264ac6c06c4fb08b}{task\_handle\_task}}\ :\ \textcolor{keyword}{public}\ task\ \{}
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1task__handle}{task\_handle<F>}}\&\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__handle__task_a1ec2fec9ba3c4a2d327ceb97537913ab}{my\_handle}};}
\DoxyCodeLine{00084\ \ \ \ \ task*\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__handle__task_a291bfe652e03eae1a444d45ac30bcd44}{execute}}()\ \_\_TBB\_override\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__handle__task_a1ec2fec9ba3c4a2d327ceb97537913ab}{my\_handle}}();}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00087\ \ \ \ \ \}}
\DoxyCodeLine{00088\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__handle__task_abcddb511967aa06d264ac6c06c4fb08b}{task\_handle\_task}}(\ \mbox{\hyperlink{classtbb_1_1task__handle}{task\_handle<F>}}\&\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}\ )\ :\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__handle__task_a1ec2fec9ba3c4a2d327ceb97537913ab}{my\_handle}}(\mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}})\ \{\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}.mark\_scheduled();\ \}}
\DoxyCodeLine{00090\ \};}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_ac846a7be5035e1f5c929bda05e1b4401}{task\_group\_base}}\ :\ internal::no\_copy\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_1_1ref__count__guard_a16d51159cffc7c2954ae6238db3c2fdf}{ref\_count\_guard}}\ :\ internal::no\_copy\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ task\&\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_1_1ref__count__guard_afc6ee05b6ec3eb0bc235496cb791e218}{my\_task}};}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_1_1ref__count__guard_a16d51159cffc7c2954ae6238db3c2fdf}{ref\_count\_guard}}(task\&\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})\ :\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_1_1ref__count__guard_afc6ee05b6ec3eb0bc235496cb791e218}{my\_task}}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_1_1ref__count__guard_afc6ee05b6ec3eb0bc235496cb791e218}{my\_task}}.increment\_ref\_count();}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_1_1ref__count__guard_a037a8f8291891680da3458e5494da6e4}{\string~ref\_count\_guard}}()\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_1_1ref__count__guard_afc6ee05b6ec3eb0bc235496cb791e218}{my\_task}}.decrement\_ref\_count();}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00102\ \ \ \ \ \};}
\DoxyCodeLine{00103\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00104\ \ \ \ \ empty\_task*\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}};}
\DoxyCodeLine{00105\ \ \ \ \ task\_group\_context\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_afa2bb3845517c6b2f9e29a4e3b08a62d}{my\_context}};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_aef3561e83c11cde7299a34db1064f420}{internal\_run\_and\_wait}}(\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\ \{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \_\_TBB\_TRY\ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_afa2bb3845517c6b2f9e29a4e3b08a62d}{my\_context}}.is\_group\_execution\_cancelled()\ )\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ need\ to\ increase\ the\ reference\ count\ of\ the\ root\ task\ to\ notify\ waiters\ that}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ task\ group\ has\ some\ work\ in\ progress.}}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_1_1ref__count__guard}{ref\_count\_guard}}\ guard(*\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}});}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}();}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \}\ \_\_TBB\_CATCH(\ ...\ )\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_afa2bb3845517c6b2f9e29a4e3b08a62d}{my\_context}}.register\_pending\_exception();}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a9a05d8b3350796df951c701978cec816}{wait}}();}
\DoxyCodeLine{00120\ \ \ \ \ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Task,\ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00123\ \ \ \ \ task*\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a207492823593e260b502bab2526106a2}{prepare\_task}}(\ \_\_TBB\_FORWARDING\_REF(\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}})\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}(\ task::allocate\_additional\_child\_of(*\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}})\ )\ Task(\ internal::forward<F>(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ );}
\DoxyCodeLine{00125\ \ \ \ \ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_ac846a7be5035e1f5c929bda05e1b4401}{task\_group\_base}}(\ uintptr\_t\ traits\ =\ 0\ )}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_afa2bb3845517c6b2f9e29a4e3b08a62d}{my\_context}}(task\_group\_context::bound,\ task\_group\_context::default\_traits\ |\ traits)}
\DoxyCodeLine{00130\ \ \ \ \ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}}\ =\ \textcolor{keyword}{new}(\ task::allocate\_root(\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_afa2bb3845517c6b2f9e29a4e3b08a62d}{my\_context}})\ )\ empty\_task;}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}}-\/>set\_ref\_count(1);}
\DoxyCodeLine{00133\ \ \ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a6b8084985207c13e4bac1b5465dc4f6f}{\string~task\_group\_base}}()\ \mbox{\hyperlink{tbb__stddef_8h_a44fc319ff56fa8ec000270ae97d91c51}{\_\_TBB\_NOEXCEPT}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}}-\/>ref\_count()\ >\ 1\ )\ \{}
\DoxyCodeLine{00137\ \#if\ \_\_TBB\_CPP17\_UNCAUGHT\_EXCEPTIONS\_PRESENT}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ bool\ stack\_unwinding\_in\_progress\ =\ std::uncaught\_exceptions()\ >\ 0;}
\DoxyCodeLine{00139\ \#else}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ bool\ stack\_unwinding\_in\_progress\ =\ std::uncaught\_exception();}
\DoxyCodeLine{00141\ \#endif}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Always\ attempt\ to\ do\ proper\ cleanup\ to\ avoid\ inevitable\ memory\ corruption}}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in\ case\ of\ missing\ wait\ (for\ the\ sake\ of\ better\ testability\ \&\ debuggability)}}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (\ !is\_canceling()\ )}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cancel();}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_TBB\_TRY\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my\_root-\/>wait\_for\_all();}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \_\_TBB\_CATCH\ (...)\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ task::destroy(*\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}});}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_TBB\_RETHROW();}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ task::destroy(*\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}});}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !stack\_unwinding\_in\_progress\ )}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_1_1internal_a61a681f9fd15fdb055f7725d6416ddf4}{internal::throw\_exception}}(\ \mbox{\hyperlink{namespacetbb_1_1internal_ace88c7330e7f616616785ffb001e04f9a8f4ef0d815335305ea0b4e2089acc9ab}{internal::eid\_missing\_wait}}\ );}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ task::destroy(*\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}});}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00159\ \ \ \ \ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a8d8398153ad19d83a629aeb46991620b}{run}}(\ \mbox{\hyperlink{classtbb_1_1task__handle}{task\_handle<F>}}\&\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}\ )\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ task::spawn(\ *\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a207492823593e260b502bab2526106a2}{prepare\_task}}<\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__handle__task}{internal::task\_handle\_task<F>}}\ >(\mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}})\ );}
\DoxyCodeLine{00164\ \ \ \ \ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a9a05d8b3350796df951c701978cec816}{wait}}()\ \{}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \_\_TBB\_TRY\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}}-\/>wait\_for\_all();}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \}\ \_\_TBB\_CATCH(\ ...\ )\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_afa2bb3845517c6b2f9e29a4e3b08a62d}{my\_context}}.reset();}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_TBB\_RETHROW();}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_afa2bb3845517c6b2f9e29a4e3b08a62d}{my\_context}}.is\_group\_execution\_cancelled()\ )\ \{}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ the\ reset\ method\ is\ not\ thread-\/safe.\ Ensure\ the\ correct\ behavior.}}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_afa2bb3845517c6b2f9e29a4e3b08a62d}{my\_context}}.reset();}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7aa2aee070418c1a4ee59b714d978e39b5e}{canceled}};}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7aa16ee546d9c961d3311ab99f3528d0bb5}{complete}};}
\DoxyCodeLine{00179\ \ \ \ \ \}}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a91b0943033a9e802cea00ac4af9e4ae2}{is\_canceling}}()\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_afa2bb3845517c6b2f9e29a4e3b08a62d}{my\_context}}.is\_group\_execution\_cancelled();}
\DoxyCodeLine{00183\ \ \ \ \ \}}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a2c2b1b967f4d1924cf15c19e3854ff2f}{cancel}}()\ \{}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_afa2bb3845517c6b2f9e29a4e3b08a62d}{my\_context}}.cancel\_group\_execution();}
\DoxyCodeLine{00187\ \ \ \ \ \}}
\DoxyCodeLine{00188\ \};\ \textcolor{comment}{//\ class\ task\_group\_base}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \}\ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_concurrency_1_1task__group_a856326bf247e3bfb46288d8267d6b5d4}{task\_group}}\ :\ \textcolor{keyword}{public}\ internal::task\_group\_base\ \{}
\DoxyCodeLine{00193\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00194\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1task__group_a856326bf247e3bfb46288d8267d6b5d4}{task\_group}}\ ()\ :\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_ac846a7be5035e1f5c929bda05e1b4401}{task\_group\_base}}(\ task\_group\_context::concurrent\_wait\ )\ \{\}}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \textcolor{preprocessor}{\#if\ \_\_SUNPRO\_CC}}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{poisson_8cpp_ae12af222b820baf64e953be588c5bbbe}{run}}(\ \mbox{\hyperlink{classtbb_1_1task__handle}{task\_handle<F>}}\&\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}\ )\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ internal\_run<\ internal::task\_handle\_task<F>\ >(\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}\ );}
\DoxyCodeLine{00200\ \ \ \ \ \}}
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keyword}{using\ }task\_group\_base::run;}
\DoxyCodeLine{00203\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \textcolor{preprocessor}{\#if\ \_\_TBB\_CPP11\_RVALUE\_REF\_PRESENT}}
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{poisson_8cpp_ae12af222b820baf64e953be588c5bbbe}{run}}(\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ task::spawn(\ *prepare\_task<\ internal::function\_task<\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structinternal_1_1strip_a6c6ee143e77dcf7410fb79fff72a1a68}{internal::strip<F>::type}}\ >\ >(std::forward<F>(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}))\ );}
\DoxyCodeLine{00209\ \ \ \ \ \}}
\DoxyCodeLine{00210\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtbb_1_1task__group_a6355cce7750b1367fb98924af151e8b2}{run}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ \{}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ task::spawn(\ *\mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a207492823593e260b502bab2526106a2}{prepare\_task}}<\ internal::function\_task<F>\ >(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ );}
\DoxyCodeLine{00214\ \ \ \ \ \}}
\DoxyCodeLine{00215\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00218\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \mbox{\hyperlink{classtbb_1_1task__group_aeef1b473ff0edaf3f356722b13e877b0}{run\_and\_wait}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\ \{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_aef3561e83c11cde7299a34db1064f420}{internal\_run\_and\_wait<const\ F>}}(\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ );}
\DoxyCodeLine{00220\ \ \ \ \ \}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{comment}{//\ TODO:\ add\ task\_handle\ rvalues\ support}}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00224\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \mbox{\hyperlink{classtbb_1_1task__group_a543903ef748fd10eb864c27a2e8ac18b}{run\_and\_wait}}(\ \mbox{\hyperlink{classtbb_1_1task__handle}{task\_handle<F>}}\&\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}\ )\ \{}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}.mark\_scheduled();}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_aef3561e83c11cde7299a34db1064f420}{internal\_run\_and\_wait<\ task\_handle<F>}}\ >(\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}\ );}
\DoxyCodeLine{00227\ \ \ \ \ \}}
\DoxyCodeLine{00228\ \};\ \textcolor{comment}{//\ class\ task\_group}}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \textcolor{keyword}{class\ }\mbox{\hyperlink{tbb__config_8h_a3df12e0bbd0284386880549cfba801fc}{\_\_TBB\_DEPRECATED}}\ \mbox{\hyperlink{classtbb_1_1structured__task__group}{structured\_task\_group}}\ :\ \textcolor{keyword}{public}\ internal::task\_group\_base\ \{}
\DoxyCodeLine{00231\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00232\ \ \ \ \ \textcolor{comment}{//\ TODO:\ add\ task\_handle\ rvalues\ support}}
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00234\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \mbox{\hyperlink{classtbb_1_1structured__task__group_ab6812c9b682cec4b1a93da169b6fffc7}{run\_and\_wait}}\ (\ \mbox{\hyperlink{classtbb_1_1task__handle}{task\_handle<F>}}\&\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}\ )\ \{}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}.mark\_scheduled();}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_aef3561e83c11cde7299a34db1064f420}{internal\_run\_and\_wait<\ task\_handle<F>}}\ >(\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}\ );}
\DoxyCodeLine{00237\ \ \ \ \ \}}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \mbox{\hyperlink{classtbb_1_1structured__task__group_a0578ff577290a108d395ab29a0a04e04}{wait}}()\ \{}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a9a05d8b3350796df951c701978cec816}{task\_group\_base::wait}}();}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1internal_1_1task__group__base_a60fb257f34f63428032f93e9b3b50a89}{my\_root}}-\/>set\_ref\_count(1);}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{00243\ \ \ \ \ \}}
\DoxyCodeLine{00244\ \};\ \textcolor{comment}{//\ class\ structured\_task\_group}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \textcolor{preprocessor}{\#if\ TBB\_PREVIEW\_ISOLATED\_TASK\_GROUP\ \&\&\ \_\_TBB\_TASK\_ISOLATION}}
\DoxyCodeLine{00247\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keyword}{using\ }interface7::internal::delegate\_base;}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keyword}{using\ }interface7::internal::isolate\_within\_arena;}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{keyword}{class\ }spawn\_delegate\ :\ \textcolor{keyword}{public}\ delegate\_base\ \{}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}*\ task\_to\_spawn;}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ operator()()\ const\ \_\_TBB\_override\ \{}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ task::spawn(*task\_to\_spawn);}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ spawn\_delegate(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}*\ a\_task)\ :\ task\_to\_spawn(a\_task)\ \{\}}
\DoxyCodeLine{00258\ \ \ \ \ \};}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keyword}{class\ }wait\_delegate\ :\ \textcolor{keyword}{public}\ delegate\_base\ \{}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ operator()()\ const\ \_\_TBB\_override\ \{}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ status\ =\ tg.wait();}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ task\_group\&\ tg;}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\&\ status;}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ wait\_delegate(task\_group\&\ a\_group,\ task\_group\_status\&\ tgs)}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ :\ tg(a\_group),\ status(tgs)\ \{\}}
\DoxyCodeLine{00270\ \ \ \ \ \};}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{keyword}{class\ }run\_wait\_delegate\ :\ \textcolor{keyword}{public}\ wait\_delegate\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\ \mbox{\hyperlink{benchmarks_2async__task_2async__task_8hpp_abce53bb5cc1ee70cdc013fd9b93547eb}{func}};}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ operator()()\ const\ \_\_TBB\_override\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ status\ =\ tg.run\_and\_wait(\ \mbox{\hyperlink{benchmarks_2async__task_2async__task_8hpp_abce53bb5cc1ee70cdc013fd9b93547eb}{func}}\ );}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00278\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ run\_wait\_delegate(task\_group\&\ a\_group,\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\ a\_func,\ task\_group\_status\&\ tgs)}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ :\ wait\_delegate(a\_group,\ tgs),\ \mbox{\hyperlink{benchmarks_2async__task_2async__task_8hpp_abce53bb5cc1ee70cdc013fd9b93547eb}{func}}(a\_func)\ \{\}}
\DoxyCodeLine{00281\ \ \ \ \ \};}
\DoxyCodeLine{00282\ \}\ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \textcolor{keyword}{class\ }isolated\_task\_group\ :\ \textcolor{keyword}{public}\ task\_group\ \{}
\DoxyCodeLine{00285\ \ \ \ \ intptr\_t\ this\_isolation()\ \{}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}intptr\_t\textcolor{keyword}{>}(\textcolor{keyword}{this});}
\DoxyCodeLine{00287\ \ \ \ \ \}}
\DoxyCodeLine{00288\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00289\ \ \ \ \ isolated\_task\_group\ ()\ :\ task\_group()\ \{\}}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \textcolor{preprocessor}{\#if\ \_\_TBB\_CPP11\_RVALUE\_REF\_PRESENT}}
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00293\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{poisson_8cpp_ae12af222b820baf64e953be588c5bbbe}{run}}(\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\ \{}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ internal::spawn\_delegate\ sd(}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ prepare\_task<\ internal::function\_task<\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structinternal_1_1strip_a6c6ee143e77dcf7410fb79fff72a1a68}{internal::strip<F>::type}}\ >\ >(std::forward<F>(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}))}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ internal::isolate\_within\_arena(\ sd,\ this\_isolation()\ );}
\DoxyCodeLine{00298\ \ \ \ \ \}}
\DoxyCodeLine{00299\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{poisson_8cpp_ae12af222b820baf64e953be588c5bbbe}{run}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ \{}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ internal::spawn\_delegate\ sd(\ prepare\_task<\ internal::function\_task<F>\ >(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ );}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ internal::isolate\_within\_arena(\ sd,\ this\_isolation()\ );}
\DoxyCodeLine{00304\ \ \ \ \ \}}
\DoxyCodeLine{00305\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00308\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ run\_and\_wait(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\ \{}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7aaab1411f4c406df521cf3a57b4540a109}{not\_complete}};}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ internal::run\_wait\_delegate<\ const\ F\ >\ rwd(\ *\textcolor{keyword}{this},\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ );}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ internal::isolate\_within\_arena(\ rwd,\ this\_isolation()\ );}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}!=not\_complete,\ \textcolor{stringliteral}{"{}premature\ exit\ from\ wait?"{}}\ );}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{00314\ \ \ \ \ \}}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{comment}{//\ TODO:\ add\ task\_handle\ rvalues\ support}}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{poisson_8cpp_ae12af222b820baf64e953be588c5bbbe}{run}}(\ task\_handle<F>\&\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}\ )\ \{}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ internal::spawn\_delegate\ sd(\ prepare\_task<\ internal::task\_handle\_task<F>\ >(\mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}})\ );}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ internal::isolate\_within\_arena(\ sd,\ this\_isolation()\ );}
\DoxyCodeLine{00321\ \ \ \ \ \}}
\DoxyCodeLine{00322\ }
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00324\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ run\_and\_wait\ (\ task\_handle<F>\&\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}\ )\ \{}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7aaab1411f4c406df521cf3a57b4540a109}{not\_complete}};}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ internal::run\_wait\_delegate<\ task\_handle<F>\ >\ rwd(\ *\textcolor{keyword}{this},\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ );}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ internal::isolate\_within\_arena(\ rwd,\ this\_isolation()\ );}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}!=not\_complete,\ \textcolor{stringliteral}{"{}premature\ exit\ from\ wait?"{}}\ );}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{00330\ \ \ \ \ \}}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ wait()\ \{}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7a}{task\_group\_status}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ \mbox{\hyperlink{namespacetbb_a4454db821441ca68bad263d82c40fb7aaab1411f4c406df521cf3a57b4540a109}{not\_complete}};}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ internal::wait\_delegate\ wd(\ *\textcolor{keyword}{this},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ );}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ internal::isolate\_within\_arena(\ wd,\ this\_isolation()\ );}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{tbb__stddef_8h_a7b58d28a34a1717e2ddb591f00658b10}{\_\_TBB\_ASSERT}}(\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}!=not\_complete,\ \textcolor{stringliteral}{"{}premature\ exit\ from\ wait?"{}}\ );}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{00338\ \ \ \ \ \}}
\DoxyCodeLine{00339\ \};\ \textcolor{comment}{//\ class\ isolated\_task\_group}}
\DoxyCodeLine{00340\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ TBB\_PREVIEW\_ISOLATED\_TASK\_GROUP\ \&\&\ \_\_TBB\_TASK\_ISOLATION}}
\DoxyCodeLine{00341\ }
\DoxyCodeLine{00342\ \textcolor{keyword}{inline}}
\DoxyCodeLine{00343\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacetbb_aaef1698b222ba9312ab24dcdcd98bbd8}{is\_current\_task\_group\_canceling}}()\ \{}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{keywordflow}{return}\ task::self().is\_cancelled();}
\DoxyCodeLine{00345\ \}}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ \textcolor{preprocessor}{\#if\ \_\_TBB\_CPP11\_RVALUE\_REF\_PRESENT}}
\DoxyCodeLine{00348\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ F>}
\DoxyCodeLine{00349\ task\_handle<\ typename\ internal::strip<F>::type\ >\ \mbox{\hyperlink{task__dsl_8hpp_a878a1467484fd1fb5d9f3dc5c315cd96}{make\_task}}(\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\ \{}
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{keywordflow}{return}\ task\_handle<\ typename\ internal::strip<F>::type\ >(\ std::forward<F>(\mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ );}
\DoxyCodeLine{00351\ \}}
\DoxyCodeLine{00352\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00353\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ F>}
\DoxyCodeLine{00354\ \mbox{\hyperlink{classtbb_1_1task__handle}{task\_handle<F>}}\ \mbox{\hyperlink{task__dsl_8hpp_a878a1467484fd1fb5d9f3dc5c315cd96}{make\_task}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}\&\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\ \{}
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtbb_1_1task__handle}{task\_handle<F>}}(\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ );}
\DoxyCodeLine{00356\ \}}
\DoxyCodeLine{00357\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_CPP11\_RVALUE\_REF\_PRESENT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00358\ }
\DoxyCodeLine{00359\ \}\ \textcolor{comment}{//\ namespace\ tbb}}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00361\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_TASK\_GROUP\_CONTEXT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00363\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{__warning__suppress__disable__notice_8h}{internal/\_warning\_suppress\_disable\_notice.h}}"{}}}
\DoxyCodeLine{00364\ \textcolor{preprocessor}{\#undef\ \_\_TBB\_task\_group\_H\_include\_area}}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_task\_group\_H\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
