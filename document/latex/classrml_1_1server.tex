\doxysection{rml\+::server类 参考}
\hypertarget{classrml_1_1server}{}\label{classrml_1_1server}\index{rml::server@{rml::server}}


{\ttfamily \#include $<$rml\+\_\+base.\+h$>$}



类 rml\+::server 继承关系图\+:
% FIG 0


rml\+::server 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classrml_1_1job}{\+::rml\+::job}} \mbox{\hyperlink{classrml_1_1server_ac812e52a5bb3de275e624c36997eac0e}{job}}
\begin{DoxyCompactList}\small\item\em Typedef for convenience of derived classes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public 类型 继承自 \mbox{\hyperlink{classrml_1_1versioned__object}{rml\+::versioned\+\_\+object}}}
\begin{DoxyCompactItemize}
\item 
typedef unsigned \mbox{\hyperlink{classrml_1_1versioned__object_a759650010b271238ef9433442730c423}{version\+\_\+type}}
\begin{DoxyCompactList}\small\item\em \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} version number \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1server_a3119d8d6c2d17932610653f6fda4f87a}{request\+\_\+close\+\_\+connection}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} exiting=\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})=0
\begin{DoxyCompactList}\small\item\em Request that connection to server be closed. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1server_a53e1efc4cb441f962e14af14e49b9fba}{yield}} ()=0
\begin{DoxyCompactList}\small\item\em Called by client thread when it reaches a point where it cannot make progress until other threads do. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1server_a45154e61e7c6b60b51d53dacd1d03c2f}{independent\+\_\+thread\+\_\+number\+\_\+changed}} (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} delta)=0
\begin{DoxyCompactList}\small\item\em Called by client to indicate a change in the number of non-\/\+RML threads that are running. \end{DoxyCompactList}\item 
virtual unsigned \mbox{\hyperlink{classrml_1_1server_ab724107e297226ef26538315091a50b1}{default\+\_\+concurrency}} () const =0
\begin{DoxyCompactList}\small\item\em Default level of concurrency for which RML strives when there are no non-\/\+RML threads running. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Protected 成员函数}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\& \mbox{\hyperlink{classrml_1_1server_a47652c7b5e9f14341264bdf5b5fa7aca}{scratch\+\_\+ptr}} (\mbox{\hyperlink{classrml_1_1server_ac812e52a5bb3de275e624c36997eac0e}{job}} \&\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})
\end{DoxyCompactItemize}


\doxysubsection{成员类型定义说明}
\Hypertarget{classrml_1_1server_ac812e52a5bb3de275e624c36997eac0e}\index{rml::server@{rml::server}!job@{job}}
\index{job@{job}!rml::server@{rml::server}}
\doxysubsubsection{\texorpdfstring{job}{job}}
{\footnotesize\ttfamily \label{classrml_1_1server_ac812e52a5bb3de275e624c36997eac0e} 
typedef \mbox{\hyperlink{classrml_1_1job}{\+::rml\+::job}} \mbox{\hyperlink{classrml_1_1server_ac812e52a5bb3de275e624c36997eac0e}{rml\+::server\+::job}}}



Typedef for convenience of derived classes. 



\doxysubsection{成员函数说明}
\Hypertarget{classrml_1_1server_ab724107e297226ef26538315091a50b1}\index{rml::server@{rml::server}!default\_concurrency@{default\_concurrency}}
\index{default\_concurrency@{default\_concurrency}!rml::server@{rml::server}}
\doxysubsubsection{\texorpdfstring{default\_concurrency()}{default\_concurrency()}}
{\footnotesize\ttfamily \label{classrml_1_1server_ab724107e297226ef26538315091a50b1} 
virtual unsigned rml\+::server\+::default\+\_\+concurrency (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Default level of concurrency for which RML strives when there are no non-\/\+RML threads running. 

Normally, the value is the hardware concurrency minus one. The "{}minus one"{} accounts for the thread created by \doxylink{main-override-static_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main()}. 

在 \mbox{\hyperlink{classrml_1_1internal_1_1generic__connection_a06d66077f974666f47b9a2011ec90727}{rml\+::internal\+::generic\+\_\+connection$<$ omp\+\_\+server, omp\+\_\+client $>$}}, \mbox{\hyperlink{classrml_1_1internal_1_1generic__connection_a06d66077f974666f47b9a2011ec90727}{rml\+::internal\+::generic\+\_\+connection$<$ tbb\+\_\+server, tbb\+\_\+client $>$}}, \mbox{\hyperlink{classtbb_1_1internal_1_1rml_1_1ipc__server_a11a2410f2148b0e0ac045abda0e914f6}{tbb\+::internal\+::rml\+::ipc\+\_\+server}} , 以及 \mbox{\hyperlink{classtbb_1_1internal_1_1rml_1_1private__server_a43a468f1aa03ce9be85e4cf0e99e7f17}{tbb\+::internal\+::rml\+::private\+\_\+server}} 内被实现.

\Hypertarget{classrml_1_1server_a45154e61e7c6b60b51d53dacd1d03c2f}\index{rml::server@{rml::server}!independent\_thread\_number\_changed@{independent\_thread\_number\_changed}}
\index{independent\_thread\_number\_changed@{independent\_thread\_number\_changed}!rml::server@{rml::server}}
\doxysubsubsection{\texorpdfstring{independent\_thread\_number\_changed()}{independent\_thread\_number\_changed()}}
{\footnotesize\ttfamily \label{classrml_1_1server_a45154e61e7c6b60b51d53dacd1d03c2f} 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::server\+::independent\+\_\+thread\+\_\+number\+\_\+changed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{delta}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Called by client to indicate a change in the number of non-\/\+RML threads that are running. 

This is a performance hint to the RML to adjust how many threads it should let run concurrently. The delta is the change in the number of non-\/\+RML threads that are running. For example, a value of 1 means the client has started running another thread, and a value of -\/1 indicates that the client has blocked or terminated one of its threads. 

在 \mbox{\hyperlink{classrml_1_1internal_1_1generic__connection_a5419f765577617c70a12e964b3583238}{rml\+::internal\+::generic\+\_\+connection$<$ omp\+\_\+server, omp\+\_\+client $>$}}, \mbox{\hyperlink{classrml_1_1internal_1_1generic__connection_a5419f765577617c70a12e964b3583238}{rml\+::internal\+::generic\+\_\+connection$<$ tbb\+\_\+server, tbb\+\_\+client $>$}}, \mbox{\hyperlink{classtbb_1_1internal_1_1rml_1_1ipc__server_a92e63e2fde17c87510689a61015cc942}{tbb\+::internal\+::rml\+::ipc\+\_\+server}} , 以及 \mbox{\hyperlink{classtbb_1_1internal_1_1rml_1_1private__server_a2f6777b6edbb4526ea7be59d8278a3fa}{tbb\+::internal\+::rml\+::private\+\_\+server}} 内被实现.

\Hypertarget{classrml_1_1server_a3119d8d6c2d17932610653f6fda4f87a}\index{rml::server@{rml::server}!request\_close\_connection@{request\_close\_connection}}
\index{request\_close\_connection@{request\_close\_connection}!rml::server@{rml::server}}
\doxysubsubsection{\texorpdfstring{request\_close\_connection()}{request\_close\_connection()}}
{\footnotesize\ttfamily \label{classrml_1_1server_a3119d8d6c2d17932610653f6fda4f87a} 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::server\+::request\+\_\+close\+\_\+connection (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{exiting}{ = {\ttfamily \mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Request that connection to server be closed. 

Causes each job associated with the client to have its cleanup method called, possibly by a thread different than the thread that created the job. This method can return before all cleanup methods return. Actions that have to wait after all cleanup methods return should be part of client\+::acknowledge\+\_\+close\+\_\+connection. Pass true as exiting if \doxylink{classrml_1_1server_a3119d8d6c2d17932610653f6fda4f87a}{request\+\_\+close\+\_\+connection()} is called because exit() is called. In that case, it is the client\textquotesingle{}s responsibility to make sure all threads are terminated. In all other cases, pass false. 

在 \mbox{\hyperlink{classrml_1_1internal_1_1generic__connection_aa98a6bf770ba9dcec2f5738f3cfab760}{rml\+::internal\+::generic\+\_\+connection$<$ omp\+\_\+server, omp\+\_\+client $>$}}, \mbox{\hyperlink{classrml_1_1internal_1_1generic__connection_aa98a6bf770ba9dcec2f5738f3cfab760}{rml\+::internal\+::generic\+\_\+connection$<$ tbb\+\_\+server, tbb\+\_\+client $>$}}, \mbox{\hyperlink{classtbb_1_1internal_1_1rml_1_1ipc__server_a6c4987b6c172a0799afa791dec54888c}{tbb\+::internal\+::rml\+::ipc\+\_\+server}} , 以及 \mbox{\hyperlink{classtbb_1_1internal_1_1rml_1_1private__server_aa3168e9dc158c52625a69a47ebf840d5}{tbb\+::internal\+::rml\+::private\+\_\+server}} 内被实现.

\Hypertarget{classrml_1_1server_a47652c7b5e9f14341264bdf5b5fa7aca}\index{rml::server@{rml::server}!scratch\_ptr@{scratch\_ptr}}
\index{scratch\_ptr@{scratch\_ptr}!rml::server@{rml::server}}
\doxysubsubsection{\texorpdfstring{scratch\_ptr()}{scratch\_ptr()}}
{\footnotesize\ttfamily \label{classrml_1_1server_a47652c7b5e9f14341264bdf5b5fa7aca} 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\& rml\+::server\+::scratch\+\_\+ptr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrml_1_1server_ac812e52a5bb3de275e624c36997eac0e}{job}} \&}]{j}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [protected]}}

\Hypertarget{classrml_1_1server_a53e1efc4cb441f962e14af14e49b9fba}\index{rml::server@{rml::server}!yield@{yield}}
\index{yield@{yield}!rml::server@{rml::server}}
\doxysubsubsection{\texorpdfstring{yield()}{yield()}}
{\footnotesize\ttfamily \label{classrml_1_1server_a53e1efc4cb441f962e14af14e49b9fba} 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::server\+::yield (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Called by client thread when it reaches a point where it cannot make progress until other threads do. 



在 \mbox{\hyperlink{classrml_1_1internal_1_1generic__connection_a866ff59b8e66e67cefdaefd0ff17fd1d}{rml\+::internal\+::generic\+\_\+connection$<$ omp\+\_\+server, omp\+\_\+client $>$}}, \mbox{\hyperlink{classrml_1_1internal_1_1generic__connection_a866ff59b8e66e67cefdaefd0ff17fd1d}{rml\+::internal\+::generic\+\_\+connection$<$ tbb\+\_\+server, tbb\+\_\+client $>$}}, \mbox{\hyperlink{classtbb_1_1internal_1_1rml_1_1ipc__server_afe86ea71c48be7b77219c091e94e5b84}{tbb\+::internal\+::rml\+::ipc\+\_\+server}} , 以及 \mbox{\hyperlink{classtbb_1_1internal_1_1rml_1_1private__server_a3417aa3f61a3ba3d6fed88b0e5a9b040}{tbb\+::internal\+::rml\+::private\+\_\+server}} 内被实现.



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/src/rml/include/\mbox{\hyperlink{rml__base_8h}{rml\+\_\+base.\+h}}\end{DoxyCompactItemize}
