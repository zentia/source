\doxysection{Stable\+Norm.\+h}
\hypertarget{_stable_norm_8h_source}{}\label{_stable_norm_8h_source}\index{external/taskflow/3rd-\/party/eigen-\/3.3.7/Eigen/src/Core/StableNorm.h@{external/taskflow/3rd-\/party/eigen-\/3.3.7/Eigen/src/Core/StableNorm.h}}
\mbox{\hyperlink{_stable_norm_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2009\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_STABLENORM\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_STABLENORM\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_eigen}{Eigen}}\ \{\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_eigen_1_1internal}{internal}}\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ExpressionType,\ \textcolor{keyword}{typename}\ Scalar>}
\DoxyCodeLine{00018\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_eigen_1_1internal_a9478a4692dc32c5b5a14c9c6e462c3fc}{stable\_norm\_kernel}}(\textcolor{keyword}{const}\ ExpressionType\&\ bl,\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Scalar}}\&\ ssq,\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Scalar}}\&\ \mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}},\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Scalar}}\&\ invScale)}
\DoxyCodeLine{00019\ \{}
\DoxyCodeLine{00020\ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Scalar}}\ maxCoeff\ =\ bl.cwiseAbs().maxCoeff();}
\DoxyCodeLine{00021\ \ \ }
\DoxyCodeLine{00022\ \ \ \textcolor{keywordflow}{if}(maxCoeff>\mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}})}
\DoxyCodeLine{00023\ \ \ \{}
\DoxyCodeLine{00024\ \ \ \ \ ssq\ =\ ssq\ *\ numext::abs2(\mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}}/maxCoeff);}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Scalar}}\ tmp\ =\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(1)/maxCoeff;}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordflow}{if}(tmp\ >\ \mbox{\hyperlink{struct_eigen_1_1_generic_num_traits_a65bdb77320d731419c061b91b8c4c5be}{NumTraits<Scalar>::highest}}())}
\DoxyCodeLine{00027\ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ invScale\ =\ \mbox{\hyperlink{struct_eigen_1_1_generic_num_traits_a65bdb77320d731419c061b91b8c4c5be}{NumTraits<Scalar>::highest}}();}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}}\ =\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(1)/invScale;}
\DoxyCodeLine{00030\ \ \ \ \ \}}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(maxCoeff>\mbox{\hyperlink{struct_eigen_1_1_generic_num_traits_a65bdb77320d731419c061b91b8c4c5be}{NumTraits<Scalar>::highest}}())\ \textcolor{comment}{//\ we\ got\ a\ INF}}
\DoxyCodeLine{00032\ \ \ \ \ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ invScale\ =\ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(1);}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}}\ =\ maxCoeff;}
\DoxyCodeLine{00035\ \ \ \ \ \}}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00037\ \ \ \ \ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}}\ =\ maxCoeff;}
\DoxyCodeLine{00039\ \ \ \ \ \ \ invScale\ =\ tmp;}
\DoxyCodeLine{00040\ \ \ \ \ \}}
\DoxyCodeLine{00041\ \ \ \}}
\DoxyCodeLine{00042\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(maxCoeff!=maxCoeff)\ \textcolor{comment}{//\ we\ got\ a\ NaN}}
\DoxyCodeLine{00043\ \ \ \{}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}}\ =\ maxCoeff;}
\DoxyCodeLine{00045\ \ \ \}}
\DoxyCodeLine{00046\ \ \ }
\DoxyCodeLine{00047\ \ \ \textcolor{comment}{//\ TODO\ if\ the\ maxCoeff\ is\ much\ much\ smaller\ than\ the\ current\ scale,}}
\DoxyCodeLine{00048\ \ \ \textcolor{comment}{//\ then\ we\ can\ neglect\ this\ sub\ vector}}
\DoxyCodeLine{00049\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}}>\mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}(0))\ \textcolor{comment}{//\ if\ scale==0,\ then\ bl\ is\ 0\ }}
\DoxyCodeLine{00050\ \ \ \ \ ssq\ +=\ (bl*invScale).squaredNorm();}
\DoxyCodeLine{00051\ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00054\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1_num_traits}{NumTraits<typename\ traits<Derived>::Scalar}}>\mbox{\hyperlink{struct_eigen_1_1_num_traits}{::Real}}}
\DoxyCodeLine{00055\ \mbox{\hyperlink{namespace_eigen_1_1internal_ad5435f3387e943a41870d140ab0bfd63}{blueNorm\_impl}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_eigen_base}{EigenBase<Derived>}}\&\ \_vec)}
\DoxyCodeLine{00056\ \{}
\DoxyCodeLine{00057\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::RealScalar\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}};\ \ }
\DoxyCodeLine{00058\ \ \ \textcolor{keyword}{using\ }std::pow;}
\DoxyCodeLine{00059\ \ \ \textcolor{keyword}{using\ }std::sqrt;}
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{using\ }std::abs;}
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{const}\ Derived\&\ \mbox{\hyperlink{benchmarks_2for__each_2for__each_8hpp_ad86cbaae2e3f21959301250e9f7c2701}{vec}}(\_vec.\mbox{\hyperlink{struct_eigen_1_1_eigen_base_ab4cf3e6bb046a94a46b69b857bd3dbc9}{derived}}());}
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{_open_g_l_view_8m_a3fc86b118a59fbc63f6be3c1293300ff}{initialized}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00063\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ b1,\ b2,\ s1m,\ s2m,\ rbig,\ \mbox{\hyperlink{matrix__functions_8h_af00b1950169db55b14a3a4abd7b9ee7b}{relerr}};}
\DoxyCodeLine{00064\ \ \ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{_open_g_l_view_8m_a3fc86b118a59fbc63f6be3c1293300ff}{initialized}})}
\DoxyCodeLine{00065\ \ \ \{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordtype}{int}\ ibeta,\ it,\ iemin,\ iemax,\ iexp;}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ \mbox{\hyperlink{sycl__algorithms_8cpp_aaea08d40b276c0525347d2adcdc9cf9e}{eps}};}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{comment}{//\ This\ program\ calculates\ the\ machine-\/dependent\ constants}}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ bl,\ b2,\ slm,\ s2m,\ relerr\ overfl}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ from\ the\ "{}basic"{}\ machine-\/dependent\ numbers}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{comment}{//\ nbig,\ ibeta,\ it,\ iemin,\ iemax,\ rbig.}}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{//\ The\ following\ define\ the\ basic\ machine-\/dependent\ constants.}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{//\ For\ portability,\ the\ PORT\ subprograms\ "{}ilmaeh"{}\ and\ "{}rlmach"{}}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{comment}{//\ are\ used.\ For\ any\ specific\ computer,\ each\ of\ the\ assignment}}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{comment}{//\ statements\ can\ be\ replaced}}
\DoxyCodeLine{00076\ \ \ \ \ ibeta\ =\ std::numeric\_limits<RealScalar>::radix;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ base\ for\ floating-\/point\ numbers}}
\DoxyCodeLine{00077\ \ \ \ \ it\ \ \ \ =\ std::numeric\_limits<RealScalar>::digits;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ number\ of\ base-\/beta\ digits\ in\ mantissa}}
\DoxyCodeLine{00078\ \ \ \ \ iemin\ =\ std::numeric\_limits<RealScalar>::min\_exponent;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ minimum\ exponent}}
\DoxyCodeLine{00079\ \ \ \ \ iemax\ =\ std::numeric\_limits<RealScalar>::max\_exponent;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ maximum\ exponent}}
\DoxyCodeLine{00080\ \ \ \ \ rbig\ \ =\ (std::numeric\_limits<RealScalar>::max)();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ largest\ floating-\/point\ number}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ iexp\ \ =\ -\/((1-\/iemin)/2);}
\DoxyCodeLine{00083\ \ \ \ \ b1\ \ \ \ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(\mbox{\hyperlink{class_eigen_1_1_array_base_abe95915bd1ba19082d51bef9a50facdc}{pow}}(\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(ibeta),\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(iexp)));\ \ \ \ \textcolor{comment}{//\ lower\ boundary\ of\ midrange}}
\DoxyCodeLine{00084\ \ \ \ \ iexp\ \ =\ (iemax\ +\ 1\ -\/\ it)/2;}
\DoxyCodeLine{00085\ \ \ \ \ b2\ \ \ \ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(\mbox{\hyperlink{class_eigen_1_1_array_base_abe95915bd1ba19082d51bef9a50facdc}{pow}}(\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(ibeta),\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(iexp)));\ \ \ \ \textcolor{comment}{//\ upper\ boundary\ of\ midrange}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ iexp\ \ =\ (2-\/iemin)/2;}
\DoxyCodeLine{00088\ \ \ \ \ s1m\ \ \ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(\mbox{\hyperlink{class_eigen_1_1_array_base_abe95915bd1ba19082d51bef9a50facdc}{pow}}(\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(ibeta),\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(iexp)));\ \ \ \ \textcolor{comment}{//\ scaling\ factor\ for\ lower\ range}}
\DoxyCodeLine{00089\ \ \ \ \ iexp\ \ =\ -\/\ ((iemax+it)/2);}
\DoxyCodeLine{00090\ \ \ \ \ s2m\ \ \ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(\mbox{\hyperlink{class_eigen_1_1_array_base_abe95915bd1ba19082d51bef9a50facdc}{pow}}(\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(ibeta),\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(iexp)));\ \ \ \ \textcolor{comment}{//\ scaling\ factor\ for\ upper\ range}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{sycl__algorithms_8cpp_aaea08d40b276c0525347d2adcdc9cf9e}{eps}}\ \ \ \ \ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(\mbox{\hyperlink{class_eigen_1_1_array_base_abe95915bd1ba19082d51bef9a50facdc}{pow}}(\textcolor{keywordtype}{double}(ibeta),\ 1-\/it));}
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{matrix__functions_8h_af00b1950169db55b14a3a4abd7b9ee7b}{relerr}}\ \ =\ \mbox{\hyperlink{_array_cwise_unary_ops_8h_a656b9217a2fcb6de59dc8d1eb3079cc7}{sqrt}}(\mbox{\hyperlink{sycl__algorithms_8cpp_aaea08d40b276c0525347d2adcdc9cf9e}{eps}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ tolerance\ for\ neglecting\ asml}}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{_open_g_l_view_8m_a3fc86b118a59fbc63f6be3c1293300ff}{initialized}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00095\ \ \ \}}
\DoxyCodeLine{00096\ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{Index}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ \mbox{\hyperlink{benchmarks_2for__each_2for__each_8hpp_ad86cbaae2e3f21959301250e9f7c2701}{vec}}.size();}
\DoxyCodeLine{00097\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ ab2\ =\ b2\ /\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00098\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ asml\ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(0);}
\DoxyCodeLine{00099\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ amed\ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(0);}
\DoxyCodeLine{00100\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ abig\ =\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(0);}
\DoxyCodeLine{00101\ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{typename}\ Derived::InnerIterator\ it(\mbox{\hyperlink{benchmarks_2for__each_2for__each_8hpp_ad86cbaae2e3f21959301250e9f7c2701}{vec}},\ 0);\ it;\ ++it)}
\DoxyCodeLine{00102\ \ \ \{}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ \mbox{\hyperlink{wave_8c_a5f62e300af876f32e1ceef29663b6ec5}{ax}}\ =\ \mbox{\hyperlink{datatypes_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}}(it.value());}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{wave_8c_a5f62e300af876f32e1ceef29663b6ec5}{ax}}\ >\ ab2)\ \ \ \ \ abig\ +=\ numext::abs2(\mbox{\hyperlink{wave_8c_a5f62e300af876f32e1ceef29663b6ec5}{ax}}*s2m);}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(\mbox{\hyperlink{wave_8c_a5f62e300af876f32e1ceef29663b6ec5}{ax}}\ <\ b1)\ asml\ +=\ numext::abs2(\mbox{\hyperlink{wave_8c_a5f62e300af876f32e1ceef29663b6ec5}{ax}}*s1m);}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{else}\ \ \ \ \ \ \ \ \ \ \ \ \ amed\ +=\ numext::abs2(\mbox{\hyperlink{wave_8c_a5f62e300af876f32e1ceef29663b6ec5}{ax}});}
\DoxyCodeLine{00107\ \ \ \}}
\DoxyCodeLine{00108\ \ \ \textcolor{keywordflow}{if}(amed!=amed)}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordflow}{return}\ amed;\ \ \textcolor{comment}{//\ we\ got\ a\ NaN}}
\DoxyCodeLine{00110\ \ \ \textcolor{keywordflow}{if}(abig\ >\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(0))}
\DoxyCodeLine{00111\ \ \ \{}
\DoxyCodeLine{00112\ \ \ \ \ abig\ =\ \mbox{\hyperlink{_array_cwise_unary_ops_8h_a656b9217a2fcb6de59dc8d1eb3079cc7}{sqrt}}(abig);}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordflow}{if}(abig\ >\ rbig)\ \textcolor{comment}{//\ overflow,\ or\ *this\ contains\ INF\ values}}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ abig;\ \ \textcolor{comment}{//\ return\ INF}}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordflow}{if}(amed\ >\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(0))}
\DoxyCodeLine{00116\ \ \ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ abig\ =\ abig/s2m;}
\DoxyCodeLine{00118\ \ \ \ \ \ \ amed\ =\ \mbox{\hyperlink{_array_cwise_unary_ops_8h_a656b9217a2fcb6de59dc8d1eb3079cc7}{sqrt}}(amed);}
\DoxyCodeLine{00119\ \ \ \ \ \}}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ abig/s2m;}
\DoxyCodeLine{00122\ \ \ \}}
\DoxyCodeLine{00123\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(asml\ >\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(0))}
\DoxyCodeLine{00124\ \ \ \{}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordflow}{if}\ (amed\ >\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(0))}
\DoxyCodeLine{00126\ \ \ \ \ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ abig\ =\ \mbox{\hyperlink{_array_cwise_unary_ops_8h_a656b9217a2fcb6de59dc8d1eb3079cc7}{sqrt}}(amed);}
\DoxyCodeLine{00128\ \ \ \ \ \ \ amed\ =\ \mbox{\hyperlink{_array_cwise_unary_ops_8h_a656b9217a2fcb6de59dc8d1eb3079cc7}{sqrt}}(asml)\ /\ s1m;}
\DoxyCodeLine{00129\ \ \ \ \ \}}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_array_cwise_unary_ops_8h_a656b9217a2fcb6de59dc8d1eb3079cc7}{sqrt}}(asml)/s1m;}
\DoxyCodeLine{00132\ \ \ \}}
\DoxyCodeLine{00133\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_array_cwise_unary_ops_8h_a656b9217a2fcb6de59dc8d1eb3079cc7}{sqrt}}(amed);}
\DoxyCodeLine{00135\ \ \ asml\ =\ \mbox{\hyperlink{namespace_eigen_1_1numext_ab3b30bf0bcfa1ad91dbec75fabb3bea0}{numext::mini}}(abig,\ amed);}
\DoxyCodeLine{00136\ \ \ abig\ =\ \mbox{\hyperlink{namespace_eigen_1_1numext_a29d502349f2ec9897c808e65e0f96eb4}{numext::maxi}}(abig,\ amed);}
\DoxyCodeLine{00137\ \ \ \textcolor{keywordflow}{if}(asml\ <=\ abig*\mbox{\hyperlink{matrix__functions_8h_af00b1950169db55b14a3a4abd7b9ee7b}{relerr}})}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordflow}{return}\ abig;}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{return}\ abig\ *\ \mbox{\hyperlink{_array_cwise_unary_ops_8h_a656b9217a2fcb6de59dc8d1eb3079cc7}{sqrt}}(\mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}(1)\ +\ numext::abs2(asml/abig));}
\DoxyCodeLine{00141\ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \}\ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00155\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00156\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ NumTraits<typename\ internal::traits<Derived>::Scalar>\mbox{\hyperlink{boostmultiprec_8cpp_ad5abe8020ead32dcab5e3c15d6d7c30e}{::Real}}}
\DoxyCodeLine{00157\ \mbox{\hyperlink{class_eigen_1_1_matrix_base_a624431d9543dacf9aef2bee325a0686f}{MatrixBase<Derived>::stableNorm}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00158\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00159\ \ \ \textcolor{keyword}{using\ }std::sqrt;}
\DoxyCodeLine{00160\ \ \ \textcolor{keyword}{using\ }std::abs;}
\DoxyCodeLine{00161\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ blockSize\ =\ 4096;}
\DoxyCodeLine{00162\ \ \ \mbox{\hyperlink{class_eigen_1_1_matrix_base_a6dbfafdc24900b9266dfeb1590f834c6}{RealScalar}}\ \mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}}(0);}
\DoxyCodeLine{00163\ \ \ \mbox{\hyperlink{class_eigen_1_1_matrix_base_a6dbfafdc24900b9266dfeb1590f834c6}{RealScalar}}\ invScale(1);}
\DoxyCodeLine{00164\ \ \ \mbox{\hyperlink{class_eigen_1_1_matrix_base_a6dbfafdc24900b9266dfeb1590f834c6}{RealScalar}}\ ssq(0);\ \textcolor{comment}{//\ sum\ of\ square}}
\DoxyCodeLine{00165\ \ \ }
\DoxyCodeLine{00166\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1nested__eval_a787dfc6bd971e0ab60b3c1158ba4b313}{internal::nested\_eval<Derived,2>::type}}\ DerivedCopy;}
\DoxyCodeLine{00167\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1remove__all_a5779acf852f62735a7d293d29b18e321}{internal::remove\_all<DerivedCopy>::type}}\ DerivedCopyClean;}
\DoxyCodeLine{00168\ \ \ \textcolor{keyword}{const}\ DerivedCopy\ \mbox{\hyperlink{level1__impl_8h_a7ffc26122ca6f9bec01f9bc5e64f3006}{copy}}(derived());}
\DoxyCodeLine{00169\ \ \ }
\DoxyCodeLine{00170\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00171\ \ \ \ \ CanAlign\ =\ (\ \ \ (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}(DerivedCopyClean::Flags)\&\mbox{\hyperlink{group__flags_gabf1e9d0516a933445a4c307ad8f14915}{DirectAccessBit}})}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ||\ (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}(\mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{internal::evaluator<DerivedCopyClean>::Alignment}})>0)\ \textcolor{comment}{//\ FIXME\ Alignment)>0\ might\ not\ be\ enough}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )\ \&\&\ (blockSize*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_matrix_base_ac966a9548d81c18515e90b536d3b769e}{Scalar}})*2<\mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_aa69893f50bcb8cec4064f6bc1017497f}{EIGEN\_STACK\_ALLOCATION\_LIMIT}})}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ (\mbox{\hyperlink{eigen-3_83_87_2_eigen_2src_2_core_2util_2_macros_8h_a5d8e4d9a4f962348bb641fb821508fd1}{EIGEN\_MAX\_STATIC\_ALIGN\_BYTES}}>0)\ \textcolor{comment}{//\ if\ we\ cannot\ allocate\ on\ the\ stack,\ then\ let's\ not\ bother\ about\ this\ optimization}}
\DoxyCodeLine{00175\ \ \ \};}
\DoxyCodeLine{00176\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1conditional}{internal::conditional<CanAlign,\ Ref<const\ Matrix<Scalar,Dynamic,1,0,blockSize,1>}},\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{internal::evaluator<DerivedCopyClean>::Alignment}}>,}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ DerivedCopyClean::ConstSegmentReturnType>\mbox{\hyperlink{struct_eigen_1_1_packet_type}{::type}}\ SegmentWrapper;}
\DoxyCodeLine{00178\ \ \ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}();}
\DoxyCodeLine{00179\ \ \ }
\DoxyCodeLine{00180\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}==1)}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{datatypes_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}}(this-\/>coeff(0));}
\DoxyCodeLine{00182\ \ \ }
\DoxyCodeLine{00183\ \ \ \mbox{\hyperlink{class_eigen_1_1_tensor}{Index}}\ bi\ =\ \mbox{\hyperlink{namespace_eigen_1_1internal_a8f16b915ba954e15a13f76ca3016830a}{internal::first\_default\_aligned}}(\mbox{\hyperlink{level1__impl_8h_a7ffc26122ca6f9bec01f9bc5e64f3006}{copy}});}
\DoxyCodeLine{00184\ \ \ \textcolor{keywordflow}{if}\ (bi>0)}
\DoxyCodeLine{00185\ \ \ \ \ \mbox{\hyperlink{namespace_eigen_1_1internal_a9478a4692dc32c5b5a14c9c6e462c3fc}{internal::stable\_norm\_kernel}}(\mbox{\hyperlink{level1__impl_8h_a7ffc26122ca6f9bec01f9bc5e64f3006}{copy}}.head(bi),\ ssq,\ \mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}},\ invScale);}
\DoxyCodeLine{00186\ \ \ \textcolor{keywordflow}{for}\ (;\ bi<\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};\ bi+=blockSize)}
\DoxyCodeLine{00187\ \ \ \ \ \mbox{\hyperlink{namespace_eigen_1_1internal_a9478a4692dc32c5b5a14c9c6e462c3fc}{internal::stable\_norm\_kernel}}(SegmentWrapper(\mbox{\hyperlink{level1__impl_8h_a7ffc26122ca6f9bec01f9bc5e64f3006}{copy}}.segment(bi,\mbox{\hyperlink{namespace_eigen_1_1numext_ab3b30bf0bcfa1ad91dbec75fabb3bea0}{numext::mini}}(blockSize,\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ -\/\ bi))),\ ssq,\ \mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}},\ invScale);}
\DoxyCodeLine{00188\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}}\ *\ \mbox{\hyperlink{_array_cwise_unary_ops_8h_a656b9217a2fcb6de59dc8d1eb3079cc7}{sqrt}}(ssq);}
\DoxyCodeLine{00189\ \}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00200\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00201\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1_num_traits}{NumTraits<typename\ internal::traits<Derived>::Scalar}}>\mbox{\hyperlink{struct_eigen_1_1_num_traits}{::Real}}}
\DoxyCodeLine{00202\ \mbox{\hyperlink{class_eigen_1_1_matrix_base_a4a3ac99e4cd767a110c84421dda22ab1}{MatrixBase<Derived>::blueNorm}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00203\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00204\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_eigen_1_1internal_ad5435f3387e943a41870d140ab0bfd63}{internal::blueNorm\_impl}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{00205\ \}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00212\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00213\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1_num_traits}{NumTraits<typename\ internal::traits<Derived>::Scalar}}>\mbox{\hyperlink{struct_eigen_1_1_num_traits}{::Real}}}
\DoxyCodeLine{00214\ \mbox{\hyperlink{class_eigen_1_1_matrix_base_a54e11547512ffc3b211cc0ee6caba98c}{MatrixBase<Derived>::hypotNorm}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00215\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00216\ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{_matrix_cwise_unary_ops_8h_afaccb60c8e7e930b441a048374b64ea3}{cwiseAbs}}().redux(\mbox{\hyperlink{struct_eigen_1_1internal_1_1scalar__hypot__op}{internal::scalar\_hypot\_op<RealScalar>}}());}
\DoxyCodeLine{00217\ \}}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_STABLENORM\_H}}

\end{DoxyCode}
