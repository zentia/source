\doxysection{dynamic\+\_\+link.\+h}
\hypertarget{dynamic__link_8h_source}{}\label{dynamic__link_8h_source}\index{external/taskflow/3rd-\/party/tbb/src/tbb/dynamic\_link.h@{external/taskflow/3rd-\/party/tbb/src/tbb/dynamic\_link.h}}
\mbox{\hyperlink{dynamic__link_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#ifndef\ \_\_TBB\_dynamic\_link}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ \_\_TBB\_dynamic\_link}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{comment}{//\ Support\ for\ dynamic\ loading\ entry\ points\ from\ other\ shared\ libraries.}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbb__stddef_8h}{tbb/tbb\_stddef.h}}"{}}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#ifdef\ LIBRARY\_ASSERT}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\ \ \ \ \#undef\ \_\_TBB\_ASSERT}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_ASSERT(x,y)\ LIBRARY\_ASSERT(x,y)}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\ \ \ \ \#define\ LIBRARY\_ASSERT(x,y)\ \_\_TBB\_ASSERT\_EX(x,y)}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ !LIBRARY\_ASSERT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#ifndef\ OPEN\_INTERNAL\_NAMESPACE}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#define\ OPEN\_INTERNAL\_NAMESPACE\ namespace\ tbb\ \{\ namespace\ internal\ \{}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#define\ CLOSE\_INTERNAL\_NAMESPACE\ \}\}}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ OPEN\_INTERNAL\_NAMESPACE\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#if\ \_WIN32}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{windows__api_8h}{tbb/machine/windows\_api.h}}"{}}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_WIN32\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \mbox{\hyperlink{omp__dynamic__link_8h_aa4991636b18b4275317136882311127f}{OPEN\_INTERNAL\_NAMESPACE}}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00047\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}\ (*\mbox{\hyperlink{dynamic__link_8h_a1f2f13bc7b065579fe007dc32e4bdeb7}{pointer\_to\_handler}})();}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00050\ \textcolor{comment}{//\ Double\ cast\ through\ the\ void*\ in\ DLD\ macro\ is\ necessary\ to}}
\DoxyCodeLine{00051\ \textcolor{comment}{//\ prevent\ warnings\ from\ some\ compilers\ (g++\ 4.1)}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#if\ \_\_TBB\_WEAK\_SYMBOLS\_PRESENT}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#define\ DLD(s,h)\ \{\#s,\ (pointer\_to\_handler*)(void*)(\&h),\ (pointer\_to\_handler)\&s\}}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#define\ DLD\_NOWEAK(s,h)\ \{\#s,\ (pointer\_to\_handler*)(void*)(\&h),\ NULL\}}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#define\ DLD(s,h)\ \{\#s,\ (pointer\_to\_handler*)(void*)(\&h)\}}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#define\ DLD\_NOWEAK(s,h)\ DLD(s,h)}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_WEAK\_SYMBOLS\_PRESENT\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00060\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdynamic__link__descriptor}{dynamic\_link\_descriptor}}\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{structdynamic__link__descriptor_a45c4a4684f69a28783fed7fc8bf92ded}{name}};}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{dynamic__link_8h_a1f2f13bc7b065579fe007dc32e4bdeb7}{pointer\_to\_handler}}*\ \mbox{\hyperlink{structdynamic__link__descriptor_a11964964baf1be8d33f8e0bc753880d8}{handler}};}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\#if\ \_\_TBB\_WEAK\_SYMBOLS\_PRESENT}}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{dynamic__link_8h_a1f2f13bc7b065579fe007dc32e4bdeb7}{pointer\_to\_handler}}\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}};}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00069\ \};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#if\ \_WIN32}}
\DoxyCodeLine{00072\ \textcolor{keyword}{typedef}\ HMODULE\ \mbox{\hyperlink{dynamic__link_8h_a36d1edf80a31c32c95dfa6c191b3d2dc}{dynamic\_link\_handle}};}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00074\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{dynamic__link_8h_a36d1edf80a31c32c95dfa6c191b3d2dc}{dynamic\_link\_handle}};}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_WIN32\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{dynamic__link_8h_a4b4049ae5ac2e79f005302a820133ae7}{DYNAMIC\_LINK\_GLOBAL}}\ =\ 0x01;}
\DoxyCodeLine{00078\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{dynamic__link_8h_a2f392c831bb8ae62465e8ff3679e4014}{DYNAMIC\_LINK\_LOAD}}\ \ \ =\ 0x02;}
\DoxyCodeLine{00079\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{dynamic__link_8h_aae08197c9f1936970593cd86b27a47fc}{DYNAMIC\_LINK\_WEAK}}\ \ \ =\ 0x04;}
\DoxyCodeLine{00080\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{dynamic__link_8h_a4038dfca94d930ca783fccc81969c457}{DYNAMIC\_LINK\_ALL}}\ \ \ \ =\ \mbox{\hyperlink{dynamic__link_8h_a4b4049ae5ac2e79f005302a820133ae7}{DYNAMIC\_LINK\_GLOBAL}}\ |\ \mbox{\hyperlink{dynamic__link_8h_a2f392c831bb8ae62465e8ff3679e4014}{DYNAMIC\_LINK\_LOAD}}\ |\ \mbox{\hyperlink{dynamic__link_8h_aae08197c9f1936970593cd86b27a47fc}{DYNAMIC\_LINK\_WEAK}};}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00098\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{dynamic__link_8h_a931903767d67afbf9fdce973b95e5308}{dynamic\_link}}(\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ library,}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdynamic__link__descriptor}{dynamic\_link\_descriptor}}\ descriptors[],}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{test__tbb__version_8cpp_a24f5b267393bc143788c08f4641a1830a4f6fc19321f5eedb3b03f420dfa7244c}{required}},}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{dynamic__link_8h_a36d1edf80a31c32c95dfa6c191b3d2dc}{dynamic\_link\_handle}}*\ handle\ =\ 0,}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{test__split__node_8cpp_afea5520dffc22c33fbcc0eb5f7e3d448}{flags}}\ =\ \mbox{\hyperlink{dynamic__link_8h_a4038dfca94d930ca783fccc81969c457}{DYNAMIC\_LINK\_ALL}}\ );}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{dynamic__link_8h_a4ef02bd3ae272fb17baca04a8cd17226}{dynamic\_unlink}}(\ \mbox{\hyperlink{dynamic__link_8h_a36d1edf80a31c32c95dfa6c191b3d2dc}{dynamic\_link\_handle}}\ handle\ );}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{dynamic__link_8h_ad65fa8b542fd95d199ca5e87ab2885df}{dynamic\_unlink\_all}}();}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{dynamic__link_8h_a5b9b27e8cd42534836372ad00f3cfcc9}{dynamic\_link\_error\_t}}\ \{}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{dynamic__link_8h_a5b9b27e8cd42534836372ad00f3cfcc9a875472e4b457d5d0766bbcf690f78a1f}{dl\_success}}\ =\ 0,}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{dynamic__link_8h_a5b9b27e8cd42534836372ad00f3cfcc9a3a6dcba4f1afd3040184a5e909fcc7c1}{dl\_lib\_not\_found}},\ \ \ \ \ \textcolor{comment}{//\ char\ const\ *\ lib,\ dlerr\_t\ err}}
\DoxyCodeLine{00111\ \ \ \ \ \mbox{\hyperlink{dynamic__link_8h_a5b9b27e8cd42534836372ad00f3cfcc9a96e9374e526b51cc348698e5eed3e144}{dl\_sym\_not\_found}},\ \ \ \ \ \textcolor{comment}{//\ char\ const\ *\ sym,\ dlerr\_t\ err}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Note:\ dlerr\_t\ depends\ on\ OS:\ it\ is\ char\ const\ *\ on\ Linux*\ and\ macOS*,\ int\ on\ Windows*.}}
\DoxyCodeLine{00113\ \ \ \ \ \mbox{\hyperlink{dynamic__link_8h_a5b9b27e8cd42534836372ad00f3cfcc9a43f710eafcad9f33c78272b831300b99}{dl\_sys\_fail}},\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ char\ const\ *\ func,\ int\ err}}
\DoxyCodeLine{00114\ \ \ \ \ \mbox{\hyperlink{dynamic__link_8h_a5b9b27e8cd42534836372ad00f3cfcc9acd3109ab7299a9305e0fe9c9117d7db2}{dl\_buff\_too\_small}}\ \ \ \ \ \textcolor{comment}{//\ none}}
\DoxyCodeLine{00115\ \};\ \textcolor{comment}{//\ dynamic\_link\_error\_t}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \mbox{\hyperlink{omp__dynamic__link_8h_a44450fbc430b2b9e4031bf2ad8f86146}{CLOSE\_INTERNAL\_NAMESPACE}}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_TBB\_dynamic\_link\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
