\doxysection{tbb\+::internal\+::generic\+\_\+scheduler类 参考}
\hypertarget{classtbb_1_1internal_1_1generic__scheduler}{}\label{classtbb_1_1internal_1_1generic__scheduler}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}


\doxylink{struct_work}{Work} stealing task scheduler.  




{\ttfamily \#include $<$scheduler.\+h$>$}



类 tbb\+::internal\+::generic\+\_\+scheduler 继承关系图\+:
% FIG 0


tbb\+::internal\+::generic\+\_\+scheduler 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a1f221aa79878e3962ea2b3eaa7429fe1}{is\+\_\+task\+\_\+pool\+\_\+published}} () const
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a74b022285a6ff04a9ea2957999d4def3}{is\+\_\+local\+\_\+task\+\_\+pool\+\_\+quiescent}} () const
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a52f9f2d835b4d68680887253a597f779}{is\+\_\+quiescent\+\_\+local\+\_\+task\+\_\+pool\+\_\+empty}} () const
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a089d1ca7efe019834cc06e82b4f3d883}{is\+\_\+quiescent\+\_\+local\+\_\+task\+\_\+pool\+\_\+reset}} () const
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a5ab89891d3c1e3209cffced8bf93b124}{attach\+\_\+mailbox}} (\mbox{\hyperlink{namespacetbb_1_1internal_a3e3837fb3ca7bbf4cf4752c58cbed886}{affinity\+\_\+id}} \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}})
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_afd799eae7903abc75b7a7aafd36e20db}{init\+\_\+stack\+\_\+info}} ()
\begin{DoxyCompactList}\small\item\em Sets up the data necessary for the stealing limiting heuristics \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a1c00f465a90ee09a240d1f81de5f635b}{can\+\_\+steal}} ()
\begin{DoxyCompactList}\small\item\em Returns true if stealing is allowed \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_af222cccbf09e91c9c9caaad81f8d993d}{publish\+\_\+task\+\_\+pool}} ()
\begin{DoxyCompactList}\small\item\em Used by workers to enter the task pool \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aad4a3aef975ca2516a81640654a65717}{leave\+\_\+task\+\_\+pool}} ()
\begin{DoxyCompactList}\small\item\em Leave the task pool \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ad8f6a6793961db84240434fffd7b50f3}{reset\+\_\+task\+\_\+pool\+\_\+and\+\_\+leave}} ()
\begin{DoxyCompactList}\small\item\em Resets head and tail indices to 0, and leaves task pool \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a3def047033ef29c77c43db170a38df2c}{lock\+\_\+task\+\_\+pool}} (\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \texorpdfstring{$\ast$}{*}victim\+\_\+arena\+\_\+slot) const
\begin{DoxyCompactList}\small\item\em Locks victim\textquotesingle{}s task pool, and returns pointer to it. The pointer can be NULL. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a9deee19e39b49b7e1f44c87533600b46}{unlock\+\_\+task\+\_\+pool}} (\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \texorpdfstring{$\ast$}{*}victim\+\_\+arena\+\_\+slot, task \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}victim\+\_\+task\+\_\+pool) const
\begin{DoxyCompactList}\small\item\em Unlocks victim\textquotesingle{}s task pool \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ae1cf7dda46c2687a1ea7edacbea10da1}{acquire\+\_\+task\+\_\+pool}} () const
\begin{DoxyCompactList}\small\item\em Locks the local task pool \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a6ff28eab04933075791b16075ceb5950}{release\+\_\+task\+\_\+pool}} () const
\begin{DoxyCompactList}\small\item\em Unlocks the local task pool \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a8a62642cb4b1ba391b8d3b9a00dca541}{prepare\+\_\+for\+\_\+spawning}} (task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\begin{DoxyCompactList}\small\item\em Checks if t is affinitized to another thread, and if so, bundles it as proxy. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a7f7d3a75d44d62525c8b31c32917d242}{commit\+\_\+spawned\+\_\+tasks}} (size\+\_\+t new\+\_\+tail)
\begin{DoxyCompactList}\small\item\em Makes newly spawned tasks visible to thieves \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aecf34e6a9902af76bbbeab1fd3851df8}{commit\+\_\+relocated\+\_\+tasks}} (size\+\_\+t new\+\_\+tail)
\begin{DoxyCompactList}\small\item\em Makes relocated tasks visible to thieves and releases the local task pool. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a10c72a4aad7308d944cef26502ece55e}{get\+\_\+task}} (\mbox{\hyperlink{scheduler__common_8h_a63e9a35b6d2bfbfb21b3199dc03acc6d}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+EXPR}}(isolation\+\_\+tag isolation))
\begin{DoxyCompactList}\small\item\em Get a task from the local pool. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aad832dcce47939c2fd150a0e63a395ec}{get\+\_\+task}} (size\+\_\+t \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}})
\begin{DoxyCompactList}\small\item\em Get a task from the local pool at specified location T. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a5657ac6c517d9bbf59a424ef330640bb}{get\+\_\+mailbox\+\_\+task}} (\mbox{\hyperlink{scheduler__common_8h_a63e9a35b6d2bfbfb21b3199dc03acc6d}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+EXPR}}(isolation\+\_\+tag isolation))
\begin{DoxyCompactList}\small\item\em Attempt to get a task from the mailbox. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_abb8f3f3967170ca9398e55b90220c3cb}{steal\+\_\+task}} (\mbox{\hyperlink{scheduler__common_8h_a63e9a35b6d2bfbfb21b3199dc03acc6d}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+EXPR}}(isolation\+\_\+tag isolation))
\begin{DoxyCompactList}\small\item\em Attempts to steal a task from a randomly chosen thread/scheduler \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a15b506cb1b1da8e37255fc2fcdf250f0}{steal\+\_\+task\+\_\+from}} (\mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \&victim\+\_\+arena\+\_\+slot, isolation\+\_\+tag isolation))
\begin{DoxyCompactList}\small\item\em Steal task from another scheduler\textquotesingle{}s ready pool. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a0460616fb84af745b12688927ff1bb7d}{prepare\+\_\+task\+\_\+pool}} (size\+\_\+t \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})
\begin{DoxyCompactList}\small\item\em Makes sure that the task pool can accommodate at least n more elements \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ac223f7892d65e496c37190c4009ea1f7}{cleanup\+\_\+master}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} blocking\+\_\+terminate)
\begin{DoxyCompactList}\small\item\em Perform necessary cleanup when a master thread stops using \doxylink{struct_t_b_b}{TBB}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_adc904ecbeb053f061c66edd8e85ac704}{assert\+\_\+task\+\_\+pool\+\_\+valid}} () const
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aa101d77dc7a5e986270073e1c0e09cf6}{attach\+\_\+arena}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+master)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a7c98d05ea5c1e309b836335ea9af79fa}{nested\+\_\+arena\+\_\+entry}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}, size\+\_\+t)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ab80a47a82aea82a8ad418fbc36887ac9}{nested\+\_\+arena\+\_\+exit}} ()
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a2a0f285acb9cfb21b7df95a386bd6860}{wait\+\_\+until\+\_\+empty}} ()
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a4d51eca32dc45cba3e0ec161240bfaca}{spawn}} (task \&\mbox{\hyperlink{namespacetbb_1_1internal_ab9f93f2f0b5a50bfec5f8ebbfbe9b9db}{first}}, task \texorpdfstring{$\ast$}{*}\&next) \+\_\+\+\_\+\+TBB\+\_\+override
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a6e0b5fdf74860259585e55f7bf2edb8e}{spawn\+\_\+root\+\_\+and\+\_\+wait}} (task \&\mbox{\hyperlink{namespacetbb_1_1internal_ab9f93f2f0b5a50bfec5f8ebbfbe9b9db}{first}}, task \texorpdfstring{$\ast$}{*}\&next) \+\_\+\+\_\+\+TBB\+\_\+override
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a21fedf3ec39056fdd7b7718f2421e229}{enqueue}} (task \&, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}reserved) \+\_\+\+\_\+\+TBB\+\_\+override
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ae43166ffd9d7fb624158872394832f17}{local\+\_\+spawn}} (task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacetbb_1_1internal_ab9f93f2f0b5a50bfec5f8ebbfbe9b9db}{first}}, task \texorpdfstring{$\ast$}{*}\&next)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a9dacb8fead5795de1011018b83d68d61}{local\+\_\+spawn\+\_\+root\+\_\+and\+\_\+wait}} (task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{namespacetbb_1_1internal_ab9f93f2f0b5a50bfec5f8ebbfbe9b9db}{first}}, task \texorpdfstring{$\ast$}{*}\&next)
\item 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a509997dbb9b97ad2cca0a3af76c04e90}{local\+\_\+wait\+\_\+for\+\_\+all}} (task \&\mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}, task \texorpdfstring{$\ast$}{*}child)=0
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aafb98e4ad94437efc212376f2a8c9d8a}{destroy}} ()
\begin{DoxyCompactList}\small\item\em Destroy and deallocate this scheduler object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a9ad40233836bbb816156a5dacf206089}{cleanup\+\_\+scheduler}} ()
\begin{DoxyCompactList}\small\item\em Cleans up this scheduler (the scheduler might be destroyed). \end{DoxyCompactList}\item 
task \& \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aa0d316e9f3063c6b57fa21e0716d4d77}{allocate\+\_\+task}} (size\+\_\+t number\+\_\+of\+\_\+bytes, \mbox{\hyperlink{scheduler__common_8h_a0ef18fbe7aa93b76fd4136a153bc2e44}{\+\_\+\+\_\+\+TBB\+\_\+\+CONTEXT\+\_\+\+ARG}}(task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}, task\+\_\+group\+\_\+context \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classcontext}{context}}))
\begin{DoxyCompactList}\small\item\em Allocate task object, either from the heap or a free list. \end{DoxyCompactList}\item 
{\footnotesize template$<$\mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046}{free\+\_\+task\+\_\+hint}} h$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a12dd37171af77214add72a973e6b71ba}{free\+\_\+task}} (task \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\begin{DoxyCompactList}\small\item\em Put task on free list. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ad965858a5e7cb5574926d8d1692063b5}{deallocate\+\_\+task}} (task \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\begin{DoxyCompactList}\small\item\em Return task object to the memory allocator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a24ecab941cdf8ff762126f1c65e5274a}{is\+\_\+worker}} () const
\begin{DoxyCompactList}\small\item\em True if running on a worker thread, false otherwise. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ab09f5bf82f328f50d815d38f8d553f5f}{outermost\+\_\+level}} () const
\begin{DoxyCompactList}\small\item\em True if the scheduler is on the outermost dispatch level. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a744eb36f568cf2c726a0920494e5579d}{master\+\_\+outermost\+\_\+level}} () const
\begin{DoxyCompactList}\small\item\em True if the scheduler is on the outermost dispatch level in a master thread. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aec76a489fe5368ede0d1658cbb74984b}{worker\+\_\+outermost\+\_\+level}} () const
\begin{DoxyCompactList}\small\item\em True if the scheduler is on the outermost dispatch level in a worker thread. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_af2b38fa415abd3f28025e96e5d27995a}{max\+\_\+threads\+\_\+in\+\_\+arena}} ()
\begin{DoxyCompactList}\small\item\em Returns the concurrency limit of the current arena. \end{DoxyCompactList}\item 
virtual task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ad29196fee133a26e00bd8271fdb034b0}{receive\+\_\+or\+\_\+steal\+\_\+task}} (\mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(\+\_\+\+\_\+\+TBB\+\_\+atomic reference\+\_\+count \&completion\+\_\+ref\+\_\+count, isolation\+\_\+tag isolation))=0
\begin{DoxyCompactList}\small\item\em Try getting a task from other threads (via mailbox, stealing, FIFO queue, orphans adoption). \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a720c816c0253fe199e4583cd24090e9b}{free\+\_\+nonlocal\+\_\+small\+\_\+task}} (task \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\begin{DoxyCompactList}\small\item\em Free a small task t that that was allocated by a different scheduler \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a33519b4cf710f8c46129672f79fb6ec4}{is\+\_\+version\+\_\+3\+\_\+task}} (task \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\item 
static \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a868812dd8d875a225a6f589fdbaafe54}{is\+\_\+proxy}} (const task \&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})
\begin{DoxyCompactList}\small\item\em True if t is a \doxylink{structtbb_1_1internal_1_1task__proxy}{task\+\_\+proxy} \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ac7fb04a73dbb75dd8db5c9637bfadeae}{create\+\_\+master}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})
\begin{DoxyCompactList}\small\item\em Initialize a scheduler for a master thread. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a556929cfad4b9daef4950dfdb6cee485}{create\+\_\+worker}} (\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} geniune)
\begin{DoxyCompactList}\small\item\em Initialize a scheduler for a worker thread. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ae6a0b659589202963562cbdb23465807}{cleanup\+\_\+worker}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} worker)
\begin{DoxyCompactList}\small\item\em Perform necessary cleanup when a worker thread finishes. \end{DoxyCompactList}\item 
static task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a190c2087092b3e0f2a39b01c7cc27e93}{plugged\+\_\+return\+\_\+list}} ()
\begin{DoxyCompactList}\small\item\em Special value used to mark my\+\_\+return\+\_\+list as not taking any more entries. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 属性}
\begin{DoxyCompactItemize}
\item 
uintptr\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ade9f23ce97db8725a9c3718e76aa682d}{my\+\_\+stealing\+\_\+threshold}}
\begin{DoxyCompactList}\small\item\em Position in the call stack specifying its maximal filling when stealing is still allowed \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ac652e4a610353888a31352e678955e1b}{my\+\_\+market}}
\begin{DoxyCompactList}\small\item\em The market I am in \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1_fast_random}{Fast\+Random}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_aee56a8b51b71d3f96f9c8cacf00fe845}{my\+\_\+random}}
\begin{DoxyCompactList}\small\item\em Random number generator used for picking a random victim from which to steal. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a52ed26dede8410a72f37bce24cb26239}{my\+\_\+free\+\_\+list}}
\begin{DoxyCompactList}\small\item\em Free list of small tasks that can be reused. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_abc495d5b077a2ef1b05e15e820555d90}{my\+\_\+dummy\+\_\+task}}
\begin{DoxyCompactList}\small\item\em Fake root task created by slave threads. \end{DoxyCompactList}\item 
long \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a8cf8d776a439320e1e001381cf5d4ad7}{my\+\_\+ref\+\_\+count}}
\begin{DoxyCompactList}\small\item\em Reference count for scheduler \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_afb5b021643394b6d3f743bea9cb5e2bd}{my\+\_\+auto\+\_\+initialized}}
\begin{DoxyCompactList}\small\item\em True if \texorpdfstring{$\ast$}{*}this was created by automatic \doxylink{struct_t_b_b}{TBB} initialization \end{DoxyCompactList}\item 
\+\_\+\+\_\+\+TBB\+\_\+atomic intptr\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a4bd421a07fae7a1c9e3fa49e005bb513}{my\+\_\+small\+\_\+task\+\_\+count}}
\begin{DoxyCompactList}\small\item\em \doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of small tasks that have been allocated by this scheduler. \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_ab5777a002f8b7b3a72cb7fc4a477fb29}{my\+\_\+return\+\_\+list}}
\begin{DoxyCompactList}\small\item\em \doxylink{class_list}{List} of small tasks that have been returned to this scheduler by other schedulers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public 属性 继承自 \mbox{\hyperlink{structtbb_1_1internal_1_1intrusive__list__node}{tbb\+::internal\+::intrusive\+\_\+list\+\_\+node}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structtbb_1_1internal_1_1intrusive__list__node}{intrusive\+\_\+list\+\_\+node}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1intrusive__list__node_a35bf2ac45f7e99aab397d8ea40202ab8}{my\+\_\+prev\+\_\+node}}
\item 
\mbox{\hyperlink{structtbb_1_1internal_1_1intrusive__list__node}{intrusive\+\_\+list\+\_\+node}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1intrusive__list__node_a4b6cb765d8507ed7440b4db424bc6c70}{my\+\_\+next\+\_\+node}}
\end{DoxyCompactItemize}
\doxysubsection*{Public 属性 继承自 \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state}{tbb\+::internal\+::scheduler\+\_\+state}}}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_a35aa72cfdda3b500e908925a3d6da747}{my\+\_\+arena\+\_\+index}}
\begin{DoxyCompactList}\small\item\em Index of the arena slot the scheduler occupies now, or occupied last time. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_a6f2fdcecd347bf767e89fda580545c1a}{my\+\_\+arena\+\_\+slot}}
\begin{DoxyCompactList}\small\item\em Pointer to the slot in the arena we own at the moment. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_a6b830853cb0386a2b8744d4c7dff3a80}{my\+\_\+arena}}
\begin{DoxyCompactList}\small\item\em The arena that I own (if master) or am servicing at the moment (if worker) \end{DoxyCompactList}\item 
task \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_aac9af4d8baddbbc2af433e11297be8a5}{my\+\_\+innermost\+\_\+running\+\_\+task}}
\begin{DoxyCompactList}\small\item\em Innermost task whose task\+::execute() is running. \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} dummy task on the outermost level. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1mail__inbox}{mail\+\_\+inbox}} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_a5b120ea3121cd82f578eef2c1319f9fe}{my\+\_\+inbox}}
\item 
\mbox{\hyperlink{namespacetbb_1_1internal_a3e3837fb3ca7bbf4cf4752c58cbed886}{affinity\+\_\+id}} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_a3a635bad42d492013d4a06d1af0c452b}{my\+\_\+affinity\+\_\+id}}
\begin{DoxyCompactList}\small\item\em The mailbox id assigned to this scheduler. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__properties}{scheduler\+\_\+properties}} \mbox{\hyperlink{structtbb_1_1internal_1_1scheduler__state_aed181c52b8462c43272d45e625cd31fa}{my\+\_\+properties}}
\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 属性}
\begin{DoxyCompactItemize}
\item 
static const size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_afbb75edc69c2ed1bcbf70098ca24a523}{quick\+\_\+task\+\_\+size}} = 256-\/\mbox{\hyperlink{namespacetbb_1_1internal_a0630d59441f75e740be0b003d2922df8}{task\+\_\+prefix\+\_\+reservation\+\_\+size}}
\begin{DoxyCompactList}\small\item\em If sizeof(task) is \texorpdfstring{$<$}{<}=quick\+\_\+task\+\_\+size, it is handled on a free list instead of malloc\textquotesingle{}d. \end{DoxyCompactList}\item 
static const size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_afae85a4245c85c65c3cd51e63125f23e}{null\+\_\+arena\+\_\+index}} = \texorpdfstring{$\sim$}{\string~}size\+\_\+t(0)
\item 
static const size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a1190ee0529a9280846bd50c4f50c8398}{min\+\_\+task\+\_\+pool\+\_\+size}} = 64
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a838f6ccf79d7ee8a55843de2f8004759}{generic\+\_\+scheduler}} (\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \&, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}})
\end{DoxyCompactItemize}
\doxysubsubsection*{友元}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Scheduler\+Traits$>$ }\\class \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler_a276a67d14225fdfbb225cc85299850e3}{custom\+\_\+scheduler}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\doxylink{struct_work}{Work} stealing task scheduler. 

None of the fields here are ever read or written by threads other than the thread that creates the instance.

Class \doxylink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler} is an abstract base class that contains most of the scheduler, except for tweaks specific to processors and tools (e.\+g. VTune(\+TM) Performance Tools). The derived template class custom\+\_\+scheduler$<$\+Scheduler\+Traits$>$ fills in the tweaks. 

\doxysubsection{构造及析构函数说明}
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a838f6ccf79d7ee8a55843de2f8004759}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!generic\_scheduler@{generic\_scheduler}}
\index{generic\_scheduler@{generic\_scheduler}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{generic\_scheduler()}{generic\_scheduler()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a838f6ccf79d7ee8a55843de2f8004759} 
tbb\+::internal\+::generic\+\_\+scheduler\+::generic\+\_\+scheduler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \&}]{m}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{genuine}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

函数调用图\+:
% FIG 2


\doxysubsection{成员函数说明}
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ae1cf7dda46c2687a1ea7edacbea10da1}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!acquire\_task\_pool@{acquire\_task\_pool}}
\index{acquire\_task\_pool@{acquire\_task\_pool}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{acquire\_task\_pool()}{acquire\_task\_pool()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ae1cf7dda46c2687a1ea7edacbea10da1} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::acquire\+\_\+task\+\_\+pool (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Locks the local task pool 

Garbles my\+\_\+arena\+\_\+slot-\/\texorpdfstring{$>$}{>}task\+\_\+pool for the duration of the lock. Requires correctly set my\+\_\+arena\+\_\+slot-\/\texorpdfstring{$>$}{>}task\+\_\+pool\+\_\+ptr.

ATTENTION\+: This method is mostly the same as \doxylink{classtbb_1_1internal_1_1generic__scheduler_a3def047033ef29c77c43db170a38df2c}{generic\+\_\+scheduler\+::lock\+\_\+task\+\_\+pool()}, with a little different logic of slot state checks (slot is either locked or points to our task pool). Thus if either of them is changed, consider changing the counterpart as well. 函数调用图\+:
% FIG 3
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_aa0d316e9f3063c6b57fa21e0716d4d77}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!allocate\_task@{allocate\_task}}
\index{allocate\_task@{allocate\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{allocate\_task()}{allocate\_task()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_aa0d316e9f3063c6b57fa21e0716d4d77} 
task \& tbb\+::internal\+::generic\+\_\+scheduler\+::allocate\+\_\+task (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{number\+\_\+of\+\_\+bytes}{, }\item[{\mbox{\hyperlink{scheduler__common_8h_a0ef18fbe7aa93b76fd4136a153bc2e44}{\+\_\+\+\_\+\+TBB\+\_\+\+CONTEXT\+\_\+\+ARG}}(task \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{ittnotify__static_8h_ab242ec323769be8fbbf53617a69d14ff}{parent}}, task\+\_\+group\+\_\+context \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classcontext}{context}})}]{}{}\end{DoxyParamCaption})}



Allocate task object, either from the heap or a free list. 

Returns uninitialized task object with initialized prefix. 函数调用图\+:
% FIG 4
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_adc904ecbeb053f061c66edd8e85ac704}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!assert\_task\_pool\_valid@{assert\_task\_pool\_valid}}
\index{assert\_task\_pool\_valid@{assert\_task\_pool\_valid}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{assert\_task\_pool\_valid()}{assert\_task\_pool\_valid()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_adc904ecbeb053f061c66edd8e85ac704} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::assert\+\_\+task\+\_\+pool\+\_\+valid (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_aa101d77dc7a5e986270073e1c0e09cf6}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!attach\_arena@{attach\_arena}}
\index{attach\_arena@{attach\_arena}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{attach\_arena()}{attach\_arena()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_aa101d77dc7a5e986270073e1c0e09cf6} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::attach\+\_\+arena (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}}]{a}{, }\item[{size\+\_\+t}]{index}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+master}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 5
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a5ab89891d3c1e3209cffced8bf93b124}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!attach\_mailbox@{attach\_mailbox}}
\index{attach\_mailbox@{attach\_mailbox}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{attach\_mailbox()}{attach\_mailbox()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a5ab89891d3c1e3209cffced8bf93b124} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::attach\+\_\+mailbox (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacetbb_1_1internal_a3e3837fb3ca7bbf4cf4752c58cbed886}{affinity\+\_\+id}}}]{id}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a1c00f465a90ee09a240d1f81de5f635b}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!can\_steal@{can\_steal}}
\index{can\_steal@{can\_steal}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{can\_steal()}{can\_steal()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a1c00f465a90ee09a240d1f81de5f635b} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::can\+\_\+steal (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Returns true if stealing is allowed 

函数调用图\+:
% FIG 6
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ac223f7892d65e496c37190c4009ea1f7}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!cleanup\_master@{cleanup\_master}}
\index{cleanup\_master@{cleanup\_master}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{cleanup\_master()}{cleanup\_master()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ac223f7892d65e496c37190c4009ea1f7} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::cleanup\+\_\+master (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{blocking\+\_\+terminate}{}\end{DoxyParamCaption})}



Perform necessary cleanup when a master thread stops using \doxylink{struct_t_b_b}{TBB}. 

函数调用图\+:
% FIG 7
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a9ad40233836bbb816156a5dacf206089}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!cleanup\_scheduler@{cleanup\_scheduler}}
\index{cleanup\_scheduler@{cleanup\_scheduler}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{cleanup\_scheduler()}{cleanup\_scheduler()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a9ad40233836bbb816156a5dacf206089} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::cleanup\+\_\+scheduler (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Cleans up this scheduler (the scheduler might be destroyed). 

函数调用图\+:
% FIG 8
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ae6a0b659589202963562cbdb23465807}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!cleanup\_worker@{cleanup\_worker}}
\index{cleanup\_worker@{cleanup\_worker}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{cleanup\_worker()}{cleanup\_worker()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ae6a0b659589202963562cbdb23465807} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::cleanup\+\_\+worker (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}}]{arg}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{worker}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Perform necessary cleanup when a worker thread finishes. 

函数调用图\+:
% FIG 9
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_aecf34e6a9902af76bbbeab1fd3851df8}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!commit\_relocated\_tasks@{commit\_relocated\_tasks}}
\index{commit\_relocated\_tasks@{commit\_relocated\_tasks}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{commit\_relocated\_tasks()}{commit\_relocated\_tasks()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_aecf34e6a9902af76bbbeab1fd3851df8} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::commit\+\_\+relocated\+\_\+tasks (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{new\+\_\+tail}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Makes relocated tasks visible to thieves and releases the local task pool. 

Obviously, the task pool must be locked when calling this method. 函数调用图\+:
% FIG 10
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a7f7d3a75d44d62525c8b31c32917d242}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!commit\_spawned\_tasks@{commit\_spawned\_tasks}}
\index{commit\_spawned\_tasks@{commit\_spawned\_tasks}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{commit\_spawned\_tasks()}{commit\_spawned\_tasks()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a7f7d3a75d44d62525c8b31c32917d242} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::commit\+\_\+spawned\+\_\+tasks (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{new\+\_\+tail}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Makes newly spawned tasks visible to thieves 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ac7fb04a73dbb75dd8db5c9637bfadeae}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!create\_master@{create\_master}}
\index{create\_master@{create\_master}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{create\_master()}{create\_master()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ac7fb04a73dbb75dd8db5c9637bfadeae} 
\mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}} \texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::create\+\_\+master (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}}]{a}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Initialize a scheduler for a master thread. 

函数调用图\+:
% FIG 11
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a556929cfad4b9daef4950dfdb6cee485}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!create\_worker@{create\_worker}}
\index{create\_worker@{create\_worker}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{create\_worker()}{create\_worker()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a556929cfad4b9daef4950dfdb6cee485} 
\mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}} \texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::create\+\_\+worker (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \&}]{m}{, }\item[{size\+\_\+t}]{index}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{geniune}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Initialize a scheduler for a worker thread. 

函数调用图\+:
% FIG 12
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ad965858a5e7cb5574926d8d1692063b5}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!deallocate\_task@{deallocate\_task}}
\index{deallocate\_task@{deallocate\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{deallocate\_task()}{deallocate\_task()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ad965858a5e7cb5574926d8d1692063b5} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::deallocate\+\_\+task (\begin{DoxyParamCaption}\item[{task \&}]{t}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Return task object to the memory allocator. 

函数调用图\+:
% FIG 13
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_aafb98e4ad94437efc212376f2a8c9d8a}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!destroy@{destroy}}
\index{destroy@{destroy}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{destroy()}{destroy()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_aafb98e4ad94437efc212376f2a8c9d8a} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::destroy (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Destroy and deallocate this scheduler object. 

函数调用图\+:
% FIG 14
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a21fedf3ec39056fdd7b7718f2421e229}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a21fedf3ec39056fdd7b7718f2421e229} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::enqueue (\begin{DoxyParamCaption}\item[{task \&}]{t}{, }\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}}]{reserved}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 15
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a720c816c0253fe199e4583cd24090e9b}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!free\_nonlocal\_small\_task@{free\_nonlocal\_small\_task}}
\index{free\_nonlocal\_small\_task@{free\_nonlocal\_small\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{free\_nonlocal\_small\_task()}{free\_nonlocal\_small\_task()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a720c816c0253fe199e4583cd24090e9b} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::free\+\_\+nonlocal\+\_\+small\+\_\+task (\begin{DoxyParamCaption}\item[{task \&}]{t}{}\end{DoxyParamCaption})}



Free a small task t that that was allocated by a different scheduler 

函数调用图\+:
% FIG 16
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a12dd37171af77214add72a973e6b71ba}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!free\_task@{free\_task}}
\index{free\_task@{free\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{free\_task()}{free\_task()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a12dd37171af77214add72a973e6b71ba} 
template$<$\mbox{\hyperlink{namespacetbb_1_1internal_ae233ad3ab63128c255b7c1b0a2168046}{free\+\_\+task\+\_\+hint}} hint$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::free\+\_\+task (\begin{DoxyParamCaption}\item[{task \&}]{t}{}\end{DoxyParamCaption})}



Put task on free list. 

Does not call destructor. 函数调用图\+:
% FIG 17
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a5657ac6c517d9bbf59a424ef330640bb}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!get\_mailbox\_task@{get\_mailbox\_task}}
\index{get\_mailbox\_task@{get\_mailbox\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{get\_mailbox\_task()}{get\_mailbox\_task()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a5657ac6c517d9bbf59a424ef330640bb} 
task \texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::get\+\_\+mailbox\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{scheduler__common_8h_a63e9a35b6d2bfbfb21b3199dc03acc6d}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+EXPR}}(isolation\+\_\+tag isolation)}]{}{}\end{DoxyParamCaption})}



Attempt to get a task from the mailbox. 

Gets a task only if it has not been executed by its sender or a thief that has stolen it from the sender\textquotesingle{}s task pool. Otherwise returns NULL.

This method is intended to be used only by the thread extracting the proxy from its mailbox. (In contrast to local task pool, mailbox can be read only by its owner). 函数调用图\+:
% FIG 18
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a10c72a4aad7308d944cef26502ece55e}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!get\_task@{get\_task}}
\index{get\_task@{get\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{get\_task()}{get\_task()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a10c72a4aad7308d944cef26502ece55e} 
task \texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::get\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{scheduler__common_8h_a63e9a35b6d2bfbfb21b3199dc03acc6d}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+EXPR}}(isolation\+\_\+tag isolation)}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get a task from the local pool. 

Called only by the pool owner. Returns the pointer to the task or NULL if a suitable task is not found. Resets the pool if it is empty. 函数调用图\+:
% FIG 19
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_aad832dcce47939c2fd150a0e63a395ec}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!get\_task@{get\_task}}
\index{get\_task@{get\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{get\_task()}{get\_task()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_aad832dcce47939c2fd150a0e63a395ec} 
task \texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::get\+\_\+task (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{T}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get a task from the local pool at specified location T. 

Returns the pointer to the task or NULL if the task cannot be executed, e.\+g. proxy has been deallocated or isolation constraint is not met. tasks\+\_\+omitted tells if some tasks have been omitted. Called only by the pool owner. The caller should guarantee that the position T is not available for a thief. 函数调用图\+:
% FIG 20
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_afd799eae7903abc75b7a7aafd36e20db}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!init\_stack\_info@{init\_stack\_info}}
\index{init\_stack\_info@{init\_stack\_info}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{init\_stack\_info()}{init\_stack\_info()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_afd799eae7903abc75b7a7aafd36e20db} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::init\+\_\+stack\+\_\+info (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Sets up the data necessary for the stealing limiting heuristics 

函数调用图\+:
% FIG 21
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a74b022285a6ff04a9ea2957999d4def3}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!is\_local\_task\_pool\_quiescent@{is\_local\_task\_pool\_quiescent}}
\index{is\_local\_task\_pool\_quiescent@{is\_local\_task\_pool\_quiescent}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{is\_local\_task\_pool\_quiescent()}{is\_local\_task\_pool\_quiescent()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a74b022285a6ff04a9ea2957999d4def3} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::is\+\_\+local\+\_\+task\+\_\+pool\+\_\+quiescent (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a868812dd8d875a225a6f589fdbaafe54}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!is\_proxy@{is\_proxy}}
\index{is\_proxy@{is\_proxy}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{is\_proxy()}{is\_proxy()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a868812dd8d875a225a6f589fdbaafe54} 
static \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::is\+\_\+proxy (\begin{DoxyParamCaption}\item[{const task \&}]{t}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



True if t is a \doxylink{structtbb_1_1internal_1_1task__proxy}{task\+\_\+proxy} 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a52f9f2d835b4d68680887253a597f779}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!is\_quiescent\_local\_task\_pool\_empty@{is\_quiescent\_local\_task\_pool\_empty}}
\index{is\_quiescent\_local\_task\_pool\_empty@{is\_quiescent\_local\_task\_pool\_empty}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{is\_quiescent\_local\_task\_pool\_empty()}{is\_quiescent\_local\_task\_pool\_empty()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a52f9f2d835b4d68680887253a597f779} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::is\+\_\+quiescent\+\_\+local\+\_\+task\+\_\+pool\+\_\+empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:
% FIG 22
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a089d1ca7efe019834cc06e82b4f3d883}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!is\_quiescent\_local\_task\_pool\_reset@{is\_quiescent\_local\_task\_pool\_reset}}
\index{is\_quiescent\_local\_task\_pool\_reset@{is\_quiescent\_local\_task\_pool\_reset}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{is\_quiescent\_local\_task\_pool\_reset()}{is\_quiescent\_local\_task\_pool\_reset()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a089d1ca7efe019834cc06e82b4f3d883} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::is\+\_\+quiescent\+\_\+local\+\_\+task\+\_\+pool\+\_\+reset (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:
% FIG 23
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a1f221aa79878e3962ea2b3eaa7429fe1}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!is\_task\_pool\_published@{is\_task\_pool\_published}}
\index{is\_task\_pool\_published@{is\_task\_pool\_published}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{is\_task\_pool\_published()}{is\_task\_pool\_published()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a1f221aa79878e3962ea2b3eaa7429fe1} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::is\+\_\+task\+\_\+pool\+\_\+published (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a33519b4cf710f8c46129672f79fb6ec4}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!is\_version\_3\_task@{is\_version\_3\_task}}
\index{is\_version\_3\_task@{is\_version\_3\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{is\_version\_3\_task()}{is\_version\_3\_task()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a33519b4cf710f8c46129672f79fb6ec4} 
static \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::is\+\_\+version\+\_\+3\+\_\+task (\begin{DoxyParamCaption}\item[{task \&}]{t}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a24ecab941cdf8ff762126f1c65e5274a}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!is\_worker@{is\_worker}}
\index{is\_worker@{is\_worker}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{is\_worker()}{is\_worker()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a24ecab941cdf8ff762126f1c65e5274a} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::is\+\_\+worker (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



True if running on a worker thread, false otherwise. 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_aad4a3aef975ca2516a81640654a65717}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!leave\_task\_pool@{leave\_task\_pool}}
\index{leave\_task\_pool@{leave\_task\_pool}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{leave\_task\_pool()}{leave\_task\_pool()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_aad4a3aef975ca2516a81640654a65717} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::leave\+\_\+task\+\_\+pool (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Leave the task pool 

Leaving task pool automatically releases the task pool if it is locked. 函数调用图\+:
% FIG 24
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ae43166ffd9d7fb624158872394832f17}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!local\_spawn@{local\_spawn}}
\index{local\_spawn@{local\_spawn}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{local\_spawn()}{local\_spawn()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ae43166ffd9d7fb624158872394832f17} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::local\+\_\+spawn (\begin{DoxyParamCaption}\item[{task \texorpdfstring{$\ast$}{*}}]{first}{, }\item[{task \texorpdfstring{$\ast$}{*}\&}]{next}{}\end{DoxyParamCaption})}

Conceptually, this method should be a member of class scheduler. But doing so would force us to publish class scheduler in the headers. 函数调用图\+:
% FIG 25
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a9dacb8fead5795de1011018b83d68d61}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!local\_spawn\_root\_and\_wait@{local\_spawn\_root\_and\_wait}}
\index{local\_spawn\_root\_and\_wait@{local\_spawn\_root\_and\_wait}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{local\_spawn\_root\_and\_wait()}{local\_spawn\_root\_and\_wait()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a9dacb8fead5795de1011018b83d68d61} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::local\+\_\+spawn\+\_\+root\+\_\+and\+\_\+wait (\begin{DoxyParamCaption}\item[{task \texorpdfstring{$\ast$}{*}}]{first}{, }\item[{task \texorpdfstring{$\ast$}{*}\&}]{next}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 26
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a509997dbb9b97ad2cca0a3af76c04e90}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!local\_wait\_for\_all@{local\_wait\_for\_all}}
\index{local\_wait\_for\_all@{local\_wait\_for\_all}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{local\_wait\_for\_all()}{local\_wait\_for\_all()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a509997dbb9b97ad2cca0a3af76c04e90} 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::local\+\_\+wait\+\_\+for\+\_\+all (\begin{DoxyParamCaption}\item[{task \&}]{parent}{, }\item[{task \texorpdfstring{$\ast$}{*}}]{child}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler_a5e2c5878baf724264214e91070844487}{tbb\+::internal\+::custom\+\_\+scheduler$<$ Scheduler\+Traits $>$}} 内被实现.

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a3def047033ef29c77c43db170a38df2c}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!lock\_task\_pool@{lock\_task\_pool}}
\index{lock\_task\_pool@{lock\_task\_pool}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{lock\_task\_pool()}{lock\_task\_pool()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a3def047033ef29c77c43db170a38df2c} 
task \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::lock\+\_\+task\+\_\+pool (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \texorpdfstring{$\ast$}{*}}]{victim\+\_\+arena\+\_\+slot}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Locks victim\textquotesingle{}s task pool, and returns pointer to it. The pointer can be NULL. 

Garbles victim\+\_\+arena\+\_\+slot-\/\texorpdfstring{$>$}{>}task\+\_\+pool for the duration of the lock.

ATTENTION\+: This method is mostly the same as \doxylink{classtbb_1_1internal_1_1generic__scheduler_ae1cf7dda46c2687a1ea7edacbea10da1}{generic\+\_\+scheduler\+::acquire\+\_\+task\+\_\+pool()}, with a little different logic of slot state checks (slot can be empty, locked or point to any task pool other than ours, and asynchronous transitions between all these states are possible). Thus if any of them is changed, consider changing the counterpart as well 函数调用图\+:
% FIG 27
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a744eb36f568cf2c726a0920494e5579d}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!master\_outermost\_level@{master\_outermost\_level}}
\index{master\_outermost\_level@{master\_outermost\_level}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{master\_outermost\_level()}{master\_outermost\_level()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a744eb36f568cf2c726a0920494e5579d} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::master\+\_\+outermost\+\_\+level (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



True if the scheduler is on the outermost dispatch level in a master thread. 

Returns true when this scheduler instance is associated with an application thread, and is not executing any \doxylink{struct_t_b_b}{TBB} task. This includes being in a \doxylink{struct_t_b_b}{TBB} dispatch loop (one of wait\+\_\+for\+\_\+all methods) invoked directly from that thread. 函数调用图\+:
% FIG 28
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_af2b38fa415abd3f28025e96e5d27995a}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!max\_threads\_in\_arena@{max\_threads\_in\_arena}}
\index{max\_threads\_in\_arena@{max\_threads\_in\_arena}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{max\_threads\_in\_arena()}{max\_threads\_in\_arena()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_af2b38fa415abd3f28025e96e5d27995a} 
unsigned tbb\+::internal\+::generic\+\_\+scheduler\+::max\+\_\+threads\+\_\+in\+\_\+arena (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Returns the concurrency limit of the current arena. 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a7c98d05ea5c1e309b836335ea9af79fa}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!nested\_arena\_entry@{nested\_arena\_entry}}
\index{nested\_arena\_entry@{nested\_arena\_entry}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{nested\_arena\_entry()}{nested\_arena\_entry()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a7c98d05ea5c1e309b836335ea9af79fa} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::nested\+\_\+arena\+\_\+entry (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}}]{a}{, }\item[{size\+\_\+t}]{slot\+\_\+index}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 29
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ab80a47a82aea82a8ad418fbc36887ac9}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!nested\_arena\_exit@{nested\_arena\_exit}}
\index{nested\_arena\_exit@{nested\_arena\_exit}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{nested\_arena\_exit()}{nested\_arena\_exit()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ab80a47a82aea82a8ad418fbc36887ac9} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::nested\+\_\+arena\+\_\+exit (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 30
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ab09f5bf82f328f50d815d38f8d553f5f}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!outermost\_level@{outermost\_level}}
\index{outermost\_level@{outermost\_level}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{outermost\_level()}{outermost\_level()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ab09f5bf82f328f50d815d38f8d553f5f} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::outermost\+\_\+level (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



True if the scheduler is on the outermost dispatch level. 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a190c2087092b3e0f2a39b01c7cc27e93}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!plugged\_return\_list@{plugged\_return\_list}}
\index{plugged\_return\_list@{plugged\_return\_list}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{plugged\_return\_list()}{plugged\_return\_list()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a190c2087092b3e0f2a39b01c7cc27e93} 
static task \texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::plugged\+\_\+return\+\_\+list (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Special value used to mark my\+\_\+return\+\_\+list as not taking any more entries. 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a8a62642cb4b1ba391b8d3b9a00dca541}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!prepare\_for\_spawning@{prepare\_for\_spawning}}
\index{prepare\_for\_spawning@{prepare\_for\_spawning}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{prepare\_for\_spawning()}{prepare\_for\_spawning()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a8a62642cb4b1ba391b8d3b9a00dca541} 
task \texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::prepare\+\_\+for\+\_\+spawning (\begin{DoxyParamCaption}\item[{task \texorpdfstring{$\ast$}{*}}]{t}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Checks if t is affinitized to another thread, and if so, bundles it as proxy. 

Returns either t or proxy containing t. 函数调用图\+:
% FIG 31
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a0460616fb84af745b12688927ff1bb7d}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!prepare\_task\_pool@{prepare\_task\_pool}}
\index{prepare\_task\_pool@{prepare\_task\_pool}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{prepare\_task\_pool()}{prepare\_task\_pool()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a0460616fb84af745b12688927ff1bb7d} 
size\+\_\+t tbb\+::internal\+::generic\+\_\+scheduler\+::prepare\+\_\+task\+\_\+pool (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Makes sure that the task pool can accommodate at least n more elements 

If necessary relocates existing task pointers or grows the ready task deque. Returns (possible updated) tail index (not accounting for n). 函数调用图\+:
% FIG 32
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_af222cccbf09e91c9c9caaad81f8d993d}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!publish\_task\_pool@{publish\_task\_pool}}
\index{publish\_task\_pool@{publish\_task\_pool}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{publish\_task\_pool()}{publish\_task\_pool()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_af222cccbf09e91c9c9caaad81f8d993d} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::publish\+\_\+task\+\_\+pool (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Used by workers to enter the task pool 

Does not lock the task pool in case if arena slot has been successfully grabbed. \Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ad29196fee133a26e00bd8271fdb034b0}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!receive\_or\_steal\_task@{receive\_or\_steal\_task}}
\index{receive\_or\_steal\_task@{receive\_or\_steal\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{receive\_or\_steal\_task()}{receive\_or\_steal\_task()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ad29196fee133a26e00bd8271fdb034b0} 
virtual task \texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::receive\+\_\+or\+\_\+steal\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(\+\_\+\+\_\+\+TBB\+\_\+atomic reference\+\_\+count \&completion\+\_\+ref\+\_\+count, isolation\+\_\+tag isolation)}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Try getting a task from other threads (via mailbox, stealing, FIFO queue, orphans adoption). 

Returns obtained task or NULL if all attempts fail. 

在 \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler_a3825613e3650d5a9110b9b9f5ee4a3e9}{tbb\+::internal\+::custom\+\_\+scheduler$<$ Scheduler\+Traits $>$}} 内被实现.

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a6ff28eab04933075791b16075ceb5950}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!release\_task\_pool@{release\_task\_pool}}
\index{release\_task\_pool@{release\_task\_pool}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{release\_task\_pool()}{release\_task\_pool()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a6ff28eab04933075791b16075ceb5950} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::release\+\_\+task\+\_\+pool (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Unlocks the local task pool 

Restores my\+\_\+arena\+\_\+slot-\/\texorpdfstring{$>$}{>}task\+\_\+pool munged by acquire\+\_\+task\+\_\+pool. Requires correctly set my\+\_\+arena\+\_\+slot-\/\texorpdfstring{$>$}{>}task\+\_\+pool\+\_\+ptr. 函数调用图\+:
% FIG 33
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ad8f6a6793961db84240434fffd7b50f3}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!reset\_task\_pool\_and\_leave@{reset\_task\_pool\_and\_leave}}
\index{reset\_task\_pool\_and\_leave@{reset\_task\_pool\_and\_leave}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{reset\_task\_pool\_and\_leave()}{reset\_task\_pool\_and\_leave()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ad8f6a6793961db84240434fffd7b50f3} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::reset\+\_\+task\+\_\+pool\+\_\+and\+\_\+leave (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Resets head and tail indices to 0, and leaves task pool 

The task pool must be locked by the owner (via acquire\+\_\+task\+\_\+pool). 函数调用图\+:
% FIG 34
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a4d51eca32dc45cba3e0ec161240bfaca}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!spawn@{spawn}}
\index{spawn@{spawn}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{spawn()}{spawn()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a4d51eca32dc45cba3e0ec161240bfaca} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::spawn (\begin{DoxyParamCaption}\item[{task \&}]{first}{, }\item[{task \texorpdfstring{$\ast$}{*}\&}]{next}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 35
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a6e0b5fdf74860259585e55f7bf2edb8e}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!spawn\_root\_and\_wait@{spawn\_root\_and\_wait}}
\index{spawn\_root\_and\_wait@{spawn\_root\_and\_wait}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{spawn\_root\_and\_wait()}{spawn\_root\_and\_wait()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a6e0b5fdf74860259585e55f7bf2edb8e} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::spawn\+\_\+root\+\_\+and\+\_\+wait (\begin{DoxyParamCaption}\item[{task \&}]{first}{, }\item[{task \texorpdfstring{$\ast$}{*}\&}]{next}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 36
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_abb8f3f3967170ca9398e55b90220c3cb}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!steal\_task@{steal\_task}}
\index{steal\_task@{steal\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{steal\_task()}{steal\_task()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_abb8f3f3967170ca9398e55b90220c3cb} 
task \texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::steal\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{scheduler__common_8h_a63e9a35b6d2bfbfb21b3199dc03acc6d}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+EXPR}}(isolation\+\_\+tag isolation)}]{}{}\end{DoxyParamCaption})}



Attempts to steal a task from a randomly chosen thread/scheduler 

函数调用图\+:
% FIG 37
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a15b506cb1b1da8e37255fc2fcdf250f0}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!steal\_task\_from@{steal\_task\_from}}
\index{steal\_task\_from@{steal\_task\_from}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{steal\_task\_from()}{steal\_task\_from()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a15b506cb1b1da8e37255fc2fcdf250f0} 
task \texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::steal\+\_\+task\+\_\+from (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{scheduler__common_8h_ae8bf2edd69c1485ce30d4e88cc7e27d2}{\+\_\+\+\_\+\+TBB\+\_\+\+ISOLATION\+\_\+\+ARG}}(\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \&victim\+\_\+arena\+\_\+slot, isolation\+\_\+tag isolation)}]{}{}\end{DoxyParamCaption})}



Steal task from another scheduler\textquotesingle{}s ready pool. 

函数调用图\+:
% FIG 38
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a9deee19e39b49b7e1f44c87533600b46}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!unlock\_task\_pool@{unlock\_task\_pool}}
\index{unlock\_task\_pool@{unlock\_task\_pool}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{unlock\_task\_pool()}{unlock\_task\_pool()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a9deee19e39b49b7e1f44c87533600b46} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::unlock\+\_\+task\+\_\+pool (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtbb_1_1internal_1_1arena__slot}{arena\+\_\+slot}} \texorpdfstring{$\ast$}{*}}]{victim\+\_\+arena\+\_\+slot}{, }\item[{task \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{victim\+\_\+task\+\_\+pool}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Unlocks victim\textquotesingle{}s task pool 

Restores victim\+\_\+arena\+\_\+slot-\/\texorpdfstring{$>$}{>}task\+\_\+pool munged by lock\+\_\+task\+\_\+pool. \Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a2a0f285acb9cfb21b7df95a386bd6860}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!wait\_until\_empty@{wait\_until\_empty}}
\index{wait\_until\_empty@{wait\_until\_empty}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{wait\_until\_empty()}{wait\_until\_empty()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a2a0f285acb9cfb21b7df95a386bd6860} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::generic\+\_\+scheduler\+::wait\+\_\+until\+\_\+empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 39
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_aec76a489fe5368ede0d1658cbb74984b}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!worker\_outermost\_level@{worker\_outermost\_level}}
\index{worker\_outermost\_level@{worker\_outermost\_level}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{worker\_outermost\_level()}{worker\_outermost\_level()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_aec76a489fe5368ede0d1658cbb74984b} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::worker\+\_\+outermost\+\_\+level (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



True if the scheduler is on the outermost dispatch level in a worker thread. 

函数调用图\+:
% FIG 40


\doxysubsection{友元及相关符号说明}
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a276a67d14225fdfbb225cc85299850e3}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!custom\_scheduler@{custom\_scheduler}}
\index{custom\_scheduler@{custom\_scheduler}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{custom\_scheduler}{custom\_scheduler}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a276a67d14225fdfbb225cc85299850e3} 
template$<$typename Scheduler\+Traits$>$ \\
friend class \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{custom\+\_\+scheduler}}\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{类成员变量说明}
\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a1190ee0529a9280846bd50c4f50c8398}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!min\_task\_pool\_size@{min\_task\_pool\_size}}
\index{min\_task\_pool\_size@{min\_task\_pool\_size}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{min\_task\_pool\_size}{min\_task\_pool\_size}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a1190ee0529a9280846bd50c4f50c8398} 
const size\+\_\+t tbb\+::internal\+::generic\+\_\+scheduler\+::min\+\_\+task\+\_\+pool\+\_\+size = 64\hspace{0.3cm}{\ttfamily [static]}}

Initial size of the task deque sufficient to serve without reallocation 4 nested parallel\+\_\+for calls with iteration space of 65535 grains each. \Hypertarget{classtbb_1_1internal_1_1generic__scheduler_afb5b021643394b6d3f743bea9cb5e2bd}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!my\_auto\_initialized@{my\_auto\_initialized}}
\index{my\_auto\_initialized@{my\_auto\_initialized}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{my\_auto\_initialized}{my\_auto\_initialized}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_afb5b021643394b6d3f743bea9cb5e2bd} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::generic\+\_\+scheduler\+::my\+\_\+auto\+\_\+initialized}



True if \texorpdfstring{$\ast$}{*}this was created by automatic \doxylink{struct_t_b_b}{TBB} initialization 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_abc495d5b077a2ef1b05e15e820555d90}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!my\_dummy\_task@{my\_dummy\_task}}
\index{my\_dummy\_task@{my\_dummy\_task}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{my\_dummy\_task}{my\_dummy\_task}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_abc495d5b077a2ef1b05e15e820555d90} 
task\texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::my\+\_\+dummy\+\_\+task}



Fake root task created by slave threads. 

The task is used as the "{}parent"{} argument to method wait\+\_\+for\+\_\+all. \Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a52ed26dede8410a72f37bce24cb26239}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!my\_free\_list@{my\_free\_list}}
\index{my\_free\_list@{my\_free\_list}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{my\_free\_list}{my\_free\_list}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a52ed26dede8410a72f37bce24cb26239} 
task\texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::my\+\_\+free\+\_\+list}



Free list of small tasks that can be reused. 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ac652e4a610353888a31352e678955e1b}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!my\_market@{my\_market}}
\index{my\_market@{my\_market}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{my\_market}{my\_market}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ac652e4a610353888a31352e678955e1b} 
\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}}\texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::my\+\_\+market}



The market I am in 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_aee56a8b51b71d3f96f9c8cacf00fe845}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!my\_random@{my\_random}}
\index{my\_random@{my\_random}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{my\_random}{my\_random}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_aee56a8b51b71d3f96f9c8cacf00fe845} 
\mbox{\hyperlink{classtbb_1_1internal_1_1_fast_random}{Fast\+Random}} tbb\+::internal\+::generic\+\_\+scheduler\+::my\+\_\+random}



Random number generator used for picking a random victim from which to steal. 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a8cf8d776a439320e1e001381cf5d4ad7}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!my\_ref\_count@{my\_ref\_count}}
\index{my\_ref\_count@{my\_ref\_count}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{my\_ref\_count}{my\_ref\_count}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a8cf8d776a439320e1e001381cf5d4ad7} 
long tbb\+::internal\+::generic\+\_\+scheduler\+::my\+\_\+ref\+\_\+count}



Reference count for scheduler 

\doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of \doxylink{classtbb_1_1task__scheduler__init}{task\+\_\+scheduler\+\_\+init} objects that point to this scheduler \Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ab5777a002f8b7b3a72cb7fc4a477fb29}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!my\_return\_list@{my\_return\_list}}
\index{my\_return\_list@{my\_return\_list}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{my\_return\_list}{my\_return\_list}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ab5777a002f8b7b3a72cb7fc4a477fb29} 
task\texorpdfstring{$\ast$}{*} tbb\+::internal\+::generic\+\_\+scheduler\+::my\+\_\+return\+\_\+list}



\doxylink{class_list}{List} of small tasks that have been returned to this scheduler by other schedulers. 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_a4bd421a07fae7a1c9e3fa49e005bb513}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!my\_small\_task\_count@{my\_small\_task\_count}}
\index{my\_small\_task\_count@{my\_small\_task\_count}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{my\_small\_task\_count}{my\_small\_task\_count}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_a4bd421a07fae7a1c9e3fa49e005bb513} 
\+\_\+\+\_\+\+TBB\+\_\+atomic intptr\+\_\+t tbb\+::internal\+::generic\+\_\+scheduler\+::my\+\_\+small\+\_\+task\+\_\+count}



\doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of small tasks that have been allocated by this scheduler. 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_ade9f23ce97db8725a9c3718e76aa682d}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!my\_stealing\_threshold@{my\_stealing\_threshold}}
\index{my\_stealing\_threshold@{my\_stealing\_threshold}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{my\_stealing\_threshold}{my\_stealing\_threshold}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_ade9f23ce97db8725a9c3718e76aa682d} 
uintptr\+\_\+t tbb\+::internal\+::generic\+\_\+scheduler\+::my\+\_\+stealing\+\_\+threshold}



Position in the call stack specifying its maximal filling when stealing is still allowed 

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_afae85a4245c85c65c3cd51e63125f23e}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!null\_arena\_index@{null\_arena\_index}}
\index{null\_arena\_index@{null\_arena\_index}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{null\_arena\_index}{null\_arena\_index}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_afae85a4245c85c65c3cd51e63125f23e} 
const size\+\_\+t tbb\+::internal\+::generic\+\_\+scheduler\+::null\+\_\+arena\+\_\+index = \texorpdfstring{$\sim$}{\string~}size\+\_\+t(0)\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{classtbb_1_1internal_1_1generic__scheduler_afbb75edc69c2ed1bcbf70098ca24a523}\index{tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}!quick\_task\_size@{quick\_task\_size}}
\index{quick\_task\_size@{quick\_task\_size}!tbb::internal::generic\_scheduler@{tbb::internal::generic\_scheduler}}
\doxysubsubsection{\texorpdfstring{quick\_task\_size}{quick\_task\_size}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1generic__scheduler_afbb75edc69c2ed1bcbf70098ca24a523} 
const size\+\_\+t tbb\+::internal\+::generic\+\_\+scheduler\+::quick\+\_\+task\+\_\+size = 256-\/\mbox{\hyperlink{namespacetbb_1_1internal_a0630d59441f75e740be0b003d2922df8}{task\+\_\+prefix\+\_\+reservation\+\_\+size}}\hspace{0.3cm}{\ttfamily [static]}}



If sizeof(task) is \texorpdfstring{$<$}{<}=quick\+\_\+task\+\_\+size, it is handled on a free list instead of malloc\textquotesingle{}d. 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/src/tbb/\mbox{\hyperlink{scheduler_8h}{scheduler.\+h}}\item 
external/taskflow/3rd-\/party/tbb/src/tbb/\mbox{\hyperlink{arena_8cpp}{arena.\+cpp}}\item 
external/taskflow/3rd-\/party/tbb/src/tbb/\mbox{\hyperlink{scheduler_8cpp}{scheduler.\+cpp}}\end{DoxyCompactItemize}
