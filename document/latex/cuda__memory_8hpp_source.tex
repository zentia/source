\doxysection{cuda\+\_\+memory.\+hpp}
\hypertarget{cuda__memory_8hpp_source}{}\label{cuda__memory_8hpp_source}\index{external/taskflow/taskflow/cuda/cuda\_memory.hpp@{external/taskflow/taskflow/cuda/cuda\_memory.hpp}}
\mbox{\hyperlink{cuda__memory_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cuda__device_8hpp}{cuda\_device.hpp}}"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetf}{tf}}\ \{}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ memory}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacetf_a1effcf929b7e488925f9e12d74c8c62b}{cuda\_get\_free\_mem}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}})\ \{}
\DoxyCodeLine{00020\ \ \ \mbox{\hyperlink{classtf_1_1cuda_scoped_device}{cudaScopedDevice}}\ ctx(\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}});}
\DoxyCodeLine{00021\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}},\ total;}
\DoxyCodeLine{00022\ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(}
\DoxyCodeLine{00023\ \ \ \ \ cudaMemGetInfo(\&\mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}},\ \&total),\ \textcolor{stringliteral}{"{}failed\ to\ get\ mem\ info\ on\ device\ "{}},\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}}}
\DoxyCodeLine{00024\ \ \ );}
\DoxyCodeLine{00025\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}};}
\DoxyCodeLine{00026\ \}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00031\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacetf_a58bbc8d5d955582d6b5f7fdac51d010b}{cuda\_get\_total\_mem}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}})\ \{}
\DoxyCodeLine{00032\ \ \ \mbox{\hyperlink{classtf_1_1cuda_scoped_device}{cudaScopedDevice}}\ ctx(\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}});}
\DoxyCodeLine{00033\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}},\ total;}
\DoxyCodeLine{00034\ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(}
\DoxyCodeLine{00035\ \ \ \ \ cudaMemGetInfo(\&\mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}},\ \&total),\ \textcolor{stringliteral}{"{}failed\ to\ get\ mem\ info\ on\ device\ "{}},\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}}}
\DoxyCodeLine{00036\ \ \ );}
\DoxyCodeLine{00037\ \ \ \textcolor{keywordflow}{return}\ total;}
\DoxyCodeLine{00038\ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00047\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00048\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{namespacetf_a2548e58af071bf1dbbbc945c84f237c9}{cuda\_malloc\_device}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}})\ \{}
\DoxyCodeLine{00049\ \ \ \mbox{\hyperlink{classtf_1_1cuda_scoped_device}{cudaScopedDevice}}\ ctx(\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}});}
\DoxyCodeLine{00050\ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ \{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00051\ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(}
\DoxyCodeLine{00052\ \ \ \ \ cudaMalloc(\&\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}})),}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{stringliteral}{"{}failed\ to\ allocate\ memory\ ("{}},\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}),\ \textcolor{stringliteral}{"{}bytes)\ on\ device\ "{}},\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}}}
\DoxyCodeLine{00054\ \ \ )}
\DoxyCodeLine{00055\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}};}
\DoxyCodeLine{00056\ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00064\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00065\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{namespacetf_a2548e58af071bf1dbbbc945c84f237c9}{cuda\_malloc\_device}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}})\ \{}
\DoxyCodeLine{00066\ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ \{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00067\ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(}
\DoxyCodeLine{00068\ \ \ \ \ cudaMalloc(\&\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}})),\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{stringliteral}{"{}failed\ to\ allocate\ memory\ ("{}},\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}),\ \textcolor{stringliteral}{"{}bytes)"{}}}
\DoxyCodeLine{00070\ \ \ )}
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}};}
\DoxyCodeLine{00072\ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00080\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00081\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{namespacetf_ad289846c38e3f122e1315d906243fc8b}{cuda\_malloc\_shared}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}})\ \{}
\DoxyCodeLine{00082\ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ \{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00083\ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(}
\DoxyCodeLine{00084\ \ \ \ \ cudaMallocManaged(\&\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}})),}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{stringliteral}{"{}failed\ to\ allocate\ shared\ memory\ ("{}},\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}),\ \textcolor{stringliteral}{"{}bytes)"{}}}
\DoxyCodeLine{00086\ \ \ )}
\DoxyCodeLine{00087\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}};}
\DoxyCodeLine{00088\ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00100\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00101\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacetf_ac7a8fe7456b888d6072ba94783c5003c}{cuda\_free}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}})\ \{}
\DoxyCodeLine{00102\ \ \ \mbox{\hyperlink{classtf_1_1cuda_scoped_device}{cudaScopedDevice}}\ ctx(\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}});}
\DoxyCodeLine{00103\ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(cudaFree(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}),\ \textcolor{stringliteral}{"{}failed\ to\ free\ memory\ "{}},\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \textcolor{stringliteral}{"{}\ on\ GPU\ "{}},\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}});}
\DoxyCodeLine{00104\ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00115\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00116\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacetf_ac7a8fe7456b888d6072ba94783c5003c}{cuda\_free}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{}
\DoxyCodeLine{00117\ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(cudaFree(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}),\ \textcolor{stringliteral}{"{}failed\ to\ free\ memory\ "{}},\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00118\ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00132\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacetf_aa4266474b921f8ed7d9ec8071fded2a4}{cuda\_memcpy\_async}}(}
\DoxyCodeLine{00133\ \ \ cudaStream\_t\ stream,\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}}}
\DoxyCodeLine{00134\ )\ \{}
\DoxyCodeLine{00135\ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(}
\DoxyCodeLine{00136\ \ \ \ \ cudaMemcpyAsync(\mbox{\hyperlink{shortpath_8cpp_a720827d53e80d32b23f708768099d331}{dst}},\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}},\ cudaMemcpyDefault,\ stream),}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{stringliteral}{"{}failed\ to\ perform\ cudaMemcpyAsync"{}}}
\DoxyCodeLine{00138\ \ \ );}
\DoxyCodeLine{00139\ \}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00153\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacetf_a6615554d2954e895755411ee444d9760}{cuda\_memset\_async}}(}
\DoxyCodeLine{00154\ \ \ cudaStream\_t\ stream,\ \textcolor{keywordtype}{void}*\ devPtr,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}}}
\DoxyCodeLine{00155\ )\{}
\DoxyCodeLine{00156\ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(}
\DoxyCodeLine{00157\ \ \ \ \ cudaMemsetAsync(devPtr,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}},\ stream),}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{stringliteral}{"{}failed\ to\ perform\ cudaMemsetAsync"{}}}
\DoxyCodeLine{00159\ \ \ );}
\DoxyCodeLine{00160\ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00163\ \textcolor{comment}{//\ Shared\ Memory}}
\DoxyCodeLine{00164\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00165\ \textcolor{comment}{//}}
\DoxyCodeLine{00166\ \textcolor{comment}{//\ Because\ dynamically\ sized\ shared\ memory\ arrays\ are\ declared\ "{}extern"{},}}
\DoxyCodeLine{00167\ \textcolor{comment}{//\ we\ can't\ templatize\ them\ directly.\ \ To\ get\ around\ this,\ we\ declare\ a}}
\DoxyCodeLine{00168\ \textcolor{comment}{//\ simple\ wrapper\ struct\ that\ will\ declare\ the\ extern\ array\ with\ a\ different}}
\DoxyCodeLine{00169\ \textcolor{comment}{//\ name\ depending\ on\ the\ type.\ \ This\ avoids\ compiler\ errors\ about\ duplicate}}
\DoxyCodeLine{00170\ \textcolor{comment}{//\ definitions.}}
\DoxyCodeLine{00171\ \textcolor{comment}{//}}
\DoxyCodeLine{00172\ \textcolor{comment}{//\ To\ use\ dynamically\ allocated\ shared\ memory\ in\ a\ templatized\ \_\_global\_\_\ or}}
\DoxyCodeLine{00173\ \textcolor{comment}{//\ \_\_device\_\_\ function,\ just\ replace\ code\ like\ this:}}
\DoxyCodeLine{00174\ \textcolor{comment}{//}}
\DoxyCodeLine{00175\ \textcolor{comment}{//\ \ template<class\ T>}}
\DoxyCodeLine{00176\ \textcolor{comment}{//\ \ \_\_global\_\_\ void}}
\DoxyCodeLine{00177\ \textcolor{comment}{//\ \ foo(\ T*\ g\_idata,\ T*\ g\_odata)}}
\DoxyCodeLine{00178\ \textcolor{comment}{//\ \ \{}}
\DoxyCodeLine{00179\ \textcolor{comment}{//\ \ \ \ \ \ //\ Shared\ mem\ size\ is\ determined\ by\ the\ host\ app\ at\ run\ time}}
\DoxyCodeLine{00180\ \textcolor{comment}{//\ \ \ \ \ \ extern\ \_\_shared\_\_\ \ T\ sdata[];}}
\DoxyCodeLine{00181\ \textcolor{comment}{//\ \ \ \ \ \ ...}}
\DoxyCodeLine{00182\ \textcolor{comment}{//\ \ \ \ \ \ doStuff(sdata);}}
\DoxyCodeLine{00183\ \textcolor{comment}{//\ \ \ \ \ \ ...}}
\DoxyCodeLine{00184\ \textcolor{comment}{//\ \ \ \}}}
\DoxyCodeLine{00185\ \textcolor{comment}{//}}
\DoxyCodeLine{00186\ \textcolor{comment}{//\ \ With\ this:}}
\DoxyCodeLine{00187\ \textcolor{comment}{//}}
\DoxyCodeLine{00188\ \textcolor{comment}{//\ \ template<class\ T>}}
\DoxyCodeLine{00189\ \textcolor{comment}{//\ \ \_\_global\_\_\ void}}
\DoxyCodeLine{00190\ \textcolor{comment}{//\ \ foo(\ T*\ g\_idata,\ T*\ g\_odata)}}
\DoxyCodeLine{00191\ \textcolor{comment}{//\ \ \{}}
\DoxyCodeLine{00192\ \textcolor{comment}{//\ \ \ \ \ \ //\ Shared\ mem\ size\ is\ determined\ by\ the\ host\ app\ at\ run\ time}}
\DoxyCodeLine{00193\ \textcolor{comment}{//\ \ \ \ \ \ cudaSharedMemory<T>\ smem;}}
\DoxyCodeLine{00194\ \textcolor{comment}{//\ \ \ \ \ \ T*\ sdata\ =\ smem.get();}}
\DoxyCodeLine{00195\ \textcolor{comment}{//\ \ \ \ \ \ ...}}
\DoxyCodeLine{00196\ \textcolor{comment}{//\ \ \ \ \ \ doStuff(sdata);}}
\DoxyCodeLine{00197\ \textcolor{comment}{//\ \ \ \ \ \ ...}}
\DoxyCodeLine{00198\ \textcolor{comment}{//\ \ \ \}}}
\DoxyCodeLine{00199\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \textcolor{comment}{//\ This\ is\ the\ un-\/specialized\ struct.\ \ Note\ that\ we\ prevent\ instantiation\ of\ this}}
\DoxyCodeLine{00202\ \textcolor{comment}{//\ struct\ by\ putting\ an\ undefined\ symbol\ in\ the\ function\ body\ so\ it\ won't\ compile.}}
\DoxyCodeLine{00206\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00207\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}}
\DoxyCodeLine{00208\ \{}
\DoxyCodeLine{00209\ \ \ \textcolor{comment}{//\ Ensure\ that\ we\ won't\ compile\ any\ un-\/specialized\ types}}
\DoxyCodeLine{00210\ \ \ \_\_device\_\_\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_a0f5bfaf5b9f02c8508979c0684876d38}{get}}()}
\DoxyCodeLine{00211\ \ \ \{}
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_device\_\_\ \textcolor{keywordtype}{void}\ error(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00213\ \ \ \ \ error();}
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00215\ \ \ \}}
\DoxyCodeLine{00216\ \};}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \textcolor{comment}{//\ Following\ are\ the\ specializations\ for\ the\ following\ types.}}
\DoxyCodeLine{00219\ \textcolor{comment}{//\ int,\ uint,\ char,\ uchar,\ short,\ ushort,\ long,\ ulong,\ bool,\ float,\ and\ double}}
\DoxyCodeLine{00220\ \textcolor{comment}{//\ One\ could\ also\ specialize\ it\ for\ user-\/defined\ types.}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00225\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00226\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}>}
\DoxyCodeLine{00227\ \{}
\DoxyCodeLine{00228\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01int_01_4_ac3e3b4bdeb144e1874d6335e730e06f4}{get}}()}
\DoxyCodeLine{00229\ \ \ \{}
\DoxyCodeLine{00230\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{int}\ s\_int[];}
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_int;}
\DoxyCodeLine{00232\ \ \ \}}
\DoxyCodeLine{00233\ \};}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00238\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00239\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <unsigned\ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}>}
\DoxyCodeLine{00240\ \{}
\DoxyCodeLine{00241\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01unsigned_01int_01_4_ad4f3c499c9fe57b473094ed05e58d435}{get}}()}
\DoxyCodeLine{00242\ \ \ \{}
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ s\_uint[];}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_uint;}
\DoxyCodeLine{00245\ \ \ \}}
\DoxyCodeLine{00246\ \};}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00251\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00252\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <char>}
\DoxyCodeLine{00253\ \{}
\DoxyCodeLine{00254\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01char_01_4_aff76a6dc1a29ada8449b2c77178926c2}{get}}()}
\DoxyCodeLine{00255\ \ \ \{}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{char}\ s\_char[];}
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_char;}
\DoxyCodeLine{00258\ \ \ \}}
\DoxyCodeLine{00259\ \};}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00264\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00265\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <unsigned\ char>}
\DoxyCodeLine{00266\ \{}
\DoxyCodeLine{00267\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01unsigned_01char_01_4_ad4ad42385e3381d91bdb2a259f7f2f3a}{get}}()}
\DoxyCodeLine{00268\ \ \ \{}
\DoxyCodeLine{00269\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ s\_uchar[];}
\DoxyCodeLine{00270\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_uchar;}
\DoxyCodeLine{00271\ \ \ \}}
\DoxyCodeLine{00272\ \};}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00277\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00278\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <\mbox{\hyperlink{sugar_8h_a98b46ebc5db8634abbe815de6beee009}{short}}>}
\DoxyCodeLine{00279\ \{}
\DoxyCodeLine{00280\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{short}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01short_01_4_a80185daf907b0ec4d926dbe86adfc76a}{get}}()}
\DoxyCodeLine{00281\ \ \ \{}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{short}\ s\_short[];}
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_short;}
\DoxyCodeLine{00284\ \ \ \}}
\DoxyCodeLine{00285\ \};}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00290\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00291\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <unsigned\ \mbox{\hyperlink{sugar_8h_a98b46ebc5db8634abbe815de6beee009}{short}}>}
\DoxyCodeLine{00292\ \{}
\DoxyCodeLine{00293\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01unsigned_01short_01_4_aa5ed1b824af8fb393497efb60fb54b81}{get}}()}
\DoxyCodeLine{00294\ \ \ \{}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ s\_ushort[];}
\DoxyCodeLine{00296\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_ushort;}
\DoxyCodeLine{00297\ \ \ \}}
\DoxyCodeLine{00298\ \};}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00303\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00304\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <long>}
\DoxyCodeLine{00305\ \{}
\DoxyCodeLine{00306\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{long}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01long_01_4_a7c794f89b25f10b359e3a616641dfee5}{get}}()}
\DoxyCodeLine{00307\ \ \ \{}
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{long}\ s\_long[];}
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_long;}
\DoxyCodeLine{00310\ \ \ \}}
\DoxyCodeLine{00311\ \};}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00316\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00317\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <unsigned\ long>}
\DoxyCodeLine{00318\ \{}
\DoxyCodeLine{00319\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01unsigned_01long_01_4_a45caa5a594067871a6c94ac9dc9c0ef8}{get}}()}
\DoxyCodeLine{00320\ \ \ \{}
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ s\_ulong[];}
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_ulong;}
\DoxyCodeLine{00323\ \ \ \}}
\DoxyCodeLine{00324\ \};}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \textcolor{comment}{//template\ <>}}
\DoxyCodeLine{00327\ \textcolor{comment}{//struct\ cudaSharedMemory\ <size\_t>}}
\DoxyCodeLine{00328\ \textcolor{comment}{//\{}}
\DoxyCodeLine{00329\ \textcolor{comment}{//\ \ \_\_device\_\_\ size\_t\ *get()}}
\DoxyCodeLine{00330\ \textcolor{comment}{//\ \ \{}}
\DoxyCodeLine{00331\ \textcolor{comment}{//\ \ \ \ extern\ \_\_shared\_\_\ size\_t\ s\_sizet[];}}
\DoxyCodeLine{00332\ \textcolor{comment}{//\ \ \ \ return\ s\_sizet;}}
\DoxyCodeLine{00333\ \textcolor{comment}{//\ \ \}}}
\DoxyCodeLine{00334\ \textcolor{comment}{//\};}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00339\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00340\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}>}
\DoxyCodeLine{00341\ \{}
\DoxyCodeLine{00342\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{bool}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01bool_01_4_aded22cf723dfdbce975f87b97e22e659}{get}}()}
\DoxyCodeLine{00343\ \ \ \{}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{bool}\ s\_bool[];}
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_bool;}
\DoxyCodeLine{00346\ \ \ \}}
\DoxyCodeLine{00347\ \};}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00352\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00353\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <\mbox{\hyperlink{sugar_8h_a0d954e435550ebcb2035013bfea2db85}{float}}>}
\DoxyCodeLine{00354\ \{}
\DoxyCodeLine{00355\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{float}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01float_01_4_a03624ec22033f2dd90060923cb2aee92}{get}}()}
\DoxyCodeLine{00356\ \ \ \{}
\DoxyCodeLine{00357\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{float}\ s\_float[];}
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_float;}
\DoxyCodeLine{00359\ \ \ \}}
\DoxyCodeLine{00360\ \};}
\DoxyCodeLine{00361\ }
\DoxyCodeLine{00365\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00366\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_shared_memory}{cudaSharedMemory}}\ <double>}
\DoxyCodeLine{00367\ \{}
\DoxyCodeLine{00368\ \ \ \_\_device\_\_\ \textcolor{keywordtype}{double}\ *\mbox{\hyperlink{structtf_1_1cuda_shared_memory_3_01double_01_4_a52bfa2f8718a7a281bc769d1d6d20909}{get}}()}
\DoxyCodeLine{00369\ \ \ \{}
\DoxyCodeLine{00370\ \ \ \ \ \textcolor{keyword}{extern}\ \_\_shared\_\_\ \textcolor{keywordtype}{double}\ s\_double[];}
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{keywordflow}{return}\ s\_double;}
\DoxyCodeLine{00372\ \ \ \}}
\DoxyCodeLine{00373\ \};}
\DoxyCodeLine{00374\ }
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00378\ \textcolor{comment}{//\ cudaDeviceAllocator}}
\DoxyCodeLine{00379\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00392\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00393\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1cuda_device_allocator_a5db2fe60c59fe95ceee94392508f9f82}{cudaDeviceAllocator}}\ \{}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00395\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00396\ }
\DoxyCodeLine{00400\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_device_allocator_a37039db4f27e849c44b361c6d107903c}{value\_type}}\ =\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}};}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00405\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_device_allocator_a68c29bda337094fcb9fc6f3e9445ca9c}{pointer}}\ =\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*;}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00410\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_device_allocator_aef9d9622074af9b3ce50b5a63346998b}{reference}}\ =\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&;}
\DoxyCodeLine{00411\ }
\DoxyCodeLine{00415\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_device_allocator_a3cce1e14aad82c9444ab3076a8f35482}{const\_pointer}}\ =\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*;}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00420\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_device_allocator_a449d07320a94b00d4b09fa0f4e1ce399}{const\_reference}}\ =\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&;}
\DoxyCodeLine{00421\ }
\DoxyCodeLine{00425\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_device_allocator_ac4b1781c2f116866927701d931bf8852}{size\_type}}\ =\ std::size\_t;}
\DoxyCodeLine{00426\ \ \ }
\DoxyCodeLine{00430\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_device_allocator_aaacd3b516ceaa9468e40dcf1a048a453}{difference\_type}}\ =\ std::ptrdiff\_t;}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00435\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>\ }
\DoxyCodeLine{00436\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_device_allocator_1_1rebind}{rebind}}\ \{\ }
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structtf_1_1cuda_device_allocator_1_1rebind_a6d0799b927ce743f4fa174c6a9806282}{other}}\ =\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a5db2fe60c59fe95ceee94392508f9f82}{cudaDeviceAllocator<U>}};\ }
\DoxyCodeLine{00441\ \ \ \};\ }
\DoxyCodeLine{00442\ }
\DoxyCodeLine{00446\ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a5db2fe60c59fe95ceee94392508f9f82}{cudaDeviceAllocator}}()\ noexcept\ \{\}}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00451\ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a8c6f5c1a2ad3fb5d933911c18f10397e}{cudaDeviceAllocator}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a5db2fe60c59fe95ceee94392508f9f82}{cudaDeviceAllocator}}\&\ )\ \textcolor{keyword}{noexcept}\ \{\}}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00457\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00458\ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_aba7fc3e232d452c4c474225bdf4adabb}{cudaDeviceAllocator}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a5db2fe60c59fe95ceee94392508f9f82}{cudaDeviceAllocator<U>}}\&\ )\ \textcolor{keyword}{noexcept}\ \{\}}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00463\ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a1c5dd0ea4e5c574e57b804cfff24ec0b}{\string~cudaDeviceAllocator}}()\ noexcept\ \{\}}
\DoxyCodeLine{00464\ }
\DoxyCodeLine{00473\ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a68c29bda337094fcb9fc6f3e9445ca9c}{pointer}}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a3aeae7566c71b25fc5b722f74b68a8f9}{address}}(\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_aef9d9622074af9b3ce50b5a63346998b}{reference}}\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ )\ \{\ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}};\ \}}
\DoxyCodeLine{00474\ }
\DoxyCodeLine{00483\ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a3cce1e14aad82c9444ab3076a8f35482}{const\_pointer}}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_aadbef395cbe886d2be80ba1771992ffb}{address}}(\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a449d07320a94b00d4b09fa0f4e1ce399}{const\_reference}}\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ )\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}};\ \}}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00501\ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a68c29bda337094fcb9fc6f3e9445ca9c}{pointer}}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a9cd24fe35ceef3d5cd386263b20d3093}{allocate}}(\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_ac4b1781c2f116866927701d931bf8852}{size\_type}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ =\ 0\ )}
\DoxyCodeLine{00502\ \ \ \{}
\DoxyCodeLine{00503\ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00504\ \ \ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(}
\DoxyCodeLine{00505\ \ \ \ \ \ \ cudaMalloc(\ \&\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}})\ ),}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}failed\ to\ allocate\ "{}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{stringliteral}{"{}\ elements\ ("{}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}),\ \textcolor{stringliteral}{"{}bytes)"{}}}
\DoxyCodeLine{00507\ \ \ \ \ )}
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classtf_1_1cuda_device_allocator_a68c29bda337094fcb9fc6f3e9445ca9c}{pointer}}\textcolor{keyword}{>}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00509\ \ \ \}}
\DoxyCodeLine{00510\ }
\DoxyCodeLine{00518\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_acb6d952479fda4ac4269b9d40529a0a7}{deallocate}}(\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a68c29bda337094fcb9fc6f3e9445ca9c}{pointer}}\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_ac4b1781c2f116866927701d931bf8852}{size\_type}}\ )}
\DoxyCodeLine{00519\ \ \ \{}
\DoxyCodeLine{00520\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\{}
\DoxyCodeLine{00521\ \ \ \ \ \ \ cudaFree(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00522\ \ \ \ \ \}}
\DoxyCodeLine{00523\ \ \ \}}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00535\ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_ac4b1781c2f116866927701d931bf8852}{size\_type}}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a095d67530352fb7be340775fe0c7b120}{max\_size}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_ac4b1781c2f116866927701d931bf8852}{size\_type}}\ \{-\/1\};\ \}}
\DoxyCodeLine{00536\ }
\DoxyCodeLine{00540\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a280882efd5963a11aa5d79ed491c056e}{construct}}(\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a68c29bda337094fcb9fc6f3e9445ca9c}{pointer}},\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a449d07320a94b00d4b09fa0f4e1ce399}{const\_reference}})\ \{\ \}}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00545\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_af50777c1f25a5766980d8fdbdd250b83}{destroy}}(\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a68c29bda337094fcb9fc6f3e9445ca9c}{pointer}})\ \{\ \}}
\DoxyCodeLine{00546\ \ \ }
\DoxyCodeLine{00554\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00555\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a1038b32b85395c5f2e206221d0f849b7}{operator\ ==\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a5db2fe60c59fe95ceee94392508f9f82}{cudaDeviceAllocator<U>}}\&)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00556\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00557\ \ \ \}}
\DoxyCodeLine{00558\ \ \ }
\DoxyCodeLine{00566\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00567\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_ae31834c1ab0a8a9c88274ff524cebbac}{operator\ !=\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1cuda_device_allocator_a5db2fe60c59fe95ceee94392508f9f82}{cudaDeviceAllocator<U>}}\&)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00568\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00569\ \ \ \}}
\DoxyCodeLine{00570\ }
\DoxyCodeLine{00571\ \};}
\DoxyCodeLine{00572\ }
\DoxyCodeLine{00573\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00574\ \textcolor{comment}{//\ cudaUSMAllocator}}
\DoxyCodeLine{00575\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00576\ }
\DoxyCodeLine{00588\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00589\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a10c30e951b3dab81261c26e91b0ec62b}{cudaUSMAllocator}}\ \{}
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00591\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00592\ }
\DoxyCodeLine{00596\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a4ab981d38c36112b589a3b67c510fc50}{value\_type}}\ =\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}};}
\DoxyCodeLine{00597\ }
\DoxyCodeLine{00601\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a580e704508e250311f4dce9c6413d900}{pointer}}\ =\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*;}
\DoxyCodeLine{00602\ }
\DoxyCodeLine{00606\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_ae700ece72b4eeb0f13f612455878f0a9}{reference}}\ =\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&;}
\DoxyCodeLine{00607\ }
\DoxyCodeLine{00611\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a1bbd56f975fd433c1fd86d5008373ad0}{const\_pointer}}\ =\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*;}
\DoxyCodeLine{00612\ }
\DoxyCodeLine{00616\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_af5b1bd492a8de28eb75c136ee391b006}{const\_reference}}\ =\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&;}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00621\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a2d145987f7535219dcfe47ee6765b2ad}{size\_type}}\ =\ std::size\_t;}
\DoxyCodeLine{00622\ \ \ }
\DoxyCodeLine{00626\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_aae5fff6eb8fd2e61f686d6e3ccb9ba9d}{difference\_type}}\ =\ std::ptrdiff\_t;}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00631\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>\ }
\DoxyCodeLine{00632\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtf_1_1cuda_u_s_m_allocator_1_1rebind}{rebind}}\ \{\ }
\DoxyCodeLine{00636\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structtf_1_1cuda_u_s_m_allocator_1_1rebind_ad110a928d2b4e991f1dacd473a6ba00c}{other}}\ =\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a10c30e951b3dab81261c26e91b0ec62b}{cudaUSMAllocator<U>}};\ }
\DoxyCodeLine{00637\ \ \ \};\ }
\DoxyCodeLine{00638\ }
\DoxyCodeLine{00642\ \ \ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a10c30e951b3dab81261c26e91b0ec62b}{cudaUSMAllocator}}()\ noexcept\ \{\}}
\DoxyCodeLine{00643\ }
\DoxyCodeLine{00647\ \ \ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a8b881c3608e2886513c0364e9fdc417f}{cudaUSMAllocator}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a10c30e951b3dab81261c26e91b0ec62b}{cudaUSMAllocator}}\&\ )\ \textcolor{keyword}{noexcept}\ \{\}}
\DoxyCodeLine{00648\ }
\DoxyCodeLine{00653\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00654\ \ \ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a19981496b14b5a29cc2f71dfc25eecd1}{cudaUSMAllocator}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a10c30e951b3dab81261c26e91b0ec62b}{cudaUSMAllocator<U>}}\&\ )\ \textcolor{keyword}{noexcept}\ \{\}}
\DoxyCodeLine{00655\ }
\DoxyCodeLine{00659\ \ \ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a8bfebfc64bc7781856870f143a84f03b}{\string~cudaUSMAllocator}}()\ noexcept\ \{\}}
\DoxyCodeLine{00660\ }
\DoxyCodeLine{00669\ \ \ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a580e704508e250311f4dce9c6413d900}{pointer}}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a174d32365a682da21469e155b95d3260}{address}}(\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_ae700ece72b4eeb0f13f612455878f0a9}{reference}}\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ )\ \{\ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}};\ \}}
\DoxyCodeLine{00670\ }
\DoxyCodeLine{00679\ \ \ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a1bbd56f975fd433c1fd86d5008373ad0}{const\_pointer}}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_ae9e99ab1ec08d419798e50f8d5b49802}{address}}(\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_af5b1bd492a8de28eb75c136ee391b006}{const\_reference}}\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ )\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}};\ \}}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00697\ \ \ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a580e704508e250311f4dce9c6413d900}{pointer}}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_afa664496a897fc04442a5fc1988b8759}{allocate}}(\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a2d145987f7535219dcfe47ee6765b2ad}{size\_type}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ =\ 0\ )}
\DoxyCodeLine{00698\ \ \ \{}
\DoxyCodeLine{00699\ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ \{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00700\ \ \ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(}
\DoxyCodeLine{00701\ \ \ \ \ \ \ cudaMallocManaged(\ \&\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}})\ ),}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}failed\ to\ allocate\ "{}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{stringliteral}{"{}\ elements\ ("{}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}),\ \textcolor{stringliteral}{"{}bytes)"{}}}
\DoxyCodeLine{00703\ \ \ \ \ )}
\DoxyCodeLine{00704\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a580e704508e250311f4dce9c6413d900}{pointer}}\textcolor{keyword}{>}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00705\ \ \ \}}
\DoxyCodeLine{00706\ }
\DoxyCodeLine{00714\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a0ec189c941b389062106a37fde46677a}{deallocate}}(\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a580e704508e250311f4dce9c6413d900}{pointer}}\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a2d145987f7535219dcfe47ee6765b2ad}{size\_type}}\ )}
\DoxyCodeLine{00715\ \ \ \{}
\DoxyCodeLine{00716\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\{}
\DoxyCodeLine{00717\ \ \ \ \ \ \ cudaFree(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00718\ \ \ \ \ \}}
\DoxyCodeLine{00719\ \ \ \}}
\DoxyCodeLine{00720\ }
\DoxyCodeLine{00731\ \ \ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a2d145987f7535219dcfe47ee6765b2ad}{size\_type}}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_abdf3c2024de5972e7d13d15d4960c984}{max\_size}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a2d145987f7535219dcfe47ee6765b2ad}{size\_type}}\ \{-\/1\};\ \}}
\DoxyCodeLine{00732\ }
\DoxyCodeLine{00740\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a9218d72dc90bc87b1ac648f5bf923439}{construct}}(\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a580e704508e250311f4dce9c6413d900}{pointer}}\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_af5b1bd492a8de28eb75c136ee391b006}{const\_reference}}\ val\ )\ \{}
\DoxyCodeLine{00741\ \ \ \ \ \textcolor{keyword}{new}\ ((\textcolor{keywordtype}{void}*)\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a4ab981d38c36112b589a3b67c510fc50}{value\_type}}(val);}
\DoxyCodeLine{00742\ \ \ \}}
\DoxyCodeLine{00743\ }
\DoxyCodeLine{00752\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a33ea798011c837c65251b756ae3d66f9}{destroy}}(\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a580e704508e250311f4dce9c6413d900}{pointer}}\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ )\ \{}
\DoxyCodeLine{00753\ \ \ \ \ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}-\/>\string~value\_type();}
\DoxyCodeLine{00754\ \ \ \}}
\DoxyCodeLine{00755\ }
\DoxyCodeLine{00763\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00764\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_aea7c8c9232f588faaf274c4439ca936d}{operator\ ==\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a10c30e951b3dab81261c26e91b0ec62b}{cudaUSMAllocator<U>}}\&)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00765\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00766\ \ \ \}}
\DoxyCodeLine{00767\ \ \ }
\DoxyCodeLine{00775\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00776\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_abf8b566b8863b5a460e816a5f3d5fd7b}{operator\ !=\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1cuda_u_s_m_allocator_a10c30e951b3dab81261c26e91b0ec62b}{cudaUSMAllocator<U>}}\&)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00777\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00778\ \ \ \}}
\DoxyCodeLine{00779\ }
\DoxyCodeLine{00780\ \};}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00782\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00783\ \textcolor{comment}{//\ GPU\ vector\ object}}
\DoxyCodeLine{00784\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00785\ }
\DoxyCodeLine{00786\ \textcolor{comment}{//template\ <typename\ T>}}
\DoxyCodeLine{00787\ \textcolor{comment}{//using\ cudaDeviceVector\ =\ std::vector<NoInit<T>,\ cudaDeviceAllocator<NoInit<T>>>;}}
\DoxyCodeLine{00788\ }
\DoxyCodeLine{00789\ \textcolor{comment}{//template\ <typename\ T>}}
\DoxyCodeLine{00790\ \textcolor{comment}{//using\ cudaUSMVector\ =\ std::vector<T,\ cudaUSMAllocator<T>>;}}
\DoxyCodeLine{00791\ }
\DoxyCodeLine{00795\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00796\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtf_1_1cuda_device_vector_a7783ef6aed9b7872d22f5f9127887206}{cudaDeviceVector}}\ \{}
\DoxyCodeLine{00797\ \ \ }
\DoxyCodeLine{00798\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00799\ }
\DoxyCodeLine{00800\ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a7783ef6aed9b7872d22f5f9127887206}{cudaDeviceVector}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00801\ }
\DoxyCodeLine{00802\ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a6d0daf9a0d45cb4827c0dd8e0d434ce3}{cudaDeviceVector}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}})\ :\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a4637a4ea042aa8e3c2b7be1e5ed3ce84}{\_N}}\ \{\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}\}\ \{}
\DoxyCodeLine{00803\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}})\ \{}
\DoxyCodeLine{00804\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cuda__error_8hpp_a75e23f7c3ff7a29d92f78b7b6ac0eafc}{TF\_CHECK\_CUDA}}(}
\DoxyCodeLine{00805\ \ \ \ \ \ \ \ \ \ \ cudaMalloc(\&\mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}},\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}})),}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}failed\ to\ allocate\ device\ memory\ ("{}},\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}),\ \textcolor{stringliteral}{"{}\ bytes)"{}}}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00809\ \ \ \ \ \}}
\DoxyCodeLine{00810\ \ \ \ \ }
\DoxyCodeLine{00811\ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_vector_adf971821fec0d2817ca510ec8509612f}{cudaDeviceVector}}(\mbox{\hyperlink{classtf_1_1cuda_device_vector_a7783ef6aed9b7872d22f5f9127887206}{cudaDeviceVector}}\&\&\ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}})\ :\ }
\DoxyCodeLine{00812\ \ \ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}}\{\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.\mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}}\},\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a4637a4ea042aa8e3c2b7be1e5ed3ce84}{\_N}}\ \{\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.\mbox{\hyperlink{classtf_1_1cuda_device_vector_a4637a4ea042aa8e3c2b7be1e5ed3ce84}{\_N}}\}\ \{}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.\_data\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00814\ \ \ \ \ \ \ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.\_N\ \ \ \ =\ 0;}
\DoxyCodeLine{00815\ \ \ \ \ \}}
\DoxyCodeLine{00816\ }
\DoxyCodeLine{00817\ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a84682a01838130c1eb70d9da95f1d71f}{\string~cudaDeviceVector}}()\ \{}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}})\ \{}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ cudaFree(\mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}});}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00821\ \ \ \ \ \}}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a7783ef6aed9b7872d22f5f9127887206}{cudaDeviceVector}}\&\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a68d45dfab0229735a136ea693bcb29f4}{operator\ =\ }}(\mbox{\hyperlink{classtf_1_1cuda_device_vector_a7783ef6aed9b7872d22f5f9127887206}{cudaDeviceVector}}\&\&\ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}})\ \{}
\DoxyCodeLine{00824\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}})\ \{}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \ \ cudaFree(\mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}});}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}}\ =\ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.\_data;}
\DoxyCodeLine{00828\ \ \ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a4637a4ea042aa8e3c2b7be1e5ed3ce84}{\_N}}\ \ \ \ =\ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.\_N;}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.\_data\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}.\_N\ \ \ \ =\ 0;}
\DoxyCodeLine{00831\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00832\ \ \ \ \ \}}
\DoxyCodeLine{00833\ }
\DoxyCodeLine{00834\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_ab235c0e585e4b87ab9a2678fb4d79c3e}{size}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a4637a4ea042aa8e3c2b7be1e5ed3ce84}{\_N}};\ \}}
\DoxyCodeLine{00835\ }
\DoxyCodeLine{00836\ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a0dd4d9925aeee01744eb7db3791290c0}{data}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}};\ \}}
\DoxyCodeLine{00837\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_abc73ffe0ba3a5786663c641add2c0bc4}{data}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}};\ \}}
\DoxyCodeLine{00838\ \ \ \ \ }
\DoxyCodeLine{00839\ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a20cc8bd1758927a4cc116d0ecd7b8fb5}{cudaDeviceVector}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a7783ef6aed9b7872d22f5f9127887206}{cudaDeviceVector}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00840\ \ \ \ \ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a7783ef6aed9b7872d22f5f9127887206}{cudaDeviceVector}}\&\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a68d45dfab0229735a136ea693bcb29f4}{operator\ =\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a7783ef6aed9b7872d22f5f9127887206}{cudaDeviceVector}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00841\ }
\DoxyCodeLine{00842\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00843\ }
\DoxyCodeLine{00844\ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a52da84c77829a1ea261fc187ef2e474e}{\_data}}\ \ \{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00845\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classtf_1_1cuda_device_vector_a4637a4ea042aa8e3c2b7be1e5ed3ce84}{\_N}}\ \{0\};}
\DoxyCodeLine{00846\ \};\ }
\DoxyCodeLine{00847\ }
\DoxyCodeLine{00848\ }
\DoxyCodeLine{00849\ \}\ \ \textcolor{comment}{//\ end\ of\ namespace\ tf\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00850\ }
\DoxyCodeLine{00851\ }
\DoxyCodeLine{00852\ }
\DoxyCodeLine{00853\ }
\DoxyCodeLine{00854\ }
\DoxyCodeLine{00855\ }

\end{DoxyCode}
