\doxysection{tbb\+::interface6\+::internal\+::aggregator\+\_\+generic\texorpdfstring{$<$}{<} operation\+\_\+type \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classtbb_1_1interface6_1_1internal_1_1aggregator__generic}{}\label{classtbb_1_1interface6_1_1internal_1_1aggregator__generic}\index{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}}


Aggregator base class  




{\ttfamily \#include $<$\+\_\+aggregator\+\_\+impl.\+h$>$}



类 tbb\+::interface6\+::internal\+::aggregator\+\_\+generic\texorpdfstring{$<$}{<} operation\+\_\+type \texorpdfstring{$>$}{>} 继承关系图\+:
% FIG 0
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_a599f983baa689faa12832b356fa7d962}{aggregator\+\_\+generic}} ()
\item 
{\footnotesize template$<$typename handler\+\_\+type$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_a4985caba10e390a7ee24ebc8a831a516}{execute}} (operation\+\_\+type \texorpdfstring{$\ast$}{*}op, handler\+\_\+type \&handle\+\_\+operations, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} long\+\_\+life\+\_\+time=\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}})
\begin{DoxyCompactList}\small\item\em Execute an operation \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename handler\+\_\+type$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_afbaa689b3664445e8bc54d250566ca98}{start\+\_\+handle\+\_\+operations}} (handler\+\_\+type \&handle\+\_\+operations)
\begin{DoxyCompactList}\small\item\em Trigger the handling of operations when the handler is free \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic}}$<$ operation\+\_\+type \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_a3845104085ea4f1ef757f5f5ff4b08be}{pending\+\_\+operations}}
\begin{DoxyCompactList}\small\item\em An atomically updated list (aka mailbox) of pending operations \end{DoxyCompactList}\item 
uintptr\+\_\+t \mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_ad968a1c0a11bfedb58ea3c50a79339c0}{handler\+\_\+busy}}
\begin{DoxyCompactList}\small\item\em Controls thread access to handle\+\_\+operations \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename operation\+\_\+type$>$\newline
class tbb\+::interface6\+::internal\+::aggregator\+\_\+generic$<$ operation\+\_\+type $>$}
Aggregator base class 

An aggregator for collecting operations coming from multiple sources and executing them serially on a single thread. operation\+\_\+type must be derived from \doxylink{classtbb_1_1interface6_1_1internal_1_1aggregated__operation}{aggregated\+\_\+operation}. The parameter handler\+\_\+type is a functor that will be passed the list of operations and is expected to handle each operation appropriately, setting the status of each operation to non-\/zero. 

\doxysubsection{构造及析构函数说明}
\Hypertarget{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_a599f983baa689faa12832b356fa7d962}\index{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}!aggregator\_generic@{aggregator\_generic}}
\index{aggregator\_generic@{aggregator\_generic}!tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}}
\doxysubsubsection{\texorpdfstring{aggregator\_generic()}{aggregator\_generic()}}
{\footnotesize\ttfamily \label{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_a599f983baa689faa12832b356fa7d962} 
template$<$typename operation\+\_\+type$>$ \\
\mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregator__generic}{tbb\+::interface6\+::internal\+::aggregator\+\_\+generic}}$<$ operation\+\_\+type $>$\mbox{\hyperlink{classtbb_1_1internal_1_1aggregator__generic}{\+::aggregator\+\_\+generic}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{成员函数说明}
\Hypertarget{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_a4985caba10e390a7ee24ebc8a831a516}\index{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}!execute@{execute}}
\index{execute@{execute}!tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily \label{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_a4985caba10e390a7ee24ebc8a831a516} 
template$<$typename operation\+\_\+type$>$ \\
template$<$typename handler\+\_\+type$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregator__generic}{tbb\+::interface6\+::internal\+::aggregator\+\_\+generic}}$<$ operation\+\_\+type $>$\+::execute (\begin{DoxyParamCaption}\item[{operation\+\_\+type \texorpdfstring{$\ast$}{*}}]{op}{, }\item[{handler\+\_\+type \&}]{handle\+\_\+operations}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{long\+\_\+life\+\_\+time}{ = {\ttfamily \mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Execute an operation 

Places an operation into the waitlist (pending\+\_\+operations), and either handles the list, or waits for the operation to complete, or returns. The long\+\_\+life\+\_\+time parameter specifies the life time of the given operation object. Operations with long\+\_\+life\+\_\+time == true may be accessed after execution. \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} "{}short"{} life time operation (long\+\_\+life\+\_\+time == false) can be destroyed during execution, and so any access to it after it was put into the waitlist, including status check, is invalid. As a consequence, waiting for completion of such operation causes undefined behavior. 函数调用图\+:
% FIG 1
\Hypertarget{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_afbaa689b3664445e8bc54d250566ca98}\index{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}!start\_handle\_operations@{start\_handle\_operations}}
\index{start\_handle\_operations@{start\_handle\_operations}!tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}}
\doxysubsubsection{\texorpdfstring{start\_handle\_operations()}{start\_handle\_operations()}}
{\footnotesize\ttfamily \label{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_afbaa689b3664445e8bc54d250566ca98} 
template$<$typename operation\+\_\+type$>$ \\
template$<$typename handler\+\_\+type$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregator__generic}{tbb\+::interface6\+::internal\+::aggregator\+\_\+generic}}$<$ operation\+\_\+type $>$\+::start\+\_\+handle\+\_\+operations (\begin{DoxyParamCaption}\item[{handler\+\_\+type \&}]{handle\+\_\+operations}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Trigger the handling of operations when the handler is free 

函数调用图\+:
% FIG 2


\doxysubsection{类成员变量说明}
\Hypertarget{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_ad968a1c0a11bfedb58ea3c50a79339c0}\index{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}!handler\_busy@{handler\_busy}}
\index{handler\_busy@{handler\_busy}!tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}}
\doxysubsubsection{\texorpdfstring{handler\_busy}{handler\_busy}}
{\footnotesize\ttfamily \label{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_ad968a1c0a11bfedb58ea3c50a79339c0} 
template$<$typename operation\+\_\+type$>$ \\
uintptr\+\_\+t \mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregator__generic}{tbb\+::interface6\+::internal\+::aggregator\+\_\+generic}}$<$ operation\+\_\+type $>$\+::handler\+\_\+busy\hspace{0.3cm}{\ttfamily [private]}}



Controls thread access to handle\+\_\+operations 

\Hypertarget{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_a3845104085ea4f1ef757f5f5ff4b08be}\index{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}!pending\_operations@{pending\_operations}}
\index{pending\_operations@{pending\_operations}!tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$@{tbb::interface6::internal::aggregator\_generic$<$ operation\_type $>$}}
\doxysubsubsection{\texorpdfstring{pending\_operations}{pending\_operations}}
{\footnotesize\ttfamily \label{classtbb_1_1interface6_1_1internal_1_1aggregator__generic_a3845104085ea4f1ef757f5f5ff4b08be} 
template$<$typename operation\+\_\+type$>$ \\
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic}}$<$operation\+\_\+type \texorpdfstring{$\ast$}{*}$>$ \mbox{\hyperlink{classtbb_1_1interface6_1_1internal_1_1aggregator__generic}{tbb\+::interface6\+::internal\+::aggregator\+\_\+generic}}$<$ operation\+\_\+type $>$\+::pending\+\_\+operations\hspace{0.3cm}{\ttfamily [private]}}



An atomically updated list (aka mailbox) of pending operations 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/include/tbb/internal/\mbox{\hyperlink{__aggregator__impl_8h}{\+\_\+aggregator\+\_\+impl.\+h}}\end{DoxyCompactItemize}
