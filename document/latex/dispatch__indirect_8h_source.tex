\doxysection{dispatch\+\_\+indirect.\+h}
\hypertarget{dispatch__indirect_8h_source}{}\label{dispatch__indirect_8h_source}\index{runtime/dsl/dispatch\_indirect.h@{runtime/dsl/dispatch\_indirect.h}}
\mbox{\hyperlink{dispatch__indirect_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{expr_8h}{runtime/dsl/expr.h}}>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{var_8h}{runtime/dsl/var.h}}>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{struct_8h}{runtime/dsl/struct.h}}>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dispatch__buffer_8h}{runtime/runtime/dispatch\_buffer.h}}>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute}{luisa::compute}}\ \{}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00011\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{dll__export_8h_a0f23f409f57fcf93535a1f02ca7586b9}{LC\_DSL\_API}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_a4b8ad9b035792302ee34233c1b8465cf}{Expr}}<IndirectDispatchBuffer>\ \{}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_ref_expr}{RefExpr}}\ *\mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_a462b35ae39e570325ff413964860cac6}{\_expression}}\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_a4b8ad9b035792302ee34233c1b8465cf}{Expr}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_ref_expr}{RefExpr}}\ *expr)\ noexcept\ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_a462b35ae39e570325ff413964860cac6}{\_expression}}\{expr\}\ \{\}}
\DoxyCodeLine{00018\ \ \ \ \ Expr(\textcolor{keyword}{const}\ IndirectDispatchBuffer\ \&\mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00019\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_adb0d6deae4cf489015348777f9d4d085}{expression}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_a462b35ae39e570325ff413964860cac6}{\_expression}};\ \}}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_dispatch\_count(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a619bc20e8198de3bd3f3d7fc34de66b2}{count}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_kernel(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint3>}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a6b996d6ff1528a6c21c95442062e4ab3}{block\_size}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint3>}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_aa5da0d0d9f870863996b0759efbd72b0}{dispatch\_size}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint>}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a5c7e693b1cfb4cb7a79b29ff9febb68b}{kernel\_id}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_adf6893712c20c5e5398a982106a22baf}{set\_kernel}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_a4b8ad9b035792302ee34233c1b8465cf}{Expr<uint>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_a4b8ad9b035792302ee34233c1b8465cf}{Expr<uint3>}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a6b996d6ff1528a6c21c95442062e4ab3}{block\_size}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_a4b8ad9b035792302ee34233c1b8465cf}{Expr<uint3>}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_aa5da0d0d9f870863996b0759efbd72b0}{dispatch\_size}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_a004da3c23264ffe59d92fe102ba457b3}{set\_kernel}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}},\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a6b996d6ff1528a6c21c95442062e4ab3}{block\_size}},\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_aa5da0d0d9f870863996b0759efbd72b0}{dispatch\_size}},\ 0u);}
\DoxyCodeLine{00024\ \ \ \ \ \}}
\DoxyCodeLine{00025\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_indirect_dispatch_buffer_01_4_a9abf98a589ff33afc97d7d80a16a4492}{operator-\/>}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00026\ \};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}(\textcolor{keyword}{const}\ IndirectDispatchBuffer\ \&)\ -\/>\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<IndirectDispatchBuffer>}};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00031\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}<IndirectDispatchBuffer>\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<IndirectDispatchBuffer>\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}(\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_argument_creation}{detail::ArgumentCreation}})\ noexcept}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<IndirectDispatchBuffer>}}\{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>buffer(}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Type::of<IndirectDispatchBuffer>())\}\ \{\}}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}\ \&\&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}\ \&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}\ \&operator=(\mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}\ \&\&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}\ \&operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var}}\ \&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00040\ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_ae12fe4380110f2dc8b8fd39810e0b872}{IndirectDispatchBufferVar}}\ =\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<IndirectDispatchBuffer>}};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedetail}{detail}}\ \{}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{class\ }\mbox{\hyperlink{dll__export_8h_a0f23f409f57fcf93535a1f02ca7586b9}{LC\_DSL\_API}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_indirect_dispatch_buffer_expr_proxy}{IndirectDispatchBufferExprProxy}}\ \{}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00049\ \ \ \ \ IndirectDispatchBuffer\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_indirect_dispatch_buffer_expr_proxy_a1553e7537cf9ece13926b4a80a0ca264}{\_buffer}};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{expr_8h_ac906f3bf272bed0c6ba2875d4b220e41}{LUISA\_RESOURCE\_PROXY\_AVOID\_CONSTRUCTION}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_indirect_dispatch_buffer_expr_proxy}{IndirectDispatchBufferExprProxy}})}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_indirect_dispatch_buffer_expr_proxy_ad4fca357a0a9bc3bcee236dff6ecebf1}{set\_dispatch\_count}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a619bc20e8198de3bd3f3d7fc34de66b2}{count}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_indirect_dispatch_buffer_expr_proxy_a7776a786f7e958d82a94f51e8f38954c}{set\_kernel}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint3>}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a6b996d6ff1528a6c21c95442062e4ab3}{block\_size}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint3>}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_aa5da0d0d9f870863996b0759efbd72b0}{dispatch\_size}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint>}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a5c7e693b1cfb4cb7a79b29ff9febb68b}{kernel\_id}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_indirect_dispatch_buffer_expr_proxy_a24e31e1173d3067553ea4df09e4f8e82}{set\_kernel}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint>}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint3>}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a6b996d6ff1528a6c21c95442062e4ab3}{block\_size}},\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<uint3>}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_aa5da0d0d9f870863996b0759efbd72b0}{dispatch\_size}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_indirect_dispatch_buffer_expr_proxy_a7776a786f7e958d82a94f51e8f38954c}{set\_kernel}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}},\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a6b996d6ff1528a6c21c95442062e4ab3}{block\_size}},\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_aa5da0d0d9f870863996b0759efbd72b0}{dispatch\_size}},\ 0u);}
\DoxyCodeLine{00059\ \ \ \ \ \}}
\DoxyCodeLine{00060\ \};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \}\textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \}\textcolor{comment}{//\ namespace\ luisa::compute}}

\end{DoxyCode}
