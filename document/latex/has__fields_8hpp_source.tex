\doxysection{has\+\_\+fields.\+hpp}
\hypertarget{has__fields_8hpp_source}{}\label{has__fields_8hpp_source}\index{external/reflect-\/cpp/include/rfl/internal/has\_fields.hpp@{external/reflect-\/cpp/include/rfl/internal/has\_fields.hpp}}
\mbox{\hyperlink{has__fields_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ RFL\_INTERNAL\_HASFIELDS\_HPP\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ RFL\_INTERNAL\_HASFIELDS\_HPP\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <tuple>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_tuple_8hpp}{../Tuple.hpp}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{all__fields_8hpp}{all\_fields.hpp}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{is__field_8hpp}{is\_field.hpp}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{is__flatten__field_8hpp}{is\_flatten\_field.hpp}}"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ptr__tuple__t_8hpp}{ptr\_tuple\_t.hpp}}"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl}{rfl}}\ \{}
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl_1_1internal}{internal}}\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ TupleType>}
\DoxyCodeLine{00018\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacerfl_1_1internal_a012b9c8f5d6103eb084598eca9f9f631}{all\_fields\_or\_flatten}}()\ \{}
\DoxyCodeLine{00019\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ is\_true\_for\_one\ =}
\DoxyCodeLine{00020\ \ \ \ \ \ \ []<\textcolor{keywordtype}{int}\ \_i>(std::integral\_constant<int,\ \_i>)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ =\ std::remove\_cvref\_t<tuple\_element\_t<\_i,\ TupleType>>;}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\mbox{\hyperlink{namespacerfl_1_1internal_a7b3bfaac951e3ee263e5e1db64bd2600}{is\_flatten\_field\_v<T>}})\ \{}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_1_1internal_a012b9c8f5d6103eb084598eca9f9f631}{all\_fields\_or\_flatten}}<}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerfl_1_1internal_a02a96e67bbe2b7b8fa48cdd9f08bede3}{ptr\_tuple\_t<typename\ std::remove\_pointer\_t<T>::Type}}>>();}
\DoxyCodeLine{00025\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_1_1internal_a0e2bc81509c8804bf77a58ff700bda03}{is\_field\_v<T>}};}
\DoxyCodeLine{00027\ \ \ \ \ \}}
\DoxyCodeLine{00028\ \ \ \};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \textcolor{keywordflow}{return}\ [\&]<\textcolor{keywordtype}{int}...\ \_is>(std::integer\_sequence<\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}},\ \_is...>)\ \{}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{true}\ \&\&\ ...\ \&\&\ is\_true\_for\_one(std::integral\_constant<int,\ \_is>\{\}));}
\DoxyCodeLine{00032\ \ \ \}}
\DoxyCodeLine{00033\ \ \ (std::make\_integer\_sequence<int,\ rfl::tuple\_size\_v<TupleType>>());}
\DoxyCodeLine{00034\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ TupleType>}
\DoxyCodeLine{00037\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacerfl_1_1internal_a71c929c1a514d827549eb15d4355de92}{some\_fields\_or\_flatten}}()\ \{}
\DoxyCodeLine{00038\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ is\_true\_for\_one\ =}
\DoxyCodeLine{00039\ \ \ \ \ \ \ []<\textcolor{keywordtype}{int}\ \_i>(std::integral\_constant<int,\ \_i>)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ =\ std::remove\_cvref\_t<tuple\_element\_t<\_i,\ TupleType>>;}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\mbox{\hyperlink{namespacerfl_1_1internal_a7b3bfaac951e3ee263e5e1db64bd2600}{is\_flatten\_field\_v<T>}})\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_1_1internal_a71c929c1a514d827549eb15d4355de92}{some\_fields\_or\_flatten}}<}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerfl_1_1internal_a02a96e67bbe2b7b8fa48cdd9f08bede3}{ptr\_tuple\_t<typename\ std::remove\_pointer\_t<T>::Type}}>>();}
\DoxyCodeLine{00044\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_1_1internal_a0e2bc81509c8804bf77a58ff700bda03}{is\_field\_v<T>}};}
\DoxyCodeLine{00046\ \ \ \ \ \}}
\DoxyCodeLine{00047\ \ \ \};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \textcolor{keywordflow}{return}\ [\&]<\textcolor{keywordtype}{int}...\ \_is>(std::integer\_sequence<\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}},\ \_is...>)\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{false}\ ||\ ...\ ||}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ is\_true\_for\_one(std::integral\_constant<int,\ \_is>\{\}));}
\DoxyCodeLine{00052\ \ \ \}}
\DoxyCodeLine{00053\ \ \ (std::make\_integer\_sequence<int,\ rfl::tuple\_size\_v<TupleType>>());}
\DoxyCodeLine{00054\ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00057\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacerfl_1_1internal_a4bf6ff2224c907a5df21f524e650fd17}{has\_fields}}()\ \{}
\DoxyCodeLine{00058\ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\mbox{\hyperlink{namespacerfl_1_1internal_a232151e371562285723f753862ec33ee}{is\_named\_tuple\_v<T>}})\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00060\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{using\ }TupleType\ =\ \mbox{\hyperlink{namespacerfl_1_1internal_a02a96e67bbe2b7b8fa48cdd9f08bede3}{ptr\_tuple\_t<T>}};}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\mbox{\hyperlink{namespacerfl_1_1internal_a71c929c1a514d827549eb15d4355de92}{some\_fields\_or\_flatten<TupleType>}}())\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerfl_1_1internal_a012b9c8f5d6103eb084598eca9f9f631}{all\_fields\_or\_flatten<TupleType>}}(),}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}If\ some\ of\ your\ fields\ are\ annotated\ using\ rfl::Field<...>,\ "{}}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}then\ you\ must\ annotate\ all\ of\ your\ fields.\ "{}}}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Also,\ you\ cannot\ combine\ annotated\ and\ "{}}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}unannotated\ fields\ using\ rfl::Flatten<...>."{}});}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00070\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00072\ \ \ \ \ \}}
\DoxyCodeLine{00073\ \ \ \}}
\DoxyCodeLine{00074\ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00077\ \}\ \ \textcolor{comment}{//\ namespace\ rfl}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
