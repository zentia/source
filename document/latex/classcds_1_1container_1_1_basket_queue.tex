\doxysection{cds\+::container\+::Basket\+Queue\texorpdfstring{$<$}{<} GC, T, Traits \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1container_1_1_basket_queue}{}\label{classcds_1_1container_1_1_basket_queue}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}


Basket lock-\/free queue (non-\/intrusive variant)  




{\ttfamily \#include $<$basket\+\_\+queue.\+h$>$}



类 cds\+::container\+::Basket\+Queue\texorpdfstring{$<$}{<} GC, T, Traits \texorpdfstring{$>$}{>} 继承关系图\+:
% FIG 0


cds\+::container\+::Basket\+Queue\texorpdfstring{$<$}{<} GC, T, Traits \texorpdfstring{$>$}{>} 的协作图\+:
% FIG 1
\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcds_1_1container_1_1_basket_queue_1_1rebind}{rebind}}
\begin{DoxyCompactList}\small\item\em Rebind template arguments \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef GC \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_adee8a0b32db1dc6194a50fe732baa5bb}{gc}}
\begin{DoxyCompactList}\small\item\em Garbage collector \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}}
\begin{DoxyCompactList}\small\item\em \doxylink{ir__common_8h_a1ac75f8fee198af783521627f1fecfbc}{Type} of value to be stored in the queue \end{DoxyCompactList}\item 
typedef Traits \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_ab80a8d2ab122822faa2ae3965c69cc43}{traits}}
\begin{DoxyCompactList}\small\item\em Queue\textquotesingle{}s traits \end{DoxyCompactList}\item 
typedef base\+\_\+class\+::back\+\_\+off \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a54cddca1be5f70377bc4e8c568573b16}{back\+\_\+off}}
\begin{DoxyCompactList}\small\item\em Back-\/off strategy used \end{DoxyCompactList}\item 
typedef maker\+::allocator\+\_\+type \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a16f8e14286face4a2415828ccdbc5121}{allocator\+\_\+type}}
\begin{DoxyCompactList}\small\item\em Allocator type used for allocate/deallocate the nodes \end{DoxyCompactList}\item 
typedef base\+\_\+class\+::item\+\_\+counter \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a6fe3a7f4a9923cabb93028feb604e056}{item\+\_\+counter}}
\begin{DoxyCompactList}\small\item\em Item counting policy used \end{DoxyCompactList}\item 
typedef base\+\_\+class\+::stat \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a9854d4a6bd521bd896c0ef7aa38487da}{stat}}
\begin{DoxyCompactList}\small\item\em Internal statistics policy used \end{DoxyCompactList}\item 
typedef base\+\_\+class\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a9cebb332b838e747d0de630ae59a1a76}{memory\+\_\+model}}
\begin{DoxyCompactList}\small\item\em Memory ordering. See \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model} option \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a6a5a92319a526477460f2901556348f0}{Basket\+Queue}} ()
\begin{DoxyCompactList}\small\item\em Initializes empty queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_ae2cb6884e81bf4a269c2a79d7ed68f64}{\texorpdfstring{$\sim$}{\string~}\+Basket\+Queue}} ()
\begin{DoxyCompactList}\small\item\em Destructor clears the queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_ae290964ee8ad026c1489042b9b7138b2}{enqueue}} (\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} const \&val)
\begin{DoxyCompactList}\small\item\em Enqueues {\ttfamily val} value into the queue. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_ae323ea7eba9036193ecab60626761f54}{enqueue}} (\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} \&\&val)
\begin{DoxyCompactList}\small\item\em Enqueues {\ttfamily val} value into the queue, move semantics \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_aa73fe1f8d793b3270e70df2bb1c45e8d}{enqueue\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Enqueues {\ttfamily data} to queue using a functor \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_aba3fc72220ca20121b506938e0e7ab27}{push}} (\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} const \&val)
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_ae290964ee8ad026c1489042b9b7138b2}{enqueue()}} function \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a76142a114e5c8bfe1b333b792481e04a}{push}} (\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} \&\&val)
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_ae290964ee8ad026c1489042b9b7138b2}{enqueue()}} function, move semantics \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_acbf2a1aeb47c79f0335a7066d903d029}{push\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_aa73fe1f8d793b3270e70df2bb1c45e8d}{enqueue\+\_\+with()}} function \end{DoxyCompactList}\item 
{\footnotesize template$<$typename... Args$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_ac6fe6aba53a24cbb25e3b9bfe4a3d875}{emplace}} (Args \&\&... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})
\begin{DoxyCompactList}\small\item\em Enqueues data of type \doxylink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type} constructed with {\ttfamily std\+::forward$<$\+Args$>$(args)...} \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a00184358e43d17d2655b51a43564adde}{dequeue}} (\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} \&dest)
\begin{DoxyCompactList}\small\item\em Dequeues a value from the queue \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_add9ad95244011c10aba41fac5c4d1fa3}{dequeue\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Dequeues a value using a functor \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a6f46e624f5f3af1b6573564c86509506}{pop}} (\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} \&dest)
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_a00184358e43d17d2655b51a43564adde}{dequeue()}} function \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func$>$ }\\\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a71c769a2e56d54178918bc68ad9ff61a}{pop\+\_\+with}} (Func \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})
\begin{DoxyCompactList}\small\item\em Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_add9ad95244011c10aba41fac5c4d1fa3}{dequeue\+\_\+with()}} function \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_afc0a35c21841ca9d3ffc48ff3d635639}{empty}} ()
\begin{DoxyCompactList}\small\item\em Checks if the queue is empty \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a6962f1e81b6eeee3ff73191d123183a1}{clear}} ()
\begin{DoxyCompactList}\small\item\em Clear the queue \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_acdea170b1ac796a510039d03e88a5c98}{size}} () const
\begin{DoxyCompactList}\small\item\em Returns queue\textquotesingle{}s item count \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a9854d4a6bd521bd896c0ef7aa38487da}{stat}} \& \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_ac67c5cf20bc8197332c72909a970bcff}{statistics}} () const
\begin{DoxyCompactList}\small\item\em Returns reference to internal statistics \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 属性}
\begin{DoxyCompactItemize}
\item 
static constexpr const size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_aac1f4c5589ec5ff57ed75a2dcb24df14}{c\+\_\+n\+Hazard\+Ptr\+Count}} = base\+\_\+class\+::c\+\_\+n\+Hazard\+Ptr\+Count
\begin{DoxyCompactList}\small\item\em Count of hazard pointer required for the algorithm \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected 类型}
\begin{DoxyCompactItemize}
\item 
typedef maker\+::node\+\_\+type \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_ae47d9b79d6779c1c874f268961554648}{node\+\_\+type}}
\begin{DoxyCompactList}\small\item\em queue node type (derived from \doxylink{structcds_1_1intrusive_1_1basket__queue_1_1node}{intrusive\+::basket\+\_\+queue\+::node}) \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$\newline
class cds\+::container\+::\+Basket\+Queue$<$ GC, T, Traits $>$}
Basket lock-\/free queue (non-\/intrusive variant) 

It is non-\/intrusive version of basket queue algorithm based on \doxylink{classcds_1_1intrusive_1_1_basket_queue}{intrusive\+::\+Basket\+Queue} counterpart.

\begin{DoxyParagraph}{Source\+:}
\mbox{[}2007\mbox{]} Moshe Hoffman, Ori Shalev, Nir Shavit "{}\+The Baskets Queue"{}
\end{DoxyParagraph}
{\bfseries{Key idea}}

In the \textquotesingle{}basket\textquotesingle{} approach, instead of the traditional ordered list of nodes, the queue consists of an ordered list of groups of nodes (logical baskets). The order of nodes in each basket need not be specified, and in fact, it is easiest to maintain them in LIFO order. The baskets fulfill the following basic rules\+:
\begin{DoxyItemize}
\item Each basket has a time interval in which all its nodes\textquotesingle{} enqueue operations overlap.
\item The baskets are ordered by the order of their respective time intervals.
\item For each basket, its nodes\textquotesingle{} dequeue operations occur after its time interval.
\item The dequeue operations are performed according to the order of baskets.
\end{DoxyItemize}

Two properties define the FIFO order of nodes\+:
\begin{DoxyItemize}
\item The order of nodes in a basket is not specified.
\item The order of nodes in different baskets is the FIFO-\/order of their respective baskets.
\end{DoxyItemize}

In algorithms such as the MS-\/queue or optimistic queue, threads enqueue items by applying a Compare-\/and-\/swap (CAS) operation to the queue\textquotesingle{}s tail pointer, and all the threads that fail on a particular CAS operation (and also the winner of that CAS) overlap in time. In particular, they share the time interval of the CAS operation itself. Hence, all the threads that fail to CAS on the tail-\/node of the queue may be inserted into the same basket. By integrating the basket-\/mechanism as the back-\/off mechanism, the time usually spent on backing-\/off before trying to link onto the new tail, can now be utilized to insert the failed operations into the basket, allowing enqueues to complete sooner. In the meantime, the next successful CAS operations by enqueues allow new baskets to be formed down the list, and these can be filled concurrently. Moreover, the failed operations don\textquotesingle{}t retry their link attempt on the new tail, lowering the overall contention on it. This leads to a queue algorithm that unlike all former concurrent queue algorithms requires virtually no tuning of the backoff mechanisms to reduce contention, making the algorithm an attractive out-\/of-\/the-\/box queue.

In order to enqueue, just as in \doxylink{classcds_1_1container_1_1_m_s_queue}{MSQueue}, a thread first tries to link the new node to the last node. If it failed to do so, then another thread has already succeeded. Thus it tries to insert the new node into the new basket that was created by the winner thread. To dequeue a node, a thread first reads the head of the queue to obtain the oldest basket. It may then dequeue any node in the oldest basket.

Template arguments\+:
\begin{DoxyItemize}
\item {\ttfamily GC} -\/ garbage collector type\+: {\ttfamily \doxylink{namespacecds_1_1gc_af0523881f089593a7559d194ee2b5dd9}{gc\+::\+HP}}, {\ttfamily \doxylink{classcds_1_1gc_1_1_d_h_p}{gc\+::\+DHP}} 
\item {\ttfamily T} -\/ type of value to be stored in the queue
\item {\ttfamily Traits} -\/ queue traits, default is {\ttfamily \doxylink{structcds_1_1container_1_1basket__queue_1_1traits}{basket\+\_\+queue\+::traits}}. You can use {\ttfamily \doxylink{structcds_1_1container_1_1basket__queue_1_1make__traits}{basket\+\_\+queue\+::make\+\_\+traits}} metafunction to make your traits or just derive your traits from {\ttfamily basket\+\_\+queue\+::traits}\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct\ }myTraits:\ \textcolor{keyword}{public}\ cds::container::basket\_queue::traits\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{typedef}\ cds::intrusive::basket\_queue::stat<>\ \mbox{\hyperlink{structcds_1_1container_1_1basket__queue_1_1traits_ae18ab90fdf1449b1d6d7294bc4ce1d62}{stat}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{typedef}\ cds::atomicity::item\_counter\ \ \ \ \mbox{\hyperlink{structcds_1_1container_1_1basket__queue_1_1traits_a477b1fe1dcc89dda8d92a039f6cb1c6a}{item\_counter}};}
\DoxyCodeLine{\};}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ cds::container::BasketQueue<\ cds::gc::HP,\ Foo,\ myTraits\ >\ myQueue;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Equivalent\ make\_traits\ example:}}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ cds::container::BasketQueue<\ \mbox{\hyperlink{namespacecds_1_1gc_af0523881f089593a7559d194ee2b5dd9}{cds::gc::HP}},\ \mbox{\hyperlink{bug1213_8cpp_add4cd82fef2db3867de22e0c84c750a1aca2a3a2b2da8e517565fb654a86639b6}{Foo}},}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{typename}\ cds::container::basket\_queue::make\_traits<}
\DoxyCodeLine{\ \ \ \ \ \ \ \ cds::opt::stat<\ cds::container::basket\_queue::stat<>\ >,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ cds::opt::item\_counter<\ cds::atomicity::item\_counter\ >}
\DoxyCodeLine{\ \ \ \ >\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae8396ff85d63082521e3324820df1009}{::type}}}
\DoxyCodeLine{>\ myQueue;}

\end{DoxyCode}
 
\end{DoxyItemize}

\doxysubsection{成员类型定义说明}
\Hypertarget{classcds_1_1container_1_1_basket_queue_a16f8e14286face4a2415828ccdbc5121}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!allocator\_type@{allocator\_type}}
\index{allocator\_type@{allocator\_type}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{allocator\_type}{allocator\_type}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a16f8e14286face4a2415828ccdbc5121} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
typedef maker\+::allocator\+\_\+type \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::allocator\+\_\+type}



Allocator type used for allocate/deallocate the nodes 

\Hypertarget{classcds_1_1container_1_1_basket_queue_a54cddca1be5f70377bc4e8c568573b16}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!back\_off@{back\_off}}
\index{back\_off@{back\_off}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{back\_off}{back\_off}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a54cddca1be5f70377bc4e8c568573b16} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
typedef base\+\_\+class\+::back\+\_\+off \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::back\+\_\+off}



Back-\/off strategy used 

\Hypertarget{classcds_1_1container_1_1_basket_queue_adee8a0b32db1dc6194a50fe732baa5bb}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!gc@{gc}}
\index{gc@{gc}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{gc}{gc}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_adee8a0b32db1dc6194a50fe732baa5bb} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
typedef GC \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::gc}



Garbage collector 

\Hypertarget{classcds_1_1container_1_1_basket_queue_a6fe3a7f4a9923cabb93028feb604e056}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!item\_counter@{item\_counter}}
\index{item\_counter@{item\_counter}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{item\_counter}{item\_counter}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a6fe3a7f4a9923cabb93028feb604e056} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
typedef base\+\_\+class\+::item\+\_\+counter \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::item\+\_\+counter}



Item counting policy used 

\Hypertarget{classcds_1_1container_1_1_basket_queue_a9cebb332b838e747d0de630ae59a1a76}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!memory\_model@{memory\_model}}
\index{memory\_model@{memory\_model}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{memory\_model}{memory\_model}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a9cebb332b838e747d0de630ae59a1a76} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
typedef base\+\_\+class\+::memory\+\_\+model \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::memory\+\_\+model}



Memory ordering. See \doxylink{structcds_1_1opt_1_1memory__model}{cds\+::opt\+::memory\+\_\+model} option 

\Hypertarget{classcds_1_1container_1_1_basket_queue_ae47d9b79d6779c1c874f268961554648}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!node\_type@{node\_type}}
\index{node\_type@{node\_type}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{node\_type}{node\_type}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_ae47d9b79d6779c1c874f268961554648} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
typedef maker\+::node\+\_\+type \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::node\+\_\+type\hspace{0.3cm}{\ttfamily [protected]}}



queue node type (derived from \doxylink{structcds_1_1intrusive_1_1basket__queue_1_1node}{intrusive\+::basket\+\_\+queue\+::node}) 

\Hypertarget{classcds_1_1container_1_1_basket_queue_a9854d4a6bd521bd896c0ef7aa38487da}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!stat@{stat}}
\index{stat@{stat}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{stat}{stat}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a9854d4a6bd521bd896c0ef7aa38487da} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
typedef base\+\_\+class\+::stat \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::stat}



Internal statistics policy used 

\Hypertarget{classcds_1_1container_1_1_basket_queue_ab80a8d2ab122822faa2ae3965c69cc43}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!traits@{traits}}
\index{traits@{traits}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{traits}{traits}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_ab80a8d2ab122822faa2ae3965c69cc43} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
typedef Traits \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::traits}



Queue\textquotesingle{}s traits 

\Hypertarget{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!value\_type@{value\_type}}
\index{value\_type@{value\_type}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{value\_type}{value\_type}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
typedef \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::value\+\_\+type}



\doxylink{ir__common_8h_a1ac75f8fee198af783521627f1fecfbc}{Type} of value to be stored in the queue 



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1container_1_1_basket_queue_a6a5a92319a526477460f2901556348f0}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!BasketQueue@{BasketQueue}}
\index{BasketQueue@{BasketQueue}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{BasketQueue()}{BasketQueue()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a6a5a92319a526477460f2901556348f0} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::\+Basket\+Queue (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Initializes empty queue 

\Hypertarget{classcds_1_1container_1_1_basket_queue_ae2cb6884e81bf4a269c2a79d7ed68f64}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!````~BasketQueue@{\texorpdfstring{$\sim$}{\string~}BasketQueue}}
\index{````~BasketQueue@{\texorpdfstring{$\sim$}{\string~}BasketQueue}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}BasketQueue()}{\string~BasketQueue()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_ae2cb6884e81bf4a269c2a79d7ed68f64} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::\texorpdfstring{$\sim$}{\string~}\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{Basket\+Queue}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Destructor clears the queue 



\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1container_1_1_basket_queue_a6962f1e81b6eeee3ff73191d123183a1}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!clear@{clear}}
\index{clear@{clear}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a6962f1e81b6eeee3ff73191d123183a1} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::clear (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clear the queue 

The function repeatedly calls \doxylink{classcds_1_1container_1_1_basket_queue_a00184358e43d17d2655b51a43564adde}{dequeue} until it returns {\ttfamily nullptr}. \Hypertarget{classcds_1_1container_1_1_basket_queue_a00184358e43d17d2655b51a43564adde}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!dequeue@{dequeue}}
\index{dequeue@{dequeue}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{dequeue()}{dequeue()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a00184358e43d17d2655b51a43564adde} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::dequeue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} \&}]{dest}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Dequeues a value from the queue 

If queue is not empty, the function returns {\ttfamily true}, {\ttfamily dest} contains copy of dequeued value. The assignment operator for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} is invoked. If queue is empty, the function returns {\ttfamily false}, {\ttfamily dest} is unchanged. \Hypertarget{classcds_1_1container_1_1_basket_queue_add9ad95244011c10aba41fac5c4d1fa3}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!dequeue\_with@{dequeue\_with}}
\index{dequeue\_with@{dequeue\_with}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{dequeue\_with()}{dequeue\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_add9ad95244011c10aba41fac5c4d1fa3} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::dequeue\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Dequeues a value using a functor 

{\ttfamily Func} is a functor called to copy dequeued value. The functor takes one argument -\/ a reference to removed node\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{cds:container::BasketQueue<\ cds::gc::HP,\ Foo\ >\ myQueue;}
\DoxyCodeLine{Bar\ bar;}
\DoxyCodeLine{myQueue.dequeue\_with(\ [\&bar](\ Foo\&\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ )\ \{\ bar\ =\ std::move(\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ );\});}

\end{DoxyCode}
 The functor is called only if the queue is not empty. \Hypertarget{classcds_1_1container_1_1_basket_queue_ac6fe6aba53a24cbb25e3b9bfe4a3d875}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!emplace@{emplace}}
\index{emplace@{emplace}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_ac6fe6aba53a24cbb25e3b9bfe4a3d875} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
template$<$typename... Args$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::emplace (\begin{DoxyParamCaption}\item[{Args \&\&...}]{args}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues data of type \doxylink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type} constructed with {\ttfamily std\+::forward$<$\+Args$>$(args)...} 

\Hypertarget{classcds_1_1container_1_1_basket_queue_afc0a35c21841ca9d3ffc48ff3d635639}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!empty@{empty}}
\index{empty@{empty}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_afc0a35c21841ca9d3ffc48ff3d635639} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Checks if the queue is empty 

Note that this function is not {\ttfamily const}. The function is based on {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_a00184358e43d17d2655b51a43564adde}{dequeue()}} algorithm. \Hypertarget{classcds_1_1container_1_1_basket_queue_ae323ea7eba9036193ecab60626761f54}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_ae323ea7eba9036193ecab60626761f54} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} \&\&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues {\ttfamily val} value into the queue, move semantics 

\Hypertarget{classcds_1_1container_1_1_basket_queue_ae290964ee8ad026c1489042b9b7138b2}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_ae290964ee8ad026c1489042b9b7138b2} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} const \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues {\ttfamily val} value into the queue. 

The function makes queue node in dynamic memory calling copy constructor for {\ttfamily val} and then it calls {\ttfamily \doxylink{classcds_1_1intrusive_1_1_basket_queue_aab38fcb7e3dca00a866c71213d5b987d}{intrusive\+::\+Basket\+Queue\+::enqueue()}}. Returns {\ttfamily true} if success, {\ttfamily false} otherwise. \Hypertarget{classcds_1_1container_1_1_basket_queue_aa73fe1f8d793b3270e70df2bb1c45e8d}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!enqueue\_with@{enqueue\_with}}
\index{enqueue\_with@{enqueue\_with}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{enqueue\_with()}{enqueue\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_aa73fe1f8d793b3270e70df2bb1c45e8d} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::enqueue\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues {\ttfamily data} to queue using a functor 

{\ttfamily Func} is a functor called to create node. The functor {\ttfamily f} takes one argument -\/ a reference to a new node of type \doxylink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type} \+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{cds::container::BasketQueue<\ cds::gc::HP,\ Foo\ >\ myQueue;}
\DoxyCodeLine{Bar\ bar;}
\DoxyCodeLine{myQueue.\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_aa73fe1f8d793b3270e70df2bb1c45e8d}{enqueue\_with}}(\ [\&bar](\ Foo\&\ dest\ )\ \{\ dest\ =\ bar;\ \}\ );}

\end{DoxyCode}
 \Hypertarget{classcds_1_1container_1_1_basket_queue_a6f46e624f5f3af1b6573564c86509506}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!pop@{pop}}
\index{pop@{pop}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a6f46e624f5f3af1b6573564c86509506} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::pop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} \&}]{dest}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_a00184358e43d17d2655b51a43564adde}{dequeue()}} function 

\Hypertarget{classcds_1_1container_1_1_basket_queue_a71c769a2e56d54178918bc68ad9ff61a}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!pop\_with@{pop\_with}}
\index{pop\_with@{pop\_with}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{pop\_with()}{pop\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a71c769a2e56d54178918bc68ad9ff61a} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::pop\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_add9ad95244011c10aba41fac5c4d1fa3}{dequeue\+\_\+with()}} function 

\Hypertarget{classcds_1_1container_1_1_basket_queue_a76142a114e5c8bfe1b333b792481e04a}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!push@{push}}
\index{push@{push}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_a76142a114e5c8bfe1b333b792481e04a} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} \&\&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_ae290964ee8ad026c1489042b9b7138b2}{enqueue()}} function, move semantics 

\Hypertarget{classcds_1_1container_1_1_basket_queue_aba3fc72220ca20121b506938e0e7ab27}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!push@{push}}
\index{push@{push}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_aba3fc72220ca20121b506938e0e7ab27} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a93e4cf25f02e45b109b838a867e78a04}{value\+\_\+type}} const \&}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_ae290964ee8ad026c1489042b9b7138b2}{enqueue()}} function 

\Hypertarget{classcds_1_1container_1_1_basket_queue_acbf2a1aeb47c79f0335a7066d903d029}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!push\_with@{push\_with}}
\index{push\_with@{push\_with}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{push\_with()}{push\_with()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_acbf2a1aeb47c79f0335a7066d903d029} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
template$<$typename Func$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::push\+\_\+with (\begin{DoxyParamCaption}\item[{Func}]{f}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Synonym for {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_aa73fe1f8d793b3270e70df2bb1c45e8d}{enqueue\+\_\+with()}} function 

\Hypertarget{classcds_1_1container_1_1_basket_queue_acdea170b1ac796a510039d03e88a5c98}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!size@{size}}
\index{size@{size}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_acdea170b1ac796a510039d03e88a5c98} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{\+::size}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns queue\textquotesingle{}s item count 

The value returned depends on {\ttfamily Traits} (see \doxylink{structcds_1_1container_1_1basket__queue_1_1traits_a477b1fe1dcc89dda8d92a039f6cb1c6a}{basket\+\_\+queue\+::traits\+::item\+\_\+counter}). For {\ttfamily \doxylink{classcds_1_1atomicity_1_1empty__item__counter}{atomicity\+::empty\+\_\+item\+\_\+counter}}, this function always returns 0.

\begin{DoxyNote}{注解}
Even if you use real item counter and it returns 0, this fact is not mean that the queue is empty. To check queue emptyness use {\ttfamily \doxylink{classcds_1_1container_1_1_basket_queue_afc0a35c21841ca9d3ffc48ff3d635639}{empty()}} method.    
\end{DoxyNote}
\Hypertarget{classcds_1_1container_1_1_basket_queue_ac67c5cf20bc8197332c72909a970bcff}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!statistics@{statistics}}
\index{statistics@{statistics}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{statistics()}{statistics()}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_ac67c5cf20bc8197332c72909a970bcff} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
const \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue_a9854d4a6bd521bd896c0ef7aa38487da}{stat}} \& \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::statistics (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns reference to internal statistics 



\doxysubsection{类成员变量说明}
\Hypertarget{classcds_1_1container_1_1_basket_queue_aac1f4c5589ec5ff57ed75a2dcb24df14}\index{cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}!c\_nHazardPtrCount@{c\_nHazardPtrCount}}
\index{c\_nHazardPtrCount@{c\_nHazardPtrCount}!cds::container::BasketQueue$<$ GC, T, Traits $>$@{cds::container::BasketQueue$<$ GC, T, Traits $>$}}
\doxysubsubsection{\texorpdfstring{c\_nHazardPtrCount}{c\_nHazardPtrCount}}
{\footnotesize\ttfamily \label{classcds_1_1container_1_1_basket_queue_aac1f4c5589ec5ff57ed75a2dcb24df14} 
template$<$typename GC, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Traits = basket\+\_\+queue\+::traits$>$ \\
const size\+\_\+t \mbox{\hyperlink{classcds_1_1container_1_1_basket_queue}{cds\+::container\+::\+Basket\+Queue}}$<$ GC, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Traits $>$\+::c\+\_\+n\+Hazard\+Ptr\+Count = base\+\_\+class\+::c\+\_\+n\+Hazard\+Ptr\+Count\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Count of hazard pointer required for the algorithm 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/container/\mbox{\hyperlink{container_2basket__queue_8h}{basket\+\_\+queue.\+h}}\end{DoxyCompactItemize}
