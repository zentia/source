\doxysection{Tree\+Maker.\+h}
\hypertarget{_tree_maker_8h_source}{}\label{_tree_maker_8h_source}\index{external/taskflow/3rd-\/party/tbb/examples/task/tree\_sum/TreeMaker.h@{external/taskflow/3rd-\/party/tbb/examples/task/tree\_sum/TreeMaker.h}}
\mbox{\hyperlink{_tree_maker_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#ifndef\ TREE\_MAKER\_H\_}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ TREE\_MAKER\_H\_}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tick__count_8h}{tbb/tick\_count.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{task_8h}{tbb/task.h}}"{}}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{_tree_maker_8h_af865b6eb581699b60a9c9a613cc2b83f}{Pi}}\ =\ 3.14159265358979;}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{_tree_maker_8h_afa4d89b8fa7c4231a40cc7c620db1876}{tbbmalloc}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00026\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{_tree_maker_8h_aee6bf78536a4100257566ea7355789a4}{stdmalloc}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{template}<\textcolor{keywordtype}{bool}\ use\_tbbmalloc>}
\DoxyCodeLine{00029\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_tree_maker}{TreeMaker}}\ \{}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_aea685a3427548a86c69deed2e1377027}{SubTreeCreationTask}}:\ \textcolor{keyword}{public}\ tbb::task\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_tree_node}{TreeNode}}*\&\ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_ab792af00334a9ac0a03fdb28a1055187}{my\_root}};}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_a80bc8a2f9fa70c73b96cf111e73db547}{is\_continuation}};}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_tree_maker}{TreeMaker<use\_tbbmalloc>}}\ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_a7afc6b8c36440e6aa6dcba2f28310831}{MyTreeMaker}};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_aea685a3427548a86c69deed2e1377027}{SubTreeCreationTask}}(\ \mbox{\hyperlink{struct_tree_node}{TreeNode}}*\&\ root,\ \textcolor{keywordtype}{long}\ number\_of\_nodes\ )\ :\ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_ab792af00334a9ac0a03fdb28a1055187}{my\_root}}(root),\ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_a80bc8a2f9fa70c73b96cf111e73db547}{is\_continuation}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_ab792af00334a9ac0a03fdb28a1055187}{my\_root}}\ =\ \mbox{\hyperlink{class_tree_maker_aa63e4faee75e10a10c1579f2c98f8ccf}{MyTreeMaker::allocate\_node}}();}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_ab792af00334a9ac0a03fdb28a1055187}{my\_root}}-\/>node\_count\ =\ number\_of\_nodes;}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_ab792af00334a9ac0a03fdb28a1055187}{my\_root}}-\/>value\ =\ \mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2task_2tree__sum_2common_8h_a18cf6695002fb1308814915b24fb1c4b}{Value}}(\mbox{\hyperlink{_tree_maker_8h_af865b6eb581699b60a9c9a613cc2b83f}{Pi}}*number\_of\_nodes);}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ tbb::task*\ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_aa1620901c5578164b0b546af1b90713c}{execute}}()\ \textcolor{comment}{/*override*/}\ \{}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ tbb::task*\ next\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !\mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_a80bc8a2f9fa70c73b96cf111e73db547}{is\_continuation}}\ )\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ subtree\_size\ =\ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_ab792af00334a9ac0a03fdb28a1055187}{my\_root}}-\/>node\_count\ -\/\ 1;}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ subtree\_size<1000\ )\ \{\ \textcolor{comment}{/*\ grainsize\ */}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_ab792af00334a9ac0a03fdb28a1055187}{my\_root}}-\/>left\ \ =\ \mbox{\hyperlink{class_tree_maker_af0f89f64742221591dacff8e022f84ef}{MyTreeMaker::do\_in\_one\_thread}}(subtree\_size/2);}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_ab792af00334a9ac0a03fdb28a1055187}{my\_root}}-\/>right\ =\ \mbox{\hyperlink{class_tree_maker_af0f89f64742221591dacff8e022f84ef}{MyTreeMaker::do\_in\_one\_thread}}(subtree\_size\ -\/\ subtree\_size/2);}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ tasks\ before\ spawning\ any\ of\ them.}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tbb::task*\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ =\ \textcolor{keyword}{new}(\ allocate\_child()\ )\ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_aea685a3427548a86c69deed2e1377027}{SubTreeCreationTask}}(\mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_ab792af00334a9ac0a03fdb28a1055187}{my\_root}}-\/>left,subtree\_size/2);}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tbb::task*\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ \textcolor{keyword}{new}(\ allocate\_child()\ )\ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_aea685a3427548a86c69deed2e1377027}{SubTreeCreationTask}}(\mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_ab792af00334a9ac0a03fdb28a1055187}{my\_root}}-\/>right,subtree\_size\ -\/\ subtree\_size/2);}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ recycle\_as\_continuation();}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task_a80bc8a2f9fa70c73b96cf111e73db547}{is\_continuation}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ set\_ref\_count(2);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__scalable__pipelines_8cpp_a28d67ed972e7388aae4da7bffe20d7b2}{spawn}}(*\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}});}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ next\ =\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}};}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ next;}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00063\ \ \ \ \ \};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{struct_tree_node}{TreeNode}}*\ \mbox{\hyperlink{class_tree_maker_aa63e4faee75e10a10c1579f2c98f8ccf}{allocate\_node}}()\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ use\_tbbmalloc?\ tbb::scalable\_allocator<TreeNode>().allocate(1)\ :\ \textcolor{keyword}{new}\ \mbox{\hyperlink{struct_tree_node}{TreeNode}};}
\DoxyCodeLine{00068\ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{struct_tree_node}{TreeNode}}*\ \mbox{\hyperlink{class_tree_maker_af0f89f64742221591dacff8e022f84ef}{do\_in\_one\_thread}}(\ \textcolor{keywordtype}{long}\ number\_of\_nodes\ )\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ number\_of\_nodes==0\ )\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_tree_node}{TreeNode}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ \mbox{\hyperlink{class_tree_maker_aa63e4faee75e10a10c1579f2c98f8ccf}{allocate\_node}}();}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>node\_count\ =\ number\_of\_nodes;}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>value\ =\ \mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2task_2tree__sum_2common_8h_a18cf6695002fb1308814915b24fb1c4b}{Value}}(\mbox{\hyperlink{_tree_maker_8h_af865b6eb581699b60a9c9a613cc2b83f}{Pi}}*number\_of\_nodes);}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/number\_of\_nodes;}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>left\ \ =\ \mbox{\hyperlink{class_tree_maker_af0f89f64742221591dacff8e022f84ef}{do\_in\_one\_thread}}(\ number\_of\_nodes/2\ );\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>right\ =\ \mbox{\hyperlink{class_tree_maker_af0f89f64742221591dacff8e022f84ef}{do\_in\_one\_thread}}(\ number\_of\_nodes\ -\/\ number\_of\_nodes/2\ );}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00082\ \ \ \ \ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{struct_tree_node}{TreeNode}}*\ \mbox{\hyperlink{class_tree_maker_a765614198d35a63391e60023325036ec}{do\_in\_parallel}}(\ \textcolor{keywordtype}{long}\ number\_of\_nodes\ )\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_tree_node}{TreeNode}}*\ root\_node;}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task}{SubTreeCreationTask}}\&\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ =\ *\textcolor{keyword}{new}(tbb::task::allocate\_root())\ \mbox{\hyperlink{class_tree_maker_1_1_sub_tree_creation_task}{SubTreeCreationTask}}(root\_node,\ number\_of\_nodes);}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ tbb::task::spawn\_root\_and\_wait(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}});}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ root\_node;}
\DoxyCodeLine{00089\ \ \ \ \ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{struct_tree_node}{TreeNode}}*\ \mbox{\hyperlink{class_tree_maker_ac2ca61c5586a738102f7f3f7d8efbdd8}{create\_and\_time}}(\ \textcolor{keywordtype}{long}\ number\_of\_nodes,\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{count__strings_8cpp_ad24c893e4fad94ab257de2153e3d7c75}{silent}}=\textcolor{keyword}{false}\ )\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtbb_1_1tick__count}{tbb::tick\_count}}\ \mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}},\ t1;}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_tree_node}{TreeNode}}*\ root\ =\ \mbox{\hyperlink{class_tree_maker_aa63e4faee75e10a10c1579f2c98f8ccf}{allocate\_node}}();}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ root-\/>node\_count\ =\ number\_of\_nodes;}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ root-\/>value\ =\ \mbox{\hyperlink{external_2taskflow_23rd-party_2tbb_2examples_2task_2tree__sum_2common_8h_a18cf6695002fb1308814915b24fb1c4b}{Value}}(\mbox{\hyperlink{_tree_maker_8h_af865b6eb581699b60a9c9a613cc2b83f}{Pi}}*number\_of\_nodes);}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ -\/-\/number\_of\_nodes;}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}\ =\ \mbox{\hyperlink{classtbb_1_1tick__count_a74dcecde7431ff4591d7c46fc1d50d7e}{tbb::tick\_count::now}}();}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ root-\/>left\ \ =\ \mbox{\hyperlink{class_tree_maker_af0f89f64742221591dacff8e022f84ef}{do\_in\_one\_thread}}(\ number\_of\_nodes/2\ );}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ t1\ =\ \mbox{\hyperlink{classtbb_1_1tick__count_a74dcecde7431ff4591d7c46fc1d50d7e}{tbb::tick\_count::now}}();}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{count__strings_8cpp_ad24c893e4fad94ab257de2153e3d7c75}{silent}}\ )\ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}\ (\textcolor{stringliteral}{"{}\%24s:\ time\ =\ \%.1f\ msec\(\backslash\)n"{}},\ \textcolor{stringliteral}{"{}half\ created\ serially"{}},\ (t1-\/\mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}).seconds()*1000);}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}\ =\ \mbox{\hyperlink{classtbb_1_1tick__count_a74dcecde7431ff4591d7c46fc1d50d7e}{tbb::tick\_count::now}}();}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ root-\/>right\ =\ \mbox{\hyperlink{class_tree_maker_a765614198d35a63391e60023325036ec}{do\_in\_parallel}}(\ number\_of\_nodes\ -\/\ number\_of\_nodes/2\ );}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ t1\ =\ \mbox{\hyperlink{classtbb_1_1tick__count_a74dcecde7431ff4591d7c46fc1d50d7e}{tbb::tick\_count::now}}();}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{count__strings_8cpp_ad24c893e4fad94ab257de2153e3d7c75}{silent}}\ )\ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}\ (\textcolor{stringliteral}{"{}\%24s:\ time\ =\ \%.1f\ msec\(\backslash\)n"{}},\ \textcolor{stringliteral}{"{}half\ done\ in\ parallel"{}},\ (t1-\/\mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}).seconds()*1000);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ root;}
\DoxyCodeLine{00109\ \ \ \ \ \}}
\DoxyCodeLine{00110\ \};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ TREE\_MAKER\_H\_}}

\end{DoxyCode}
