\doxysection{mdc.\+h}
\hypertarget{mdc_8h_source}{}\label{mdc_8h_source}\index{runtime/spdlog/include/spdlog/mdc.h@{runtime/spdlog/include/spdlog/mdc.h}}
\mbox{\hyperlink{mdc_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright(c)\ 2015-\/present,\ Gabi\ Melman\ \&\ spdlog\ contributors.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Distributed\ under\ the\ MIT\ License\ (http://opensource.org/licenses/MIT)}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#if\ defined(SPDLOG\_NO\_TLS)}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\ \ \ \ \#error\ "{}This\ header\ requires\ thread\ local\ storage\ support,\ but\ SPDLOG\_NO\_TLS\ is\ defined."{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{common_8h}{spdlog/common.h}}>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{comment}{//\ MDC\ is\ a\ simple\ map\ of\ key-\/>string\ values\ stored\ in\ thread\ local\ storage\ whose\ content\ will\ be\ printed\ by\ the\ loggers.}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ Note:\ Not\ supported\ in\ async\ mode\ (thread\ local\ storage\ -\/\ so\ the\ async\ thread\ pool\ have\ different\ copy).}}
\DoxyCodeLine{00017\ \textcolor{comment}{//}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ Usage\ example:}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ spdlog::mdc::put("{}mdc\_key\_1"{},\ "{}mdc\_value\_1"{});}}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ spdlog::info("{}Hello,\ \{\}"{},\ "{}World!"{});\ \ //\ =>\ [2024-\/04-\/26\ 02:08:05.040]\ [info]\ [mdc\_key\_1:mdc\_value\_1]\ Hello,\ World!}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacespdlog}{spdlog}}\ \{}
\DoxyCodeLine{00023\ \textcolor{keyword}{class\ }\mbox{\hyperlink{common_8h_a52ddbd25f1bb074a1b09e10a3e5b177d}{SPDLOG\_API}}\ \mbox{\hyperlink{classspdlog_1_1mdc}{mdc}}\ \{}
\DoxyCodeLine{00024\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classspdlog_1_1mdc_a4889886d85ddbb0b5f6037282aa4a63c}{mdc\_map\_t}}\ =\ std::map<std::string,\ std::string>;}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classspdlog_1_1mdc_a83fad3e2b07f3ecfb5299a482b653113}{put}}(\textcolor{keyword}{const}\ std::string\ \&\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}},\ \textcolor{keyword}{const}\ std::string\ \&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1b2be7bfa84f129a2690a62f3ad82d62}{value}})\ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classspdlog_1_1mdc_a3efc61f555d65f08a00af012b98b97f5}{get\_context}}()[\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}}]\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a1b2be7bfa84f129a2690a62f3ad82d62}{value}};}
\DoxyCodeLine{00029\ \ \ \ \ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{static}\ std::string\ \mbox{\hyperlink{classspdlog_1_1mdc_a7de136992a481377310b8d5a7264ba25}{get}}(\textcolor{keyword}{const}\ std::string\ \&\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}})\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \&\mbox{\hyperlink{classcontext}{context}}\ =\ \mbox{\hyperlink{classspdlog_1_1mdc_a3efc61f555d65f08a00af012b98b97f5}{get\_context}}();}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ \mbox{\hyperlink{classcontext}{context}}.find(\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}});}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ \mbox{\hyperlink{classcontext}{context}}.end())\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it-\/>second;}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00038\ \ \ \ \ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classspdlog_1_1mdc_af39a95b37396ca0c7e47a8447bcf7cf1}{remove}}(\textcolor{keyword}{const}\ std::string\ \&\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}})\ \{\ \mbox{\hyperlink{classspdlog_1_1mdc_a3efc61f555d65f08a00af012b98b97f5}{get\_context}}().erase(\mbox{\hyperlink{gears_8c_accd6b5b92b78666e36543412d4ac14cd}{key}});\ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classspdlog_1_1mdc_a85f0fbbb56870b41bde8c4ca6448a703}{clear}}()\ \{\ \mbox{\hyperlink{classspdlog_1_1mdc_a3efc61f555d65f08a00af012b98b97f5}{get\_context}}().clear();\ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classspdlog_1_1mdc_a4889886d85ddbb0b5f6037282aa4a63c}{mdc\_map\_t}}\ \&\mbox{\hyperlink{classspdlog_1_1mdc_a3efc61f555d65f08a00af012b98b97f5}{get\_context}}()\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{thread\_local}\ \mbox{\hyperlink{classspdlog_1_1mdc_a4889886d85ddbb0b5f6037282aa4a63c}{mdc\_map\_t}}\ \mbox{\hyperlink{classcontext}{context}};}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcontext}{context}};}
\DoxyCodeLine{00047\ \ \ \ \ \}}
\DoxyCodeLine{00048\ \};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \}\ \ \textcolor{comment}{//\ namespace\ spdlog}}

\end{DoxyCode}
