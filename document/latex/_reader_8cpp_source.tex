\doxysection{Reader.\+cpp}
\hypertarget{_reader_8cpp_source}{}\label{_reader_8cpp_source}\index{external/reflect-\/cpp/src/rfl/capnproto/Reader.cpp@{external/reflect-\/cpp/src/rfl/capnproto/Reader.cpp}}
\mbox{\hyperlink{_reader_8cpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{capnproto_2_reader_8hpp}{rfl/capnproto/Reader.hpp}}"{}}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_is_schemaful_reader_8hpp}{rfl/parsing/schemaful/IsSchemafulReader.hpp}}"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl_1_1capnproto}{rfl::capnproto}}\ \{}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{static\_assert}(parsing::schemaful::IsSchemafulReader<Reader>,}
\DoxyCodeLine{00008\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ must\ be\ a\ schemaful\ reader."{}});}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ std::optional<std::pair<capnp::StructSchema::Field,\ size\_t>>}
\DoxyCodeLine{00011\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_reader_a7ddfeb65d4c757d0d3db701522091783}{Reader::identify\_discriminant}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_reader_a5e55e664dc3fd549acea9044e04f552a}{InputUnionType}}\&\ \_union)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00012\ \ \ \textcolor{keywordtype}{size\_t}\ ix\ =\ 0;}
\DoxyCodeLine{00013\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ field\ :\ \_union.val\_.getSchema().getFields())\ \{}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_union.val\_.has(field))\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_pair(field,\ ix);}
\DoxyCodeLine{00016\ \ \ \ \ \}}
\DoxyCodeLine{00017\ \ \ \ \ ++ix;}
\DoxyCodeLine{00018\ \ \ \}}
\DoxyCodeLine{00019\ \ \ \textcolor{keywordflow}{return}\ std::optional<std::pair<capnp::StructSchema::Field,\ size\_t>>();}
\DoxyCodeLine{00020\ \}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \}\ \ \textcolor{comment}{//\ namespace\ rfl::capnproto}}

\end{DoxyCode}
