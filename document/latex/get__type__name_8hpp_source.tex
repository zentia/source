\doxysection{get\+\_\+type\+\_\+name.\+hpp}
\hypertarget{get__type__name_8hpp_source}{}\label{get__type__name_8hpp_source}\index{external/reflect-\/cpp/include/rfl/internal/get\_type\_name.hpp@{external/reflect-\/cpp/include/rfl/internal/get\_type\_name.hpp}}
\mbox{\hyperlink{get__type__name_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ RFL\_INTERNAL\_GETTYPENAME\_HPP\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ RFL\_INTERNAL\_GETTYPENAME\_HPP\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_string_literal_8hpp}{StringLiteral.hpp}}"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#if\ \_\_has\_include(<source\_location>)}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <source\_location>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl}{rfl}}\ \{}
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl_1_1internal}{internal}}\ \{}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00016\ \textcolor{keyword}{consteval}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacerfl_1_1internal_ac2494519cc9d3b019df93d7f950d605f}{get\_type\_name\_str\_view}}()\ \{}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#if\ \_\_cpp\_lib\_source\_location\ >=\ 201907L}}
\DoxyCodeLine{00018\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ func\_name\ =}
\DoxyCodeLine{00019\ \ \ \ \ \ \ std::string\_view\{std::source\_location::current().function\_name()\};}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)}}
\DoxyCodeLine{00021\ \ \ \textcolor{comment}{//\ Officially,\ we\ only\ support\ MSVC\ versions\ that\ are\ modern\ enough\ to\ contain}}
\DoxyCodeLine{00022\ \ \ \textcolor{comment}{//\ <source\_location>,\ but\ inofficially,\ this\ might\ work.}}
\DoxyCodeLine{00023\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ func\_name\ =\ std::string\_view\{\_\_FUNCSIG\_\_\};}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00025\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ func\_name\ =\ std::string\_view\{\_\_PRETTY\_FUNCTION\_\_\};}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#if\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00028\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}\ =\ func\_name.substr(0,\ func\_name.size()\ -\/\ 1);}
\DoxyCodeLine{00029\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}.substr(\mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}.find(\textcolor{stringliteral}{"{}T\ =\ "{}})\ +\ 4);}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#elif\ defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}\ =\ func\_name.substr(0,\ func\_name.size()\ -\/\ 1);}
\DoxyCodeLine{00032\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}.substr(\mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}.find(\textcolor{stringliteral}{"{}T\ =\ "{}})\ +\ 4);}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)}}
\DoxyCodeLine{00034\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}\ =\ func\_name.substr(0,\ func\_name.size()\ -\/\ 7);}
\DoxyCodeLine{00035\ \ \ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}\ =\ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}.substr(\mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}.find(\textcolor{stringliteral}{"{}get\_type\_name\_str\_view<"{}})\ +\ 23);}
\DoxyCodeLine{00036\ \ \ \textcolor{keyword}{auto}\ pos\ =\ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}.find(\textcolor{stringliteral}{"{}\ "{}});}
\DoxyCodeLine{00037\ \ \ \textcolor{keywordflow}{if}\ (pos\ !=\ std::string\_view::npos)\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}}.substr(pos\ +\ 1);}
\DoxyCodeLine{00039\ \ \ \}}
\DoxyCodeLine{00040\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{dff__run_8cpp_a0711bc625a1e6944ca62107b5847365f}{split}};}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00042\ \ \ \textcolor{keyword}{static\_assert}(}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \textcolor{keyword}{false},}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}You\ are\ using\ an\ unsupported\ compiler.\ Please\ use\ GCC,\ Clang\ "{}}}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}or\ MSVC\ or\ explicitly\ tag\ your\ structs\ using\ 'Tag'\ or\ 'Name'."{}});}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00047\ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00050\ \textcolor{keyword}{consteval}\ \textcolor{keyword}{auto}\ \ \ \mbox{\hyperlink{namespacerfl_1_1internal_a84fdc8ca8a7bd3b1397de3c4c2d7610d}{get\_type\_name}}()\ \{}
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespacerfl_1_1internal_ac2494519cc9d3b019df93d7f950d605f}{get\_type\_name\_str\_view<int>}}()\ ==\ \textcolor{stringliteral}{"{}int"{}},}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Expected\ 'int',\ got\ something\ else."{}});}
\DoxyCodeLine{00053\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}\ =\ \mbox{\hyperlink{namespacerfl_1_1internal_ac2494519cc9d3b019df93d7f950d605f}{get\_type\_name\_str\_view<T>}}();}
\DoxyCodeLine{00054\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ to\_str\_lit\ =\ [\&]<\textcolor{keyword}{auto}...\ Ns>(std::index\_sequence<Ns...>)\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structrfl_1_1internal_1_1_string_literal}{StringLiteral}}<\textcolor{keyword}{sizeof}...(Ns)\ +\ 1>\{\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}[Ns]...\};}
\DoxyCodeLine{00056\ \ \ \};}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{return}\ to\_str\_lit(std::make\_index\_sequence<\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}.size()>\{\});}
\DoxyCodeLine{00058\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00061\ \}\ \ \textcolor{comment}{//\ namespace\ rfl}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
