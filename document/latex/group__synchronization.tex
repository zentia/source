\doxysection{Synchronization}
\hypertarget{group__synchronization}{}\label{group__synchronization}\index{Synchronization@{Synchronization}}
\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classtbb_1_1null__mutex}{tbb\+::null\+\_\+mutex}}
\begin{DoxyCompactList}\small\item\em \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} mutex which does nothing \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classtbb_1_1null__rw__mutex}{tbb\+::null\+\_\+rw\+\_\+mutex}}
\begin{DoxyCompactList}\small\item\em \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} rw mutex which does nothing \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classtbb_1_1queuing__mutex}{tbb\+::queuing\+\_\+mutex}}
\begin{DoxyCompactList}\small\item\em Queuing mutex with local-\/only spinning. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classtbb_1_1queuing__rw__mutex}{tbb\+::queuing\+\_\+rw\+\_\+mutex}}
\begin{DoxyCompactList}\small\item\em Queuing reader-\/writer mutex with local-\/only spinning. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classtbb_1_1spin__mutex}{tbb\+::spin\+\_\+mutex}}
\begin{DoxyCompactList}\small\item\em \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} lock that occupies a single byte. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classtbb_1_1spin__rw__mutex__v3}{tbb\+::spin\+\_\+rw\+\_\+mutex\+\_\+v3}}
\begin{DoxyCompactList}\small\item\em Fast, unfair, spinning reader-\/writer lock with backoff and writer-\/preference \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classtbb_1_1spin__rw__mutex}{tbb\+::spin\+\_\+rw\+\_\+mutex}}
\begin{DoxyCompactList}\small\item\em Fast, unfair, spinning reader-\/writer lock with backoff and writer-\/preference \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__synchronization_ga0cb09f83ba16033ade02c8896ed69c9a}{\+\_\+\+\_\+\+TBB\+\_\+\+DECL\+\_\+\+ATOMIC}}(\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}})
\begin{DoxyCompactList}\small\item\em Primary template for atomic. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classtbb_1_1interface7_1_1internal_1_1padded__mutex}{interface7\+::internal\+::padded\+\_\+mutex}}$<$ \mbox{\hyperlink{classtbb_1_1spin__mutex}{spin\+\_\+mutex}}, \mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}} $>$ \mbox{\hyperlink{group__synchronization_gaaa37cbd66059817a12393e6ff53ae3be}{tbb\+::speculative\+\_\+spin\+\_\+mutex}}
\begin{DoxyCompactList}\small\item\em \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} cross-\/platform spin mutex with speculative lock acquisition. \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{classtbb_1_1interface7_1_1internal_1_1padded__mutex}{interface7\+::internal\+::padded\+\_\+mutex}}$<$ \mbox{\hyperlink{classtbb_1_1spin__rw__mutex}{tbb\+::spin\+\_\+rw\+\_\+mutex}}, \mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}} $>$ \mbox{\hyperlink{group__synchronization_ga802372513021fc3ba3741c387b294987}{tbb\+::interface8\+::speculative\+\_\+spin\+\_\+rw\+\_\+mutex}}
\begin{DoxyCompactList}\small\item\em \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} cross-\/platform spin reader/writer mutex with speculative lock acquisition. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}


\doxysubsection{宏定义说明}
\Hypertarget{group__synchronization_ga0cb09f83ba16033ade02c8896ed69c9a}\index{Synchronization@{Synchronization}!\_\_TBB\_DECL\_ATOMIC@{\_\_TBB\_DECL\_ATOMIC}}
\index{\_\_TBB\_DECL\_ATOMIC@{\_\_TBB\_DECL\_ATOMIC}!Synchronization@{Synchronization}}
\doxysubsubsection{\texorpdfstring{\_\_TBB\_DECL\_ATOMIC}{\_\_TBB\_DECL\_ATOMIC}}
{\footnotesize\ttfamily \label{group__synchronization_ga0cb09f83ba16033ade02c8896ed69c9a} 
\#define \+\_\+\+\_\+\+TBB\+\_\+\+DECL\+\_\+\+ATOMIC(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}}{}\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{template}<>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{flow__graph_8h_ac9b709be8146ae15a620426542997095}{\_\_TBB\_DEPRECATED\_IN\_VERBOSE\_MODE\_MSG}}(\textcolor{stringliteral}{"{}tbb::atomic\ is\ deprecated,\ use\ std::atomic"{}})\ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic}}<\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}>:\ internal::atomic\_impl\_with\_arithmetic<T,T,char>\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ operator=(\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}\ )\ \{\textcolor{keywordflow}{return}\ store\_with\_release(\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}});\}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic<T>}}\&\ operator=(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic<T>}}\&\ \mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}}\ )\ \{store\_with\_release(\mbox{\hyperlink{poisson_8cpp_a38c677f5cc4e47bc7505aef707c1bb83}{rhs}});\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\}\ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \};}

\end{DoxyCode}


Primary template for atomic. 

See the Reference for details. 

\doxysubsection{类型定义说明}
\Hypertarget{group__synchronization_gaaa37cbd66059817a12393e6ff53ae3be}\index{Synchronization@{Synchronization}!speculative\_spin\_mutex@{speculative\_spin\_mutex}}
\index{speculative\_spin\_mutex@{speculative\_spin\_mutex}!Synchronization@{Synchronization}}
\doxysubsubsection{\texorpdfstring{speculative\_spin\_mutex}{speculative\_spin\_mutex}}
{\footnotesize\ttfamily \label{group__synchronization_gaaa37cbd66059817a12393e6ff53ae3be} 
typedef \mbox{\hyperlink{classtbb_1_1interface7_1_1internal_1_1padded__mutex}{interface7\+::internal\+::padded\+\_\+mutex}}$<$\mbox{\hyperlink{classtbb_1_1spin__mutex}{spin\+\_\+mutex}},\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}$>$ \mbox{\hyperlink{group__synchronization_gaaa37cbd66059817a12393e6ff53ae3be}{tbb\+::speculative\+\_\+spin\+\_\+mutex}}}



\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} cross-\/platform spin mutex with speculative lock acquisition. 

On platforms with proper HW support, this lock may speculatively execute its critical sections, using HW mechanisms to detect real data races and ensure atomicity of the critical sections. In particular, it uses Intel(\+R) Transactional Synchronization Extensions (Intel(\+R) TSX). Without such HW support, it behaves like a \doxylink{classtbb_1_1spin__mutex}{spin\+\_\+mutex}. It should be used for locking short critical sections where the lock is contended but the data it protects are not. If zero-\/initialized, the mutex is considered unheld. \Hypertarget{group__synchronization_ga802372513021fc3ba3741c387b294987}\index{Synchronization@{Synchronization}!speculative\_spin\_rw\_mutex@{speculative\_spin\_rw\_mutex}}
\index{speculative\_spin\_rw\_mutex@{speculative\_spin\_rw\_mutex}!Synchronization@{Synchronization}}
\doxysubsubsection{\texorpdfstring{speculative\_spin\_rw\_mutex}{speculative\_spin\_rw\_mutex}}
{\footnotesize\ttfamily \label{group__synchronization_ga802372513021fc3ba3741c387b294987} 
typedef \mbox{\hyperlink{classtbb_1_1interface7_1_1internal_1_1padded__mutex}{interface7\+::internal\+::padded\+\_\+mutex}}$<$\mbox{\hyperlink{classtbb_1_1spin__rw__mutex}{tbb\+::spin\+\_\+rw\+\_\+mutex}},\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}$>$ \mbox{\hyperlink{group__synchronization_ga802372513021fc3ba3741c387b294987}{tbb\+::interface8\+::speculative\+\_\+spin\+\_\+rw\+\_\+mutex}}}



\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} cross-\/platform spin reader/writer mutex with speculative lock acquisition. 

On platforms with proper HW support, this lock may speculatively execute its critical sections, using HW mechanisms to detect real data races and ensure atomicity of the critical sections. In particular, it uses Intel(\+R) Transactional Synchronization Extensions (Intel(\+R) TSX). Without such HW support, it behaves like a \doxylink{classtbb_1_1spin__rw__mutex}{spin\+\_\+rw\+\_\+mutex}. It should be used for locking short critical sections where the lock is contended but the data it protects are not. 