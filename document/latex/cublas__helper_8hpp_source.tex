\doxysection{cublas\+\_\+helper.\+hpp}
\hypertarget{cublas__helper_8hpp_source}{}\label{cublas__helper_8hpp_source}\index{external/taskflow/sandbox/cublas\_core/cublas\_helper.hpp@{external/taskflow/sandbox/cublas\_core/cublas\_helper.hpp}}
\mbox{\hyperlink{cublas__helper_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cublas__handle_8hpp}{cublas\_handle.hpp}}"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetf}{tf}}\ \{}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ global\ utility\ functions}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ find\ the\ tranposed\ op}}
\DoxyCodeLine{00011\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}},\ std::enable\_if<}
\DoxyCodeLine{00012\ \ \ std::is\_same\_v<T,\ float>\ \&\&\ std::is\_same\_v<T,\ double>,\ \textcolor{keywordtype}{void}>*\ =\ \textcolor{keyword}{nullptr}}
\DoxyCodeLine{00013\ >}
\DoxyCodeLine{00014\ \textcolor{keyword}{constexpr}\ cublasOperation\_t\ \mbox{\hyperlink{namespacetf_a6b8add882bb020c45d29326241ca9215}{cublas\_rtran}}(cublasOperation\_t\ op)\ \{}
\DoxyCodeLine{00015\ \ \ \textcolor{keywordflow}{if}(op\ !=\ CUBLAS\_OP\_N\ \&\&\ op\ !=\ CUBLAS\_OP\_T)\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \mbox{\hyperlink{error_8hpp_aecd66f17d01de60aeb9cae992c9dd4bf}{TF\_THROW}}(\textcolor{stringliteral}{"{}invalid\ transposition\ op\ for\ floating\ data\ types"{}});}
\DoxyCodeLine{00017\ \ \ \}}
\DoxyCodeLine{00018\ \ \ \textcolor{keywordflow}{return}\ (op\ ==\ CUBLAS\_OP\_N)\ ?\ CUBLAS\_OP\_T\ :\ CUBLAS\_OP\_N;}
\DoxyCodeLine{00019\ \}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{comment}{//\ find\ the\ transposed\ fill}}
\DoxyCodeLine{00022\ \textcolor{keyword}{constexpr}\ cublasFillMode\_t\ \mbox{\hyperlink{namespacetf_a455b7c622f040faa0e7c704764267ac3}{cublas\_rfill}}(cublasFillMode\_t\ uplo)\ \{}
\DoxyCodeLine{00023\ \ \ \textcolor{keywordflow}{switch}(uplo)\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordflow}{case}\ CUBLAS\_FILL\_MODE\_LOWER:\ \textcolor{keywordflow}{return}\ CUBLAS\_FILL\_MODE\_UPPER;}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{case}\ CUBLAS\_FILL\_MODE\_UPPER:\ \textcolor{keywordflow}{return}\ CUBLAS\_FILL\_MODE\_LOWER;}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordflow}{default}:\ \textcolor{keywordflow}{return}\ uplo;}
\DoxyCodeLine{00027\ \ \ \}}
\DoxyCodeLine{00028\ \}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{comment}{//\ find\ the\ transposed\ side}}
\DoxyCodeLine{00031\ \textcolor{keyword}{constexpr}\ cublasSideMode\_t\ \mbox{\hyperlink{namespacetf_a4cf0eac88a6726b50dc559bf70d7c5e0}{cublas\_rside}}(cublasSideMode\_t\ side)\ \{}
\DoxyCodeLine{00032\ \ \ \textcolor{keywordflow}{switch}(side)\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordflow}{case}\ CUBLAS\_SIDE\_LEFT\ :\ \textcolor{keywordflow}{return}\ CUBLAS\_SIDE\_RIGHT;}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordflow}{case}\ CUBLAS\_SIDE\_RIGHT:\ \textcolor{keywordflow}{return}\ CUBLAS\_SIDE\_LEFT;}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordflow}{default}:\ \textcolor{keywordflow}{return}\ side;}
\DoxyCodeLine{00036\ \ \ \}}
\DoxyCodeLine{00037\ \}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00040\ \textcolor{comment}{//\ cublasFlowCapturer\ helper\ functions}}
\DoxyCodeLine{00041\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{comment}{//\ Function:\ vset}}
\DoxyCodeLine{00044\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}},}
\DoxyCodeLine{00045\ \ \ std::enable\_if\_t<!std::is\_same\_v<T,\ void>,\ \textcolor{keywordtype}{void}>*}
\DoxyCodeLine{00046\ >}
\DoxyCodeLine{00047\ \mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{classtf_1_1cublas_flow_capturer_a5e5d2a2502fcfe0094d5ac354995cb71}{cublasFlowCapturer::vset}}(}
\DoxyCodeLine{00048\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}},\ \textcolor{keywordtype}{int}\ inch,\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}},\ \textcolor{keywordtype}{int}\ incd}
\DoxyCodeLine{00049\ )\ \{}
\DoxyCodeLine{00050\ \ \ \textcolor{keywordflow}{return}\ factory()-\/>on([\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}},\ inch,\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}},\ incd]\ (cudaStream\_t\ stream)\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{cublas__error_8hpp_a33522c7eaf0222e2fe42854c0b57a94b}{TF\_CHECK\_CUBLAS}}(}
\DoxyCodeLine{00052\ \ \ \ \ \ \ cublasSetVectorAsync(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}),\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}},\ inch,\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}},\ incd,\ stream),}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}failed\ to\ run\ vset\_async"{}}}
\DoxyCodeLine{00054\ \ \ \ \ );}
\DoxyCodeLine{00055\ \ \ \});}
\DoxyCodeLine{00056\ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{comment}{//\ Function:\ vget}}
\DoxyCodeLine{00059\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}},}
\DoxyCodeLine{00060\ \ \ std::enable\_if\_t<!std::is\_same\_v<T,\ void>,\ \textcolor{keywordtype}{void}>*}
\DoxyCodeLine{00061\ >}
\DoxyCodeLine{00062\ \mbox{\hyperlink{classtf_1_1cuda_task}{cudaTask}}\ \mbox{\hyperlink{classtf_1_1cublas_flow_capturer_af8f5052cbe1203d6ee3d3d40dffbb8eb}{cublasFlowCapturer::vget}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}},\ \textcolor{keywordtype}{int}\ incd,\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}},\ \textcolor{keywordtype}{int}\ inch)\ \{}
\DoxyCodeLine{00063\ \ \ \textcolor{keywordflow}{return}\ factory()-\/>on([\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}},\ incd,\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}},\ inch]\ (cudaStream\_t\ stream)\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{cublas__error_8hpp_a33522c7eaf0222e2fe42854c0b57a94b}{TF\_CHECK\_CUBLAS}}(}
\DoxyCodeLine{00065\ \ \ \ \ \ \ cublasGetVectorAsync(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}),\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}},\ incd,\ \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}},\ inch,\ stream),}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}failed\ to\ run\ vget\_async"{}}}
\DoxyCodeLine{00067\ \ \ \ \ );}
\DoxyCodeLine{00068\ \ \ \});}
\DoxyCodeLine{00069\ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \}\ \ \textcolor{comment}{//\ end\ of\ namespace\ tf\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ }

\end{DoxyCode}
