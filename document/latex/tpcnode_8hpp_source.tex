\doxysection{tpcnode.\+hpp}
\hypertarget{tpcnode_8hpp_source}{}\label{tpcnode_8hpp_source}\index{external/taskflow/3rd-\/party/ff/tpcnode.hpp@{external/taskflow/3rd-\/party/ff/tpcnode.hpp}}
\mbox{\hyperlink{tpcnode_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/*-\/\ Mode:\ C++;\ tab-\/width:\ 2;\ c-\/basic-\/offset:\ 4;\ indent-\/tabs-\/mode:\ nil\ -\/*-\/\ */}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{comment}{/*\ ***************************************************************************}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ \ FastFlow\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or\ modify\ it}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ \ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public\ License\ version\ 3\ as}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ \ published\ by\ the\ Free\ Software\ Foundation.}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ \ Starting\ from\ version\ 3.0.1\ FastFlow\ is\ dual\ licensed\ under\ the\ GNU\ LGPLv3}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ \ or\ MIT\ License\ (https://github.com/ParaGroup/WindFlow/blob/vers3.x/LICENSE.MIT)}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ \ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,\ but\ WITHOUT}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ \ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of\ MERCHANTABILITY\ or}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ \ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *\ \ License\ for\ more\ details.}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ *\ \ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public\ License}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ \ along\ with\ this\ program;\ if\ not,\ write\ to\ the\ Free\ Software\ Foundation,}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *\ \ Inc.,\ 59\ Temple\ Place\ -\/\ Suite\ 330,\ Boston,\ MA\ 02111-\/1307,\ USA.}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ ****************************************************************************}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{/*\ \ Author:\ Massimo\ Torquati\ torquati@di.unipi.it}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ *\ \ -\/\ September\ 2015\ first\ version}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#ifndef\ FF\_TPCNODE\_HPP}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#define\ FF\_TPCNODE\_HPP}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{node_8hpp}{ff/node.hpp}}>}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{bitflags_8hpp}{ff/bitflags.hpp}}>}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{tpc_environment_8hpp}{ff/tpc/tpcEnvironment.hpp}}>}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{tpcallocator_8hpp}{ff/tpcallocator.hpp}}>}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{tpc__api_8h}{ff/tpc/tpc\_api.h}}>}}
\DoxyCodeLine{00050\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespacerpr}{rpr}};}
\DoxyCodeLine{00051\ \textcolor{keyword}{using\ namespace\ }tpc;}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceff}{ff}}\{}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a520c42130ed8eb4d5f24ce4a27f9e582}{Arg\_t}}\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a520c42130ed8eb4d5f24ce4a27f9e582}{Arg\_t}}():}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a3e161f31c70be740918890c0d571fb44}{ptr}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a6235a39a8017f9588f6fe6de364e9190}{size}}(0),}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_ac67692fe61d5b52fa8d9e795c1fa9707}{byvalue}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a146ce68583fb8f662c07c70877ece7d8}{copy}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a9631e1dc21881c3cb375a31cd6bd565d}{reuse}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a15779be1cacdf0fc94032b595ec96fa7}{release}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})\ \{\}}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_ad437c96a7796c1b7216688b4f86a37fe}{Arg\_t}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a3e161f31c70be740918890c0d571fb44}{ptr}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a6235a39a8017f9588f6fe6de364e9190}{size}}):}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a3e161f31c70be740918890c0d571fb44}{ptr}}(\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a3e161f31c70be740918890c0d571fb44}{ptr}}),\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a6235a39a8017f9588f6fe6de364e9190}{size}}(\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a6235a39a8017f9588f6fe6de364e9190}{size}}),}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_ac67692fe61d5b52fa8d9e795c1fa9707}{byvalue}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a146ce68583fb8f662c07c70877ece7d8}{copy}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a9631e1dc21881c3cb375a31cd6bd565d}{reuse}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a15779be1cacdf0fc94032b595ec96fa7}{release}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})\ \{\}}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_af031ec064e25a9513ecb55e0c14ae820}{Arg\_t}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a3e161f31c70be740918890c0d571fb44}{ptr}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a6235a39a8017f9588f6fe6de364e9190}{size}},\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a146ce68583fb8f662c07c70877ece7d8}{copy}},\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a9631e1dc21881c3cb375a31cd6bd565d}{reuse}},\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a15779be1cacdf0fc94032b595ec96fa7}{release}}):}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a3e161f31c70be740918890c0d571fb44}{ptr}}(\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a3e161f31c70be740918890c0d571fb44}{ptr}}),\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a6235a39a8017f9588f6fe6de364e9190}{size}}(\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a6235a39a8017f9588f6fe6de364e9190}{size}}),}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_ac67692fe61d5b52fa8d9e795c1fa9707}{byvalue}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a146ce68583fb8f662c07c70877ece7d8}{copy}}(\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a146ce68583fb8f662c07c70877ece7d8}{copy}}),\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a9631e1dc21881c3cb375a31cd6bd565d}{reuse}}(\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a9631e1dc21881c3cb375a31cd6bd565d}{reuse}}),\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a15779be1cacdf0fc94032b595ec96fa7}{release}}(\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a15779be1cacdf0fc94032b595ec96fa7}{release}})\ \{\}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ *\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a3e161f31c70be740918890c0d571fb44}{ptr}};}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a6235a39a8017f9588f6fe6de364e9190}{size}};}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_ac67692fe61d5b52fa8d9e795c1fa9707}{byvalue}};}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a146ce68583fb8f662c07c70877ece7d8}{copy}},\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a9631e1dc21881c3cb375a31cd6bd565d}{reuse}},\mbox{\hyperlink{structff_1_1internal_1_1_arg__t_a15779be1cacdf0fc94032b595ec96fa7}{release}};}
\DoxyCodeLine{00078\ \ \ \ \ \};}
\DoxyCodeLine{00079\ \}\ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00086\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ TaskT\_in,\ \textcolor{keyword}{typename}\ TaskT\_out=TaskT\_in>}
\DoxyCodeLine{00087\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1base_t_p_c_task_a672e6995693f9c9822d5f5d11f413480}{baseTPCTask}}\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ IN\_t,\ \textcolor{keyword}{typename}\ TPC\_t,\ \textcolor{keyword}{typename}\ OUT\_t>\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1base_t_p_c_task_aa282c3c152cffcccbf9d15c27c6bc1c4}{ff\_tpcNode\_t}};}
\DoxyCodeLine{00090\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00091\ \ \ \ \ }
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a672e6995693f9c9822d5f5d11f413480}{baseTPCTask}}():\mbox{\hyperlink{classff_1_1base_t_p_c_task_a4fb69c82ae403bb0eae146417e198ae3}{tpc\_kernel\_id}}(-\/1),\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a5e5b8f3a059c316380eebcb87d4f5600}{retvar}}\{nullptr,0\}\ \{\}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_adfde24a94b3a17410bc612c2d184ae08}{\string~baseTPCTask}}()\ \{\ \}}
\DoxyCodeLine{00101\ \ \ \ \ \ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a01134efdc53ed436bc3c831e5040e8e5}{setTask}}(TaskT\_in\ *\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})\ =\ 0;}
\DoxyCodeLine{00110\ \ \ \ \ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{virtual}\ TaskT\_out\ *\mbox{\hyperlink{classff_1_1base_t_p_c_task_ae3ecdc91c12fe522696e192bb0996866}{releaseTask}}(TaskT\_in\ *\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}};\ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ptrT>}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a4dbd942a643e8c4e2b5a2466013381cd}{setInPtr}}(\textcolor{keyword}{const}\ ptrT*\ inPtr,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceff_acf3839aff35441912827987b0f82fb89}{CopyFlags}}\ \ \ \ \mbox{\hyperlink{level1__impl_8h_a7ffc26122ca6f9bec01f9bc5e64f3006}{copy}}\ \ \ =\mbox{\hyperlink{namespaceff_acf3839aff35441912827987b0f82fb89ae8606d021da140a92c7eba8d9b8af84f}{CopyFlags::COPY}},\ }
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceff_a18ef4d982dc69fd426d7bea0f3261247}{ReuseFlags}}\ \ \ reuse\ \ =\mbox{\hyperlink{namespaceff_a18ef4d982dc69fd426d7bea0f3261247accc7b9f807b517a4e9aa8ef3e36fb901}{ReuseFlags::DONTREUSE}},\ }
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceff_a7b6f9072356a7389155fe6b37cd2709f}{ReleaseFlags}}\ release=\mbox{\hyperlink{namespaceff_a7b6f9072356a7389155fe6b37cd2709fa4500ebf6cc56e3094ed14795db0ef463}{ReleaseFlags::DONTRELEASE}})\ \ \{\ }
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t}{internal::Arg\_t}}\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}}(\textcolor{keyword}{const\_cast<}ptrT*\textcolor{keyword}{>}(inPtr),\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}*\textcolor{keyword}{sizeof}(ptrT),}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_a7ffc26122ca6f9bec01f9bc5e64f3006}{copy}}==\mbox{\hyperlink{namespaceff_acf3839aff35441912827987b0f82fb89ae8606d021da140a92c7eba8d9b8af84f}{CopyFlags::COPY}},}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reuse==\mbox{\hyperlink{namespaceff_a18ef4d982dc69fd426d7bea0f3261247a0a8e4fd54250dc259c749ebf914f6a5e}{ReuseFlags::REUSE}},}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ release==\mbox{\hyperlink{namespaceff_a7b6f9072356a7389155fe6b37cd2709fa7d649ef069df9885e382417c79f3d5cd}{ReleaseFlags::RELEASE}});}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a238e0bd41c61be614a7eac0b97b26333}{tpcInput}}.push\_back(\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}});}
\DoxyCodeLine{00145\ \ \ \ \ \}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ptrT>}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_ae3e9732f951125458f7aeb7f64327397}{setInPtr}}(\textcolor{keyword}{const}\ ptrT*\ inPtr,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1_memory_flags}{MemoryFlags}}\ \&\mbox{\hyperlink{test__split__node_8cpp_afea5520dffc22c33fbcc0eb5f7e3d448}{flags}})\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t}{internal::Arg\_t}}\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}}(\textcolor{keyword}{const\_cast<}ptrT*\textcolor{keyword}{>}(inPtr),\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}*\textcolor{keyword}{sizeof}(ptrT),}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__split__node_8cpp_afea5520dffc22c33fbcc0eb5f7e3d448}{flags}}.copy==\mbox{\hyperlink{namespaceff_acf3839aff35441912827987b0f82fb89ae8606d021da140a92c7eba8d9b8af84f}{CopyFlags::COPY}},}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__split__node_8cpp_afea5520dffc22c33fbcc0eb5f7e3d448}{flags}}.reuse==\mbox{\hyperlink{namespaceff_a18ef4d982dc69fd426d7bea0f3261247a0a8e4fd54250dc259c749ebf914f6a5e}{ReuseFlags::REUSE}},}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__split__node_8cpp_afea5520dffc22c33fbcc0eb5f7e3d448}{flags}}.release==\mbox{\hyperlink{namespaceff_a7b6f9072356a7389155fe6b37cd2709fa7d649ef069df9885e382417c79f3d5cd}{ReleaseFlags::RELEASE}});}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a238e0bd41c61be614a7eac0b97b26333}{tpcInput}}.push\_back(\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}});}
\DoxyCodeLine{00158\ \ \ \ \ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ptrT>}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_abbe31c7cbd307cf2b4f4bb87b85864e7}{setInVal}}(\textcolor{keyword}{const}\ ptrT*\ inPtr)\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t}{internal::Arg\_t}}\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}}(\textcolor{keyword}{const\_cast<}ptrT*\textcolor{keyword}{>}(inPtr),\ \textcolor{keyword}{sizeof}(ptrT));}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a238e0bd41c61be614a7eac0b97b26333}{tpcInput}}.push\_back(\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}});}
\DoxyCodeLine{00170\ \ \ \ \ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ptrT>}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a3c11d861d8afe79fcb4be6eb873ef1b3}{setOutPtr}}(\textcolor{keyword}{const}\ ptrT*\ \_outPtr,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ }
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceff_acf3839aff35441912827987b0f82fb89}{CopyFlags}}\ copyback\ =\mbox{\hyperlink{namespaceff_acf3839aff35441912827987b0f82fb89ae8606d021da140a92c7eba8d9b8af84f}{CopyFlags::COPY}},\ }
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceff_a18ef4d982dc69fd426d7bea0f3261247}{ReuseFlags}}\ reuse\ \ \ \ =\mbox{\hyperlink{namespaceff_a18ef4d982dc69fd426d7bea0f3261247accc7b9f807b517a4e9aa8ef3e36fb901}{ReuseFlags::DONTREUSE}},\ }
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceff_a7b6f9072356a7389155fe6b37cd2709f}{ReleaseFlags}}\ release\ \ =\mbox{\hyperlink{namespaceff_a7b6f9072356a7389155fe6b37cd2709fa4500ebf6cc56e3094ed14795db0ef463}{ReleaseFlags::DONTRELEASE}})\ \ \{\ }
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t}{internal::Arg\_t}}\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}}(\textcolor{keyword}{const\_cast<}ptrT*\textcolor{keyword}{>}(\_outPtr),\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}*\textcolor{keyword}{sizeof}(ptrT),}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ copyback==\mbox{\hyperlink{namespaceff_acf3839aff35441912827987b0f82fb89ae8606d021da140a92c7eba8d9b8af84f}{CopyFlags::COPY}},}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reuse==\mbox{\hyperlink{namespaceff_a18ef4d982dc69fd426d7bea0f3261247a0a8e4fd54250dc259c749ebf914f6a5e}{ReuseFlags::REUSE}},}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ release==\mbox{\hyperlink{namespaceff_a7b6f9072356a7389155fe6b37cd2709fa7d649ef069df9885e382417c79f3d5cd}{ReleaseFlags::RELEASE}});}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a723af0f18c58a8c02ca4b62b2e1cce4d}{tpcOutput}}.push\_back(\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}});}
\DoxyCodeLine{00187\ \ \ \ \ \}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ptrT>}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a24947586a117d46d33f706a5e12ffefc}{setOutPtr}}(\textcolor{keyword}{const}\ ptrT*\ \_outPtr,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1_memory_flags}{MemoryFlags}}\ \&\mbox{\hyperlink{test__split__node_8cpp_afea5520dffc22c33fbcc0eb5f7e3d448}{flags}})\ \{\ \ \ \ \ \ \ }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1internal_1_1_arg__t}{internal::Arg\_t}}\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}}(\textcolor{keyword}{const\_cast<}ptrT*\textcolor{keyword}{>}(\_outPtr),\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}*\textcolor{keyword}{sizeof}(ptrT),}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__split__node_8cpp_afea5520dffc22c33fbcc0eb5f7e3d448}{flags}}.copy==\mbox{\hyperlink{namespaceff_acf3839aff35441912827987b0f82fb89ae8606d021da140a92c7eba8d9b8af84f}{CopyFlags::COPY}},}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__split__node_8cpp_afea5520dffc22c33fbcc0eb5f7e3d448}{flags}}.reuse==\mbox{\hyperlink{namespaceff_a18ef4d982dc69fd426d7bea0f3261247a0a8e4fd54250dc259c749ebf914f6a5e}{ReuseFlags::REUSE}},}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__split__node_8cpp_afea5520dffc22c33fbcc0eb5f7e3d448}{flags}}.release==\mbox{\hyperlink{namespaceff_a7b6f9072356a7389155fe6b37cd2709fa7d649ef069df9885e382417c79f3d5cd}{ReleaseFlags::RELEASE}});}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a723af0f18c58a8c02ca4b62b2e1cce4d}{tpcOutput}}.push\_back(\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}});}
\DoxyCodeLine{00201\ \ \ \ \ \}}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a03663ea921a319d0eced0d4874d9d313}{setFunctionId}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{group__types_gaaa0b927f3f5add7eafd55e92424b22ad}{tpc\_func\_id\_t}}\ \textcolor{keywordtype}{id})\ \{\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a4fb69c82ae403bb0eae146417e198ae3}{tpc\_kernel\_id}}\ =\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};\ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ TresT>}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a9441495ace916733b904935cf722676c}{setReturnVar}}(TresT\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ \{\ }
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a5e5b8f3a059c316380eebcb87d4f5600}{retvar}}.first\ =\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};\ }
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a5e5b8f3a059c316380eebcb87d4f5600}{retvar}}.second=\ \textcolor{keyword}{sizeof}(TresT);\ }
\DoxyCodeLine{00221\ \ \ \ \ \}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<internal::Arg\_t>\ \&\mbox{\hyperlink{classff_1_1base_t_p_c_task_a2c93c4354230924c6cef8cb6bf1cd129}{getInputArgs}}()\textcolor{keyword}{\ \ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a238e0bd41c61be614a7eac0b97b26333}{tpcInput}};\ \}}
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<internal::Arg\_t>\ \&\mbox{\hyperlink{classff_1_1base_t_p_c_task_a59bd5cc190e9a3f04b060b5f682480b1}{getOutputArgs}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a723af0f18c58a8c02ca4b62b2e1cce4d}{tpcOutput}};\}}
\DoxyCodeLine{00227\ \ \ \ \ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a80db843ba10cc965f56b8148712f07d1}{getReturnVar}}(\textcolor{keywordtype}{size\_t}\ \&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\textcolor{keyword}{\ \ \ \ \ const\ }\{\ }
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}=\mbox{\hyperlink{classff_1_1base_t_p_c_task_a5e5b8f3a059c316380eebcb87d4f5600}{retvar}}.second;}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a5e5b8f3a059c316380eebcb87d4f5600}{retvar}}.first;\ }
\DoxyCodeLine{00230\ \ \ \ \ \}}
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{group__types_gaaa0b927f3f5add7eafd55e92424b22ad}{tpc\_func\_id\_t}}\ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a8c6d826961d0ed99cee51d5225c29198}{getKernelId}}()\textcolor{keyword}{\ \ \ \ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a4fb69c82ae403bb0eae146417e198ae3}{tpc\_kernel\_id}};\}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a07418122c026ff90e660b988d5575574}{resetTask}}()\ \{}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a238e0bd41c61be614a7eac0b97b26333}{tpcInput}}.resize(0);}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a723af0f18c58a8c02ca4b62b2e1cce4d}{tpcOutput}}.resize(0);}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a5e5b8f3a059c316380eebcb87d4f5600}{retvar}}.first\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a5e5b8f3a059c316380eebcb87d4f5600}{retvar}}.second=\ 0;}
\DoxyCodeLine{00238\ \ \ \ \ \}}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00241\ \ \ \ \ \mbox{\hyperlink{group__types_gaaa0b927f3f5add7eafd55e92424b22ad}{tpc\_func\_id\_t}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a4fb69c82ae403bb0eae146417e198ae3}{tpc\_kernel\_id}};}
\DoxyCodeLine{00242\ \ \ \ \ std::vector<internal::Arg\_t>\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a238e0bd41c61be614a7eac0b97b26333}{tpcInput}};}
\DoxyCodeLine{00243\ \ \ \ \ std::vector<internal::Arg\_t>\ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a723af0f18c58a8c02ca4b62b2e1cce4d}{tpcOutput}};}
\DoxyCodeLine{00244\ \ \ \ \ std::pair<void*,size\_t>\ \ \ \ \ \ \mbox{\hyperlink{classff_1_1base_t_p_c_task_a5e5b8f3a059c316380eebcb87d4f5600}{retvar}};}
\DoxyCodeLine{00245\ \};}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00259\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ IN\_t,\ \textcolor{keyword}{typename}\ TPC\_t\ =\ IN\_t,\ \textcolor{keyword}{typename}\ OUT\_t\ =\ IN\_t>}
\DoxyCodeLine{00260\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4d47bf0bba43af81983af074a7de949a}{ff\_tpcNode\_t}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1ff__node_a53ab8b2244539766bdea3eb65cb04f9b}{ff\_node}}\ \{}
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff__tpc_node__t_1_1handle__t}{handle\_t}}\ \{}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{structff_1_1ff__tpc_node__t_1_1handle__t_a64cb00f4c9034c16b566bd5a4c4b6077}{ptr}}\ \ \ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__tpc_node__t_1_1handle__t_a56c2bb633575cc3d3bf78c7805c73fda}{size}}\ \ =\ 0;}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__types_gad141d9819a7c6253e0cf3610bdb0e030}{tpc\_handle\_t}}\ \ \mbox{\hyperlink{structff_1_1ff__tpc_node__t_1_1handle__t_ada2bf91c90eceb8d670f13f367af7a18}{handle}}=\ 0;}
\DoxyCodeLine{00265\ \ \ \ \ \};}
\DoxyCodeLine{00266\ \ \ \ \ }
\DoxyCodeLine{00267\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{keyword}{typedef}\ IN\_t\ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4d277357d719601b9a7600d8ea77fa6f}{in\_type}};}
\DoxyCodeLine{00269\ \ \ \ \ \textcolor{keyword}{typedef}\ OUT\_t\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a279b89f0058fbf3f13948377f9e6e852}{out\_type}};}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00281\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4d47bf0bba43af81983af074a7de949a}{ff\_tpcNode\_t}}(\mbox{\hyperlink{classff_1_1ff__tpcallocator}{ff\_tpcallocator}}\ *alloc\ =\ \textcolor{keyword}{nullptr}):}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a8bc4cd600f3578fc27f40f3d1fcdde5e}{tpcId}}(-\/1),\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a597c8380c208d42d9cf54e4a0075d1f0}{deviceId}}(-\/1),\mbox{\hyperlink{classff_1_1ff__tpc_node__t_af177de6a4d4d57a3986aaaeb3c9f0181}{my\_own\_allocator}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a031d279250c04714263816a4be442d78}{oneshotTask}}(nullptr),\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}(alloc)\ \{}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_af177de6a4d4d57a3986aaaeb3c9f0181}{my\_own\_allocator}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__tpcallocator}{ff\_tpcallocator}};}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}});}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ management\ of\ multiple\ TPC\ devices}}
\DoxyCodeLine{00291\ \ \ \ \ \};\ \ }
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00300\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a36eded450b6223f0b04df9267d69dfc1}{ff\_tpcNode\_t}}(\textcolor{keyword}{const}\ IN\_t\ \&task,\ \mbox{\hyperlink{classff_1_1ff__tpcallocator}{ff\_tpcallocator}}\ *alloc\ =\ \textcolor{keyword}{nullptr}):}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a8bc4cd600f3578fc27f40f3d1fcdde5e}{tpcId}}(-\/1),\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a597c8380c208d42d9cf54e4a0075d1f0}{deviceId}}(-\/1),\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_af177de6a4d4d57a3986aaaeb3c9f0181}{my\_own\_allocator}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a031d279250c04714263816a4be442d78}{oneshotTask}}(\&task),\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}(alloc)\ \{}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a71789627f48cb9f466c50601a881c7bc}{ff\_node::skipfirstpop}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.setTask(\textcolor{keyword}{const\_cast<}TPC\_t*\textcolor{keyword}{>}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a031d279250c04714263816a4be442d78}{oneshotTask}}));}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_af177de6a4d4d57a3986aaaeb3c9f0181}{my\_own\_allocator}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__tpcallocator}{ff\_tpcallocator}};}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}});}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ management\ of\ multiple\ TPC\ devices}}
\DoxyCodeLine{00312\ \ \ \ \ \};\ \ }
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae6e703351a0a152462d2da344fde813a}{\string~ff\_tpcNode\_t}}()\ \ \{}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_af177de6a4d4d57a3986aaaeb3c9f0181}{my\_own\_allocator}}\ \&\&\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}-\/>releaseAllBuffers(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}});}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}};}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00323\ \ \ \ \ \}\ }
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a31ef2c8f0bba53d6d8182c2848d9bda1}{run}}(\textcolor{keywordtype}{bool}\ =\ \textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_aec4506dc3946ff9e6ce5bb5370545864}{ff\_node::run}}();}
\DoxyCodeLine{00332\ \ \ \ \ \}\ \ \ \ }
\DoxyCodeLine{00339\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_aefe18c56057c108923112309bc52fb46}{wait}}()\ \{}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a060b15e97e9fdc8d50fd10c0dd141a0f}{ff\_node::wait}}();}
\DoxyCodeLine{00341\ \ \ \ \ \}}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ac120e56e0f71d1a7d40653add071491e}{run\_and\_wait\_end}}()\ \{}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_aac8e1bbeaa363fe4a000534983504afe}{nodeInit}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;\ \ \ }
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a41a7e3a0e92f4241762142323c252330}{svc}}(\textcolor{keyword}{nullptr});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00347\ \ \ \ \ \}}
\DoxyCodeLine{00357\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a3b26923df346ce99dd7f7aac99abe8b0}{run\_then\_freeze}}()\ \{}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_ad530addcffd6d545b3c520094136e7bd}{ff\_node::isfrozen}}())\ \{}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a53ecd4da7c7652b8abc8923bbd57c589}{ff\_node::thaw}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a2a3cf53a9770db79fe5b20d08e66a0cf}{ff\_node::freeze\_and\_run}}();}
\DoxyCodeLine{00363\ \ \ \ \ \}}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a0c879dd194b1c08733cc1a642ccbf184}{wait\_freezing}}()\ \{}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_abe92009631afe597677ebc7fb91cbd07}{ff\_node::wait\_freezing}}();}
\DoxyCodeLine{00374\ \ \ \ \ \}}
\DoxyCodeLine{00375\ \ \ \ \ }
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a7969ddfa2704c4aacb19f3fb0f2924b6}{setTask}}(IN\_t\ \&task)\ \{}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.resetTask();}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.setTask(\&task);}
\DoxyCodeLine{00384\ \ \ \ \ \}}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{comment}{//\ returns\ the\ internal\ task}}
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{keyword}{const}\ TPC\_t*\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a6ab2a3ffe31a773975c62e911630aca1}{getTask}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}};}
\DoxyCodeLine{00389\ \ \ \ \ \}}
\DoxyCodeLine{00390\ \ \ \ \ }
\DoxyCodeLine{00391\ \ \ \ \ \textcolor{comment}{//\ returns\ the\ kind\ of\ node}}
\DoxyCodeLine{00392\ \ \ \ \ \textcolor{keyword}{virtual}\ fftype\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a3af250b2c4c6010bb8dff1ad127b51f9}{getFFType}}()\textcolor{keyword}{\ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ TPC\_WORKER;\ \}}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{comment}{//\ TODO\ currently\ only\ one\ devices\ can\ be\ used}}
\DoxyCodeLine{00395\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_af656d66d7253a9787e0a1f20c7927766}{setDeviceId}}(\mbox{\hyperlink{group__types_ga9b8e1c20672c3b17d46333581b560342}{tpc\_dev\_id\_t}}\ \textcolor{keywordtype}{id})\ \ \{\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a597c8380c208d42d9cf54e4a0075d1f0}{deviceId}}\ =\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};\ \}}
\DoxyCodeLine{00396\ \ \ \ \ \mbox{\hyperlink{group__types_ga9b8e1c20672c3b17d46333581b560342}{tpc\_dev\_id\_t}}\ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a11dbc7f7687e397f8f90acf4e4e98a21}{getDeviceId}}()\textcolor{keyword}{\ \ const\ \ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a597c8380c208d42d9cf54e4a0075d1f0}{deviceId}};\ \}\ \ \ \ }
\DoxyCodeLine{00397\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a34d2742b8d54a6afb5c9315e50d2a0d5}{getTPCID}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a8bc4cd600f3578fc27f40f3d1fcdde5e}{tpcId}};\ \}}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \textcolor{preprocessor}{\#if\ defined(FF\_REPARA)}\textcolor{preprocessor}{}}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ rpr\_get\_sizeIn()\textcolor{keyword}{\ \ const\ }\{\ \textcolor{keywordflow}{return}\ rpr\_sizeIn;\ \}}
\DoxyCodeLine{00404\ }
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ rpr\_get\_sizeOut()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ rpr\_sizeOut;\ \}}
\DoxyCodeLine{00409\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00410\ \ \ \ \ }
\DoxyCodeLine{00411\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_aac8e1bbeaa363fe4a000534983504afe}{nodeInit}}()\ \{}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a8bc4cd600f3578fc27f40f3d1fcdde5e}{tpcId}}<0)\ \{}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a8bc4cd600f3578fc27f40f3d1fcdde5e}{tpcId}}\ \ \ =\ \mbox{\hyperlink{classff_1_1tpc_environment_a9aabfb63c76fe0ba2b151c4afa02a9b2}{tpcEnvironment::instance}}()-\/>getTPCID();}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a597c8380c208d42d9cf54e4a0075d1f0}{deviceId}}\ ==\ (\mbox{\hyperlink{group__types_ga9b8e1c20672c3b17d46333581b560342}{tpc\_dev\_id\_t}})-\/1)\ \{\ \textcolor{comment}{//\ the\ user\ didn't\ set\ any\ specific\ device}}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}}\ =\ \mbox{\hyperlink{classff_1_1tpc_environment_a9aabfb63c76fe0ba2b151c4afa02a9b2}{tpcEnvironment::instance}}()-\/>getTPCDevice();}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ }
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ abort();\ \textcolor{comment}{//\ TODO;}}
\DoxyCodeLine{00421\ }
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}}\ ==\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00425\ \ \ \ \ \}}
\DoxyCodeLine{00426\ }
\DoxyCodeLine{00427\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_af8f53c8330d7eb359f6361e665d4c1be}{svc\_init}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_aac8e1bbeaa363fe4a000534983504afe}{nodeInit}}();\ \}}
\DoxyCodeLine{00428\ }
\DoxyCodeLine{00429\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ this\ implementation\ supposes\ that\ the\ number\ of\ arguments\ does\ not\ }}
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ change\ between\ two\ different\ tasks\ !\ Only\ the\ size\ does\ change.}}
\DoxyCodeLine{00431\ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a41a7e3a0e92f4241762142323c252330}{svc}}(\textcolor{keywordtype}{void}\ *task)\ \{}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (task)\ \{}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.resetTask();}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.setTask((IN\_t*)task);}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00436\ }
\DoxyCodeLine{00437\ \textcolor{preprocessor}{\#if\ defined(FF\_REPARA)}}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ rpr\_sizeIn\ =\ rpr\_sizeOut\ =\ 0;}
\DoxyCodeLine{00439\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00440\ }
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{group__types_gaaa0b927f3f5add7eafd55e92424b22ad}{tpc\_func\_id\_t}}\ f\_id\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.getKernelId();}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group__devmgmt_gacc90acd4e0d839ce67ccbf6edd5a7520}{tpc\_device\_func\_instance\_count}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ f\_id)\ ==\ 0)\ \{}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}No\ instances\ for\ function\ with\ id\ \%d\(\backslash\)n"{}},\ (\textcolor{keywordtype}{int})f\_id);}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}};}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__types_ga3fa4315e0058f4c9939038def4f22b56}{tpc\_res\_t}}\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__types_gaff6c0c76d2c29a7ff48f13365ef5e13e}{tpc\_job\_id\_t}}\ j\_id\ =\ \mbox{\hyperlink{group__exec_ga0d72e5286731bd76a32369f912846e68}{tpc\_device\_acquire\_job\_id}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ f\_id,\ \mbox{\hyperlink{group__types_gga934b69bea1927f71d1bae6c021ee326fa789ea624987bda0c2416176ad7312946}{TPC\_DEVICE\_ACQUIRE\_JOB\_ID\_BLOCKING}});}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<internal::Arg\_t>\ \&inV\ \ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.getInputArgs();}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<internal::Arg\_t>\ \&outV\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.getOutputArgs();}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ ret\_val\_size=0;}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *ret\_val\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.getReturnVar(ret\_val\_size);}
\DoxyCodeLine{00453\ }
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}.size()\ ==\ 0)\ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}.resize(inV.size());}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}.size()\ ==\ 0)\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}.resize(outV.size());}
\DoxyCodeLine{00456\ }
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ arg\_idx\ =\ 0;}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<inV.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].byvalue\ )\ \{}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__types_gad141d9819a7c6253e0cf3610bdb0e030}{tpc\_handle\_t}}\ handle\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle;\ \ \textcolor{comment}{//\ previous\ handle}}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ <\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ \{}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle)\ \{\ \textcolor{comment}{//\ not\ first\ time}}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(!inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].reuse);}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}-\/>releaseBuffer(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle);}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].reuse)\ \{}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handle\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}-\/>createBufferUnique(inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ \mbox{\hyperlink{group__types_ggaef23b70a303240e87d79affabd83cf0caaa72837ac31e6be0549b35bf8a4ad7d8}{TPC\_DEVICE\_ALLOC\_FLAGS\_NONE}},\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handle\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}-\/>createBuffer(inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ \mbox{\hyperlink{group__types_ggaef23b70a303240e87d79affabd83cf0caaa72837ac31e6be0549b35bf8a4ad7d8}{TPC\_DEVICE\_ALLOC\_FLAGS\_NONE}},\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!handle)\ \{}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_tpcNode::svc\ unable\ to\ allocate\ memory\ on\ the\ TPC\ device\ (IN)"{}});}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size\ =\ 0,\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].ptr\ =\ \textcolor{keyword}{nullptr},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle\ =\ 0;}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}?\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}:\mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}});}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size\ =\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size,\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].ptr\ =\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].ptr,\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle\ =\ handle;}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{level1__impl_8h_a7ffc26122ca6f9bec01f9bc5e64f3006}{copy}})\ \{}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{group__data_ga6817055eb9c423257ce24593d97f3dc6}{tpc\_device\_copy\_to}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ handle,\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \mbox{\hyperlink{group__types_gga17a93abca84b09196a7e03228ded3931a7f3c34335fc26d72ae795d4162611389}{TPC\_DEVICE\_COPY\_BLOCKING}});}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ !=\ \mbox{\hyperlink{group__types_gga3fa4315e0058f4c9939038def4f22b56a550da69841bd534de55e2d1cebb59bc2}{TPC\_SUCCESS}})\ \{}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_tpcNode::svc\ unable\ to\ copy\ data\ into\ the\ device\(\backslash\)n"{}});}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}?\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}:\mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}});}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00490\ \textcolor{preprocessor}{\#if\ defined(FF\_REPARA)}}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rpr\_sizeIn\ +=\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size;}
\DoxyCodeLine{00492\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{group__exec_ga4c345cc29ad2791c19ec33b23d56799d}{tpc\_device\_job\_set\_arg}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ j\_id,\ arg\_idx,\ \textcolor{keyword}{sizeof}(handle),\ \&handle);}
\DoxyCodeLine{00496\ }
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ argument\ passed\ by-\/value}}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{group__exec_ga4c345cc29ad2791c19ec33b23d56799d}{tpc\_device\_job\_set\_arg}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ j\_id,\ arg\_idx,\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ !=\ \mbox{\hyperlink{group__types_gga3fa4315e0058f4c9939038def4f22b56a550da69841bd534de55e2d1cebb59bc2}{TPC\_SUCCESS}})\ \{}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_tpcNode::svc\ unable\ to\ set\ argument\ for\ the\ device\ (IN)\(\backslash\)n"{}});}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}?\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}:\mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}});}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \ \ \ \ ++arg\_idx;}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00507\ }
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<outV.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}\ =\ outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].ptr;}
\DoxyCodeLine{00510\ }
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ if\ ptr\ is\ an\ in/out\ parameter}}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ std::vector<handle\_t>::iterator\ it;}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \ \ \ \ \ \ it\ =\ std::find\_if(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}.begin(),\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}.end(),\ [\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}](\textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1ff__tpc_node__t_1_1handle__t}{handle\_t}}\ \&\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})\ \{\ return\ arg.ptr\ ==\ ptr;\ \}\ );}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__types_gad141d9819a7c6253e0cf3610bdb0e030}{tpc\_handle\_t}}\ handle;}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}.end())\ \{\ \textcolor{comment}{//\ not\ found\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handle\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle;\ \ \textcolor{comment}{//\ previous\ handle}}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}}\ <\ outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}})\ \{}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle)\ \{\ \textcolor{comment}{//\ not\ first\ time}}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(!outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].reuse);}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}-\/>releaseBuffer(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle);}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].reuse)\ \{}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handle\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}-\/>createBufferUnique(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ \mbox{\hyperlink{group__types_ggaef23b70a303240e87d79affabd83cf0caaa72837ac31e6be0549b35bf8a4ad7d8}{TPC\_DEVICE\_ALLOC\_FLAGS\_NONE}},\ outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handle\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}-\/>createBuffer(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ \mbox{\hyperlink{group__types_ggaef23b70a303240e87d79affabd83cf0caaa72837ac31e6be0549b35bf8a4ad7d8}{TPC\_DEVICE\_ALLOC\_FLAGS\_NONE}},\ outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!handle)\ \{}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_tpcNode::svc\ unable\ to\ allocate\ memory\ on\ the\ TPC\ device\ (OUT)"{}});}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size\ =\ 0,\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].ptr\ =\ \textcolor{keyword}{nullptr},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle\ =\ 0;}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}?\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}:\mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}});}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size\ =\ outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size,\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].ptr\ =\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle\ =\ handle;}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ handle=\ (*it).handle;\ \textcolor{comment}{//\ in/out\ parameter}}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{group__exec_ga4c345cc29ad2791c19ec33b23d56799d}{tpc\_device\_job\_set\_arg}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ j\_id,\ arg\_idx,\ \textcolor{keyword}{sizeof}(handle),\ \&handle);}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ !=\ \mbox{\hyperlink{group__types_gga3fa4315e0058f4c9939038def4f22b56a550da69841bd534de55e2d1cebb59bc2}{TPC\_SUCCESS}})\ \{}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_tpcNode::svc\ unable\ to\ set\ argument\ for\ the\ device\ (OUT)\(\backslash\)n"{}});}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}?\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}:\mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}});}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \ \ \ \ ++arg\_idx;}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{group__exec_gab514aab20d6c693e62d8dfa7f18a9c84}{tpc\_device\_job\_launch}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ j\_id,\ \mbox{\hyperlink{group__types_gga3141c6bffc3ef7368f7abfbc0633b16cad9d11d83387a93f1b9f3e18478651d0f}{TPC\_DEVICE\_JOB\_LAUNCH\_BLOCKING}});}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ !=\ \mbox{\hyperlink{group__types_gga3fa4315e0058f4c9939038def4f22b56a550da69841bd534de55e2d1cebb59bc2}{TPC\_SUCCESS}})\ \{}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_tpcNode::svc\ error\ launching\ kernel\ on\ TPC\ device\(\backslash\)n"{}});}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}?\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}:\mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}});}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00552\ }
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ reset\ the\ arg\_idx\ to\ the\ initial\ value\ for\ the\ out\ parameters}}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ arg\_idx=inV.size();}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ async\ data\ transfer}}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<outV.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__types_gad141d9819a7c6253e0cf3610bdb0e030}{tpc\_handle\_t}}\ handle;}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{group__exec_gaa1170094e6ee1206ddfb987a3e9b14c9}{tpc\_device\_job\_get\_arg}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ j\_id,\ arg\_idx,\ \textcolor{keyword}{sizeof}(handle),\ \&handle);}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ !=\ \mbox{\hyperlink{group__types_gga3fa4315e0058f4c9939038def4f22b56a550da69841bd534de55e2d1cebb59bc2}{TPC\_SUCCESS}})\ \{}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_tpcNode::svc\ unable\ to\ get\ argument\ handle\(\backslash\)n"{}});}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}?\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}:\mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}});}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{level1__impl_8h_a7ffc26122ca6f9bec01f9bc5e64f3006}{copy}})\ \{}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{group__data_ga217455e1a489f66471d71652005cd685}{tpc\_device\_copy\_from}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ handle,\ outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}},\ \mbox{\hyperlink{group__types_gga17a93abca84b09196a7e03228ded3931a7f3c34335fc26d72ae795d4162611389}{TPC\_DEVICE\_COPY\_BLOCKING}});}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ !=\ \mbox{\hyperlink{group__types_gga3fa4315e0058f4c9939038def4f22b56a550da69841bd534de55e2d1cebb59bc2}{TPC\_SUCCESS}})\ \{}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_tpcNode::svc\ unable\ to\ copy\ data\ back\ from\ the\ device\(\backslash\)n"{}});}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}?\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}:\mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}});}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00570\ \textcolor{preprocessor}{\#if\ defined(FF\_REPARA)}}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rpr\_sizeOut\ +=\ outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size;}
\DoxyCodeLine{00572\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00574\ }
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ By\ default\ the\ buffers\ are\ not\ released\ !}}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (outV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].release)\ \{}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle\ ==\ handle);}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}-\/>releaseBuffer(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ handle);}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size\ =\ 0,\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].ptr\ =\ \textcolor{keyword}{nullptr},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle\ =\ 0;}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \ \ \ \ ++arg\_idx;}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00584\ }
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ now\ check\ if\ we\ have\ to\ get\ back\ the\ return\ value\ (if\ the\ kernel\ is\ a\ function)}}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ret\_val\ \&\&\ ret\_val\_size>0)\ \{}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{group__exec_ga3f9055fcc0469a8190e0cdde42022b4f}{tpc\_device\_job\_get\_return}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ j\_id,\ ret\_val\_size,\ ret\_val);}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ !=\ \mbox{\hyperlink{group__types_gga3fa4315e0058f4c9939038def4f22b56a550da69841bd534de55e2d1cebb59bc2}{TPC\_SUCCESS}})\ \{}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_tpcNode::svc\ error\ getting\ back\ the\ return\ value\ of\ the\ kernel\ function\(\backslash\)n"{}});}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}?\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}:\mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{GO\_ON}});}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ By\ default\ the\ buffers\ are\ not\ released\ !}}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<inV.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inV[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].release)\ \{}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}}-\/>releaseBuffer(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle);}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].size\ =\ 0,\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].ptr\ =\ \textcolor{keyword}{nullptr},\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}].handle\ =\ 0;}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00601\ }
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ release\ job\ id}}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__exec_ga42eb8d0ab316b34a84b2677d197d097c}{tpc\_device\_release\_job\_id}}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}},\ j\_id);}
\DoxyCodeLine{00604\ }
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ per\ task\ host\ memory\ cleanup\ phase}}
\DoxyCodeLine{00606\ \ \ \ \ \ \ \ \ OUT\_t\ *\ task\_out;}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (task)\ task\_out\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.releaseTask((IN\_t*)task);}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \ \ \ \ \ task\_out\ =\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}}.releaseTask(\textcolor{keyword}{const\_cast<}IN\_t*\textcolor{keyword}{>}(\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a031d279250c04714263816a4be442d78}{oneshotTask}}));}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}}\ ?\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\ :\ task\_out);\ \ }
\DoxyCodeLine{00611\ \ \ \ \ \}}
\DoxyCodeLine{00612\ \ \ \ \ }
\DoxyCodeLine{00613\ \textcolor{keyword}{protected}:\ \ \ \ }
\DoxyCodeLine{00614\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a8bc4cd600f3578fc27f40f3d1fcdde5e}{tpcId}};}
\DoxyCodeLine{00615\ \ \ \ \ \mbox{\hyperlink{group__types_ga9b8e1c20672c3b17d46333581b560342}{tpc\_dev\_id\_t}}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a597c8380c208d42d9cf54e4a0075d1f0}{deviceId}};\ \ \ \ }
\DoxyCodeLine{00616\ \ \ \ \ \mbox{\hyperlink{group__types_ga00cc5a7ebd96b9e3856900525e8847c9}{tpc\_dev\_ctx\_t}}\ \ \ \ \ \ *\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a607ae0a73432a90f775cd6332729bcc9}{dev\_ctx}};\ }
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00618\ \ \ \ \ TPC\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a03ee7767b5171bbeb6602eab02fac8fc}{Task}};}
\DoxyCodeLine{00619\ }
\DoxyCodeLine{00620\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_af177de6a4d4d57a3986aaaeb3c9f0181}{my\_own\_allocator}};}
\DoxyCodeLine{00621\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a05b62c5a5f8105aca00f0bdb86608a73}{oneshot}};\ }
\DoxyCodeLine{00622\ \ \ \ \ \textcolor{keyword}{const}\ IN\_t\ *\textcolor{keyword}{const}\ \ \ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a031d279250c04714263816a4be442d78}{oneshotTask}};}
\DoxyCodeLine{00623\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__tpcallocator}{ff\_tpcallocator}}\ \ \ \ *\mbox{\hyperlink{classff_1_1ff__tpc_node__t_a4b763ee1a831d4a37d98630e02b40e10}{allocator}};}
\DoxyCodeLine{00624\ }
\DoxyCodeLine{00625\ \ \ \ \ std::vector<handle\_t>\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_ae43a8a03e00b1070e42099a2b5803f0f}{inHandles}};}
\DoxyCodeLine{00626\ \ \ \ \ std::vector<handle\_t>\ \mbox{\hyperlink{classff_1_1ff__tpc_node__t_a9bf77ead75d8b9edbe22219288db9b3e}{outHandles}};}
\DoxyCodeLine{00627\ \};}
\DoxyCodeLine{00628\ \ \ \ \ }
\DoxyCodeLine{00629\ \}}
\DoxyCodeLine{00630\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ FF\_TPCNODE\_HPP\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
