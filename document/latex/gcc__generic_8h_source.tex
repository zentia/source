\doxysection{gcc\+\_\+generic.\+h}
\hypertarget{gcc__generic_8h_source}{}\label{gcc__generic_8h_source}\index{external/taskflow/3rd-\/party/tbb/include/tbb/machine/gcc\_generic.h@{external/taskflow/3rd-\/party/tbb/include/tbb/machine/gcc\_generic.h}}
\mbox{\hyperlink{gcc__generic_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#if\ !defined(\_\_TBB\_machine\_H)\ ||\ defined(\_\_TBB\_machine\_gcc\_generic\_H)}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#error\ Do\ not\ \#include\ this\ internal\ file\ directly;\ use\ public\ TBB\ headers\ instead.}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#define\ \_\_TBB\_machine\_gcc\_generic\_H}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{stdint_8h}{stdint.h}}>}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#define\ \_\_TBB\_WORDSIZE\ \_\_SIZEOF\_POINTER\_\_}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#if\ \_\_TBB\_GCC\_64BIT\_ATOMIC\_BUILTINS\_BROKEN}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_64BIT\_ATOMICS\ 0}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#if\ \_\_ANDROID\_\_\ \&\&\ \_\_TBB\_generic\_arch}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_CPU\_CTL\_ENV\_PRESENT\ 0}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{comment}{//\ \_\_BYTE\_ORDER\_\_\ is\ used\ in\ accordance\ with\ http://gcc.gnu.org/onlinedocs/cpp/Common-\/Predefined-\/Macros.html,}}
\DoxyCodeLine{00038\ \textcolor{comment}{//\ but\ \_\_BIG\_ENDIAN\_\_\ or\ \_\_LITTLE\_ENDIAN\_\_\ may\ be\ more\ commonly\ found\ instead.}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#if\ \_\_BIG\_ENDIAN\_\_\ ||\ (defined(\_\_BYTE\_ORDER\_\_)\ \&\&\ \_\_BYTE\_ORDER\_\_==\_\_ORDER\_BIG\_ENDIAN\_\_)}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_ENDIANNESS\ \_\_TBB\_ENDIAN\_BIG}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#elif\ \_\_LITTLE\_ENDIAN\_\_\ ||\ (defined(\_\_BYTE\_ORDER\_\_)\ \&\&\ \_\_BYTE\_ORDER\_\_==\_\_ORDER\_LITTLE\_ENDIAN\_\_)}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_ENDIANNESS\ \_\_TBB\_ENDIAN\_LITTLE}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#elif\ defined(\_\_BYTE\_ORDER\_\_)}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_ENDIANNESS\ \_\_TBB\_ENDIAN\_UNSUPPORTED}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_ENDIANNESS\ \_\_TBB\_ENDIAN\_DETECT}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#if\ \_\_TBB\_GCC\_VERSION\ <\ 40700}}
\DoxyCodeLine{00050\ \textcolor{comment}{//\ Use\ \_\_sync\_*\ builtins}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#define\ \_\_TBB\_acquire\_consistency\_helper()\ \ \_\_sync\_synchronize()}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#define\ \_\_TBB\_release\_consistency\_helper()\ \ \_\_sync\_synchronize()}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#define\ \_\_TBB\_full\_memory\_fence()\ \ \ \ \ \ \ \ \ \ \ \_\_sync\_synchronize()}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#define\ \_\_TBB\_control\_consistency\_helper()\ \ \_\_sync\_synchronize()}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#define\ \_\_TBB\_MACHINE\_DEFINE\_ATOMICS(S,T)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{inline\ T\ \_\_TBB\_machine\_cmpswp\#\#S(\ volatile\ void\ *ptr,\ T\ value,\ T\ comparand\ )\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\ \ \ \ return\ \_\_sync\_val\_compare\_and\_swap(reinterpret\_cast<volatile\ T\ *>(ptr),comparand,value);\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{inline\ T\ \_\_TBB\_machine\_fetchadd\#\#S(\ volatile\ void\ *ptr,\ T\ value\ )\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\ \ \ \ return\ \_\_sync\_fetch\_and\_add(reinterpret\_cast<volatile\ T\ *>(ptr),value);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\}}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ \_\_TBB\_USE\_GENERIC\_FETCH\_STORE\ 1}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00073\ \textcolor{comment}{//\ \_\_TBB\_GCC\_VERSION\ >=\ 40700;\ use\ \_\_atomic\_*\ builtins\ available\ since\ gcc\ 4.7}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#define\ \_\_TBB\_compiler\_fence()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_("{}"{}:\ :\ :"{}memory"{})}}
\DoxyCodeLine{00076\ \textcolor{comment}{//\ Acquire\ and\ release\ fence\ intrinsics\ in\ GCC\ might\ miss\ compiler\ fence.}}
\DoxyCodeLine{00077\ \textcolor{comment}{//\ Adding\ it\ at\ both\ sides\ of\ an\ intrinsic,\ as\ we\ do\ not\ know\ what\ reordering\ can\ be\ made.}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#define\ \_\_TBB\_acquire\_consistency\_helper()\ \ \_\_TBB\_compiler\_fence();\ \_\_atomic\_thread\_fence(\_\_ATOMIC\_ACQUIRE);\ \_\_TBB\_compiler\_fence()}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#define\ \_\_TBB\_release\_consistency\_helper()\ \ \_\_TBB\_compiler\_fence();\ \_\_atomic\_thread\_fence(\_\_ATOMIC\_RELEASE);\ \_\_TBB\_compiler\_fence()}}
\DoxyCodeLine{00080\ \textcolor{preprocessor}{\#define\ \_\_TBB\_full\_memory\_fence()\ \ \ \ \ \ \ \ \ \ \ \_\_atomic\_thread\_fence(\_\_ATOMIC\_SEQ\_CST)}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#define\ \_\_TBB\_control\_consistency\_helper()\ \ \_\_TBB\_acquire\_consistency\_helper()}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#define\ \_\_TBB\_MACHINE\_DEFINE\_ATOMICS(S,T)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00084\ \textcolor{preprocessor}{inline\ T\ \_\_TBB\_machine\_cmpswp\#\#S(\ volatile\ void\ *ptr,\ T\ value,\ T\ comparand\ )\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00085\ \textcolor{preprocessor}{\ \ \ \ (void)\_\_atomic\_compare\_exchange\_n(reinterpret\_cast<volatile\ T\ *>(ptr),\ \&comparand,\ value,\ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00086\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ false,\ \_\_ATOMIC\_SEQ\_CST,\ \_\_ATOMIC\_SEQ\_CST);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\ \ \ \ return\ comparand;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00088\ \textcolor{preprocessor}{\}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00089\ \textcolor{preprocessor}{inline\ T\ \_\_TBB\_machine\_fetchadd\#\#S(\ volatile\ void\ *ptr,\ T\ value\ )\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00090\ \textcolor{preprocessor}{\ \ \ \ return\ \_\_atomic\_fetch\_add(reinterpret\_cast<volatile\ T\ *>(ptr),\ value,\ \_\_ATOMIC\_SEQ\_CST);\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00091\ \textcolor{preprocessor}{\}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00092\ \textcolor{preprocessor}{inline\ T\ \_\_TBB\_machine\_fetchstore\#\#S(\ volatile\ void\ *ptr,\ T\ value\ )\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\ \ \ \ return\ \_\_atomic\_exchange\_n(reinterpret\_cast<volatile\ T\ *>(ptr),\ value,\ \_\_ATOMIC\_SEQ\_CST);\ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00094\ \textcolor{preprocessor}{\}}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_TBB\_GCC\_VERSION\ <\ 40700}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \mbox{\hyperlink{gcc__generic_8h_a38892374d5d89a0d8d4abbe7a779d84f}{\_\_TBB\_MACHINE\_DEFINE\_ATOMICS}}(1,\mbox{\hyperlink{eabase_8h_aef44329758059c91c76d334e8fc09700}{int8\_t}})}
\DoxyCodeLine{00099\ \mbox{\hyperlink{gcc__generic_8h_a38892374d5d89a0d8d4abbe7a779d84f}{\_\_TBB\_MACHINE\_DEFINE\_ATOMICS}}(2,\mbox{\hyperlink{eabase_8h_a269259c924dce846340ddbb810db2e3c}{int16\_t}})}
\DoxyCodeLine{00100\ \mbox{\hyperlink{gcc__generic_8h_a38892374d5d89a0d8d4abbe7a779d84f}{\_\_TBB\_MACHINE\_DEFINE\_ATOMICS}}(4,\mbox{\hyperlink{eabase_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\_t}})}
\DoxyCodeLine{00101\ \mbox{\hyperlink{gcc__generic_8h_a38892374d5d89a0d8d4abbe7a779d84f}{\_\_TBB\_MACHINE\_DEFINE\_ATOMICS}}(8,\mbox{\hyperlink{eabase_8h_adec1df1b8b51cb32b77e5b86fff46471}{int64\_t}})}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\#undef\ \_\_TBB\_MACHINE\_DEFINE\_ATOMICS}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{mac__ppc_8h_a64acf0aafcb29822267c20512a8c3cbb}{\_\_TBB\_Flag}};}
\DoxyCodeLine{00106\ \textcolor{keyword}{typedef}\ \_\_TBB\_atomic\ \mbox{\hyperlink{mac__ppc_8h_a64acf0aafcb29822267c20512a8c3cbb}{\_\_TBB\_Flag}}\ \mbox{\hyperlink{gcc__generic_8h_ac46502f7ed83eb6f654aecd2c13fb6b0}{\_\_TBB\_atomic\_flag}};}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \textcolor{preprocessor}{\#if\ \_\_TBB\_GCC\_VERSION\ <\ 40700}}
\DoxyCodeLine{00109\ \textcolor{comment}{//\ Use\ \_\_sync\_*\ builtins}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \textcolor{comment}{//\ Use\ generic\ machine\_load\_store\ functions\ if\ there\ are\ no\ builtin\ atomics}}
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\#define\ \_\_TBB\_USE\_GENERIC\_HALF\_FENCED\_LOAD\_STORE\ \ \ \ \ \ \ \ \ \ \ \ 1}}
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#define\ \_\_TBB\_USE\_GENERIC\_RELAXED\_LOAD\_STORE\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1}}
\DoxyCodeLine{00114\ \textcolor{preprocessor}{\#define\ \_\_TBB\_USE\_GENERIC\_SEQUENTIAL\_CONSISTENCY\_LOAD\_STORE\ 1}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gcc__generic_8h_a3fb5206c6678d9a4dc880a3ab18c1760}{\_\_TBB\_machine\_or}}(\ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ uintptr\_t\ addend\ )\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \_\_sync\_fetch\_and\_or(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{volatile\ }uintptr\_t\ *\textcolor{keyword}{>}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}),addend);}
\DoxyCodeLine{00118\ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gcc__generic_8h_ab5ab5d87a7707fda039e6dead7d6ba5d}{\_\_TBB\_machine\_and}}(\ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ uintptr\_t\ addend\ )\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \_\_sync\_fetch\_and\_and(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{volatile\ }uintptr\_t\ *\textcolor{keyword}{>}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}),addend);}
\DoxyCodeLine{00122\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gcc__generic_8h_a7ece75348e4f0f51877c46ce2b07f62f}{\_\_TBB\_machine\_try\_lock\_byte}}(\ \mbox{\hyperlink{gcc__generic_8h_ac46502f7ed83eb6f654aecd2c13fb6b0}{\_\_TBB\_atomic\_flag}}\ \&flag\ )\ \{}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_sync\_lock\_test\_and\_set(\&flag,1)==0;}
\DoxyCodeLine{00126\ \}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gcc__generic_8h_a9743aa954a48dd2aaa13977efbed76ec}{\_\_TBB\_machine\_unlock\_byte}}(\ \mbox{\hyperlink{gcc__generic_8h_ac46502f7ed83eb6f654aecd2c13fb6b0}{\_\_TBB\_atomic\_flag}}\ \&flag\ )\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \_\_sync\_lock\_release(\&flag);}
\DoxyCodeLine{00130\ \}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00133\ \textcolor{comment}{//\ \_\_TBB\_GCC\_VERSION\ >=\ 40700;\ use\ \_\_atomic\_*\ builtins\ available\ since\ gcc\ 4.7}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gcc__generic_8h_a3fb5206c6678d9a4dc880a3ab18c1760}{\_\_TBB\_machine\_or}}(\ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ uintptr\_t\ addend\ )\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \_\_atomic\_fetch\_or(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{volatile\ }\mbox{\hyperlink{namespacedetail_a0414a8c27708e113938314ad3b0dbe4c}{uintptr\_t}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}),addend,\_\_ATOMIC\_SEQ\_CST);}
\DoxyCodeLine{00137\ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gcc__generic_8h_ab5ab5d87a7707fda039e6dead7d6ba5d}{\_\_TBB\_machine\_and}}(\ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}},\ uintptr\_t\ addend\ )\ \{}
\DoxyCodeLine{00140\ \ \ \ \ \_\_atomic\_fetch\_and(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{volatile\ }\mbox{\hyperlink{namespacedetail_a0414a8c27708e113938314ad3b0dbe4c}{uintptr\_t}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}),addend,\_\_ATOMIC\_SEQ\_CST);}
\DoxyCodeLine{00141\ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gcc__generic_8h_a7ece75348e4f0f51877c46ce2b07f62f}{\_\_TBB\_machine\_try\_lock\_byte}}(\ \mbox{\hyperlink{gcc__generic_8h_ac46502f7ed83eb6f654aecd2c13fb6b0}{\_\_TBB\_atomic\_flag}}\ \&flag\ )\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordflow}{return}\ !\_\_atomic\_test\_and\_set(\&flag,\_\_ATOMIC\_ACQUIRE);}
\DoxyCodeLine{00145\ \}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gcc__generic_8h_a9743aa954a48dd2aaa13977efbed76ec}{\_\_TBB\_machine\_unlock\_byte}}(\ \mbox{\hyperlink{gcc__generic_8h_ac46502f7ed83eb6f654aecd2c13fb6b0}{\_\_TBB\_atomic\_flag}}\ \&flag\ )\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \_\_atomic\_clear(\&flag,\_\_ATOMIC\_RELEASE);}
\DoxyCodeLine{00149\ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb}{tbb}}\ \{\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb_1_1internal}{internal}}\ \{}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{int}\ MemOrder>}
\DoxyCodeLine{00158\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \_\_TBB\_machine\_atomic\_load(\ \textcolor{keyword}{const}\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ location)\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{if}\ (MemOrder\ ==\ \_\_ATOMIC\_SEQ\_CST)\ \mbox{\hyperlink{icc__generic_8h_ae39277b4f8d0634c4156c79b1a028014}{\_\_TBB\_compiler\_fence}}();}
\DoxyCodeLine{00160\ \ \ \ \ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ =\ \_\_atomic\_load\_n(\&location,\ MemOrder);}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{if}\ (MemOrder\ !=\ \_\_ATOMIC\_RELAXED)\ \mbox{\hyperlink{icc__generic_8h_ae39277b4f8d0634c4156c79b1a028014}{\_\_TBB\_compiler\_fence}}();}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}};}
\DoxyCodeLine{00163\ \}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{int}\ MemOrder>}
\DoxyCodeLine{00166\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \_\_TBB\_machine\_atomic\_store(\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ location,\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}})\ \{}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordflow}{if}\ (MemOrder\ !=\ \_\_ATOMIC\_RELAXED)\ \mbox{\hyperlink{icc__generic_8h_ae39277b4f8d0634c4156c79b1a028014}{\_\_TBB\_compiler\_fence}}();}
\DoxyCodeLine{00168\ \ \ \ \ \_\_atomic\_store\_n(\&location,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}},\ MemOrder);}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keywordflow}{if}\ (MemOrder\ ==\ \_\_ATOMIC\_SEQ\_CST)\ \mbox{\hyperlink{icc__generic_8h_ae39277b4f8d0634c4156c79b1a028014}{\_\_TBB\_compiler\_fence}}();}
\DoxyCodeLine{00170\ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ S>}
\DoxyCodeLine{00173\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtbb_1_1internal_1_1machine__load__store}{machine\_load\_store}}\ \{}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{structtbb_1_1internal_1_1machine__load__store_a92370c736ce03781f953758c32e1f420}{load\_with\_acquire}}\ (\ \textcolor{keyword}{const}\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ location\ )\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_TBB\_machine\_atomic\_load<T,\ \_\_ATOMIC\_ACQUIRE>(location);}
\DoxyCodeLine{00176\ \ \ \ \ \}}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structtbb_1_1internal_1_1machine__load__store_a6f04fb93302b58c393d09531dcbea5e9}{store\_with\_release}}\ (\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \&location,\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ )\ \{}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \_\_TBB\_machine\_atomic\_store<T,\ \_\_ATOMIC\_RELEASE>(location,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}});}
\DoxyCodeLine{00179\ \ \ \ \ \}}
\DoxyCodeLine{00180\ \};}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ S>}
\DoxyCodeLine{00183\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtbb_1_1internal_1_1machine__load__store__relaxed}{machine\_load\_store\_relaxed}}\ \{}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{structtbb_1_1internal_1_1machine__load__store__relaxed_abb01d548d9222efef16b42f7214c93af}{load}}\ (\ \textcolor{keyword}{const}\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ location\ )\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_TBB\_machine\_atomic\_load<T,\ \_\_ATOMIC\_RELAXED>(location);}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structtbb_1_1internal_1_1machine__load__store__relaxed_a4697b251b75f202000aee4dfcdb047da}{store}}\ (\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ location,\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ )\ \{}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \_\_TBB\_machine\_atomic\_store<T,\ \_\_ATOMIC\_RELAXED>(location,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}});}
\DoxyCodeLine{00189\ \ \ \ \ \}}
\DoxyCodeLine{00190\ \};}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ S>}
\DoxyCodeLine{00193\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structtbb_1_1internal_1_1machine__load__store__seq__cst}{machine\_load\_store\_seq\_cst}}\ \{}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{structtbb_1_1internal_1_1machine__load__store__seq__cst_adc2fafd722dce13da91cba5bcc29baaf}{load}}\ (\ \textcolor{keyword}{const}\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\&\ location\ )\ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_\_TBB\_machine\_atomic\_load<T,\ \_\_ATOMIC\_SEQ\_CST>(location);}
\DoxyCodeLine{00196\ \ \ \ \ \}}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structtbb_1_1internal_1_1machine__load__store__seq__cst_a490581dda59cc9a66c08edd0f66af710}{store}}\ (\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \&location,\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}\ )\ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \_\_TBB\_machine\_atomic\_store<T,\ \_\_ATOMIC\_SEQ\_CST>(location,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}});}
\DoxyCodeLine{00199\ \ \ \ \ \}}
\DoxyCodeLine{00200\ \};}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \}\}\ \textcolor{comment}{//\ namespace\ tbb::internal}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_TBB\_GCC\_VERSION\ <\ 40700}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \textcolor{comment}{//\ Machine\ specific\ atomic\ operations}}
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#define\ \_\_TBB\_AtomicOR(P,V)\ \ \ \ \ \_\_TBB\_machine\_or(P,V)}}
\DoxyCodeLine{00208\ \textcolor{preprocessor}{\#define\ \_\_TBB\_AtomicAND(P,V)\ \ \ \ \_\_TBB\_machine\_and(P,V)}}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \textcolor{preprocessor}{\#define\ \_\_TBB\_TryLockByte\ \ \ \_\_TBB\_machine\_try\_lock\_byte}}
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#define\ \_\_TBB\_UnlockByte\ \ \ \ \_\_TBB\_machine\_unlock\_byte}}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \textcolor{comment}{//\ \_\_builtin\_clz\ counts\ the\ number\ of\ leading\ zeroes}}
\DoxyCodeLine{00214\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb}{tbb}}\{\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetbb_1_1internal_1_1gcc__builtins}{gcc\_builtins}}\ \{}
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacetbb_1_1internal_1_1gcc__builtins_ad7990483c4da7b0026f6e93248455719}{clz}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})\{\ \textcolor{keywordflow}{return}\ \_\_builtin\_clz(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}});\ \}}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacetbb_1_1internal_1_1gcc__builtins_ad7990483c4da7b0026f6e93248455719}{clz}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})\{\ \textcolor{keywordflow}{return}\ \_\_builtin\_clzl(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}});\ \}}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacetbb_1_1internal_1_1gcc__builtins_ad7990483c4da7b0026f6e93248455719}{clz}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})\{\ \textcolor{keywordflow}{return}\ \_\_builtin\_clzll(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}});\ \}}
\DoxyCodeLine{00218\ \}\}\}}
\DoxyCodeLine{00219\ \textcolor{comment}{//\ logarithm\ is\ the\ index\ of\ the\ most\ significant\ non-\/zero\ bit}}
\DoxyCodeLine{00220\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ intptr\_t\ \mbox{\hyperlink{gcc__generic_8h_af26f8c672e53692024046cdc0cc2a391}{\_\_TBB\_machine\_lg}}(\ uintptr\_t\ \mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}}\ )\ \{}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{comment}{//\ If\ P\ is\ a\ power\ of\ 2\ and\ x<P,\ then\ (P-\/1)-\/x\ ==\ (P-\/1)\ XOR\ x}}
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{sizeof}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}})*8\ -\/\ 1)\ \string^\ \mbox{\hyperlink{namespacetbb_1_1internal_1_1gcc__builtins_ad7990483c4da7b0026f6e93248455719}{tbb::internal::gcc\_builtins::clz}}(\mbox{\hyperlink{offscreen_8c_a5fd331c99e778f04762be6d8173eb4d2}{x}});}
\DoxyCodeLine{00223\ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \textcolor{preprocessor}{\#define\ \_\_TBB\_Log2(V)\ \ \_\_TBB\_machine\_lg(V)}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \textcolor{preprocessor}{\#if\ \_\_TBB\_WORDSIZE==4}}
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_\_TBB\_USE\_GENERIC\_DWORD\_LOAD\_STORE\ \ \ \ \ \ \ \ \ \ \ \ \ \ 1}}
\DoxyCodeLine{00229\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \textcolor{preprocessor}{\#if\ \_\_TBB\_x86\_32\ ||\ \_\_TBB\_x86\_64}}
\DoxyCodeLine{00232\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gcc__ia32__common_8h}{gcc\_ia32\_common.h}}"{}}}
\DoxyCodeLine{00233\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
