\doxysection{taskf.\+hpp}
\hypertarget{taskf_8hpp_source}{}\label{taskf_8hpp_source}\index{external/taskflow/3rd-\/party/ff/taskf.hpp@{external/taskflow/3rd-\/party/ff/taskf.hpp}}
\mbox{\hyperlink{taskf_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/*-\/\ Mode:\ C++;\ tab-\/width:\ 4;\ c-\/basic-\/offset:\ 4;\ indent-\/tabs-\/mode:\ nil\ -\/*-\/\ */}}
\DoxyCodeLine{00009\ \ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ FF\_TASKF\_HPP}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ FF\_TASKF\_HPP}}
\DoxyCodeLine{00012\ \textcolor{comment}{/*\ ***************************************************************************}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ \ FastFlow\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or\ modify\ it}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ \ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public\ License\ version\ 3\ as}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ \ published\ by\ the\ Free\ Software\ Foundation.}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ \ Starting\ from\ version\ 3.0.1\ FastFlow\ is\ dual\ licensed\ under\ the\ GNU\ LGPLv3}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ \ or\ MIT\ License\ (https://github.com/ParaGroup/WindFlow/blob/vers3.x/LICENSE.MIT)}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ \ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,\ but\ WITHOUT}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ \ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of\ MERCHANTABILITY\ or}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ \ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ \ License\ for\ more\ details.}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ \ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public\ License}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ *\ \ along\ with\ this\ program;\ if\ not,\ write\ to\ the\ Free\ Software\ Foundation,}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ \ Inc.,\ 59\ Temple\ Place\ -\/\ Suite\ 330,\ Boston,\ MA\ 02111-\/1307,\ USA.}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ ****************************************************************************}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{comment}{/*\ }}
\DoxyCodeLine{00033\ \textcolor{comment}{\ *\ Author:\ Massimo\ Torquati\ (September\ 2014)}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#include\ <algorithm>}\ }
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{farm_8hpp}{ff/farm.hpp}}>}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{task__internals_8hpp}{ff/task\_internals.hpp}}>}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceff}{ff}}\ \{}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__taskf_aaf3f2df5e525dd18dd8d569ee8b885bb}{ff\_taskf}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1ff__farm_a9b16234269f61fb52814e520773fba3e}{ff\_farm}}\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{enum}\ \{\mbox{\hyperlink{classff_1_1ff__taskf_a0ac0e5e3ae7294ba0270054f9f1560eaad663faebb25f51dda75600887bb52847}{DEFAULT\_OUTSTANDING\_TASKS}}\ =\ 2048\};}
\DoxyCodeLine{00044\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F\_t,\ \textcolor{keyword}{typename}...\ Param>}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a779b76902ce0c7f8db447e2e0b6edb50}{ff\_task\_f\_t}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structff_1_1base__f__t}{base\_f\_t}}\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a779b76902ce0c7f8db447e2e0b6edb50}{ff\_task\_f\_t}}(\textcolor{keyword}{const}\ F\_t\ \mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a1e2102da845ebdd30ff0d793978169b1}{F}},\ Param\&...\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}):\mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a1e2102da845ebdd30ff0d793978169b1}{F}}(\mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a1e2102da845ebdd30ff0d793978169b1}{F}})\ \{\ \mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a08b47b527e7353ac9a981897111ff67d}{args}}\ =\ std::make\_tuple(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}...);\}\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a96ce56bfcc7531cec1f30117c206cc2c}{call}}()\ \{\ \mbox{\hyperlink{namespaceff_af33fa471f8ff09970ec689cd12cab4f1}{ffapply}}(\mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a1e2102da845ebdd30ff0d793978169b1}{F}},\ \mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a08b47b527e7353ac9a981897111ff67d}{args}});\ \}}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ F\_t\ \mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a1e2102da845ebdd30ff0d793978169b1}{F}};}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ std::tuple<Param...>\ \mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t_a08b47b527e7353ac9a981897111ff67d}{args}};\ \ }
\DoxyCodeLine{00052\ \ \ \ \ \};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}\ *\mbox{\hyperlink{classff_1_1ff__taskf_a2b9aac56e80a459561b7168385b2983c}{alloc\_task}}(std::vector<param\_info>\ \&\mbox{\hyperlink{namespace_p}{P}},\ \mbox{\hyperlink{structff_1_1base__f__t}{base\_f\_t}}\ *wtask)\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ \&(\mbox{\hyperlink{classff_1_1ff__taskf_ab257a653fdcfad550abf6c60aaa35ffc}{TASKS}}[\mbox{\hyperlink{classff_1_1ff__taskf_a7732dfe4a2c733a1f070476ad484a4d6}{ntasks}}++\ \%\ \mbox{\hyperlink{classff_1_1ff__taskf_a1e99c7b817f6503de29f06d13555fbfa}{outstandingTasks}}]);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}-\/>P\ \ \ \ \ =\ \mbox{\hyperlink{namespace_p}{P}};}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}-\/>wtask\ =\ wtask;}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ \ \ \ \ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \ worker\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff__taskf_1_1_worker}{Worker}}:\ \mbox{\hyperlink{structff_1_1ff__node__t_adfa24b76d1e3870514d1a5c09d45123c}{ff\_node\_t}}<task\_f\_t>\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}\ *\mbox{\hyperlink{structff_1_1ff__taskf_1_1_worker_a29ccf78942f64bb1a6ff02e48fca0ba4}{svc}}(\mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}-\/>wtask-\/>call();}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00068\ \ \ \ \ \};}
\DoxyCodeLine{00069\ \ \ \ \ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \ Scheduler\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a888722f034043d1e578de2b7514a6aa4}{Scheduler}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structff_1_1ff__node__t_adfa24b76d1e3870514d1a5c09d45123c}{ff\_node\_t}}<task\_f\_t>\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a444b3e239513b6f6aeaa02fb5185ac4f}{fromInput}}()\ \{\ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1f5606c2350cf82139dd802fc917814b}{lb}}-\/>get\_channel\_id()\ ==\ -\/1);\ \ \ \}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a888722f034043d1e578de2b7514a6aa4}{Scheduler}}(\mbox{\hyperlink{classff_1_1ff__node_a4507398d523881cfadefdf463bfa5962}{ff\_loadbalancer}}*\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1f5606c2350cf82139dd802fc917814b}{lb}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}):}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_ac48d6e97deb080e9df8f0b9dbdfe5a2f}{eosreceived}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_afb7bd9ab4d38edc6b11968f0f1db3d6d}{numtasks}}(0),\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1f5606c2350cf82139dd802fc917814b}{lb}}(\mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1f5606c2350cf82139dd802fc917814b}{lb}})\ \{\}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a69bf9e12ea1418bbe7acc8681ffaab14}{\string~Scheduler}}()\ \{\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_aef9b79490e5161d0aac39d2dbd8fa4e6}{wait}}();\ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1816ae70d2404b5638370895992b50e2}{svc\_init}}()\ \{\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_afb7bd9ab4d38edc6b11968f0f1db3d6d}{numtasks}}\ =\ 0;\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_ac48d6e97deb080e9df8f0b9dbdfe5a2f}{eosreceived}}\ =\ \textcolor{keyword}{false};\ \ \textcolor{keywordflow}{return}\ 0;\}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}\ *\mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_acebed6182825e235878cf492f76e5f3e}{svc}}(\mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{\ }
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a444b3e239513b6f6aeaa02fb5185ac4f}{fromInput}}())\ \{\ }
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_afb7bd9ab4d38edc6b11968f0f1db3d6d}{numtasks}};\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}-\/>wtask;}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (-\/-\/\mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_afb7bd9ab4d38edc6b11968f0f1db3d6d}{numtasks}}\ <=\ 0\ \&\&\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_ac48d6e97deb080e9df8f0b9dbdfe5a2f}{eosreceived}})\ \{}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1f5606c2350cf82139dd802fc917814b}{lb}}-\/>broadcast\_task(\mbox{\hyperlink{structff_1_1ff__node__t_ab68789c475c567b1c77995120b4df73f}{GO\_OUT}});}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structff_1_1ff__node__t_ab68789c475c567b1c77995120b4df73f}{GO\_OUT}};}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structff_1_1ff__node__t_a0d81bcf453ce4482e01f7f73b376dd1e}{GO\_ON}};\ }
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a470aaedbbe2f9cfba6e49983547e0936}{thaw}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__node_aa9cbd68a2b1b94ac714a5939d510467b}{freeze}},\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw)\ \{\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1f5606c2350cf82139dd802fc917814b}{lb}}-\/>thaw(\mbox{\hyperlink{classff_1_1ff__node_aa9cbd68a2b1b94ac714a5939d510467b}{freeze}},nw);\}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_adcc42ef68a69e8a880cf49fb44578e73}{wait\_freezing}}()\ \{\ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1f5606c2350cf82139dd802fc917814b}{lb}}-\/>wait\_lb\_freezing();\ \}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_aef9b79490e5161d0aac39d2dbd8fa4e6}{wait}}()\ \ \ \ \ \ \ \ \ \ \{\ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1f5606c2350cf82139dd802fc917814b}{lb}}-\/>wait();\ \}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a7affef6282f8ce6c0530d660c3dcb66e}{eosnotify}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \textcolor{keywordtype}{id})\ \{\ }
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ -\/1)\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_ac48d6e97deb080e9df8f0b9dbdfe5a2f}{eosreceived}}=\textcolor{keyword}{true};\ }
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_afb7bd9ab4d38edc6b11968f0f1db3d6d}{numtasks}}<=0)\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1f5606c2350cf82139dd802fc917814b}{lb}}-\/>broadcast\_task(\mbox{\hyperlink{structff_1_1ff__node__t_a9942431fef1318dcade6ef74a08162c3}{EOS}});}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keyword}{protected}:\ \ }
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_ac48d6e97deb080e9df8f0b9dbdfe5a2f}{eosreceived}};}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_afb7bd9ab4d38edc6b11968f0f1db3d6d}{numtasks}};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a4507398d523881cfadefdf463bfa5962}{ff\_loadbalancer}}\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler_a1f5606c2350cf82139dd802fc917814b}{lb}};}
\DoxyCodeLine{00110\ \ \ \ \ \};}
\DoxyCodeLine{00111\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ by\ default\ the\ scheduling\ is\ round-\/robin\ (pseudo\ round-\/robin\ indeed).}}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ In\ order\ to\ select\ the\ ondemand\ scheduling\ policy,\ set\ the\ ondemand\_buffer\ to\ a\ }}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ value\ grather\ than\ 1.}}
\DoxyCodeLine{00115\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_aaf3f2df5e525dd18dd8d569ee8b885bb}{ff\_taskf}}(\textcolor{keywordtype}{int}\ maxnw=\mbox{\hyperlink{mapping__utils_8hpp_a48b4561032da858d15d02cb7179b0b53}{ff\_realNumCores}}(),\ }
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ maxTasks=\mbox{\hyperlink{classff_1_1ff__taskf_a0ac0e5e3ae7294ba0270054f9f1560eaad663faebb25f51dda75600887bb52847}{DEFAULT\_OUTSTANDING\_TASKS}},\ }
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}=0):}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a9b16234269f61fb52814e520773fba3e}{ff\_farm}}(\mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}},\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{datatypes_8h_affe776513b24d84b39af8ab0930fef7f}{max}})(maxTasks,\ (size\_t)(\mbox{\hyperlink{config_8hpp_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}}*8)),}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{datatypes_8h_affe776513b24d84b39af8ab0930fef7f}{max}})(maxTasks,\ (size\_t)(\mbox{\hyperlink{config_8hpp_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}}*8)),}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}},\ maxnw,\ \mbox{\hyperlink{yyjson_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}),}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_a9aa07ae197ca9fcb2ee241c43a8437bb}{farmworkers}}(maxnw),\mbox{\hyperlink{classff_1_1ff__taskf_a7732dfe4a2c733a1f070476ad484a4d6}{ntasks}}(0),}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_a1e99c7b817f6503de29f06d13555fbfa}{outstandingTasks}}((\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{datatypes_8h_affe776513b24d84b39af8ab0930fef7f}{max}})(maxTasks,\ (size\_t)(\mbox{\hyperlink{config_8hpp_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}}*8))),\mbox{\hyperlink{classff_1_1ff__taskf_a84d97edc0390b9845ed24b4d1c5ff81e}{taskscounter}}(0)\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_ab257a653fdcfad550abf6c60aaa35ffc}{TASKS}}.resize(\mbox{\hyperlink{classff_1_1ff__taskf_a1e99c7b817f6503de29f06d13555fbfa}{outstandingTasks}});\ }
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ std::vector<ff\_node\ *>\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}};}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ Worker\ objects\ are\ going\ to\ be\ destroyed\ by\ the\ farm\ destructor}}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<maxnw;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.push\_back(\textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff__taskf_1_1_worker}{Worker}});}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{ff\_farm::add\_workers}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{ff\_farm::add\_emitter}}(\mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler}{Scheduler}}(\mbox{\hyperlink{classff_1_1ff__farm_ac198b3718c3dfc5c89291a4a7b2fa732}{ff\_farm::getlb}}(),\ maxnw));}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ad33e81a08a5b198f51fb1b7b5fed08ec}{ff\_farm::wrap\_around}}();}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a259e203b6eaf044985781f0a8668b9ae}{ff\_farm::set\_scheduling\_ondemand}}(\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}});}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ needed\ to\ avoid\ the\ initial\ barrier}}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_a848992cce0933404c983529a57ef323b}{ff\_farm::prepare}}()\ <\ 0)\ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_taskf:\ running\ farm\ (1)\(\backslash\)n"{}});}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=-\/1;}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ac198b3718c3dfc5c89291a4a7b2fa732}{getlb}}()-\/>\mbox{\hyperlink{classff_1_1ff__loadbalancer_afcce87c8c005a29a1b182e16494857a0}{freeze}}();}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a2a275b6ac54a5424245c4a56868ee2d2}{ff\_farm::offload}}(\mbox{\hyperlink{classff_1_1ff__node_a57ce59be19900e98cce03412a099738a}{GO\_OUT}});}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__farm_ac198b3718c3dfc5c89291a4a7b2fa732}{getlb}}()-\/>\mbox{\hyperlink{classff_1_1ff__taskf_acac9bf8610ea0c5c7b83c3fe634b79ef}{run}}()\ !=\ -\/1)\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_ac198b3718c3dfc5c89291a4a7b2fa732}{getlb}}()-\/>\mbox{\hyperlink{classff_1_1ff__loadbalancer_a09db6f6aebc0b4256667e74c398e8bab}{broadcast\_task}}(\mbox{\hyperlink{classff_1_1ff__node_a57ce59be19900e98cce03412a099738a}{GO\_OUT}});}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff__farm_ac198b3718c3dfc5c89291a4a7b2fa732}{getlb}}()-\/>\mbox{\hyperlink{classff_1_1ff__loadbalancer_abb9d2268c1a5ea721f3c33186ef70a2f}{wait\_freezing}}();\ \ \ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}<0)\ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_taskf:\ running\ farm\ (2)\(\backslash\)n"{}});}
\DoxyCodeLine{00146\ \ \ \ \ \}}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1ff__taskf_a852ea1f4d8d55a3142c3c08b5a3e6490}{\string~ff\_taskf}}()\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}})\ \{\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}};\ \mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}}=\textcolor{keyword}{nullptr};\}}
\DoxyCodeLine{00149\ \ \ \ \ \}}
\DoxyCodeLine{00150\ \ \ \ \ }
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F\_t,\ \textcolor{keyword}{typename}...\ Param>}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}*\ \mbox{\hyperlink{classff_1_1ff__taskf_a85a86769f4fdaaf57fa9fd09ed6db52e}{AddTask}}(\textcolor{keyword}{const}\ F\_t\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}},\ Param...\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})\ \{\ \ }
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ FIX:\ use\ ff\_allocator\ here\ !}}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t}{ff\_task\_f\_t}}<F\_t,\ Param...>\ *wtask\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff__taskf_1_1ff__task__f__t}{ff\_task\_f\_t}}<F\_t,\ Param...>(\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}},\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}}...);}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ std::vector<param\_info>\ useless;}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ \mbox{\hyperlink{classff_1_1ff__taskf_a2b9aac56e80a459561b7168385b2983c}{alloc\_task}}(useless,wtask);\ \ \ }
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(!\mbox{\hyperlink{classff_1_1ff__farm_a2a275b6ac54a5424245c4a56868ee2d2}{ff\_farm::offload}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ 1))\ \mbox{\hyperlink{namespaceff_a971d873b94c8fe649b37150f789a0e86}{ff\_relax}}(1);\ \ }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classff_1_1ff__taskf_a84d97edc0390b9845ed24b4d1c5ff81e}{taskscounter}};}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{00160\ \ \ \ \ \}\ }
\DoxyCodeLine{00161\ \ \ \ \ }
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__taskf_a5e4cdbab95cfc1dc7715e244f2d3a518}{run\_and\_wait\_end}}()\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(!\mbox{\hyperlink{classff_1_1ff__farm_a2a275b6ac54a5424245c4a56868ee2d2}{ff\_farm::offload}}(\mbox{\hyperlink{classff_1_1ff__node_a1e60cdd7d63155baf308086d38690567}{EOS}},\ 1))\ \mbox{\hyperlink{namespaceff_a971d873b94c8fe649b37150f789a0e86}{ff\_relax}}(1);}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}}-\/>thaw(\textcolor{keyword}{true},\mbox{\hyperlink{classff_1_1ff__taskf_a9aa07ae197ca9fcb2ee241c43a8437bb}{farmworkers}});}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}}-\/>wait\_freezing();}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}}-\/>wait();}
\DoxyCodeLine{00167\ \ \ \ \ \}}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__taskf_a5cabc5480132a605b6da5545635b5f97}{run\_then\_freeze}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw=-\/1)\ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(!\mbox{\hyperlink{classff_1_1ff__farm_a2a275b6ac54a5424245c4a56868ee2d2}{ff\_farm::offload}}(\mbox{\hyperlink{classff_1_1ff__node_a1e60cdd7d63155baf308086d38690567}{EOS}},\ 1))\ \mbox{\hyperlink{namespaceff_a971d873b94c8fe649b37150f789a0e86}{ff\_relax}}(1);}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}}-\/>thaw(\textcolor{keyword}{true},(nw>0)\ ?\ nw:\mbox{\hyperlink{classff_1_1ff__taskf_a84d97edc0390b9845ed24b4d1c5ff81e}{taskscounter}});}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}}-\/>wait\_freezing();}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_a84d97edc0390b9845ed24b4d1c5ff81e}{taskscounter}}=0;}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00174\ \ \ \ \ \}}
\DoxyCodeLine{00175\ \ \ \ \ }
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{comment}{//\ it\ starts\ all\ workers}}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__taskf_acac9bf8610ea0c5c7b83c3fe634b79ef}{run}}(\textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}}-\/>thaw(\textcolor{keyword}{true},\mbox{\hyperlink{classff_1_1ff__taskf_a9aa07ae197ca9fcb2ee241c43a8437bb}{farmworkers}});}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00180\ \ \ \ \ \}}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__taskf_a4d11587fcc1460f360847ec7991b613d}{wait}}()\ \{\ }
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(!\mbox{\hyperlink{classff_1_1ff__farm_a2a275b6ac54a5424245c4a56868ee2d2}{ff\_farm::offload}}(\mbox{\hyperlink{classff_1_1ff__node_a1e60cdd7d63155baf308086d38690567}{EOS}},\ 1))\ \mbox{\hyperlink{namespaceff_a971d873b94c8fe649b37150f789a0e86}{ff\_relax}}(1);}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}}-\/>wait\_freezing();}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_a84d97edc0390b9845ed24b4d1c5ff81e}{taskscounter}}=0;}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \textcolor{preprocessor}{\#if\ defined(TRACE\_FASTFLOW)}}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__taskf_abe9d79af0237c906903f73589537400b}{ffStats}}(std::ostream\ \&\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \{\ }
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ taskf:\(\backslash\)n"{}};}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm_a38626bfaad84beab04fe5e3f360d649c}{ff\_farm::ffStats}}(\mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}});}
\DoxyCodeLine{00192\ \ \ \ \ \}}
\DoxyCodeLine{00193\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__taskf_abe9d79af0237c906903f73589537400b}{ffStats}}(std::ostream\ \&\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \{\ }
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ <<\ \textcolor{stringliteral}{"{}FastFlow\ trace\ not\ enabled\(\backslash\)n"{}};}
\DoxyCodeLine{00196\ \ \ \ \ \}}
\DoxyCodeLine{00197\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00198\ \ \ \ \ }
\DoxyCodeLine{00199\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__taskf_a9aa07ae197ca9fcb2ee241c43a8437bb}{farmworkers}};}
\DoxyCodeLine{00201\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__taskf_1_1_scheduler}{Scheduler}}\ *\mbox{\hyperlink{classff_1_1ff__taskf_aa94e77c9a6df9deb5d5d5f234f1da444}{sched}};}
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__taskf_a7732dfe4a2c733a1f070476ad484a4d6}{ntasks}},\ \mbox{\hyperlink{classff_1_1ff__taskf_a1e99c7b817f6503de29f06d13555fbfa}{outstandingTasks}},\ \mbox{\hyperlink{classff_1_1ff__taskf_a84d97edc0390b9845ed24b4d1c5ff81e}{taskscounter}};}
\DoxyCodeLine{00203\ \ \ \ \ std::vector<task\_f\_t>\ \mbox{\hyperlink{classff_1_1ff__taskf_ab257a653fdcfad550abf6c60aaa35ffc}{TASKS}};\ \ \ \ \textcolor{comment}{//\ FIX:\ svector\ should\ be\ used\ here}}
\DoxyCodeLine{00204\ \};}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \}\ \textcolor{comment}{//\ namespace}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ FF\_TASKF\_HPP\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
