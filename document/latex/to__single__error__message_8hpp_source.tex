\doxysection{to\+\_\+single\+\_\+error\+\_\+message.\+hpp}
\hypertarget{to__single__error__message_8hpp_source}{}\label{to__single__error__message_8hpp_source}\index{external/reflect-\/cpp/include/rfl/parsing/to\_single\_error\_message.hpp@{external/reflect-\/cpp/include/rfl/parsing/to\_single\_error\_message.hpp}}
\mbox{\hyperlink{to__single__error__message_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ RFL\_PARSING\_TOSINGLEERRORMESSAGE\_HPP\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ RFL\_PARSING\_TOSINGLEERRORMESSAGE\_HPP\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{strings_8hpp}{../internal/strings/strings.hpp}}"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl_1_1parsing}{rfl::parsing}}\ \{}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{inline}\ std::string\ \mbox{\hyperlink{namespacerfl_1_1parsing_a3407c71c31e03f4779d002aebcad6acf}{to\_single\_error\_message}}(}
\DoxyCodeLine{00015\ \ \ \ \ std::vector<Error>\ \_errors,}
\DoxyCodeLine{00016\ \ \ \ \ std::optional<std::string>\ \_msg\_prefix\ =\ std::nullopt,}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \_err\_limit\ =\ 10)\ \{}
\DoxyCodeLine{00018\ \ \ \textcolor{keywordflow}{if}\ (\_errors.size()\ ==\ 1)\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordflow}{return}\ std::move(\_errors[0].what());}
\DoxyCodeLine{00020\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00021\ \ \ \ \ std::stringstream\ stream;}
\DoxyCodeLine{00022\ \ \ \ \ stream\ <<\ (\_msg\_prefix}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ *\_msg\_prefix}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \textcolor{stringliteral}{"{}Found\ "{}}\ +\ std::to\_string(\_errors.size())\ +\ \textcolor{stringliteral}{"{}\ errors:"{}});}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \_errors.size()\ \&\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \_err\_limit;\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \ \ stream\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ +\ 1\ <<\ \textcolor{stringliteral}{"{})\ "{}}}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{namespacerfl_1_1internal_1_1strings_aba6e6b858dd073162204fe7f98b56760}{internal::strings::replace\_all}}(\_errors.at(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}).what(),\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}},}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)n\ \ \ \ "{}});}
\DoxyCodeLine{00030\ \ \ \ \ \}}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_errors.size()\ >\ \_err\_limit)\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ stream\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n...\(\backslash\)nMore\ than\ "{}}\ <<\ \_err\_limit}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ errors\ occurred,\ but\ I\ am\ only\ showing\ the\ "{}}}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}first\ "{}}}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \_err\_limit\ <<\ \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00036\ \ \ \ \ \}}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordflow}{return}\ stream.str();}
\DoxyCodeLine{00038\ \ \ \}}
\DoxyCodeLine{00039\ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \}\ \ \textcolor{comment}{//\ namespace\ rfl::parsing}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
