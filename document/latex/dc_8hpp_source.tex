\doxysection{dc.\+hpp}
\hypertarget{dc_8hpp_source}{}\label{dc_8hpp_source}\index{external/taskflow/3rd-\/party/ff/dc.hpp@{external/taskflow/3rd-\/party/ff/dc.hpp}}
\mbox{\hyperlink{dc_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/*-\/\ Mode:\ C++;\ tab-\/width:\ 4;\ c-\/basic-\/offset:\ 4;\ indent-\/tabs-\/mode:\ nil\ -\/*-\/\ */}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#ifndef\ FF\_DAC\_MDF\_HPP}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#define\ FF\_DAC\_MDF\_HPP}}
\DoxyCodeLine{00005\ \textcolor{comment}{/*\ ***************************************************************************}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ \ FastFlow\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or\ modify\ it}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ \ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public\ License\ version\ 3\ as}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ \ published\ by\ the\ Free\ Software\ Foundation.}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ \ Starting\ from\ version\ 3.0.1\ FastFlow\ is\ dual\ licensed\ under\ the\ GNU\ LGPLv3}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *\ \ or\ MIT\ License\ (https://github.com/ParaGroup/WindFlow/blob/vers3.x/LICENSE.MIT)}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ \ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,\ but\ WITHOUT}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ \ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of\ MERCHANTABILITY\ or}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ \ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ \ License\ for\ more\ details.}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ \ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public\ License}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ \ along\ with\ this\ program;\ if\ not,\ write\ to\ the\ Free\ Software\ Foundation,}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ \ Inc.,\ 59\ Temple\ Place\ -\/\ Suite\ 330,\ Boston,\ MA\ 02111-\/1307,\ USA.}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ ****************************************************************************}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ ****************************************************************************}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ \ Author:\ \ \ }}
\DoxyCodeLine{00026\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ Tiziano\ De\ Matteis\ <dematteis@di.unipi.it>}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ Massimo\ Torquati\ <torquati@di.unipi.it>\ \ \ \ \ \ \ }}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#include\ <tuple>}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{ff_8hpp}{ff/ff.hpp}}>}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#define\ DONT\_USE\_FFALLOC\ 1}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{task__internals_8hpp}{ff/task\_internals.hpp}}>}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceff}{ff}}\{}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ IN\_t,\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ OUT\_t\ =\ IN\_t,\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ OperandType\ =\ IN\_t,\ }
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ResultType\ =\ OUT\_t,\ \textcolor{keyword}{typename}\ compare\_t=CompareTask\_Par>}
\DoxyCodeLine{00054\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff___d_c_a79c0a3e75befc72f06c0269af07d098c}{ff\_DC}}:\textcolor{keyword}{public}\ \mbox{\hyperlink{structff_1_1ff__node__t_adfa24b76d1e3870514d1a5c09d45123c}{ff\_node\_t}}<IN\_t,\ OUT\_t>\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff___d_c_a6c8d42b45c066692fbf71f1853de07cf}{divide\_f\_t}}\ \ \ =\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}\ (\textcolor{keyword}{const}\ OperandType\&,\ std::vector<OperandType>\ \&)>;}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff___d_c_a7560597909df63b8aa1045cb0fc5f3f5}{combine\_f\_t}}\ \ =\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(std::vector<ResultType>\&,ResultType\&)>;}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff___d_c_a84cb239894797b858cb52749d22f46e2}{seq\_f\_t}}\ \ \ \ \ \ =\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keyword}{const}\ OperandType\&,\ ResultType\&)>;}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff___d_c_a4c4ec715fcf176beb1c68b523d4081da}{cond\_f\_t}}\ \ \ \ \ =\ std::function<\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}(\textcolor{keyword}{const}\ OperandType\&)>;}
\DoxyCodeLine{00059\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keyword}{enum}\ \{\mbox{\hyperlink{classff_1_1ff___d_c_ade742cac84bd8f2bb1d3b78841916e71ae277092e415a20df8cc30c53697005c6}{DEFAULT\_OUTSTANDING\_TASKS}}\ =\ 2048\};\ \ \ \ }
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{keyword}{protected}:\ \ \ \ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff___d_c_a40ab1542ccbe033418e1e886dca7208a}{prepared}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff___d_c_a75e1bd8185977a6f48dbff4f2adccbfc}{prepare}}()\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff___d_c_a40ab1542ccbe033418e1e886dca7208a}{prepared}})\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=-\/1;}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>freeze();}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>run(\textcolor{keyword}{true})\ !=\ -\/1)\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>wait\_freezing();}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}<0)\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_DC:\ preparing\ DAC\(\backslash\)n"{}});\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a40ab1542ccbe033418e1e886dca7208a}{prepared}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00079\ \ \ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keyword}{virtual}\ OperandType\ *\mbox{\hyperlink{classff_1_1ff___d_c_a66aa8bcf9d4bf07110f3de36e4479dda}{setTaskIn}}(IN\_t\ *\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a4ea69838448a13904eccee758afb3fde}{sched}}-\/>setTaskIn((OperandType*)\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}});}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (OperandType*)\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}};}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keyword}{virtual}\ ResultType\ *\mbox{\hyperlink{classff_1_1ff___d_c_a83053f04d6bdbb9fcdb3be035961db58}{setTaskOut}}(IN\_t\ *\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a4ea69838448a13904eccee758afb3fde}{sched}}-\/>setTaskOut((ResultType*)\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}});}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (ResultType*)\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}};}
\DoxyCodeLine{00089\ \ \ \ \ \}}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keyword}{virtual}\ OUT\_t\ *\mbox{\hyperlink{classff_1_1ff___d_c_abe8cd278426f870569de1533fd3456a9}{releaseTask}}(ResultType\ *\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (OUT\_t*)\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}};}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ OUT\_t\ *\mbox{\hyperlink{classff_1_1ff___d_c_a23aee352f3d9ac887829efedb96de15e}{svc}}(IN\_t\ *\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}})\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ OperandType\ *op\ \ =\ \mbox{\hyperlink{classff_1_1ff___d_c_a66aa8bcf9d4bf07110f3de36e4479dda}{setTaskIn}}(\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}});\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a4ea69838448a13904eccee758afb3fde}{sched}}-\/>setTaskIn(op);}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ ResultType\ \ *\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{classff_1_1ff___d_c_a83053f04d6bdbb9fcdb3be035961db58}{setTaskOut}}(\mbox{\hyperlink{classff_1_1ff__node_a4d7ba3bf29d7cbf82cf3d355692b874d}{in}});}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a4ea69838448a13904eccee758afb3fde}{sched}}-\/>setTaskOut(\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}});}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>run\_then\_freeze();}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>wait\_freezing();}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff___d_c_abe8cd278426f870569de1533fd3456a9}{releaseTask}}(\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}});}
\DoxyCodeLine{00103\ \ \ \ \ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/\ data\ types\ used\ between\ the\ Scheduler\ and\ the\ Workers\ }}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ generic\_task\_t:\ encapsulate\ both\ task\_f\_t\ and\ hash\_task\_t}}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ plus\ a\ boolean\ to\ distinguish\ between\ them}}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}}\{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keyword}{union}\{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *\mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t_a6eb7fa6d7eac899fc5594210c8438c8d}{ht}};}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}\ \ \ \ \ \mbox{\hyperlink{namespacetf}{tf}};}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t_a8bcf63774c6e44b45db544ef1fa3f672}{is\_new\_task}};\ \ \ \textcolor{comment}{//true\ if\ you\ have\ to\ read\ tf\ field}}
\DoxyCodeLine{00115\ \ \ \ \ \};}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F\_t,\ \textcolor{keyword}{typename}...\ Param>}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a4fbc959f10a26ddf1ee6139df88eb4d2}{ff\_dac\_f\_t}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structff_1_1base__f__t}{base\_f\_t}}\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a4fbc959f10a26ddf1ee6139df88eb4d2}{ff\_dac\_f\_t}}(\textcolor{keyword}{const}\ F\_t\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a34afe0fb0d0bad09caec016b05f0d6b8}{F}},\ Param\&...\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}):\mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a34afe0fb0d0bad09caec016b05f0d6b8}{F}}(\mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a34afe0fb0d0bad09caec016b05f0d6b8}{F}})\ \{\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a76c7d6032b31ede51b72a61ca600185e}{args}}\ =\ std::make\_tuple(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}...);\}\ \ \ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a325c5731551586ce62ea1f71feb4b2bd}{call}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Before\ invoking\ the\ function,\ pass\ to\ it\ the\ context\ as\ first\ parameter\ (i.e.\ a\ reference\ to\ the\ current\ worker)}}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacestd_aae41d8280b7ccc3f0e0a0be2dab21c8f}{std::get<0>}}(\mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a76c7d6032b31ede51b72a61ca600185e}{args}})=\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}};}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_af33fa471f8ff09970ec689cd12cab4f1}{ffapply}}(\mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a34afe0fb0d0bad09caec016b05f0d6b8}{F}},\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a76c7d6032b31ede51b72a61ca600185e}{args}});}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ F\_t\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a34afe0fb0d0bad09caec016b05f0d6b8}{F}};}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ std::tuple<Param...>\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t_a76c7d6032b31ede51b72a61ca600185e}{args}};\ \ }
\DoxyCodeLine{00128\ \ \ \ \ \};}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff___d_c_a0dcc8da3c6c014c70a9f6ace7c4c22d3}{CombineFunction}}(\textcolor{keywordtype}{void}\ *\ \textcolor{comment}{/*w*/},\textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}(std::vector<ResultType>\&,ResultType\&)>\&\ combine\_fn,\ std::vector<ResultType>*\ ress,\ ResultType*\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ std::vector<OperandType>\ *subops)}
\DoxyCodeLine{00139\ \ \ \ \ \{}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ combine\_fn(*ress,*\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}});}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{comment}{//clean\ up\ memory,\ sub\ operand\ and\ partial\ results\ are\ no\ more\ used}}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{comment}{//for(size\_t\ i=0;i<subops-\/>size();i++)}}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \{}}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ delete\ (*ress)[i];}}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//delete\ subops[i];}}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \}}}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ ress;}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ subops;}
\DoxyCodeLine{00152\ \ \ \ \ \}}
\DoxyCodeLine{00153\ \ \ \ \ }
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff___d_c_a0bdf09998d68a4c78013f48079a2f470}{DACFunction}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}},\textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}\ (\textcolor{keyword}{const}\ OperandType\&,\ std::vector<OperandType>\ \&)>\&\ \mbox{\hyperlink{classff_1_1ff___d_c_a0a6cef15d9306bcbfa32bfbf9686ff00}{\_divide\_fn}},\ \textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}(std::vector<ResultType>\&,ResultType\&)>\&\ \mbox{\hyperlink{classff_1_1ff___d_c_acebfd4d940f5e33a9ac64f6c77e71743}{\_combine\_fn}},}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}(\textcolor{keyword}{const}\ OperandType\&,ResultType\&)>\&\ \mbox{\hyperlink{classff_1_1ff___d_c_a29633be4406c7000adb1c62b41b295d8}{\_seq\_fn}},\textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const}\ OperandType\&)>\&\ \mbox{\hyperlink{classff_1_1ff___d_c_a14408e0adb07d104b1f4044e74c69228}{\_condition\_fn}},}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OperandType*\ op,\ ResultType\ *\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ )}
\DoxyCodeLine{00172\ \ \ \ \ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{classff_1_1ff___d_c_a14408e0adb07d104b1f4044e74c69228}{\_condition\_fn}}(*op))\ \ \textcolor{comment}{//this\ is\ not\ the\ base\ case}}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//divide}}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//std::vector<OperandType*>\ ops=\_divide\_fn(*op);}}
\DoxyCodeLine{00177\ \ \ \ \ \ }
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<OperandType>\ *ops=\textcolor{keyword}{new}\ std::vector<OperandType>();}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a0a6cef15d9306bcbfa32bfbf9686ff00}{\_divide\_fn}}(*op,\ *ops);}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ branch\_factor=ops-\/>size();}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//create\ the\ space\ for\ the\ partial\ results}}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<ResultType>\ *ress=\textcolor{keyword}{new}\ std::vector<ResultType>(branch\_factor);}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//for(int\ i=0;i<branch\_factor;i++)\ ress-\/>push\_back(new\ ResultType());}}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//conquer:\ create\ branch\_factor-\/1\ tasks\ and\ recur\ on\ the\ last\ sub-\/operand}}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<param\_info>\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}};}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<branch\_factor-\/1;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}}.clear();}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1param__info}{param\_info}}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\{(uintptr\_t)\&(*ress)[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\mbox{\hyperlink{namespaceff_ac1c73df08376b11e26ecbefe6e3921bfaa5c767f7446196203dd02823771f3d29}{OUTPUT}}\};}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}}.push\_back(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}});}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{structff_1_1ff___d_c_1_1_d_a_c_worker}{DACWorker}}*)\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})-\/>AddTaskWorker(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}},}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a0bdf09998d68a4c78013f48079a2f470}{ff\_DC<IN\_t,\ OUT\_t,\ OperandType,\ ResultType,\ compare\_t>::DACFunction}},\ }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}},\mbox{\hyperlink{classff_1_1ff___d_c_a0a6cef15d9306bcbfa32bfbf9686ff00}{\_divide\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_acebfd4d940f5e33a9ac64f6c77e71743}{\_combine\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_a29633be4406c7000adb1c62b41b295d8}{\_seq\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_a14408e0adb07d104b1f4044e74c69228}{\_condition\_fn}},\ \&(*ops)[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ \&(*ress)[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a0bdf09998d68a4c78013f48079a2f470}{DACFunction}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}},\mbox{\hyperlink{classff_1_1ff___d_c_a0a6cef15d9306bcbfa32bfbf9686ff00}{\_divide\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_acebfd4d940f5e33a9ac64f6c77e71743}{\_combine\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_a29633be4406c7000adb1c62b41b295d8}{\_seq\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_a14408e0adb07d104b1f4044e74c69228}{\_condition\_fn}},\ \&(*ops)[branch\_factor-\/1],\ \&(*ress)[branch\_factor-\/1]);}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//combine\ task}}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}}.clear();}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<branch\_factor;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1param__info}{param\_info}}\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}=\{(uintptr\_t)\ \&(*ress)[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\mbox{\hyperlink{namespaceff_ac1c73df08376b11e26ecbefe6e3921bfa0663b32f810c6948da63e824230d17fd}{INPUT}}\};}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}}.push\_back(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1param__info}{param\_info}}\ cret=\{(uintptr\_t)\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}),\mbox{\hyperlink{namespaceff_ac1c73df08376b11e26ecbefe6e3921bfaa5c767f7446196203dd02823771f3d29}{OUTPUT}}\};}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}}.push\_back(cret);}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{structff_1_1ff___d_c_1_1_d_a_c_worker}{DACWorker}}*)\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})-\/>AddTaskWorker(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}},\ }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a0dcc8da3c6c014c70a9f6ace7c4c22d3}{ff\_DC<IN\_t,\ OUT\_t,\ OperandType,\ ResultType,\ compare\_t>::CombineFunction}},}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}},\ \mbox{\hyperlink{classff_1_1ff___d_c_acebfd4d940f5e33a9ac64f6c77e71743}{\_combine\_fn}},ress,\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}},\ ops);}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//base\ case}}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a29633be4406c7000adb1c62b41b295d8}{\_seq\_fn}}(*op,*\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}});}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00222\ \ \ \ \ \}}
\DoxyCodeLine{00223\ \ \ \ \ }
\DoxyCodeLine{00224\ \ \ \ \ }
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \ worker\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff___d_c_1_1_d_a_c_worker}{DACWorker}}:\ \mbox{\hyperlink{structff_1_1ff__node__t_adfa24b76d1e3870514d1a5c09d45123c}{ff\_node\_t}}<hash\_task\_t,generic\_task\_t>\ \{}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \textcolor{comment}{//DEBUG}}
\DoxyCodeLine{00229\ \textcolor{comment}{//\ \ \ \ \ \ DACWorker():\_task\_exe(0),\ \_task\_created(0),\_times(0)\{\}}}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}}\ *\mbox{\hyperlink{structff_1_1ff___d_c_1_1_d_a_c_worker_aac0a88a4cd40a62985993d33d56ad229}{svc}}(\mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ //DEBUG}}
\DoxyCodeLine{00234\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \_task\_exe++;}}
\DoxyCodeLine{00235\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ gettimeofday(\&\_time,\ NULL);}}
\DoxyCodeLine{00236\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ long\ start\_t\ =\ (\_time.tv\_sec)*1000000L\ +\ \_time.tv\_usec;}}
\DoxyCodeLine{00237\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ //END\ DEBUG}}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}-\/>wtask-\/>call(\textcolor{keyword}{this});}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ //DEBUG}}
\DoxyCodeLine{00241\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ gettimeofday(\&\_time,\ NULL);}}
\DoxyCodeLine{00242\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \_times\ +=\ ((\_time.tv\_sec)*1000000L\ +\ \_time.tv\_usec-\/start\_t);}}
\DoxyCodeLine{00243\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ //END\ DEBUG}}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//ritorna\ un\ generic\ task\ che\ incapsula\ l'hash\_task\_t}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}}\ *\ gt\ =\ (\mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}}*)\mbox{\hyperlink{task__internals_8hpp_ae616d19805b9f259bbcf9d65045aa7cd}{TASK\_MALLOC}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}}));}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ gt-\/>is\_new\_task\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ gt-\/>ht=\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ gt;}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F\_t,\ \textcolor{keyword}{typename}...\ Param>}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1_d_a_c_worker_a44af0ecfb1dc81f1fd797bd7148bdfca}{AddTaskWorker}}(std::vector<param\_info>\ \&\mbox{\hyperlink{namespace_p}{P}},\ \textcolor{keyword}{const}\ F\_t\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}},\ Param...\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})\ \{}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t}{ff\_dac\_f\_t}}<F\_t,\ Param...>\ *wtask\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t}{ff\_dac\_f\_t}}<F\_t,Param...>(\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}},\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}}...);}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}}\ *\ gt\ =\ (\mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}}*)\mbox{\hyperlink{task__internals_8hpp_ae616d19805b9f259bbcf9d65045aa7cd}{TASK\_MALLOC}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}}));}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}\ (gt)\ \mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}();\ \ \ \ \textcolor{comment}{//\ calling\ the\ constructor\ of\ the\ internal\ data\ structure}}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ gt-\/>is\_new\_task\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ gt-\/>tf.P\ \ \ \ \ =\ \mbox{\hyperlink{namespace_p}{P}};}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ gt-\/>tf.wtask\ =\ wtask;}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structff_1_1ff__node__t_a66ddc4b89e7a2fd1b8d4a02c94eb9408}{ff\_send\_out}}(gt);}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//DEBUG}}
\DoxyCodeLine{00263\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \_task\_created++;}}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \textcolor{comment}{//\ \ \ \ \ \ //DEBUG}}
\DoxyCodeLine{00268\ \textcolor{comment}{//\ \ \ \ \ \ void\ svc\_end()}}
\DoxyCodeLine{00269\ \textcolor{comment}{//\ \ \ \ \ \ \{}}
\DoxyCodeLine{00270\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ printf("{}\%d\(\backslash\)tExecuted\(\backslash\)t\%d\(\backslash\)tCreated\(\backslash\)t\%d\(\backslash\)tTime(us)\(\backslash\)t\%Ld\(\backslash\)n"{},this-\/>get\_my\_id(),\_task\_exe,\_task\_created,\_times);}}
\DoxyCodeLine{00271\ \textcolor{comment}{//\ \ \ \ \ \ \}}}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \textcolor{comment}{//\ \ \ \ \ \ //DEBUG}}
\DoxyCodeLine{00274\ \textcolor{comment}{//\ \ \ \ \ \ int\ \_task\_exe;}}
\DoxyCodeLine{00275\ \textcolor{comment}{//\ \ \ \ \ \ int\ \_task\_created;}}
\DoxyCodeLine{00276\ \textcolor{comment}{//\ \ \ \ \ \ long\ \_times;}}
\DoxyCodeLine{00277\ \textcolor{comment}{//\ \ \ \ \ \ struct\ timeval\ \_time;}}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \ \ \};}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ \ scheduler\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a879f14994596d9cd7ecd04ffbf251d8b}{Scheduler}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1_task_f_scheduler_a232fd99f9fbee3817654272ba9be08e2}{TaskFScheduler}}<generic\_task\_t,\ compare\_t>\ \{}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a0610d8b52ef59ca739c771b0226ae167}{baseSched}}\ =\ \mbox{\hyperlink{classff_1_1_task_f_scheduler_a232fd99f9fbee3817654272ba9be08e2}{TaskFScheduler<generic\_task\_t,\ compare\_t>}};}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1_task_f_scheduler_a249652bea24c9a1acd6d8564931386c8}{baseSched::lb}};}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1_task_f_scheduler_a4c4a5d6301ee3053d5d61c8889b44a99}{baseSched::schedule\_task}};\ \ \ \ \ \ \ }
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classff_1_1_task_f_scheduler_a9d75033dc6f5de1d219fd48de495721d}{baseSched::handleCompletedTask}};}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \textcolor{keyword}{enum}\ \{\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab249fd11c44165f4e2638a3d9350f058a46fb646cb314800ebf094b14d2e3a5a9}{RELAX\_MIN\_BACKOFF}}=1,\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab249fd11c44165f4e2638a3d9350f058af4957bab3999e010d8adc22612016358}{RELAX\_MAX\_BACKOFF}}=32\};}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_afb2dfbda97fc93f1bd0452e387f4509a}{insertTask}}(\mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}\ *\textcolor{keyword}{const}\ msg,}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *waittask=\textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ act\_id=\mbox{\hyperlink{classff_1_1_task_f_scheduler_a05d06aef1459309a412f97a20943078a}{baseSched::task\_id}}++;}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *act\_task=\mbox{\hyperlink{classff_1_1_task_f_scheduler_a8f5ea462adcfc321a537254c2c93d4ce}{baseSched::createTask}}(act\_id,\mbox{\hyperlink{namespaceff_ab2e787eef98466c1fc98fa911f0b1d3faba7ff7555ae5725b3ebbaa1d6f8ee93a}{NOT\_READY}},msg-\/>\mbox{\hyperlink{structff_1_1task__f__t_a6c04ac6b86bcc669708a6f031c22e7ec}{wtask}});\ \ \ \ \ }
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{icl__hash_8h_a1f5d73281a0159f006c1c667e6a638e2}{icl\_hash\_insert}}(\mbox{\hyperlink{classff_1_1_task_f_scheduler_ada531a99205c72db6aa5881e5ce8ab9c}{baseSched::task\_set}},\ \&act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_a68f97bcfebb6a77fac7ef76a497129d0}{id}},\ act\_task);\ }
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}:\ msg-\/>\mbox{\hyperlink{structff_1_1task__f__t_aab1d7578a3dc644c183b9a73c5dff85f}{P}})\ \{}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}}\ \ \ \ =\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}.tag;}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ dir\ \ =\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}.dir;}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(dir==\mbox{\hyperlink{namespaceff_ac1c73df08376b11e26ecbefe6e3921bfa0663b32f810c6948da63e824230d17fd}{INPUT}})\ \{}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ hash\_task\_t\ *\ t=(hash\_task\_t\ *)icl\_hash\_find(address\_set,(void*)d);}}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//address\_set\ is\ an\ hash\ table\ data-\/>task\_id.\ The\ task\_id\ is\ memorized\ in\ plain\ format\ (i.e.\ it\ is\ not\ a\ pointer\ to\ a\ memory\ area\ that\ contains\ the\ id)}}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ t\_id=(\textcolor{keywordtype}{unsigned}\ long)\mbox{\hyperlink{icl__hash_8h_aea3615a1d4abe87a4f11eda7a86be73d}{icl\_hash\_find}}(\mbox{\hyperlink{classff_1_1_task_f_scheduler_a3d253597814a01ea08a802e0d96deb4e}{baseSched::address\_set}},(\textcolor{keywordtype}{void}\ *)\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}});}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(t\_id)\ \ \ \ \textcolor{comment}{//t\_id==0\ if\ the\ hash\ table\ does\ not\ contains\ info\ for\ d}}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}=(\mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *)\mbox{\hyperlink{icl__hash_8h_aea3615a1d4abe87a4f11eda7a86be73d}{icl\_hash\_find}}(\mbox{\hyperlink{classff_1_1_task_f_scheduler_ada531a99205c72db6aa5881e5ce8ab9c}{baseSched::task\_set}},\&t\_id);}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//we\ have\ to\ check\ that\ the\ task\ exists}}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}!=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_numb\ ==\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_act\_numb)\ \{}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_act\_numb+=\mbox{\hyperlink{classff_1_1_task_f_scheduler_a9daf47509fd632320e34233a0838455fa546949454a168e2a022fbed5180e211c}{baseSched::UNBLOCK\_SIZE}};}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_task\_ids=(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ *)\mbox{\hyperlink{task__internals_8hpp_ad2bfddc0f35331618b76bc4122d3b29b}{TASK\_REALLOC}}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_task\_ids,\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_act\_numb*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}));}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_task\_ids[\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_numb]=act\_id;}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_numb++;}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>status!=\mbox{\hyperlink{namespaceff_ab2e787eef98466c1fc98fa911f0b1d3fa975672294c2c685f8cd4c54f588022f6}{DONE}})}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_ae133bab44811cabef0fa2bcf2eb68ba8}{remaining\_dep}}++;}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dir==\mbox{\hyperlink{namespaceff_ac1c73df08376b11e26ecbefe6e3921bfaa5c767f7446196203dd02823771f3d29}{OUTPUT}})\ \{}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ t\_id=(\textcolor{keywordtype}{unsigned}\ long)\mbox{\hyperlink{icl__hash_8h_aea3615a1d4abe87a4f11eda7a86be73d}{icl\_hash\_find}}(\mbox{\hyperlink{classff_1_1_task_f_scheduler_a3d253597814a01ea08a802e0d96deb4e}{baseSched::address\_set}},(\textcolor{keywordtype}{void}\ *)\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}});}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(t\_id)}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}=(\mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *)\mbox{\hyperlink{icl__hash_8h_aea3615a1d4abe87a4f11eda7a86be73d}{icl\_hash\_find}}(\mbox{\hyperlink{classff_1_1_task_f_scheduler_ada531a99205c72db6aa5881e5ce8ab9c}{baseSched::task\_set}},\&t\_id);}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}\ !=\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{\ \textcolor{comment}{//someone\ write\ that\ data}}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_numb>0)\ \{}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//HERE\ THERE\ IS\ THE\ MAIN\ DIFFERENCE\ WRT\ CLASSICAL\ FF\_MDF}}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Before:\ for\ each\ unblocked\ task,\ checks\ if\ that\ task\ unblock\ also\ act\_task\ (-\/>\ WAR\ dependency)}}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Now:\ due\ to\ the\ order\ in\ which\ tasks\ are\ generated\ if\ an\ existing\ task\ uses\ the\ same\ parameter}}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ in\ output,\ it\ has\ to\ be\ unblocked\ by\ act\_task\ (for\ example\ it\ is\ a\ combine\ at\ level\ i\ that\ is}}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ unblocked\ by\ a\ combine\ spawned\ at\ level\ i+1;\ the\ tasks\ for\ combine\ at\ level\ i+1\ arrives\ later\ wrt\ to}}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ the\ one\ at\ level\ i,\ that,\ in\ turns,\ depends\ on\ the\ DAC\ task\ of\ the\ same\ level)}}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<long>\ todelete;}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{long}\ ii=0;ii<\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_numb;ii++)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}*\ t2=(\mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}*)\mbox{\hyperlink{icl__hash_8h_aea3615a1d4abe87a4f11eda7a86be73d}{icl\_hash\_find}}(\mbox{\hyperlink{classff_1_1_task_f_scheduler_ada531a99205c72db6aa5881e5ce8ab9c}{baseSched::task\_set}},\&\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_task\_ids[ii]);}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//t2\ must\ not\ be\ a\ READY\ task\ (false\ positive\ dependence)}}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(t2!=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}\ \&\&\ t2!=act\_task\ \&\&\ t2-\/>\mbox{\hyperlink{structff_1_1hash__task__t_ac43f6840e62f90d0396484b97ac2c5f7}{status}}!=\mbox{\hyperlink{namespaceff_ab2e787eef98466c1fc98fa911f0b1d3fa975672294c2c685f8cd4c54f588022f6}{DONE}}\ \&\&\ t2-\/>\mbox{\hyperlink{structff_1_1hash__task__t_ac43f6840e62f90d0396484b97ac2c5f7}{status}}!=\mbox{\hyperlink{namespaceff_ab2e787eef98466c1fc98fa911f0b1d3faebc5351a24011976dacefdbd304e14b4}{READY}})\ \{}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//act\_task\ will\ unblock\ t2}}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_aaff94ac848c9d5864e45991aa077ca0f}{unblock\_numb}}\ ==\ act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_a097f7fd7d48f80ab3806bf5eba425d14}{unblock\_act\_numb}})\ \{}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_a097f7fd7d48f80ab3806bf5eba425d14}{unblock\_act\_numb}}+=\mbox{\hyperlink{classff_1_1_task_f_scheduler_a9daf47509fd632320e34233a0838455fa546949454a168e2a022fbed5180e211c}{baseSched::UNBLOCK\_SIZE}};}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_a19b7e3609a6b4a19248f4f3e251894a9}{unblock\_task\_ids}}=(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ *)\mbox{\hyperlink{task__internals_8hpp_ad2bfddc0f35331618b76bc4122d3b29b}{TASK\_REALLOC}}(act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_a19b7e3609a6b4a19248f4f3e251894a9}{unblock\_task\_ids}},act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_a097f7fd7d48f80ab3806bf5eba425d14}{unblock\_act\_numb}}*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}));}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_a19b7e3609a6b4a19248f4f3e251894a9}{unblock\_task\_ids}}[act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_aaff94ac848c9d5864e45991aa077ca0f}{unblock\_numb}}]=t2-\/>\mbox{\hyperlink{structff_1_1hash__task__t_a68f97bcfebb6a77fac7ef76a497129d0}{id}};}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_aaff94ac848c9d5864e45991aa077ca0f}{unblock\_numb}}++;}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//in\ every\ case\ t2\ is\ still\ the\ last\ task\ to\ write\ on\ d}}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//t\ will\ not\ unblock\ t2.\ It\ is\ act\_task\ that\ will\ do\ it}}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_task\_ids[ii]=0;}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//the\ number\ of\ remaining\ dependencies\ of\ t2\ is\ the\ same}}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ todelete.push\_back(ii);}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<todelete.size();\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_task\_ids[todelete[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]]\ =\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_task\_ids[\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_numb];}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_numb-\/-\/;}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00369\ }
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>status!=\mbox{\hyperlink{namespaceff_ab2e787eef98466c1fc98fa911f0b1d3fa975672294c2c685f8cd4c54f588022f6}{DONE}})\ \{}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_task\_ids[\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_numb]=act\_id;}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>unblock\_numb++;}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_ae133bab44811cabef0fa2bcf2eb68ba8}{remaining\_dep}}++;}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(t\_id)}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{icl__hash_8h_a30a982886c3aa1a4d7559a20676b5df3}{icl\_hash\_delete}}(\mbox{\hyperlink{classff_1_1_task_f_scheduler_a3d253597814a01ea08a802e0d96deb4e}{baseSched::address\_set}},(\textcolor{keywordtype}{void}\ *)\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}},\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//icl\_hash\_update\_insert(address\_set,\ (void*)d,\ act\_task);}}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{icl__hash_8h_a1f5d73281a0159f006c1c667e6a638e2}{icl\_hash\_insert}}(\mbox{\hyperlink{classff_1_1_task_f_scheduler_a3d253597814a01ea08a802e0d96deb4e}{baseSched::address\_set}},\ (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{ittnotify__static_8h_a5f135fd1e66a03efd5275434478e0d97}{d}},(\textcolor{keywordtype}{void}\ *)(act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_a68f97bcfebb6a77fac7ef76a497129d0}{id}}));}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_ae133bab44811cabef0fa2bcf2eb68ba8}{remaining\_dep}}==0)\ \&\&\ !waittask)\ \{}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \ \ \ \ act\_task-\/>\mbox{\hyperlink{structff_1_1hash__task__t_ac43f6840e62f90d0396484b97ac2c5f7}{status}}=\mbox{\hyperlink{namespaceff_ab2e787eef98466c1fc98fa911f0b1d3faebc5351a24011976dacefdbd304e14b4}{READY}};}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_task_f_scheduler_a58aeaa42dbbd00140927e1d48db38f19}{baseSched::readytasks}}++;}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_task_f_scheduler_ad8bd10e4a0ea711ef35bb9eaf1cc6fb6}{baseSched::ready\_queues}}[\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a8a1597d324344d6dcb85b8b1cfff58d0}{m}}].push(act\_task);}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a8a1597d324344d6dcb85b8b1cfff58d0}{m}}\ =\ (\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a8a1597d324344d6dcb85b8b1cfff58d0}{m}}\ +\ 1)\ \%\ \mbox{\hyperlink{classff_1_1_task_f_scheduler_ae1765b2418dc698c63546a070edc79d7}{baseSched::runningworkers}};}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ act\_task;}
\DoxyCodeLine{00396\ \ \ \ \ \}}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a879f14994596d9cd7ecd04ffbf251d8b}{Scheduler}}(\mbox{\hyperlink{classff_1_1ff__node_a4507398d523881cfadefdf463bfa5962}{ff\_loadbalancer}}*\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a690449cbc29f336b1f8d403ebf303e45}{lb}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ maxnw,\ \textcolor{keywordtype}{void}\ (*\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a730048aaf45539a5303e7a8e6116f9dd}{schedRelaxF}})(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}),\ \textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}\ (\textcolor{keyword}{const}\ OperandType\&,\ std::vector<OperandType>\ \&)>\&\ divide\_fn,}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}(std::vector<ResultType>\&,ResultType\&)>\&\ combine\_fn,}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}(\textcolor{keyword}{const}\ OperandType\&,ResultType\&)>\&\ seq\_fn,\ \textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const}\ OperandType\&)>\&\ cond\_fn,}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ OperandType*\ op,ResultType*\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}):}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1_task_f_scheduler_a232fd99f9fbee3817654272ba9be08e2}{TaskFScheduler}}<\mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}},compare\_t>(\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a690449cbc29f336b1f8d403ebf303e45}{lb}},maxnw),}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a06ddfd907c52b1352d528da91678642c}{task\_numb}}(0),\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ad856715b96db40bfe8e1d9cd40d91e4d}{task\_completed}}(0),\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a2989956735314b6658bbf76268f033a9}{bk\_count}}(0),\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a730048aaf45539a5303e7a8e6116f9dd}{schedRelaxF}}(\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a730048aaf45539a5303e7a8e6116f9dd}{schedRelaxF}}),}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab7e815c6bd9f8e1386d39ccf6809ba00}{\_divide\_fn}}(divide\_fn),\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a5013f43955e5719730c2ff202de874f6}{\_combine\_fn}}(combine\_fn),\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a871319d844d32e8e720723c27349961f}{\_seq\_fn}}(seq\_fn),\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ac10da83d533a0339a1aedc95d97b64f9}{\_condition\_fn}}(cond\_fn),\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a3c906018b9b7bc39649de4748790a3e0}{\_op}}(op),\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab3874e34de102d35a65a21ef7c1b60bf}{\_res}}(\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}})}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ae7aea8f3759c5185ed9761b98d8d8617}{\string~Scheduler}}()\ \{\}}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ad4e4982ebac5bd80129fc9f2c5a94882}{svc\_init}}()\ \{}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1_task_f_scheduler_ae1effe313bc482da85864cc9a8ad71f6}{baseSched::svc\_init}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a06ddfd907c52b1352d528da91678642c}{task\_numb}}\ =\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ad856715b96db40bfe8e1d9cd40d91e4d}{task\_completed}}\ =\ 0,\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a2989956735314b6658bbf76268f033a9}{bk\_count}}\ =\ 0;}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a8a1597d324344d6dcb85b8b1cfff58d0}{m}}=0;}
\DoxyCodeLine{00415\ }
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a9658bd3cecb5e50f61c916a061aef251}{setTaskIn}}(\textcolor{keyword}{const}\ OperandType\ *op)\ \ \ \{\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a3c906018b9b7bc39649de4748790a3e0}{\_op}}\ \ =\ op;\ \}}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a69f6434c012734397262aab5f031adc2}{setTaskOut}}(ResultType\ *\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}})\ \ \ \ \ \ \ \ \{\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab3874e34de102d35a65a21ef7c1b60bf}{\_res}}\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};\ \}}
\DoxyCodeLine{00421\ }
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}}*\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a44a3716ababc6e307f57d1ba11cda1e8}{svc}}(\mbox{\hyperlink{structff_1_1ff___d_c_1_1generic__task__t}{generic\_task\_t}}*\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})\ \{}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ EVITARE\ LA\ BARRIERA\ }}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a3c906018b9b7bc39649de4748790a3e0}{\_op}})\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1e60cdd7d63155baf308086d38690567}{baseSched::EOS}};\ }
\DoxyCodeLine{00427\ }
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}})\ \ \textcolor{comment}{//first\ call:\ generate\ initial\ tasks}}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//this\ is\ very\ similar\ to\ DACFunction,\ apart\ from\ the\ fact\ that\ we\ do\ not\ recur}}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ac10da83d533a0339a1aedc95d97b64f9}{\_condition\_fn}}(*\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a3c906018b9b7bc39649de4748790a3e0}{\_op}}))}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//std::vector<OperandType\ *>\ ops=\_divide\_fn(*\_op);}}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<OperandType>\ *ops=\textcolor{keyword}{new}\ std::vector<OperandType>();}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab7e815c6bd9f8e1386d39ccf6809ba00}{\_divide\_fn}}(*\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a3c906018b9b7bc39649de4748790a3e0}{\_op}},\ *ops);}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//create\ the\ tasks\ according\ to\ the\ branch\ fractor\ (i.e.\ the\ number\ of\ suboperands\ returned\ by\ the\ divide)}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ branch\_factor=ops-\/>size();}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<ResultType>\ *ress=\textcolor{keyword}{new}\ std::vector<ResultType>(branch\_factor);}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//for(int\ i=0;i<branch\_factor;i++)\ ress-\/>push\_back(new\ ResultType());}}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<param\_info>\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}};}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<branch\_factor;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}}.clear();}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1param__info}{param\_info}}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\{(uintptr\_t)\&(*ress)[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\mbox{\hyperlink{namespaceff_ac1c73df08376b11e26ecbefe6e3921bfaa5c767f7446196203dd02823771f3d29}{OUTPUT}}\};}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}}.push\_back(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}});}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a367de455174663729997378be82248d7}{AddTaskScheduler}}(params,}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a0bdf09998d68a4c78013f48079a2f470}{ff\_DC<IN\_t,\ OUT\_t,\ OperandType,\ ResultType,\ compare\_t>::DACFunction}},\ }
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{void}*)0,\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab7e815c6bd9f8e1386d39ccf6809ba00}{\_divide\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a5013f43955e5719730c2ff202de874f6}{\_combine\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a871319d844d32e8e720723c27349961f}{\_seq\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ac10da83d533a0339a1aedc95d97b64f9}{\_condition\_fn}},\ \&(*ops)[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ \&(*ress)[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00456\ }
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}}.clear();}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<branch\_factor;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1param__info}{param\_info}}\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}=\{(uintptr\_t)\ \&(*ress)[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\mbox{\hyperlink{namespaceff_ac1c73df08376b11e26ecbefe6e3921bfa0663b32f810c6948da63e824230d17fd}{INPUT}}\};}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}}.push\_back(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00464\ }
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structff_1_1param__info}{param\_info}}\ cret=\{(uintptr\_t)\ (\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab3874e34de102d35a65a21ef7c1b60bf}{\_res}}),\mbox{\hyperlink{namespaceff_ac1c73df08376b11e26ecbefe6e3921bfaa5c767f7446196203dd02823771f3d29}{OUTPUT}}\};}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a22557289048c77f6913601e8537ceeea}{params}}.push\_back(cret);}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a367de455174663729997378be82248d7}{AddTaskScheduler}}(params,\mbox{\hyperlink{classff_1_1ff___d_c_a0dcc8da3c6c014c70a9f6ace7c4c22d3}{CombineFunction}},(\textcolor{keywordtype}{void}*)0,\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a5013f43955e5719730c2ff202de874f6}{\_combine\_fn}},ress,\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab3874e34de102d35a65a21ef7c1b60bf}{\_res}},ops);}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{baseSched::GO\_ON}};}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//base\ case}}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a871319d844d32e8e720723c27349961f}{\_seq\_fn}}(*\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a3c906018b9b7bc39649de4748790a3e0}{\_op}},*(\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab3874e34de102d35a65a21ef7c1b60bf}{\_res}}));}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1e60cdd7d63155baf308086d38690567}{baseSched::EOS}};}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a2989956735314b6658bbf76268f033a9}{bk\_count}}\ =\ 0;}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>is\_new\_task)}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//new\ task\ generated\ by\ a\ worker}}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a06ddfd907c52b1352d528da91678642c}{task\_numb}};}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_afb2dfbda97fc93f1bd0452e387f4509a}{insertTask}}(\&(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>tf));}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a7da99b7834f19af728ea1c86e5161b3b}{schedule\_task}}(0);}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\&(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>tf))-\/>\string~\mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}();}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{task__internals_8hpp_a03e429b46613776fe28e2bea0b66bab0}{TASK\_FREE}}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{baseSched::GO\_ON}};}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//completed\ task}}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ (\mbox{\hyperlink{structff_1_1hash__task__t}{hash\_task\_t}}\ *)\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}-\/>ht;}
\DoxyCodeLine{00495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ad856715b96db40bfe8e1d9cd40d91e4d}{task\_completed}};}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_acfe8e8cd93455d44333d7067bdf25b35}{handleCompletedTask}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a690449cbc29f336b1f8d403ebf303e45}{lb}}-\/>get\_channel\_id());}
\DoxyCodeLine{00497\ }
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a7da99b7834f19af728ea1c86e5161b3b}{schedule\_task}}(1);\ \textcolor{comment}{//\ try\ once\ more}}
\DoxyCodeLine{00499\ }
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{task__internals_8hpp_a03e429b46613776fe28e2bea0b66bab0}{TASK\_FREE}}(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a06ddfd907c52b1352d528da91678642c}{task\_numb}}==\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ad856715b96db40bfe8e1d9cd40d91e4d}{task\_completed}})}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//std::cout\ <<\ "{}Created\ tasks:\ "{}<<task\_numb<<std::endl;}}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a1e60cdd7d63155baf308086d38690567}{baseSched::EOS}};}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_aeb850854e59fe44fe3c0ddcb76263de8}{baseSched::GO\_ON}};}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00510\ }
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a1b4dc1dad4376d3bae5d34bdc4857db1}{eosnotify}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \textcolor{comment}{/*id*/}=-\/1)\ \{\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a690449cbc29f336b1f8d403ebf303e45}{lb}}-\/>broadcast\_task(\mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}});\ \}}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a2e040133997915159c60f7ce41678f1f}{wait\_freezing}}()\ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a690449cbc29f336b1f8d403ebf303e45}{lb}}-\/>wait\_lb\_freezing();\ \}}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a06ddfd907c52b1352d528da91678642c}{task\_numb}},\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ad856715b96db40bfe8e1d9cd40d91e4d}{task\_completed}},\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a2989956735314b6658bbf76268f033a9}{bk\_count}},\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a8a1597d324344d6dcb85b8b1cfff58d0}{m}};}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a730048aaf45539a5303e7a8e6116f9dd}{schedRelaxF}})(\textcolor{keywordtype}{unsigned}\ long);}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \textcolor{comment}{//function\ pointers}}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keyword}{const}\ OperandType\&,\ std::vector<OperandType>\&)>\&\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab7e815c6bd9f8e1386d39ccf6809ba00}{\_divide\_fn}};}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(std::vector<ResultType>\&,ResultType\&)>\&\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a5013f43955e5719730c2ff202de874f6}{\_combine\_fn}};}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::function<\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}(\textcolor{keyword}{const}\ OperandType\&\ ,\ \ ResultType\&)>\&\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a871319d844d32e8e720723c27349961f}{\_seq\_fn}};}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::function<\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}(\textcolor{keyword}{const}\ OperandType\&)>\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ac10da83d533a0339a1aedc95d97b64f9}{\_condition\_fn}};}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ OperandType*\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a3c906018b9b7bc39649de4748790a3e0}{\_op}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//primo\ operando}}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ ResultType*\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_ab3874e34de102d35a65a21ef7c1b60bf}{\_res}};}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ F\_t,\ \textcolor{keyword}{typename}...\ Param>}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a367de455174663729997378be82248d7}{AddTaskScheduler}}(std::vector<param\_info>\ \&\mbox{\hyperlink{namespace_p}{P}},\ \textcolor{keyword}{const}\ F\_t\ \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}},\ Param...\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//create\ task}}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t}{ff\_dac\_f\_t}}<F\_t,\ Param...>\ *wtask\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1ff__dac__f__t}{ff\_dac\_f\_t}}<F\_t,Param...>(\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}},\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}}...);}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1task__f__t}{task\_f\_t}}();}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}-\/>P=\mbox{\hyperlink{namespace_p}{P}};}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}-\/>wtask=wtask;}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//insert\ and\ schedule}}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//task\_f\_t\ *const\ task=wtask;}}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a06ddfd907c52b1352d528da91678642c}{task\_numb}};}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_afb2dfbda97fc93f1bd0452e387f4509a}{insertTask}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a7da99b7834f19af728ea1c86e5161b3b}{schedule\_task}}(0);}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{00540\ }
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a496757def823ec73274950b7c9a8e57a}{schedule}}()}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler_a7da99b7834f19af728ea1c86e5161b3b}{schedule\_task}}(0);}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00546\ }
\DoxyCodeLine{00547\ \ \ \ \ \};}
\DoxyCodeLine{00548\ \ \ \ \ }
\DoxyCodeLine{00549\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00558\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a79c0a3e75befc72f06c0269af07d098c}{ff\_DC}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff___d_c_a6c8d42b45c066692fbf71f1853de07cf}{divide\_f\_t}}\&\ divide\_fn,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff___d_c_a7560597909df63b8aa1045cb0fc5f3f5}{combine\_f\_t}}\&\ combine\_fn,}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff___d_c_a84cb239894797b858cb52749d22f46e2}{seq\_f\_t}}\&\ seq\_fn,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff___d_c_a4c4ec715fcf176beb1c68b523d4081da}{cond\_f\_t}}\&\ cond\_fn,\ }
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ OperandType\&\ op,\ ResultType\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ numw,\ \textcolor{keywordtype}{size\_t}\ \textcolor{comment}{/*outstandingTasks*/}=\mbox{\hyperlink{classff_1_1ff___d_c_ade742cac84bd8f2bb1d3b78841916e71ae277092e415a20df8cc30c53697005c6}{DEFAULT\_OUTSTANDING\_TASKS}},}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ maxnw=\mbox{\hyperlink{mapping__utils_8hpp_a92c07f85b45e7d7730ddd6b45d2f3d75}{ff\_numCores}}(),\ \textcolor{keywordtype}{void}\ (*schedRelaxF)(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}):}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a0a6cef15d9306bcbfa32bfbf9686ff00}{\_divide\_fn}}(divide\_fn),\ \mbox{\hyperlink{classff_1_1ff___d_c_acebfd4d940f5e33a9ac64f6c77e71743}{\_combine\_fn}}(combine\_fn),\ \mbox{\hyperlink{classff_1_1ff___d_c_a29633be4406c7000adb1c62b41b295d8}{\_seq\_fn}}(seq\_fn),\ \mbox{\hyperlink{classff_1_1ff___d_c_a14408e0adb07d104b1f4044e74c69228}{\_condition\_fn}}(cond\_fn)\ \{}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__node_a49105d0bd6775d145575fd6dfa2d8471}{ff\_farm}}(\textcolor{keyword}{false},640*maxnw,1024*maxnw,\textcolor{keyword}{true},maxnw,\textcolor{keyword}{true});}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ std::vector<ff\_node\ *>\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}};}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ Worker\ objects\ are\ going\ to\ be\ destroyed\ by\ the\ farm\ destructor}}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<numw;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.push\_back(\textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1_d_a_c_worker}{DACWorker}});}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>add\_workers(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>add\_emitter(\mbox{\hyperlink{classff_1_1ff___d_c_a4ea69838448a13904eccee758afb3fde}{sched}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler}{Scheduler}}(\mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>getlb(),\ numw,\ schedRelaxF,\mbox{\hyperlink{classff_1_1ff___d_c_a0a6cef15d9306bcbfa32bfbf9686ff00}{\_divide\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_acebfd4d940f5e33a9ac64f6c77e71743}{\_combine\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_a29633be4406c7000adb1c62b41b295d8}{\_seq\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_a14408e0adb07d104b1f4044e74c69228}{\_condition\_fn}},\&op,\&\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}));}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>wrap\_around();\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00573\ \ \ \ \ \}}
\DoxyCodeLine{00574\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a7e21cec31c27588bf17efe30362eba7e}{ff\_DC}}(\textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}\ (\textcolor{keyword}{const}\ OperandType\&,\ std::vector<OperandType>\ \&)>\&\ divide\_fn,\ \textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}(std::vector<ResultType>\&,ResultType\&)>\&\ combine\_fn,}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{void}(\textcolor{keyword}{const}\ OperandType\&,\ ResultType\&)>\&\ seq\_fn,\ \textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const}\ OperandType\&)>\&\ cond\_fn,\ \textcolor{keywordtype}{int}\ numw,\ }
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ outstandingTasks=\mbox{\hyperlink{classff_1_1ff___d_c_ade742cac84bd8f2bb1d3b78841916e71ae277092e415a20df8cc30c53697005c6}{DEFAULT\_OUTSTANDING\_TASKS}},\textcolor{keywordtype}{int}\ maxnw=\mbox{\hyperlink{mapping__utils_8hpp_a92c07f85b45e7d7730ddd6b45d2f3d75}{ff\_numCores}}(),\ \textcolor{keywordtype}{void}\ (*schedRelaxF)(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}):}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a0a6cef15d9306bcbfa32bfbf9686ff00}{\_divide\_fn}}(divide\_fn),\ \mbox{\hyperlink{classff_1_1ff___d_c_acebfd4d940f5e33a9ac64f6c77e71743}{\_combine\_fn}}(combine\_fn),\ \mbox{\hyperlink{classff_1_1ff___d_c_a29633be4406c7000adb1c62b41b295d8}{\_seq\_fn}}(seq\_fn),\ \mbox{\hyperlink{classff_1_1ff___d_c_a14408e0adb07d104b1f4044e74c69228}{\_condition\_fn}}(cond\_fn)}
\DoxyCodeLine{00578\ \ \ \ \ \{}
\DoxyCodeLine{00579\ }
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__node_a49105d0bd6775d145575fd6dfa2d8471}{ff\_farm}}(\textcolor{keyword}{false},640*maxnw,1024*maxnw,\textcolor{keyword}{true},maxnw,\textcolor{keyword}{true});}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ std::vector<ff\_node\ *>\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}};}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ Worker\ objects\ are\ going\ to\ be\ destroyed\ by\ the\ farm\ destructor}}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<numw;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.push\_back(\textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ff___d_c_1_1_d_a_c_worker}{DACWorker}});}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>add\_workers(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00585\ }
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>add\_emitter(\mbox{\hyperlink{classff_1_1ff___d_c_a4ea69838448a13904eccee758afb3fde}{sched}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler}{Scheduler}}(\mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>getlb(),\ numw,\ schedRelaxF,\mbox{\hyperlink{classff_1_1ff___d_c_a0a6cef15d9306bcbfa32bfbf9686ff00}{\_divide\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_acebfd4d940f5e33a9ac64f6c77e71743}{\_combine\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_a29633be4406c7000adb1c62b41b295d8}{\_seq\_fn}},\mbox{\hyperlink{classff_1_1ff___d_c_a14408e0adb07d104b1f4044e74c69228}{\_condition\_fn}},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>wrap\_around();}
\DoxyCodeLine{00588\ \ \ \ \ \}}
\DoxyCodeLine{00589\ }
\DoxyCodeLine{00590\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1ff___d_c_a409128ddfde1ab7661bf5df765376358}{\string~ff\_DC}}()\ \{}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff___d_c_a4ea69838448a13904eccee758afb3fde}{sched}})\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff___d_c_a4ea69838448a13904eccee758afb3fde}{sched}};}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}})\ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}};}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \textcolor{comment}{//TODO:\ andrebbe\ cancellato\ l'allocatore}}
\DoxyCodeLine{00594\ \ \ \ \ \}}
\DoxyCodeLine{00595\ }
\DoxyCodeLine{00596\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff___d_c_ad280bd49c0931708812a9afbf9b92925}{setNumWorkers}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw)\ \{\ }
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nw\ >\ \mbox{\hyperlink{mapping__utils_8hpp_a92c07f85b45e7d7730ddd6b45d2f3d75}{ff\_numCores}}())}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_DC:\ setNumWorkers:\ too\ much\ workers,\ setting\ num\ worker\ to\ \%d\(\backslash\)n"{}},\ }
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mapping__utils_8hpp_a92c07f85b45e7d7730ddd6b45d2f3d75}{ff\_numCores}}());\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_adbff4dfb85c033f02b306215b3999f9d}{farmworkers}}=(\mbox{\hyperlink{namespacestd_ac7b9885417769949d76890454b6d072e}{std::min}})(\mbox{\hyperlink{mapping__utils_8hpp_a92c07f85b45e7d7730ddd6b45d2f3d75}{ff\_numCores}}(),nw);\ }
\DoxyCodeLine{00601\ \ \ \ \ \}\ \ \ }
\DoxyCodeLine{00602\ \ \ \ \ }
\DoxyCodeLine{00603\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff___d_c_a998e50a7ba0589a7354508618b345777}{run}}(\textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff___d_c_a40ab1542ccbe033418e1e886dca7208a}{prepared}})\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff___d_c_a75e1bd8185977a6f48dbff4f2adccbfc}{prepare}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_aec4506dc3946ff9e6ce5bb5370545864}{ff\_node::run}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00606\ \ \ \ \ \}}
\DoxyCodeLine{00607\ }
\DoxyCodeLine{00608\ }
\DoxyCodeLine{00609\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff___d_c_af8c1bb2a3dd5a6c5f3e9bdfdf52ad525}{run\_and\_wait\_end}}()\ \{}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \textcolor{comment}{//ff\_Farm::thaw(true,farmworkers);}}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \textcolor{comment}{//if\ (farm-\/>wait\_freezing()\ <0)\ return\ -\/1;}}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>run\_and\_wait\_end();}
\DoxyCodeLine{00613\ \ \ \ \ \}}
\DoxyCodeLine{00614\ }
\DoxyCodeLine{00615\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff___d_c_a8d022c3d2412ad5cf2f21181ff4f895a}{run\_then\_freeze}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw=-\/1)\ \{}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \textcolor{comment}{//if\ (nw>0)\ setNumWorkers(nw);}}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>run\_then\_freeze(nw);}
\DoxyCodeLine{00618\ \ \ \ \ \}}
\DoxyCodeLine{00619\ }
\DoxyCodeLine{00620\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ \mbox{\hyperlink{classff_1_1ff___d_c_aeff32dbc6f23bceca43c46f2d5be3915}{wait\_freezing}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>wait\_freezing();\}}
\DoxyCodeLine{00621\ }
\DoxyCodeLine{00622\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff___d_c_a71a0c80cc21226c9c23f550c44c949d1}{wait}}()\ \{\ }
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\mbox{\hyperlink{classff_1_1ff__node_a060b15e97e9fdc8d50fd10c0dd141a0f}{ff\_node::wait}}();}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}!=-\/1)\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}}-\/>wait();}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00626\ \ \ \ \ \}}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00628\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff___d_c_af360ab82e8e1766221bec1f9607e2e34}{ffTime}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_aae04163f91c23bef4cf6faea5a534962}{ff\_node::ffTime}}();\ \}}
\DoxyCodeLine{00629\ \ \ \textcolor{comment}{//\ \ double\ ffwTime()\ \{\ return\ ff\_pipeline::ffwTime();\ \}}}
\DoxyCodeLine{00630\ \ \ \ \ }
\DoxyCodeLine{00631\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00632\ \ \ \ \ \textcolor{comment}{//function\ pointers}}
\DoxyCodeLine{00633\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff___d_c_a6c8d42b45c066692fbf71f1853de07cf}{divide\_f\_t}}\&\ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a0a6cef15d9306bcbfa32bfbf9686ff00}{\_divide\_fn}};}
\DoxyCodeLine{00634\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff___d_c_a7560597909df63b8aa1045cb0fc5f3f5}{combine\_f\_t}}\&\ \ \mbox{\hyperlink{classff_1_1ff___d_c_acebfd4d940f5e33a9ac64f6c77e71743}{\_combine\_fn}};}
\DoxyCodeLine{00635\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff___d_c_a84cb239894797b858cb52749d22f46e2}{seq\_f\_t}}\&\ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a29633be4406c7000adb1c62b41b295d8}{\_seq\_fn}};}
\DoxyCodeLine{00636\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff___d_c_a4c4ec715fcf176beb1c68b523d4081da}{cond\_f\_t}}\&\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_a14408e0adb07d104b1f4044e74c69228}{\_condition\_fn}};}
\DoxyCodeLine{00637\ }
\DoxyCodeLine{00638\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff___d_c_adbff4dfb85c033f02b306215b3999f9d}{farmworkers}};\ \ \ \textcolor{comment}{//\ n.\ of\ workers\ in\ the\ farm}}
\DoxyCodeLine{00639\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ \ \ *\mbox{\hyperlink{classff_1_1ff___d_c_adb4df6054e8511f9abe0e2176637ef7d}{farm}};\ \ \ }
\DoxyCodeLine{00640\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff___d_c_1_1_scheduler}{Scheduler}}\ *\mbox{\hyperlink{classff_1_1ff___d_c_a4ea69838448a13904eccee758afb3fde}{sched}};\ \ \textcolor{comment}{//\ farm's\ scheduler}}
\DoxyCodeLine{00641\ \};}
\DoxyCodeLine{00642\ }
\DoxyCodeLine{00643\ }
\DoxyCodeLine{00644\ }
\DoxyCodeLine{00645\ }
\DoxyCodeLine{00646\ \}\ \textcolor{comment}{//\ namespace}}
\DoxyCodeLine{00647\ }
\DoxyCodeLine{00648\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ FF\_DAC\_MDF\_HPP\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
