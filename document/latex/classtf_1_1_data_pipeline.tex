\doxysection{tf\+::Data\+Pipeline\texorpdfstring{$<$}{<} Ps \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classtf_1_1_data_pipeline}{}\label{classtf_1_1_data_pipeline}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}


class to create a data-\/parallel pipeline scheduling framework  




{\ttfamily \#include $<$data\+\_\+pipeline.\+hpp$>$}



tf\+::Data\+Pipeline\texorpdfstring{$<$}{<} Ps \texorpdfstring{$>$}{>} 的协作图\+:
% FIG 0
\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structtf_1_1_data_pipeline_1_1_line}{Line}}
\item 
struct \mbox{\hyperlink{structtf_1_1_data_pipeline_1_1_pipe_meta}{Pipe\+Meta}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classtf_1_1_data_pipeline_ae3bce106a357267223e5a6c5884d57c4}{data\+\_\+t}}
\begin{DoxyCompactList}\small\item\em internal storage type for each data token (default std\+::variant) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1_data_pipeline_a1559f218ca91b41d6c871a88183a04e5}{Data\+Pipeline}} (size\+\_\+t \mbox{\hyperlink{classtf_1_1_data_pipeline_aaa74a52dac68155a9b73f5f70d9d14aa}{num\+\_\+lines}}, Ps \&\&... \mbox{\hyperlink{level1__cplx__impl_8h_a6280e894a2fd5ef320bda62ca65dcb3f}{ps}})
\begin{DoxyCompactList}\small\item\em constructs a data-\/parallel pipeline object \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1_data_pipeline_abe9f09834e32eebf792c330fe825138d}{Data\+Pipeline}} (size\+\_\+t \mbox{\hyperlink{classtf_1_1_data_pipeline_aaa74a52dac68155a9b73f5f70d9d14aa}{num\+\_\+lines}}, std\+::tuple$<$ Ps... $>$ \&\&\mbox{\hyperlink{level1__cplx__impl_8h_a6280e894a2fd5ef320bda62ca65dcb3f}{ps}})
\begin{DoxyCompactList}\small\item\em constructs a data-\/parallel pipeline object \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_data_pipeline_aaa74a52dac68155a9b73f5f70d9d14aa}{num\+\_\+lines}} () const noexcept
\begin{DoxyCompactList}\small\item\em queries the number of parallel lines \end{DoxyCompactList}\item 
constexpr size\+\_\+t \mbox{\hyperlink{classtf_1_1_data_pipeline_a8720a404e3811b28e3dd5b98c9047496}{num\+\_\+pipes}} () const noexcept
\begin{DoxyCompactList}\small\item\em queries the number of pipes \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_data_pipeline_ad6355a117bbc4d3d607fb6f95ffd9889}{reset}} ()
\begin{DoxyCompactList}\small\item\em resets the pipeline \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_data_pipeline_a2c208032313105d142e2c8cec650acfe}{num\+\_\+tokens}} () const noexcept
\begin{DoxyCompactList}\small\item\em queries the number of generated tokens in the pipeline \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1_graph}{Graph}} \& \mbox{\hyperlink{classtf_1_1_data_pipeline_adfc70da6fdffc4a0a56bd2fe0f0dc07d}{graph}} ()
\begin{DoxyCompactList}\small\item\em obtains the graph object associated with the pipeline construct \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$size\+\_\+t... I$>$ }\\auto \mbox{\hyperlink{classtf_1_1_data_pipeline_a4550dd13483b3624648acda90d1e04f4}{\+\_\+gen\+\_\+meta}} (std\+::tuple$<$ Ps... $>$ \&\&, std\+::index\+\_\+sequence$<$ I... $>$)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_data_pipeline_ad5836484403bf71a4082fc9a71393e86}{\+\_\+on\+\_\+pipe}} (\mbox{\hyperlink{classtf_1_1_pipeflow}{Pipeflow}} \&, \mbox{\hyperlink{classtf_1_1_runtime}{Runtime}} \&)
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_data_pipeline_a2820a8648648fbdb5f06220b5960f033}{\+\_\+build}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1_graph}{Graph}} \mbox{\hyperlink{classtf_1_1_data_pipeline_aceec74e44a0b6c2c7018844643da84fb}{\+\_\+graph}}
\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1_data_pipeline_a4c4d77197be98821ad567db7e8d1cc61}{\+\_\+num\+\_\+tokens}}
\item 
std\+::tuple$<$ Ps... $>$ \mbox{\hyperlink{classtf_1_1_data_pipeline_a30a1c660df935da648be30743a6a3381}{\+\_\+pipes}}
\item 
std\+::array$<$ \mbox{\hyperlink{structtf_1_1_data_pipeline_1_1_pipe_meta}{Pipe\+Meta}}, sizeof...(Ps)$>$ \mbox{\hyperlink{classtf_1_1_data_pipeline_ad7bb60a333fe6cde6c72c7599145a96c}{\+\_\+meta}}
\item 
std\+::vector$<$ std\+::array$<$ \mbox{\hyperlink{structtf_1_1_data_pipeline_1_1_line}{Line}}, sizeof...(Ps)$>$ $>$ \mbox{\hyperlink{classtf_1_1_data_pipeline_aa8c8a3852f6a055e0666bd679b69a550}{\+\_\+lines}}
\item 
std\+::vector$<$ \mbox{\hyperlink{classtf_1_1_task}{Task}} $>$ \mbox{\hyperlink{classtf_1_1_data_pipeline_ab8d93e0c228355590102a9bc1775b5fd}{\+\_\+tasks}}
\item 
std\+::vector$<$ \mbox{\hyperlink{classtf_1_1_pipeflow}{Pipeflow}} $>$ \mbox{\hyperlink{classtf_1_1_data_pipeline_ae78ad58672cd1a4307543957950d7819}{\+\_\+pipeflows}}
\item 
std\+::vector$<$ \mbox{\hyperlink{structtf_1_1_cacheline_aligned}{Cacheline\+Aligned}}$<$ \mbox{\hyperlink{classtf_1_1_data_pipeline_ae3bce106a357267223e5a6c5884d57c4}{data\+\_\+t}} $>$ $>$ \mbox{\hyperlink{classtf_1_1_data_pipeline_a59b6d2346e79a363f5c15958a9d14d7b}{\+\_\+buffer}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename... Ps$>$\newline
class tf\+::\+Data\+Pipeline$<$ Ps $>$}
class to create a data-\/parallel pipeline scheduling framework 


\begin{DoxyTemplParams}{模板参数}
{\em Ps} & data pipe types\\
\hline
\end{DoxyTemplParams}
Similar to \doxylink{classtf_1_1_pipeline}{tf\+::\+Pipeline}, a \doxylink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline} is a composable graph object for users to create a {\itshape data-\/parallel pipeline scheduling framework} using a module task in a taskflow. The only difference is that \doxylink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline} provides a data abstraction for users to quickly express dataflow in a pipeline. The following example creates a data-\/parallel pipeline of three stages that generate dataflow from {\ttfamily void} to {\ttfamily int}, {\ttfamily std\+::string}, and {\ttfamily void}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{taskflow_8hpp}{taskflow/taskflow.hpp}}>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{taskflow_2algorithm_2data__pipeline_8hpp}{taskflow/algorithm/data\_pipeline.hpp}}>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{main-override-static_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}}()\ \{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ data\ flow\ =>\ void\ -\/>\ int\ -\/>\ std::string\ -\/>\ void}}
\DoxyCodeLine{\ \ tf::Taskflow\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}(\textcolor{stringliteral}{"{}pipeline"{}});}
\DoxyCodeLine{\ \ tf::Executor\ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classtf_1_1_data_pipeline_aaa74a52dac68155a9b73f5f70d9d14aa}{num\_lines}}\ =\ 4;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ tf::DataPipeline\ pl(\mbox{\hyperlink{classtf_1_1_data_pipeline_aaa74a52dac68155a9b73f5f70d9d14aa}{num\_lines}},}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{namespacetf_a8975fa5762088789adb0b60f38208309}{tf::make\_data\_pipe<void,\ int>}}(\mbox{\hyperlink{namespacetf_abb7a11e41fd457f69e7ff45d4c769564a7b804a28d6154ab8007287532037f1d0}{tf::PipeType::SERIAL}},\ [\&](tf::Pipeflow\&\ pf)\ -\/>\ \textcolor{keywordtype}{int}\{}
\DoxyCodeLine{\ \ \ \ \ \ \textcolor{keywordflow}{if}(pf.\mbox{\hyperlink{classtf_1_1_pipeflow_a295e5d884665c076f4ef5d78139f7c51}{token}}()\ ==\ 5)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ pf.\mbox{\hyperlink{classtf_1_1_pipeflow_a830b7f204cb87fff17e8d424918d9453}{stop}}();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pf.\mbox{\hyperlink{classtf_1_1_pipeflow_a295e5d884665c076f4ef5d78139f7c51}{token}}();}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}),}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{namespacetf_a8975fa5762088789adb0b60f38208309}{tf::make\_data\_pipe<int,\ std::string>}}(\mbox{\hyperlink{namespacetf_abb7a11e41fd457f69e7ff45d4c769564a7b804a28d6154ab8007287532037f1d0}{tf::PipeType::SERIAL}},\ [](\textcolor{keywordtype}{int}\&\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::to\_string(\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ +\ 100);}
\DoxyCodeLine{\ \ \ \ \}),}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{namespacetf_a8975fa5762088789adb0b60f38208309}{tf::make\_data\_pipe<std::string,\ void>}}(\mbox{\hyperlink{namespacetf_abb7a11e41fd457f69e7ff45d4c769564a7b804a28d6154ab8007287532037f1d0}{tf::PipeType::SERIAL}},\ [](std::string\&\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ std::cout\ <<\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ <<\ std::endl;}
\DoxyCodeLine{\ \ \ \ \})}
\DoxyCodeLine{\ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ build\ the\ pipeline\ graph\ using\ composition}}
\DoxyCodeLine{\ \ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.composed\_of(pl).name(\textcolor{stringliteral}{"{}pipeline"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ dump\ the\ pipeline\ graph\ structure\ (with\ composition)}}
\DoxyCodeLine{\ \ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.dump(std::cout);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ run\ the\ pipeline}}
\DoxyCodeLine{\ \ \mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCode}


The pipeline schedules five tokens over four parallel lines in a circular fashion, as depicted below\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{.shell-\/session\}\ }
\DoxyCodeLine{o\ -\/>\ o\ -\/>\ o}
\DoxyCodeLine{|\ \ \ \ |\ \ \ \ |}
\DoxyCodeLine{\mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ \ \ \ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ \ \ \ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}}
\DoxyCodeLine{o\ -\/>\ o\ -\/>\ o}
\DoxyCodeLine{|\ \ \ \ |\ \ \ \ |}
\DoxyCodeLine{\mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ \ \ \ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ \ \ \ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}}
\DoxyCodeLine{o\ -\/>\ o\ -\/>\ o}
\DoxyCodeLine{|\ \ \ \ |\ \ \ \ |}
\DoxyCodeLine{\mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ \ \ \ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ \ \ \ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}}
\DoxyCodeLine{o\ -\/>\ o\ -\/>\ o}

\end{DoxyCode}
 

\doxysubsection{成员类型定义说明}
\Hypertarget{classtf_1_1_data_pipeline_ae3bce106a357267223e5a6c5884d57c4}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!data\_t@{data\_t}}
\index{data\_t@{data\_t}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{data\_t}{data\_t}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_ae3bce106a357267223e5a6c5884d57c4} 
template$<$typename... Ps$>$ \\
using \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::data\+\_\+t}

{\bfseries 初始值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \mbox{\hyperlink{namespacetf_a5182583cb29ae2b1f2827bddd403b535}{unique\_variant\_t}}<std::variant<std::conditional\_t<}
\DoxyCodeLine{\ \ \ \ std::is\_void\_v<typename\ Ps::output\_t>,\ }
\DoxyCodeLine{\ \ \ \ std::monostate,\ }
\DoxyCodeLine{\ \ \ \ std::decay\_t<typename\ Ps::output\_t>>...}
\DoxyCodeLine{\ \ >>}

\end{DoxyCode}


internal storage type for each data token (default std\+::variant) 



\doxysubsection{构造及析构函数说明}
\Hypertarget{classtf_1_1_data_pipeline_a1559f218ca91b41d6c871a88183a04e5}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!DataPipeline@{DataPipeline}}
\index{DataPipeline@{DataPipeline}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{DataPipeline()}{DataPipeline()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_a1559f218ca91b41d6c871a88183a04e5} 
template$<$typename... Ps$>$ \\
\mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+Data\+Pipeline (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{num\+\_\+lines}{, }\item[{Ps \&\&...}]{ps}{}\end{DoxyParamCaption})}



constructs a data-\/parallel pipeline object 


\begin{DoxyParams}{参数}
{\em num\+\_\+lines} & the number of parallel lines \\
\hline
{\em ps} & a list of pipes\\
\hline
\end{DoxyParams}
Constructs a data-\/parallel pipeline of up to {\ttfamily num\+\_\+lines} parallel lines to schedule tokens through the given linear chain of pipes. The first pipe must define a serial direction (\doxylink{namespacetf_abb7a11e41fd457f69e7ff45d4c769564a7b804a28d6154ab8007287532037f1d0}{tf\+::\+Pipe\+Type\+::\+SERIAL}) or an exception will be thrown. 函数调用图\+:
% FIG 1
\Hypertarget{classtf_1_1_data_pipeline_abe9f09834e32eebf792c330fe825138d}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!DataPipeline@{DataPipeline}}
\index{DataPipeline@{DataPipeline}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{DataPipeline()}{DataPipeline()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_abe9f09834e32eebf792c330fe825138d} 
template$<$typename... Ps$>$ \\
\mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+Data\+Pipeline (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{num\+\_\+lines}{, }\item[{std\+::tuple$<$ Ps... $>$ \&\&}]{ps}{}\end{DoxyParamCaption})}



constructs a data-\/parallel pipeline object 


\begin{DoxyParams}{参数}
{\em num\+\_\+lines} & the number of parallel lines \\
\hline
{\em ps} & a tuple of pipes\\
\hline
\end{DoxyParams}
Constructs a data-\/parallel pipeline of up to {\ttfamily num\+\_\+lines} parallel lines to schedule tokens through the given linear chain of pipes stored in a std\+::tuple. The first pipe must define a serial direction (\doxylink{namespacetf_abb7a11e41fd457f69e7ff45d4c769564a7b804a28d6154ab8007287532037f1d0}{tf\+::\+Pipe\+Type\+::\+SERIAL}) or an exception will be thrown. 函数调用图\+:
% FIG 2


\doxysubsection{成员函数说明}
\Hypertarget{classtf_1_1_data_pipeline_a2820a8648648fbdb5f06220b5960f033}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_build@{\_build}}
\index{\_build@{\_build}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_build()}{\_build()}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_a2820a8648648fbdb5f06220b5960f033} 
template$<$typename... Ps$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+build (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
% FIG 3
\Hypertarget{classtf_1_1_data_pipeline_a4550dd13483b3624648acda90d1e04f4}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_gen\_meta@{\_gen\_meta}}
\index{\_gen\_meta@{\_gen\_meta}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_gen\_meta()}{\_gen\_meta()}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_a4550dd13483b3624648acda90d1e04f4} 
template$<$typename... Ps$>$ \\
template$<$size\+\_\+t... I$>$ \\
auto \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+gen\+\_\+meta (\begin{DoxyParamCaption}\item[{std\+::tuple$<$ Ps... $>$ \&\&}]{ps}{, }\item[{std\+::index\+\_\+sequence$<$ I... $>$}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
% FIG 4
\Hypertarget{classtf_1_1_data_pipeline_ad5836484403bf71a4082fc9a71393e86}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_on\_pipe@{\_on\_pipe}}
\index{\_on\_pipe@{\_on\_pipe}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_on\_pipe()}{\_on\_pipe()}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_ad5836484403bf71a4082fc9a71393e86} 
template$<$typename... Ps$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+on\+\_\+pipe (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1_pipeflow}{Pipeflow}} \&}]{pf}{, }\item[{\mbox{\hyperlink{classtf_1_1_runtime}{Runtime}} \&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
% FIG 5
\Hypertarget{classtf_1_1_data_pipeline_adfc70da6fdffc4a0a56bd2fe0f0dc07d}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!graph@{graph}}
\index{graph@{graph}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{graph()}{graph()}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_adfc70da6fdffc4a0a56bd2fe0f0dc07d} 
template$<$typename... Ps$>$ \\
\mbox{\hyperlink{classtf_1_1_graph}{Graph}} \& \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::graph (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



obtains the graph object associated with the pipeline construct 

This method is primarily used as an opaque data structure for creating a module task of this pipeline. 函数调用图\+:
% FIG 6
\Hypertarget{classtf_1_1_data_pipeline_aaa74a52dac68155a9b73f5f70d9d14aa}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!num\_lines@{num\_lines}}
\index{num\_lines@{num\_lines}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{num\_lines()}{num\_lines()}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_aaa74a52dac68155a9b73f5f70d9d14aa} 
template$<$typename... Ps$>$ \\
size\+\_\+t \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::num\+\_\+lines (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}



queries the number of parallel lines 

The function returns the number of parallel lines given by the user upon the construction of the pipeline. The number of lines represents the maximum parallelism this pipeline can achieve. 函数调用图\+:
% FIG 7
\Hypertarget{classtf_1_1_data_pipeline_a8720a404e3811b28e3dd5b98c9047496}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!num\_pipes@{num\_pipes}}
\index{num\_pipes@{num\_pipes}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{num\_pipes()}{num\_pipes()}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_a8720a404e3811b28e3dd5b98c9047496} 
template$<$typename... Ps$>$ \\
size\+\_\+t \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::num\+\_\+pipes (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [constexpr]}, {\ttfamily [noexcept]}}



queries the number of pipes 

The Function returns the number of pipes given by the user upon the construction of the pipeline. 函数调用图\+:
% FIG 8
\Hypertarget{classtf_1_1_data_pipeline_a2c208032313105d142e2c8cec650acfe}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!num\_tokens@{num\_tokens}}
\index{num\_tokens@{num\_tokens}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{num\_tokens()}{num\_tokens()}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_a2c208032313105d142e2c8cec650acfe} 
template$<$typename... Ps$>$ \\
size\+\_\+t \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::num\+\_\+tokens (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}



queries the number of generated tokens in the pipeline 

The number represents the total scheduling tokens that has been generated by the pipeline so far. 函数调用图\+:
% FIG 9
\Hypertarget{classtf_1_1_data_pipeline_ad6355a117bbc4d3d607fb6f95ffd9889}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!reset@{reset}}
\index{reset@{reset}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_ad6355a117bbc4d3d607fb6f95ffd9889} 
template$<$typename... Ps$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::reset (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



resets the pipeline 

Resetting the pipeline to the initial state. After resetting a pipeline, its token identifier will start from zero as if the pipeline was just constructed. 函数调用图\+:
% FIG 10


\doxysubsection{类成员变量说明}
\Hypertarget{classtf_1_1_data_pipeline_a59b6d2346e79a363f5c15958a9d14d7b}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_buffer@{\_buffer}}
\index{\_buffer@{\_buffer}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_buffer}{\_buffer}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_a59b6d2346e79a363f5c15958a9d14d7b} 
template$<$typename... Ps$>$ \\
std\+::vector$<$\mbox{\hyperlink{structtf_1_1_cacheline_aligned}{Cacheline\+Aligned}}$<$\mbox{\hyperlink{classtf_1_1_data_pipeline_ae3bce106a357267223e5a6c5884d57c4}{data\+\_\+t}}$>$ $>$ \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+buffer\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_data_pipeline_aceec74e44a0b6c2c7018844643da84fb}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_graph@{\_graph}}
\index{\_graph@{\_graph}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_graph}{\_graph}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_aceec74e44a0b6c2c7018844643da84fb} 
template$<$typename... Ps$>$ \\
\mbox{\hyperlink{classtf_1_1_graph}{Graph}} \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+graph\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_data_pipeline_aa8c8a3852f6a055e0666bd679b69a550}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_lines@{\_lines}}
\index{\_lines@{\_lines}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_lines}{\_lines}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_aa8c8a3852f6a055e0666bd679b69a550} 
template$<$typename... Ps$>$ \\
std\+::vector$<$std\+::array$<$\mbox{\hyperlink{structtf_1_1_data_pipeline_1_1_line}{Line}}, sizeof...(Ps)$>$ $>$ \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+lines\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_data_pipeline_ad7bb60a333fe6cde6c72c7599145a96c}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_meta@{\_meta}}
\index{\_meta@{\_meta}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_meta}{\_meta}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_ad7bb60a333fe6cde6c72c7599145a96c} 
template$<$typename... Ps$>$ \\
std\+::array$<$\mbox{\hyperlink{structtf_1_1_data_pipeline_1_1_pipe_meta}{Pipe\+Meta}}, sizeof...(Ps)$>$ \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+meta\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_data_pipeline_a4c4d77197be98821ad567db7e8d1cc61}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_num\_tokens@{\_num\_tokens}}
\index{\_num\_tokens@{\_num\_tokens}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_num\_tokens}{\_num\_tokens}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_a4c4d77197be98821ad567db7e8d1cc61} 
template$<$typename... Ps$>$ \\
size\+\_\+t \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+num\+\_\+tokens\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_data_pipeline_ae78ad58672cd1a4307543957950d7819}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_pipeflows@{\_pipeflows}}
\index{\_pipeflows@{\_pipeflows}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_pipeflows}{\_pipeflows}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_ae78ad58672cd1a4307543957950d7819} 
template$<$typename... Ps$>$ \\
std\+::vector$<$\mbox{\hyperlink{classtf_1_1_pipeflow}{Pipeflow}}$>$ \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+pipeflows\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_data_pipeline_a30a1c660df935da648be30743a6a3381}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_pipes@{\_pipes}}
\index{\_pipes@{\_pipes}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_pipes}{\_pipes}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_a30a1c660df935da648be30743a6a3381} 
template$<$typename... Ps$>$ \\
std\+::tuple$<$Ps...$>$ \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+pipes\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_data_pipeline_ab8d93e0c228355590102a9bc1775b5fd}\index{tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}!\_tasks@{\_tasks}}
\index{\_tasks@{\_tasks}!tf::DataPipeline$<$ Ps $>$@{tf::DataPipeline$<$ Ps $>$}}
\doxysubsubsection{\texorpdfstring{\_tasks}{\_tasks}}
{\footnotesize\ttfamily \label{classtf_1_1_data_pipeline_ab8d93e0c228355590102a9bc1775b5fd} 
template$<$typename... Ps$>$ \\
std\+::vector$<$\mbox{\hyperlink{classtf_1_1_task}{Task}}$>$ \mbox{\hyperlink{classtf_1_1_data_pipeline}{tf\+::\+Data\+Pipeline}}$<$ Ps $>$\+::\+\_\+tasks\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/taskflow/algorithm/\mbox{\hyperlink{taskflow_2algorithm_2data__pipeline_8hpp}{data\+\_\+pipeline.\+hpp}}\end{DoxyCompactItemize}
