\chapter{Support for standard containers}
\hypertarget{md_external_2reflect-cpp_2docs_2standard__containers}{}\label{md_external_2reflect-cpp_2docs_2standard__containers}\index{Support for standard containers@{Support for standard containers}}
\label{md_external_2reflect-cpp_2docs_2standard__containers_autotoc_md631}%
\Hypertarget{md_external_2reflect-cpp_2docs_2standard__containers_autotoc_md631}%


The serialization and deserialization of containers is handled as follows\+:

{\ttfamily std\+::map\texorpdfstring{$<$}{<}std\+::string, ...\texorpdfstring{$>$}{>}}, {\ttfamily std\+::unordered\+\_\+map\texorpdfstring{$<$}{<}std\+::string, ...\texorpdfstring{$>$}{>}}, maps with any numeric types (integral and floating points) as keys, and any objects where the {\ttfamily Reflection\+Type} is either a {\ttfamily std\+::string} or a numeric type are treated as objects.

Consider the following map\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{std::map<std::string,\ std::string>\ homer;}
\DoxyCodeLine{homer[\textcolor{stringliteral}{"{}firstName"{}}]\ =\ \textcolor{stringliteral}{"{}Homer"{}};}
\DoxyCodeLine{homer[\textcolor{stringliteral}{"{}lastName"{}}]\ =\ \textcolor{stringliteral}{"{}Simpson"{}};}

\end{DoxyCode}


This will be represented as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{"{}firstName"{}:"{}Homer"{},"{}lastName"{}:"{}Simpson"{}\}}

\end{DoxyCode}


The same is true for numeric types\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{std::map<int,\ std::string>\ homer;}
\DoxyCodeLine{homer[1]\ =\ \textcolor{stringliteral}{"{}Homer"{}};}
\DoxyCodeLine{homer[2]\ =\ \textcolor{stringliteral}{"{}Simpson"{}};}

\end{DoxyCode}


This will be represented as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{"{}1"{}:"{}Homer"{},"{}2"{}:"{}Simpson"{}\}}

\end{DoxyCode}


If you wrap your keys into a {\ttfamily \doxylink{structrfl_1_1_validator}{rfl\+::\+Validator}}, this will be treated as an object as well\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{using\ }\mbox{\hyperlink{namespacetest__map__with__key__validation_adde537c6ea2c3d90f491b1e782d39f9f}{Between1and3}}\ =\ \mbox{\hyperlink{structrfl_1_1_validator}{rfl::Validator<int,\ rfl::Minimum<1>}},\ \mbox{\hyperlink{structrfl_1_1_maximum}{rfl::Maximum<3>}}>;}
\DoxyCodeLine{std::map<Between1and3,\ std::string>\ homer;}
\DoxyCodeLine{homer[1]\ =\ \textcolor{stringliteral}{"{}Homer"{}};}
\DoxyCodeLine{homer[2]\ =\ \textcolor{stringliteral}{"{}Simpson"{}};}

\end{DoxyCode}


This will also be represented as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{"{}1"{}:"{}Homer"{},"{}2"{}:"{}Simpson"{}\}}

\end{DoxyCode}


All other supported standard containers (other than {\ttfamily std\+::variant}, {\ttfamily std\+::optional}, {\ttfamily std\+::unique\+\_\+ptr} and {\ttfamily std\+::shared\+\_\+ptr}) will be represented as arrays. Containers for which the {\ttfamily value\+\_\+type} is a key-\/value-\/pair will be represented as arrays of pairs. 