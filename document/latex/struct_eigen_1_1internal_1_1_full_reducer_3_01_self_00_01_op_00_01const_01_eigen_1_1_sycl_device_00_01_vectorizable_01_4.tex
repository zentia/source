\doxysection{Eigen\+::internal\+::Full\+Reducer\texorpdfstring{$<$}{<} Self, Op, const Eigen\+::Sycl\+Device, Vectorizable \texorpdfstring{$>$}{>} 模板结构体 参考}
\hypertarget{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4}{}\label{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4}\index{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}}


{\ttfamily \#include $<$Tensor\+Reduction\+Sycl.\+h$>$}

\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef Self\+::\+Coeff\+Return\+Type \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aa02e68b933cb294854a8dd61a3952962}{Coeff\+Return\+Type}}
\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aee608a1f9a8dca2b99477c2738357c05}{run}} (const Self \&self, Op \&reducer, const Eigen\+::\+Sycl\+Device \&dev, \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aa02e68b933cb294854a8dd61a3952962}{Coeff\+Return\+Type}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}})
\item 
static EIGEN\+\_\+\+DEVICE\+\_\+\+FUNC \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_a506159dc2c13ca4882575512f42f972f}{run}} (const Self \&self, Op \&reducer, const const Eigen\+::\+Sycl\+Device \&, typename Self\+::\+Coeff\+Return\+Type \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_a8390452002ecc7a0dadc5ae0dccc9b6c}{output}})
\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 属性}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aeb377bddcebf6eba16ad92c7279de019}{Has\+Optimized\+Implementation}} = \mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}
\item 
static const \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_afdb7b8d8326a460adec840d3f38b097e}{Has\+Optimized\+Implementation}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename Self, typename Op, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} Vectorizable$>$\newline
struct Eigen\+::internal\+::\+Full\+Reducer$<$ Self, Op, const Eigen\+::\+Sycl\+Device, Vectorizable $>$}
For now let\textquotesingle{}s start with a full reducer Self is useless here because in expression construction we are going to treat reduction as a leafnode. we want to take reduction child and then build a construction and apply the full reducer function on it. Fullreducre applies the reduction operation on the child of the reduction. once it is done the reduction is an empty shell and can be thrown away and treated as 

\doxysubsection{成员类型定义说明}
\Hypertarget{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aa02e68b933cb294854a8dd61a3952962}\index{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}!CoeffReturnType@{CoeffReturnType}}
\index{CoeffReturnType@{CoeffReturnType}!Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}}
\doxysubsubsection{\texorpdfstring{CoeffReturnType}{CoeffReturnType}}
{\footnotesize\ttfamily \label{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aa02e68b933cb294854a8dd61a3952962} 
template$<$typename Self, typename Op, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} Vectorizable$>$ \\
typedef Self\+::\+Coeff\+Return\+Type \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer}{Eigen\+::internal\+::\+Full\+Reducer}}$<$ Self, Op, const Eigen\+::\+Sycl\+Device, Vectorizable $>$\+::\+Coeff\+Return\+Type}



\doxysubsection{成员函数说明}
\Hypertarget{struct_eigen_1_1internal_1_1_full_reducer_a506159dc2c13ca4882575512f42f972f}\index{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}!run@{run}}
\index{run@{run}!Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}}
\doxysubsubsection{\texorpdfstring{run()}{run()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{struct_eigen_1_1internal_1_1_full_reducer_a506159dc2c13ca4882575512f42f972f} 
static EIGEN\+\_\+\+DEVICE\+\_\+\+FUNC \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer}{Eigen\+::internal\+::\+Full\+Reducer}}$<$ Self, Op, const Eigen\+::\+Sycl\+Device, Vectorizable $>$\+::run (\begin{DoxyParamCaption}\item[{const Self \&}]{self}{, }\item[{Op \&}]{reducer}{, }\item[{const const Eigen\+::\+Sycl\+Device \&}]{}{, }\item[{typename Self\+::\+Coeff\+Return\+Type \texorpdfstring{$\ast$}{*}}]{output}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

\Hypertarget{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aee608a1f9a8dca2b99477c2738357c05}\index{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}!run@{run}}
\index{run@{run}!Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}}
\doxysubsubsection{\texorpdfstring{run()}{run()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aee608a1f9a8dca2b99477c2738357c05} 
template$<$typename Self, typename Op, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} Vectorizable$>$ \\
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer}{Eigen\+::internal\+::\+Full\+Reducer}}$<$ Self, Op, const Eigen\+::\+Sycl\+Device, Vectorizable $>$\+::run (\begin{DoxyParamCaption}\item[{const Self \&}]{self}{, }\item[{Op \&}]{reducer}{, }\item[{const Eigen\+::\+Sycl\+Device \&}]{dev}{, }\item[{\mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aa02e68b933cb294854a8dd61a3952962}{Coeff\+Return\+Type}} \texorpdfstring{$\ast$}{*}}]{output}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

this is the child of reduction

initial reduction. If the size is less than red\+\_\+factor we only creates one thread.

if the shared memory is less than the GRange, we set shared\+\_\+mem size to the Total\+Size and in this case one kernel would be created for recursion to reduce all to one.

creating the shared memory for calculating reduction. This one is used to collect all the reduced value of shared memory as we dont have global barrier on GPU. Once it is saved we can recursively apply reduction on it in order to reduce the whole.

reduction cannot be captured automatically through our device conversion recursion. The reason is that reduction has two behaviour the first behaviour is when it is used as a root to lauch the sub-\/kernel. The second one is when it is treated as a leafnode to pass the calculated result to its parent kernel. While the latter is automatically detected through our device expression generator. The former is created here.

This is the evaluator for device\+\_\+self\+\_\+expr. This is exactly similar to the self which has been passed to run function. The difference is the device\+\_\+evaluator is detectable and recognisable on the device.

const cast added as a naive solution to solve the qualifier drop error

This is used to recursively reduce the tmp value to an element of 1;函数调用图\+:
% FIG 0


\doxysubsection{类成员变量说明}
\Hypertarget{struct_eigen_1_1internal_1_1_full_reducer_afdb7b8d8326a460adec840d3f38b097e}\index{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}!HasOptimizedImplementation@{HasOptimizedImplementation}}
\index{HasOptimizedImplementation@{HasOptimizedImplementation}!Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}}
\doxysubsubsection{\texorpdfstring{HasOptimizedImplementation}{HasOptimizedImplementation}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{struct_eigen_1_1internal_1_1_full_reducer_afdb7b8d8326a460adec840d3f38b097e} 
const \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer}{Eigen\+::internal\+::\+Full\+Reducer}}$<$ Self, Op, const Eigen\+::\+Sycl\+Device, Vectorizable $>$\+::\+Has\+Optimized\+Implementation\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aeb377bddcebf6eba16ad92c7279de019}\index{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}!HasOptimizedImplementation@{HasOptimizedImplementation}}
\index{HasOptimizedImplementation@{HasOptimizedImplementation}!Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$@{Eigen::internal::FullReducer$<$ Self, Op, const Eigen::SyclDevice, Vectorizable $>$}}
\doxysubsubsection{\texorpdfstring{HasOptimizedImplementation}{HasOptimizedImplementation}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{struct_eigen_1_1internal_1_1_full_reducer_3_01_self_00_01_op_00_01const_01_eigen_1_1_sycl_device_00_01_vectorizable_01_4_aeb377bddcebf6eba16ad92c7279de019} 
template$<$typename Self, typename Op, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} Vectorizable$>$ \\
const \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{struct_eigen_1_1internal_1_1_full_reducer}{Eigen\+::internal\+::\+Full\+Reducer}}$<$ Self, Op, const Eigen\+::\+Sycl\+Device, Vectorizable $>$\+::\+Has\+Optimized\+Implementation = \mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}\hspace{0.3cm}{\ttfamily [static]}}



该结构体的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/eigen-\/3.\+3.\+7/unsupported/\+Eigen/\+CXX11/src/\+Tensor/\mbox{\hyperlink{_tensor_reduction_sycl_8h}{Tensor\+Reduction\+Sycl.\+h}}\end{DoxyCompactItemize}
