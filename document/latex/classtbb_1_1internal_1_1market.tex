\doxysection{tbb\+::internal\+::market类 参考}
\hypertarget{classtbb_1_1internal_1_1market}{}\label{classtbb_1_1internal_1_1market}\index{tbb::internal::market@{tbb::internal::market}}


{\ttfamily \#include $<$market.\+h$>$}



类 tbb\+::internal\+::market 继承关系图\+:
% FIG 0


tbb\+::internal\+::market 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a798355f9d896223c97ac403c879987be}{try\+\_\+destroy\+\_\+arena}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}, uintptr\+\_\+t aba\+\_\+epoch)
\begin{DoxyCompactList}\small\item\em Removes the arena from the market\textquotesingle{}s list \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a5bd937cbff57f636998e1ef4466469e4}{detach\+\_\+arena}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \&)
\begin{DoxyCompactList}\small\item\em Removes the arena from the market\textquotesingle{}s list \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a76b1783a39252c34da34d0cebfe101b5}{release}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+public, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} blocking\+\_\+terminate)
\begin{DoxyCompactList}\small\item\em Decrements market\textquotesingle{}s refcount and destroys it in the end \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a2147b4639190ad49551f617784dc012b}{adjust\+\_\+demand}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \&, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} delta)
\begin{DoxyCompactList}\small\item\em Request that arena\textquotesingle{}s need in workers should be adjusted. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a599c306133a3132143bd0bb2ec82f757}{must\+\_\+join\+\_\+workers}} () const
\begin{DoxyCompactList}\small\item\em Used when RML asks for join mode during workers termination. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1market_accfaa36b2c0dc66a2d73943db458a373}{worker\+\_\+stack\+\_\+size}} () const
\begin{DoxyCompactList}\small\item\em Returns the requested stack size of worker threads. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1market_aa73a40282b782676f30f27dcde0ea967}{create\+\_\+arena}} (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} num\+\_\+slots, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} num\+\_\+reserved\+\_\+slots, size\+\_\+t stack\+\_\+size)
\begin{DoxyCompactList}\small\item\em Creates an arena object \end{DoxyCompactList}\item 
static \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a50bb92619e74a81b3f8552ccca139c9f}{set\+\_\+active\+\_\+num\+\_\+workers}} (unsigned \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})
\begin{DoxyCompactList}\small\item\em Set number of active workers \end{DoxyCompactList}\item 
static unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1market_a857327e374da8c7bb5c4b529aca05405}{app\+\_\+parallelism\+\_\+limit}} ()
\begin{DoxyCompactList}\small\item\em Reports active parallelism level according to user\textquotesingle{}s settings \end{DoxyCompactList}\item 
static unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1market_a42a517ad93d2a752f9e20eab9db10279}{max\+\_\+num\+\_\+workers}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 类型}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classtbb_1_1internal_1_1intrusive__list}{intrusive\+\_\+list}}$<$ \mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} $>$ \mbox{\hyperlink{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}{arena\+\_\+list\+\_\+type}}
\item 
typedef \mbox{\hyperlink{classtbb_1_1internal_1_1intrusive__list}{intrusive\+\_\+list}}$<$ \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}} $>$ \mbox{\hyperlink{classtbb_1_1internal_1_1market_aad8860400f36b96f1410c3b76f6ab87b}{scheduler\+\_\+list\+\_\+type}}
\item 
typedef \mbox{\hyperlink{namespacetbb_1_1internal_a7129c5cff1bad05eaf6c218a04f70456}{scheduler\+\_\+mutex\+\_\+type}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_aee2d565dc5bbbdcdb12899b46ea04ba3}{global\+\_\+market\+\_\+mutex\+\_\+type}}
\item 
typedef \mbox{\hyperlink{classtbb_1_1spin__rw__mutex}{spin\+\_\+rw\+\_\+mutex}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a9d9b7abc87576a28a1278ede919c2fe5}{arenas\+\_\+list\+\_\+mutex\+\_\+type}}
\begin{DoxyCompactList}\small\item\em Lightweight mutex guarding accounting operations with arenas list \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private 类型 继承自 \mbox{\hyperlink{classrml_1_1client}{rml\+::client}}}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classrml_1_1job}{\+::rml\+::job}} \mbox{\hyperlink{classrml_1_1client_a684e4fee23d24f9d9d150eb38f2d254f}{job}}
\begin{DoxyCompactList}\small\item\em Typedef for convenience of derived classes in other namespaces. \end{DoxyCompactList}\item 
typedef unsigned \mbox{\hyperlink{classrml_1_1client_a0dc06ede570f7ee6d3021862cb71119f}{size\+\_\+type}}
\begin{DoxyCompactList}\small\item\em Index of a job in a job pool \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private 类型 继承自 \mbox{\hyperlink{classrml_1_1versioned__object}{rml\+::versioned\+\_\+object}}}
\begin{DoxyCompactItemize}
\item 
typedef unsigned \mbox{\hyperlink{classrml_1_1versioned__object_a759650010b271238ef9433442730c423}{version\+\_\+type}}
\begin{DoxyCompactList}\small\item\em \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} version number \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1market_acdbf87ad0efe5f3e224d88ecb2536e93}{market}} (unsigned workers\+\_\+soft\+\_\+limit, unsigned workers\+\_\+hard\+\_\+limit, size\+\_\+t stack\+\_\+size)
\begin{DoxyCompactList}\small\item\em Constructor \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a5ca285e2d383ecaf3ff0460b30a3551e}{destroy}} ()
\begin{DoxyCompactList}\small\item\em Destroys and deallocates market object created by market\+::create() \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a61e46dcffd92e6d8bae0337f258112fa}{update\+\_\+workers\+\_\+request}} ()
\begin{DoxyCompactList}\small\item\em Recalculates the number of workers requested from RML and updates the allotment. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_ae02e2394f18a6c25a022fa44be65d317}{update\+\_\+allotment}} (unsigned effective\+\_\+soft\+\_\+limit)
\begin{DoxyCompactList}\small\item\em Recalculates the number of workers assigned to each arena in the list. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1market_adb6429452a5a46fc578cef54e692fcb6}{arena\+\_\+in\+\_\+need}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}prev\+\_\+arena)
\begin{DoxyCompactList}\small\item\em Returns next arena that needs more workers, or NULL. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_abac77eac68e7a47e3edde883ff7a59ab}{assert\+\_\+market\+\_\+valid}} () const
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a829b50e27820a2ecb57067b0d8147422}{insert\+\_\+arena\+\_\+into\+\_\+list}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \&\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a9f3b90e1f82aff92b8493b78a909d434}{remove\+\_\+arena\+\_\+from\+\_\+list}} (\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \&\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})
\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a33a380c63e14f82741cdad9f1b6e48f4}{arena\+\_\+in\+\_\+need}} (\mbox{\hyperlink{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}{arena\+\_\+list\+\_\+type}} \&arenas, \mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}hint)
\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a0cd4847435aac18429808f92238664f4}{update\+\_\+allotment}} (\mbox{\hyperlink{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}{arena\+\_\+list\+\_\+type}} \&arenas, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} total\+\_\+demand, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} max\+\_\+workers)
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_ab5309747cd8e8e7e094b4417a8a28b76}{is\+\_\+arena\+\_\+in\+\_\+list}} (\mbox{\hyperlink{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}{arena\+\_\+list\+\_\+type}} \&arenas, \mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})
\item 
\mbox{\hyperlink{classrml_1_1versioned__object_a759650010b271238ef9433442730c423}{version\+\_\+type}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a40f5211ac34a8dc73339ce48837a52b1}{version}} () const \+\_\+\+\_\+\+TBB\+\_\+override
\item 
unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1market_a18da7f9007ba8be2f186764d69fd4606}{max\+\_\+job\+\_\+count}} () const \+\_\+\+\_\+\+TBB\+\_\+override
\item 
size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1market_a8278ffd03b0e1194cf44bec3163b764d}{min\+\_\+stack\+\_\+size}} () const \+\_\+\+\_\+\+TBB\+\_\+override
\item 
policy\+\_\+type \mbox{\hyperlink{classtbb_1_1internal_1_1market_ac34ffcef09382c724dc962361d6fd2b1}{policy}} () const \+\_\+\+\_\+\+TBB\+\_\+override
\item 
\mbox{\hyperlink{classrml_1_1client_a684e4fee23d24f9d9d150eb38f2d254f}{job}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1market_ae5f4653c1ea43b7011f9099348849467}{create\+\_\+one\+\_\+job}} () \+\_\+\+\_\+\+TBB\+\_\+override
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a32eca56b49c13d239a2869c33c4a17b0}{cleanup}} (\mbox{\hyperlink{classrml_1_1client_a684e4fee23d24f9d9d150eb38f2d254f}{job}} \&\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}) \+\_\+\+\_\+\+TBB\+\_\+override
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_abc37f18193cd93d6b5c54acef4feec17}{acknowledge\+\_\+close\+\_\+connection}} () \+\_\+\+\_\+\+TBB\+\_\+override
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a574c6275a73f185d391151478e4a7634}{process}} (\mbox{\hyperlink{classrml_1_1client_a684e4fee23d24f9d9d150eb38f2d254f}{job}} \&\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}) \+\_\+\+\_\+\+TBB\+\_\+override
\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Private 成员函数}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \& \mbox{\hyperlink{classtbb_1_1internal_1_1market_a08ccaf89d501a9e56912eb5bd624066f}{global\+\_\+market}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+public, unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1market_a42a517ad93d2a752f9e20eab9db10279}{max\+\_\+num\+\_\+workers}}=0, size\+\_\+t stack\+\_\+size=0)
\begin{DoxyCompactList}\small\item\em Factory method creating new market object \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1market_a9d9b7abc87576a28a1278ede919c2fe5}{arenas\+\_\+list\+\_\+mutex\+\_\+type}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a939c230060372e2af4025aade0f91a6e}{my\+\_\+arenas\+\_\+list\+\_\+mutex}}
\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1rml_1_1tbb__server}{rml\+::tbb\+\_\+server}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1market_af7429d97c388e8adcbf37fcdbf64c075}{my\+\_\+server}}
\begin{DoxyCompactList}\small\item\em Pointer to the RML server object that services this \doxylink{struct_t_b_b}{TBB} instance. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1market_a0e2353e9048c25db08e639869694a0a5}{my\+\_\+num\+\_\+workers\+\_\+hard\+\_\+limit}}
\begin{DoxyCompactList}\small\item\em Maximal number of workers allowed for use by the underlying resource manager \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1market_ae6f56dc7b83aaa5e44a52d5aa1685193}{my\+\_\+num\+\_\+workers\+\_\+soft\+\_\+limit}}
\begin{DoxyCompactList}\small\item\em Current application-\/imposed limit on the number of workers (see \doxylink{classtbb_1_1internal_1_1market_a50bb92619e74a81b3f8552ccca139c9f}{set\+\_\+active\+\_\+num\+\_\+workers()}) \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a91c485f06e84cd7c8f357ac2653c0425}{my\+\_\+num\+\_\+workers\+\_\+requested}}
\begin{DoxyCompactList}\small\item\em \doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of workers currently requested from RML \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic}}$<$ unsigned $>$ \mbox{\hyperlink{classtbb_1_1internal_1_1market_a2fcee169e3b3be1cbb9b89b9a6c1942c}{my\+\_\+first\+\_\+unused\+\_\+worker\+\_\+idx}}
\begin{DoxyCompactList}\small\item\em First unused index of worker \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_ac358959b1d07ef2051827926643bfd26}{my\+\_\+total\+\_\+demand}}
\begin{DoxyCompactList}\small\item\em \doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of workers that were requested by all arenas \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}{arena\+\_\+list\+\_\+type}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_aab9e3f5ceeb9189ea960798fa472db7f}{my\+\_\+arenas}}
\begin{DoxyCompactList}\small\item\em \doxylink{class_list}{List} of registered arenas \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1market_afe6b17aefb399a82440951f14f70884b}{my\+\_\+next\+\_\+arena}}
\begin{DoxyCompactList}\small\item\em The first arena to be checked when idle worker seeks for an arena to enter \end{DoxyCompactList}\item 
uintptr\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1market_a063b80350da6758a2f8a610a2363aff6}{my\+\_\+arenas\+\_\+aba\+\_\+epoch}}
\begin{DoxyCompactList}\small\item\em ABA prevention marker to assign to newly created arenas \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1market_acc6123ee9f177debfe705b53e509220e}{my\+\_\+ref\+\_\+count}}
\begin{DoxyCompactList}\small\item\em Reference count controlling market object lifetime \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1market_a3ec107af897da09a5d400c63f0c8d866}{my\+\_\+public\+\_\+ref\+\_\+count}}
\begin{DoxyCompactList}\small\item\em Count of master threads attached \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtbb_1_1internal_1_1market_ad2e4a6ecf43c20e6171b0de586912957}{my\+\_\+stack\+\_\+size}}
\begin{DoxyCompactList}\small\item\em Stack size of worker threads \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a2fe7f13bbfeb7da913dae45a996eecb7}{my\+\_\+join\+\_\+workers}}
\begin{DoxyCompactList}\small\item\em Shutdown mode \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1market_abd198eefc75453a31fc994e0f7c18103}{my\+\_\+workers\+\_\+soft\+\_\+limit\+\_\+to\+\_\+report}}
\begin{DoxyCompactList}\small\item\em Either workers soft limit to be reported via \doxylink{test__concurrent__hash__map_8cpp_a7de19b53af11a9175c96b42320b1d082}{runtime\+\_\+warning()} or skip\+\_\+soft\+\_\+limit\+\_\+warning \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Private 属性}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a1dbc378b5e39901f1c11f2021b35688c}{the\+Market}}
\begin{DoxyCompactList}\small\item\em Currently active global market \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classtbb_1_1internal_1_1market_aee2d565dc5bbbdcdb12899b46ea04ba3}{global\+\_\+market\+\_\+mutex\+\_\+type}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_ae4ba85f7230a2668979009bf3b29df39}{the\+Market\+Mutex}}
\begin{DoxyCompactList}\small\item\em Mutex guarding creation/destruction of the\+Market, insertions/deletions in my\+\_\+arenas, and cancellation propagation \end{DoxyCompactList}\item 
static const unsigned \mbox{\hyperlink{classtbb_1_1internal_1_1market_a4a7383505d411e8ecbd3b9fd6b90170e}{skip\+\_\+soft\+\_\+limit\+\_\+warning}} = \texorpdfstring{$\sim$}{\string~}0U
\begin{DoxyCompactList}\small\item\em The value indicating that the soft limit warning is unnecessary \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{友元}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classtbb_1_1internal_1_1market_a9acd4f7b134e3bcd5625ce386ec7db60}{generic\+\_\+scheduler}}
\item 
class \mbox{\hyperlink{classtbb_1_1internal_1_1market_adc288c92e3de5dd87e56ab61885cf63e}{arena}}
\item 
class \mbox{\hyperlink{classtbb_1_1internal_1_1market_a7d37d41d9825169ba9ab5cb866843d7d}{tbb\+::interface7\+::internal\+::task\+\_\+arena\+\_\+base}}
\item 
{\footnotesize template$<$typename Scheduler\+Traits$>$ }\\class \mbox{\hyperlink{classtbb_1_1internal_1_1market_a276a67d14225fdfbb225cc85299850e3}{custom\+\_\+scheduler}}
\item 
class \mbox{\hyperlink{classtbb_1_1internal_1_1market_ab99d537be159caba2e6a72eafc6cbdf4}{tbb\+::task\+\_\+group\+\_\+context}}
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a83e47342e44b72ff9c1ce08f75a7dbc2}{ITT\+\_\+\+Do\+Unsafe\+One\+Time\+Initialization}} ()
\end{DoxyCompactItemize}


\doxysubsection{成员类型定义说明}
\Hypertarget{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}\index{tbb::internal::market@{tbb::internal::market}!arena\_list\_type@{arena\_list\_type}}
\index{arena\_list\_type@{arena\_list\_type}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{arena\_list\_type}{arena\_list\_type}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e} 
typedef \mbox{\hyperlink{classtbb_1_1internal_1_1intrusive__list}{intrusive\+\_\+list}}$<$\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}}$>$ \mbox{\hyperlink{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}{tbb\+::internal\+::market\+::arena\+\_\+list\+\_\+type}}\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtbb_1_1internal_1_1market_a9d9b7abc87576a28a1278ede919c2fe5}\index{tbb::internal::market@{tbb::internal::market}!arenas\_list\_mutex\_type@{arenas\_list\_mutex\_type}}
\index{arenas\_list\_mutex\_type@{arenas\_list\_mutex\_type}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{arenas\_list\_mutex\_type}{arenas\_list\_mutex\_type}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a9d9b7abc87576a28a1278ede919c2fe5} 
typedef \mbox{\hyperlink{classtbb_1_1spin__rw__mutex}{spin\+\_\+rw\+\_\+mutex}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_a9d9b7abc87576a28a1278ede919c2fe5}{tbb\+::internal\+::market\+::arenas\+\_\+list\+\_\+mutex\+\_\+type}}\hspace{0.3cm}{\ttfamily [private]}}



Lightweight mutex guarding accounting operations with arenas list 

\Hypertarget{classtbb_1_1internal_1_1market_aee2d565dc5bbbdcdb12899b46ea04ba3}\index{tbb::internal::market@{tbb::internal::market}!global\_market\_mutex\_type@{global\_market\_mutex\_type}}
\index{global\_market\_mutex\_type@{global\_market\_mutex\_type}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{global\_market\_mutex\_type}{global\_market\_mutex\_type}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_aee2d565dc5bbbdcdb12899b46ea04ba3} 
typedef \mbox{\hyperlink{namespacetbb_1_1internal_a7129c5cff1bad05eaf6c218a04f70456}{scheduler\+\_\+mutex\+\_\+type}} \mbox{\hyperlink{classtbb_1_1internal_1_1market_aee2d565dc5bbbdcdb12899b46ea04ba3}{tbb\+::internal\+::market\+::global\+\_\+market\+\_\+mutex\+\_\+type}}\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtbb_1_1internal_1_1market_aad8860400f36b96f1410c3b76f6ab87b}\index{tbb::internal::market@{tbb::internal::market}!scheduler\_list\_type@{scheduler\_list\_type}}
\index{scheduler\_list\_type@{scheduler\_list\_type}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{scheduler\_list\_type}{scheduler\_list\_type}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_aad8860400f36b96f1410c3b76f6ab87b} 
typedef \mbox{\hyperlink{classtbb_1_1internal_1_1intrusive__list}{intrusive\+\_\+list}}$<$\mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}}$>$ \mbox{\hyperlink{classtbb_1_1internal_1_1market_aad8860400f36b96f1410c3b76f6ab87b}{tbb\+::internal\+::market\+::scheduler\+\_\+list\+\_\+type}}\hspace{0.3cm}{\ttfamily [private]}}



\doxysubsection{构造及析构函数说明}
\Hypertarget{classtbb_1_1internal_1_1market_acdbf87ad0efe5f3e224d88ecb2536e93}\index{tbb::internal::market@{tbb::internal::market}!market@{market}}
\index{market@{market}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{market()}{market()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_acdbf87ad0efe5f3e224d88ecb2536e93} 
tbb\+::internal\+::market\+::market (\begin{DoxyParamCaption}\item[{unsigned}]{workers\+\_\+soft\+\_\+limit}{, }\item[{unsigned}]{workers\+\_\+hard\+\_\+limit}{, }\item[{size\+\_\+t}]{stack\+\_\+size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Constructor 

函数调用图\+:
% FIG 2


\doxysubsection{成员函数说明}
\Hypertarget{classtbb_1_1internal_1_1market_abc37f18193cd93d6b5c54acef4feec17}\index{tbb::internal::market@{tbb::internal::market}!acknowledge\_close\_connection@{acknowledge\_close\_connection}}
\index{acknowledge\_close\_connection@{acknowledge\_close\_connection}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{acknowledge\_close\_connection()}{acknowledge\_close\_connection()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_abc37f18193cd93d6b5c54acef4feec17} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::acknowledge\+\_\+close\+\_\+connection (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
% FIG 3
\Hypertarget{classtbb_1_1internal_1_1market_a2147b4639190ad49551f617784dc012b}\index{tbb::internal::market@{tbb::internal::market}!adjust\_demand@{adjust\_demand}}
\index{adjust\_demand@{adjust\_demand}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{adjust\_demand()}{adjust\_demand()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a2147b4639190ad49551f617784dc012b} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::adjust\+\_\+demand (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \&}]{a}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{delta}{}\end{DoxyParamCaption})}



Request that arena\textquotesingle{}s need in workers should be adjusted. 

Concurrent invocations are possible only on behalf of different arenas. 函数调用图\+:
% FIG 4
\Hypertarget{classtbb_1_1internal_1_1market_a857327e374da8c7bb5c4b529aca05405}\index{tbb::internal::market@{tbb::internal::market}!app\_parallelism\_limit@{app\_parallelism\_limit}}
\index{app\_parallelism\_limit@{app\_parallelism\_limit}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{app\_parallelism\_limit()}{app\_parallelism\_limit()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a857327e374da8c7bb5c4b529aca05405} 
unsigned tbb\+::internal\+::market\+::app\+\_\+parallelism\+\_\+limit (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Reports active parallelism level according to user\textquotesingle{}s settings 

\Hypertarget{classtbb_1_1internal_1_1market_adb6429452a5a46fc578cef54e692fcb6}\index{tbb::internal::market@{tbb::internal::market}!arena\_in\_need@{arena\_in\_need}}
\index{arena\_in\_need@{arena\_in\_need}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{arena\_in\_need()}{arena\_in\_need()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_adb6429452a5a46fc578cef54e692fcb6} 
\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*} tbb\+::internal\+::market\+::arena\+\_\+in\+\_\+need (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}}]{prev\+\_\+arena}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Returns next arena that needs more workers, or NULL. 

函数调用图\+:
% FIG 5
\Hypertarget{classtbb_1_1internal_1_1market_a33a380c63e14f82741cdad9f1b6e48f4}\index{tbb::internal::market@{tbb::internal::market}!arena\_in\_need@{arena\_in\_need}}
\index{arena\_in\_need@{arena\_in\_need}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{arena\_in\_need()}{arena\_in\_need()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a33a380c63e14f82741cdad9f1b6e48f4} 
\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*} tbb\+::internal\+::market\+::arena\+\_\+in\+\_\+need (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}{arena\+\_\+list\+\_\+type}} \&}]{arenas}{, }\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}}]{hint}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

This method must be invoked under my\+\_\+arenas\+\_\+list\+\_\+mutex. 函数调用图\+:
% FIG 6
\Hypertarget{classtbb_1_1internal_1_1market_abac77eac68e7a47e3edde883ff7a59ab}\index{tbb::internal::market@{tbb::internal::market}!assert\_market\_valid@{assert\_market\_valid}}
\index{assert\_market\_valid@{assert\_market\_valid}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{assert\_market\_valid()}{assert\_market\_valid()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_abac77eac68e7a47e3edde883ff7a59ab} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::assert\+\_\+market\+\_\+valid (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

\Hypertarget{classtbb_1_1internal_1_1market_a32eca56b49c13d239a2869c33c4a17b0}\index{tbb::internal::market@{tbb::internal::market}!cleanup@{cleanup}}
\index{cleanup@{cleanup}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{cleanup()}{cleanup()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a32eca56b49c13d239a2869c33c4a17b0} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::cleanup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrml_1_1client_a684e4fee23d24f9d9d150eb38f2d254f}{job}} \&}]{j}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
% FIG 7
\Hypertarget{classtbb_1_1internal_1_1market_aa73a40282b782676f30f27dcde0ea967}\index{tbb::internal::market@{tbb::internal::market}!create\_arena@{create\_arena}}
\index{create\_arena@{create\_arena}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{create\_arena()}{create\_arena()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_aa73a40282b782676f30f27dcde0ea967} 
\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*} tbb\+::internal\+::market\+::create\+\_\+arena (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{num\+\_\+slots}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{num\+\_\+reserved\+\_\+slots}{, }\item[{size\+\_\+t}]{stack\+\_\+size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Creates an arena object 

If necessary, also creates global market instance, and boosts its ref count. Each call to \doxylink{classtbb_1_1internal_1_1market_aa73a40282b782676f30f27dcde0ea967}{create\+\_\+arena()} must be matched by the call to \doxylink{classtbb_1_1internal_1_1arena_a3de7953b535cd3180e421ddb49eb5a50}{arena\+::free\+\_\+arena()}. 函数调用图\+:
% FIG 8
\Hypertarget{classtbb_1_1internal_1_1market_ae5f4653c1ea43b7011f9099348849467}\index{tbb::internal::market@{tbb::internal::market}!create\_one\_job@{create\_one\_job}}
\index{create\_one\_job@{create\_one\_job}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{create\_one\_job()}{create\_one\_job()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_ae5f4653c1ea43b7011f9099348849467} 
\mbox{\hyperlink{classrml_1_1job}{rml\+::job}} \texorpdfstring{$\ast$}{*} tbb\+::internal\+::market\+::create\+\_\+one\+\_\+job (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
% FIG 9
\Hypertarget{classtbb_1_1internal_1_1market_a5ca285e2d383ecaf3ff0460b30a3551e}\index{tbb::internal::market@{tbb::internal::market}!destroy@{destroy}}
\index{destroy@{destroy}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{destroy()}{destroy()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a5ca285e2d383ecaf3ff0460b30a3551e} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::destroy (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Destroys and deallocates market object created by market\+::create() 

函数调用图\+:
% FIG 10
\Hypertarget{classtbb_1_1internal_1_1market_a5bd937cbff57f636998e1ef4466469e4}\index{tbb::internal::market@{tbb::internal::market}!detach\_arena@{detach\_arena}}
\index{detach\_arena@{detach\_arena}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{detach\_arena()}{detach\_arena()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a5bd937cbff57f636998e1ef4466469e4} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::detach\+\_\+arena (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \&}]{a}{}\end{DoxyParamCaption})}



Removes the arena from the market\textquotesingle{}s list 

This method must be invoked under my\+\_\+arenas\+\_\+list\+\_\+mutex. 函数调用图\+:
% FIG 11
\Hypertarget{classtbb_1_1internal_1_1market_a08ccaf89d501a9e56912eb5bd624066f}\index{tbb::internal::market@{tbb::internal::market}!global\_market@{global\_market}}
\index{global\_market@{global\_market}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{global\_market()}{global\_market()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a08ccaf89d501a9e56912eb5bd624066f} 
\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \& tbb\+::internal\+::market\+::global\+\_\+market (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+public}{, }\item[{unsigned}]{max\+\_\+num\+\_\+workers}{ = {\ttfamily 0}, }\item[{size\+\_\+t}]{stack\+\_\+size}{ = {\ttfamily 0}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Factory method creating new market object 

函数调用图\+:
% FIG 12
\Hypertarget{classtbb_1_1internal_1_1market_a829b50e27820a2ecb57067b0d8147422}\index{tbb::internal::market@{tbb::internal::market}!insert\_arena\_into\_list@{insert\_arena\_into\_list}}
\index{insert\_arena\_into\_list@{insert\_arena\_into\_list}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{insert\_arena\_into\_list()}{insert\_arena\_into\_list()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a829b50e27820a2ecb57067b0d8147422} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::insert\+\_\+arena\+\_\+into\+\_\+list (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \&}]{a}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
% FIG 13
\Hypertarget{classtbb_1_1internal_1_1market_ab5309747cd8e8e7e094b4417a8a28b76}\index{tbb::internal::market@{tbb::internal::market}!is\_arena\_in\_list@{is\_arena\_in\_list}}
\index{is\_arena\_in\_list@{is\_arena\_in\_list}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{is\_arena\_in\_list()}{is\_arena\_in\_list()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_ab5309747cd8e8e7e094b4417a8a28b76} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::market\+::is\+\_\+arena\+\_\+in\+\_\+list (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}{arena\+\_\+list\+\_\+type}} \&}]{arenas}{, }\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}}]{a}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

This method must be invoked under my\+\_\+arenas\+\_\+list\+\_\+mutex. 函数调用图\+:
% FIG 14
\Hypertarget{classtbb_1_1internal_1_1market_a18da7f9007ba8be2f186764d69fd4606}\index{tbb::internal::market@{tbb::internal::market}!max\_job\_count@{max\_job\_count}}
\index{max\_job\_count@{max\_job\_count}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{max\_job\_count()}{max\_job\_count()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a18da7f9007ba8be2f186764d69fd4606} 
unsigned tbb\+::internal\+::market\+::max\+\_\+job\+\_\+count (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

\Hypertarget{classtbb_1_1internal_1_1market_a42a517ad93d2a752f9e20eab9db10279}\index{tbb::internal::market@{tbb::internal::market}!max\_num\_workers@{max\_num\_workers}}
\index{max\_num\_workers@{max\_num\_workers}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{max\_num\_workers()}{max\_num\_workers()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a42a517ad93d2a752f9e20eab9db10279} 
static unsigned tbb\+::internal\+::market\+::max\+\_\+num\+\_\+workers (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

\Hypertarget{classtbb_1_1internal_1_1market_a8278ffd03b0e1194cf44bec3163b764d}\index{tbb::internal::market@{tbb::internal::market}!min\_stack\_size@{min\_stack\_size}}
\index{min\_stack\_size@{min\_stack\_size}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{min\_stack\_size()}{min\_stack\_size()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a8278ffd03b0e1194cf44bec3163b764d} 
size\+\_\+t tbb\+::internal\+::market\+::min\+\_\+stack\+\_\+size (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

函数调用图\+:
% FIG 15
\Hypertarget{classtbb_1_1internal_1_1market_a599c306133a3132143bd0bb2ec82f757}\index{tbb::internal::market@{tbb::internal::market}!must\_join\_workers@{must\_join\_workers}}
\index{must\_join\_workers@{must\_join\_workers}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{must\_join\_workers()}{must\_join\_workers()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a599c306133a3132143bd0bb2ec82f757} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::market\+::must\+\_\+join\+\_\+workers (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Used when RML asks for join mode during workers termination. 

\Hypertarget{classtbb_1_1internal_1_1market_ac34ffcef09382c724dc962361d6fd2b1}\index{tbb::internal::market@{tbb::internal::market}!policy@{policy}}
\index{policy@{policy}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{policy()}{policy()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_ac34ffcef09382c724dc962361d6fd2b1} 
policy\+\_\+type tbb\+::internal\+::market\+::policy (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

\Hypertarget{classtbb_1_1internal_1_1market_a574c6275a73f185d391151478e4a7634}\index{tbb::internal::market@{tbb::internal::market}!process@{process}}
\index{process@{process}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{process()}{process()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a574c6275a73f185d391151478e4a7634} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrml_1_1client_a684e4fee23d24f9d9d150eb38f2d254f}{job}} \&}]{j}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
% FIG 16
\Hypertarget{classtbb_1_1internal_1_1market_a76b1783a39252c34da34d0cebfe101b5}\index{tbb::internal::market@{tbb::internal::market}!release@{release}}
\index{release@{release}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{release()}{release()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a76b1783a39252c34da34d0cebfe101b5} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::market\+::release (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+public}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{blocking\+\_\+terminate}{}\end{DoxyParamCaption})}



Decrements market\textquotesingle{}s refcount and destroys it in the end 

\Hypertarget{classtbb_1_1internal_1_1market_a9f3b90e1f82aff92b8493b78a909d434}\index{tbb::internal::market@{tbb::internal::market}!remove\_arena\_from\_list@{remove\_arena\_from\_list}}
\index{remove\_arena\_from\_list@{remove\_arena\_from\_list}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{remove\_arena\_from\_list()}{remove\_arena\_from\_list()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a9f3b90e1f82aff92b8493b78a909d434} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::remove\+\_\+arena\+\_\+from\+\_\+list (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \&}]{a}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
% FIG 17
\Hypertarget{classtbb_1_1internal_1_1market_a50bb92619e74a81b3f8552ccca139c9f}\index{tbb::internal::market@{tbb::internal::market}!set\_active\_num\_workers@{set\_active\_num\_workers}}
\index{set\_active\_num\_workers@{set\_active\_num\_workers}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{set\_active\_num\_workers()}{set\_active\_num\_workers()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a50bb92619e74a81b3f8552ccca139c9f} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::set\+\_\+active\+\_\+num\+\_\+workers (\begin{DoxyParamCaption}\item[{unsigned}]{w}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Set number of active workers 

函数调用图\+:
% FIG 18
\Hypertarget{classtbb_1_1internal_1_1market_a798355f9d896223c97ac403c879987be}\index{tbb::internal::market@{tbb::internal::market}!try\_destroy\_arena@{try\_destroy\_arena}}
\index{try\_destroy\_arena@{try\_destroy\_arena}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{try\_destroy\_arena()}{try\_destroy\_arena()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a798355f9d896223c97ac403c879987be} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::try\+\_\+destroy\+\_\+arena (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}} \texorpdfstring{$\ast$}{*}}]{a}{, }\item[{uintptr\+\_\+t}]{aba\+\_\+epoch}{}\end{DoxyParamCaption})}



Removes the arena from the market\textquotesingle{}s list 

函数调用图\+:
% FIG 19
\Hypertarget{classtbb_1_1internal_1_1market_a0cd4847435aac18429808f92238664f4}\index{tbb::internal::market@{tbb::internal::market}!update\_allotment@{update\_allotment}}
\index{update\_allotment@{update\_allotment}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{update\_allotment()}{update\_allotment()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a0cd4847435aac18429808f92238664f4} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} tbb\+::internal\+::market\+::update\+\_\+allotment (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}{arena\+\_\+list\+\_\+type}} \&}]{arenas}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{total\+\_\+demand}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{max\+\_\+workers}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
% FIG 20
\Hypertarget{classtbb_1_1internal_1_1market_ae02e2394f18a6c25a022fa44be65d317}\index{tbb::internal::market@{tbb::internal::market}!update\_allotment@{update\_allotment}}
\index{update\_allotment@{update\_allotment}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{update\_allotment()}{update\_allotment()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_ae02e2394f18a6c25a022fa44be65d317} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tbb\+::internal\+::market\+::update\+\_\+allotment (\begin{DoxyParamCaption}\item[{unsigned}]{effective\+\_\+soft\+\_\+limit}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Recalculates the number of workers assigned to each arena in the list. 

The actual number of workers servicing a particular arena may temporarily deviate from the calculated value. 函数调用图\+:
% FIG 21
\Hypertarget{classtbb_1_1internal_1_1market_a61e46dcffd92e6d8bae0337f258112fa}\index{tbb::internal::market@{tbb::internal::market}!update\_workers\_request@{update\_workers\_request}}
\index{update\_workers\_request@{update\_workers\_request}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{update\_workers\_request()}{update\_workers\_request()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a61e46dcffd92e6d8bae0337f258112fa} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} tbb\+::internal\+::market\+::update\+\_\+workers\+\_\+request (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Recalculates the number of workers requested from RML and updates the allotment. 

函数调用图\+:
% FIG 22
\Hypertarget{classtbb_1_1internal_1_1market_a40f5211ac34a8dc73339ce48837a52b1}\index{tbb::internal::market@{tbb::internal::market}!version@{version}}
\index{version@{version}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{version()}{version()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a40f5211ac34a8dc73339ce48837a52b1} 
\mbox{\hyperlink{classrml_1_1versioned__object_a759650010b271238ef9433442730c423}{version\+\_\+type}} tbb\+::internal\+::market\+::version (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

\Hypertarget{classtbb_1_1internal_1_1market_accfaa36b2c0dc66a2d73943db458a373}\index{tbb::internal::market@{tbb::internal::market}!worker\_stack\_size@{worker\_stack\_size}}
\index{worker\_stack\_size@{worker\_stack\_size}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{worker\_stack\_size()}{worker\_stack\_size()}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_accfaa36b2c0dc66a2d73943db458a373} 
size\+\_\+t tbb\+::internal\+::market\+::worker\+\_\+stack\+\_\+size (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the requested stack size of worker threads. 



\doxysubsection{友元及相关符号说明}
\Hypertarget{classtbb_1_1internal_1_1market_adc288c92e3de5dd87e56ab61885cf63e}\index{tbb::internal::market@{tbb::internal::market}!arena@{arena}}
\index{arena@{arena}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{arena}{arena}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_adc288c92e3de5dd87e56ab61885cf63e} 
friend class \mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}}\hspace{0.3cm}{\ttfamily [friend]}}

\Hypertarget{classtbb_1_1internal_1_1market_a276a67d14225fdfbb225cc85299850e3}\index{tbb::internal::market@{tbb::internal::market}!custom\_scheduler@{custom\_scheduler}}
\index{custom\_scheduler@{custom\_scheduler}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{custom\_scheduler}{custom\_scheduler}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a276a67d14225fdfbb225cc85299850e3} 
template$<$typename Scheduler\+Traits$>$ \\
friend class \mbox{\hyperlink{classtbb_1_1internal_1_1custom__scheduler}{custom\+\_\+scheduler}}\hspace{0.3cm}{\ttfamily [friend]}}

\Hypertarget{classtbb_1_1internal_1_1market_a9acd4f7b134e3bcd5625ce386ec7db60}\index{tbb::internal::market@{tbb::internal::market}!generic\_scheduler@{generic\_scheduler}}
\index{generic\_scheduler@{generic\_scheduler}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{generic\_scheduler}{generic\_scheduler}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a9acd4f7b134e3bcd5625ce386ec7db60} 
friend class \mbox{\hyperlink{classtbb_1_1internal_1_1generic__scheduler}{generic\+\_\+scheduler}}\hspace{0.3cm}{\ttfamily [friend]}}

\Hypertarget{classtbb_1_1internal_1_1market_a83e47342e44b72ff9c1ce08f75a7dbc2}\index{tbb::internal::market@{tbb::internal::market}!ITT\_DoUnsafeOneTimeInitialization@{ITT\_DoUnsafeOneTimeInitialization}}
\index{ITT\_DoUnsafeOneTimeInitialization@{ITT\_DoUnsafeOneTimeInitialization}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{ITT\_DoUnsafeOneTimeInitialization}{ITT\_DoUnsafeOneTimeInitialization}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a83e47342e44b72ff9c1ce08f75a7dbc2} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} ITT\+\_\+\+Do\+Unsafe\+One\+Time\+Initialization (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}

\Hypertarget{classtbb_1_1internal_1_1market_a7d37d41d9825169ba9ab5cb866843d7d}\index{tbb::internal::market@{tbb::internal::market}!tbb::interface7::internal::task\_arena\_base@{tbb::interface7::internal::task\_arena\_base}}
\index{tbb::interface7::internal::task\_arena\_base@{tbb::interface7::internal::task\_arena\_base}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{tbb::interface7::internal::task\_arena\_base}{tbb::interface7::internal::task\_arena\_base}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a7d37d41d9825169ba9ab5cb866843d7d} 
friend class tbb\+::interface7\+::internal\+::task\+\_\+arena\+\_\+base\hspace{0.3cm}{\ttfamily [friend]}}

\Hypertarget{classtbb_1_1internal_1_1market_ab99d537be159caba2e6a72eafc6cbdf4}\index{tbb::internal::market@{tbb::internal::market}!tbb::task\_group\_context@{tbb::task\_group\_context}}
\index{tbb::task\_group\_context@{tbb::task\_group\_context}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{tbb::task\_group\_context}{tbb::task\_group\_context}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_ab99d537be159caba2e6a72eafc6cbdf4} 
friend class tbb\+::task\+\_\+group\+\_\+context\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{类成员变量说明}
\Hypertarget{classtbb_1_1internal_1_1market_aab9e3f5ceeb9189ea960798fa472db7f}\index{tbb::internal::market@{tbb::internal::market}!my\_arenas@{my\_arenas}}
\index{my\_arenas@{my\_arenas}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_arenas}{my\_arenas}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_aab9e3f5ceeb9189ea960798fa472db7f} 
\mbox{\hyperlink{classtbb_1_1internal_1_1market_a1e16d59c635a7c825700c682f0d6392e}{arena\+\_\+list\+\_\+type}} tbb\+::internal\+::market\+::my\+\_\+arenas\hspace{0.3cm}{\ttfamily [private]}}



\doxylink{class_list}{List} of registered arenas 

\Hypertarget{classtbb_1_1internal_1_1market_a063b80350da6758a2f8a610a2363aff6}\index{tbb::internal::market@{tbb::internal::market}!my\_arenas\_aba\_epoch@{my\_arenas\_aba\_epoch}}
\index{my\_arenas\_aba\_epoch@{my\_arenas\_aba\_epoch}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_arenas\_aba\_epoch}{my\_arenas\_aba\_epoch}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a063b80350da6758a2f8a610a2363aff6} 
uintptr\+\_\+t tbb\+::internal\+::market\+::my\+\_\+arenas\+\_\+aba\+\_\+epoch\hspace{0.3cm}{\ttfamily [private]}}



ABA prevention marker to assign to newly created arenas 

\Hypertarget{classtbb_1_1internal_1_1market_a939c230060372e2af4025aade0f91a6e}\index{tbb::internal::market@{tbb::internal::market}!my\_arenas\_list\_mutex@{my\_arenas\_list\_mutex}}
\index{my\_arenas\_list\_mutex@{my\_arenas\_list\_mutex}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_arenas\_list\_mutex}{my\_arenas\_list\_mutex}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a939c230060372e2af4025aade0f91a6e} 
\mbox{\hyperlink{classtbb_1_1internal_1_1market_a9d9b7abc87576a28a1278ede919c2fe5}{arenas\+\_\+list\+\_\+mutex\+\_\+type}} tbb\+::internal\+::market\+::my\+\_\+arenas\+\_\+list\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtbb_1_1internal_1_1market_a2fcee169e3b3be1cbb9b89b9a6c1942c}\index{tbb::internal::market@{tbb::internal::market}!my\_first\_unused\_worker\_idx@{my\_first\_unused\_worker\_idx}}
\index{my\_first\_unused\_worker\_idx@{my\_first\_unused\_worker\_idx}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_first\_unused\_worker\_idx}{my\_first\_unused\_worker\_idx}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a2fcee169e3b3be1cbb9b89b9a6c1942c} 
\mbox{\hyperlink{sugar_8h_a48f1c51623545bd4f58fbab2fa6091d0}{atomic}}$<$unsigned$>$ tbb\+::internal\+::market\+::my\+\_\+first\+\_\+unused\+\_\+worker\+\_\+idx\hspace{0.3cm}{\ttfamily [private]}}



First unused index of worker 

Used to assign indices to the new workers coming from RML, and busy part of my\+\_\+workers array. \Hypertarget{classtbb_1_1internal_1_1market_a2fe7f13bbfeb7da913dae45a996eecb7}\index{tbb::internal::market@{tbb::internal::market}!my\_join\_workers@{my\_join\_workers}}
\index{my\_join\_workers@{my\_join\_workers}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_join\_workers}{my\_join\_workers}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a2fe7f13bbfeb7da913dae45a996eecb7} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tbb\+::internal\+::market\+::my\+\_\+join\+\_\+workers\hspace{0.3cm}{\ttfamily [private]}}



Shutdown mode 

\Hypertarget{classtbb_1_1internal_1_1market_afe6b17aefb399a82440951f14f70884b}\index{tbb::internal::market@{tbb::internal::market}!my\_next\_arena@{my\_next\_arena}}
\index{my\_next\_arena@{my\_next\_arena}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_next\_arena}{my\_next\_arena}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_afe6b17aefb399a82440951f14f70884b} 
\mbox{\hyperlink{classtbb_1_1internal_1_1arena}{arena}}\texorpdfstring{$\ast$}{*} tbb\+::internal\+::market\+::my\+\_\+next\+\_\+arena\hspace{0.3cm}{\ttfamily [private]}}



The first arena to be checked when idle worker seeks for an arena to enter 

The check happens in round-\/robin fashion. \Hypertarget{classtbb_1_1internal_1_1market_a0e2353e9048c25db08e639869694a0a5}\index{tbb::internal::market@{tbb::internal::market}!my\_num\_workers\_hard\_limit@{my\_num\_workers\_hard\_limit}}
\index{my\_num\_workers\_hard\_limit@{my\_num\_workers\_hard\_limit}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_num\_workers\_hard\_limit}{my\_num\_workers\_hard\_limit}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a0e2353e9048c25db08e639869694a0a5} 
unsigned tbb\+::internal\+::market\+::my\+\_\+num\+\_\+workers\+\_\+hard\+\_\+limit\hspace{0.3cm}{\ttfamily [private]}}



Maximal number of workers allowed for use by the underlying resource manager 

It can\textquotesingle{}t be changed after market creation. \Hypertarget{classtbb_1_1internal_1_1market_a91c485f06e84cd7c8f357ac2653c0425}\index{tbb::internal::market@{tbb::internal::market}!my\_num\_workers\_requested@{my\_num\_workers\_requested}}
\index{my\_num\_workers\_requested@{my\_num\_workers\_requested}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_num\_workers\_requested}{my\_num\_workers\_requested}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a91c485f06e84cd7c8f357ac2653c0425} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} tbb\+::internal\+::market\+::my\+\_\+num\+\_\+workers\+\_\+requested\hspace{0.3cm}{\ttfamily [private]}}



\doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of workers currently requested from RML 

\Hypertarget{classtbb_1_1internal_1_1market_ae6f56dc7b83aaa5e44a52d5aa1685193}\index{tbb::internal::market@{tbb::internal::market}!my\_num\_workers\_soft\_limit@{my\_num\_workers\_soft\_limit}}
\index{my\_num\_workers\_soft\_limit@{my\_num\_workers\_soft\_limit}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_num\_workers\_soft\_limit}{my\_num\_workers\_soft\_limit}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_ae6f56dc7b83aaa5e44a52d5aa1685193} 
unsigned tbb\+::internal\+::market\+::my\+\_\+num\+\_\+workers\+\_\+soft\+\_\+limit\hspace{0.3cm}{\ttfamily [private]}}



Current application-\/imposed limit on the number of workers (see \doxylink{classtbb_1_1internal_1_1market_a50bb92619e74a81b3f8552ccca139c9f}{set\+\_\+active\+\_\+num\+\_\+workers()}) 

It can\textquotesingle{}t be more than my\+\_\+num\+\_\+workers\+\_\+hard\+\_\+limit. \Hypertarget{classtbb_1_1internal_1_1market_a3ec107af897da09a5d400c63f0c8d866}\index{tbb::internal::market@{tbb::internal::market}!my\_public\_ref\_count@{my\_public\_ref\_count}}
\index{my\_public\_ref\_count@{my\_public\_ref\_count}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_public\_ref\_count}{my\_public\_ref\_count}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a3ec107af897da09a5d400c63f0c8d866} 
unsigned tbb\+::internal\+::market\+::my\+\_\+public\+\_\+ref\+\_\+count\hspace{0.3cm}{\ttfamily [private]}}



Count of master threads attached 

\Hypertarget{classtbb_1_1internal_1_1market_acc6123ee9f177debfe705b53e509220e}\index{tbb::internal::market@{tbb::internal::market}!my\_ref\_count@{my\_ref\_count}}
\index{my\_ref\_count@{my\_ref\_count}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_ref\_count}{my\_ref\_count}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_acc6123ee9f177debfe705b53e509220e} 
unsigned tbb\+::internal\+::market\+::my\+\_\+ref\+\_\+count\hspace{0.3cm}{\ttfamily [private]}}



Reference count controlling market object lifetime 

\Hypertarget{classtbb_1_1internal_1_1market_af7429d97c388e8adcbf37fcdbf64c075}\index{tbb::internal::market@{tbb::internal::market}!my\_server@{my\_server}}
\index{my\_server@{my\_server}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_server}{my\_server}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_af7429d97c388e8adcbf37fcdbf64c075} 
\mbox{\hyperlink{classtbb_1_1internal_1_1rml_1_1tbb__server}{rml\+::tbb\+\_\+server}}\texorpdfstring{$\ast$}{*} tbb\+::internal\+::market\+::my\+\_\+server\hspace{0.3cm}{\ttfamily [private]}}



Pointer to the RML server object that services this \doxylink{struct_t_b_b}{TBB} instance. 

\Hypertarget{classtbb_1_1internal_1_1market_ad2e4a6ecf43c20e6171b0de586912957}\index{tbb::internal::market@{tbb::internal::market}!my\_stack\_size@{my\_stack\_size}}
\index{my\_stack\_size@{my\_stack\_size}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_stack\_size}{my\_stack\_size}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_ad2e4a6ecf43c20e6171b0de586912957} 
size\+\_\+t tbb\+::internal\+::market\+::my\+\_\+stack\+\_\+size\hspace{0.3cm}{\ttfamily [private]}}



Stack size of worker threads 

\Hypertarget{classtbb_1_1internal_1_1market_ac358959b1d07ef2051827926643bfd26}\index{tbb::internal::market@{tbb::internal::market}!my\_total\_demand@{my\_total\_demand}}
\index{my\_total\_demand@{my\_total\_demand}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_total\_demand}{my\_total\_demand}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_ac358959b1d07ef2051827926643bfd26} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} tbb\+::internal\+::market\+::my\+\_\+total\+\_\+demand\hspace{0.3cm}{\ttfamily [private]}}



\doxylink{test__concurrent__vector__v2_8cpp_a36bc74cc1ee36b525959509e2a81c81e}{Number} of workers that were requested by all arenas 

\Hypertarget{classtbb_1_1internal_1_1market_abd198eefc75453a31fc994e0f7c18103}\index{tbb::internal::market@{tbb::internal::market}!my\_workers\_soft\_limit\_to\_report@{my\_workers\_soft\_limit\_to\_report}}
\index{my\_workers\_soft\_limit\_to\_report@{my\_workers\_soft\_limit\_to\_report}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{my\_workers\_soft\_limit\_to\_report}{my\_workers\_soft\_limit\_to\_report}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_abd198eefc75453a31fc994e0f7c18103} 
unsigned tbb\+::internal\+::market\+::my\+\_\+workers\+\_\+soft\+\_\+limit\+\_\+to\+\_\+report\hspace{0.3cm}{\ttfamily [private]}}



Either workers soft limit to be reported via \doxylink{test__concurrent__hash__map_8cpp_a7de19b53af11a9175c96b42320b1d082}{runtime\+\_\+warning()} or skip\+\_\+soft\+\_\+limit\+\_\+warning 

\Hypertarget{classtbb_1_1internal_1_1market_a4a7383505d411e8ecbd3b9fd6b90170e}\index{tbb::internal::market@{tbb::internal::market}!skip\_soft\_limit\_warning@{skip\_soft\_limit\_warning}}
\index{skip\_soft\_limit\_warning@{skip\_soft\_limit\_warning}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{skip\_soft\_limit\_warning}{skip\_soft\_limit\_warning}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a4a7383505d411e8ecbd3b9fd6b90170e} 
const unsigned tbb\+::internal\+::market\+::skip\+\_\+soft\+\_\+limit\+\_\+warning = \texorpdfstring{$\sim$}{\string~}0U\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



The value indicating that the soft limit warning is unnecessary 

\Hypertarget{classtbb_1_1internal_1_1market_a1dbc378b5e39901f1c11f2021b35688c}\index{tbb::internal::market@{tbb::internal::market}!theMarket@{theMarket}}
\index{theMarket@{theMarket}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{theMarket}{theMarket}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_a1dbc378b5e39901f1c11f2021b35688c} 
\mbox{\hyperlink{classtbb_1_1internal_1_1market}{market}} \texorpdfstring{$\ast$}{*} tbb\+::internal\+::market\+::the\+Market\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Currently active global market 

\Hypertarget{classtbb_1_1internal_1_1market_ae4ba85f7230a2668979009bf3b29df39}\index{tbb::internal::market@{tbb::internal::market}!theMarketMutex@{theMarketMutex}}
\index{theMarketMutex@{theMarketMutex}!tbb::internal::market@{tbb::internal::market}}
\doxysubsubsection{\texorpdfstring{theMarketMutex}{theMarketMutex}}
{\footnotesize\ttfamily \label{classtbb_1_1internal_1_1market_ae4ba85f7230a2668979009bf3b29df39} 
\mbox{\hyperlink{classtbb_1_1internal_1_1market_aee2d565dc5bbbdcdb12899b46ea04ba3}{market\+::global\+\_\+market\+\_\+mutex\+\_\+type}} tbb\+::internal\+::market\+::the\+Market\+Mutex\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Mutex guarding creation/destruction of the\+Market, insertions/deletions in my\+\_\+arenas, and cancellation propagation 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/src/tbb/\mbox{\hyperlink{market_8h}{market.\+h}}\item 
external/taskflow/3rd-\/party/tbb/src/tbb/\mbox{\hyperlink{market_8cpp}{market.\+cpp}}\item 
external/taskflow/3rd-\/party/tbb/src/tbb/\mbox{\hyperlink{tbb__main_8cpp}{tbb\+\_\+main.\+cpp}}\end{DoxyCompactItemize}
