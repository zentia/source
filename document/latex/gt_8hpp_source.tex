\doxysection{gt.\+hpp}
\hypertarget{gt_8hpp_source}{}\label{gt_8hpp_source}\index{external/taskflow/3rd-\/party/ff/gt.hpp@{external/taskflow/3rd-\/party/ff/gt.hpp}}
\mbox{\hyperlink{gt_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/*-\/\ Mode:\ C++;\ tab-\/width:\ 4;\ c-\/basic-\/offset:\ 4;\ indent-\/tabs-\/mode:\ nil\ -\/*-\/\ */}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{comment}{/*\ ***************************************************************************}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ \ FastFlow\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or\ modify\ it}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ \ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public\ License\ version\ 3\ as}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ \ published\ by\ the\ Free\ Software\ Foundation.}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ \ Starting\ from\ version\ 3.0.1\ FastFlow\ is\ dual\ licensed\ under\ the\ GNU\ LGPLv3}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ \ or\ MIT\ License\ (https://github.com/ParaGroup/WindFlow/blob/vers3.x/LICENSE.MIT)}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *\ \ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ \ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ *\ \ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ \ GNU\ Lesser\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ *\ \ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public\ License}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ *\ \ along\ with\ this\ program;\ if\ not,\ write\ to\ the\ Free\ Software}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ *\ \ Foundation,\ Inc.,\ 59\ Temple\ Place\ -\/\ Suite\ 330,\ Boston,\ MA\ 02111-\/1307,\ USA.}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ ****************************************************************************}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#ifndef\ FF\_GT\_HPP}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#define\ FF\_GT\_HPP}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#include\ <iosfwd>}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{svector_8hpp}{ff/svector.hpp}}>}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{utils_8hpp}{ff/utils.hpp}}>}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{node_8hpp}{ff/node.hpp}}>}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceff}{ff}}\ \{}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__gatherer_afda3d12631bd6dfaea8f59816036a559}{ff\_gatherer}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1ff__thread_a077db4cce394f84488da05f72a42a26a}{ff\_thread}}\ \{}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__gatherer_a49105d0bd6775d145575fd6dfa2d8471}{ff\_farm}};}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__gatherer_a3f36c1cb1d96150c90c517c1cae31d7e}{ff\_pipeline}};}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__gatherer_a5c2a2267cef9b123fb010235262f1201}{ff\_minode}};}
\DoxyCodeLine{00073\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{enum}\ \{\mbox{\hyperlink{classff_1_1ff__gatherer_a25a4ed393c99b990514e84ade2bed797af872b9f39e81228100289c7ec9a8e314}{TICKS2WAIT}}=5000\};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a8a0ecd0c5ecc1bfa5941af2d085f2cf1}{init\_input\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \textcolor{comment}{/*feedback*/}=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}}==\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}}\ =\ (\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}*)\mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}));}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}}\ =\ (\mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}*)\mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}));}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}});\ assert(\mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}});}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a06769b1c0f650377fed34ef94ac2a01c}{pthread\_mutex\_init}}(\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ !=\ 0)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a71bdb8a20eb782047e084c27fcf7aa65}{pthread\_cond\_init}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ !=\ 0)\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}},\ \ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}};}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00091\ \ \ \ \ \}}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{comment}{//\ producer}}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a65232131a05fe1c720ef8101b595bccb}{init\_output\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ feedback=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ \&\&}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ (\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>get\_out\_buffer()!=\textcolor{keyword}{nullptr})\ ||\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>isMultiOutput()\ )\ )\ \ \{\ \textcolor{comment}{//\ (*)}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>init\_output\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ feedback);}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}}\ ==\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}}\ =\ (\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}*)\mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}));}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}}\ =\ (\mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}*)\mbox{\hyperlink{mimalloc-override_8h_a99aa8fd9f4831e1b0fa9e1cdcde3e249}{malloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}));}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}});\ assert(\mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}});}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a06769b1c0f650377fed34ef94ac2a01c}{pthread\_mutex\_init}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ !=\ 0)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{pthread__minport__windows_8h_a71bdb8a20eb782047e084c27fcf7aa65}{pthread\_cond\_init}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}},\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ !=\ 0)\ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}},\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}};}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00111\ \ \ \ \ \}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a6c1c26ed5f92b6b8dd1c63be4d5072da}{set\_output\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ canoverwrite=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a9215d73c60e5cbc7270c7bae5370e907}{p\_cons\_m}}\ =\ \mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\ \mbox{\hyperlink{classff_1_1ff__gatherer_a292f16ab521c554561d5caf54a6ed38b}{p\_cons\_c}}\ =\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}};}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ \&\&\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>get\_out\_buffer()!=\textcolor{keyword}{nullptr}))\ \{\ \textcolor{comment}{//\ CHECK:\ asimmetry\ with\ test\ here\ (*)}}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>isMultiInput()\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>isComp())\ \textcolor{keywordflow}{return};\ \ \textcolor{comment}{//\ to\ avoid\ recursive\ calls\ to\ set\_output\_blocking}}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>set\_output\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ canoverwrite);}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00121\ \ \ \ \ \}}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ \&\mbox{\hyperlink{classff_1_1ff__gatherer_a1997484d0003af7ddff6a552c35aebcc}{get\_cons\_c}}()\ \ \{\ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}};\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a971dbb82d68cb6bd1a1fbd29811844bd}{selectworker}}()\ \{\ }
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}\ =\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}+1)\ \%\ \mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}};}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(\mbox{\hyperlink{classff_1_1ff__gatherer_a029f2965fccca690def18d0723812c8a}{offline}}[\mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}]);}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}};}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_aedfc0ec66c03b2826038696b9b3261e3}{notifyeos}}(\textcolor{keywordtype}{int}\ \textcolor{comment}{/*id*/})\ \{\}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a7a18f389c5595b9533e39b6ff6e191c4}{nattempts}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_ad17091090e42947e675012e30b0f9d49}{getnworkers}}();\}}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_aa349bf03731043a08968939cb4bb59ce}{losetime\_out}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=\mbox{\hyperlink{classff_1_1ff__gatherer_a25a4ed393c99b990514e84ade2bed797af872b9f39e81228100289c7ec9a8e314}{TICKS2WAIT}})\ \{\ }
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(lostpushticks+=ticks;++pushwait);}
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\#if\ defined(SPIN\_USE\_PAUSE)}}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ (long)ticks/2000;}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<=\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ PAUSE();}
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a04585e83a60ec0d1664ccfec22c87b8c}{ticks\_wait}}(ticks);}
\DoxyCodeLine{00168\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ SPIN\_USE\_PAUSE\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00169\ \ \ \ \ \}}
\DoxyCodeLine{00170\ \ \ \ \ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a56107faa9c87ba087ba9256c6b65846c}{losetime\_in}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=\mbox{\hyperlink{classff_1_1ff__gatherer_a25a4ed393c99b990514e84ade2bed797af872b9f39e81228100289c7ec9a8e314}{TICKS2WAIT}})\ \{\ }
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(lostpopticks+=ticks;++popwait);}
\DoxyCodeLine{00179\ \textcolor{preprocessor}{\#if\ defined(SPIN\_USE\_PAUSE)}}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ (long)ticks/2000;}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<=\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ PAUSE();}
\DoxyCodeLine{00182\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a04585e83a60ec0d1664ccfec22c87b8c}{ticks\_wait}}(ticks);}
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ SPIN\_USE\_PAUSE\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00185\ \ \ \ \ \}\ \ \ \ }
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1f7955f1c6e048ec38dd1209e5ad2802}{gather\_task}}(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ cnt;}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ cnt=0;}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_a971dbb82d68cb6bd1a1fbd29811844bd}{selectworker}}();}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//assert(offline[nextr]==false);}}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}}[\mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}]-\/>\mbox{\hyperlink{stdlist__overload_8cpp_a120a90058439faee14791b33f94c0693}{get}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \{}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}};}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (++cnt\ ==\ \mbox{\hyperlink{classff_1_1ff__gatherer_a7a18f389c5595b9533e39b6ff6e191c4}{nattempts}}())\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}(1);}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a0f5def8e6ec3b95b9e259a21d37c42da}{blocking\_in}})\ \{}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ tv;}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a5b1f0a8d2b5b3ed69bee02a6b2d3041e}{timedwait\_timeout}}(tv);}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}});}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pthread\_cond\_timedwait(\mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}},\ \mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}},\ \&tv);}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}});}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a56107faa9c87ba087ba9256c6b65846c}{losetime\_in}}();}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}(1);}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00218\ \ \ \ \ \}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cc624c6048c2cabd19e5ff861c4cd4a}{push}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=(\mbox{\hyperlink{classff_1_1ff__gatherer_a25a4ed393c99b990514e84ade2bed797af872b9f39e81228100289c7ec9a8e314}{TICKS2WAIT}}))\ \{}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_ae0166688d2f4464f62d1a69e1ae4d467}{blocking\_out}})\ \{}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ empty=\mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}-\/>empty();}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(!\mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}-\/>push(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ empty\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ tv;}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a5b1f0a8d2b5b3ed69bee02a6b2d3041e}{timedwait\_timeout}}(tv);}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}});}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pthread\_cond\_timedwait(\mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}},\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}},\ \&tv);}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}});\ \ }
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (empty)\ \mbox{\hyperlink{pthread__minport__windows_8h_af3771cd9bcc377935b42c79ab48a3931}{pthread\_cond\_signal}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a292f16ab521c554561d5caf54a6ed38b}{p\_cons\_c}});}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ empty=\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>get\_out\_buffer()-\/>empty();}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(!\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>push(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \{}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ empty=\textcolor{keyword}{false};}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ tv;}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a5b1f0a8d2b5b3ed69bee02a6b2d3041e}{timedwait\_timeout}}(tv);}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}});}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pthread\_cond\_timedwait(\mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}},\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}},\&tv);}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}});\ \ \ \ \ \ }
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (empty)\ \mbox{\hyperlink{pthread__minport__windows_8h_af3771cd9bcc377935b42c79ab48a3931}{pthread\_cond\_signal}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a292f16ab521c554561d5caf54a6ed38b}{p\_cons\_c}});}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ \{}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<retry;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}-\/>push(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_aa349bf03731043a08968939cb4bb59ce}{losetime\_out}}(ticks);}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ }
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<retry;++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>push(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_aa349bf03731043a08968939cb4bb59ce}{losetime\_out}}();}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00263\ \ \ \ \ \}}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a5198431138759f852f0c7e34c1914647}{pop}}(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (!\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}-\/>pop(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}))\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a56107faa9c87ba087ba9256c6b65846c}{losetime\_in}}();}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00279\ \ \ \ \ \}}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__gatherer_acf723aea377aa48ba53cb2718d323658}{pop\_nb}}(\textcolor{keywordtype}{void}\ **\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}-\/>pop(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00291\ \ \ \ \ \}}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a5f051d55313284827d8ca2ba5c9a6e69}{set\_input\_channelid}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \textcolor{keywordtype}{id},\ \textcolor{keywordtype}{bool}\ fromin=\textcolor{keyword}{true})\ \{\ \mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}}\ =\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};\ \mbox{\hyperlink{classff_1_1ff__gatherer_a5c32afb6466f23cc63c79df52039beb3}{frominput}}=fromin;\}}
\DoxyCodeLine{00295\ \ \ \ \ }
\DoxyCodeLine{00296\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a6e58701025e126fef627f0369f7ebff7}{ff\_send\_out\_collector}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry,\ }
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks,\ \textcolor{keywordtype}{void}\ *obj)\ \{}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}})\textcolor{keywordtype}{id};}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ ((\mbox{\hyperlink{classff_1_1ff__gatherer_afda3d12631bd6dfaea8f59816036a559}{ff\_gatherer}}\ *)obj)-\/>push(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ retry,\ ticks);}
\DoxyCodeLine{00301\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ ((\mbox{\hyperlink{classff_1_1ff__gatherer_afda3d12631bd6dfaea8f59816036a559}{ff\_gatherer}}\ *)obj)-\/>callbackOut(obj);}
\DoxyCodeLine{00303\ \textcolor{preprocessor}{\#endif\ \ \ }}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00305\ \ \ \ \ \}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a0ea95193aa0592881dbd5310461ead44}{fromInput}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a5c32afb6466f23cc63c79df52039beb3}{frominput}};\ \}}
\DoxyCodeLine{00308\ \ \ \ \ }
\DoxyCodeLine{00309\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{00310\ \ \ \ \ \textcolor{keywordtype}{void}\ callbackIn(\textcolor{keywordtype}{void}\ \ *\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{\ \mbox{\hyperlink{spine-cocos2dx_8cpp_ae976ff2ddeccb72b53e8f53775044589}{filter}}-\/>callbackIn(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});\ \ \}}
\DoxyCodeLine{00311\ \ \ \ \ \textcolor{keywordtype}{void}\ callbackOut(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \{\ \mbox{\hyperlink{spine-cocos2dx_8cpp_ae976ff2ddeccb72b53e8f53775044589}{filter}}-\/>callbackOut(\mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}});\ \}}
\DoxyCodeLine{00312\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00314\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00321\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_afda3d12631bd6dfaea8f59816036a559}{ff\_gatherer}}(\textcolor{keywordtype}{int}\ max\_num\_workers):}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_ace9f0d7ae4d29777f3c1795d8655da1c}{max\_nworkers}}(max\_num\_workers),\ \mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}}(-\/1),\ \mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}(-\/1),}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_ae6648de9f15b9ed98ee816a1daf83811}{neos}}(0),\mbox{\hyperlink{classff_1_1ff__gatherer_a4abe92901fbb427f2670ea446340bc49}{neosnofreeze}}(0),\mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}}(-\/1),\mbox{\hyperlink{classff_1_1ff__gatherer_a424d39c2e812f813561233a41f368d27}{feedbackid}}(0),}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\ \mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}}(\mbox{\hyperlink{classff_1_1ff__gatherer_ace9f0d7ae4d29777f3c1795d8655da1c}{max\_nworkers}}),\ \mbox{\hyperlink{classff_1_1ff__gatherer_a029f2965fccca690def18d0723812c8a}{offline}}(\mbox{\hyperlink{classff_1_1ff__gatherer_ace9f0d7ae4d29777f3c1795d8655da1c}{max\_nworkers}}),\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a2173aa66643a0f4435a75b2798fe988b}{skip1pop}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}),\mbox{\hyperlink{classff_1_1ff__gatherer_a5c32afb6466f23cc63c79df52039beb3}{frominput}}(\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})\ \{}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a21b873e8dbf6f7b80eec5be4f9fd3a60}{time\_setzero}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a168caf81b913db10c5a82849c500ec5c}{tstart}});\mbox{\hyperlink{namespaceff_a21b873e8dbf6f7b80eec5be4f9fd3a60}{time\_setzero}}(\mbox{\hyperlink{classff_1_1ff__gatherer_aee8998a48f7f31c6a4db4c94fa698293}{tstop}});}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a21b873e8dbf6f7b80eec5be4f9fd3a60}{time\_setzero}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a604946815f877b53630aa2f1bb3ac7b3}{wtstart}});\mbox{\hyperlink{namespaceff_a21b873e8dbf6f7b80eec5be4f9fd3a60}{time\_setzero}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a447dff44e95fcb84f7afe30d3bb59e2a}{wtstop}});}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_af80a23d91ebc50e2e05bfdf7a4ebbb1b}{wttime}}=0;}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a9215d73c60e5cbc7270c7bae5370e907}{p\_cons\_m}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},\ \mbox{\hyperlink{classff_1_1ff__gatherer_a292f16ab521c554561d5caf54a6ed38b}{p\_cons\_c}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a029f2965fccca690def18d0723812c8a}{offline}}.resize(\mbox{\hyperlink{classff_1_1ff__gatherer_ace9f0d7ae4d29777f3c1795d8655da1c}{max\_nworkers}});}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a0f5def8e6ec3b95b9e259a21d37c42da}{blocking\_in}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_ae0166688d2f4464f62d1a69e1ae4d467}{blocking\_out}}\ =\ \mbox{\hyperlink{config_8hpp_a735fc6b958d76afde43c44b7d84115da}{FF\_RUNTIME\_MODE}};}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(taskcnt=0;lostpushticks=0;pushwait=0;lostpopticks=0;popwait=0;ticksmin=(ticks)-\/1;ticksmax=0;tickstot=0);}
\DoxyCodeLine{00336\ \ \ \ \ \}}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_afda3d12631bd6dfaea8f59816036a559}{ff\_gatherer}}\&\ \mbox{\hyperlink{classff_1_1ff__gatherer_a66f57c246dad798f0d3013f12321ff01}{operator=}}(\mbox{\hyperlink{classff_1_1ff__gatherer_afda3d12631bd6dfaea8f59816036a559}{ff\_gatherer}}\&\&\ gtin)\ \{}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_aa517de1054de63c8a5106a3c19af248d}{set\_barrier}}(gtin.get\_barrier());}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}}\ \ \ \ \ \ \ =\ gtin.cons\_m;}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}}\ \ \ \ \ \ \ =\ gtin.cons\_c;}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}}\ \ \ \ \ \ \ =\ gtin.prod\_m;}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}}\ \ \ \ \ \ \ =\ gtin.prod\_c;}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a9215d73c60e5cbc7270c7bae5370e907}{p\_cons\_m}}\ \ \ \ \ \ \ =\ gtin.p\_cons\_m;}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a292f16ab521c554561d5caf54a6ed38b}{p\_cons\_c}}\ \ \ \ \ \ \ =\ gtin.p\_cons\_c;}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}\ \ \ \ \ \ \ \ \ =\ gtin.buffer;}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a0f5def8e6ec3b95b9e259a21d37c42da}{blocking\_in}}\ \ \ \ =\ gtin.blocking\_in;}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_ae0166688d2f4464f62d1a69e1ae4d467}{blocking\_out}}\ \ \ =\ gtin.blocking\_out;}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a2173aa66643a0f4435a75b2798fe988b}{skip1pop}}\ \ \ \ \ \ \ =\ gtin.skip1pop;}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a5c32afb6466f23cc63c79df52039beb3}{frominput}}\ \ \ \ \ \ =\ gtin.frominput;}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ \ \ \ \ \ \ \ \ =\ gtin.filter;}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}}\ \ \ \ \ \ \ \ =\ gtin.workers;}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ gtin.cons\_m\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ gtin.cons\_c\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ gtin.prod\_m\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ gtin.prod\_c\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ gtin.set\_barrier(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00362\ \ \ \ \ \}}
\DoxyCodeLine{00363\ \ \ \ \ }
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a82ff8f71edd4b8a180956c113a56a2ed}{\string~ff\_gatherer}}()\ \{}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}})\ \{}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a733a87c6f8ed4dc0b76662dac0ea4a9a}{pthread\_mutex\_destroy}}(\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}});}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}});}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}})\ \{}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_aa195608723fa0adb8478449f3f21e122}{pthread\_cond\_destroy}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}});}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}});}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}})\ \{}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a733a87c6f8ed4dc0b76662dac0ea4a9a}{pthread\_mutex\_destroy}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}});}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}});}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}})\ \{}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_aa195608723fa0adb8478449f3f21e122}{pthread\_cond\_destroy}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}});}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mimalloc-override_8h_a9d4b5df3530d1bc733070a4669ba6ebc}{free}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}});}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00385\ \ \ \ \ \}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a56bcb70d1d79e29c0d012b87e019119c}{set\_filter}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}})\ \{\ }
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ \{}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}GT,\ setting\ collector\ filter\(\backslash\)n"{}});}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ =\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}};}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ if\ set\_output\_blocking\ has\ been\ already\ executed\ (for\ example\ by\ the\ pipeline),}}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ then\ we\ have\ to\ set\ the\ blocking\ stuff\ also\ for\ the\ filter}}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ ((\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>get\_out\_buffer()\ !=\ \textcolor{keyword}{nullptr})\ ||\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>isMultiOutput())\ \ \&\&}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a9215d73c60e5cbc7270c7bae5370e907}{p\_cons\_m}}!=\textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>set\_output\_blocking(\mbox{\hyperlink{classff_1_1ff__gatherer_a9215d73c60e5cbc7270c7bae5370e907}{p\_cons\_m}},\ \mbox{\hyperlink{classff_1_1ff__gatherer_a292f16ab521c554561d5caf54a6ed38b}{p\_cons\_c}});}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00409\ \ \ \ \ \}}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \ \ \ \ \textcolor{comment}{//\ Sets\ where\ feedback\ channels\ end\ (if\ any)}}
\DoxyCodeLine{00412\ \ \ \ \ \textcolor{comment}{//\ All\ channels\ were\ registered\ in\ input,\ first\ feedback\ ones\ then\ the\ input\ ones.\ }}
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a01f9b2635893d7b63237af00b00ddc09}{set\_feedbackid\_threshold}}(\textcolor{keywordtype}{size\_t}\ \textcolor{keywordtype}{id})\ \{\ \mbox{\hyperlink{classff_1_1ff__gatherer_a424d39c2e812f813561233a41f368d27}{feedbackid}}\ =\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};\ \}}
\DoxyCodeLine{00414\ \ \ \ \ }
\DoxyCodeLine{00415\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{classff_1_1ff__gatherer_a17ddf38e16a01ebaf65a46872d646bfc}{get\_filter}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}==(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*)\textcolor{keyword}{this})?\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}:\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}};\ \}}
\DoxyCodeLine{00416\ \ \ \ \ }
\DoxyCodeLine{00417\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_ade9cda155d958eb730b6d7c35bd06f5e}{reset\_filter}}()\ \{}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ ==\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>registerCallback(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>setThread(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00422\ \ \ \ \ \}}
\DoxyCodeLine{00423\ \ \ \ \ }
\DoxyCodeLine{00424\ \ \ \ \ }
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__gatherer_ad779dfadd134c6966a87a93d6324d7b4}{set\_output\_buffer}}(\mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\ \textcolor{keyword}{const}\ buff)\ \{}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ \{}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>set\_output\_buffer(buff)<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ if\ set\_output\_blocking\ has\ been\ already\ executed\ (for\ example\ by\ the\ pipeline),}}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ then\ we\ have\ to\ set\ the\ blocking\ stuff\ also\ for\ the\ filter}}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classff_1_1ff__gatherer_a9215d73c60e5cbc7270c7bae5370e907}{p\_cons\_m}}!=\textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>set\_output\_blocking(\mbox{\hyperlink{classff_1_1ff__gatherer_a9215d73c60e5cbc7270c7bae5370e907}{p\_cons\_m}},\ \mbox{\hyperlink{classff_1_1ff__gatherer_a292f16ab521c554561d5caf54a6ed38b}{p\_cons\_c}});}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}})\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}=buff;}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00444\ \ \ \ \ \}}
\DoxyCodeLine{00445\ }
\DoxyCodeLine{00453\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a2aa073080a2814aae6bb31e17b58b74f}{get\_channel\_id}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}};\}}
\DoxyCodeLine{00454\ }
\DoxyCodeLine{00455\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__gatherer_aec39f895e76fc7c49652826919ba9766}{get\_num\_inchannels}}()\textcolor{keyword}{\ \ const\ }\{\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})(\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}});\ \}}
\DoxyCodeLine{00456\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__gatherer_ab63497ac33ca6399669f084d0afae30a}{get\_num\_outchannels}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ \&\&\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ !=\ (\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*)\textcolor{keyword}{this}))}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>get\_num\_outchannels();}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}?1:0);}
\DoxyCodeLine{00460\ \ \ \ \ \}}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__gatherer_aa28d6d20a2a536d73741298030c34c64}{get\_num\_feedbackchannels}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a424d39c2e812f813561233a41f368d27}{feedbackid}};}
\DoxyCodeLine{00464\ \ \ \ \ \}}
\DoxyCodeLine{00465\ \ \ \ \ }
\DoxyCodeLine{00473\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__gatherer_ad17091090e42947e675012e30b0f9d49}{getnworkers}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})(\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}}-\/\mbox{\hyperlink{classff_1_1ff__gatherer_ae6648de9f15b9ed98ee816a1daf83811}{neos}}-\/\mbox{\hyperlink{classff_1_1ff__gatherer_a4abe92901fbb427f2670ea446340bc49}{neosnofreeze}});\ \}}
\DoxyCodeLine{00474\ }
\DoxyCodeLine{00475\ \ \ \ \ }
\DoxyCodeLine{00476\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a06a7b49dca58753e8bb91a347adde5b0}{getrunning}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}};\}}
\DoxyCodeLine{00477\ \ \ \ \ }
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00486\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classff_1_1ff__gatherer_ac97e17d0feec3182fec0fb591478afe2}{getNWorkers}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}}.size();\}}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00488\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\ \mbox{\hyperlink{classff_1_1ff__gatherer_a689900ec79e5655da8f0938ce1ab948c}{getWorkers}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}};\ \}}
\DoxyCodeLine{00489\ \ \ \ \ }
\DoxyCodeLine{00490\ }
\DoxyCodeLine{00498\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1080a74ab0d5801717e7e30abe0b4155}{skipfirstpop}}(\textcolor{keywordtype}{bool}\ sk=\textcolor{keyword}{true})\ \{\ \mbox{\hyperlink{classff_1_1ff__gatherer_a2173aa66643a0f4435a75b2798fe988b}{skip1pop}}=sk;\ \}}
\DoxyCodeLine{00499\ }
\DoxyCodeLine{00500\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00501\ \ \ \ \ \textcolor{keywordtype}{void}\ skipallpop(\textcolor{keywordtype}{bool}\ sk\ =\ \textcolor{keyword}{true})\ \{\ \_skipallpop\ =\ sk;\}}
\DoxyCodeLine{00502\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00503\ }
\DoxyCodeLine{00511\ \ \ \ \ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\ \mbox{\hyperlink{classff_1_1ff__gatherer_a56ee9026e9466f7e045c9cae0adb0976}{get\_out\_buffer}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}};\}}
\DoxyCodeLine{00512\ }
\DoxyCodeLine{00520\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a95d42dddc0fcb0990968f020b629df7d}{register\_worker}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}}.size()>=\mbox{\hyperlink{classff_1_1ff__gatherer_ace9f0d7ae4d29777f3c1795d8655da1c}{max\_nworkers}})\ \{}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}GT,\ max\ number\ of\ workers\ reached\ (max=\%ld)\(\backslash\)n"{}},\mbox{\hyperlink{classff_1_1ff__gatherer_ace9f0d7ae4d29777f3c1795d8655da1c}{max\_nworkers}});}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}}.push\_back(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00527\ \ \ \ \ \}}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00529\ }
\DoxyCodeLine{00537\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a17cbccbcde413256a7025e9e29fa0f93}{svc\_init}}()\ \{}
\DoxyCodeLine{00538\ \textcolor{preprocessor}{\#if\ !defined(HAVE\_PTHREAD\_SETAFFINITY\_NP)\ \&\&\ !defined(NO\_DEFAULT\_MAPPING)}}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>\mbox{\hyperlink{classff_1_1ff__thread_aedb2d3eabb5a6fbc69ab36c5b3a396db}{get\_mapping}}())\ \{}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cpuId\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}?\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>getCPUId():-\/1;}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mapping__utils_8hpp_a55cc056711b4071b978f875d18914b44}{ff\_mapThreadToCpu}}((cpuId<0)\ ?\ (cpuId=\mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}()-\/>getCoreId(\mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}}))\ :\ cpuId)!=0)}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}Cannot\ map\ thread\ \%d\ to\ CPU\ \%d,\ mask\ is\ \%u,\ \ size\ is\ \%u,\ \ going\ on...\(\backslash\)n"{}},\mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}},\ (cpuId<0)\ ?\ \mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}()-\/>getCoreId(\mbox{\hyperlink{classff_1_1ff__thread_a27485f78a34e288037fc7deda67fce3b}{tid}})\ :\ cpuId,\ \mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}()-\/>getMask(),\ \mbox{\hyperlink{classff_1_1thread_mapper_ae889e3e371cc7bb4e0fc067f74f097c1}{threadMapper::instance}}()-\/>getCListSize());\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>setCPUId(cpuId);}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00545\ \textcolor{preprocessor}{\#endif\ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ gettimeofday(\&\mbox{\hyperlink{classff_1_1ff__gatherer_a168caf81b913db10c5a82849c500ec5c}{tstart}},\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a029f2965fccca690def18d0723812c8a}{offline}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\textcolor{keyword}{false};}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ \{}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>isComp()\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>isMultiInput())}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>set\_neos(\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}});}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>svc\_init();}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00554\ \ \ \ \ \}}
\DoxyCodeLine{00555\ }
\DoxyCodeLine{00563\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{classff_1_1ff__gatherer_ab30530b2f5026b3393e87bd3129846b3}{svc}}(\textcolor{keywordtype}{void}\ *)\ \{}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ \ =\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}};}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ filter\_outpresent\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ outpresent\ \ =\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}\ !=\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1080a74ab0d5801717e7e30abe0b4155}{skipfirstpop}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_a2173aa66643a0f4435a75b2798fe988b}{skip1pop}};}
\DoxyCodeLine{00569\ }
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ following\ case\ is\ possible\ when\ the\ there\ is\ a\ filter\ that\ is\ a\ composition}}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ \&\&\ }
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \ \ \ \ \ (\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>get\_out\_buffer()!=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})\ \ ||\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>isMultiOutput()\ )\ )\ \{}
\DoxyCodeLine{00573\ }
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \ \ \ \ filter\_outpresent=\textcolor{keyword}{true};}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//set\_out\_buffer(filter-\/>get\_in\_buffer());}}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00577\ }
\DoxyCodeLine{00578\ }
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ it\ is\ possible\ that\ a\ standard\ node\ has\ been\ automatically\ (and\ transparently)}}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ transformed\ into\ a\ multi-\/input\ node\ (see\ mi\_transformer).}}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ In\ this\ case\ we\ want\ to\ call\ notifyeos\ only\ when\ we\ have\ received\ EOS\ from\ all}}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ input\ channel.}}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ notify\_each\_eos\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ ?\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>neos==1):\ \textcolor{keyword}{false};}
\DoxyCodeLine{00584\ }
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ skipallpop\ missing!}}
\DoxyCodeLine{00586\ }
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ gettimeofday(\&\mbox{\hyperlink{classff_1_1ff__gatherer_a604946815f877b53630aa2f1bb3ac7b3}{wtstart}},\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__gatherer_a1080a74ab0d5801717e7e30abe0b4155}{skipfirstpop}})\ }
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1f7955f1c6e048ec38dd1209e5ad2802}{gather\_task}}(\&\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});\ }
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1080a74ab0d5801717e7e30abe0b4155}{skipfirstpop}}=\textcolor{keyword}{false};}
\DoxyCodeLine{00593\ }
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_a0d49fe9ae339a6ea515d87ade60b6d08}{FF\_GO\_ON}})\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}}\ =\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}-\/\mbox{\hyperlink{classff_1_1ff__gatherer_a424d39c2e812f813561233a41f368d27}{feedbackid}});}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a5c32afb6466f23cc63c79df52039beb3}{frominput}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a424d39c2e812f813561233a41f368d27}{feedbackid}}>0)\ \{\ \textcolor{comment}{//\ there\ are\ feedback\ channels}}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}<\mbox{\hyperlink{classff_1_1ff__gatherer_a424d39c2e812f813561233a41f368d27}{feedbackid}})\ \ \{}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a5c32afb6466f23cc63c79df52039beb3}{frominput}}=\textcolor{keyword}{false};}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}}=\mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}};}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00603\ }
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}})\ ||\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_acaef0c2eb0aeb203e6d74b0859a543fb}{FF\_EOSW}}))\ \{}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ \&\&\ notify\_each\_eos)\ }
\DoxyCodeLine{00606\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>eosnotify(\mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}});\ \textcolor{comment}{//workers[nextr]-\/>get\_my\_id());\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a029f2965fccca690def18d0723812c8a}{offline}}[\mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}]=\textcolor{keyword}{true};}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classff_1_1ff__gatherer_ae6648de9f15b9ed98ee816a1daf83811}{neos}};}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}=\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}})\ \{}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}\ \&\&\ notify\_each\_eos)}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>eosnotify(\mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}});\ \textcolor{comment}{//workers[nextr]-\/>get\_my\_id());}}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a029f2965fccca690def18d0723812c8a}{offline}}[\mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}}]=\textcolor{keyword}{true};}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classff_1_1ff__gatherer_a4abe92901fbb427f2670ea446340bc49}{neosnofreeze}};}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(++taskcnt);}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(ticks\ \mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}}\ =\ getticks());}
\DoxyCodeLine{00620\ }
\DoxyCodeLine{00621\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ callbackIn(\textcolor{keyword}{this});}
\DoxyCodeLine{00623\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>svc(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00625\ }
\DoxyCodeLine{00626\ \textcolor{preprocessor}{\#if\ defined(TRACE\_FASTFLOW)}}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ticks\ diff=(getticks()-\/\mbox{\hyperlink{dining__philosophers_8cpp_acaabb53c59c5d280a13be2cf359335a9}{t0}});}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tickstot\ +=diff;}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ticksmin=(\mbox{\hyperlink{namespacestd_ac7b9885417769949d76890454b6d072e}{std::min}})(ticksmin,diff);}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ticksmax=(std::max)(ticksmax,diff);}
\DoxyCodeLine{00631\ \textcolor{preprocessor}{\#endif\ \ \ \ }}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00633\ }
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ filter\ returns\ EOS\ or\ GO\_OUT\ we\ exit\ immediatly}}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_a0d49fe9ae339a6ea515d87ade60b6d08}{FF\_GO\_ON}})\ \textcolor{keywordflow}{continue};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_a87d1455fcd512edda2f88c16618c6424}{FF\_GO\_OUT}})\ ||\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}})\ ||\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_acaef0c2eb0aeb203e6d74b0859a543fb}{FF\_EOSW}})\ )\ \{}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};\ \ \ \textcolor{comment}{//\ exiting\ from\ the\ loop\ without\ sending\ the\ task}}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ||\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}}))\ \{}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}};}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00644\ }
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (filter\_outpresent)\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>ff\_send\_out(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}\ (outpresent)\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cc624c6048c2cabd19e5ff861c4cd4a}{push}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00647\ \textcolor{preprocessor}{\#if\ defined(FF\_TASK\_CALLBACK)}}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ }
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ callbackOut(\textcolor{keyword}{this});}
\DoxyCodeLine{00650\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}((\mbox{\hyperlink{classff_1_1ff__gatherer_ae6648de9f15b9ed98ee816a1daf83811}{neos}}<(\textcolor{keywordtype}{size\_t})\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}})\ \&\&\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a4abe92901fbb427f2670ea446340bc49}{neosnofreeze}}<(\textcolor{keywordtype}{size\_t})\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}}));}
\DoxyCodeLine{00653\ }
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ GO\_OUT,\ EOS\_NOFREEZE\ and\ EOSW\ are\ not\ propagated\ !}}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}})\ \{}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ notify\ the\ filter\ only\ when\ we\ have\ received\ all\ EOSs}}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!notify\_each\_eos\ \&\&\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>eosnotify();}
\DoxyCodeLine{00658\ }
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ push\ EOS}}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (filter\_outpresent)\ \{}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>isMultiOutput())\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>propagateEOS();}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>ff\_send\_out(\mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}});}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (outpresent)\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cc624c6048c2cabd19e5ff861c4cd4a}{push}}(\mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}});}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00667\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ ==\ \mbox{\hyperlink{namespaceff_acaef0c2eb0aeb203e6d74b0859a543fb}{FF\_EOSW}})\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}};\ \textcolor{comment}{//\ EOSW\ is\ like\ an\ EOS\ but\ it\ is\ not\ propagated}}
\DoxyCodeLine{00668\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00669\ \ \ \ \ \ \ \ \ gettimeofday(\&\mbox{\hyperlink{classff_1_1ff__gatherer_a447dff44e95fcb84f7afe30d3bb59e2a}{wtstop}},\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_af80a23d91ebc50e2e05bfdf7a4ebbb1b}{wttime}}+=\mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a447dff44e95fcb84f7afe30d3bb59e2a}{wtstop}},\mbox{\hyperlink{classff_1_1ff__gatherer_a604946815f877b53630aa2f1bb3ac7b3}{wtstart}});}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_ae6648de9f15b9ed98ee816a1daf83811}{neos}}>=(\textcolor{keywordtype}{size\_t})\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}})\ \mbox{\hyperlink{classff_1_1ff__gatherer_ae6648de9f15b9ed98ee816a1daf83811}{neos}}=0;}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a4abe92901fbb427f2670ea446340bc49}{neosnofreeze}}>=(\textcolor{keywordtype}{size\_t})\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}})\ \mbox{\hyperlink{classff_1_1ff__gatherer_a4abe92901fbb427f2670ea446340bc49}{neosnofreeze}}=0;}
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00674\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00675\ \ \ \ \ \}}
\DoxyCodeLine{00676\ }
\DoxyCodeLine{00683\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_aba67166bc5e4da6769fbd60b9d1df8e5}{svc\_end}}()\ \{}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>svc\_end();}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ gettimeofday(\&\mbox{\hyperlink{classff_1_1ff__gatherer_aee8998a48f7f31c6a4db4c94fa698293}{tstop}},\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}});}
\DoxyCodeLine{00686\ \ \ \ \ \}}
\DoxyCodeLine{00687\ }
\DoxyCodeLine{00688\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__gatherer_aca9506016200bf2111a7e70a972fd879}{dryrun}}()\ \{}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}}=\mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}}.size();}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}})\ \{}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>get\_out\_buffer()\ ==\ \textcolor{keyword}{nullptr})\ \&\&\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}})\ }
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>registerCallback(\mbox{\hyperlink{classff_1_1ff__gatherer_a6e58701025e126fef627f0369f7ebff7}{ff\_send\_out\_collector}},\ \textcolor{keyword}{this});}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ setting\ the\ thread\ for\ the\ filter}}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>setThread(\textcolor{keyword}{this});}
\DoxyCodeLine{00695\ }
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__gatherer_a0f5def8e6ec3b95b9e259a21d37c42da}{blocking\_in}}==\mbox{\hyperlink{classff_1_1ff__gatherer_ae0166688d2f4464f62d1a69e1ae4d467}{blocking\_out}});}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>blocking\_mode(\mbox{\hyperlink{classff_1_1ff__gatherer_a0f5def8e6ec3b95b9e259a21d37c42da}{blocking\_in}});}
\DoxyCodeLine{00698\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00700\ \ \ \ \ \}}
\DoxyCodeLine{00701\ }
\DoxyCodeLine{00709\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__gatherer_aaa1d5c731aa5abdf929046a6354ae1f5}{run}}(\textcolor{keywordtype}{bool}=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_aca9506016200bf2111a7e70a972fd879}{ff\_gatherer::dryrun}}();}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>\mbox{\hyperlink{classff_1_1ff__thread_a1858e3635a473e28f30c28f8fd4d3b70}{spawn}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}?\mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}}-\/>getCPUId():-\/1)==\ -\/2)\ \{}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}GT,\ spawning\ GT\ thread\(\backslash\)n"{}});}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;\ }
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00717\ \ \ \ \ \}}
\DoxyCodeLine{00718\ }
\DoxyCodeLine{00719\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a71305aadea8447300895ab1839988317}{blocking\_mode}}(\textcolor{keywordtype}{bool}\ blk=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a0f5def8e6ec3b95b9e259a21d37c42da}{blocking\_in}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_ae0166688d2f4464f62d1a69e1ae4d467}{blocking\_out}}\ =\ blk;}
\DoxyCodeLine{00721\ \ \ \ \ \}}
\DoxyCodeLine{00722\ }
\DoxyCodeLine{00723\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a644cfc4a2d74bc3f19afc443226e8907}{no\_mapping}}()\ \{}
\DoxyCodeLine{00724\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a8db36a004f6e613293d673fe98d34dcb}{default\_mapping}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00725\ \ \ \ \ \}}
\DoxyCodeLine{00726\ }
\DoxyCodeLine{00727\ \ \ \ \ }
\DoxyCodeLine{00728\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__gatherer_abce5e533b39625a8564a3957e954931a}{wait\_freezing}}()\ \{}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff__thread_a66eaa9163a54edc8046f1a7c16ac5bd4}{ff\_thread::wait\_freezing}}();}
\DoxyCodeLine{00730\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}}\ =\ -\/1;}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00732\ \ \ \ \ \}}
\DoxyCodeLine{00733\ }
\DoxyCodeLine{00744\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__gatherer_aaa9394f0876d35627044650f15055eb5}{all\_gather}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keywordtype}{void}\ **\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}})\ \{}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_af73049a182524fe3056a598b36f16440}{ag\_callback}})\ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_af73049a182524fe3056a598b36f16440}{ag\_callback}}(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}},\mbox{\hyperlink{classff_1_1ff__gatherer_a302b623fcbf8c2d0a434477e76e7321a}{ag\_callback\_arg}});}
\DoxyCodeLine{00746\ }
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}}]=\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ nw=\mbox{\hyperlink{classff_1_1ff__gatherer_ad17091090e42947e675012e30b0f9d49}{getnworkers}}();}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \_workers(nw);}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__gatherer_a029f2965fccca690def18d0723812c8a}{offline}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}])\ \_workers.\mbox{\hyperlink{classff_1_1svector_ab59de8f11f93dac689691fe46ed987ce}{push\_back}}(\mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \_workers.\mbox{\hyperlink{classff_1_1svector_ab59de8f11f93dac689691fe46ed987ce}{push\_back}}(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<size\_t>}}\ retry(nw);}
\DoxyCodeLine{00755\ }
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ !=\ \mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}})\ \{}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}])\ \{}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_workers[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{stdlist__overload_8cpp_a120a90058439faee14791b33f94c0693}{get}}(\&\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]))\ retry.\mbox{\hyperlink{classff_1_1svector_ab59de8f11f93dac689691fe46ed987ce}{push\_back}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00762\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00763\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(retry.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}())\ \{}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}}\ =\ retry.\mbox{\hyperlink{classff_1_1svector_a44d5d1b549f0301d4eff384b990de93e}{back}}();}
\DoxyCodeLine{00765\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\_workers[\mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}}]-\/>\mbox{\hyperlink{stdlist__overload_8cpp_a120a90058439faee14791b33f94c0693}{get}}(\&\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}}]))\ \{}
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retry.\mbox{\hyperlink{classff_1_1svector_a0c9a63c63150eee30a2db55240f98653}{pop\_back}}();}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00768\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a0f5def8e6ec3b95b9e259a21d37c42da}{blocking\_in}})\ \{}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }timespec\ tv;}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a5b1f0a8d2b5b3ed69bee02a6b2d3041e}{timedwait\_timeout}}(tv);}
\DoxyCodeLine{00772\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_ac24005266439bc710f8d85235c0c9213}{pthread\_mutex\_lock}}(\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}});}
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pthread\_cond\_timedwait(\mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}},\ \mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}},\ \&tv);}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9ebcb4bbf90f780d17be7acd63b0e92f}{pthread\_mutex\_unlock}}(\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}});}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a56107faa9c87ba087ba9256c6b65846c}{losetime\_in}}();}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00777\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00778\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ eos=\textcolor{keyword}{false};}
\DoxyCodeLine{00779\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}};++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00780\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}})\ \{}
\DoxyCodeLine{00781\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ eos=\textcolor{keyword}{true};}
\DoxyCodeLine{00782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classff_1_1ff__gatherer_ae6648de9f15b9ed98ee816a1daf83811}{neos}};}
\DoxyCodeLine{00783\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\textcolor{keyword}{nullptr};}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(taskcnt-\/-\/);}
\DoxyCodeLine{00785\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ }
\DoxyCodeLine{00786\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ ==\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}})\ \{}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ eos=\textcolor{keyword}{true};}
\DoxyCodeLine{00788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classff_1_1ff__gatherer_a4abe92901fbb427f2670ea446340bc49}{neosnofreeze}};}
\DoxyCodeLine{00789\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a77c224aa52b434918ce65c33175aa8ad}{V}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\textcolor{keyword}{nullptr};}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(taskcnt-\/-\/);}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{config_8hpp_af9de113e57f108f052f8d2955a48302c}{FFTRACE}}(taskcnt+=nw-\/1);}
\DoxyCodeLine{00794\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ eos?-\/1:0;}
\DoxyCodeLine{00795\ \ \ \ \ \}}
\DoxyCodeLine{00796\ }
\DoxyCodeLine{00797\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a6f76669c04288e73b43768e8d0dd6dec}{registerAllGatherCallback}}(\textcolor{keywordtype}{int}\ (*\mbox{\hyperlink{namespaceff_a6b0f1a6fb598cb9b6388ac19b8d1bdb2}{cb}})(\textcolor{keywordtype}{void}\ *,\textcolor{keywordtype}{void}\ **,\ \textcolor{keywordtype}{void}*),\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})\ \{}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_af73049a182524fe3056a598b36f16440}{ag\_callback}}\ =\ \mbox{\hyperlink{namespaceff_a6b0f1a6fb598cb9b6388ac19b8d1bdb2}{cb}};}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a302b623fcbf8c2d0a434477e76e7321a}{ag\_callback\_arg}}\ =\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}};}
\DoxyCodeLine{00800\ \ \ \ \ \}}
\DoxyCodeLine{00801\ \ \ \ \ }
\DoxyCodeLine{00807\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a106a2348a0a38d44085eb3c6071643e7}{thaw}}(\textcolor{keywordtype}{bool}\ \_freeze=\textcolor{keyword}{false},\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ nw=-\/1)\ \{}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}}==-\/1);}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nw\ ==\ -\/1\ ||\ (\textcolor{keywordtype}{size\_t})nw\ >\ \mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}}.size())\ \mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}}\ =\ \mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}}.size();}
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}}\ =\ nw;}
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__thread_a900624376e40a51b35da67992c1653fc}{ff\_thread::thaw}}(\_freeze);}
\DoxyCodeLine{00812\ \ \ \ \ \}}
\DoxyCodeLine{00813\ }
\DoxyCodeLine{00819\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__gatherer_acd496f214c489ee354491af9f7783838}{reset}}()\ \{\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}})\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}}-\/>reset();\}}
\DoxyCodeLine{00820\ }
\DoxyCodeLine{00821\ }
\DoxyCodeLine{00829\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff__gatherer_aee92f6e97768e83bf1bb85893333f500}{ffTime}}()\ \{}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__gatherer_aee8998a48f7f31c6a4db4c94fa698293}{tstop}},\mbox{\hyperlink{classff_1_1ff__gatherer_a168caf81b913db10c5a82849c500ec5c}{tstart}});}
\DoxyCodeLine{00831\ \ \ \ \ \}}
\DoxyCodeLine{00832\ }
\DoxyCodeLine{00840\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a38f0e83b6a44db6e5f77e236fac8294d}{wffTime}}()\ \{}
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__gatherer_a447dff44e95fcb84f7afe30d3bb59e2a}{wtstop}},\mbox{\hyperlink{classff_1_1ff__gatherer_a604946815f877b53630aa2f1bb3ac7b3}{wtstart}});}
\DoxyCodeLine{00842\ \ \ \ \ \}}
\DoxyCodeLine{00843\ }
\DoxyCodeLine{00844\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \&\ \mbox{\hyperlink{classff_1_1ff__gatherer_a01e09402beff4e4d6212f40b0ac9067f}{getstarttime}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a168caf81b913db10c5a82849c500ec5c}{tstart}};\}}
\DoxyCodeLine{00845\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \&\ \mbox{\hyperlink{classff_1_1ff__gatherer_ae7fb383cab5f73584f97d8dfebb101a1}{getstoptime}}()\textcolor{keyword}{\ \ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_aee8998a48f7f31c6a4db4c94fa698293}{tstop}};\}}
\DoxyCodeLine{00846\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \&\ \mbox{\hyperlink{classff_1_1ff__gatherer_ad79e7a5843f52d9f6014c15af4f9ece2}{getwstartime}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a604946815f877b53630aa2f1bb3ac7b3}{wtstart}};\}}
\DoxyCodeLine{00847\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \&\ \mbox{\hyperlink{classff_1_1ff__gatherer_a131e2d32b3ea5025e2ee9e77248320b2}{getwstoptime}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_a447dff44e95fcb84f7afe30d3bb59e2a}{wtstop}};\}}
\DoxyCodeLine{00848\ }
\DoxyCodeLine{00849\ }
\DoxyCodeLine{00850\ \textcolor{preprocessor}{\#if\ defined(TRACE\_FASTFLOW)\ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{00857\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ ffStats(std::ostream\ \&\ out)\ \{\ }
\DoxyCodeLine{00858\ \ \ \ \ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}Collector:\ "{}}}
\DoxyCodeLine{00859\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ work-\/time\ (ms):\ "{}}\ <<\ \mbox{\hyperlink{classff_1_1ff__gatherer_af80a23d91ebc50e2e05bfdf7a4ebbb1b}{wttime}}\ \ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{00860\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ n.\ tasks\ \ \ \ \ \ :\ "{}}\ <<\ taskcnt\ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ svc\ ticks\ \ \ \ \ :\ "{}}\ <<\ tickstot\ \ <<\ \textcolor{stringliteral}{"{}\ (min=\ "{}}\ <<\ (\mbox{\hyperlink{spine-cocos2dx_8cpp_ae976ff2ddeccb72b53e8f53775044589}{filter}}?ticksmin:0)\ <<\ \textcolor{stringliteral}{"{}\ max=\ "{}}\ <<\ ticksmax\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}}}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ n.\ push\ lost\ \ :\ "{}}\ <<\ pushwait\ \ <<\ \textcolor{stringliteral}{"{}\ (ticks="{}}\ <<\ lostpushticks\ <<\ \textcolor{stringliteral}{"{})"{}}\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ n.\ pop\ lost\ \ \ :\ "{}}\ <<\ popwait\ \ \ <<\ \textcolor{stringliteral}{"{}\ (ticks="{}}\ <<\ lostpopticks\ \ <<\ \textcolor{stringliteral}{"{})"{}}\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00864\ \ \ \ \ \}}
\DoxyCodeLine{00865\ }
\DoxyCodeLine{00866\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{double}\ getworktime()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__gatherer_af80a23d91ebc50e2e05bfdf7a4ebbb1b}{wttime}};\ \}}
\DoxyCodeLine{00867\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ getnumtask()\textcolor{keyword}{\ \ const\ }\{\ \textcolor{keywordflow}{return}\ taskcnt;\ \}}
\DoxyCodeLine{00868\ \ \ \ \ \textcolor{keyword}{virtual}\ ticks\ \ getsvcticks()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ tickstot;\ \}}
\DoxyCodeLine{00869\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ getpushlost()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ pushwait;\}}
\DoxyCodeLine{00870\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ getpoplost()\textcolor{keyword}{\ \ const\ }\{\ \textcolor{keywordflow}{return}\ popwait;\ \}}
\DoxyCodeLine{00871\ }
\DoxyCodeLine{00872\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00873\ }
\DoxyCodeLine{00874\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00875\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_ace9f0d7ae4d29777f3c1795d8655da1c}{max\_nworkers}};}
\DoxyCodeLine{00876\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a28d8295bb37649a25ff17cf014a4b2fa}{running}};\ \ \ \ \ \ \ }
\DoxyCodeLine{00877\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a6e79fdb489a3e6c48f5c6e1be841f993}{nextr}};}
\DoxyCodeLine{00878\ }
\DoxyCodeLine{00879\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_ae6648de9f15b9ed98ee816a1daf83811}{neos}};}
\DoxyCodeLine{00880\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a4abe92901fbb427f2670ea446340bc49}{neosnofreeze}};}
\DoxyCodeLine{00881\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a65b38ac405f11df41dabe4e4498f390e}{channelid}};}
\DoxyCodeLine{00882\ \ \ \ \ \textcolor{comment}{//\ if\ we\ have\ feedback\ channels\ in\ input,\ feedbackid\ tells\ us\ how\ many}}
\DoxyCodeLine{00883\ \ \ \ \ \textcolor{comment}{//\ they\ are}}
\DoxyCodeLine{00884\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a424d39c2e812f813561233a41f368d27}{feedbackid}};\ }
\DoxyCodeLine{00885\ }
\DoxyCodeLine{00886\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ \ \ \ \ \ \ \ \ *\ \mbox{\hyperlink{classff_1_1ff__gatherer_a03673b4db5ca3533dd5ce1f3be20f07f}{filter}};}
\DoxyCodeLine{00887\ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{classff_1_1ff__gatherer_ab17db95397bea042a39c932ec97b4ad1}{workers}};}
\DoxyCodeLine{00888\ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<bool>}}\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a029f2965fccca690def18d0723812c8a}{offline}};}
\DoxyCodeLine{00889\ \ \ \ \ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ \ \ \ \ \ \ \ *\ \mbox{\hyperlink{classff_1_1ff__gatherer_a1cbdcf7a8b57d0e49a9900b78a19d983}{buffer}};\ }
\DoxyCodeLine{00890\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a2173aa66643a0f4435a75b2798fe988b}{skip1pop}};}
\DoxyCodeLine{00891\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00892\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \_skipallpop;}
\DoxyCodeLine{00893\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00894\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a5c32afb6466f23cc63c79df52039beb3}{frominput}};}
\DoxyCodeLine{00895\ \ \ \ \ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}\ \ (*\mbox{\hyperlink{classff_1_1ff__gatherer_af73049a182524fe3056a598b36f16440}{ag\_callback}})(\textcolor{keywordtype}{void}\ *,\textcolor{keywordtype}{void}\ **,\ \textcolor{keywordtype}{void}*);}
\DoxyCodeLine{00896\ \ \ \ \ \textcolor{keywordtype}{void}\ \ *\ \mbox{\hyperlink{classff_1_1ff__gatherer_a302b623fcbf8c2d0a434477e76e7321a}{ag\_callback\_arg}};}
\DoxyCodeLine{00897\ }
\DoxyCodeLine{00898\ \ \ \ \ }
\DoxyCodeLine{00899\ \ \ \ \ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__gatherer_a168caf81b913db10c5a82849c500ec5c}{tstart}};}
\DoxyCodeLine{00900\ \ \ \ \ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__gatherer_aee8998a48f7f31c6a4db4c94fa698293}{tstop}};}
\DoxyCodeLine{00901\ \ \ \ \ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__gatherer_a604946815f877b53630aa2f1bb3ac7b3}{wtstart}};}
\DoxyCodeLine{00902\ \ \ \ \ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__gatherer_a447dff44e95fcb84f7afe30d3bb59e2a}{wtstop}};}
\DoxyCodeLine{00903\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff__gatherer_af80a23d91ebc50e2e05bfdf7a4ebbb1b}{wttime}};}
\DoxyCodeLine{00904\ }
\DoxyCodeLine{00905\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00906\ }
\DoxyCodeLine{00907\ \ \ \ \ \textcolor{comment}{//\ for\ the\ input\ queue}}
\DoxyCodeLine{00908\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ \ *\mbox{\hyperlink{classff_1_1ff__gatherer_af9e7d81fd3e768a5356a3562806e179a}{cons\_m}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00909\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ \ *\mbox{\hyperlink{classff_1_1ff__gatherer_a99d71d7ed5b04f8e13e377fc5305d71b}{cons\_c}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00910\ }
\DoxyCodeLine{00911\ \ \ \ \ \textcolor{comment}{//\ for\ the\ output\ queue}}
\DoxyCodeLine{00912\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ \ *\mbox{\hyperlink{classff_1_1ff__gatherer_a88a14c3ab8fb095759d9168b6c006687}{prod\_m}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00913\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ \ *\mbox{\hyperlink{classff_1_1ff__gatherer_a481121e24b3fcd362c81a4ed7263dc59}{prod\_c}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00914\ }
\DoxyCodeLine{00915\ \ \ \ \ \textcolor{comment}{//\ for\ synchronizing\ with\ the\ next\ multi-\/input\ stage}}
\DoxyCodeLine{00916\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\mbox{\hyperlink{classff_1_1ff__gatherer_a9215d73c60e5cbc7270c7bae5370e907}{p\_cons\_m}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00917\ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\mbox{\hyperlink{classff_1_1ff__gatherer_a292f16ab521c554561d5caf54a6ed38b}{p\_cons\_c}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00918\ }
\DoxyCodeLine{00919\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_a0f5def8e6ec3b95b9e259a21d37c42da}{blocking\_in}};}
\DoxyCodeLine{00920\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__gatherer_ae0166688d2f4464f62d1a69e1ae4d467}{blocking\_out}};}
\DoxyCodeLine{00921\ }
\DoxyCodeLine{00922\ \textcolor{preprocessor}{\#if\ defined(TRACE\_FASTFLOW)}}
\DoxyCodeLine{00923\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ taskcnt;}
\DoxyCodeLine{00924\ \ \ \ \ ticks\ \ \ \ \ \ \ \ \ lostpushticks;}
\DoxyCodeLine{00925\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ pushwait;}
\DoxyCodeLine{00926\ \ \ \ \ ticks\ \ \ \ \ \ \ \ \ lostpopticks;}
\DoxyCodeLine{00927\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ popwait;}
\DoxyCodeLine{00928\ \ \ \ \ ticks\ \ \ \ \ \ \ \ \ ticksmin;}
\DoxyCodeLine{00929\ \ \ \ \ ticks\ \ \ \ \ \ \ \ \ ticksmax;}
\DoxyCodeLine{00930\ \ \ \ \ ticks\ \ \ \ \ \ \ \ \ tickstot;}
\DoxyCodeLine{00931\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00932\ \};}
\DoxyCodeLine{00933\ }
\DoxyCodeLine{00934\ }
\DoxyCodeLine{00935\ \}\ \textcolor{comment}{//\ namespace\ ff}}
\DoxyCodeLine{00936\ }
\DoxyCodeLine{00937\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ FF\_GT\_HPP\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
