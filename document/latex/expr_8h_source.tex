\doxysection{expr.\+h}
\hypertarget{expr_8h_source}{}\label{expr_8h_source}\index{runtime/dsl/expr.h@{runtime/dsl/expr.h}}
\mbox{\hyperlink{expr_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Created\ by\ Mike\ Smith\ on\ 2020/12/2.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <array>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <string\_view>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{image_8h}{runtime/runtime/image.h}}>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{volume_8h}{runtime/runtime/volume.h}}>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{buffer_8h}{runtime/runtime/buffer.h}}>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{bindless__array_8h}{runtime/runtime/bindless\_array.h}}>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{function__builder_8h}{runtime/ast/function\_builder.h}}>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{expr__traits_8h}{runtime/dsl/expr\_traits.h}}>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{arg_8h}{runtime/dsl/arg.h}}>}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute}{luisa::compute}}\ \{}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{inline}\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl}{dsl}}\ \{}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00022\ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *expr)\ \textcolor{keyword}{noexcept}\ -\/>\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<expr\_value\_t<T>}}>;}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00025\ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def}}(T\ \&\&\mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_014_01_4_01_4_a2fc35c34d0a84ec579b09e00c69c0b52}{x}})\ \textcolor{keyword}{noexcept}\ -\/>\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<expr\_value\_t<T>}}>;}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \}\textcolor{comment}{//\ namespace\ dsl}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedetail}{detail}}\ \{}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00033\ [[nodiscard]]\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ extract\_expression(T\ \&\&v)\ \textcolor{keyword}{noexcept}\ -\/>\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_expression}{Expression}}\ *\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\mbox{\hyperlink{namespaceluisa_1_1compute_ac7d0b4f290e180a2da02a7b6fe9e1dba}{is\_dsl\_or\_local\_array\_v<T>}})\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::forward<T>(v).expression();}
\DoxyCodeLine{00036\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{conceptluisa_1_1concepts_1_1basic}{concepts::basic<T>}});}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ FunctionBuilder::current()-\/>literal(Type::of<T>(),\ std::forward<T>(v));}
\DoxyCodeLine{00039\ \ \ \ \ \}}
\DoxyCodeLine{00040\ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \}\textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#define\ LUISA\_EXPR\_COMMON(...)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{private:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\ \ \ \ const\ Expression\ *\_expression;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{public:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\ \ \ \ explicit\ Expr(const\ Expression\ *expr)\ noexcept\ :\ \_expression\{expr\}\ \{\}\ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\ \ \ \ [[nodiscard]]\ auto\ expression()\ const\ noexcept\ \{\ return\ this-\/>\_expression;\ \}\ \(\backslash\)}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\ \ \ \ Expr(Expr\ \&\&another)\ noexcept\ =\ default;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\ \ \ \ Expr(const\ Expr\ \&another)\ noexcept\ =\ default;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\ \ \ \ Expr\ \&operator=(Expr)\ noexcept\ =\ delete;}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#define\ LUISA\_EXPR\_FROM\_LITERAL(...)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\ \ \ \ template<typename\ U>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ requires\ std::same\_as<U,\ \_\_VA\_ARGS\_\_>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\ \ \ \ Expr(U\ literal)\ noexcept\ :\ Expr\{detail::FunctionBuilder::current()-\/>literal(\ \(\backslash\)}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Type::of<U>(),\ literal)\}\ \{\}}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedetail}{detail}}\ \{}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00066\ \textcolor{keyword}{struct\ }ExprEnableStaticCast;}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00069\ \textcolor{keyword}{struct\ }ExprEnableBitwiseCast;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00072\ \textcolor{keyword}{struct\ }ExprEnableSubscriptAccess;}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00075\ \textcolor{keyword}{struct\ }ExprEnableGetMemberByIndex;}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ T,\ \textcolor{keywordtype}{size\_t}...\ i>}
\DoxyCodeLine{00078\ [[nodiscard]]\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ compose\_impl(std::tuple<T...>\ t,\ std::index\_sequence<i...>)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<std::tuple<expr\_value\_t<T>}}...>>\{\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}\{std::get<i>(t)\}...\};}
\DoxyCodeLine{00080\ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}...\ i>}
\DoxyCodeLine{00083\ [[nodiscard]]\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ decompose\_impl(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_014_01_4_01_4_a2fc35c34d0a84ec579b09e00c69c0b52}{x}},\ std::index\_sequence<i...>)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_tuple(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_014_01_4_01_4_a2fc35c34d0a84ec579b09e00c69c0b52}{x}}.template\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_a9b9aed37be7890d555d44f0cc1aa1444}{get<i>}}()...);}
\DoxyCodeLine{00085\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \}\textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \textcolor{keyword}{inline}\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl}{dsl}}\ \{}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00092\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{00093\ [[nodiscard]]\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a4ef720876f2fbe12247325f795f83db0}{compose}}(std::tuple<T...>\ t)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail_a042bf2c1c4fbf6f361bcac0b87e6b0f5}{detail::compose\_impl}}(t,\ std::index\_sequence\_for<T...>\{\});}
\DoxyCodeLine{00095\ \}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00098\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00099\ [[nodiscard]]\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a4ef720876f2fbe12247325f795f83db0}{compose}}(T\ \&\&v)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordflow}{return}\ std::forward<T>(v);}
\DoxyCodeLine{00101\ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00104\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{00105\ [[nodiscard]]\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a4ef720876f2fbe12247325f795f83db0}{compose}}(T\ \&\&...v)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a4ef720876f2fbe12247325f795f83db0}{compose}}(std::make\_tuple(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}\{std::forward<T>(v)\}...));}
\DoxyCodeLine{00107\ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00110\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00111\ [[nodiscard]]\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a35b8a4fc8ca619ec1f25dafa29cb99da}{decompose}}(T\ \&\&t)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keyword}{using\ }member\_tuple\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_a57dc93bed34af3bac72295d9b0f63781}{struct\_member\_tuple\_t<expr\_value\_t<T>}}>;}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{using\ }index\_sequence\ =\ std::make\_index\_sequence<std::tuple\_size\_v<member\_tuple>>;}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail_a2f8672d46fafad4a91bf5431ec849284}{detail::decompose\_impl}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}\{std::forward<T>(t)\},\ index\_sequence\{\});}
\DoxyCodeLine{00115\ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \}\textcolor{comment}{//\ namespace\ dsl}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00126\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00127\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}}
\DoxyCodeLine{00128\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast}{detail::ExprEnableStaticCast}}<Expr<T>>,}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Expr<T>>\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespaceluisa_a1553af33c05ede07d0eb7a5f7121acfe}{is\_scalar\_v<T>}}\ ||\ \mbox{\hyperlink{namespaceluisa_1_1compute_ac7bd30fc63c519d1d3ad9b3abea9a31b}{is\_custom\_struct\_v<T>}});}
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{expr_8h_a961f39cc235ce2e4eafb30141f01784d}{LUISA\_EXPR\_COMMON}}(T)}
\DoxyCodeLine{00132\ \ \ \ \ \mbox{\hyperlink{expr_8h_a3c8009b77bee68e6191c37baa4cab206}{LUISA\_EXPR\_FROM\_LITERAL}}(T)}
\DoxyCodeLine{00133\ \ \ \ \ template<\textcolor{keywordtype}{size\_t}\ i>}
\DoxyCodeLine{00134\ \ \ \ \ [[nodiscard]]\ auto\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_a9b9aed37be7890d555d44f0cc1aa1444}{get}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(i\ ==\ 0u);}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00137\ \ \ \ \ \}}
\DoxyCodeLine{00138\ \};}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00141\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00142\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{sugar_8h_a95fe3ffca1c850e6cb156dddfaf3354c}{array}}<T,\ N>>}
\DoxyCodeLine{00143\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Expr<std::array<T,\ N>>>,}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_subscript_access}{detail::ExprEnableSubscriptAccess}}<Expr<std::array<T,\ N>>>,}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_get_member_by_index}{detail::ExprEnableGetMemberByIndex}}<Expr<std::array<T,\ N>>>\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \mbox{\hyperlink{expr_8h_a961f39cc235ce2e4eafb30141f01784d}{LUISA\_EXPR\_COMMON}}(std::array<T,\ N>)}
\DoxyCodeLine{00147\ \};}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00150\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00151\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<T[\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}]>}
\DoxyCodeLine{00152\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Expr<T[N]>>,}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_subscript_access}{detail::ExprEnableSubscriptAccess}}<Expr<T[N]>>,}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_get_member_by_index}{detail::ExprEnableGetMemberByIndex}}<Expr<T[N]>>\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \mbox{\hyperlink{expr_8h_a961f39cc235ce2e4eafb30141f01784d}{LUISA\_EXPR\_COMMON}}(T[\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}])}
\DoxyCodeLine{00156\ \};}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00159\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00160\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\mbox{\hyperlink{structluisa_1_1_matrix}{Matrix}}<\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}>>}
\DoxyCodeLine{00161\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Expr<Matrix<N>>>,}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_subscript_access}{detail::ExprEnableSubscriptAccess}}<Expr<Matrix<N>>>,}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_get_member_by_index}{detail::ExprEnableGetMemberByIndex}}<Expr<Matrix<N>>>\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{expr_8h_a961f39cc235ce2e4eafb30141f01784d}{LUISA\_EXPR\_COMMON}}(\mbox{\hyperlink{structluisa_1_1_matrix}{Matrix<N>}})}
\DoxyCodeLine{00165\ \ \ \ \ \mbox{\hyperlink{expr_8h_a3c8009b77bee68e6191c37baa4cab206}{LUISA\_EXPR\_FROM\_LITERAL}}(\mbox{\hyperlink{structluisa_1_1_matrix}{Matrix}}<\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}>)}
\DoxyCodeLine{00166\ \};}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00170\ template<typename...\ T>}
\DoxyCodeLine{00171\ struct\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\mbox{\hyperlink{namespacestd}{std}}::tuple<T...>>\ \{}
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{expr_8h_a961f39cc235ce2e4eafb30141f01784d}{LUISA\_EXPR\_COMMON}}(std::tuple<T...>)}
\DoxyCodeLine{00173\ \ \ \ \ template<\textcolor{keywordtype}{size\_t}\ i>}
\DoxyCodeLine{00174\ \ \ \ \ [[nodiscard]]\ auto\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01std_1_1tuple_3_01_t_8_8_8_01_4_01_4_a4e22fbc82cdeed447993a877824c0003}{get}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }M\ =\ std::tuple\_element\_t<i,\ std::tuple<T...>>;}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<M>}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>member(}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ Type::of<M>(),\ this-\/>expression(),\ i)\};}
\DoxyCodeLine{00178\ \ \ \ \ \};}
\DoxyCodeLine{00179\ \};}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00182\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00183\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<T,\ 2>>}
\DoxyCodeLine{00184\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast}{detail::ExprEnableStaticCast}}<Expr<Vector<T,\ 2>>>,}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Expr<Vector<T,\ 2>>>,}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_subscript_access}{detail::ExprEnableSubscriptAccess}}<Expr<Vector<T,\ 2>>>,}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_get_member_by_index}{detail::ExprEnableGetMemberByIndex}}<Expr<Vector<T,\ 2>>>\ \{}
\DoxyCodeLine{00188\ \ \ \ \ \mbox{\hyperlink{expr_8h_a961f39cc235ce2e4eafb30141f01784d}{LUISA\_EXPR\_COMMON}}(\mbox{\hyperlink{structluisa_1_1_vector}{Vector<T,\ 2>}})}
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{expr_8h_a3c8009b77bee68e6191c37baa4cab206}{LUISA\_EXPR\_FROM\_LITERAL}}(\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<T,\ 2>)}
\DoxyCodeLine{00190\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<T>\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_012_01_4_01_4_a56af83ce10d0a9d39e88070d5d9ff140}{x}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x0u)\};}
\DoxyCodeLine{00191\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_012_01_4_01_4_a810b6826d7c97ea2685be3ae9e9eee71}{y}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x1u)\};}
\DoxyCodeLine{00192\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dsl_2swizzle__2_8inl_8h}{runtime/dsl/swizzle\_2.inl.h}}>}}
\DoxyCodeLine{00193\ \};}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00196\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00197\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<T,\ 3>>}
\DoxyCodeLine{00198\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast}{detail::ExprEnableStaticCast}}<Expr<Vector<T,\ 3>>>,}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Expr<Vector<T,\ 3>>>,}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_subscript_access}{detail::ExprEnableSubscriptAccess}}<Expr<Vector<T,\ 3>>>,}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_get_member_by_index}{detail::ExprEnableGetMemberByIndex}}<Expr<Vector<T,\ 3>>>\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \mbox{\hyperlink{expr_8h_a961f39cc235ce2e4eafb30141f01784d}{LUISA\_EXPR\_COMMON}}(\mbox{\hyperlink{structluisa_1_1_vector}{Vector<T,\ 3>}})}
\DoxyCodeLine{00203\ \ \ \ \ \mbox{\hyperlink{expr_8h_a3c8009b77bee68e6191c37baa4cab206}{LUISA\_EXPR\_FROM\_LITERAL}}(\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<T,\ 3>)}
\DoxyCodeLine{00204\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<T>\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_013_01_4_01_4_a37f30dd08c365c4c7431d705fc9c0ac5}{x}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x0u)\};}
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_013_01_4_01_4_afd7f346b3b54336f20f3f660f9f8c5a7}{y}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x1u)\};}
\DoxyCodeLine{00206\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_014_01_4_01_4_ad1a402099812d585f4a4f672c2039788}{z}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x2u)\};}
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dsl_2swizzle__3_8inl_8h}{runtime/dsl/swizzle\_3.inl.h}}>}}
\DoxyCodeLine{00208\ \};}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00211\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00212\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<T,\ 4>>}
\DoxyCodeLine{00213\ \ \ \ \ :\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast}{detail::ExprEnableStaticCast}}<Expr<Vector<T,\ 4>>>,}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{detail::ExprEnableBitwiseCast}}<Expr<Vector<T,\ 4>>>,}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_subscript_access}{detail::ExprEnableSubscriptAccess}}<Expr<Vector<T,\ 4>>>,}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_get_member_by_index}{detail::ExprEnableGetMemberByIndex}}<Expr<Vector<T,\ 4>>>\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \mbox{\hyperlink{expr_8h_a961f39cc235ce2e4eafb30141f01784d}{LUISA\_EXPR\_COMMON}}(\mbox{\hyperlink{structluisa_1_1_vector}{Vector<T,\ 4>}})}
\DoxyCodeLine{00218\ \ \ \ \ \mbox{\hyperlink{expr_8h_a3c8009b77bee68e6191c37baa4cab206}{LUISA\_EXPR\_FROM\_LITERAL}}(\mbox{\hyperlink{structluisa_1_1_vector}{Vector}}<T,\ 4>)}
\DoxyCodeLine{00219\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}<T>\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_014_01_4_01_4_a2fc35c34d0a84ec579b09e00c69c0b52}{x}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x0u)\};}
\DoxyCodeLine{00220\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_014_01_4_01_4_aa5df7321ad59304c057f3319f1e7dd82}{y}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x1u)\};}
\DoxyCodeLine{00221\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_014_01_4_01_4_ad1a402099812d585f4a4f672c2039788}{z}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x2u)\};}
\DoxyCodeLine{00222\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr_3_01_vector_3_01_t_00_014_01_4_01_4_accbfb6f8fe9640133fec256d7f3aea4b}{w}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_function_builder_a4590ef89abb9497192eb36510caf0384}{detail::FunctionBuilder::current}}()-\/>swizzle(Type::of<T>(),\ this-\/>expression(),\ 1u,\ 0x3u)\};}
\DoxyCodeLine{00223\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dsl_2swizzle__4_8inl_8h}{runtime/dsl/swizzle\_4.inl.h}}>}}
\DoxyCodeLine{00224\ \};}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \textcolor{preprocessor}{\#undef\ LUISA\_EXPR\_COMMON}}
\DoxyCodeLine{00227\ \textcolor{preprocessor}{\#undef\ LUISA\_EXPR\_FROM\_LITERAL}}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedetail}{detail}}\ \{}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00232\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00233\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast}{ExprEnableStaticCast}}\ \{}
\DoxyCodeLine{00234\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Dest>}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{conceptluisa_1_1concepts_1_1static__convertible}{concepts::static\_convertible}}<}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_a97a30acfe72da21925e80a2861d53c9b}{expr\_value\_t<T>}},\ \mbox{\hyperlink{namespaceluisa_1_1compute_a97a30acfe72da21925e80a2861d53c9b}{expr\_value\_t<Dest>}}>}
\DoxyCodeLine{00237\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast_ac3e5a86f6edbe2385be857fe4ded2179}{cast}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ src\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def}}(*\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }T\ *\textcolor{keyword}{>}(\textcolor{keyword}{this}));}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<expr\_value\_t<T>,}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_a97a30acfe72da21925e80a2861d53c9b}{expr\_value\_t<Dest>}}>)\ \{}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ src;}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }TrueDest\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_a97a30acfe72da21925e80a2861d53c9b}{expr\_value\_t<Dest>}};}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<TrueDest>}}(}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ FunctionBuilder::current()-\/>\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast_ac3e5a86f6edbe2385be857fe4ded2179}{cast}}(}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Type::of<TrueDest>(),}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_a02209199649184aa3216bb281625eb51afe6f99ef1ec99efbdc19a9786cf1facc}{CastOp::STATIC}},}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ src.expression()));}
\DoxyCodeLine{00249\ \ \ \ \ \}}
\DoxyCodeLine{00250\ \};}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00253\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00254\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast}{ExprEnableBitwiseCast}}\ \{}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Dest>}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{conceptluisa_1_1concepts_1_1bitwise__convertible}{concepts::bitwise\_convertible}}<}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_a97a30acfe72da21925e80a2861d53c9b}{expr\_value\_t<T>}},\ \mbox{\hyperlink{namespaceluisa_1_1compute_a97a30acfe72da21925e80a2861d53c9b}{expr\_value\_t<Dest>}}>}
\DoxyCodeLine{00258\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast_a3ec36f0abfaef5913e39c0f8a00ad21e}{as}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ src\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def}}(*\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }T\ *\textcolor{keyword}{>}(\textcolor{keyword}{this}));}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }TrueSrc\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_a97a30acfe72da21925e80a2861d53c9b}{expr\_value\_t<T>}};}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }TrueDest\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_a97a30acfe72da21925e80a2861d53c9b}{expr\_value\_t<Dest>}};}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ cast\ between\ same\ types\ is\ a\ no-\/op}}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<TrueSrc,\ TrueDest>)\ \{}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ src;}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ cast\ between\ integral\ types\ can\ be\ reduced\ to\ a\ static\ cast}}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ op\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_a02209199649184aa3216bb281625eb51a148ab245e3979febdfe41fdb15362ba3}{CastOp::BITWISE}};}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\mbox{\hyperlink{namespaceluisa_a1553af33c05ede07d0eb7a5f7121acfe}{is\_scalar\_v<TrueSrc>}}\ \&\&\ \mbox{\hyperlink{namespaceluisa_aba3048f6e9f8caae26d3c950d9b49dbb}{is\_integral\_v<TrueSrc>}}\ \&\&}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a1553af33c05ede07d0eb7a5f7121acfe}{is\_scalar\_v<TrueDest>}}\ \&\&\ \mbox{\hyperlink{namespaceluisa_aba3048f6e9f8caae26d3c950d9b49dbb}{is\_integral\_v<TrueDest>}})\ \{}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ op\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_a02209199649184aa3216bb281625eb51afe6f99ef1ec99efbdc19a9786cf1facc}{CastOp::STATIC}};}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<TrueDest>}}(}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ FunctionBuilder::current()-\/>\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_static_cast_ac3e5a86f6edbe2385be857fe4ded2179}{cast}}(}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Type::of<TrueDest>(),}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ op,\ src.expression()));}
\DoxyCodeLine{00276\ \ \ \ \ \}}
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Dest>}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{conceptluisa_1_1concepts_1_1bitwise__convertible}{concepts::bitwise\_convertible}}<}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_a97a30acfe72da21925e80a2861d53c9b}{expr\_value\_t<T>}},\ \mbox{\hyperlink{namespaceluisa_1_1compute_a97a30acfe72da21925e80a2861d53c9b}{expr\_value\_t<Dest>}}>}
\DoxyCodeLine{00280\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast_a18dcc95bbfb04fd6c2572e37d3e7cb60}{bitcast}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_bitwise_cast_a3ec36f0abfaef5913e39c0f8a00ad21e}{as}}();}
\DoxyCodeLine{00282\ \ \ \ \ \}}
\DoxyCodeLine{00283\ \};}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00286\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00287\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_subscript_access}{ExprEnableSubscriptAccess}}\ \{}
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ I>}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \textcolor{keyword}{requires}\ \mbox{\hyperlink{namespaceluisa_1_1compute_a2e4127befb5af9644bdabcf03206d9a0}{is\_integral\_expr\_v<I>}}}
\DoxyCodeLine{00290\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_subscript_access_abfb267b8e74083a1ab8870e46329c77c}{operator[]}}(I\ \&\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ self\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<T>}}(\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }T\ *\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>expression());}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }Elem\ =\ std::remove\_cvref\_t<}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{decltype}(std::declval<expr\_value\_t<T>>()[0])>;}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac6894281f79600b83c401fbf77ec3727}{def<Elem>}}(FunctionBuilder::current()-\/>access(}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ Type::of<Elem>(),\ self.expression(),}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ extract\_expression(std::forward<I>(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}}))));}
\DoxyCodeLine{00297\ \ \ \ \ \}}
\DoxyCodeLine{00298\ \};}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00301\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00302\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_get_member_by_index}{ExprEnableGetMemberByIndex}}\ \{}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ i>}
\DoxyCodeLine{00304\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_expr_enable_get_member_by_index_aaff60d92fbc03c8359d4c08be495a893}{get}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(i\ <\ dimension\_v<expr\_value\_t<T>>);}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }T\ *\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>\textcolor{keyword}{operator}[](\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\textcolor{keyword}{>}(i));}
\DoxyCodeLine{00307\ \ \ \ \ \}}
\DoxyCodeLine{00308\ \};}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \}\textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \textcolor{comment}{//\ deduction\ guides}}
\DoxyCodeLine{00313\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00314\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}(\mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}})\ -\/>\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}};}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00317\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_var}{Var<T>}}\ \&)\ -\/>\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}};}
\DoxyCodeLine{00318\ }
\DoxyCodeLine{00319\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00320\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}(\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_ref}{detail::Ref<T>}})\ -\/>\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}};}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \textcolor{keyword}{template}<concepts::basic\ T>}
\DoxyCodeLine{00323\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr}}(T)\ -\/>\ \mbox{\hyperlink{structluisa_1_1compute_1_1_expr}{Expr<T>}};}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00325\ \textcolor{preprocessor}{\#define\ LUISA\_RESOURCE\_PROXY\_AVOID\_CONSTRUCTION(Class)\ \(\backslash\)}}
\DoxyCodeLine{00326\ \textcolor{preprocessor}{\ \ \ \ Class()\ noexcept\ =\ delete;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00327\ \textcolor{preprocessor}{\ \ \ \ Class(Class\ \&\&)\ noexcept\ =\ delete;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00328\ \textcolor{preprocessor}{\ \ \ \ Class(const\ Class\ \&)\ noexcept\ =\ delete;\ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00329\ \textcolor{preprocessor}{\ \ \ \ Class\ \&operator=(Class\ \&\&)\ noexcept\ =\ delete;\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00330\ \textcolor{preprocessor}{\ \ \ \ Class\ \&operator=(const\ Class\ \&)\ noexcept\ =\ delete;\ \(\backslash\)}}
\DoxyCodeLine{00331\ \textcolor{preprocessor}{\ \ \ \ \string~Class()\ noexcept\ =\ delete;}}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \}\textcolor{comment}{//\ namespace\ luisa::compute}}

\end{DoxyCode}
