\doxysection{time\+\_\+framework.\+h}
\hypertarget{time__framework_8h_source}{}\label{time__framework_8h_source}\index{external/taskflow/3rd-\/party/tbb/src/perf/time\_framework.h@{external/taskflow/3rd-\/party/tbb/src/perf/time\_framework.h}}
\mbox{\hyperlink{time__framework_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2005-\/2020\ Intel\ Corporation}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{*/}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#ifndef\ \_\_TIME\_FRAMEWORK\_H\_\_}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ \_\_TIME\_FRAMEWORK\_H\_\_}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <cstdlib>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <math.h>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tbb__stddef_8h}{tbb/tbb\_stddef.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{task__scheduler__init_8h}{tbb/task\_scheduler\_init.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tick__count_8h}{tbb/tick\_count.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#define\ HARNESS\_CUSTOM\_MAIN\ 1}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{harness_8h}{../test/harness.h}}"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{harness__barrier_8h}{../test/harness\_barrier.h}}"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#define\ STATISTICS\_INLINE}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{perf_2statistics_8h}{statistics.h}}"{}}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#ifndef\ ARG\_TYPE}}
\DoxyCodeLine{00035\ \textcolor{keyword}{typedef}\ intptr\_t\ \mbox{\hyperlink{time__framework_8h_ae8337211f530638a6849d417e5e05cbb}{arg\_t}};}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00037\ \textcolor{keyword}{typedef}\ ARG\_TYPE\ \mbox{\hyperlink{time__framework_8h_ae8337211f530638a6849d417e5e05cbb}{arg\_t}};}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_timer_a5f16e8da27d2a5a5242dead46de05d97}{Timer}}\ \{}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{classtbb_1_1tick__count}{tbb::tick\_count}}\ \mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}};}
\DoxyCodeLine{00042\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{class_timer_a5f16e8da27d2a5a5242dead46de05d97}{Timer}}()\ \{\ \mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}}\ =\ \mbox{\hyperlink{classtbb_1_1tick__count_a74dcecde7431ff4591d7c46fc1d50d7e}{tbb::tick\_count::now}}();\ \}}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_timer_a71f709ed25564085ca99a184b3b09df8}{get\_time}}()\ \ \{\ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classtbb_1_1tick__count_a74dcecde7431ff4591d7c46fc1d50d7e}{tbb::tick\_count::now}}()\ -\/\ \mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}}).seconds();\ \}}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_timer_af9ace9b280e5c9ea0da51a02fa8fd8ab}{diff\_time}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_timer_a5f16e8da27d2a5a5242dead46de05d97}{Timer}}\ \&newer)\ \{\ \textcolor{keywordflow}{return}\ (newer.\mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}}\ -\/\ \mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}}).seconds();\ \}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_timer_a42e846438ff0a04b0906962b21855595}{mark\_time}}()\ \{\ \mbox{\hyperlink{classtbb_1_1tick__count}{tbb::tick\_count}}\ t1(\mbox{\hyperlink{classtbb_1_1tick__count_a74dcecde7431ff4591d7c46fc1d50d7e}{tbb::tick\_count::now}}()),\ t2(\mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}});\ \mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}}\ =\ t1;\ \textcolor{keywordflow}{return}\ (t1\ -\/\ t2).seconds();\ \}}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_timer_af495314675addb5f2859335c0cdff234}{mark\_time}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_timer_a5f16e8da27d2a5a5242dead46de05d97}{Timer}}\ \&newer)\ \{\ \mbox{\hyperlink{classtbb_1_1tick__count}{tbb::tick\_count}}\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}(\mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}});\ \mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}}\ =\ newer.\mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}};\ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{class_timer_a1688bafafa515d1173c5a92bc8a27d94}{tick}}\ -\/\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}}).seconds();\ \}}
\DoxyCodeLine{00048\ \};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_tester_base_ace45830020ea18f7847faa2eb757f9fc}{TesterBase}}\ \textcolor{comment}{/*:\ public\ tbb::internal::no\_copy*/}\ \{}
\DoxyCodeLine{00051\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_tester_base_a3572f7bef6d46d09a8579123b0752fd6}{TestProcessor}};}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_tester_base_aef55eac6a104472bd865f4dd2a13d378}{TestRunner}};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{class_harness_1_1_spin_barrier}{Harness::SpinBarrier}}\ *\mbox{\hyperlink{class_tester_base_a4da7e37b63e55de4716d7cd9dce8ce34}{barrier}};}
\DoxyCodeLine{00057\ \ \ \ \ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_tester_base_a13fd7dbd72a31cf16945f4b8a347d86c}{tests\_count}};}
\DoxyCodeLine{00060\ \ \ \ \ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_tester_base_aac0718877844ec5dac8f8f512067627b}{threads\_count}};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{time__framework_8h_ae8337211f530638a6849d417e5e05cbb}{arg\_t}}\ \mbox{\hyperlink{class_tester_base_a1f1fa58ae32a2a127ce50e9a5aa021b8}{value}};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{class_tester_base_a0ba2f6c047b8ac4555fd3106a08c325a}{tester\_name}};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ avoid\ false\ sharing}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{class_tester_base_a8e490ed1b91f762b6d9f8292bc0be66c}{pad}}[128\ -\/\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{time__framework_8h_ae8337211f530638a6849d417e5e05cbb}{arg\_t}})\ -\/\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int})*2\ -\/\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*)*2\ ];}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{class_tester_base_ace45830020ea18f7847faa2eb757f9fc}{TesterBase}}(\textcolor{keywordtype}{int}\ ntests)}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{class_tester_base_a4da7e37b63e55de4716d7cd9dce8ce34}{barrier}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\ \mbox{\hyperlink{class_tester_base_a13fd7dbd72a31cf16945f4b8a347d86c}{tests\_count}}(ntests)}
\DoxyCodeLine{00077\ \ \ \ \ \{\}}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_tester_base_ab1a2384db843cbe71892feab0c6719dc}{\string~TesterBase}}()\ \{\}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tester_base_aaaca975185011c1d4bfffbde2b153936}{base\_init}}(\mbox{\hyperlink{time__framework_8h_ae8337211f530638a6849d417e5e05cbb}{arg\_t}}\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}},\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}},\ \mbox{\hyperlink{class_harness_1_1_spin_barrier}{Harness::SpinBarrier}}\ \&\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}})\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tester_base_aac0718877844ec5dac8f8f512067627b}{threads\_count}}\ =\ \mbox{\hyperlink{boing_8c_a87accd1af8e0aff4b818d891374f7cec}{t}};}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tester_base_a4da7e37b63e55de4716d7cd9dce8ce34}{barrier}}\ =\ \&\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}};}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tester_base_a1f1fa58ae32a2a127ce50e9a5aa021b8}{value}}\ =\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}};}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tester_base_a3c84ff308ec38fa49f89109d18d61e2a}{init}}();}
\DoxyCodeLine{00086\ \ \ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tester_base_a3c84ff308ec38fa49f89109d18d61e2a}{init}}()\ \{\ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keyword}{virtual}\ std::string\ \mbox{\hyperlink{class_tester_base_a7f3417f782fc30d35c34b91d976fbfe4}{get\_name}}(\textcolor{keywordtype}{int}\ testn)\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{perf_2statistics_8h_aae879ea06f3090bbb683fedcd3a0af39}{Format}}(\textcolor{stringliteral}{"{}test\ \%d"{}},\ testn);}
\DoxyCodeLine{00094\ \ \ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_tester_base_a49fe38263c8f9fbfb8bc385220903012}{test\_prefix}}(\textcolor{keywordtype}{int}\ testn,\ \textcolor{keywordtype}{int}\ threadn)\ \{\ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classvalue__t}{value\_t}}\ \mbox{\hyperlink{class_tester_base_aebc1085725f77fc35803a131c484cbe7}{test}}(\textcolor{keywordtype}{int}\ testn,\ \textcolor{keywordtype}{int}\ threadn)\ =\ 0;}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811}{result\_t}}\ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811aa229a861af41fa0d12d07fe60ec5c943}{SUM}},\ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811a3312ca86b590e20045d12549656e322e}{AVG}},\ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811a7aa2f63b4f1e27199ef278814367cc5d}{MIN}},\ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811a424b61dd6c5030ea9bf6ad3fa52e7281}{MAX}}}
\DoxyCodeLine{00105\ \ \ \ \ \};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{class_tester_base_ae1a09d89d2692ed1a12697654e05f974}{get\_result\_type}}(\textcolor{keywordtype}{int}\ \textcolor{comment}{/*testn*/},\ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811}{result\_t}}\ \mbox{\hyperlink{structstrip__const}{type}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structstrip__const}{type}}\ ==\ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811a3312ca86b590e20045d12549656e322e}{AVG}}\ ?\ \textcolor{stringliteral}{"{}"{}}\ :\ 0;\ \textcolor{comment}{//\ only\ average\ result\ by\ default}}
\DoxyCodeLine{00110\ \ \ \ \ \}}
\DoxyCodeLine{00111\ \};}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{comment}{/*****}}
\DoxyCodeLine{00114\ \textcolor{comment}{a\ user's\ tester\ concept:}}
\DoxyCodeLine{00115\ \textcolor{comment}{}}
\DoxyCodeLine{00116\ \textcolor{comment}{class\ tester:\ public\ TesterBase\ \{}}
\DoxyCodeLine{00117\ \textcolor{comment}{public:}}
\DoxyCodeLine{00119\ \ \ \ \ tester()\ :\ TesterBase(<user-\/specified\ tests\ count>)\ \{\ ...\ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00122\ \ \ \ \ /\ *override*\ /\ value\_t\ test(int\ test\_number,\ int\ thread);}
\DoxyCodeLine{00123\ \};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ ******/}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Tester,\ \textcolor{keywordtype}{int}\ scale\ =\ 1>}
\DoxyCodeLine{00128\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_time_test}{TimeTest}}\ :\ \textcolor{keyword}{public}\ Tester\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{comment}{/*override*/}\ \mbox{\hyperlink{classvalue__t}{value\_t}}\ \mbox{\hyperlink{class_time_test_a0e18198d53c636532d266becda295a41}{test}}(\textcolor{keywordtype}{int}\ testn,\ \textcolor{keywordtype}{int}\ threadn)\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_timer}{Timer}}\ \mbox{\hyperlink{util_8h_ab887afc9c355ad12d21903f5e9b03642}{timer}};}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ Tester::test(testn,\ threadn);}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{util_8h_ab887afc9c355ad12d21903f5e9b03642}{timer}}.get\_time()\ *\ double(\mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}});}
\DoxyCodeLine{00133\ \ \ \ \ \}}
\DoxyCodeLine{00134\ \};}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Tester>}
\DoxyCodeLine{00137\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_nanosec_per_value}{NanosecPerValue}}\ :\ \textcolor{keyword}{public}\ Tester\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{comment}{/*override*/}\ \mbox{\hyperlink{classvalue__t}{value\_t}}\ \mbox{\hyperlink{class_nanosec_per_value_aa755f59221accc65b4607abfcc6f0421}{test}}(\textcolor{keywordtype}{int}\ testn,\ \textcolor{keywordtype}{int}\ threadn)\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_timer}{Timer}}\ \mbox{\hyperlink{util_8h_ab887afc9c355ad12d21903f5e9b03642}{timer}};}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ Tester::test(testn,\ threadn);}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ return\ time\ (ns)\ per\ value}}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{util_8h_ab887afc9c355ad12d21903f5e9b03642}{timer}}.get\_time()*1\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}+9/double(Tester::value);}
\DoxyCodeLine{00143\ \ \ \ \ \}}
\DoxyCodeLine{00144\ \};}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Tester,\ \textcolor{keywordtype}{int}\ scale\ =\ 1>}
\DoxyCodeLine{00147\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_value_per_second}{ValuePerSecond}}\ :\ \textcolor{keyword}{public}\ Tester\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{comment}{/*override*/}\ \mbox{\hyperlink{classvalue__t}{value\_t}}\ \mbox{\hyperlink{class_value_per_second_aa9ad04dc93d0e6267bfad66f66cca804}{test}}(\textcolor{keywordtype}{int}\ testn,\ \textcolor{keywordtype}{int}\ threadn)\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_timer}{Timer}}\ \mbox{\hyperlink{util_8h_ab887afc9c355ad12d21903f5e9b03642}{timer}};}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ Tester::test(testn,\ threadn);}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ return\ value\ per\ seconds/scale}}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ double(Tester::value)/(\mbox{\hyperlink{util_8h_ab887afc9c355ad12d21903f5e9b03642}{timer}}.get\_time()*\mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}});}
\DoxyCodeLine{00153\ \ \ \ \ \}}
\DoxyCodeLine{00154\ \};}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Tester,\ \textcolor{keywordtype}{int}\ scale\ =\ 1>}
\DoxyCodeLine{00157\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_number_per_second}{NumberPerSecond}}\ :\ \textcolor{keyword}{public}\ Tester\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{comment}{/*override*/}\ \mbox{\hyperlink{classvalue__t}{value\_t}}\ \mbox{\hyperlink{class_number_per_second_a7238f783b73b215b6debbcf7ab45dcc1}{test}}(\textcolor{keywordtype}{int}\ testn,\ \textcolor{keywordtype}{int}\ threadn)\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_timer}{Timer}}\ \mbox{\hyperlink{util_8h_ab887afc9c355ad12d21903f5e9b03642}{timer}};}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ Tester::test(testn,\ threadn);}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ return\ a\ scale\ per\ seconds}}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ double(\mbox{\hyperlink{gnuplot__common__settings_8hh_a028be1055fb10c679b6153f8dcd0befa}{scale}})/\mbox{\hyperlink{util_8h_ab887afc9c355ad12d21903f5e9b03642}{timer}}.get\_time();}
\DoxyCodeLine{00163\ \ \ \ \ \}}
\DoxyCodeLine{00164\ \};}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \textcolor{comment}{//\ operate\ with\ single\ tester}}
\DoxyCodeLine{00167\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_test_runner_a592c90ed89580bb7f4fde5b1465021a4}{TestRunner}}\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_test_runner_a3572f7bef6d46d09a8579123b0752fd6}{TestProcessor}};}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{class_test_runner_a4866e069faf39f8850a659879041ef0f}{RunArgsBody}};}
\DoxyCodeLine{00170\ \ \ \ \ \mbox{\hyperlink{class_test_runner_a592c90ed89580bb7f4fde5b1465021a4}{TestRunner}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_test_runner_a592c90ed89580bb7f4fde5b1465021a4}{TestRunner}}\ \&);\ \textcolor{comment}{//\ don't\ copy}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{class_test_runner_a85d6d2a3798c1efcdc0dbc6bd5175240}{tester\_name}};}
\DoxyCodeLine{00173\ \ \ \ \ \mbox{\hyperlink{class_statistics_collector}{StatisticsCollector}}\ *\mbox{\hyperlink{class_test_runner_af3ab83eaa2e5b36f3dd0705f3c5d5540}{stat}};}
\DoxyCodeLine{00174\ \ \ \ \ std::vector<std::vector<StatisticsCollector::TestCase>\ >\ \mbox{\hyperlink{class_test_runner_aff5ef5d0a13f1a74546b48e8ef60bca9}{keys}};}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00177\ \ \ \ \ \mbox{\hyperlink{class_tester_base}{TesterBase}}\ \&\mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}};}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Test>}
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{class_test_runner_a6b15d8e2bbbc3818b423d2afe39392fd}{TestRunner}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}},\ \mbox{\hyperlink{class_test}{Test}}\ *\mbox{\hyperlink{external_2spine-runtimes_2spine-sfml_2c_2example_2main_8cpp_aac5f14f710620d78720c06cd063ec0ca}{test}})}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{class_test_runner_a85d6d2a3798c1efcdc0dbc6bd5175240}{tester\_name}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}),\ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}(*static\_cast<\mbox{\hyperlink{class_tester_base}{TesterBase}}*>(\mbox{\hyperlink{external_2spine-runtimes_2spine-sfml_2c_2example_2main_8cpp_aac5f14f710620d78720c06cd063ec0ca}{test}}))}
\DoxyCodeLine{00182\ \ \ \ \ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{external_2spine-runtimes_2spine-sfml_2c_2example_2main_8cpp_aac5f14f710620d78720c06cd063ec0ca}{test}}-\/>tester\_name\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}};}
\DoxyCodeLine{00184\ \ \ \ \ \}}
\DoxyCodeLine{00185\ \ \ \ \ }
\DoxyCodeLine{00186\ \ \ \ \ \mbox{\hyperlink{class_test_runner_a121456d7e522c0d83d648a0118ec0c6f}{\string~TestRunner}}()\ \{\ \textcolor{keyword}{delete}\ \&\mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}};\ \}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_test_runner_a00651f75d9e7f2a0ee16021ababc7be8}{init}}(\mbox{\hyperlink{time__framework_8h_ae8337211f530638a6849d417e5e05cbb}{arg\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}},\ \textcolor{keywordtype}{int}\ threads,\ \mbox{\hyperlink{class_harness_1_1_spin_barrier}{Harness::SpinBarrier}}\ \&\mbox{\hyperlink{test__condition__variable_8h_a66a856f373cb24d6a669f2635ce27f18}{barrier}},\ \mbox{\hyperlink{class_statistics_collector}{StatisticsCollector}}\ *\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}})\ \{}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.base\_init(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}},\ threads,\ \mbox{\hyperlink{test__condition__variable_8h_a66a856f373cb24d6a669f2635ce27f18}{barrier}});}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_runner_af3ab83eaa2e5b36f3dd0705f3c5d5540}{stat}}\ =\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}};}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_runner_aff5ef5d0a13f1a74546b48e8ef60bca9}{keys}}.resize(\mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.tests\_count);}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ testn\ =\ 0;\ testn\ <\ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.tests\_count;\ testn++)\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_runner_aff5ef5d0a13f1a74546b48e8ef60bca9}{keys}}[testn].resize(threads);}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ test\_name(\mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.get\_name(testn));}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ threadn\ =\ 0;\ threadn\ <\ threads;\ threadn++)}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_runner_aff5ef5d0a13f1a74546b48e8ef60bca9}{keys}}[testn][threadn]\ =\ \mbox{\hyperlink{class_test_runner_af3ab83eaa2e5b36f3dd0705f3c5d5540}{stat}}-\/>SetTestCase(\mbox{\hyperlink{class_test_runner_a85d6d2a3798c1efcdc0dbc6bd5175240}{tester\_name}},\ test\_name.c\_str(),\ threadn);}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00198\ \ \ \ \ \}}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_test_runner_a1e2c37a1f33af10cf0adc09403a0e10e}{run\_test}}(\textcolor{keywordtype}{int}\ threadn)\ \{}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ testn\ =\ 0;\ testn\ <\ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.tests\_count;\ testn++)\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.test\_prefix(testn,\ threadn);}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.barrier-\/>wait();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ <<<<<<<<<<<<<<<<<\ Barrier\ before\ running\ test\ mode}}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvalue__t}{value\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.test(testn,\ threadn);}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_runner_af3ab83eaa2e5b36f3dd0705f3c5d5540}{stat}}-\/>AddRoundResult(\mbox{\hyperlink{class_test_runner_aff5ef5d0a13f1a74546b48e8ef60bca9}{keys}}[testn][threadn],\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}});}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00207\ \ \ \ \ \}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_test_runner_a137ea427e441d2bd45af0c911c771e27}{post\_process}}(\mbox{\hyperlink{class_statistics_collector}{StatisticsCollector}}\ \&\mbox{\hyperlink{_k_string_8cpp_a7ec2774a7288d5ed336ced4505549a72}{report}})\ \{}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ threads\ =\ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.threads\_count;}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ testn\ =\ 0;\ testn\ <\ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.tests\_count;\ testn++)\ \{}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ coln\ =\ \mbox{\hyperlink{class_test_runner_aff5ef5d0a13f1a74546b48e8ef60bca9}{keys}}[testn][0].getResults().size()-\/1;}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvalue__t}{value\_t}}\ rsum\ =\ \mbox{\hyperlink{class_test_runner_aff5ef5d0a13f1a74546b48e8ef60bca9}{keys}}[testn][0].getResults()[coln];}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvalue__t}{value\_t}}\ rmin\ =\ rsum,\ rmax\ =\ rsum;}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ threadn\ =\ 1;\ threadn\ <\ threads;\ threadn++)\ \{}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvalue__t}{value\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ \mbox{\hyperlink{class_test_runner_aff5ef5d0a13f1a74546b48e8ef60bca9}{keys}}[testn][threadn].getResults()[coln];}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rsum\ +=\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};\ \textcolor{comment}{//\ for\ both\ SUM\ or\ AVG}}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(rmin\ >\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}})\ rmin\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(rmax\ <\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}})\ rmax\ =\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ test\_name(\mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.get\_name(testn));}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *rname\ =\ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.get\_result\_type(testn,\ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811aa229a861af41fa0d12d07fe60ec5c943}{TesterBase::SUM}});}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ rname\ )\ \{}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_k_string_8cpp_a7ec2774a7288d5ed336ced4505549a72}{report}}.SetTestCase(\mbox{\hyperlink{class_test_runner_a85d6d2a3798c1efcdc0dbc6bd5175240}{tester\_name}},\ (test\_name+rname).c\_str(),\ threads);}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_k_string_8cpp_a7ec2774a7288d5ed336ced4505549a72}{report}}.AddRoundResult(rsum);}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ rname\ =\ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.get\_result\_type(testn,\ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811a7aa2f63b4f1e27199ef278814367cc5d}{TesterBase::MIN}});}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ rname\ )\ \{}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_k_string_8cpp_a7ec2774a7288d5ed336ced4505549a72}{report}}.SetTestCase(\mbox{\hyperlink{class_test_runner_a85d6d2a3798c1efcdc0dbc6bd5175240}{tester\_name}},\ (test\_name+rname).c\_str(),\ threads);}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_k_string_8cpp_a7ec2774a7288d5ed336ced4505549a72}{report}}.AddRoundResult(rmin);}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ rname\ =\ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.get\_result\_type(testn,\ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811a3312ca86b590e20045d12549656e322e}{TesterBase::AVG}});}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ rname\ )\ \{}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_k_string_8cpp_a7ec2774a7288d5ed336ced4505549a72}{report}}.SetTestCase(\mbox{\hyperlink{class_test_runner_a85d6d2a3798c1efcdc0dbc6bd5175240}{tester\_name}},\ (test\_name+rname).c\_str(),\ threads);}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_k_string_8cpp_a7ec2774a7288d5ed336ced4505549a72}{report}}.AddRoundResult(rsum\ /\ threads);}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ rname\ =\ \mbox{\hyperlink{class_test_runner_a3601e563665e5f374173dad5802c8eb9}{tester}}.get\_result\_type(testn,\ \mbox{\hyperlink{class_tester_base_aa4b9a75a4516a4f3ab9485b437693811a424b61dd6c5030ea9bf6ad3fa52e7281}{TesterBase::MAX}});}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ rname\ )\ \{}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_k_string_8cpp_a7ec2774a7288d5ed336ced4505549a72}{report}}.SetTestCase(\mbox{\hyperlink{class_test_runner_a85d6d2a3798c1efcdc0dbc6bd5175240}{tester\_name}},\ (test\_name+rname).c\_str(),\ threads);}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_k_string_8cpp_a7ec2774a7288d5ed336ced4505549a72}{report}}.AddRoundResult(rmax);}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00243\ \ \ \ \ \}}
\DoxyCodeLine{00244\ \};}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_run_args_body_ab96b0e3833a7fa0b534a88c2c4f95a96}{RunArgsBody}}\ \{}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keyword}{const}\ vector<TestRunner*>\ \&\mbox{\hyperlink{struct_run_args_body_a83cae463a8ccb92e027f56ec3709c144}{run\_list}};}
\DoxyCodeLine{00248\ \ \ \ \ \mbox{\hyperlink{struct_run_args_body_ab96b0e3833a7fa0b534a88c2c4f95a96}{RunArgsBody}}(\textcolor{keyword}{const}\ vector<TestRunner*>\ \&\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})\ :\ \mbox{\hyperlink{struct_run_args_body_a83cae463a8ccb92e027f56ec3709c144}{run\_list}}(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}})\ \{\ \}}
\DoxyCodeLine{00249\ \textcolor{preprocessor}{\#ifndef\ \_\_TBB\_parallel\_for\_H}}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_run_args_body_acdbd561df7c29b4f4054c4d4a41df951}{operator()}}(\textcolor{keywordtype}{int}\ thread)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00251\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00252\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_run_args_body_acdbd561df7c29b4f4054c4d4a41df951}{operator()}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classtbb_1_1blocked__range}{tbb::blocked\_range<int>}}\ \&\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_mini_cpp_unit_8hxx_a092bd7bb2cb7fd9f483b6995cee61bc0}{ASSERT}}(\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.begin()\ +\ 1\ ==\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.end(),\ 0);}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ thread\ =\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}.begin();}
\DoxyCodeLine{00255\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ \mbox{\hyperlink{struct_run_args_body_a83cae463a8ccb92e027f56ec3709c144}{run\_list}}.size();\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_run_args_body_a83cae463a8ccb92e027f56ec3709c144}{run\_list}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{umeyama_8cpp_a79cc0d3091c73db31bd6b462be8d9862}{run\_test}}(thread);}
\DoxyCodeLine{00258\ \ \ \ \ \}}
\DoxyCodeLine{00259\ \};}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_test_processor_ac3fb5d5cb7c17efcbc74088d022240a1}{TestProcessor}}\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_test_processor_a5b430836a624e942afefea7e3c4c18d8}{TesterBase}};}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ \ \ \ \ \textcolor{comment}{//\ <threads,\ collector>}}
\DoxyCodeLine{00279\ \ \ \ \ \textcolor{keyword}{typedef}\ std::map<int,\ StatisticsCollector\ *>\ \mbox{\hyperlink{class_test_processor_af30366340229b130928b45828c471107}{statistics\_collection}};}
\DoxyCodeLine{00280\ \ \ \ \ \mbox{\hyperlink{class_test_processor_af30366340229b130928b45828c471107}{statistics\_collection}}\ \mbox{\hyperlink{class_test_processor_aa7efa0418e41bc1bfa283bcd44c4da43}{stat\_by\_threads}};}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{comment}{//\ Members}}
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{class_test_processor_ac80b299275b7e2fd325b39fce534d2b2}{collection\_name}};}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{comment}{//\ current\ stat}}
\DoxyCodeLine{00286\ \ \ \ \ \mbox{\hyperlink{class_statistics_collector}{StatisticsCollector}}\ *\mbox{\hyperlink{class_test_processor_a0ad21efd0d66534f1b3ed5e407526a88}{stat}};}
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{comment}{//\ token}}
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_test_processor_a1151a6c2d26b24c368d5ff1d9dceef1a}{end}};}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00291\ \ \ \ \ \mbox{\hyperlink{class_statistics_collector}{StatisticsCollector}}\ \mbox{\hyperlink{class_test_processor_a4b93aa718702a0a69b4700f2c3dee6e4}{report}};}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \ \ \ \ \textcolor{comment}{//\ token\ of\ tests\ list}}
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Test>}
\DoxyCodeLine{00295\ \ \ \ \ \mbox{\hyperlink{class_test_runner}{TestRunner}}\ *\mbox{\hyperlink{class_test_processor_ad702e97214b8277f970efdd24ef018c6}{run}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}},\ \mbox{\hyperlink{class_test}{Test}}\ *\mbox{\hyperlink{external_2spine-runtimes_2spine-sfml_2c_2example_2main_8cpp_aac5f14f710620d78720c06cd063ec0ca}{test}})\ \{}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_test_runner}{TestRunner}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}},\ \mbox{\hyperlink{external_2spine-runtimes_2spine-sfml_2c_2example_2main_8cpp_aac5f14f710620d78720c06cd063ec0ca}{test}});}
\DoxyCodeLine{00297\ \ \ \ \ \}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{comment}{//\ iteration\ processing}}
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_test_processor_af408cadfc40f05bb44d2ebb925d33e4b}{process}}(\mbox{\hyperlink{time__framework_8h_ae8337211f530638a6849d417e5e05cbb}{arg\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}},\ \textcolor{keywordtype}{int}\ threads,\ ...)\ \{}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ prepare\ items}}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_processor_a0ad21efd0d66534f1b3ed5e407526a88}{stat}}\ =\ \mbox{\hyperlink{class_test_processor_aa7efa0418e41bc1bfa283bcd44c4da43}{stat\_by\_threads}}[threads];}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!\mbox{\hyperlink{class_test_processor_a0ad21efd0d66534f1b3ed5e407526a88}{stat}})\ \{}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_processor_aa7efa0418e41bc1bfa283bcd44c4da43}{stat\_by\_threads}}[threads]\ =\ \mbox{\hyperlink{class_test_processor_a0ad21efd0d66534f1b3ed5e407526a88}{stat}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_statistics_collector}{StatisticsCollector}}((\mbox{\hyperlink{class_test_processor_ac80b299275b7e2fd325b39fce534d2b2}{collection\_name}}\ +\ \mbox{\hyperlink{perf_2statistics_8h_aae879ea06f3090bbb683fedcd3a0af39}{Format}}(\textcolor{stringliteral}{"{}@\%d"{}},\ threads)).c\_str(),\ \mbox{\hyperlink{class_statistics_collector_a428ba472038844565822a1dfbec05dc6a358b022f34e43d626ccf264b4ee739a0}{StatisticsCollector::ByAlg}});}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_processor_a0ad21efd0d66534f1b3ed5e407526a88}{stat}}-\/>SetTitle(\textcolor{stringliteral}{"{}Detailed\ log\ of\ \%s\ running\ with\ \%d\ threads."{}},\ \mbox{\hyperlink{class_test_processor_ac80b299275b7e2fd325b39fce534d2b2}{collection\_name}},\ threads);}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_harness_1_1_spin_barrier}{Harness::SpinBarrier}}\ \mbox{\hyperlink{test__condition__variable_8h_a66a856f373cb24d6a669f2635ce27f18}{barrier}}(threads);}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ init\ args}}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ va\_list\ \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}};\ va\_start(\mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}},\ threads);}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ vector<TestRunner*>\ run\_list;\ run\_list.reserve(16);}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_runner}{TestRunner}}\ *item\ =\ va\_arg(\mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}},\ \mbox{\hyperlink{class_test_runner}{TestRunner}}*);}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !item\ )\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ item-\/>\mbox{\hyperlink{class_test_runner_a00651f75d9e7f2a0ee16021ababc7be8}{init}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}},\ threads,\ \mbox{\hyperlink{test__condition__variable_8h_a66a856f373cb24d6a669f2635ce27f18}{barrier}},\ \mbox{\hyperlink{class_test_processor_a0ad21efd0d66534f1b3ed5e407526a88}{stat}});}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ run\_list.push\_back(item);}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ va\_end(\mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}});}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ std::ostringstream\ buf;}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ buf\ <<\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}};}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ round\_number\ =\ \mbox{\hyperlink{class_test_processor_a0ad21efd0d66534f1b3ed5e407526a88}{stat}}-\/>GetRoundsCount();}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_processor_a0ad21efd0d66534f1b3ed5e407526a88}{stat}}-\/>SetRoundTitle(round\_number,\ buf.str().c\_str());}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_test_processor_a4b93aa718702a0a69b4700f2c3dee6e4}{report}}.SetRoundTitle(round\_number,\ buf.str().c\_str());}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ run\ them}}
\DoxyCodeLine{00324\ \textcolor{preprocessor}{\#ifndef\ \_\_TBB\_parallel\_for\_H}}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{harness_8h_ad5b2c9cf4e169014b7919debb3c91d45}{NativeParallelFor}}(threads,\ \mbox{\hyperlink{struct_run_args_body}{RunArgsBody}}(run\_list));}
\DoxyCodeLine{00326\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__algorithms_gaa8444c29dc4d2e527a1036717d109aef}{tbb::parallel\_for}}(\mbox{\hyperlink{classtbb_1_1blocked__range}{tbb::blocked\_range<int>}}(0,threads,1),\ \mbox{\hyperlink{struct_run_args_body}{RunArgsBody}}(run\_list));}
\DoxyCodeLine{00328\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ destroy\ args}}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ <\ run\_list.size();\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)\ \{}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ run\_list[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>post\_process(\mbox{\hyperlink{class_test_processor_a4b93aa718702a0a69b4700f2c3dee6e4}{report}});}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ run\_list[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00334\ \ \ \ \ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00337\ \ \ \ \ \mbox{\hyperlink{class_test_processor_ac3fb5d5cb7c17efcbc74088d022240a1}{TestProcessor}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}},\ \mbox{\hyperlink{class_statistics_collector_a428ba472038844565822a1dfbec05dc6}{StatisticsCollector::Sorting}}\ sort\_by\ =\ \mbox{\hyperlink{class_statistics_collector_a428ba472038844565822a1dfbec05dc6a358b022f34e43d626ccf264b4ee739a0}{StatisticsCollector::ByAlg}})}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{class_test_processor_ac80b299275b7e2fd325b39fce534d2b2}{collection\_name}}(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}),\ \mbox{\hyperlink{class_test_processor_a0ad21efd0d66534f1b3ed5e407526a88}{stat}}(\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}),\ \mbox{\hyperlink{class_test_processor_a1151a6c2d26b24c368d5ff1d9dceef1a}{end}}(0),\ \mbox{\hyperlink{class_test_processor_a4b93aa718702a0a69b4700f2c3dee6e4}{report}}(\mbox{\hyperlink{class_test_processor_ac80b299275b7e2fd325b39fce534d2b2}{collection\_name}},\ sort\_by)}
\DoxyCodeLine{00339\ \ \ \ \ \{\ \}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ \ \ \mbox{\hyperlink{class_test_processor_aca71ed93ef2bcabb641549241ac1833e}{\string~TestProcessor}}()\ \{}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(statistics\_collection::iterator\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ \mbox{\hyperlink{class_test_processor_aa7efa0418e41bc1bfa283bcd44c4da43}{stat\_by\_threads}}.begin();\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ !=\ \mbox{\hyperlink{class_test_processor_aa7efa0418e41bc1bfa283bcd44c4da43}{stat\_by\_threads}}.end();\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}-\/>second;}
\DoxyCodeLine{00344\ \ \ \ \ \}}
\DoxyCodeLine{00345\ \};}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ \textcolor{preprocessor}{\#endif}\textcolor{comment}{//\ \_\_TIME\_FRAMEWORK\_H\_\_}}

\end{DoxyCode}
