\doxysection{resource.\+h}
\hypertarget{runtime_2rhi_2resource_8h_source}{}\label{runtime_2rhi_2resource_8h_source}\index{runtime/runtime/rhi/resource.h@{runtime/runtime/rhi/resource.h}}
\mbox{\hyperlink{runtime_2rhi_2resource_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dll__export_8h}{runtime/core/dll\_export.h}}>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{core_2stl_2memory_8h}{runtime/core/stl/memory.h}}>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{string_8h}{runtime/core/stl/string.h}}>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{hash_8h}{runtime/core/stl/hash.h}}>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{pixel_8h}{runtime/runtime/rhi/pixel.h}}>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute}{luisa::compute}}\ \{}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }DeviceInterface;}
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }Device;}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail}{detail}}\ \{}
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }ShaderInvokeBase;}
\DoxyCodeLine{00016\ \}\textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespaceluisa_1_1compute_affd046d6a89691965adba6eecb1b1050}{invalid\_resource\_handle}}\ =\ \string~0ull;}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info}{ResourceCreationInfo}}\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info_add82df1121e79237c971f38983a09c73}{handle}};}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info_a1589dc0028665ac98d817e93f95fa03f}{native\_handle}};}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info_a2458b416ff078cf9c5a4124681c55cda}{valid}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info_add82df1121e79237c971f38983a09c73}{handle}}\ !=\ \mbox{\hyperlink{namespaceluisa_1_1compute_affd046d6a89691965adba6eecb1b1050}{invalid\_resource\_handle}};\ \}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info_a63467baf805272846c1eef2a0757f97e}{invalidate}}()\ noexcept\ \{}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info_add82df1121e79237c971f38983a09c73}{handle}}\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_affd046d6a89691965adba6eecb1b1050}{invalid\_resource\_handle}};}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info_a1589dc0028665ac98d817e93f95fa03f}{native\_handle}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00029\ \ \ \ \ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info_af97ef43f5d1f20f034ba53d872a9bc49}{make\_invalid}}()\ noexcept\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info}{ResourceCreationInfo}}\{\mbox{\hyperlink{namespaceluisa_1_1compute_affd046d6a89691965adba6eecb1b1050}{invalid\_resource\_handle}},\ \textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00033\ \ \ \ \ \}}
\DoxyCodeLine{00034\ \};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_buffer_creation_info}{BufferCreationInfo}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info}{ResourceCreationInfo}}\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_buffer_creation_info_a70484517b003a58db336e35e504fab5b}{element\_stride}};}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_buffer_creation_info_af1d9cd55356781bb2484c60c09fb6aef}{total\_size\_bytes}};}
\DoxyCodeLine{00039\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_buffer_creation_info_afce0baa162dbebae33c55a47c383e10b}{make\_invalid}}()\ noexcept\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_buffer_creation_info}{BufferCreationInfo}}\ info\{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ .element\_stride\ =\ 0,}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ .total\_size\_bytes\ =\ 0\};}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ info.handle\ =\ \mbox{\hyperlink{namespaceluisa_1_1compute_affd046d6a89691965adba6eecb1b1050}{invalid\_resource\_handle}};}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ info.native\_handle\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ info;}
\DoxyCodeLine{00046\ \ \ \ \ \}}
\DoxyCodeLine{00047\ \};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_swapchain_option}{SwapchainOption}}\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_swapchain_option_a8308a770f0017dc9874c17bb4db72a4d}{display}};}
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_swapchain_option_a5e10134f6873875f8e13afea849a9c60}{window}};}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{sugar_8h_a558ad5a0d5b02f1f24be1ae49b492a73}{uint2}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_swapchain_option_add11f5a96f8de171583ab4891106baff}{size}};}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_swapchain_option_a23434c398e268f06f96f7cc5f27e80cb}{wants\_hdr}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_swapchain_option_a1c1756529f35563dd6c28fedf1a07850}{wants\_vsync}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_swapchain_option_a51c9dbbf4532a20f9e0f0c2deed380a4}{back\_buffer\_count}}\ =\ 2;}
\DoxyCodeLine{00056\ \};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_swapchain_creation_info}{SwapchainCreationInfo}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info}{ResourceCreationInfo}}\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_1_1compute_abead6589815a16b8c622a5ac26b2715b}{PixelStorage}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_swapchain_creation_info_aa0dffee2a4c75ae73909af8ed14ec835}{storage}};}
\DoxyCodeLine{00060\ \};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_shader_creation_info}{ShaderCreationInfo}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info}{ResourceCreationInfo}}\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \mbox{\hyperlink{sugar_8h_a1b12c3dbe09fa4f18058466f0d8a393e}{uint3}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_creation_info_a863355d07408b57b875485402a1315e1}{block\_size}};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_creation_info_a893dd837e4ed16e7b66cf208876b5ede}{make\_invalid}}()\ noexcept\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_creation_info}{ShaderCreationInfo}}\ info\{\};}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ info.invalidate();}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ info;}
\DoxyCodeLine{00069\ \ \ \ \ \}}
\DoxyCodeLine{00070\ \};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_sparse_texture_creation_info}{SparseTextureCreationInfo}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info}{ResourceCreationInfo}}\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_sparse_texture_creation_info_a4fbb8838ee76f3977c64494163f69fba}{tile\_size\_bytes}};}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{sugar_8h_a1b12c3dbe09fa4f18058466f0d8a393e}{uint3}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_sparse_texture_creation_info_af8fa5816b89fe320794d552fcbff06d8}{tile\_size}};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_sparse_texture_creation_info_a578cc6be464d8413a97e1a34cd7d6ddd}{make\_invalid}}()\ noexcept\ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_sparse_texture_creation_info}{SparseTextureCreationInfo}}\ info\{\};}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ info.invalidate();}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ info;}
\DoxyCodeLine{00080\ \ \ \ \ \}}
\DoxyCodeLine{00081\ \};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_sparse_buffer_creation_info}{SparseBufferCreationInfo}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_buffer_creation_info}{BufferCreationInfo}}\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ tile\_size\_bytes;}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_sparse_buffer_creation_info_a14bff307debac46ad2baffe2905bbf25}{make\_invalid}}()\ noexcept\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_sparse_buffer_creation_info}{SparseBufferCreationInfo}}\ info\{\};}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ info.invalidate();}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ info;}
\DoxyCodeLine{00090\ \ \ \ \ \}}
\DoxyCodeLine{00091\ \};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option}{AccelOption}}\ \{}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{enum\ struct}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_ab58a3ad590b831bbe1510bfcb1dfd47b}{UsageHint}}\ :\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_ab58a3ad590b831bbe1510bfcb1dfd47ba3f684dca71b75eb53a8a25920db6a67f}{FAST\_TRACE}},\textcolor{comment}{//\ build\ with\ best\ quality}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_ab58a3ad590b831bbe1510bfcb1dfd47ba8f43d2d9234f74c301bb1cb64f947505}{FAST\_BUILD}}\ \textcolor{comment}{//\ optimize\ for\ frequent\ rebuild}}
\DoxyCodeLine{00098\ \ \ \ \ \};}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{enum\ struct}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_a598e61aa57fe906cec64d064cd0f247e}{MotionMode}}\ :\ \mbox{\hyperlink{eabase_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}}\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_a598e61aa57fe906cec64d064cd0f247ea38ef5fe49a654647519ee8c498c49664}{MATRIX}},}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_a598e61aa57fe906cec64d064cd0f247ea7c61aa8cee1a620fcc52775ddc2bbf80}{SRT}},}
\DoxyCodeLine{00103\ \ \ \ \ \};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion}{Motion}}\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_aa85e9ee203ec2a7ce2a77188a12cd90b}{keyframe\_count}}\{0\};\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ <=\ 1\ means\ no\ motion\ blur,\ otherwise\ the\ number\ of\ keyframes\ in\ [time\_start,\ time\_end]}}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_aa439e2bce736359150554f7b3b39fe01}{time\_start}}\{0.f\};\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ start\ time\ of\ the\ motion\ blur\ effect}}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_a7134072e39444efa70a9c3c6ba8515c2}{time\_end}}\{1.f\};\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ end\ time\ of\ the\ motion\ blur\ effect}}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_ad44c420cbb3a5f2b8b30096a3968607c}{should\_vanish\_start}}\{\textcolor{keyword}{false}\};\textcolor{comment}{//\ whether\ the\ object\ should\ vanish\ before\ time\_start}}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_adba3f1c6aa1088a2d5281ff1fc2372ac}{should\_vanish\_end}}\{\textcolor{keyword}{false}\};\ \ \textcolor{comment}{//\ whether\ the\ object\ should\ vanish\ after\ time\_end}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_abb38057db6fbae6c81e2340fad48b332}{Mode}}\ =\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_a598e61aa57fe906cec64d064cd0f247e}{MotionMode}};}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_abb38057db6fbae6c81e2340fad48b332}{Mode}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_a90a5b5d5772cd6ad702742584b96262e}{mode}}\{\};\textcolor{comment}{//\ only\ valid\ for\ motion\ blur\ geometry}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_a3c78b4600a3ae8f90e2b59e3c2274f9a}{is\_enabled}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_aa85e9ee203ec2a7ce2a77188a12cd90b}{keyframe\_count}}\ >\ 1;\ \}}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \textcolor{keyword}{operator}\ \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_a3c78b4600a3ae8f90e2b59e3c2274f9a}{is\_enabled}}();\ \}}
\DoxyCodeLine{00117\ \ \ \ \ \};}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_ab58a3ad590b831bbe1510bfcb1dfd47b}{UsageHint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_a79967f2c93f306ef432e14de917819be}{hint}}\{\mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_ab58a3ad590b831bbe1510bfcb1dfd47ba3f684dca71b75eb53a8a25920db6a67f}{UsageHint::FAST\_TRACE}}\};}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_acc52fb580e09e60f87470f98053e8037}{allow\_compaction}}\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_aea69c727120f29707a50788f5446cfc3}{allow\_update}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{comment}{//\ motion\ blur}}
\DoxyCodeLine{00124\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion}{Motion}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_aae692f36f49890fd43315610e9adeace}{motion}};}
\DoxyCodeLine{00125\ \};}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_a20ff3b8143251eca353c401ec4fe483c}{AccelUsageHint}}\ =\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_ab58a3ad590b831bbe1510bfcb1dfd47b}{AccelOption::UsageHint}};}
\DoxyCodeLine{00128\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_a004e0e7d9e6502f99eb959c99a00a7b9}{AccelMotionOption}}\ =\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion}{AccelOption::Motion}};}
\DoxyCodeLine{00129\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_a704aaa4b78bc57b4d9fd83d8bc854f01}{AccelMotionMode}}\ =\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option_1_1_motion_abb38057db6fbae6c81e2340fad48b332}{AccelMotionOption::Mode}};}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00132\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option}{ShaderOption}}\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option_af42e9e29fd2a52d772723505802e886d}{enable\_cache}}\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option_a9d39821e481e6cddffbddc77f7a0731b}{enable\_fast\_math}}\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option_a8d54f5f202c08c0b979b4e9232a12cf4}{enable\_debug\_info}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option_a40b0fc9b8a06d071c6d371195d7cbd3b}{compile\_only}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00154\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option_a7d08272173b6ff38495e50d403f73d1a}{max\_registers}}\{0\};}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option_a2a7cecde42b014ce22fa8fa1d0c861c1}{time\_trace}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a4cb72b1f2b3b0dc5c21076e95f132dc5}{luisa::string}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option_a837ce223614f448c7d4f17142963105b}{name}};}
\DoxyCodeLine{00169\ \ \ \ \ \mbox{\hyperlink{namespaceluisa_a4cb72b1f2b3b0dc5c21076e95f132dc5}{luisa::string}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option_af828ee2005df63ec98f3bd3d2775504e}{native\_include}};}
\DoxyCodeLine{00170\ \};}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \textcolor{keyword}{class\ }\mbox{\hyperlink{dll__export_8h_ad06d699c99cabff41979e596b53ac25a}{LC\_RUNTIME\_API}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}\ \{}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a520fa05e0bf58785da428f7a0241eee2}{Device}};}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base}{detail::ShaderInvokeBase}};}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keyword}{enum\ struct}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6}{Tag}}\ :\ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \{}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a17de626bcae5109bb2f7a66dfc4a8a1d}{BUFFER}},}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a3f92f542bd9ec48f912b9350e22736ac}{TEXTURE}},}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a2a1e0b48665018895cd7cc3c60d733ef}{BINDLESS\_ARRAY}},}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a5b65fe46c5dd90ebcec69c472c3be1d9}{MESH}},}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a01f76e0921f8cebe360cdc9621d7dd0d}{CURVE}},}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a8cbad6455ffeb40b43b3fd918959db4e}{PROCEDURAL\_PRIMITIVE}},}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a6d3acf475f63e5777e6c1291b6101dff}{MOTION\_INSTANCE}},}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a91685fafbbbbe2c47c6a79c29180a27e}{ACCEL}},}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a2f05998d2a71cdc19b7109549bbe2646}{STREAM}},}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a030d962d0faa148f02848881a3b4fdb6}{EVENT}},}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6aa05d35337eb28027e70aef2ea40ff1df}{SHADER}},}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6ac55ec53ac1687dcf0cd82deab5850636}{RASTER\_SHADER}},}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a22072dc598186d42ade002231e67a9f2}{SWAP\_CHAIN}},}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6af354699041a23b899f3431bacebb6db6}{DEPTH\_BUFFER}},}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6aaf2b2a2784a410cf6f7291de2be94608}{DSTORAGE\_FILE}},}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a100dbcddf2e9b1cc595b4105c05f528c}{DSTORAGE\_PINNED\_MEMORY}},}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6aa0ca29a594bb8af821e81e997c0a3c56}{SPARSE\_BUFFER}},}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a5d92db8a46eb58bdd5e239eb1fbb751d}{SPARSE\_TEXTURE}},}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6ac184c6449f4999feaf175b5495875a25}{SPARSE\_BUFFER\_HEAP}},}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6a005252285a8106aa2eb83fc2e3753470}{SPARSE\_TEXTURE\_HEAP}},}
\DoxyCodeLine{00199\ \ \ \ \ \};}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00202\ \ \ \ \ luisa::shared\_ptr<DeviceInterface>\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3a3f2c5adee3a861f100ca67efc48597}{\_device}}\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00203\ \ \ \ \ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info}{ResourceCreationInfo}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a0f362ecc383a09c10cc81af0fb6121fa}{\_info}}\{\};}
\DoxyCodeLine{00204\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6}{Tag}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_afab970c30f2d92dc5211798a8ef83047}{\_tag}}\{\};}
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a2e99a0067d8c79d7f77a5fbeecb9f7aa}{\_uid}}\{\};}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00208\ \ \ \ \ [[noreturn]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \_error\_invalid()\ noexcept;}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ protected:}
\DoxyCodeLine{00211\ \ \ \ \ static\ \textcolor{keywordtype}{void}\ \_check\_same\_derived\_types(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource}{Resource}}\ \&lhs,}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ const\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource}{Resource}}\ \&rhs)\ noexcept;}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{comment}{//\ helper\ method\ for\ derived\ classes\ to\ implement\ move\ assignment}}
\DoxyCodeLine{00215\ \ \ \ \ template<typename\ Derived>}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ac8bd4f95e29f120931f646355e51323a}{\_move\_from}}(Derived\ \&\&rhs)\ noexcept\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{this}\ !=\ \&rhs)\ [[likely]]\ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ if\ the\ two\ resources\ are\ compatible\ if\ both\ are\ valid}}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a1d60cc48abc5bc789e40fd746dbb6252}{\_check\_same\_derived\_types}}(*\textcolor{keyword}{this},\ rhs);}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }Self\ =\ std::remove\_cvref\_t<Derived>;}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_base\_of\_v<Resource,\ Self>\ \&\&}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same\_v<Resource,\ Self>,}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Resource::\_move\_from\ can\ only\ be\ used\ in\ derived\ classes"{}});}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ self\ =\ \textcolor{keyword}{static\_cast<}Self\ *\textcolor{keyword}{>}(\textcolor{keyword}{this});}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ destroy\ the\ old\ resource}}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ std::destroy\_at(self);}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ std::construct\_at(self,\ std::move(rhs));}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00229\ \ \ \ \ \}}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_acd4eeb601dbaa644497541380a30c9aa}{\_check\_is\_valid}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00232\ \textcolor{preprocessor}{\#ifndef\ NDEBUG}}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!*\textcolor{keyword}{this})\ [[unlikely]]\ \{\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a98f3cf67e789cf526dce15ddbaf4b949}{\_error\_invalid}}();\ \}}
\DoxyCodeLine{00234\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00235\ \ \ \ \ \}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{comment}{//\ protected\ constructors\ for\ derived\ classes}}
\DoxyCodeLine{00239\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}()\ noexcept\ \{\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a0f362ecc383a09c10cc81af0fb6121fa}{\_info}}.invalidate();\ \}}
\DoxyCodeLine{00240\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource}{Resource}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_device_interface}{DeviceInterface}}\ *device,\ Tag\ tag,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_resource_creation_info}{ResourceCreationInfo}}\ \&info)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00241\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource}{Resource}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_resource}{Resource}}\ \&\&)\ noexcept;}
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{comment}{//\ protected\ destructor\ for\ derived\ classes}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ public:}
\DoxyCodeLine{00245\ \ \ \ \ virtual\ \string~\mbox{\hyperlink{classluisa_1_1compute_1_1_resource}{Resource}}()\ noexcept;}
\DoxyCodeLine{00246\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00247\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}\ \&\&)\ noexcept\ =\ delete;\textcolor{comment}{//\ use\ \_move\_from\ in\ derived\ classes}}
\DoxyCodeLine{00248\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}\ \&operator=(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00249\ \ \ \ \ [[nodiscard]]\ auto\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3a3f2c5adee3a861f100ca67efc48597}{\_device}}.get();\ \}}
\DoxyCodeLine{00250\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a00d6db28ea14237c5c3ee4f3c1afbd46}{handle}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a0f362ecc383a09c10cc81af0fb6121fa}{\_info}}.handle;\ \}}
\DoxyCodeLine{00251\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a5b0aadeafcc056f1eae2b78a59b5bdaa}{native\_handle}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a0f362ecc383a09c10cc81af0fb6121fa}{\_info}}.native\_handle;\ \}}
\DoxyCodeLine{00252\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad3025722466716cc1d77d89dfdcf2d87}{tag}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_afab970c30f2d92dc5211798a8ef83047}{\_tag}};\ \}}
\DoxyCodeLine{00253\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_acfa0e0f0bb00d1e7ae33c08a967f46aa}{uid}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a2e99a0067d8c79d7f77a5fbeecb9f7aa}{\_uid}};\ \}}
\DoxyCodeLine{00254\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_af5c50d79c4f01c988f69662a42abcff5}{valid}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a0f362ecc383a09c10cc81af0fb6121fa}{\_info}}.valid();\ \}}
\DoxyCodeLine{00255\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{explicit}\ \textcolor{keyword}{operator}\ \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_af5c50d79c4f01c988f69662a42abcff5}{valid}}();\ \}}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_ac01a75b6e3bf57b4b824d911ddee2cfd}{set\_name}}(luisa::string\_view\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a5c4947d4516dd7cfa3505ce3a648a4ef}{name}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{keywordtype}{void}\ dispose()\ noexcept;}
\DoxyCodeLine{00258\ \};}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \}\textcolor{comment}{//\ namespace\ luisa::compute}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ namespace\ \mbox{\hyperlink{namespaceluisa}{luisa}}\ \{}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00265\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1hash}{hash}}<\mbox{\hyperlink{namespaceluisa_1_1compute}{compute}}::ShaderOption>\ \{}
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1hash_3_01compute_1_1_shader_option_01_4_a0ae910d0fe476822271cf57fa0a7b514}{is\_avalanching}}\ =\ \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}};}
\DoxyCodeLine{00267\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1hash_3_01compute_1_1_shader_option_01_4_a9c4ba6274e147f5d9fc60bacbda634c0}{operator()}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option}{compute::ShaderOption}}\ \&\mbox{\hyperlink{structoption}{option}},}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ seed\ =\ \mbox{\hyperlink{namespaceluisa_a5873fb06df3edc6209e15bd6a820aa2e}{hash64\_default\_seed}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ enable\_cache\_shift\ =\ 0u;}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ enable\_fast\_math\_shift\ =\ 1u;}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ enable\_debug\_info\_shift\ =\ 2u;}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ compile\_only\_shift\ =\ 3u;}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ opt\_hash\ =\ \mbox{\hyperlink{namespaceluisa_a448fa5ab8bb8ff5e97f093f42993cb9a}{hash\_value}}((\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\textcolor{keyword}{>}(\mbox{\hyperlink{structoption}{option}}.enable\_cache)\ <<\ enable\_cache\_shift)\ |}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\textcolor{keyword}{>}(\mbox{\hyperlink{structoption}{option}}.enable\_fast\_math)\ <<\ enable\_fast\_math\_shift)\ |}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\textcolor{keyword}{>}(\mbox{\hyperlink{structoption}{option}}.enable\_debug\_info)\ <<\ enable\_debug\_info\_shift)\ |}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\textcolor{keyword}{>}(\mbox{\hyperlink{structoption}{option}}.compile\_only)\ <<\ compile\_only\_shift),}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ seed);}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ name\_hash\ =\ \mbox{\hyperlink{namespaceluisa_a448fa5ab8bb8ff5e97f093f42993cb9a}{hash\_value}}(\mbox{\hyperlink{structoption}{option}}.\mbox{\hyperlink{structoption_adc503659d37af8017fb4b86d61c99086}{name}},\ seed);}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_ab7fb94604e58ed958a44d17f8d8af7e2}{hash\_combine}}(\{opt\_hash,\ name\_hash\},\ seed);}
\DoxyCodeLine{00280\ \ \ \ \ \}}
\DoxyCodeLine{00281\ \};}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00284\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1hash}{hash}}<\mbox{\hyperlink{namespaceluisa_1_1compute}{compute}}::AccelOption>\ \{}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1hash_3_01compute_1_1_accel_option_01_4_a9e7e6b0d68cc8ca6b084aeaf07ff65f9}{is\_avalanching}}\ =\ \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}};}
\DoxyCodeLine{00286\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1hash_3_01compute_1_1_accel_option_01_4_a9d23fb4ba0a0ab466a50fe13186140ac}{operator()}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_accel_option}{compute::AccelOption}}\ \&\mbox{\hyperlink{structoption}{option}},}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ seed\ =\ \mbox{\hyperlink{namespaceluisa_a5873fb06df3edc6209e15bd6a820aa2e}{hash64\_default\_seed}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ hint\_shift\ =\ 0u;}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ allow\_compaction\_shift\ =\ 8u;}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ allow\_update\_shift\ =\ 9u;}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_a448fa5ab8bb8ff5e97f093f42993cb9a}{hash\_value}}((\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\textcolor{keyword}{>}(\mbox{\hyperlink{structoption}{option}}.hint)\ <<\ hint\_shift)\ |}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\textcolor{keyword}{>}(\mbox{\hyperlink{structoption}{option}}.allow\_compaction)\ <<\ allow\_compaction\_shift)\ |}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\textcolor{keyword}{>}(\mbox{\hyperlink{structoption}{option}}.allow\_update)\ <<\ allow\_update\_shift),}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ seed);}
\DoxyCodeLine{00295\ \ \ \ \ \}}
\DoxyCodeLine{00296\ \};}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \}\textcolor{comment}{//\ namespace\ luisa}}

\end{DoxyCode}
