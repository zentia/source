\doxysection{win32\+\_\+window.\+h}
\hypertarget{win32__window_8h_source}{}\label{win32__window_8h_source}\index{external/spine-\/runtimes/spine-\/flutter/example/windows/runner/win32\_window.h@{external/spine-\/runtimes/spine-\/flutter/example/windows/runner/win32\_window.h}}
\mbox{\hyperlink{win32__window_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ RUNNER\_WIN32\_WINDOW\_H\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ RUNNER\_WIN32\_WINDOW\_H\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <windows.h>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{comment}{//\ A\ class\ abstraction\ for\ a\ high\ DPI-\/aware\ Win32\ Window.\ Intended\ to\ be}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ inherited\ from\ by\ classes\ that\ wish\ to\ specialize\ with\ custom}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ rendering\ and\ input\ handling}}
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_win32_window_a3a7522626f853b5c7641958fda27f271}{Win32Window}}\ \{}
\DoxyCodeLine{00014\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00015\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_win32_window_1_1_point_a3bc4005de5e0af1dafa5b269ea57f121}{Point}}\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_win32_window_1_1_point_a8ef7efdbdce840407218ac03f2e91272}{x}};}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_win32_window_1_1_point_ac1ccec39267f82c988a5eef576201901}{y}};}
\DoxyCodeLine{00018\ \ \ \ \ \mbox{\hyperlink{struct_win32_window_1_1_point_a3bc4005de5e0af1dafa5b269ea57f121}{Point}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_win32_window_1_1_point_a8ef7efdbdce840407218ac03f2e91272}{x}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_win32_window_1_1_point_ac1ccec39267f82c988a5eef576201901}{y}})\ :\ \mbox{\hyperlink{struct_win32_window_1_1_point_a8ef7efdbdce840407218ac03f2e91272}{x}}(\mbox{\hyperlink{struct_win32_window_1_1_point_a8ef7efdbdce840407218ac03f2e91272}{x}}),\ \mbox{\hyperlink{struct_win32_window_1_1_point_ac1ccec39267f82c988a5eef576201901}{y}}(\mbox{\hyperlink{struct_win32_window_1_1_point_ac1ccec39267f82c988a5eef576201901}{y}})\ \{\}}
\DoxyCodeLine{00019\ \ \ \};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_win32_window_1_1_size_a3c51518e24523699539dfa87a40cb2ed}{Size}}\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_win32_window_1_1_size_a0c8bf24889df81f57fcea7fcb0bcf7eb}{width}};}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_win32_window_1_1_size_ae0b37478590a14907a9edc358a12e1d1}{height}};}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{struct_win32_window_1_1_size_a3c51518e24523699539dfa87a40cb2ed}{Size}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_win32_window_1_1_size_a0c8bf24889df81f57fcea7fcb0bcf7eb}{width}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_win32_window_1_1_size_ae0b37478590a14907a9edc358a12e1d1}{height}})}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{struct_win32_window_1_1_size_a0c8bf24889df81f57fcea7fcb0bcf7eb}{width}}(\mbox{\hyperlink{struct_win32_window_1_1_size_a0c8bf24889df81f57fcea7fcb0bcf7eb}{width}}),\ \mbox{\hyperlink{struct_win32_window_1_1_size_ae0b37478590a14907a9edc358a12e1d1}{height}}(\mbox{\hyperlink{struct_win32_window_1_1_size_ae0b37478590a14907a9edc358a12e1d1}{height}})\ \{\}}
\DoxyCodeLine{00026\ \ \ \};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \mbox{\hyperlink{class_win32_window_a3a7522626f853b5c7641958fda27f271}{Win32Window}}();}
\DoxyCodeLine{00029\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_win32_window_a29d0d1d16a72689d4372abd5bec6f0db}{\string~Win32Window}}();}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \textcolor{comment}{//\ Creates\ and\ shows\ a\ win32\ window\ with\ |title|\ and\ position\ and\ size\ using}}
\DoxyCodeLine{00032\ \ \ \textcolor{comment}{//\ |origin|\ and\ |size|.\ New\ windows\ are\ created\ on\ the\ default\ monitor.\ Window}}
\DoxyCodeLine{00033\ \ \ \textcolor{comment}{//\ sizes\ are\ specified\ to\ the\ OS\ in\ physical\ pixels,\ hence\ to\ ensure\ a}}
\DoxyCodeLine{00034\ \ \ \textcolor{comment}{//\ consistent\ size\ to\ will\ treat\ the\ width\ height\ passed\ in\ to\ this\ function}}
\DoxyCodeLine{00035\ \ \ \textcolor{comment}{//\ as\ logical\ pixels\ and\ scale\ to\ appropriate\ for\ the\ default\ monitor.\ Returns}}
\DoxyCodeLine{00036\ \ \ \textcolor{comment}{//\ true\ if\ the\ window\ was\ created\ successfully.}}
\DoxyCodeLine{00037\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_win32_window_ad826c73b4191594b4ded625bafa4a941}{CreateAndShow}}(\textcolor{keyword}{const}\ std::wstring\&\ title,}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Point\&\ \mbox{\hyperlink{gnuplot__common__settings_8hh_a5e1adf2b06bbfd5f9d9d115f12529481}{origin}},}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Size\&\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size}});}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \textcolor{comment}{//\ Release\ OS\ resources\ associated\ with\ window.}}
\DoxyCodeLine{00042\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_win32_window_a6545dfce322862ad6318eb6102d59e06}{Destroy}}();}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \textcolor{comment}{//\ Inserts\ |content|\ into\ the\ window\ tree.}}
\DoxyCodeLine{00045\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_win32_window_aaefe8ad05d18d4841a01f51e1785ff0c}{SetChildContent}}(HWND\ content);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \textcolor{comment}{//\ Returns\ the\ backing\ Window\ handle\ to\ enable\ clients\ to\ set\ icon\ and\ other}}
\DoxyCodeLine{00048\ \ \ \textcolor{comment}{//\ window\ properties.\ Returns\ nullptr\ if\ the\ window\ has\ been\ destroyed.}}
\DoxyCodeLine{00049\ \ \ HWND\ \mbox{\hyperlink{class_win32_window_a8d075ed439f8ace23c9c70e6f60f7081}{GetHandle}}();}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \textcolor{comment}{//\ If\ true,\ closing\ this\ window\ will\ quit\ the\ application.}}
\DoxyCodeLine{00052\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_win32_window_abb55283812244d63f99517bdbdde4c5a}{SetQuitOnClose}}(\textcolor{keywordtype}{bool}\ quit\_on\_close);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \textcolor{comment}{//\ Return\ a\ RECT\ representing\ the\ bounds\ of\ the\ current\ client\ area.}}
\DoxyCodeLine{00055\ \ \ RECT\ \mbox{\hyperlink{class_win32_window_aab1722c8d02d1e224f953260b6c64d70}{GetClientArea}}();}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00058\ \ \ \textcolor{comment}{//\ Processes\ and\ route\ salient\ window\ messages\ for\ mouse\ handling,}}
\DoxyCodeLine{00059\ \ \ \textcolor{comment}{//\ size\ change\ and\ DPI.\ Delegates\ handling\ of\ these\ to\ member\ overloads\ that}}
\DoxyCodeLine{00060\ \ \ \textcolor{comment}{//\ inheriting\ classes\ can\ handle.}}
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{virtual}\ LRESULT\ \mbox{\hyperlink{class_win32_window_a9821d29a52a05f5ed9b49b89d7110cf7}{MessageHandler}}(HWND\ \mbox{\hyperlink{joysticks_8c_a80de27bd7dc4e2b2ad3d5895b97a70f0}{window}},}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__malloc__compliance_8cpp_a36cb3b01d81ffd844bbbfb54003e06ec}{UINT}}\ \textcolor{keyword}{const}\ message,}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WPARAM\ \textcolor{keyword}{const}\ wparam,}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LPARAM\ \textcolor{keyword}{const}\ lparam)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \textcolor{comment}{//\ Called\ when\ CreateAndShow\ is\ called,\ allowing\ subclass\ window-\/related}}
\DoxyCodeLine{00067\ \ \ \textcolor{comment}{//\ setup.\ Subclasses\ should\ return\ false\ if\ setup\ fails.}}
\DoxyCodeLine{00068\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_win32_window_a13999e0fd51a9b5c66239c6ecc201d5c}{OnCreate}}();}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \textcolor{comment}{//\ Called\ when\ Destroy\ is\ called.}}
\DoxyCodeLine{00071\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_win32_window_a78f04e4f7a473145711e65ebb8040185}{OnDestroy}}();}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00074\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_win32_window_a2165038b6b2c1445abc8e50b4dd18768}{WindowClassRegistrar}};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \textcolor{comment}{//\ OS\ callback\ called\ by\ message\ pump.\ Handles\ the\ WM\_NCCREATE\ message\ which}}
\DoxyCodeLine{00077\ \ \ \textcolor{comment}{//\ is\ passed\ when\ the\ non-\/client\ area\ is\ being\ created\ and\ enables\ automatic}}
\DoxyCodeLine{00078\ \ \ \textcolor{comment}{//\ non-\/client\ DPI\ scaling\ so\ that\ the\ non-\/client\ area\ automatically}}
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{//\ responsponds\ to\ changes\ in\ DPI.\ All\ other\ messages\ are\ handled\ by}}
\DoxyCodeLine{00080\ \ \ \textcolor{comment}{//\ MessageHandler.}}
\DoxyCodeLine{00081\ \ \ \textcolor{keyword}{static}\ LRESULT\ CALLBACK\ \mbox{\hyperlink{class_win32_window_abe486eb1ea947fd43ad6fd158585a00f}{WndProc}}(HWND\ \textcolor{keyword}{const}\ \mbox{\hyperlink{joysticks_8c_a80de27bd7dc4e2b2ad3d5895b97a70f0}{window}},}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__malloc__compliance_8cpp_a36cb3b01d81ffd844bbbfb54003e06ec}{UINT}}\ \textcolor{keyword}{const}\ message,}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WPARAM\ \textcolor{keyword}{const}\ wparam,}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LPARAM\ \textcolor{keyword}{const}\ lparam)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \textcolor{comment}{//\ Retrieves\ a\ class\ instance\ pointer\ for\ |window|}}
\DoxyCodeLine{00087\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_win32_window_a3a7522626f853b5c7641958fda27f271}{Win32Window}}*\ \mbox{\hyperlink{class_win32_window_a2d110277716c62488f348cdb901c08e3}{GetThisFromHandle}}(HWND\ \textcolor{keyword}{const}\ \mbox{\hyperlink{joysticks_8c_a80de27bd7dc4e2b2ad3d5895b97a70f0}{window}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_win32_window_adf57544ffda313ff6b4ac02611f84971}{quit\_on\_close\_}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//\ window\ handle\ for\ top\ level\ window.}}
\DoxyCodeLine{00092\ \ \ HWND\ \mbox{\hyperlink{class_win32_window_a4cd01143ff049c692847211bb12fc0ae}{window\_handle\_}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \textcolor{comment}{//\ window\ handle\ for\ hosted\ content.}}
\DoxyCodeLine{00095\ \ \ HWND\ \mbox{\hyperlink{class_win32_window_a16201c00b190647d0cc5097aafe0f122}{child\_content\_}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00096\ \};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ RUNNER\_WIN32\_WINDOW\_H\_}}

\end{DoxyCode}
