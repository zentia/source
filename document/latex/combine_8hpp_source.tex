\doxysection{combine.\+hpp}
\hypertarget{combine_8hpp_source}{}\label{combine_8hpp_source}\index{external/taskflow/3rd-\/party/ff/combine.hpp@{external/taskflow/3rd-\/party/ff/combine.hpp}}
\mbox{\hyperlink{combine_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/*-\/\ Mode:\ C++;\ tab-\/width:\ 4;\ c-\/basic-\/offset:\ 4;\ indent-\/tabs-\/mode:\ nil\ -\/*-\/\ */}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ FF\_COMBINE\_HPP}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ FF\_COMBINE\_HPP}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{comment}{/*\ ***************************************************************************}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ \ FastFlow\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or\ modify\ it}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ \ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public\ License\ version\ 3\ as}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ \ published\ by\ the\ Free\ Software\ Foundation.}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ \ Starting\ from\ version\ 3.0.1\ FastFlow\ is\ dual\ licensed\ under\ the\ GNU\ LGPLv3}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ \ or\ MIT\ License\ (https://github.com/ParaGroup/WindFlow/blob/vers3.x/LICENSE.MIT)}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ \ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,\ but\ WITHOUT}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ *\ \ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of\ MERCHANTABILITY\ or}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ \ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *\ \ License\ for\ more\ details.}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ *\ \ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public\ License}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ *\ \ along\ with\ this\ program;\ if\ not,\ write\ to\ the\ Free\ Software\ Foundation,}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ *\ \ Inc.,\ 59\ Temple\ Place\ -\/\ Suite\ 330,\ Boston,\ MA\ 02111-\/1307,\ USA.}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ ****************************************************************************}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{comment}{/*}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ *\ \ \ Author:\ Massimo\ Torquati}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ *\ \ \ \ \ \ }}
\DoxyCodeLine{00040\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00041\ \textcolor{comment}{//\ This\ file\ contains\ the\ ff\_comb\ combiner\ building\ block\ class}}
\DoxyCodeLine{00042\ \textcolor{comment}{//\ the\ ff\_comb\_t\ class,\ which\ is\ the\ type-\/preserving\ version\ of\ ff\_comb,}}
\DoxyCodeLine{00043\ \textcolor{comment}{//\ and\ some\ helper\ functions,\ e.g.,\ combine\_nodes,\ combine\_farms,\ etc.}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{node_8hpp}{ff/node.hpp}}>}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{multinode_8hpp}{ff/multinode.hpp}}>}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{3rd-party_2ff_2pipeline_8hpp}{ff/pipeline.hpp}}>}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{ordering__policies_8hpp}{ff/ordering\_policies.hpp}}>}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{farm_8hpp}{ff/farm.hpp}}>}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceff}{ff}}\ \{}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{comment}{//\ forward\ declaration\ \ \ \ }}
\DoxyCodeLine{00056\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}};}
\DoxyCodeLine{00057\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}\ \mbox{\hyperlink{namespaceff_ae665dbb7574841d499c1200dbda972ba}{combine\_ofarm\_farm}}(\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&\ farm1,\ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&\ farm2);}
\DoxyCodeLine{00058\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>\ \ \ \ }
\DoxyCodeLine{00059\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}\ \mbox{\hyperlink{namespaceff_a2ce77ee29eb233abeb77d7b2800af810}{combine\_nodes}}(T1\&\ n1,\ T2\&\ n2);}
\DoxyCodeLine{00060\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>\ \ \ \ }
\DoxyCodeLine{00061\ \textcolor{keyword}{static}\ std::unique\_ptr<ff\_node>\ \mbox{\hyperlink{namespaceff_ab44f622db2a2da095c95cbc05768c00d}{unique\_combine\_nodes}}(T1\&\ n1,\ T2\&\ n2);}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ }
\DoxyCodeLine{00064\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classff_1_1ff__minode_a65c242a04572c5a0655d0e497544477b}{ff\_minode}}\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ the\ ff\_comb\ appears\ either\ as\ a\ standard\ ff\_node\ or\ as\ ff\_minode\ depending\ on}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ whether\ the\ first\ node\ is\ a\ standard\ node\ or\ a\ multi-\/input\ node.}}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>\ \ \ \ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}\ \mbox{\hyperlink{classff_1_1ff__comb_a7c3a4029a3a3aa2f48e5f40d70a8a5d2}{combine\_nodes}}(T1\&\ n1,\ T2\&\ n2);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>\ \ \ \ }
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{friend}\ std::unique\_ptr<ff\_node>\ \mbox{\hyperlink{classff_1_1ff__comb_a08c48bfeb636a6dcb4400bec8d1b5b4c}{unique\_combine\_nodes}}(T1\&\ n1,\ T2\&\ n2);}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__comb_a4507398d523881cfadefdf463bfa5962}{ff\_loadbalancer}};}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__comb_a60ba6ed26a612548d9930f0457bf852c}{ff\_gatherer}};}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__comb_a49105d0bd6775d145575fd6dfa2d8471}{ff\_farm}};}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classff_1_1ff__comb_a7542a58b0efa58291c12d2926c2a78d4}{ff\_a2a}};}
\DoxyCodeLine{00080\ \ \ \ \ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{//\ used\ if\ the\ last\ stage\ has\ no\ output\ channel}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_a8b223db7278c967dcf99c839b8891aa3}{devnull}}(\textcolor{keywordtype}{void}*,\textcolor{keywordtype}{int},\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long},\ \textcolor{keywordtype}{void}*)\ \{\textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{keyword}{private}:\ \ \ \ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a3ecfd1c6c72711fe53c7aff6116cc7e9}{registerAllGatherCallback}}(\textcolor{keywordtype}{int}\ (*\mbox{\hyperlink{namespaceff_a6b0f1a6fb598cb9b6388ac19b8d1bdb2}{cb}})(\textcolor{keywordtype}{void}\ *,\textcolor{keywordtype}{void}\ **,\ \textcolor{keywordtype}{void}*),\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}());}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ the\ gt\ of\ the\ first\ node\ will\ be\ replaced\ by\ the\ ff\_comb\ gt.}}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__minode_ad7e1b555afe336e138c169fbeecb2910}{ff\_minode::getgt}}()-\/>\mbox{\hyperlink{classff_1_1ff__gatherer_a6f76669c04288e73b43768e8d0dd6dec}{registerAllGatherCallback}}(\mbox{\hyperlink{namespaceff_a6b0f1a6fb598cb9b6388ac19b8d1bdb2}{cb}},\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}});}
\DoxyCodeLine{00089\ \ \ \ \ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>}
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(T1\&\ n1,\ T2\&\ n2)\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a6b6e4b87897feda330028f7ec780bb65}{add\_node}}(n1,n2);}
\DoxyCodeLine{00095\ \ \ \ \ \}}
\DoxyCodeLine{00096\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_aaf62c7011e200b634b071bec9ccd7b7e}{ff\_comb}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ n1,\ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ n2,\ \textcolor{keywordtype}{bool}\ first\_cleanup=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ second\_cleanup=\textcolor{keyword}{false})\{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!n1\ ||\ !n2)\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}COMBINE,\ passing\ null\ pointer\ to\ constructor\(\backslash\)n"{}});}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a6b6e4b87897feda330028f7ec780bb65}{add\_node}}(n1,n2);}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (first\_cleanup)\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.push\_back(n1);}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (second\_cleanup)\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.push\_back(n2);}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00108\ \ \ \ \ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_ad2d87de15f0889c4505c8a617c26d619}{ff\_comb}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}\&\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ :\ \mbox{\hyperlink{classff_1_1ff__minode_a65c242a04572c5a0655d0e497544477b}{ff\_minode}}(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}:\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}.comp\_nodes)\ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (s-\/>isComp())\ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ comp\_nodes.push\_back(new\ ff\_comb(*(ff\_comb*)s));}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(comp\_nodes.back());}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cleanup\_stages.push\_back(comp\_nodes.back());\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ comp\_nodes.push\_back(s);}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ is\ a\ dirty\ part,\ we\ modify\ a\ const\ object.....}}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}\ *dirty=\ \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}*\textcolor{keyword}{>}(\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<dirty-\/>\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.push\_back(dirty-\/>\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ dirty-\/>\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\textcolor{keyword}{nullptr};}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00126\ \ \ \ \ \}}
\DoxyCodeLine{00127\ \ \ \ \ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classff_1_1ff__comb_a67c54468cefcb6cea027ba044cd0edd8}{\string~ff\_comb}}()\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}}:\ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}})\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}})\ \textcolor{keyword}{delete}\ \mbox{\hyperlink{main-override_8cpp_a1384e7608274313a9433fa573868557b}{s}};}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00132\ \ \ \ \ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_a2137e83aa516a8d8db9445a93827bace}{run}}(\textcolor{keywordtype}{bool}\ skip\_init=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!skip\_init)\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}()-\/>\mbox{\hyperlink{classff_1_1ff__comb_a48209c97eeca5ddafe610b599d1f9e83}{get\_in\_buffer}}()\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}()-\/>skipfirstpop(\textcolor{keyword}{true});}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}})\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a8b1ac13e927a458f68e1c8685aa4defb}{prepare}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ set\ blocking\ mode\ for\ the\ last\ node\ of\ the\ composition}}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a63121b91003429b9c6e317ad09445aa3}{getLast}}()-\/>blocking\_mode(blocking\_in);\ \ \ \ \ \ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}())\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(1);}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}()-\/>get\_in\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()\ ==\ 0)\ \ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}()-\/>skipfirstpop(\textcolor{keyword}{true});}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_a1698024a0f02e13d88d649bd1e14ee36}{ff\_minode::run}}();}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_aec4506dc3946ff9e6ce5bb5370545864}{ff\_node::run}}(\textcolor{keyword}{true})<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00153\ \ \ \ \ \}}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \textcolor{keywordtype}{int}\ \ \mbox{\hyperlink{classff_1_1ff__comb_a549dc3c76b2c677fb06e6bff2d148737}{wait}}()\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}())}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_a511e43731643c9c1d0a47853a0d5d352}{ff\_minode::wait}}();}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_a060b15e97e9fdc8d50fd10c0dd141a0f}{ff\_node::wait}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00160\ \ \ \ \ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_abc9182b78e30da3dad58aa3e730a943d}{run\_and\_wait\_end}}()\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_ad530addcffd6d545b3c520094136e7bd}{isfrozen}}())\ \{\ \ \textcolor{comment}{//\ TODO\ }}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}COMB:\ Error:\ FEATURE\ NOT\ YET\ SUPPORTED\(\backslash\)n"{}});}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a94d7a6d3bc2af21a2c6e0da1a7d911ea}{stop}}();}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{poisson_8cpp_ae12af222b820baf64e953be588c5bbbe}{run}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a549dc3c76b2c677fb06e6bff2d148737}{wait}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00171\ \ \ \ \ \}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_af4d3dfee58eda2857e855e7b5f03c906}{done}}()\textcolor{keyword}{\ const\ }\{\ }
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}())}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_ac1060d8cf647bce6f9e0bc965d84f4cc}{ff\_minode::done}}();}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_ad05b720f168f769e1ff81a44a8252684}{ff\_node::done}}();}
\DoxyCodeLine{00181\ \ \ \ \ \}}
\DoxyCodeLine{00182\ \ \ \ \ }
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ it\ is\ multi-\/input\ only\ if\ the\ first\ node\ is\ multi-\/input}}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}()-\/>\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ }
\DoxyCodeLine{00187\ \ \ \ \ \}}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ it\ is\ multi-\/output\ only\ if\ the\ last\ node\ is\ multi-\/output}}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_aa928d053d3b40e4577dcd6f640dd039f}{isMultiOutput}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a63121b91003429b9c6e317ad09445aa3}{getLast}}()-\/>\mbox{\hyperlink{classff_1_1ff__comb_aa928d053d3b40e4577dcd6f640dd039f}{isMultiOutput}}())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00192\ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}()\textcolor{keyword}{\ const\ \ \ \ \ \ \ \ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{comment}{//\ returns\ the\ first\ sequential\ node\ (not\ comb)\ on\ the\ left-\/hand\ side}}
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((\mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}*)\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0])-\/>getFirst();}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0];}
\DoxyCodeLine{00200\ \ \ \ \ \}}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{comment}{//\ returns\ the\ last\ sequential\ node\ (not\ comb)\ on\ the\ right-\/hand\ side}}
\DoxyCodeLine{00202\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{classff_1_1ff__comb_a63121b91003429b9c6e317ad09445aa3}{getLast}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((\mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}*)\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1])-\/>getLast();}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1];}
\DoxyCodeLine{00206\ \ \ \ \ \}}
\DoxyCodeLine{00207\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{classff_1_1ff__comb_a9dcdf780501ced407f77f16f8c117690}{getLeft}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0];}
\DoxyCodeLine{00209\ \ \ \ \ \}}
\DoxyCodeLine{00210\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{classff_1_1ff__comb_a8420d16be0c1de334f9e9326a98648be}{getRight}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1];}
\DoxyCodeLine{00212\ \ \ \ \ \}}
\DoxyCodeLine{00213\ \ \ \ \ }
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{comment}{//\ returns\ the\ pointer\ to\ the\ "{}replaced"{}\ node}}
\DoxyCodeLine{00215\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{classff_1_1ff__comb_a72bcadb132bc518497a41571187ed704}{replace\_first}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ remove\_from\_cleanuplist=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ first\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0];}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (remove\_from\_cleanuplist)\ \{}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ pos=-\/1;}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ ==\ first)\ \{\ pos=\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}};\ \textcolor{keywordflow}{break};\}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos>=0)\ }
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.erase(\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.begin()+pos);}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cleanup)}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.push\_back(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ first;}
\DoxyCodeLine{00230\ \ \ \ \ \}}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \ \ \textcolor{comment}{//\ returns\ the\ pointer\ to\ the\ "{}replaced"{}\ node}}
\DoxyCodeLine{00233\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{classff_1_1ff__comb_ab835650aa91364ba316349f3c7aa7f5b}{replace\_last}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ remove\_from\_cleanuplist=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ last\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1];}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]\ =\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}};}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (remove\_from\_cleanuplist)\ \{}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ pos=-\/1;}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ ==\ last)\ \{\ pos=\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}};\ \textcolor{keywordflow}{break};\}}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos>=0)\ }
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.erase(\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.begin()+pos);}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cleanup)}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.push\_back(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ last;}
\DoxyCodeLine{00248\ \ \ \ \ \}}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_ae785a6d5c9ef9f4b922e42889a576f6c}{change\_node}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ old,\ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ remove\_from\_cleanuplist=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]\ ==\ old)}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__comb_a72bcadb132bc518497a41571187ed704}{replace\_first}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ cleanup,\ remove\_from\_cleanuplist)\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]\ ==\ old)}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classff_1_1ff__comb_ab835650aa91364ba316349f3c7aa7f5b}{replace\_last}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ cleanup,\ remove\_from\_cleanuplist)\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00256\ \ \ \ \ \}}
\DoxyCodeLine{00257\ \ \ \ \ }
\DoxyCodeLine{00258\ \ \ \ \ \textcolor{comment}{//\ returns\ true\ if\ the\ "{}replaced"{}\ node\ has\ been\ deleted\ (it\ was\ added\ with\ cleanup=true)}}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_a3d4d43ff95f11ff61cbba807980a909a}{changeFirst}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\textcolor{keyword}{false};}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}*\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ \ \ \ \ =\ \mbox{\hyperlink{classff_1_1ff__comb_a12f57339d6e8e5054be8a2e3c00802f7}{getFirstComb}}();}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ first\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}();}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ pos=-\/1;}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ ==\ first)\ \{\ pos=\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}};\ \textcolor{keywordflow}{break};\}}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos>=0)\ \{}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.erase(\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.begin()+pos);}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}-\/>replace\_first(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ cleanup,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ \textcolor{keyword}{delete}\ first;}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00275\ \ \ \ \ \}}
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{comment}{//\ returns\ true\ if\ the\ "{}replaced"{}\ node\ has\ been\ deleted\ (it\ was\ added\ with\ cleanup=true)}}
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00278\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_a88c0465a08b656e38e9917121481fbf3}{changeLast}}(\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\textcolor{keyword}{false};}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}*\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ \ \ \ \ =\ \mbox{\hyperlink{classff_1_1ff__comb_a4d44c827582a4e1c9dcbba0bdda4a05f}{getLastComb}}();}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ last\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a63121b91003429b9c6e317ad09445aa3}{getLast}}();}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ pos=-\/1;}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ ==\ last)\ \{\ pos=\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}};\ \textcolor{keywordflow}{break};\}}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pos>=0)\ \{}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.erase(\mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.begin()+pos);}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}-\/>replace\_last(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ cleanup,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ \textcolor{keyword}{delete}\ last;}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00293\ \ \ \ \ \}}
\DoxyCodeLine{00294\ \ \ \ \ }
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff__comb_a1a6d0bc02a84d635036b7351a863cd5f}{ffTime}}()\ \{}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__comb_afe14b0093766320c69ca5c6e80772fc9}{getstoptime}}(),\mbox{\hyperlink{classff_1_1ff__comb_ae02d1bdc48c920b07207796177f27564}{getstarttime}}());}
\DoxyCodeLine{00297\ \ \ \ \ \}}
\DoxyCodeLine{00298\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classff_1_1ff__comb_ad8d6177832a72182928164d6e11f0d71}{ffwTime}}()\ \{}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_aa63478dacf4600111e04897c1e072d9c}{diffmsec}}(\mbox{\hyperlink{classff_1_1ff__comb_a75aa620da581f7b355e48d2c767fa26a}{getwstoptime}}(),\mbox{\hyperlink{classff_1_1ff__comb_ae8dbfea4bb8c630435da64d3a1385e32}{getwstartime}}());}
\DoxyCodeLine{00300\ \ \ \ \ \}}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \textcolor{preprocessor}{\#if\ defined(TRACE\_FASTFLOW)}}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keywordtype}{void}\ ffStats(std::ostream\ \&\ out)\ \{\ }
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}-\/-\/-\/\ Comp:\(\backslash\)n"{}};}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (comp\_nodes[0]-\/>isMultiInput())\ \{}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__minode_a74921da2b644835fe363ed2b58e54636}{ff\_minode::ffStats}}(out);}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ ff\_node::ffStats(out);}
\DoxyCodeLine{00309\ \ \ \ \ \}}
\DoxyCodeLine{00310\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00311\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_ace690b2f5724ed0118d2fa7131c8c220}{ffStats}}(std::ostream\ \&\ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}})\ \{\ }
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a06adec50580f200b0edde2e66ae5152a}{out}}\ <<\ \textcolor{stringliteral}{"{}FastFlow\ trace\ not\ enabled\(\backslash\)n"{}};}
\DoxyCodeLine{00313\ \ \ \ \ \}}
\DoxyCodeLine{00314\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ isSerializable()\{\ \textcolor{keywordflow}{return}\ comp\_nodes[1]-\/>isSerializable();\ \}}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ isDeserializable()\{\ \textcolor{keywordflow}{return}\ comp\_nodes[0]-\/>isDeserializable();\ \}}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keyword}{virtual}\ std::pair<\textcolor{keyword}{decltype}(serializeF),\ \textcolor{keyword}{decltype}(freetaskF)>\ getSerializationFunction()\{\ \textcolor{keywordflow}{return}\ comp\_nodes[1]-\/>getSerializationFunction();\ \}}
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{keyword}{virtual}\ std::pair<\textcolor{keyword}{decltype}(deserializeF),\ \textcolor{keyword}{decltype}(alloctaskF)>\ getDeserializationFunction()\{\ \textcolor{keywordflow}{return}\ comp\_nodes[0]-\/>getDeserializationFunction();\ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00323\ \ \ \ \ }
\DoxyCodeLine{00324\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00325\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a18fd274a82744cc25186c1c9bd583e6d}{ff\_comb}}():\mbox{\hyperlink{classff_1_1ff__minode_a65c242a04572c5a0655d0e497544477b}{ff\_minode}}()\ \{\}}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_af3c83116969d003c3b788acaad5ac4d7}{check}}(T1*\ n1,\ T2*\ n2)\ \{}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n1-\/>isFarm()\ ||\ n1-\/>isAll2All()\ ||\ n1-\/>isPipe()\ ||}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ n2-\/>isFarm()\ ||\ n2-\/>isAll2All()\ ||\ n2-\/>isPipe())\ \{}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}COMBINE,\ input\ nodes\ cannot\ be\ farm,\ all-\/2-\/all\ or\ pipeline\ building-\/blocks\(\backslash\)n"{}});}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00335\ \ \ \ \ \}}
\DoxyCodeLine{00336\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>}
\DoxyCodeLine{00337\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_aabbf5a40da4dab8766053d40775ea327}{check}}(T1\&\ n1,\ T2\&\ n2)\ \{}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{fastmath_8cpp_a1a1a6699085ce0fcd8a4602ac7404e72}{check}}(\&n1,\ \&n2);}
\DoxyCodeLine{00339\ \ \ \ \ \}}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a6b6e4b87897feda330028f7ec780bb65}{add\_node}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ n1,\ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ n2)\ \{}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{fastmath_8cpp_a1a1a6699085ce0fcd8a4602ac7404e72}{check}}(n1,\ n2))\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ n1-\/>\mbox{\hyperlink{classff_1_1ff__node_ad8c6802b7a49124aaab14b4d95ef06f0}{registerCallback}}(n2-\/>\mbox{\hyperlink{classff_1_1ff__node_afe5d23d824721119f1cfd766a1da53ed}{ff\_send\_out\_comp}},\ n2);}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}.push\_back(n1);}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}.push\_back(n2);}
\DoxyCodeLine{00345\ \ \ \ \ \}}
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1>}
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a3370bfa78e24a94a02cb8ea5905213dd}{add\_node}}(\textcolor{keyword}{const}\ T1\&\ n1,\ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ n2)\ \{}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ T1\ *node1\ =\ \textcolor{keyword}{new}\ T1(n1);}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ assert(node1);}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{fastmath_8cpp_a1a1a6699085ce0fcd8a4602ac7404e72}{check}}(node1,\ n2))\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.push\_back(node1);}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}.push\_back(node1);}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}.push\_back(n2);}
\DoxyCodeLine{00354\ \ \ \ \ \}}
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>}
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a129dca77cce4c6460e716061232eaed8}{add\_node}}(T1\&\ n1,\ T2\&\ n2)\ \{}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{fastmath_8cpp_a1a1a6699085ce0fcd8a4602ac7404e72}{check}}(\&n1,\ \&n2))\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ n1.registerCallback(n2.ff\_send\_out\_comp,\ \&n2);}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}.push\_back(\&n1);}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}.push\_back(\&n2);}
\DoxyCodeLine{00361\ \ \ \ \ \}}
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>}
\DoxyCodeLine{00363\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a53c6fd3ee0e3c465652037dfe32bd3da}{add\_node}}(\textcolor{keyword}{const}\ T1\&\ n1,\ \textcolor{keyword}{const}\ T2\&\ n2)\ \{}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ T1\ *node1\ =\ \textcolor{keyword}{new}\ T1(n1);}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ T2\ *node2\ =\ \textcolor{keyword}{new}\ T2(n2);}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ assert(node1\ \&\&\ node2);}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.push\_back(node1);}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.push\_back(node2);}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a6b6e4b87897feda330028f7ec780bb65}{add\_node}}(*node1,\ *node2);}
\DoxyCodeLine{00370\ \ \ \ \ \}}
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>}
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a2760ac2d3ff8f9e24bc5af2404a33238}{add\_node}}(T1\&\ n1,\ \textcolor{keyword}{const}\ T2\&\ n2)\ \{}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ T2\ *node2\ =\ \textcolor{keyword}{new}\ T2(n2);}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ assert(node2);}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.push\_back(node2);}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a6b6e4b87897feda330028f7ec780bb65}{add\_node}}(n1,\ *node2);}
\DoxyCodeLine{00377\ \ \ \ \ \}}
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>}
\DoxyCodeLine{00379\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a37be7a96e3df62fb144a279ef473a5ad}{add\_node}}(\textcolor{keyword}{const}\ T1\&\ n1,\ T2\&\ n2)\ \{}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ T1\ *node1\ =\ \textcolor{keyword}{new}\ T1(n1);}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ assert(node1);}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}}.push\_back(node1);}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a6b6e4b87897feda330028f7ec780bb65}{add\_node}}(*node1,\ n2);}
\DoxyCodeLine{00384\ \ \ \ \ \}}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a52b7210f6fc30e9b2c07d914782b23bc}{skipfirstpop}}(\textcolor{keywordtype}{bool}\ sk)\ \ \ \{}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}()-\/>skipfirstpop(sk);}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_a71789627f48cb9f466c50601a881c7bc}{ff\_node::skipfirstpop}}(sk);}
\DoxyCodeLine{00389\ \ \ \ \ \}}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00392\ \ \ \ \ \textcolor{keywordtype}{void}\ skipallpop(\textcolor{keywordtype}{bool}\ sk)\ \{}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ getFirst()-\/>skipallpop(sk);}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ ff\_node::skipallpop(sk);}
\DoxyCodeLine{00395\ \ \ \ \ \}}
\DoxyCodeLine{00396\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \mbox{\hyperlink{classff_1_1ff__comb_a8cd5a14809f00612659f328fef796a5a}{put}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \{\ }
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_ac257caa02b62b4546345560e649839dc}{ff\_node::put}}(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});}
\DoxyCodeLine{00401\ \ \ \ \ \}}
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{comment}{//\ returns\ the\ innermost\ combine\ on\ the\ left-\/hand\ side}}
\DoxyCodeLine{00403\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}*\ \mbox{\hyperlink{classff_1_1ff__comb_a12f57339d6e8e5054be8a2e3c00802f7}{getFirstComb}}()\ \{}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((\mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}*)\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0])-\/>\mbox{\hyperlink{classff_1_1ff__comb_a12f57339d6e8e5054be8a2e3c00802f7}{getFirstComb}}();}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this};}
\DoxyCodeLine{00407\ \ \ \ \ \}}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{comment}{//\ returns\ the\ innermost\ combine\ on\ the\ right-\/hand\ side}}
\DoxyCodeLine{00409\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}*\ \mbox{\hyperlink{classff_1_1ff__comb_a4d44c827582a4e1c9dcbba0bdda4a05f}{getLastComb}}()\ \{}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((\mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}*)\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1])-\/>\mbox{\hyperlink{classff_1_1ff__comb_a4d44c827582a4e1c9dcbba0bdda4a05f}{getLastComb}}();}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this};}
\DoxyCodeLine{00413\ \ \ \ \ \}}
\DoxyCodeLine{00414\ \ \ \ \ }
\DoxyCodeLine{00415\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a4d295711a3bb979aa50e5919087c9491}{registerCallback}}(\textcolor{keywordtype}{bool}\ (*\mbox{\hyperlink{namespaceff_a6b0f1a6fb598cb9b6388ac19b8d1bdb2}{cb}})(\textcolor{keywordtype}{void}\ *,\textcolor{keywordtype}{int},\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long},\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long},\textcolor{keywordtype}{void}\ *),\ \textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})\ \{}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>registerCallback(\mbox{\hyperlink{namespaceff_a6b0f1a6fb598cb9b6388ac19b8d1bdb2}{cb}},\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}});}
\DoxyCodeLine{00417\ \ \ \ \ \}}
\DoxyCodeLine{00418\ \ \ \ \ }
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_aff34e3d032fd3823cfa3177c27a6fe1f}{connectCallback}}()\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}*)\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0])-\/>connectCallback();}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}*)\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1])-\/>connectCallback();}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ w1(1);}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ w2(1);}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>get\_out\_nodes(w1);}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>get\_in\_nodes(w2);}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (w1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}()\ ==\ 0\ \&\&\ w2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}()\ ==\ 0)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (w1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}()>1\ ||\ w2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}()>1)\ \{}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}COMP,\ connecting\ callbacks\(\backslash\)n"{}});}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00434\ }
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *n1\ =\ (w1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}()\ ==\ 0)?\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]:w1[0];}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ n1-\/>\mbox{\hyperlink{classff_1_1ff__node_ad8c6802b7a49124aaab14b4d95ef06f0}{registerCallback}}(this-\/>\mbox{\hyperlink{classff_1_1ff__node_afe5d23d824721119f1cfd766a1da53ed}{ff\_send\_out\_comp}},\ \textcolor{keyword}{this});}
\DoxyCodeLine{00437\ \ \ \ \ \}}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_ac1d8f0d80c6e2916a25e6412ad68cddd}{dryrun}}()\ \{}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ac1d8f0d80c6e2916a25e6412ad68cddd}{dryrun}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ac1d8f0d80c6e2916a25e6412ad68cddd}{dryrun}}()<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00444\ \ \ \ \ \}}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_a8b1ac13e927a458f68e1c8685aa4defb}{prepare}}()\ \{}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_aff34e3d032fd3823cfa3177c27a6fe1f}{connectCallback}}();}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ checking\ if\ the\ first\ node\ is\ a\ multi-\/input\ node}}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *n1\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}();}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n1-\/>\mbox{\hyperlink{classff_1_1ff__node_ae19d751c9e02406928e3b1dcef6dbc15}{isMultiInput}}())\ \{}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ here\ we\ substitute\ the\ gt}}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ ((\mbox{\hyperlink{classff_1_1ff__minode_a65c242a04572c5a0655d0e497544477b}{ff\_minode}}*)n1)-\/>setgt(\mbox{\hyperlink{classff_1_1ff__minode_ad7e1b555afe336e138c169fbeecb2910}{ff\_minode::getgt}}());}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ dryrun\ should\ be\ executed\ here\ because\ the\ gt\ of\ the}}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ first\ node\ might\ have\ been\ substituted}}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_ac1d8f0d80c6e2916a25e6412ad68cddd}{ff\_comb::dryrun}}();}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ registering\ a\ special\ callback\ if\ the\ last\ stage\ does}}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ not\ have\ an\ output\ channel}}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *n2\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a63121b91003429b9c6e317ad09445aa3}{getLast}}();}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (n2-\/>\mbox{\hyperlink{classff_1_1ff__node_adfb7746174f6744ae019cf494ca2b8a5}{isMultiOutput}}())\ \{}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(1);}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ n2-\/>\mbox{\hyperlink{classff_1_1ff__node_ab05d103aca4217e980d99b05778573aa}{get\_out\_nodes}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()==0)\ \&\&\ (n2-\/>\mbox{\hyperlink{classff_1_1ff__node_afc373ea4adfe2cc2126a77a9a63ee773}{callback}}\ ==\ \textcolor{keyword}{nullptr}))\ }
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ n2-\/>\mbox{\hyperlink{classff_1_1ff__node_ad8c6802b7a49124aaab14b4d95ef06f0}{registerCallback}}(\mbox{\hyperlink{classff_1_1ff__comb_a8b223db7278c967dcf99c839b8891aa3}{devnull}},\ \textcolor{keyword}{nullptr});\ \ \ \textcolor{comment}{//\ devnull\ callback}}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ }
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((n2-\/>\mbox{\hyperlink{classff_1_1ff__node_a334096bd901d8b6c2ae2d73877846ff0}{get\_out\_buffer}}()\ ==\ \textcolor{keyword}{nullptr})\ \&\&\ (n2-\/>\mbox{\hyperlink{classff_1_1ff__node_afc373ea4adfe2cc2126a77a9a63ee773}{callback}}\ ==\ \textcolor{keyword}{nullptr}))}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ n2-\/>\mbox{\hyperlink{classff_1_1ff__node_ad8c6802b7a49124aaab14b4d95ef06f0}{registerCallback}}(\mbox{\hyperlink{classff_1_1ff__comb_a8b223db7278c967dcf99c839b8891aa3}{devnull}},\ \textcolor{keyword}{nullptr});\ \ \ \textcolor{comment}{//\ devnull\ callback}}
\DoxyCodeLine{00470\ }
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_ad7d194fec0ea3d7a79f3b8392b4549a5}{prepared}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00474\ \ \ \ \ \}}
\DoxyCodeLine{00475\ }
\DoxyCodeLine{00476\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a9e0bf821e9648459354efefbfb3f1736}{set\_multiinput}}()\ \{}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ see\ farm.hpp}}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ when\ the\ composition\ is\ passed\ as\ filter\ of\ a\ farm\ collector\ (which\ is\ by}}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ default\ a\ multi-\/input\ node)\ the\ filter\ is\ seen\ as\ multi-\/input\ because\ we\ want}}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ to\ avoid\ calling\ eosnotify\ multiple\ times\ (see\ ff\_comb::eosnotify)}}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ same\ applies\ for\ the\ farm\ emitter.}}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>set\_multiinput();}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_abeec994b61404cca8037a148ee9e3961}{comp\_multi\_input}}=\textcolor{keyword}{true};}
\DoxyCodeLine{00485\ \ \ \ \ \}}
\DoxyCodeLine{00486\ }
\DoxyCodeLine{00487\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_aeee2c444bf437f2e44fe8d28363dee21}{set\_neos}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}()-\/>set\_neos(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00489\ \ \ \ \ \}}
\DoxyCodeLine{00490\ \ \ \ \ }
\DoxyCodeLine{00491\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_adee91bd67b7b0c7dea40fe53bf33b5da}{cardinality}}(\mbox{\hyperlink{config_8hpp_a7ece361b3f5c7fb0edaccf827f2322d3}{BARRIER\_T}}\ *\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}})\ \ \{\ }
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_aa9344f2d96ac7c041c5f0db882e79568}{ff\_node::set\_barrier}}(\mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}});}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_abc5dfd395a0901f2b153acc569a23c47}{ff\_minode::cardinality}}(\mbox{\hyperlink{classff_1_1ff__node_a8060d23704cc6e18fe9750caacf8eb02}{barrier}});}
\DoxyCodeLine{00494\ \ \ \ \ \}}
\DoxyCodeLine{00495\ \ \ \ \ }
\DoxyCodeLine{00496\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a03ae9a76b5a6e2c8288fd3dd482f2797}{set\_id}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node_adb9f904fd4d880a67c2bf6c7e14bd82f}{myid}}\ =\ \mbox{\hyperlink{cocoa__platform_8h_acf00cd75f37488e1d4ac463303ccfec4}{id}};}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}.size())\ \{}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}=0;\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}<\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}.size();\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]-\/>set\_id(\mbox{\hyperlink{classff_1_1ff__node_adb9f904fd4d880a67c2bf6c7e14bd82f}{myid}});}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00503\ \ \ \ \ \}}
\DoxyCodeLine{00504\ }
\DoxyCodeLine{00505\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_a0bea890ad6d9f57984af899926893dcf}{svc\_init}}()\ \{}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4be1e61d914f43363a5484d45934c9a8}{neos}}=0;}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}=0;\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}<\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}.size();\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a0bea890ad6d9f57984af899926893dcf}{svc\_init}}())<0)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};\ }
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00512\ \ \ \ \ \}}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \ \ \ \ \textcolor{comment}{//\ main\ service\ function}}
\DoxyCodeLine{00515\ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{classff_1_1ff__comb_adc1bf59b479a690e342747b75aabc802}{svc}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{namespaceff_a0d49fe9ae339a6ea515d87ade60b6d08}{FF\_GO\_ON}};}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *r1;}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>svc(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00522\ \textcolor{preprocessor}{\#ifdef\ DFF\_ENABLED}}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ||\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a52b7210f6fc30e9b2c07d914782b23bc}{skipfirstpop}}()\ ||\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>skipallpop())\ \{}
\DoxyCodeLine{00524\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ||\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a52b7210f6fc30e9b2c07d914782b23bc}{skipfirstpop}}())\{}
\DoxyCodeLine{00526\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ r1=\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>svc(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(r1\ ==\ \mbox{\hyperlink{namespaceff_a0d49fe9ae339a6ea515d87ade60b6d08}{FF\_GO\_ON}}\ ||\ r1\ ==\ \mbox{\hyperlink{namespaceff_a87d1455fcd512edda2f88c16618c6424}{FF\_GO\_OUT}}\ ||\ r1\ ==\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}}))\ \{}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>ff\_send\_out(r1);}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (r1\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}})\ }
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}=\mbox{\hyperlink{namespaceff_a87d1455fcd512edda2f88c16618c6424}{FF\_GO\_OUT}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00536\ \ \ \ \ \}}
\DoxyCodeLine{00537\ }
\DoxyCodeLine{00538\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_aab91551f19d186deefc9657c4f0aa180}{svc\_end}}()\ \{}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}=0;\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}<\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}.size();\ ++\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})\ \{}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}}]-\/>svc\_end();}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00542\ \ \ \ \ \}}
\DoxyCodeLine{00543\ }
\DoxyCodeLine{00544\ \ \ \ \ \textcolor{comment}{//\ this\ is\ called\ by\ the\ ff\_send\_out\ for\ those\ nodes\ that\ are\ inside\ a\ combine}}
\DoxyCodeLine{00545\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_a0768d09b541160420fa59d4202465e64}{push\_comp\_local}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})\ \{}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}})\ \{}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>eosnotify();}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a340f374fd0112de257dbdd0c7a750dad}{propagateEOS}}();}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>svc(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ ==\ \mbox{\hyperlink{namespaceff_a0d49fe9ae339a6ea515d87ade60b6d08}{FF\_GO\_ON}}\ ||\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}==\ \mbox{\hyperlink{namespaceff_a87d1455fcd512edda2f88c16618c6424}{FF\_GO\_OUT}}\ ||\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ ==\ \mbox{\hyperlink{namespaceff_a661e583b7cfd15175d071187d6a6ace2}{FF\_EOS\_NOFREEZE}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ ==\ \mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}})\ \{}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a340f374fd0112de257dbdd0c7a750dad}{propagateEOS}}();}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>ff\_send\_out(\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}});}
\DoxyCodeLine{00558\ \ \ \ \ \}}
\DoxyCodeLine{00559\ \ \ \ \ }
\DoxyCodeLine{00560\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_a996f3cb842d1ea39b82355b99152446a}{set\_output}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>set\_output(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00562\ \ \ \ \ \}}
\DoxyCodeLine{00563\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_a5cd0aef4022f1ab5908e2246d6bde5fe}{set\_output}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>set\_output(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00565\ \ \ \ \ \}}
\DoxyCodeLine{00566\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_a66fd5569066a4e98043745ad5ab96ba3}{set\_output\_feedback}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>set\_output\_feedback(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});}
\DoxyCodeLine{00568\ \ \ \ \ \}}
\DoxyCodeLine{00569\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_abc6e9edf6c77ca2db239057b353770b5}{set\_input}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \textcolor{comment}{//assert(comp\_nodes[0]-\/>isMultiInput());}}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_abc6e9edf6c77ca2db239057b353770b5}{set\_input}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ first\ node\ of\ the\ comp\ is\ a\ multi-\/input\ node}}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ have\ to\ set\ the\ input\ of\ the\ current\ ff\_minode\ that}}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ is\ implementing\ the\ composition}}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_a8a3bc9d5aa6b570853922bc8fd1f07f9}{ff\_minode::set\_input}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00576\ \ \ \ \ \}}
\DoxyCodeLine{00577\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_a5996314537f8b9abeda387640d9d8f01}{set\_input}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \textcolor{comment}{//assert(comp\_nodes[0]-\/>isMultiInput());}}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_abc6e9edf6c77ca2db239057b353770b5}{set\_input}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ first\ node\ of\ the\ comp\ is\ a\ multi-\/input\ node}}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ have\ to\ set\ the\ input\ of\ the\ current\ ff\_minode\ that}}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ is\ implementing\ the\ composition}}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_a8a3bc9d5aa6b570853922bc8fd1f07f9}{ff\_minode::set\_input}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00584\ \ \ \ \ \}}
\DoxyCodeLine{00585\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_a93be1dbfb6f7e4ed19cee3af940b2335}{set\_input\_feedback}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \{}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \textcolor{comment}{//assert(comp\_nodes[0]-\/>isMultiInput());}}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a93be1dbfb6f7e4ed19cee3af940b2335}{set\_input\_feedback}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})<0)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ first\ node\ of\ the\ comp\ is\ a\ multi-\/input\ node}}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ have\ to\ set\ the\ input\ of\ the\ current\ ff\_minode\ that}}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ is\ implementing\ the\ composition}}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_a8de86cdc9082cc8420c450767c0daeb7}{ff\_minode::set\_input\_feedback}}(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}});\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00592\ \ \ \ \ \}}
\DoxyCodeLine{00593\ }
\DoxyCodeLine{00594\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a49e4e461b05445ace632a71a03ae983c}{blocking\_mode}}(\textcolor{keywordtype}{bool}\ blk=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ blocking\_in=blocking\_out=blk;}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a63121b91003429b9c6e317ad09445aa3}{getLast}}();}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>blocking\_mode(blocking\_in);}
\DoxyCodeLine{00598\ \ \ \ \ \}}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_ac3e03db7db07c7ab6912372365b81df1}{set\_scheduling\_ondemand}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ inbufferentries=1)\ \{}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__comb_aa928d053d3b40e4577dcd6f640dd039f}{isMultiOutput}}())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}=\ \mbox{\hyperlink{classff_1_1ff__comb_a63121b91003429b9c6e317ad09445aa3}{getLast}}();}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>isMultiOutput());}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>set\_scheduling\_ondemand(inbufferentries);}
\DoxyCodeLine{00605\ \ \ \ \ \}}
\DoxyCodeLine{00606\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_a154bbc037dd4af26d956aa12ffe44d20}{ondemand\_buffer}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classff_1_1ff__comb_aa928d053d3b40e4577dcd6f640dd039f}{isMultiOutput}}())\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}=\ \mbox{\hyperlink{classff_1_1ff__comb_a63121b91003429b9c6e317ad09445aa3}{getLast}}();}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>isMultiOutput());}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>ondemand\_buffer();}
\DoxyCodeLine{00611\ \ \ \ \ \}}
\DoxyCodeLine{00612\ \ \ \ }
\DoxyCodeLine{00613\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a3631044b6f382d0adf115e3962e1c456}{eosnotify}}(\mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \textcolor{keywordtype}{id}=-\/1)\ \{}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>eosnotify(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classff_1_1ff__comb_a4be1e61d914f43363a5484d45934c9a8}{neos}};}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ first\ node\ is\ multi-\/input\ or\ is\ a\ comp\ passed\ as\ filter\ to\ a\ farm\ collector,}}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ then\ we\ have\ to\ call\ eosnotify\ only\ if\ we\ have\ received\ all\ EOSs}}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}()\ ||\ \mbox{\hyperlink{classff_1_1ff__comb_abeec994b61404cca8037a148ee9e3961}{comp\_multi\_input}})\ \{}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}=\mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}()-\/>get\_neos();}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4be1e61d914f43363a5484d45934c9a8}{neos}}\ >=\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}})}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>eosnotify(\textcolor{keywordtype}{id});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>eosnotify(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00626\ \ \ \ \ \}}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00628\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a340f374fd0112de257dbdd0c7a750dad}{propagateEOS}}(\textcolor{keywordtype}{void}\ *\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}=\mbox{\hyperlink{namespaceff_acff372aed4435a709bb5ecce348b14b9}{FF\_EOS}})\ \{}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a037c6481498f6a59e6d4d710cb8ed7a0}{isComp}}())\ \{}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>propagateEOS(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>\mbox{\hyperlink{classff_1_1ff__comb_aa928d053d3b40e4577dcd6f640dd039f}{isMultiOutput}}())}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>propagateEOS(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>ff\_send\_out(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}});}
\DoxyCodeLine{00638\ \ \ \ \ \}}
\DoxyCodeLine{00639\ }
\DoxyCodeLine{00640\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_ac87db6745dea0df946cf2549633373f0}{get\_out\_nodes}}(\mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}=\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>get\_out\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}\ ==\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>isComp())}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.push\_back(\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]);}
\DoxyCodeLine{00645\ \ \ \ \ \}}
\DoxyCodeLine{00646\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_ae7b3680fbada6808a3e2a15f7533570f}{get\_in\_nodes}}(\mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}=\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>get\_in\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yyjson_8h_ac16e956eac9f5c3180afa8e80d4f098c}{len}}\ ==\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()\ \&\&\ !\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>isComp())}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.push\_back(\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]);}
\DoxyCodeLine{00651\ \ \ \ \ \}}
\DoxyCodeLine{00652\ \ \ \ \ }
\DoxyCodeLine{00653\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a31ee893fc621900e1cd1001ced0dd734}{get\_in\_nodes\_feedback}}(\mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}})\ \{}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>get\_in\_nodes\_feedback(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00655\ \ \ \ \ \}}
\DoxyCodeLine{00656\ }
\DoxyCodeLine{00657\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_adb89facea5475f0b8b45d02f395ea752}{create\_input\_buffer}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ \textcolor{keywordtype}{bool}\ fixedsize=\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}})\ \{}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}())\ \{}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\ \mbox{\hyperlink{classff_1_1ff__minode_ab6bcadc49347abd30e9f069f11fb0915}{ff\_minode::create\_input\_buffer}}(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},fixedsize);}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}<0)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(1);}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__minode_aed858fef632ffc503a30937f5d36cf28}{ff\_minode::get\_in\_nodes}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size()==1);}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\mbox{\hyperlink{classff_1_1ff__node_a561a7e071f3721de62e465f41384c933}{ff\_node::set\_input\_buffer}}(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_a48209c97eeca5ddafe610b599d1f9e83}{get\_in\_buffer}}());}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00667\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_adfe6c917b93de5635d21a79c8c4181cb}{ff\_node::create\_input\_buffer}}(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},fixedsize);}
\DoxyCodeLine{00668\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}<0)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00669\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}()-\/>set\_input\_buffer(\mbox{\hyperlink{classff_1_1ff__node_adfa6f2bc22637590349e94ecb9b3c8eb}{ff\_node::get\_in\_buffer}}());}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}};}
\DoxyCodeLine{00671\ \ \ \ \ \}}
\DoxyCodeLine{00672\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_ab39ed55020181c6e7683de9700afdb6e}{create\_output\_buffer}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},\ \textcolor{keywordtype}{bool}\ fixedsize=\mbox{\hyperlink{config_8hpp_a6f8006dae4b37d7bb347496e7332a745}{FF\_FIXED\_SIZE}})\ \{}
\DoxyCodeLine{00673\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>create\_output\_buffer(\mbox{\hyperlink{sparse__randomsetter_8cpp_aea556e57b7fa9d8784c09294d3a7eb33}{nentries}},fixedsize);}
\DoxyCodeLine{00674\ \ \ \ \ \}}
\DoxyCodeLine{00675\ \ \ \ \ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\ \mbox{\hyperlink{classff_1_1ff__comb_a48209c97eeca5ddafe610b599d1f9e83}{get\_in\_buffer}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \ \ \textcolor{comment}{//if\ (getFirst()-\/>isMultiInput())\ return\ nullptr;}}
\DoxyCodeLine{00677\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_adfa6f2bc22637590349e94ecb9b3c8eb}{ff\_node::get\_in\_buffer}}();}
\DoxyCodeLine{00678\ \ \ \ \ \}}
\DoxyCodeLine{00679\ }
\DoxyCodeLine{00680\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classff_1_1ff__comb_ad7163afe08b99881bedbc56d4473c4b1}{set\_output\_buffer}}(\mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\ \textcolor{keyword}{const}\ o)\ \{}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>set\_output\_buffer(o);}
\DoxyCodeLine{00682\ \ \ \ \ \}}
\DoxyCodeLine{00683\ }
\DoxyCodeLine{00684\ \ \ \ \ \textcolor{comment}{//\ a\ composition\ can\ be\ passed\ as\ filter\ to\ a\ farm\ emitter\ \ }}
\DoxyCodeLine{00685\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_ab66eca872081abf179ce758b14a6838a}{setlb}}(\mbox{\hyperlink{classff_1_1ff__comb_a4507398d523881cfadefdf463bfa5962}{ff\_loadbalancer}}\ *elb,\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>setlb(elb,\ cleanup);}
\DoxyCodeLine{00687\ \ \ \ \ \}}
\DoxyCodeLine{00688\ \ \ \ \ \textcolor{comment}{//\ a\ composition\ can\ be\ passed\ as\ filter\ to\ a\ farm\ collector}}
\DoxyCodeLine{00689\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_a65d2b2450a955dea5d5f8b164cc390e0}{setgt}}(\mbox{\hyperlink{classff_1_1ff__comb_a60ba6ed26a612548d9930f0457bf852c}{ff\_gatherer}}\ *egt,\ \textcolor{keywordtype}{bool}\ cleanup=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>setgt(egt,\ cleanup);}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__minode_a1b7b7e26a50f747fed827bc16dcce71a}{ff\_minode::setgt}}(egt,\ cleanup);}
\DoxyCodeLine{00692\ \ \ \ \ \}}
\DoxyCodeLine{00693\ }
\DoxyCodeLine{00694\ \ \ \ \ \textcolor{comment}{//\ consumer}}
\DoxyCodeLine{00695\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_a2b3b51f0f1bed335482355d4e1bc4acb}{init\_input\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \textcolor{comment}{/*feedback*/}=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00698\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}();}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>isMultiInput())\ \{}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ inits\ local\ gt,\ which\ is\ used\ for\ gathering\ tasks....}}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}=\ \mbox{\hyperlink{classff_1_1ff__minode_a5139202eca5016c5b190b108fc4ca402}{ff\_minode::init\_input\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ...\ then,\ sets\ all\ p\_cons\_*\ on\ all\ input\ channels}}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}(1);}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>get\_in\_nodes(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>get\_in\_nodes\_feedback(\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}});}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}.size();\ ++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ }
\DoxyCodeLine{00708\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_matrix__resize__int_8cpp_aab236ce080522c9832217fd5f157541b}{w}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ab2cbb18c1310bb5fa18b53cbf4b0f3ab}{set\_output\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}}\ =\ \mbox{\hyperlink{classff_1_1ff__node_aab934f40b0c6129cc45d95fb085f8024}{ff\_node::init\_input\_blocking}}(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{offscreen_8c_a4788d82c901b9367dd5c0daff8a7616b}{r}})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ first\ node\ is\ a\ standard\ node\ or\ a\ multi-\/output\ node}}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ then\ the\ comb\ node\ and\ the\ first\ node\ share\ the\ same}}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ cond\ variable.\ This\ is\ due\ to\ the\ put\_done\ method\ in\ the\ lb}}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ (i.e.\ the\ prev\ node\ is\ a\ multi-\/output\ or\ an\ emitter\ node)\ }}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>cons\_m\ ==\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>set\_cons\_c(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ \textcolor{comment}{//n-\/>cons\_c\ =\ c;\ n-\/>cons\_m\ =\ nullptr;\ \ \ \ \ \ \ \ <-\/-\/-\/-\/\ TOGLIERE}}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \ \ }
\DoxyCodeLine{00721\ \ \ \ \ \}}
\DoxyCodeLine{00722\ \ \ \ \ \textcolor{comment}{//\ producer}}
\DoxyCodeLine{00723\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_a05bff145c980c8cb640ff70465193ccb}{init\_output\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00724\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00725\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \textcolor{comment}{/*feedback*/}=\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00726\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>init\_output\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00727\ \ \ \ \ \}}
\DoxyCodeLine{00728\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classff_1_1ff__comb_ab2cbb18c1310bb5fa18b53cbf4b0f3ab}{set\_output\_blocking}}(\mbox{\hyperlink{pthread__minport__windows_8h_a572a3762cb738984c3957ba91426b08d}{pthread\_mutex\_t}}\ \ \ *\&\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ *\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{00730\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ canoverwrite=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>set\_output\_blocking(\mbox{\hyperlink{_angle_axis__mimic__euler_8cpp_ab3cd915d758008bd19d0f2428fbb354a}{m}},\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ canoverwrite);}
\DoxyCodeLine{00732\ \ \ \ \ \}}
\DoxyCodeLine{00733\ }
\DoxyCodeLine{00734\ \ \ \ \ \textcolor{comment}{//\ the\ following\ calls\ are\ needed\ because\ a\ composition}}
\DoxyCodeLine{00735\ \ \ \ \ \textcolor{comment}{//\ uses\ as\ output\ channel(s)\ the\ one(s)\ of\ the\ second\ node.}}
\DoxyCodeLine{00736\ \ \ \ \ \textcolor{comment}{//\ these\ functions\ should\ not\ be\ called\ if\ the\ node\ is\ multi-\/output}}
\DoxyCodeLine{00737\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \mbox{\hyperlink{classff_1_1ff__comb_a02da5f7b3d62b13a3c7748aec9ee5e72}{get}}(\textcolor{keywordtype}{void}\ **\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>get(\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}});\}}
\DoxyCodeLine{00738\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{pthread__minport__windows_8h_a9d2915aaebc50f5522abbf7687c32836}{pthread\_cond\_t}}\ \ \ \ \&\mbox{\hyperlink{classff_1_1ff__comb_a7fe4bfe37169af8f60b51ef78b3764b5}{get\_cons\_c}}()\ \ \{}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ =\ \mbox{\hyperlink{classff_1_1ff__comb_a04666b053cf96144dfc3f46f5cbd2185}{getFirst}}();}
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}-\/>isMultiInput())\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_a10e1db382b28a6d04076f225b0f328cc}{ff\_minode::get\_cons\_c}}();}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a6428bdb4a1a63a1f4c439d092a49e2af}{ff\_node::get\_cons\_c}}();}
\DoxyCodeLine{00742\ \ \ \ \ \}}
\DoxyCodeLine{00743\ \ \ \ \ }
\DoxyCodeLine{00744\ \ \ \ \ \mbox{\hyperlink{config_8hpp_ab3061b965a923ec086060cb755bea202}{FFBUFFER}}\ *\mbox{\hyperlink{classff_1_1ff__comb_af9a4edd63bc032e9e03012d791e45c05}{get\_out\_buffer}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a63121b91003429b9c6e317ad09445aa3}{getLast}}()-\/>\mbox{\hyperlink{classff_1_1ff__comb_aa928d053d3b40e4577dcd6f640dd039f}{isMultiOutput}}())\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>get\_out\_buffer();}
\DoxyCodeLine{00747\ \ \ \ \ \}}
\DoxyCodeLine{00748\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_a44af6ecfde154edce06f1bb9200de99b}{ff\_send\_out}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}=-\/1,}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=(\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{ff\_node::TICKS2WAIT}}))\ \{\ }
\DoxyCodeLine{00751\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>ff\_send\_out(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\textcolor{keywordtype}{id},retry,ticks);}
\DoxyCodeLine{00752\ \ \ \ \ \}}
\DoxyCodeLine{00753\ }
\DoxyCodeLine{00754\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_a78e4e6376eb98cdfaf7239e0361d67f6}{ff\_send\_out\_to}}(\textcolor{keywordtype}{void}\ *\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ retry=((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})-\/1),}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ ticks=(\mbox{\hyperlink{classff_1_1ff__node_a66bb1559f1f0863a0034633e82795b0ca2824e434c3e717a7df8664d8af4b62cc}{ff\_node::TICKS2WAIT}}))\ \{\ }
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[1]-\/>ff\_send\_out(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}},\textcolor{keywordtype}{id},retry,ticks);}
\DoxyCodeLine{00757\ \ \ \ \ \}}
\DoxyCodeLine{00758\ }
\DoxyCodeLine{00759\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__comb_ae02d1bdc48c920b07207796177f27564}{getstarttime}}()\ const\ \{}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}())\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_a0e2eff0b5a5101c475f14324fce98c27}{ff\_minode::getstarttime}}();}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_aa7572f50f891b790016e4dde7d55feb4}{ff\_node::getstarttime}}();}
\DoxyCodeLine{00762\ \ \ \ \ \}}
\DoxyCodeLine{00763\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__comb_afe14b0093766320c69ca5c6e80772fc9}{getstoptime}}()\ \ const\ \{}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}())\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_a46219c53dac84fad968f44fc08933afa}{ff\_minode::getstoptime}}();}
\DoxyCodeLine{00765\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a486bce16c07344d8a23d9d397d45e09e}{ff\_node::getstoptime}}();}
\DoxyCodeLine{00766\ \ \ \ \ \}}
\DoxyCodeLine{00767\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__comb_ae8dbfea4bb8c630435da64d3a1385e32}{getwstartime}}()\ const\ \{}
\DoxyCodeLine{00768\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}())\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_a6ef31b5e9c00ea2f7b8163901a798770}{ff\_minode::getwstartime}}();}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a154e7f1d5715416d55029fded8869763}{ff\_node::getwstartime}}();}
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ \ \ \ \ \}}
\DoxyCodeLine{00772\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }timeval\ \mbox{\hyperlink{classff_1_1ff__comb_a75aa620da581f7b355e48d2c767fa26a}{getwstoptime}}()\ const\ \{}
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}}[0]-\/>\mbox{\hyperlink{classff_1_1ff__comb_ab0bc4bfda70f880a2ef4d38bc1e17603}{isMultiInput}}())\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__minode_a6ff78acfc0b37c6cb789adccac150235}{ff\_minode::getwstoptime}}();}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__node_a3d2c3a7c33d44c203117b519183378f6}{ff\_node::getwstoptime}}();}
\DoxyCodeLine{00775\ \ \ \ \ \}}
\DoxyCodeLine{00776\ \ \ \ \ }
\DoxyCodeLine{00777\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00778\ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{classff_1_1ff__comb_a4531718f705b4589a9083fa428fd01c6}{comp\_nodes}};}
\DoxyCodeLine{00779\ \ \ \ \ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\ \mbox{\hyperlink{classff_1_1ff__comb_af327d4fdb58e051155488040ac21ddf7}{cleanup\_stages}};\ \ \ }
\DoxyCodeLine{00780\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classff_1_1ff__comb_abeec994b61404cca8037a148ee9e3961}{comp\_multi\_input}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00781\ \ \ \ \ \mbox{\hyperlink{eabase_8h_a831c6b6852c6d34448e30a88c34539fd}{ssize\_t}}\ \mbox{\hyperlink{classff_1_1ff__comb_a4be1e61d914f43363a5484d45934c9a8}{neos}}=0;}
\DoxyCodeLine{00782\ \};}
\DoxyCodeLine{00783\ }
\DoxyCodeLine{00784\ \textcolor{comment}{/*\ }}
\DoxyCodeLine{00785\ \textcolor{comment}{\ *\ Type-\/preserving\ combiner\ building\ block\ }}
\DoxyCodeLine{00786\ \textcolor{comment}{\ *\ }}
\DoxyCodeLine{00787\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00788\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ TIN,\ \textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ TOUT>}
\DoxyCodeLine{00789\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structff_1_1ff__comb__t_a319f143ac35042825e5363a7d54a69ee}{ff\_comb\_t}}:\ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}\ \{}
\DoxyCodeLine{00790\ \ \ \ \ \textcolor{keyword}{typedef}\ TIN\ \ \mbox{\hyperlink{structff_1_1ff__comb__t_a918256db0eae63d28b28a352117298d4}{IN\_t}};}
\DoxyCodeLine{00791\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_adcf941ca15edeb9a799c0522692225c9}{T\_t}};}
\DoxyCodeLine{00792\ \ \ \ \ \textcolor{keyword}{typedef}\ TOUT\ \mbox{\hyperlink{structff_1_1ff__comb__t_a904144443a4f454e5f4cdda031f64872}{OUT\_t}};}
\DoxyCodeLine{00793\ }
\DoxyCodeLine{00794\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_a319f143ac35042825e5363a7d54a69ee}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__node__t}{ff\_node\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__node__t}{ff\_node\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00796\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_aa35c22a292691fa22fe5d9858e9284a6}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__node__t}{ff\_node\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__minode__t}{ff\_minode\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00797\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00798\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_af944c1fcca6c82bc7391660ff17fe114}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__node__t}{ff\_node\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__monode__t}{ff\_monode\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00800\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00801\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_a15b38c4464e3eceb0e0f060e9f7341fb}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__node__t}{ff\_node\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__comb__t_a319f143ac35042825e5363a7d54a69ee}{ff\_comb\_t<T,\ S,\ TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00802\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00803\ }
\DoxyCodeLine{00804\ }
\DoxyCodeLine{00805\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_a43ae667d509b8cc08218b7620002f31a}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__minode__t}{ff\_minode\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__node__t}{ff\_node\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00807\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_a371c8976eeb74649dea291f144ba70fd}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__minode__t}{ff\_minode\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__minode__t}{ff\_minode\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00809\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_ae1216bde0c2e21e4737c9a53fda10f3a}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__minode__t}{ff\_minode\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__monode__t}{ff\_monode\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00811\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00812\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_a4b2ba0f580e6ee55c7fed4acad378e89}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__minode__t}{ff\_minode\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__comb__t_a319f143ac35042825e5363a7d54a69ee}{ff\_comb\_t<T,\ S,\ TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00814\ \ \ \ \ }
\DoxyCodeLine{00815\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_af694f174611ffaf2c9c396fb45466ad4}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__monode__t}{ff\_monode\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__node__t}{ff\_node\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00817\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_a1525d4c41a3700666ef9e9909ada58d2}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__monode__t}{ff\_monode\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__minode__t}{ff\_minode\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00819\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_a1078c6a4eb3b8aaa850ae034689260f3}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__monode__t}{ff\_monode\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__monode__t}{ff\_monode\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00821\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00822\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_a6edfdf942f0eefe80d71f6f9b1aff165}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__monode__t}{ff\_monode\_t<TIN,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__comb__t_a319f143ac35042825e5363a7d54a69ee}{ff\_comb\_t<T,\ S,\ TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00823\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00824\ }
\DoxyCodeLine{00825\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00826\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_ae57ab34072d50dc6f2e6257a33e70248}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__comb__t_a319f143ac35042825e5363a7d54a69ee}{ff\_comb\_t<TIN,\ S,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__node__t}{ff\_node\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00828\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00829\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_af4dc9c55b3d14eb1d65a808470d0bbb9}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__comb__t_a319f143ac35042825e5363a7d54a69ee}{ff\_comb\_t<TIN,\ S,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__minode__t}{ff\_minode\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00831\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00832\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_abd4e5d058d13227aea44d34583f33071}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__comb__t_a319f143ac35042825e5363a7d54a69ee}{ff\_comb\_t<TIN,\ S,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__monode__t}{ff\_monode\_t<T,TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00833\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}}
\DoxyCodeLine{00834\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ S,\ \textcolor{keyword}{typename}\ W>}
\DoxyCodeLine{00835\ \ \ \ \ \mbox{\hyperlink{structff_1_1ff__comb__t_aec9b5790ab8a031928ecc2018bce63b9}{ff\_comb\_t}}(\mbox{\hyperlink{structff_1_1ff__comb__t_a319f143ac35042825e5363a7d54a69ee}{ff\_comb\_t<TIN,\ S,\ T>}}*\ n1,\ \mbox{\hyperlink{structff_1_1ff__comb__t_a319f143ac35042825e5363a7d54a69ee}{ff\_comb\_t<T,\ W,\ TOUT>}}*\ n2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false}):}
\DoxyCodeLine{00836\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}(n1,n2,cleanup1,cleanup2)\ \{\}\ \ }
\DoxyCodeLine{00837\ \};}
\DoxyCodeLine{00838\ \ \ \ \ }
\DoxyCodeLine{00839\ }
\DoxyCodeLine{00840\ \textcolor{comment}{/*\ ***************************************************************************\ *}}
\DoxyCodeLine{00841\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00842\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ helper\ functions\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00843\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00844\ \textcolor{comment}{\ *\ ***************************************************************************\ */}}
\DoxyCodeLine{00845\ \ \ \ \ }
\DoxyCodeLine{00850\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>\ \ \ \ }
\DoxyCodeLine{00851\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}\ \mbox{\hyperlink{namespaceff_a2ce77ee29eb233abeb77d7b2800af810}{combine\_nodes}}(T1\&\ n1,\ T2\&\ n2)\ \{}
\DoxyCodeLine{00852\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}\ \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}};}
\DoxyCodeLine{00853\ \ \ \ \ \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}}.add\_node(n1,n2);}
\DoxyCodeLine{00854\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}};}
\DoxyCodeLine{00855\ \}}
\DoxyCodeLine{00856\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00861\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>\ \ \ \ }
\DoxyCodeLine{00862\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ std::unique\_ptr<ff\_node>\ \mbox{\hyperlink{namespaceff_ab44f622db2a2da095c95cbc05768c00d}{unique\_combine\_nodes}}(T1\&\ n1,\ T2\&\ n2)\ \{}
\DoxyCodeLine{00863\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}}\ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb_a8618096f39cad089afd9e01a604a4c8c}{ff\_comb}};}
\DoxyCodeLine{00864\ \ \ \ \ assert(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00865\ \ \ \ \ std::unique\_ptr<ff\_node>\ \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}}(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{00866\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}-\/>check(n1,n2))\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}};}
\DoxyCodeLine{00867\ \ \ \ \ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}-\/>add\_node(n1,n2);}
\DoxyCodeLine{00868\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}};}
\DoxyCodeLine{00869\ \}}
\DoxyCodeLine{00870\ \ \ \ }
\DoxyCodeLine{00879\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}\ \mbox{\hyperlink{namespaceff_af16d181339c27f39e0c826ff552f816b}{combine\_nodes\_in\_pipeline}}(\mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\&\ node1,\ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\&\ node2,\ \textcolor{keywordtype}{bool}\ cleanup1=\textcolor{keyword}{false},\ \textcolor{keywordtype}{bool}\ cleanup2=\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00880\ \ \ \ \ \textcolor{keywordflow}{if}\ (node1.\mbox{\hyperlink{classff_1_1ff__node_ac8e132cbcab68af6a4ca13bbcccd62f3}{isAll2All}}()\ ||\ node2.\mbox{\hyperlink{classff_1_1ff__node_ac8e132cbcab68af6a4ca13bbcccd62f3}{isAll2All}}())\ \{}
\DoxyCodeLine{00881\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_nodes\_in\_pipeline,\ cannot\ be\ used\ if\ one\ of\ the\ nodes\ is\ A2A\(\backslash\)n"{}});}
\DoxyCodeLine{00882\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}();}
\DoxyCodeLine{00883\ \ \ \ \ \}}
\DoxyCodeLine{00884\ \ \ \ \ \textcolor{keywordflow}{if}\ (node1.\mbox{\hyperlink{classff_1_1ff__node_a0e0ec9da95b11c7d9a5ce874870cf9df}{isOFarm}}())\ \{}
\DoxyCodeLine{00885\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node2.\mbox{\hyperlink{classff_1_1ff__node_a2af2bb6ee5bffb4bb5074b4c46ededed}{isFarm}}())\ \{}
\DoxyCodeLine{00886\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ *farm1\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}*\textcolor{keyword}{>}(\&node1);}
\DoxyCodeLine{00887\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ *farm2\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}*\textcolor{keyword}{>}(\&node2);}
\DoxyCodeLine{00888\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cleanup1)\ farm1-\/>\mbox{\hyperlink{classff_1_1ff__farm_a86ad840d47acf03add025d3f020c613c}{cleanup\_all}}();}
\DoxyCodeLine{00889\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cleanup2)\ farm2-\/>\mbox{\hyperlink{classff_1_1ff__farm_a86ad840d47acf03add025d3f020c613c}{cleanup\_all}}();}
\DoxyCodeLine{00890\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceff_ae665dbb7574841d499c1200dbda972ba}{combine\_ofarm\_farm}}(*farm1,\ *farm2);}
\DoxyCodeLine{00891\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00892\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_nodes\_in\_pipeline,\ FEATURE\ NOT\ YET\ SUPPORTED\ (node1\ ordered\ farm\ and\ node2\ standard\ or\ combine\ node\(\backslash\)n"{}});}
\DoxyCodeLine{00893\ \ \ \ \ \ \ \ \ abort();\ \textcolor{comment}{//\ FIX:\ TODO\ <-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00894\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}();}
\DoxyCodeLine{00895\ \ \ \ \ \}}
\DoxyCodeLine{00896\ \ \ \ \ \textcolor{keywordflow}{if}\ (!node1.\mbox{\hyperlink{classff_1_1ff__node_a2af2bb6ee5bffb4bb5074b4c46ededed}{isFarm}}()\ \&\&\ !node2.\mbox{\hyperlink{classff_1_1ff__node_a2af2bb6ee5bffb4bb5074b4c46ededed}{isFarm}}())\ \{\ \textcolor{comment}{//\ two\ sequential\ nodes}}
\DoxyCodeLine{00897\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}\ pipe;}
\DoxyCodeLine{00898\ \ \ \ \ \ \ \ \ pipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\&node1,\ cleanup1);}
\DoxyCodeLine{00899\ \ \ \ \ \ \ \ \ pipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\&node2,\ cleanup2);}
\DoxyCodeLine{00900\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pipe;}
\DoxyCodeLine{00901\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!node1.\mbox{\hyperlink{classff_1_1ff__node_a2af2bb6ee5bffb4bb5074b4c46ededed}{isFarm}}()\ \&\&\ node2.\mbox{\hyperlink{classff_1_1ff__node_a2af2bb6ee5bffb4bb5074b4c46ededed}{isFarm}}())\ \{\ \textcolor{comment}{//\ seq\ with\ farm's\ emitter}}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}\ pipe;}
\DoxyCodeLine{00903\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}*\ farm\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}*\textcolor{keyword}{>}(\&node2);}
\DoxyCodeLine{00904\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}\ =\ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}();}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(\&node1);}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}\ *\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}};}
\DoxyCodeLine{00908\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/>isMultiOutput())\ \{\ \textcolor{comment}{//\ we\ have\ to\ transform\ the\ emitter\ node\ into\ a\ multi-\/output}}
\DoxyCodeLine{00909\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}-\/>isMultiInput())\ \{\ \textcolor{comment}{//\ this\ is\ a\ "{}strange"{}\ case:\ the\ emitter\ is\ multi-\/input\ without\ being\ also\ multi-\/output\ (through\ a\ combine\ node)}}
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }hnode:\mbox{\hyperlink{classff_1_1ff__monode}{ff\_monode}}\ \{}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ svc(\textcolor{keywordtype}{void}*in)\ \{\textcolor{keywordflow}{return}\ in;\}}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00913\ }
\DoxyCodeLine{00914\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ c\ is\ a\ multi-\/input\ AND\ multi-\/output\ node}}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}\ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},\ \textcolor{keyword}{new}\ hnode,}
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}(),\ \textcolor{keyword}{true});}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00918\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(\&node1,\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ cleanup1,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ mo\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1internal__mo__transformer}{internal\_mo\_transformer}}(\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},\ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}());}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(mo);}
\DoxyCodeLine{00922\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(\&node1,\ mo,\ cleanup1,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00925\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(\&node1,\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},\ cleanup1,\ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}());}
\DoxyCodeLine{00926\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00927\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{00928\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}())\ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00929\ \ \ \ \ \ \ \ \ \ \ \ \ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00930\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00931\ \ \ \ \ \ \ \ \ pipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(farm,\ cleanup2);}
\DoxyCodeLine{00932\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pipe;}
\DoxyCodeLine{00933\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (node1.\mbox{\hyperlink{classff_1_1ff__node_a2af2bb6ee5bffb4bb5074b4c46ededed}{isFarm}}()\ \&\&\ !node2.\mbox{\hyperlink{classff_1_1ff__node_a2af2bb6ee5bffb4bb5074b4c46ededed}{isFarm}}())\ \{\ \textcolor{comment}{//\ first\ farm\ and\ seq}}
\DoxyCodeLine{00934\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}\ pipe;}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}*\ farm\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}*\textcolor{keyword}{>}(\&node1);}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}();}
\DoxyCodeLine{00937\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ \ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(\&node2,\ cleanup2);}
\DoxyCodeLine{00938\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}\ *\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\ \&node2,\ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}(),\ cleanup2);}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}())\ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \ \ \ \ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_a5fde02281e79ca2a135688e261a7225f}{remove\_collector}}();}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \ \ \ \ farm-\/>\mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00943\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00944\ \ \ \ \ \ \ \ \ pipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(farm,\ cleanup1);}
\DoxyCodeLine{00945\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pipe;\ \ \ \ }
\DoxyCodeLine{00946\ \ \ \ \ \}}
\DoxyCodeLine{00947\ \ \ \ \ assert(node1.\mbox{\hyperlink{classff_1_1ff__node_a2af2bb6ee5bffb4bb5074b4c46ededed}{isFarm}}()\ \&\&\ node2.\mbox{\hyperlink{classff_1_1ff__node_a2af2bb6ee5bffb4bb5074b4c46ededed}{isFarm}}());\ \ \ }
\DoxyCodeLine{00948\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}*\ farm1\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}*\textcolor{keyword}{>}(\&node1);}
\DoxyCodeLine{00949\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}*\ farm2\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}*\textcolor{keyword}{>}(\&node2);}
\DoxyCodeLine{00950\ \ \ \ \ }
\DoxyCodeLine{00951\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}\ =\ farm2-\/>\mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}();}
\DoxyCodeLine{00952\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}\ *\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ farm1-\/>\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}();}
\DoxyCodeLine{00953\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}\ pipe;}
\DoxyCodeLine{00954\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})\ \{}
\DoxyCodeLine{00955\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}\ *\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1-\/>\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}(),}
\DoxyCodeLine{00957\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm2-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}());}
\DoxyCodeLine{00958\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1-\/>\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}())\ farm1-\/>\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00959\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2-\/>\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}())\ \ \ farm2-\/>\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00960\ \ \ \ \ \ \ \ \ farm2-\/>\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00961\ \ \ \ \ \}}
\DoxyCodeLine{00962\ \ \ \ \ farm1-\/>\mbox{\hyperlink{classff_1_1ff__farm_a5fde02281e79ca2a135688e261a7225f}{remove\_collector}}();\ \ }
\DoxyCodeLine{00963\ \ \ \ \ pipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(farm1,\ cleanup1);}
\DoxyCodeLine{00964\ \ \ \ \ pipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(farm2,\ cleanup2);}
\DoxyCodeLine{00965\ \ \ \ \ \textcolor{keywordflow}{return}\ pipe;}
\DoxyCodeLine{00966\ \}}
\DoxyCodeLine{00967\ }
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00975\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ \mbox{\hyperlink{namespaceff_a0287483c11dd1cf9db892ff019145117}{combine\_farms\_a2a}}(\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&\ farm1,\ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&\ farm2)\ \{}
\DoxyCodeLine{00976\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ newfarm;}
\DoxyCodeLine{00977\ }
\DoxyCodeLine{00978\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}()\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00979\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms,\ first\ farm\ has\ a\ non-\/default\ collector\(\backslash\)n"{}});}
\DoxyCodeLine{00980\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;}
\DoxyCodeLine{00981\ \ \ \ \ \}}
\DoxyCodeLine{00982\ }
\DoxyCodeLine{00983\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}()\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00984\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}ff\_comb,\ second\ farm\ has\ a\ non-\/default\ emitter,\ use:\ combine\_farm(farm1,\ emitter2,\ farm2)\(\backslash\)n"{}});}
\DoxyCodeLine{00985\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;}
\DoxyCodeLine{00986\ \ \ \ \ \}}
\DoxyCodeLine{00987\ }
\DoxyCodeLine{00988\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__a2a}{ff\_a2a}}\ *a2a\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__a2a}{ff\_a2a}};}
\DoxyCodeLine{00989\ \ \ \ \ assert(a2a);}
\DoxyCodeLine{00990\ \ \ \ \ }
\DoxyCodeLine{00991\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ w1=\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{00992\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ w2=\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{00993\ \ \ \ \ }
\DoxyCodeLine{00994\ \ \ \ \ std::vector<ff\_node*>\ W1(w1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{00995\ \ \ \ \ std::vector<ff\_node*>\ W2(w2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{00996\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W1.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=w1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00997\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W2.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=w2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{00998\ \ \ \ \ }
\DoxyCodeLine{00999\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ emitter1\ =\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}();}
\DoxyCodeLine{01000\ \ \ \ \ \textcolor{keywordflow}{if}\ (emitter1)\ \{}
\DoxyCodeLine{01001\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(emitter1);}
\DoxyCodeLine{01002\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}())\ \{}
\DoxyCodeLine{01003\ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01004\ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01005\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01006\ \ \ \ \ \}}
\DoxyCodeLine{01007\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ collector2\ =\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}();}
\DoxyCodeLine{01008\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a5c5dc54cb6a91caacf2d316f5c3a19ad}{hasCollector}}())\ \{}
\DoxyCodeLine{01009\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(collector2);}
\DoxyCodeLine{01010\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}())\ \{}
\DoxyCodeLine{01011\ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01012\ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01013\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01014\ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01015\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}())\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01016\ \ \ \ \ }
\DoxyCodeLine{01017\ \ \ \ \ a2a-\/>\mbox{\hyperlink{classff_1_1ff__a2a_aad8fb5f7aafd141da9b6fedfb5a24437}{add\_firstset}}(W1,\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}(),\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}());}
\DoxyCodeLine{01018\ \ \ \ \ a2a-\/>\mbox{\hyperlink{classff_1_1ff__a2a_a32fb5256015bab02ecd879cda0b371e5}{add\_secondset}}(W2,\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}());}
\DoxyCodeLine{01019\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}())\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01020\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}())\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01021\ \ \ \ \ }
\DoxyCodeLine{01022\ \ \ \ \ std::vector<ff\_node*>\ \mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}};}
\DoxyCodeLine{01023\ \ \ \ \ \mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}.push\_back(a2a);}
\DoxyCodeLine{01024\ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{add\_workers}}(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}});}
\DoxyCodeLine{01025\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}())}
\DoxyCodeLine{01026\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a259e203b6eaf044985781f0a8668b9ae}{set\_scheduling\_ondemand}}(farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}());}
\DoxyCodeLine{01027\ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}();\ }
\DoxyCodeLine{01028\ \ \ \ \ }
\DoxyCodeLine{01029\ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;\ \ \ \ }
\DoxyCodeLine{01030\ \}}
\DoxyCodeLine{01031\ \ \ \ \ }
\DoxyCodeLine{01039\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ E\_t>\ \ \ \ \ }
\DoxyCodeLine{01040\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ \mbox{\hyperlink{namespaceff_a0287483c11dd1cf9db892ff019145117}{combine\_farms\_a2a}}(\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ \&farm1,\ \textcolor{keyword}{const}\ E\_t\&\ node,\ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ \&farm2)\ \{}
\DoxyCodeLine{01041\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ newfarm;}
\DoxyCodeLine{01042\ }
\DoxyCodeLine{01043\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__a2a}{ff\_a2a}}\ *a2a\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__a2a}{ff\_a2a}};}
\DoxyCodeLine{01044\ \ \ \ \ assert(a2a);}
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01046\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ w1=\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{01047\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ w2=\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{01048\ \ \ \ \ }
\DoxyCodeLine{01049\ \ \ \ \ std::vector<ff\_node*>\ W1(w1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{01050\ \ \ \ \ std::vector<ff\_node*>\ W2(w2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{01051\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W1.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=w1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{01052\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W2.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=w2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{01053\ \ \ \ \ }
\DoxyCodeLine{01054\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ emitter1\ =\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}();}
\DoxyCodeLine{01055\ \ \ \ \ \textcolor{keywordflow}{if}\ (emitter1)\ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(emitter1);}
\DoxyCodeLine{01056\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ collector2\ =\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}();}
\DoxyCodeLine{01057\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a5c5dc54cb6a91caacf2d316f5c3a19ad}{hasCollector}}())\ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(collector2);}
\DoxyCodeLine{01058\ }
\DoxyCodeLine{01059\ \ \ \ \ std::vector<ff\_node*>\ Wtmp(W1.size());}
\DoxyCodeLine{01060\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W1.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!node.isMultiOutput())\ \{}
\DoxyCodeLine{01062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ mo\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1internal__mo__transformer}{internal\_mo\_transformer}}(node);}
\DoxyCodeLine{01063\ \ \ \ \ \ \ \ \ \ \ \ \ assert(mo);}
\DoxyCodeLine{01064\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ mo,}
\DoxyCodeLine{01065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}()\ ,\ \textcolor{keyword}{true});\ \ \ \ }
\DoxyCodeLine{01066\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}});}
\DoxyCodeLine{01067\ \ \ \ \ \ \ \ \ \ \ \ \ Wtmp[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}};}
\DoxyCodeLine{01068\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}\ =\ \textcolor{keyword}{new}\ E\_t(node);}
\DoxyCodeLine{01070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},}
\DoxyCodeLine{01071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}(),\ \textcolor{keyword}{true});\ \ \ \ }
\DoxyCodeLine{01072\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}});}
\DoxyCodeLine{01073\ \ \ \ \ \ \ \ \ \ \ \ \ Wtmp[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}};}
\DoxyCodeLine{01074\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01075\ \ \ \ \ \}}
\DoxyCodeLine{01076\ \ \ \ \ a2a-\/>\mbox{\hyperlink{classff_1_1ff__a2a_aad8fb5f7aafd141da9b6fedfb5a24437}{add\_firstset}}(Wtmp,\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}(),\ \textcolor{keyword}{true});\ \ \textcolor{comment}{//\ cleanup\ set\ to\ true}}
\DoxyCodeLine{01077\ \ \ \ \ a2a-\/>\mbox{\hyperlink{classff_1_1ff__a2a_a32fb5256015bab02ecd879cda0b371e5}{add\_secondset}}(W2,\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}());}
\DoxyCodeLine{01078\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}())\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{false});\ \ \ \ }
\DoxyCodeLine{01079\ \ \ \ \ }
\DoxyCodeLine{01080\ \ \ \ \ std::vector<ff\_node*>\ \mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}};}
\DoxyCodeLine{01081\ \ \ \ \ \mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}.push\_back(a2a);}
\DoxyCodeLine{01082\ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{add\_workers}}(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}});}
\DoxyCodeLine{01083\ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}();\ \textcolor{comment}{//\ a2a\ will\ be\ delated\ at\ the\ end}}
\DoxyCodeLine{01084\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}())}
\DoxyCodeLine{01085\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a259e203b6eaf044985781f0a8668b9ae}{set\_scheduling\_ondemand}}(farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}());}
\DoxyCodeLine{01086\ \ \ \ \ }
\DoxyCodeLine{01087\ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;\ \ \ \ }
\DoxyCodeLine{01088\ \}}
\DoxyCodeLine{01089\ }
\DoxyCodeLine{01090\ \textcolor{comment}{/*\ }}
\DoxyCodeLine{01091\ \textcolor{comment}{\ *\ This\ function\ produced\ the\ NF\ of\ two\ farms\ having\ the\ same\ n.\ of\ workers.}}
\DoxyCodeLine{01092\ \textcolor{comment}{\ *\ If\ the\ farms\ are\ ordered\ farm\ they\ must\ have\ the\ same\ ondemand\ buffer\ and\ }}
\DoxyCodeLine{01093\ \textcolor{comment}{\ *\ the\ same\ ordering\ memory\ size.}}
\DoxyCodeLine{01094\ \textcolor{comment}{\ */}\ \ \ \ }
\DoxyCodeLine{01095\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ \mbox{\hyperlink{namespaceff_af438894899343956b21b15b3ebe06fda}{combine\_farms\_nf}}(\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&\ farm1,\ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&\ farm2)\ \{}
\DoxyCodeLine{01096\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ newfarm;}
\DoxyCodeLine{01097\ }
\DoxyCodeLine{01098\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}()\ !=\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}())\ \{}
\DoxyCodeLine{01099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms\_nf,\ cannot\ combine\ farms\ with\ different\ number\ of\ workers\(\backslash\)n"{}});}
\DoxyCodeLine{01100\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;}
\DoxyCodeLine{01101\ \ \ \ \ \}}
\DoxyCodeLine{01102\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}()\ \string^\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}())\ \{}
\DoxyCodeLine{01103\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms\_nf,\ if\ one\ of\ the\ two\ farms\ is\ ordered\ both\ must\ be\ ordered\(\backslash\)n"{}});}
\DoxyCodeLine{01104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;}
\DoxyCodeLine{01105\ \ \ \ \ \}}
\DoxyCodeLine{01106\ }
\DoxyCodeLine{01107\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}()\ \&\&\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}())\ \{}
\DoxyCodeLine{01108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}()\ !=\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}())\ \{}
\DoxyCodeLine{01109\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms\_nf,\ cannot\ combine\ ordered\ farms\ with\ different\ ondemand\ buffer\(\backslash\)n"{}});}
\DoxyCodeLine{01110\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;}
\DoxyCodeLine{01111\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01112\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a1a0b0581014d22ab13082e379b31dbe4}{ordering\_memory\_size}}()!=farm2.\mbox{\hyperlink{classff_1_1ff__farm_a1a0b0581014d22ab13082e379b31dbe4}{ordering\_memory\_size}}())\ \{}
\DoxyCodeLine{01113\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms\_nf,\ cannot\ combine\ ordered\ farms\ with\ different\ memory\ size\(\backslash\)n"{}});}
\DoxyCodeLine{01114\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;}
\DoxyCodeLine{01115\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01116\ \ \ \ \ \}}
\DoxyCodeLine{01117\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ w1=\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{01118\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ w2=\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{01119\ \ \ \ \ }
\DoxyCodeLine{01120\ \ \ \ \ \textcolor{keywordflow}{if}\ (w1[0]-\/>isMultiOutput()\ ||\ w2[0]-\/>isMultiInput())\ \{\ \textcolor{comment}{//\ NOTE:\ we\ suppose\ homogeneous\ workers}}
\DoxyCodeLine{01121\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms\_nf,\ cannot\ combine\ farms\ whose\ workers\ are\ either\ multi-\/output\ or\ multi-\/input\ nodes\(\backslash\)n"{}});}
\DoxyCodeLine{01122\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;}
\DoxyCodeLine{01123\ \ \ \ \ \}}
\DoxyCodeLine{01124\ \ \ \ \ \textcolor{keywordflow}{if}\ (w1[0]-\/>isPipe()\ ||\ w2[0]-\/>isPipe())\ \{\ \textcolor{comment}{//\ NOTE:\ we\ suppose\ homogeneous\ workers}}
\DoxyCodeLine{01125\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms\_nf,\ cannot\ combine\ farms\ whose\ workers\ are\ pipeline\ nodes\(\backslash\)n"{}});}
\DoxyCodeLine{01126\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;}
\DoxyCodeLine{01127\ \ \ \ \ \}}
\DoxyCodeLine{01128\ \ \ \ \ std::vector<ff\_node*>\ W1(w1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{01129\ \ \ \ \ std::vector<ff\_node*>\ W2(w2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{01130\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W1.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=w1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{01131\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W2.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=w2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{01132\ \ \ \ \ }
\DoxyCodeLine{01133\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ emitter1\ =\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}();}
\DoxyCodeLine{01134\ \ \ \ \ \textcolor{keywordflow}{if}\ (emitter1)\ \{}
\DoxyCodeLine{01135\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(emitter1);}
\DoxyCodeLine{01136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}())\ \{}
\DoxyCodeLine{01137\ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01138\ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01139\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01140\ \ \ \ \ \}}
\DoxyCodeLine{01141\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ collector2\ =\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}();}
\DoxyCodeLine{01142\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a5c5dc54cb6a91caacf2d316f5c3a19ad}{hasCollector}}())\ \{}
\DoxyCodeLine{01143\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(collector2);}
\DoxyCodeLine{01144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}())\ \{}
\DoxyCodeLine{01145\ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01146\ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01147\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01148\ \ \ \ \ \}}
\DoxyCodeLine{01149\ \ \ \ \ }
\DoxyCodeLine{01150\ \ \ \ \ std::vector<ff\_node*>\ Wtmp1(W1.size());}
\DoxyCodeLine{01151\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W1.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01152\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],}
\DoxyCodeLine{01153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}(),}
\DoxyCodeLine{01154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}());}
\DoxyCodeLine{01155\ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}});}
\DoxyCodeLine{01156\ \ \ \ \ \ \ \ \ Wtmp1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}};}
\DoxyCodeLine{01157\ \ \ \ \ \}}
\DoxyCodeLine{01158\ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{add\_workers}}(Wtmp1);}
\DoxyCodeLine{01159\ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}();}
\DoxyCodeLine{01160\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}())\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01161\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}())\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01162\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}())}
\DoxyCodeLine{01163\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a259e203b6eaf044985781f0a8668b9ae}{set\_scheduling\_ondemand}}(farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}());}
\DoxyCodeLine{01164\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}()\ ||\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}())}
\DoxyCodeLine{01165\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_aab29a7a312aafea479fa34f9dfc9ec24}{set\_ordered}}(farm1.\mbox{\hyperlink{classff_1_1ff__farm_a1a0b0581014d22ab13082e379b31dbe4}{ordering\_memory\_size}}());}
\DoxyCodeLine{01166\ \ \ \ \ \textcolor{keywordflow}{return}\ newfarm;}
\DoxyCodeLine{01167\ \}}
\DoxyCodeLine{01168\ }
\DoxyCodeLine{01169\ \textcolor{comment}{/*\ }}
\DoxyCodeLine{01170\ \textcolor{comment}{\ *}}
\DoxyCodeLine{01171\ \textcolor{comment}{\ *\ This\ function\ allows\ to\ combine\ two\ farms\ where\ the\ first\ one\ is\ an\ ordered\ farm.}}
\DoxyCodeLine{01172\ \textcolor{comment}{\ *}}
\DoxyCodeLine{01173\ \textcolor{comment}{\ *}}
\DoxyCodeLine{01174\ \textcolor{comment}{\ */}}
\DoxyCodeLine{01175\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}\ \mbox{\hyperlink{namespaceff_ae665dbb7574841d499c1200dbda972ba}{combine\_ofarm\_farm}}(\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&\ farm1,\ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&\ farm2)\ \{}
\DoxyCodeLine{01176\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}\ newpipe;}
\DoxyCodeLine{01177\ \ \ \ \ \textcolor{keywordflow}{if}\ (!farm1.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}())\ \{}
\DoxyCodeLine{01178\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_ofarm\_farm,\ the\ first\ farm\ is\ not\ an\ ordered\ farm"{}});}
\DoxyCodeLine{01179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01180\ \ \ \ \ \}}
\DoxyCodeLine{01181\ \ \ \ \ \textcolor{comment}{//\ here\ it\ would\ be\ possible\ to\ call\ directly\ the\ combine\_farms\_nf\ function\ but}}
\DoxyCodeLine{01182\ \ \ \ \ \textcolor{comment}{//\ since\ this\ kind\ of\ transformation\ may\ violates\ the\ ordering\ semantics,}}
\DoxyCodeLine{01183\ \ \ \ \ \textcolor{comment}{//\ the\ user\ must\ call\ it\ explicitly}}
\DoxyCodeLine{01184\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}()\ \&\&\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}()\ ==\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}())\ \{\ \ \ }
\DoxyCodeLine{01185\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_ofarm\_farm,\ two\ ordered\ farms\ with\ the\ same\ cardinality,\ the\ function\ cambine\_farms\_nf\ must\ be\ called\ explicitly\(\backslash\)n"{}});}
\DoxyCodeLine{01186\ \ \ \ \ \ \ \ \ \textcolor{comment}{//newpipe.add\_stage(combine\_farms\_nf(farm1,farm2));}}
\DoxyCodeLine{01187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01188\ \ \ \ \ \}}
\DoxyCodeLine{01189\ \ \ \ \ \textcolor{comment}{//\ here\ we\ have\ that\ the\ first\ farm\ is\ an\ ordered\ farm\ and\ the\ second\ farm}}
\DoxyCodeLine{01190\ \ \ \ \ \textcolor{comment}{//\ is\ either\ a\ standard\ farm\ or\ is\ an\ ordered\ farm\ with\ a\ number\ of\ workers}}
\DoxyCodeLine{01191\ \ \ \ \ \textcolor{comment}{//\ that\ is\ different\ from\ the\ one\ of\ the\ first\ farm}}
\DoxyCodeLine{01192\ \ \ \ \ }
\DoxyCodeLine{01193\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ newfarm1;}
\DoxyCodeLine{01194\ }
\DoxyCodeLine{01195\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}())}
\DoxyCodeLine{01196\ \ \ \ \ \ \ \ \ newfarm1.\mbox{\hyperlink{classff_1_1ff__farm_a259e203b6eaf044985781f0a8668b9ae}{set\_scheduling\_ondemand}}(farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}());}
\DoxyCodeLine{01197\ \ \ \ \ }
\DoxyCodeLine{01198\ \ \ \ \ \mbox{\hyperlink{structff_1_1ordered__lb}{ordered\_lb}}*\ \_lb=\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1ordered__lb}{ordered\_lb}}(farm1.\mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}());}
\DoxyCodeLine{01199\ \ \ \ \ assert(\_lb);}
\DoxyCodeLine{01200\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ memsize\ =\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}()\ *\ (2*newfarm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}()+3)+\ \mbox{\hyperlink{config_8hpp_a1e5437ee963d80d44b1fe26c90a6b877}{DEF\_OFARM\_ONDEMAND\_MEMORY}};\ }
\DoxyCodeLine{01201\ \ \ \ \ newfarm1.\mbox{\hyperlink{classff_1_1ff__farm_a9544735c9a4f72824e4aa6b77f8fa7a7}{ordered\_resize\_memory}}(memsize);}
\DoxyCodeLine{01202\ \ \ \ \ \_lb-\/>\mbox{\hyperlink{structff_1_1ordered__lb_a59740834975bd878679e986ac67e7aab}{init}}(newfarm1.\mbox{\hyperlink{classff_1_1ff__farm_a37d2a03d393c9b650355dcb81367441d}{ordered\_get\_memory}}(),\ memsize);}
\DoxyCodeLine{01203\ \ \ \ \ newfarm1.\mbox{\hyperlink{classff_1_1ff__farm_a3068153fc80df8e02564c157b2f783c4}{setlb}}(\_lb,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01204\ \ \ \ \ \mbox{\hyperlink{classff_1_1_ordered_collector_wrapper}{OrderedCollectorWrapper}}*\ cw\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1_ordered_collector_wrapper}{OrderedCollectorWrapper}}(\mbox{\hyperlink{config_8hpp_a1e5437ee963d80d44b1fe26c90a6b877}{DEF\_OFARM\_ONDEMAND\_MEMORY}});}
\DoxyCodeLine{01205\ \ \ \ \ assert(cw);}
\DoxyCodeLine{01206\ \ \ \ \ }
\DoxyCodeLine{01207\ \ \ \ \ \textcolor{comment}{//\ emitter1\ }}
\DoxyCodeLine{01208\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ emitter1\ =\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}();\ \ \ }
\DoxyCodeLine{01209\ \ \ \ \ \textcolor{keywordflow}{if}\ (emitter1)\ \{}
\DoxyCodeLine{01210\ \ \ \ \ \ \ \ \ newfarm1.\mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(emitter1);}
\DoxyCodeLine{01211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}())\ \{}
\DoxyCodeLine{01212\ \ \ \ \ \ \ \ \ \ \ \ \ newfarm1.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01213\ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01214\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01215\ \ \ \ \ \}\ \ \ \ \ }
\DoxyCodeLine{01216\ \ \ \ \ \textcolor{comment}{//\ workers1}}
\DoxyCodeLine{01217\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node*>}}\&\ w1=\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{01218\ \ \ \ \ std::vector<ff\_node*>\ W1(w1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{01219\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<w1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01220\ \ \ \ \ \ \ \ \ W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1_ordered_worker_wrapper}{OrderedWorkerWrapper}}(w1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}());}
\DoxyCodeLine{01221\ \ \ \ \ \ \ \ \ assert(W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]);}
\DoxyCodeLine{01222\ \ \ \ \ \}}
\DoxyCodeLine{01223\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}())}
\DoxyCodeLine{01224\ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01225\ \ \ \ \ }
\DoxyCodeLine{01226\ \ \ \ \ newfarm1.\mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{add\_workers}}(W1);}
\DoxyCodeLine{01227\ \ \ \ \ newfarm1.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01228\ }
\DoxyCodeLine{01229\ \ \ \ \ \textcolor{comment}{//\ collector1\ +\ emitter2}}
\DoxyCodeLine{01230\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ collector1\ =\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}();}
\DoxyCodeLine{01231\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ emitter2\ =\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}();\ \ \ \ }
\DoxyCodeLine{01232\ \ \ \ \ \textcolor{keywordflow}{if}\ (!collector1\ \&\&\ !emitter2)\ \{}
\DoxyCodeLine{01233\ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(cw,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01234\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01235\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!collector1)\ \{}
\DoxyCodeLine{01236\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}\ *comb\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(cw,\ emitter2,\ }
\DoxyCodeLine{01237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{true},\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}());}
\DoxyCodeLine{01238\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}())\ }
\DoxyCodeLine{01239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01240\ }
\DoxyCodeLine{01241\ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(comb,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01242\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01243\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!emitter2)\ \{}
\DoxyCodeLine{01244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}\ *comb\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(cw,\ collector1,\ }
\DoxyCodeLine{01245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{true},\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}());}
\DoxyCodeLine{01246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}())\ }
\DoxyCodeLine{01247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01248\ }
\DoxyCodeLine{01249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(comb,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01250\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}\ *comb0\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(collector1,emitter2,}
\DoxyCodeLine{01252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}(),}
\DoxyCodeLine{01253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}());}
\DoxyCodeLine{01254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}())\ }
\DoxyCodeLine{01255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}())\ }
\DoxyCodeLine{01257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}\ *comb\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(cw,\ comb0,}
\DoxyCodeLine{01260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{true},\ \textcolor{keyword}{true});}
\DoxyCodeLine{01261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(comb,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01262\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01263\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01264\ \ \ \ \ \}}
\DoxyCodeLine{01265\ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(newfarm1);}
\DoxyCodeLine{01266\ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(farm2);}
\DoxyCodeLine{01267\ }
\DoxyCodeLine{01268\ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01269\ \}}
\DoxyCodeLine{01270\ \ \ \ \ }
\DoxyCodeLine{01271\ \ \ \ \ }
\DoxyCodeLine{01272\ \textcolor{comment}{/*\ }}
\DoxyCodeLine{01273\ \textcolor{comment}{\ *}}
\DoxyCodeLine{01274\ \textcolor{comment}{\ *\ This\ function\ allows\ to\ combine\ two\ farms\ in\ several\ different\ ways}}
\DoxyCodeLine{01275\ \textcolor{comment}{\ *\ depending\ on\ the\ parameter\ passed\ to\ the\ function\ (node1,node2\ and\ mergeCE):}}
\DoxyCodeLine{01276\ \textcolor{comment}{\ *}}
\DoxyCodeLine{01277\ \textcolor{comment}{\ *\ \ case1\ -\/\ node1\ and\ node2\ are\ both\ null:}}
\DoxyCodeLine{01278\ \textcolor{comment}{\ *\ \ \ \ \ 1.\ mergeCE==false:\ \ it\ produces\ a\ pipeline\ of\ a\ single\ farm\ }}
\DoxyCodeLine{01279\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ whose\ worker\ is\ an\ all-\/to-\/all\ building\ block\ (equivalent\ behavior\ }}
\DoxyCodeLine{01280\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ of\ calling\ combine\_farms\_a2a(farm1,farm2)}}
\DoxyCodeLine{01281\ \textcolor{comment}{\ *\ \ \ \ \ 2.\ mergeCE==true:\ \ if\ the\ parallelism\ degree\ of\ the\ two\ farms\ is\ }}
\DoxyCodeLine{01282\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ the\ same,\ it\ produces\ a\ pipeline\ of\ a\ single\ farm\ }}
\DoxyCodeLine{01283\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ whose\ workers\ are\ a\ composition\ of\ both\ farm1\ and\ farm2\ workers\ (normal\ form).}}
\DoxyCodeLine{01284\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ If\ the\ parallelism\ degree\ of\ the\ two\ farms\ is\ different,\ we\ fall\ back\ }}
\DoxyCodeLine{01285\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ to\ the\ case1.1}}
\DoxyCodeLine{01286\ \textcolor{comment}{\ *}}
\DoxyCodeLine{01287\ \textcolor{comment}{\ *\ \ case2\ -\/\ node1\ is\ null\ and\ node2\ is\ not\ null\ }}
\DoxyCodeLine{01288\ \textcolor{comment}{\ *\ \ \ \ \ 1.\ mergeCE==false:\ it\ produces\ a\ pipeline\ of\ a\ single\ farm\ }}
\DoxyCodeLine{01289\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ whose\ worker\ is\ an\ all-\/to-\/all\ building\ block\ where\ the\ nodes\ of\ the\ second\ set}}
\DoxyCodeLine{01290\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ is\ a\ composition\ of\ node2\ and\ farm2's\ workers}}
\DoxyCodeLine{01291\ \textcolor{comment}{\ *\ \ \ \ \ 2.\ mergeCE==true:\ this\ produces\ a\ pipeline\ of\ two\ farms\ where\ the\ first\ }}
\DoxyCodeLine{01292\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ farm\ has\ no\ collector\ while\ the\ second\ farm\ has\ as\ emitter\ the\ node2.}}
\DoxyCodeLine{01293\ \textcolor{comment}{\ *}}
\DoxyCodeLine{01294\ \textcolor{comment}{\ *\ \ case3\ -\/\ node1\ is\ not\ null\ and\ node2\ is\ null}}
\DoxyCodeLine{01295\ \textcolor{comment}{\ *\ \ \ \ \ 1.\ mergeCE==false:\ it\ produces\ a\ pipeline\ of\ a\ single\ farm\ }}
\DoxyCodeLine{01296\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ whose\ worker\ is\ an\ all-\/to-\/all\ building\ block\ where\ the\ nodes\ of\ the\ first\ set}}
\DoxyCodeLine{01297\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ is\ a\ composition\ of\ farm1's\ workers\ and\ node1}}
\DoxyCodeLine{01298\ \textcolor{comment}{\ *\ \ \ \ \ 2.\ mergeCE==true:\ this\ produces\ a\ pipeline\ of\ two\ farms\ where\ the\ first\ }}
\DoxyCodeLine{01299\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ farm\ has\ no\ collector\ while\ the\ second\ farm\ has\ as\ emitter\ the\ node1.}}
\DoxyCodeLine{01300\ \textcolor{comment}{\ *}}
\DoxyCodeLine{01301\ \textcolor{comment}{\ *\ \ case4\ -\/\ both\ node1\ and\ node2\ are\ both\ not\ null}}
\DoxyCodeLine{01302\ \textcolor{comment}{\ *\ \ \ \ \ 1.\ mergeCE==false:\ it\ produces\ a\ pipeline\ of\ a\ single\ farm\ }}
\DoxyCodeLine{01303\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ whose\ worker\ is\ an\ all-\/to-\/all\ building\ block\ where\ the\ nodes\ of\ the\ first\ set}}
\DoxyCodeLine{01304\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ is\ a\ composition\ of\ farm1's\ workers\ and\ node1\ whereas\ the\ nodes\ of\ the\ second\ set}}
\DoxyCodeLine{01305\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ is\ a\ composition\ of\ nodes2\ and\ farm2's\ workers.}}
\DoxyCodeLine{01306\ \textcolor{comment}{\ *\ \ \ \ \ 2.\ mergeCE==true:\ \ this\ produces\ a\ pipeline\ of\ two\ farms\ where\ the\ first\ }}
\DoxyCodeLine{01307\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ farm\ has\ no\ collector\ while\ the\ second\ farm\ has\ as\ emitter\ the\ composition}}
\DoxyCodeLine{01308\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ of\ node1\ and\ node2.}}
\DoxyCodeLine{01309\ \textcolor{comment}{\ *}}
\DoxyCodeLine{01310\ \textcolor{comment}{\ *\ WARNING:\ farm1\ and\ farm2\ are\ passed\ by\ reference\ and\ they\ might\ be\ changed!}}
\DoxyCodeLine{01311\ \textcolor{comment}{\ */}\ \ \ \ }
\DoxyCodeLine{01312\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ E\_t,\ \textcolor{keyword}{typename}\ C\_t>}
\DoxyCodeLine{01313\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}\ \mbox{\hyperlink{namespaceff_aa74819ea323fbf8ca18df410fcf02ee0}{combine\_farms}}(\mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&\ farm1,\ \textcolor{keyword}{const}\ C\_t\ *node1,}
\DoxyCodeLine{01314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\&\ farm2,\ \textcolor{keyword}{const}\ E\_t\ *node2,}
\DoxyCodeLine{01315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ mergeCE)\ \{}
\DoxyCodeLine{01316\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__pipeline}{ff\_pipeline}}\ newpipe;}
\DoxyCodeLine{01317\ \ \ \ \ }
\DoxyCodeLine{01318\ \ \ \ \ \textcolor{keywordflow}{if}\ (mergeCE)\ \{\ \textcolor{comment}{//\ we\ have\ to\ merge\ nodes!!!}}
\DoxyCodeLine{01319\ }
\DoxyCodeLine{01320\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}()\ ||\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}())\ \{}
\DoxyCodeLine{01321\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node1!=\textcolor{keyword}{nullptr}\ ||\ node2!=\textcolor{keyword}{nullptr})\ \{\ \ \textcolor{comment}{//\ TODO}}
\DoxyCodeLine{01322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms,\ FEATURE\ NOT\ YET\ SUPPORTED,\ if\ at\ least\ one\ of\ the\ two\ farms\ is\ an\ ordered\ farm\ then\ node1\ and\ node2\ must\ be\ nullptr\(\backslash\)n"{}});\ }
\DoxyCodeLine{01323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01324\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01325\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}()\ ==\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}())\ \{}
\DoxyCodeLine{01326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ here\ it\ would\ be\ possible\ to\ call\ directly\ the\ combine\_farms\_nf\ function\ but}}
\DoxyCodeLine{01327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ since\ this\ kind\ of\ transformation\ may\ violates\ the\ ordering\ semantics,}}
\DoxyCodeLine{01328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ user\ must\ call\ it\ explicitly}}
\DoxyCodeLine{01329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms,\ at\ least\ one\ of\ the\ two\ farms\ is\ ordered\ and\ they\ have\ the\ same\ cardinality,\ the\ function\ cambine\_farms\_nf\ must\ be\ called\ explicitly\(\backslash\)n"{}});}
\DoxyCodeLine{01330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//newpipe.add\_stage(combine\_farms\_nf(farm1,farm2));}}
\DoxyCodeLine{01331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01332\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01333\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ first\ farm\ is\ ordered\ }}
\DoxyCodeLine{01334\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}())\ \{}
\DoxyCodeLine{01335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ pipe\ =\ \mbox{\hyperlink{namespaceff_ae665dbb7574841d499c1200dbda972ba}{combine\_ofarm\_farm}}(farm1,\ farm2);}
\DoxyCodeLine{01336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pipe;}
\DoxyCodeLine{01337\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01338\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ second\ farm\ is\ ordered}}
\DoxyCodeLine{01339\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ here\ we\ can\ just\ remove\ the\ collector\ of\ the\ first\ farm}}
\DoxyCodeLine{01340\ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a5fde02281e79ca2a135688e261a7225f}{remove\_collector}}();}
\DoxyCodeLine{01341\ \ \ \ \ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\&farm1);}
\DoxyCodeLine{01342\ \ \ \ \ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\&farm2);}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01344\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01345\ }
\DoxyCodeLine{01346\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node2==\textcolor{keyword}{nullptr}\ \&\&\ node1==\textcolor{keyword}{nullptr})\ \{\ \ }
\DoxyCodeLine{01347\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}()\ ==\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ae6192a38eca0601a767f4c01c93b79d2}{getNWorkers}}())\ \{\ \textcolor{comment}{//\ case1.2}}
\DoxyCodeLine{01348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\mbox{\hyperlink{namespaceff_af438894899343956b21b15b3ebe06fda}{combine\_farms\_nf}}(farm1,farm2));}
\DoxyCodeLine{01349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01350\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ fall\ back\ to\ case1.1}}
\DoxyCodeLine{01352\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ cannot\ merge\ workers\ so\ we\ combine\ the\ two\ farms\ introducing}}
\DoxyCodeLine{01353\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ all-\/to-\/all\ building\ block}}
\DoxyCodeLine{01354\ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a5fde02281e79ca2a135688e261a7225f}{remove\_collector}}();}
\DoxyCodeLine{01355\ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}((\mbox{\hyperlink{classff_1_1ff__minode}{ff\_minode}}*)\textcolor{keyword}{nullptr});}
\DoxyCodeLine{01356\ \ \ \ \ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\mbox{\hyperlink{namespaceff_a0287483c11dd1cf9db892ff019145117}{combine\_farms\_a2a}}(farm1,farm2));}
\DoxyCodeLine{01357\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01358\ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01359\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node2!=\textcolor{keyword}{nullptr}\ \&\&\ node1!=\textcolor{keyword}{nullptr})\ \{\ \ \ \textcolor{comment}{//\ case4.2}}
\DoxyCodeLine{01360\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node2-\/>isComp()\ \&\&\ !node2-\/>isMultiOutput())\ \{}
\DoxyCodeLine{01361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms,\ if\ node2\ is\ a\ combine\ node,\ then\ it\ must\ be\ multi-\/output\(\backslash\)n"{}});}
\DoxyCodeLine{01362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01363\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01364\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ here\ we\ compose\ node1\ and\ node2\ and\ we\ set\ this\ new\ }}
\DoxyCodeLine{01365\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ node\ as\ emitter\ of\ the\ second\ farm}}
\DoxyCodeLine{01366\ }
\DoxyCodeLine{01367\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ require\ that\ the\ last\ stage\ of\ the\ combine\ is\ a\ multi-\/output\ node}}
\DoxyCodeLine{01368\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!node2-\/>isMultiOutput())\ \{}
\DoxyCodeLine{01369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node2-\/>isMultiInput())\ \{\ \textcolor{comment}{//\ this\ is\ a\ multi-\/input\ node}}
\DoxyCodeLine{01370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms,\ node2\ is\ multi-\/input\ without\ being\ a\ combine,\ this\ is\ currently\ needed\ to\ apply\ the\ transformation\ (FEATURE\ NONT\ YET\ SUPPORTED)\(\backslash\)n"{}});}
\DoxyCodeLine{01371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{second___n_o_n_e_8f_ae9f971a8b343bd2fcb85c3b16da97f10}{second}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1internal__mo__transformer}{internal\_mo\_transformer}}(*node2);}
\DoxyCodeLine{01374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{second___n_o_n_e_8f_ae9f971a8b343bd2fcb85c3b16da97f10}{second}});}
\DoxyCodeLine{01375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ first\ =\ \textcolor{keyword}{new}\ C\_t(*node1);}
\DoxyCodeLine{01376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(first);}
\DoxyCodeLine{01377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(first,\ \mbox{\hyperlink{second___n_o_n_e_8f_ae9f971a8b343bd2fcb85c3b16da97f10}{second}},\ \textcolor{keyword}{true},\ \textcolor{keyword}{true});}
\DoxyCodeLine{01378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});}
\DoxyCodeLine{01379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\textcolor{keyword}{true});\ \textcolor{comment}{//\ cleanup\ set\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{01380\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ ec=\ \mbox{\hyperlink{namespaceff_a2ce77ee29eb233abeb77d7b2800af810}{combine\_nodes}}(*node1,\ *node2);}
\DoxyCodeLine{01382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ pec\ =\ \textcolor{keyword}{new}\ \textcolor{keyword}{decltype}(ec)(ec);}
\DoxyCodeLine{01383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(pec,\textcolor{keyword}{true});\ \textcolor{comment}{//\ cleanup\ set}}
\DoxyCodeLine{01384\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01385\ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a5fde02281e79ca2a135688e261a7225f}{remove\_collector}}();}
\DoxyCodeLine{01386\ \ \ \ \ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\&farm1);}
\DoxyCodeLine{01387\ \ \ \ \ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\&farm2);}
\DoxyCodeLine{01388\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01389\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01390\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node1\ ==\ \textcolor{keyword}{nullptr})\ \{\ \ \ \ \ \textcolor{comment}{//\ case2.2}}
\DoxyCodeLine{01391\ \ \ \ \ \ \ \ \ \ \ \ \ assert(node2!=\textcolor{keyword}{nullptr});}
\DoxyCodeLine{01392\ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a5fde02281e79ca2a135688e261a7225f}{remove\_collector}}();}
\DoxyCodeLine{01393\ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}((\mbox{\hyperlink{classff_1_1ff__minode}{ff\_minode}}*)\textcolor{keyword}{nullptr});}
\DoxyCodeLine{01394\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01395\ \ \ \ \ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\&farm1);}
\DoxyCodeLine{01396\ \ \ \ \ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\&farm2);}
\DoxyCodeLine{01397\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01398\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01399\ \ \ \ \ \ \ \ \ assert(node1!=\textcolor{keyword}{nullptr});\ \ \ \ \textcolor{comment}{//\ case3.2}}
\DoxyCodeLine{01400\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node1-\/>isMultiInput())\ \{\ \ }
\DoxyCodeLine{01401\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }hnode:\mbox{\hyperlink{classff_1_1ff__monode}{ff\_monode}}\ \{}
\DoxyCodeLine{01402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ svc(\textcolor{keywordtype}{void}*in)\ \{\textcolor{keywordflow}{return}\ in;\}}
\DoxyCodeLine{01403\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ helper\_node;}
\DoxyCodeLine{01404\ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a5fde02281e79ca2a135688e261a7225f}{remove\_collector}}();}
\DoxyCodeLine{01405\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}}\ =\ \mbox{\hyperlink{namespaceff_a2ce77ee29eb233abeb77d7b2800af810}{combine\_nodes}}(*node1,\ helper\_node);}
\DoxyCodeLine{01406\ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(\mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}});}
\DoxyCodeLine{01407\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01408\ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a5fde02281e79ca2a135688e261a7225f}{remove\_collector}}();}
\DoxyCodeLine{01409\ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}(\textcolor{keyword}{const\_cast<}C\_t*\textcolor{keyword}{>}(node1));}
\DoxyCodeLine{01410\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01411\ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\&farm1);}
\DoxyCodeLine{01412\ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\&farm2);}
\DoxyCodeLine{01413\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01414\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01415\ \ \ \ \ \}}
\DoxyCodeLine{01416\ \ \ \ \ \textcolor{comment}{//\ mergeCE\ is\ false\ }}
\DoxyCodeLine{01417\ }
\DoxyCodeLine{01418\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}()\ ||\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_aa10cc13201ed73a959db23e93d5a6398}{isOFarm}}())\ \{}
\DoxyCodeLine{01419\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms,\ A2A\ cannot\ be\ introduced\ if\ one\ of\ the\ two\ farms\ is\ an\ ordered\ farms\(\backslash\)n"{}});}
\DoxyCodeLine{01420\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01421\ \ \ \ \ \}}
\DoxyCodeLine{01422\ \ \ \ \ }
\DoxyCodeLine{01423\ \ \ \ \ \textcolor{keywordflow}{if}\ (node2==\textcolor{keyword}{nullptr}\ \&\&\ node1==\textcolor{keyword}{nullptr})\ \{\ \textcolor{comment}{//\ case1.1}}
\DoxyCodeLine{01424\ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a5fde02281e79ca2a135688e261a7225f}{remove\_collector}}();}
\DoxyCodeLine{01425\ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a17f418832c94e59af06ae80909d422b9}{change\_emitter}}((\mbox{\hyperlink{classff_1_1ff__minode}{ff\_minode}}*)\textcolor{keyword}{nullptr});}
\DoxyCodeLine{01426\ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\mbox{\hyperlink{namespaceff_a0287483c11dd1cf9db892ff019145117}{combine\_farms\_a2a}}(farm1,farm2));}
\DoxyCodeLine{01427\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01428\ \ \ \ \ \}}
\DoxyCodeLine{01429\ \ \ \ \ \textcolor{keywordflow}{if}\ (node2!=\textcolor{keyword}{nullptr}\ \&\&\ node1==\textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{01430\ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(\mbox{\hyperlink{namespaceff_a0287483c11dd1cf9db892ff019145117}{combine\_farms\_a2a}}(farm1,\ *node2,\ farm2));}
\DoxyCodeLine{01431\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01432\ \ \ \ \ \}}
\DoxyCodeLine{01433\ \ \ \ \ \textcolor{keywordflow}{if}\ (node2==\textcolor{keyword}{nullptr}\ \&\&\ node1!=\textcolor{keyword}{nullptr})\ \{\ \ \ \textcolor{comment}{//\ case3.1}}
\DoxyCodeLine{01434\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__a2a}{ff\_a2a}}\ *a2a\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__a2a}{ff\_a2a}};}
\DoxyCodeLine{01435\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a2a\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{01436\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms,\ FATAL\ ERROR,\ not\ enough\ memory\(\backslash\)n"{}});}
\DoxyCodeLine{01437\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01439\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ newfarm;}
\DoxyCodeLine{01440\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ w1=\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{01441\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ w2=\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{01442\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01443\ \ \ \ \ \ \ \ \ std::vector<ff\_node*>\ W1(w1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{01444\ \ \ \ \ \ \ \ \ std::vector<ff\_node*>\ W2(w2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{01445\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W1.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=w1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{01446\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W2.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=w2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{01447\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01448\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ emitter1\ =\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}();}
\DoxyCodeLine{01449\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (emitter1)\ \{}
\DoxyCodeLine{01450\ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(emitter1);}
\DoxyCodeLine{01451\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}())\ \{}
\DoxyCodeLine{01452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01454\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01455\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01456\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ collector2\ =\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}();}
\DoxyCodeLine{01457\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a5c5dc54cb6a91caacf2d316f5c3a19ad}{hasCollector}}())\ \{}
\DoxyCodeLine{01458\ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(collector2);}
\DoxyCodeLine{01459\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}())\ \{}
\DoxyCodeLine{01460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01462\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01463\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01464\ }
\DoxyCodeLine{01465\ \ \ \ \ \ \ \ \ std::vector<ff\_node*>\ Wtmp1(W1.size());}
\DoxyCodeLine{01466\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W1.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01467\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!node1-\/>isMultiOutput())\ \{}
\DoxyCodeLine{01468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ mo\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1internal__mo__transformer}{internal\_mo\_transformer}}(*node1);}
\DoxyCodeLine{01469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(mo);}
\DoxyCodeLine{01470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ mo,}
\DoxyCodeLine{01471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}()\ ,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}});}
\DoxyCodeLine{01473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Wtmp1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}};}
\DoxyCodeLine{01474\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \textcolor{keyword}{new}\ C\_t(*node1);}
\DoxyCodeLine{01476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{01477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{01478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}(),\ \textcolor{keyword}{true});}
\DoxyCodeLine{01479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}});}
\DoxyCodeLine{01480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Wtmp1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}};}
\DoxyCodeLine{01481\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01482\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01483\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}())\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01484\ \ \ \ \ \ \ \ \ a2a-\/>\mbox{\hyperlink{classff_1_1ff__a2a_aad8fb5f7aafd141da9b6fedfb5a24437}{add\_firstset}}(Wtmp1,\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}(),\ \textcolor{keyword}{true});\ \ \textcolor{comment}{//\ cleanup\ set\ to\ true}}
\DoxyCodeLine{01485\ \ \ \ \ \ \ \ \ a2a-\/>\mbox{\hyperlink{classff_1_1ff__a2a_a32fb5256015bab02ecd879cda0b371e5}{add\_secondset}}(W2,\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}());}
\DoxyCodeLine{01486\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}())\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01487\ \ \ \ \ }
\DoxyCodeLine{01488\ \ \ \ \ \ \ \ \ std::vector<ff\_node*>\ \mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}};}
\DoxyCodeLine{01489\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}.push\_back(a2a);}
\DoxyCodeLine{01490\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{add\_workers}}(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}});}
\DoxyCodeLine{01491\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}();\ \textcolor{comment}{//\ a2a\ will\ be\ delated\ at\ the\ end}}
\DoxyCodeLine{01492\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}())}
\DoxyCodeLine{01493\ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a259e203b6eaf044985781f0a8668b9ae}{set\_scheduling\_ondemand}}(farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}());}
\DoxyCodeLine{01494\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01495\ \ \ \ \ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(newfarm);}
\DoxyCodeLine{01496\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01497\ \ \ \ \ \}}
\DoxyCodeLine{01498\ \ \ \ \ assert(node2!=\textcolor{keyword}{nullptr}\ \&\&\ node1!=\textcolor{keyword}{nullptr});\ \ \ \ \textcolor{comment}{//\ case4.1}}
\DoxyCodeLine{01499\ }
\DoxyCodeLine{01500\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mergeCE)\ \{}
\DoxyCodeLine{01501\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ we\ can\ relax\ the\ following\ two\ constraints.}}
\DoxyCodeLine{01502\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node1-\/>isMultiInput())\ \{}
\DoxyCodeLine{01503\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms,\ node1\ cannot\ be\ a\ multi-\/input\ node\(\backslash\)n"{}});}
\DoxyCodeLine{01504\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01505\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01506\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node2-\/>isMultiOutput())\ \{}
\DoxyCodeLine{01507\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms,\ node2\ cannot\ be\ a\ multi-\/output\ node\(\backslash\)n"{}});}
\DoxyCodeLine{01508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01509\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01510\ \ \ \ \ \}}
\DoxyCodeLine{01511\ }
\DoxyCodeLine{01512\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__a2a}{ff\_a2a}}\ *a2a\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__a2a}{ff\_a2a}};}
\DoxyCodeLine{01513\ \ \ \ \ \textcolor{keywordflow}{if}\ (a2a\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{01514\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceff_a27d926d29b55e019eba5b70672301d82}{error}}(\textcolor{stringliteral}{"{}combine\_farms,\ FATAL\ ERROR,\ not\ enough\ memory\(\backslash\)n"{}});}
\DoxyCodeLine{01515\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;}
\DoxyCodeLine{01516\ \ \ \ \ \}}
\DoxyCodeLine{01517\ }
\DoxyCodeLine{01518\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__farm}{ff\_farm}}\ newfarm;}
\DoxyCodeLine{01519\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ w1=\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{01520\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classff_1_1svector}{svector<ff\_node\ *>}}\ \&\ w2=\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a67596a94ae016f648b2793a90b96a5de}{getWorkers}}();}
\DoxyCodeLine{01521\ \ \ \ \ }
\DoxyCodeLine{01522\ \ \ \ \ std::vector<ff\_node*>\ W1(w1.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{01523\ \ \ \ \ std::vector<ff\_node*>\ W2(w2.\mbox{\hyperlink{classff_1_1svector_a29125256281f793b0808ecfae6ea68ec}{size}}());}
\DoxyCodeLine{01524\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W1.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=w1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{01525\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W2.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=w2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{01526\ \ \ \ \ }
\DoxyCodeLine{01527\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ emitter1\ =\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ad05568d154a61549f346beb386bde880}{getEmitter}}();}
\DoxyCodeLine{01528\ \ \ \ \ \textcolor{keywordflow}{if}\ (emitter1)\ \{}
\DoxyCodeLine{01529\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a6ac3d4cd02f14fcc1e0f0474eea1fa44}{add\_emitter}}(emitter1);}
\DoxyCodeLine{01530\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_ac8803613f5de1180171cd62e03ec801e}{isset\_cleanup\_emitter}}())\ \{}
\DoxyCodeLine{01531\ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01532\ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a37c235b1b117b126f381e10960c34123}{cleanup\_emitter}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01533\ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{01534\ \ \ \ \ \}}
\DoxyCodeLine{01535\ \ \ \ \ \mbox{\hyperlink{classff_1_1ff__node}{ff\_node}}*\ collector2\ =\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_af88d021b0d4df352b5f025f531f07da8}{getCollector}}();}
\DoxyCodeLine{01536\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a5c5dc54cb6a91caacf2d316f5c3a19ad}{hasCollector}}())\ \{}
\DoxyCodeLine{01537\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_ad8117ca2bc937e6be844af50ca6d2b87}{add\_collector}}(collector2);}
\DoxyCodeLine{01538\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a591b4bdeb3375d475330e6945c52484c}{isset\_cleanup\_collector}}())\ \{}
\DoxyCodeLine{01539\ \ \ \ \ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01540\ \ \ \ \ \ \ \ \ \ \ \ \ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a55375ed56d7f6d989a3f4276e39ed796}{cleanup\_collector}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01541\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01542\ \ \ \ \ \}}
\DoxyCodeLine{01543\ }
\DoxyCodeLine{01544\ \ \ \ \ std::vector<ff\_node*>\ Wtmp1(W1.size());}
\DoxyCodeLine{01545\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W1.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01546\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!node1-\/>isMultiOutput())\ \{}
\DoxyCodeLine{01547\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ mo\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1internal__mo__transformer}{internal\_mo\_transformer}}(*node1);}
\DoxyCodeLine{01548\ \ \ \ \ \ \ \ \ \ \ \ \ assert(mo);}
\DoxyCodeLine{01549\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ mo,\ }
\DoxyCodeLine{01550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}()\ ,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01551\ \ \ \ \ \ \ \ \ \ \ \ \ Wtmp1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}};}
\DoxyCodeLine{01552\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01553\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}\ =\ \textcolor{keyword}{new}\ C\_t(*node1);}
\DoxyCodeLine{01554\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}});}
\DoxyCodeLine{01555\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(W1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}},}
\DoxyCodeLine{01556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}(),\ \textcolor{keyword}{true});}
\DoxyCodeLine{01557\ \ \ \ \ \ \ \ \ \ \ \ \ Wtmp1[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}};}
\DoxyCodeLine{01558\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01559\ \ \ \ \ \}}
\DoxyCodeLine{01560\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}())\ farm1.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01561\ \ \ \ \ a2a-\/>\mbox{\hyperlink{classff_1_1ff__a2a_aad8fb5f7aafd141da9b6fedfb5a24437}{add\_firstset}}(Wtmp1,\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}(),\ \textcolor{keyword}{true});\ \ \textcolor{comment}{//\ cleanup\ set\ to\ true}}
\DoxyCodeLine{01562\ }
\DoxyCodeLine{01563\ \ \ \ \ std::vector<ff\_node*>\ Wtmp2(W2.size());}
\DoxyCodeLine{01564\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=0;\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<W2.size();++\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\ \{}
\DoxyCodeLine{01565\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!node2-\/>isMultiInput())\ \{}
\DoxyCodeLine{01566\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{test-wrong_8c_af4097c5984eaa15ae4efe4460d4bb920}{mi}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structff_1_1internal__mi__transformer}{internal\_mi\_transformer}}(*node2);}
\DoxyCodeLine{01567\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{test-wrong_8c_af4097c5984eaa15ae4efe4460d4bb920}{mi}});}
\DoxyCodeLine{01568\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(\mbox{\hyperlink{test-wrong_8c_af4097c5984eaa15ae4efe4460d4bb920}{mi}},W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],}
\DoxyCodeLine{01569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{true},\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}());}
\DoxyCodeLine{01570\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}});}
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ \ \ \ \ Wtmp2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}};}
\DoxyCodeLine{01572\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01573\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}\ =\ \textcolor{keyword}{new}\ E\_t(*node2);}
\DoxyCodeLine{01574\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}});}
\DoxyCodeLine{01575\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classff_1_1ff__comb}{ff\_comb}}(\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},\ W2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}],}
\DoxyCodeLine{01576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{true},\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}());}
\DoxyCodeLine{01577\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}});}
\DoxyCodeLine{01578\ \ \ \ \ \ \ \ \ \ \ \ \ Wtmp2[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]=\mbox{\hyperlink{level1__cplx__impl_8h_a3e5c06c88f28d9e81864e079c3d89a8e}{pc}};}
\DoxyCodeLine{01579\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01580\ \ \ \ \ \}}
\DoxyCodeLine{01581\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm2.\mbox{\hyperlink{classff_1_1ff__farm_a14081c9431839c4c209e15f089bd01c9}{isset\_cleanup\_workers}}())\ farm2.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01582\ \ \ \ \ a2a-\/>\mbox{\hyperlink{classff_1_1ff__a2a_a32fb5256015bab02ecd879cda0b371e5}{add\_secondset}}(Wtmp2,\ \textcolor{keyword}{true});\ \ \textcolor{comment}{//\ cleanup\ set\ to\ true}}
\DoxyCodeLine{01583\ \ \ \ \ }
\DoxyCodeLine{01584\ \ \ \ \ std::vector<ff\_node*>\ \mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}};}
\DoxyCodeLine{01585\ \ \ \ \ \mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}}.push\_back(a2a);}
\DoxyCodeLine{01586\ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_abcc6e24c3d7ca03c67e4206f829d1c0b}{add\_workers}}(\mbox{\hyperlink{test__flow__graph_8cpp_ab21b528bc38899d04d3a7053e52fb797}{W}});}
\DoxyCodeLine{01587\ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_ac2c4fef13d5554d25d60cb12a701a153}{cleanup\_workers}}();\ \textcolor{comment}{//\ a2a\ will\ be\ deleted\ at\ the\ end}}
\DoxyCodeLine{01588\ \ \ \ \ \textcolor{keywordflow}{if}\ (farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}())}
\DoxyCodeLine{01589\ \ \ \ \ \ \ \ \ newfarm.\mbox{\hyperlink{classff_1_1ff__farm_a259e203b6eaf044985781f0a8668b9ae}{set\_scheduling\_ondemand}}(farm1.\mbox{\hyperlink{classff_1_1ff__farm_a9f977a79be588062b5065282e343b7bf}{ondemand\_buffer}}());}
\DoxyCodeLine{01590\ \ \ \ \ }
\DoxyCodeLine{01591\ \ \ \ \ newpipe.\mbox{\hyperlink{classff_1_1ff__pipeline_ab58d4873ed5492773a5dc0b013eaebc5}{add\_stage}}(newfarm);}
\DoxyCodeLine{01592\ \ \ \ \ \textcolor{keywordflow}{return}\ newpipe;;}
\DoxyCodeLine{01593\ \}}
\DoxyCodeLine{01594\ }
\DoxyCodeLine{01595\ }
\DoxyCodeLine{01596\ \ \ \ \ }
\DoxyCodeLine{01597\ \}\ \textcolor{comment}{//\ namespace\ ff\ }}
\DoxyCodeLine{01598\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ FF\_COMBINE\_HPP\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
