\doxysection{Reader.\+hpp}
\hypertarget{xml_2_reader_8hpp_source}{}\label{xml_2_reader_8hpp_source}\index{external/reflect-\/cpp/include/rfl/xml/Reader.hpp@{external/reflect-\/cpp/include/rfl/xml/Reader.hpp}}
\mbox{\hyperlink{xml_2_reader_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ RFL\_XML\_READER\_HPP\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ RFL\_XML\_READER\_HPP\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <exception>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <pugixml.hpp>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <string\_view>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <variant>}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_result_8hpp}{../Result.hpp}}"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{always__false_8hpp}{../always\_false.hpp}}"{}}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{is__view__reader_8hpp}{../parsing/is\_view\_reader.hpp}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl}{rfl}}\ \{}
\DoxyCodeLine{00017\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl_1_1xml}{xml}}\ \{}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrfl_1_1xml_1_1_reader}{Reader}}\ \{}
\DoxyCodeLine{00020\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_array_adca06f36f6d0a18ba5bbdc73b2b86c61}{XMLInputArray}}\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_array_adca06f36f6d0a18ba5bbdc73b2b86c61}{XMLInputArray}}(pugi::xml\_node\ \_node)\ :\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_array_ae3c85f58527cfb3b76ee38549e95be24}{node\_}}(\_node)\ \{\}}
\DoxyCodeLine{00022\ \ \ \ \ pugi::xml\_node\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_array_ae3c85f58527cfb3b76ee38549e95be24}{node\_}};}
\DoxyCodeLine{00023\ \ \ \};}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_object_a5c28833a5670a50b20b65781f7ea1e1d}{XMLInputObject}}\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_object_a5c28833a5670a50b20b65781f7ea1e1d}{XMLInputObject}}(pugi::xml\_node\ \_node)\ :\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_object_af05c75efe8ec5fa8d33c6e3116606582}{node\_}}(\_node)\ \{\}}
\DoxyCodeLine{00027\ \ \ \ \ pugi::xml\_node\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_object_af05c75efe8ec5fa8d33c6e3116606582}{node\_}};}
\DoxyCodeLine{00028\ \ \ \};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_var_ab1e2dec67d26958b547e11755725651c}{XMLInputVar}}\ \{}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_var_ab1e2dec67d26958b547e11755725651c}{XMLInputVar}}()\ :\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_var_a6c5a6b6c977356dc5c78445a94217efd}{node\_or\_attribute\_}}(pugi::xml\_node())\ \{\}}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_var_addd665e8f52ca46128ecdaf98559a227}{XMLInputVar}}(pugi::xml\_attribute\ \_attr)\ :\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_var_a6c5a6b6c977356dc5c78445a94217efd}{node\_or\_attribute\_}}(\_attr)\ \{\}}
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_var_a11819679b746bcedc15fdc07f77f3009}{XMLInputVar}}(pugi::xml\_node\ \_node)\ :\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_var_a6c5a6b6c977356dc5c78445a94217efd}{node\_or\_attribute\_}}(\_node)\ \{\}}
\DoxyCodeLine{00034\ \ \ \ \ std::variant<pugi::xml\_node,\ pugi::xml\_attribute>\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_var_a6c5a6b6c977356dc5c78445a94217efd}{node\_or\_attribute\_}};}
\DoxyCodeLine{00035\ \ \ \};}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structrfl_1_1xml_1_1_reader_ad964b60a295de7a77657fd330a7dcd47}{InputArrayType}}\ =\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_array}{XMLInputArray}};}
\DoxyCodeLine{00038\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a9bbe92a624f04bb376fbb49dcdc6997e}{InputObjectType}}\ =\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_object}{XMLInputObject}};}
\DoxyCodeLine{00039\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}\ =\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_1_1_x_m_l_input_var}{XMLInputVar}};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \textcolor{comment}{//\ TODO}}
\DoxyCodeLine{00042\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00043\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a25192574f7055d71a28b4dd9401801c7}{has\_custom\_constructor}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<InputVarType>}}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aa47b07348d3df1207921e0b5348be249}{get\_field\_from\_array}}(}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_idx,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_ad964b60a295de7a77657fd330a7dcd47}{InputArrayType}}\&\ \_arr)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}\ =\ \_arr.node\_.name();}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ =\ 0;}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ node\ =\ \_arr.node\_;\ node;\ node\ =\ node.next\_sibling(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}))\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}\ ==\ \_idx)\ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}(node);}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00053\ \ \ \ \ \}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_a6625864c6c297dfdc3d3c3ee3181dd8c}{error}}(\textcolor{stringliteral}{"{}Index\ "{}}\ +\ std::to\_string(\_idx)\ +\ \textcolor{stringliteral}{"{}\ of\ of\ bounds."{}});}
\DoxyCodeLine{00055\ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<InputVarType>}}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a673998abbc9f58116f77d62e603a24fc}{get\_field\_from\_object}}(}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ \_name,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a9bbe92a624f04bb376fbb49dcdc6997e}{InputObjectType}}\ \_obj)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ node\ =\ \_obj.node\_.child(\_name.c\_str());}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{if}\ (!node)\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_a6625864c6c297dfdc3d3c3ee3181dd8c}{error}}(\textcolor{stringliteral}{"{}Object\ contains\ no\ field\ named\ '"{}}\ +\ \_name\ +\ \textcolor{stringliteral}{"{}'."{}});}
\DoxyCodeLine{00062\ \ \ \ \ \}}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}(node);}
\DoxyCodeLine{00064\ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a7b23bdcad918650994e80fc2e09fa29c}{is\_empty}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}\ \_var)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{spine-cocos2dx_8cpp_a985f4c5340dea57bb399c9d0c4632fc1}{wrap}}\ =\ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \_node)\ \{\ \textcolor{keywordflow}{return}\ !\_node;\ \};}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordflow}{return}\ std::visit(\mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a44d1dddee4dba993b916d2fa850ea151}{cast\_as\_node}},\ \_var.node\_or\_attribute\_)}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ .transform(\mbox{\hyperlink{spine-cocos2dx_8cpp_a985f4c5340dea57bb399c9d0c4632fc1}{wrap}})}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ .value\_or(\textcolor{keyword}{false});}
\DoxyCodeLine{00071\ \ \ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00074\ \ \ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<T>}}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a00ede8287dbbff21692da62b607965fa}{to\_basic\_type}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}\ \_var)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ get\_value\ =\ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \_n)\ -\/>\ std::string\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{ir__common_8h_a1ac75f8fee198af783521627f1fecfbc}{Type}}\ =\ std::remove\_cvref\_t<\textcolor{keyword}{decltype}(\_n)>;}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same<Type,\ pugi::xml\_node>())\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::string(\_n.child\_value());}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::string(\_n.value());}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00082\ \ \ \ \ \};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same<std::remove\_cvref\_t<T>,\ std::string>())\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::visit(get\_value,\ \_var.node\_or\_attribute\_);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same<std::remove\_cvref\_t<T>,\ \textcolor{keywordtype}{bool}>())\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::visit(get\_value,\ \_var.node\_or\_attribute\_)\ ==\ \textcolor{stringliteral}{"{}true"{}};}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_floating\_point<std::remove\_cvref\_t<T>>())\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ str\ =\ std::visit(get\_value,\ \_var.node\_or\_attribute\_);}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\textcolor{keyword}{>}(std::stod(str));}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (std::exception\&\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_a6625864c6c297dfdc3d3c3ee3181dd8c}{error}}(\textcolor{stringliteral}{"{}Could\ not\ cast\ '"{}}\ +\ std::string(str)\ +}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}'\ to\ floating\ point\ value."{}});}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_integral<std::remove\_cvref\_t<T>>())\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ str\ =\ std::visit(get\_value,\ \_var.node\_or\_attribute\_);}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\textcolor{keyword}{>}(std::stoi(str));}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (std::exception\&\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}})\ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_a6625864c6c297dfdc3d3c3ee3181dd8c}{error}}(\textcolor{stringliteral}{"{}Could\ not\ cast\ '"{}}\ +\ std::string(str)\ +\ \textcolor{stringliteral}{"{}'\ to\ integer."{}});}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespacerfl_a31e80cea0068eae493065be48bba8d04}{rfl::always\_false\_v<T>}},\ \textcolor{stringliteral}{"{}Unsupported\ type."{}});}
\DoxyCodeLine{00109\ \ \ \ \ \}}
\DoxyCodeLine{00110\ \ \ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<InputArrayType>}}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a732ce69318dda41fdcbe7a22362e4e99}{to\_array}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}\ \_var)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{spine-cocos2dx_8cpp_a985f4c5340dea57bb399c9d0c4632fc1}{wrap}}\ =\ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \_node)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_ad964b60a295de7a77657fd330a7dcd47}{InputArrayType}}(\_node);\ \};}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordflow}{return}\ std::visit(\mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a44d1dddee4dba993b916d2fa850ea151}{cast\_as\_node}},\ \_var.node\_or\_attribute\_).transform(\mbox{\hyperlink{spine-cocos2dx_8cpp_a985f4c5340dea57bb399c9d0c4632fc1}{wrap}});}
\DoxyCodeLine{00115\ \ \ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ ArrayReader>}
\DoxyCodeLine{00118\ \ \ std::optional<Error>\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a54357920919685981b9e2b338df634b2}{read\_array}}(\textcolor{keyword}{const}\ ArrayReader\&\ \_array\_reader,}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_ad964b60a295de7a77657fd330a7dcd47}{InputArrayType}}\&\ \_arr)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}\ =\ \_arr.node\_.name();}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ node\ =\ \_arr.node\_;\ node;\ node\ =\ node.next\_sibling(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aab18cfce5ee7c6881ae04f18be70d94a}{name}}))\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ err\ =\ \_array\_reader.read(\mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}(node));}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err)\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ err;}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00126\ \ \ \ \ \}}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordflow}{return}\ std::nullopt;}
\DoxyCodeLine{00128\ \ \ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ ObjectReader>}
\DoxyCodeLine{00131\ \ \ std::optional<Error>\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a81a27b0ca8b2604d94250307bb194594}{read\_object}}(\textcolor{keyword}{const}\ ObjectReader\&\ \_object\_reader,}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a9bbe92a624f04bb376fbb49dcdc6997e}{InputObjectType}}\&\ \_obj)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ child\ =\ \_obj.node\_.first\_child();\ child;}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ child\ =\ child.next\_sibling())\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \_object\_reader.read(std::string\_view(child.name()),\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}(child));}
\DoxyCodeLine{00136\ \ \ \ \ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ attr\ =\ \_obj.node\_.first\_attribute();\ attr;}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ attr\ =\ attr.next\_attribute())\ \{}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \_object\_reader.read(std::string\_view(attr.name()),\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}(attr));}
\DoxyCodeLine{00141\ \ \ \ \ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (parsing::is\_view\_reader\_v<ObjectReader>)\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \_object\_reader.read(std::string\_view(\textcolor{stringliteral}{"{}xml\_content"{}}),}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}(\_obj.node\_));}
\DoxyCodeLine{00146\ \ \ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordflow}{return}\ std::nullopt;}
\DoxyCodeLine{00149\ \ \ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<InputObjectType>}}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a42cc88af8785ced0fa7aba3eac07b588}{to\_object}}(}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}\ \_var)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{spine-cocos2dx_8cpp_a985f4c5340dea57bb399c9d0c4632fc1}{wrap}}\ =\ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \_node)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a9bbe92a624f04bb376fbb49dcdc6997e}{InputObjectType}}(\_node);\ \};}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordflow}{return}\ std::visit(\mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a44d1dddee4dba993b916d2fa850ea151}{cast\_as\_node}},\ \_var.node\_or\_attribute\_).transform(\mbox{\hyperlink{spine-cocos2dx_8cpp_a985f4c5340dea57bb399c9d0c4632fc1}{wrap}});}
\DoxyCodeLine{00155\ \ \ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00158\ \ \ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<T>}}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a6c241939105c4241545b13868ad13d29}{use\_custom\_constructor}}(}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_aee89a84c8a1338fd07f2db308b243d6b}{InputVarType}}\ \_var)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_a6625864c6c297dfdc3d3c3ee3181dd8c}{error}}(\textcolor{stringliteral}{"{}TODO"{}});}
\DoxyCodeLine{00161\ \ \ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00166\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classrfl_1_1_result}{rfl::Result<pugi::xml\_node>}}\ \mbox{\hyperlink{structrfl_1_1xml_1_1_reader_a44d1dddee4dba993b916d2fa850ea151}{cast\_as\_node}}(}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::variant<pugi::xml\_node,\ pugi::xml\_attribute>\&}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \_node\_or\_attribute)\ \{}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{_common_cwise_unary_ops_8h_aa89d007196125d10fa7d6e19811aca05}{cast}}\ =\ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ \_n)\ -\/>\ \mbox{\hyperlink{classrfl_1_1_result}{Result<pugi::xml\_node>}}\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{ir__common_8h_a1ac75f8fee198af783521627f1fecfbc}{Type}}\ =\ std::remove\_cvref\_t<\textcolor{keyword}{decltype}(\_n)>;}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same<Type,\ pugi::xml\_node>())\ \{}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_n;}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacerfl_a6625864c6c297dfdc3d3c3ee3181dd8c}{error}}(\textcolor{stringliteral}{"{}Field\ '"{}}\ +\ std::string(\_n.name())\ +\ \textcolor{stringliteral}{"{}'\ is\ an\ attribute."{}});}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00176\ \ \ \ \ \};}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keywordflow}{return}\ std::visit(\mbox{\hyperlink{_common_cwise_unary_ops_8h_aa89d007196125d10fa7d6e19811aca05}{cast}},\ \_node\_or\_attribute);}
\DoxyCodeLine{00178\ \ \ \}}
\DoxyCodeLine{00179\ \};}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \}\ \ \textcolor{comment}{//\ namespace\ xml}}
\DoxyCodeLine{00182\ \}\ \ \textcolor{comment}{//\ namespace\ rfl}}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
