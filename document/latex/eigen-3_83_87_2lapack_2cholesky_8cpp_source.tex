\doxysection{cholesky.\+cpp}
\hypertarget{eigen-3_83_87_2lapack_2cholesky_8cpp_source}{}\label{eigen-3_83_87_2lapack_2cholesky_8cpp_source}\index{external/taskflow/3rd-\/party/eigen-\/3.3.7/lapack/cholesky.cpp@{external/taskflow/3rd-\/party/eigen-\/3.3.7/lapack/cholesky.cpp}}
\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2010-\/2011\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lapack__common_8h}{lapack\_common.h}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <Eigen/Cholesky>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{comment}{//\ POTRF\ computes\ the\ Cholesky\ factorization\ of\ a\ real\ symmetric\ positive\ definite\ matrix\ A.}}
\DoxyCodeLine{00014\ \mbox{\hyperlink{lapack__common_8h_a226572acad4bfb2f4df999f9b6e5df70}{EIGEN\_LAPACK\_FUNC}}(potrf,(\textcolor{keywordtype}{char}*\ uplo,\ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ *pa,\ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}},\ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}))}
\DoxyCodeLine{00015\ \{}
\DoxyCodeLine{00016\ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ 0;}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_aede440fdc60eff8db8599716ca73b449}{UPLO}}(*uplo)==\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_adf770fe2eec438e3758ffe905dbae208}{INVALID}})\ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/1;}
\DoxyCodeLine{00018\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}(*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}<0)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/2;}
\DoxyCodeLine{00019\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}(*\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}}<std::max(1,*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}))\ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/4;}
\DoxyCodeLine{00020\ \ \ \textcolor{keywordflow}{if}(*\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}!=0)}
\DoxyCodeLine{00021\ \ \ \{}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}\ =\ -\/*\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}};}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{xerbla_8cpp_a62138258d20ba11e2039fc20f90b4e4a}{xerbla\_}}(\mbox{\hyperlink{blas_2complex__double_8cpp_aaf4863051a1b4b08c57927fb346b3f88}{SCALAR\_SUFFIX\_UP}}\textcolor{stringliteral}{"{}POTRF"{}},\ \&\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},\ 6);}
\DoxyCodeLine{00024\ \ \ \}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}*\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}*\textcolor{keyword}{>}(pa);}
\DoxyCodeLine{00027\ \ \ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}});}
\DoxyCodeLine{00028\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}};}
\DoxyCodeLine{00029\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_aede440fdc60eff8db8599716ca73b449}{UPLO}}(*uplo)==\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_a1965eaca47dbf3f87acdafc2208f04eb}{UP}})\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}(\mbox{\hyperlink{struct_eigen_1_1internal_1_1llt__inplace_3_01_scalar_00_01_upper_01_4_a9d0bd12c1bf77e80e6d6d6b32fb19989}{internal::llt\_inplace<Scalar,\ Upper>::blocked}}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}));}
\DoxyCodeLine{00030\ \ \ \textcolor{keywordflow}{else}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}\ =\ \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}(\mbox{\hyperlink{struct_eigen_1_1internal_1_1llt__inplace_3_01_scalar_00_01_lower_01_4_a88a62e53c6984ed5e0512a04b637b5b7}{internal::llt\_inplace<Scalar,\ Lower>::blocked}}(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}));}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}>=0)}
\DoxyCodeLine{00033\ \ \ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ \mbox{\hyperlink{level1__impl_8h_afb8d513d0298d2695018eb494b092786}{ret}}+1;}
\DoxyCodeLine{00034\ \ \ }
\DoxyCodeLine{00035\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{comment}{//\ POTRS\ solves\ a\ system\ of\ linear\ equations\ A*X\ =\ B\ with\ a\ symmetric}}
\DoxyCodeLine{00039\ \textcolor{comment}{//\ positive\ definite\ matrix\ A\ using\ the\ Cholesky\ factorization}}
\DoxyCodeLine{00040\ \textcolor{comment}{//\ A\ =\ U**T*U\ or\ A\ =\ L*L**T\ computed\ by\ DPOTRF.}}
\DoxyCodeLine{00041\ \mbox{\hyperlink{lapack__common_8h_a226572acad4bfb2f4df999f9b6e5df70}{EIGEN\_LAPACK\_FUNC}}(potrs,(\textcolor{keywordtype}{char}*\ uplo,\ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},\ \textcolor{keywordtype}{int}\ *nrhs,\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ *pa,\ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}},\ \mbox{\hyperlink{bench__gemm_8cpp_acb5c3dc237f99cf17167e8a629f01b43}{RealScalar}}\ *pb,\ \textcolor{keywordtype}{int}\ *ldb,\ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}))}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ 0;}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_aede440fdc60eff8db8599716ca73b449}{UPLO}}(*uplo)==\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_adf770fe2eec438e3758ffe905dbae208}{INVALID}})\ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/1;}
\DoxyCodeLine{00045\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}(*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}<0)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/2;}
\DoxyCodeLine{00046\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}(*nrhs<0)\ \ \ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/3;}
\DoxyCodeLine{00047\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}(*\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}}<std::max(1,*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}))\ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/5;}
\DoxyCodeLine{00048\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{keywordflow}{if}(*ldb<std::max(1,*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}))\ \ *\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}\ =\ -\/7;}
\DoxyCodeLine{00049\ \ \ \textcolor{keywordflow}{if}(*\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}}!=0)}
\DoxyCodeLine{00050\ \ \ \{}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}}\ =\ -\/*\mbox{\hyperlink{eigen-3_83_87_2lapack_2cholesky_8cpp_a19e186475eb822b276da4b357d68140d}{info}};}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{xerbla_8cpp_a62138258d20ba11e2039fc20f90b4e4a}{xerbla\_}}(\mbox{\hyperlink{blas_2complex__double_8cpp_aaf4863051a1b4b08c57927fb346b3f88}{SCALAR\_SUFFIX\_UP}}\textcolor{stringliteral}{"{}POTRS"{}},\ \&\mbox{\hyperlink{_cwise__array__power__array_8cpp_a9cb86ff854760bf91a154f2724a9101d}{e}},\ 6);}
\DoxyCodeLine{00053\ \ \ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}*\ \mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}}\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}*\textcolor{keyword}{>}(pa);}
\DoxyCodeLine{00056\ \ \ \mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}*\ \mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}}\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{bench__gemm_8cpp_a052eb942d12b6404aade6fae4b075fb9}{Scalar}}*\textcolor{keyword}{>}(pb);}
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}(\mbox{\hyperlink{_cwise__product_8cpp_ad2cbe4616e813eb9af81732dca777b24}{a}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*\mbox{\hyperlink{eigenvalues_8cpp_a68f113f7b88e1d430078f4d1ff0f149d}{lda}});}
\DoxyCodeLine{00058\ \ \ \mbox{\hyperlink{benchmark-blocking-sizes_8cpp_af5fcaa2ea9f565466ca96c2992ea0771}{MatrixType}}\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}(\mbox{\hyperlink{offscreen_8c_a846c9667e34d56c560bb7f0ac6e173f6}{b}},*\mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}},*nrhs,*ldb);}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_aede440fdc60eff8db8599716ca73b449}{UPLO}}(*uplo)==\mbox{\hyperlink{external_2taskflow_23rd-party_2eigen-3_83_87_2blas_2common_8h_a1965eaca47dbf3f87acdafc2208f04eb}{UP}})}
\DoxyCodeLine{00061\ \ \ \{}
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.triangularView<\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}>().\mbox{\hyperlink{adjoint_8cpp_a7333648f53414b05be9e4fd2f009fc22}{adjoint}}().solveInPlace(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}});}
\DoxyCodeLine{00063\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.triangularView<\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}>().solveInPlace(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}});}
\DoxyCodeLine{00064\ \ \ \}}
\DoxyCodeLine{00065\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00066\ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.triangularView<\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}>().solveInPlace(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}});}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.triangularView<\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}>().\mbox{\hyperlink{adjoint_8cpp_a7333648f53414b05be9e4fd2f009fc22}{adjoint}}().solveInPlace(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}});}
\DoxyCodeLine{00069\ \ \ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00072\ \}}

\end{DoxyCode}
