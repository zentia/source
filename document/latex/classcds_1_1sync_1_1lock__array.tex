\doxysection{cds\+::sync\+::lock\+\_\+array\texorpdfstring{$<$}{<} Lock, Select\+Policy, Alloc \texorpdfstring{$>$}{>} 模板类 参考}
\hypertarget{classcds_1_1sync_1_1lock__array}{}\label{classcds_1_1sync_1_1lock__array}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}


Array of locks  




{\ttfamily \#include $<$lock\+\_\+array.\+h$>$}



cds\+::sync\+::lock\+\_\+array\texorpdfstring{$<$}{<} Lock, Select\+Policy, Alloc \texorpdfstring{$>$}{>} 的协作图\+:
% FIG 0
\doxysubsubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
typedef Lock \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_ae810e9067ba267f940d01de745e1fc27}{lock\+\_\+type}}
\begin{DoxyCompactList}\small\item\em lock type \end{DoxyCompactList}\item 
typedef Select\+Policy \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy}}
\begin{DoxyCompactList}\small\item\em \doxylink{class_cell}{Cell} selection policy functor \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a5f5e0c216fcaf96a54b338a23d61b74e}{lock\+\_\+array}} (size\+\_\+t n\+Capacity)
\begin{DoxyCompactList}\small\item\em Constructs array of locks \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_af52c2738dd39114d68058555155050b8}{lock\+\_\+array}} (size\+\_\+t n\+Capacity, \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy}} const \&policy)
\begin{DoxyCompactList}\small\item\em Constructs array of lock and copy cell selection policy \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_ad9ba0f3745f9b8ebb7dc92202ed8de77}{lock\+\_\+array}} (size\+\_\+t n\+Capacity, \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy}} \&\&policy)
\begin{DoxyCompactList}\small\item\em Constructs array of lock and move cell selection policy \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a1bca1688d9e2ff360eaea7261ff87da8}{\texorpdfstring{$\sim$}{\string~}lock\+\_\+array}} ()
\begin{DoxyCompactList}\small\item\em Destructs array of locks and frees used memory \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}$>$ }\\size\+\_\+t \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a5341c7e8015b0b36a4132b33c96db953}{lock}} (\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} const \&hint)
\begin{DoxyCompactList}\small\item\em Locks a lock at cell {\ttfamily hint} \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}$>$ }\\size\+\_\+t \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a7ef5817da57d7fcbfa9f927346426960}{try\+\_\+lock}} (\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} const \&hint)
\begin{DoxyCompactList}\small\item\em Try lock a lock at cell {\ttfamily hint} \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a16d6e90d4fddd1178486ebde2420d54f}{unlock}} (size\+\_\+t n\+Cell)
\begin{DoxyCompactList}\small\item\em Unlock the lock specified by index {\ttfamily n\+Cell} \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_ab509c32490ec7f113f94b38f870b7e9d}{lock\+\_\+all}} ()
\begin{DoxyCompactList}\small\item\em Lock all \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a78c23135ec340fb6ef489a8bbe45ed5b}{unlock\+\_\+all}} ()
\begin{DoxyCompactList}\small\item\em Unlock all \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_ae810e9067ba267f940d01de745e1fc27}{lock\+\_\+type}} \& \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_abae8304f229292de1ca56d34ed8382ea}{at}} (size\+\_\+t n\+Cell) const
\begin{DoxyCompactList}\small\item\em Get lock at cell {\ttfamily n\+Cell}. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_ac7cc42614f3383693df53b0f15d50cbd}{size}} () const
\begin{DoxyCompactList}\small\item\em Size of lock array. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Public 属性}
\begin{DoxyCompactItemize}
\item 
static size\+\_\+t const \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a1cdf8bb71d838e7e60779ddccc3fdad6}{c\+\_\+n\+Unspecified\+Cell}} = (size\+\_\+t) -\/1
\begin{DoxyCompactList}\small\item\em failed \doxylink{classcds_1_1sync_1_1lock__array_a7ef5817da57d7fcbfa9f927346426960}{try\+\_\+lock} call result \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_ae810e9067ba267f940d01de745e1fc27}{lock\+\_\+type}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_aebab256ff5156077e41c9cee628f47e1}{m\+\_\+arr\+Locks}}
\begin{DoxyCompactList}\small\item\em lock array \end{DoxyCompactList}\item 
size\+\_\+t const \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a6dfe36a8d6df4b1c7e3468f544e3d4f3}{m\+\_\+n\+Capacity}}
\begin{DoxyCompactList}\small\item\em array capacity \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy}} \mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a767853e8e1255dde4a38e0491a8a7150}{m\+\_\+\+Select\+Cell\+Policy}}
\begin{DoxyCompactList}\small\item\em \doxylink{class_cell}{Cell} selection policy \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$\newline
class cds\+::sync\+::lock\+\_\+array$<$ Lock, Select\+Policy, Alloc $>$}
Array of locks 

The lock array is useful for building fine-\/grained lock-\/based data structure based on striping technique. Instead of locking access to data struct (a hash map, for example) at whole, the striping locks only part of the map (a bucket). So, access to different buckets can be simultaneous.

Template arguments\+:
\begin{DoxyItemize}
\item {\ttfamily Lock} -\/ lock type, for example, {\ttfamily std\+::mutex}, {\ttfamily \doxylink{classcds_1_1sync_1_1spin__lock}{cds\+::sync\+::spin\+\_\+lock}} 
\item {\ttfamily Select\+Policy} -\/ array cell selection policy, the default is \doxylink{structcds_1_1sync_1_1mod__select__policy}{mod\+\_\+select\+\_\+policy} Available policies\+: \doxylink{structcds_1_1sync_1_1trivial__select__policy}{trivial\+\_\+select\+\_\+policy}, \doxylink{structcds_1_1sync_1_1pow2__select__policy}{pow2\+\_\+select\+\_\+policy}, \doxylink{structcds_1_1sync_1_1mod__select__policy}{mod\+\_\+select\+\_\+policy}.
\item {\ttfamily Alloc} -\/ memory allocator for array
\end{DoxyItemize}

To determine array\textquotesingle{}s cell the selection policy {\ttfamily Select\+Policy} functor is used. Two arguments are passed to the policy\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{size\_t}\ operator()(\ \textcolor{keywordtype}{size\_t}\ nHint,\ \textcolor{keywordtype}{size\_t}\ nCapacity\ )\ \textcolor{keyword}{const}\ }

\end{DoxyCode}

\begin{DoxyItemize}
\item {\ttfamily n\+Hint} -\/ a hint to calculate cell index in the lock array. Usually, it is a hash value.
\item {\ttfamily n\+Capacity} -\/ the size of the lock array The functor should return the index in the lock array.
\end{DoxyItemize}

Note that the type of {\ttfamily n\+Hint} parameter can be any. 

\doxysubsection{成员类型定义说明}
\Hypertarget{classcds_1_1sync_1_1lock__array_ae810e9067ba267f940d01de745e1fc27}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!lock\_type@{lock\_type}}
\index{lock\_type@{lock\_type}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{lock\_type}{lock\_type}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_ae810e9067ba267f940d01de745e1fc27} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
typedef Lock \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::lock\+\_\+type}



lock type 

\Hypertarget{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!select\_cell\_policy@{select\_cell\_policy}}
\index{select\_cell\_policy@{select\_cell\_policy}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{select\_cell\_policy}{select\_cell\_policy}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
typedef Select\+Policy \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::select\+\_\+cell\+\_\+policy}



\doxylink{class_cell}{Cell} selection policy functor 



\doxysubsection{构造及析构函数说明}
\Hypertarget{classcds_1_1sync_1_1lock__array_a5f5e0c216fcaf96a54b338a23d61b74e}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!lock\_array@{lock\_array}}
\index{lock\_array@{lock\_array}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{lock\_array()}{lock\_array()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_a5f5e0c216fcaf96a54b338a23d61b74e} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::lock\+\_\+array (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Capacity}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructs array of locks 

Allocates the array and initializes all locks as unlocked. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em n\+Capacity} & Array size \\
\hline
\end{DoxyParams}
\Hypertarget{classcds_1_1sync_1_1lock__array_af52c2738dd39114d68058555155050b8}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!lock\_array@{lock\_array}}
\index{lock\_array@{lock\_array}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{lock\_array()}{lock\_array()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_af52c2738dd39114d68058555155050b8} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::lock\+\_\+array (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Capacity}{, }\item[{\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy}} const \&}]{policy}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructs array of lock and copy cell selection policy 

Allocates the array and initializes all locks as unlocked. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em n\+Capacity} & Array size  \\
\hline
 & {\em policy} & \doxylink{class_cell}{Cell} selection policy (copy-\/constructible) \\
\hline
\end{DoxyParams}
\Hypertarget{classcds_1_1sync_1_1lock__array_ad9ba0f3745f9b8ebb7dc92202ed8de77}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!lock\_array@{lock\_array}}
\index{lock\_array@{lock\_array}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{lock\_array()}{lock\_array()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_ad9ba0f3745f9b8ebb7dc92202ed8de77} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::lock\+\_\+array (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Capacity}{, }\item[{\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy}} \&\&}]{policy}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructs array of lock and move cell selection policy 

Allocates the array and initializes all locks as unlocked. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em n\+Capacity} & Array size  \\
\hline
 & {\em policy} & \doxylink{class_cell}{Cell} selection policy (move-\/constructible) \\
\hline
\end{DoxyParams}
\Hypertarget{classcds_1_1sync_1_1lock__array_a1bca1688d9e2ff360eaea7261ff87da8}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!````~lock\_array@{\texorpdfstring{$\sim$}{\string~}lock\_array}}
\index{````~lock\_array@{\texorpdfstring{$\sim$}{\string~}lock\_array}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}lock\_array()}{\string~lock\_array()}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_a1bca1688d9e2ff360eaea7261ff87da8} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::\texorpdfstring{$\sim$}{\string~}\mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{lock\+\_\+array}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Destructs array of locks and frees used memory 



\doxysubsection{成员函数说明}
\Hypertarget{classcds_1_1sync_1_1lock__array_abae8304f229292de1ca56d34ed8382ea}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!at@{at}}
\index{at@{at}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{at()}{at()}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_abae8304f229292de1ca56d34ed8382ea} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_ae810e9067ba267f940d01de745e1fc27}{lock\+\_\+type}} \& \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::at (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Cell}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get lock at cell {\ttfamily n\+Cell}. 

Precondition\+: {\ttfamily n\+Cell \texorpdfstring{$<$}{<} \doxylink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{size()}} \Hypertarget{classcds_1_1sync_1_1lock__array_a5341c7e8015b0b36a4132b33c96db953}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!lock@{lock}}
\index{lock@{lock}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{lock()}{lock()}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_a5341c7e8015b0b36a4132b33c96db953} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
template$<$typename \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::lock (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} const \&}]{hint}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Locks a lock at cell {\ttfamily hint} 

To define real array\textquotesingle{}s cell which should be locked, \doxylink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy} is used. The target cell is a result of {\ttfamily \doxylink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy( hint, size())}}.

Returns the index of locked lock. \Hypertarget{classcds_1_1sync_1_1lock__array_ab509c32490ec7f113f94b38f870b7e9d}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!lock\_all@{lock\_all}}
\index{lock\_all@{lock\_all}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{lock\_all()}{lock\_all()}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_ab509c32490ec7f113f94b38f870b7e9d} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::lock\+\_\+all (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Lock all 

\Hypertarget{classcds_1_1sync_1_1lock__array_ac7cc42614f3383693df53b0f15d50cbd}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!size@{size}}
\index{size@{size}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_ac7cc42614f3383693df53b0f15d50cbd} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac42c05b5701aef6bab82675cf3b55fee}{\+::size}} (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Size of lock array. 

\Hypertarget{classcds_1_1sync_1_1lock__array_a7ef5817da57d7fcbfa9f927346426960}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!try\_lock@{try\_lock}}
\index{try\_lock@{try\_lock}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{try\_lock()}{try\_lock()}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_a7ef5817da57d7fcbfa9f927346426960} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
template$<$typename \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}$>$ \\
size\+\_\+t \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::try\+\_\+lock (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}} const \&}]{hint}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Try lock a lock at cell {\ttfamily hint} 

To define real array\textquotesingle{}s cell which should be locked, \doxylink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy} is used. The target cell is a result of {\ttfamily \doxylink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy( hint, size())}}.

Returns the index of locked lock if success, \doxylink{classcds_1_1sync_1_1lock__array_a1cdf8bb71d838e7e60779ddccc3fdad6}{c\+\_\+n\+Unspecified\+Cell} constant otherwise. \Hypertarget{classcds_1_1sync_1_1lock__array_a16d6e90d4fddd1178486ebde2420d54f}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!unlock@{unlock}}
\index{unlock@{unlock}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{unlock()}{unlock()}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_a16d6e90d4fddd1178486ebde2420d54f} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::unlock (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Cell}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Unlock the lock specified by index {\ttfamily n\+Cell} 

\Hypertarget{classcds_1_1sync_1_1lock__array_a78c23135ec340fb6ef489a8bbe45ed5b}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!unlock\_all@{unlock\_all}}
\index{unlock\_all@{unlock\_all}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{unlock\_all()}{unlock\_all()}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_a78c23135ec340fb6ef489a8bbe45ed5b} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::unlock\+\_\+all (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Unlock all 



\doxysubsection{类成员变量说明}
\Hypertarget{classcds_1_1sync_1_1lock__array_a1cdf8bb71d838e7e60779ddccc3fdad6}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!c\_nUnspecifiedCell@{c\_nUnspecifiedCell}}
\index{c\_nUnspecifiedCell@{c\_nUnspecifiedCell}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{c\_nUnspecifiedCell}{c\_nUnspecifiedCell}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_a1cdf8bb71d838e7e60779ddccc3fdad6} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
size\+\_\+t const \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::c\+\_\+n\+Unspecified\+Cell = (size\+\_\+t) -\/1\hspace{0.3cm}{\ttfamily [static]}}



failed \doxylink{classcds_1_1sync_1_1lock__array_a7ef5817da57d7fcbfa9f927346426960}{try\+\_\+lock} call result 

\Hypertarget{classcds_1_1sync_1_1lock__array_aebab256ff5156077e41c9cee628f47e1}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!m\_arrLocks@{m\_arrLocks}}
\index{m\_arrLocks@{m\_arrLocks}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{m\_arrLocks}{m\_arrLocks}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_aebab256ff5156077e41c9cee628f47e1} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_ae810e9067ba267f940d01de745e1fc27}{lock\+\_\+type}}\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::m\+\_\+arr\+Locks\hspace{0.3cm}{\ttfamily [protected]}}



lock array 

\Hypertarget{classcds_1_1sync_1_1lock__array_a6dfe36a8d6df4b1c7e3468f544e3d4f3}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!m\_nCapacity@{m\_nCapacity}}
\index{m\_nCapacity@{m\_nCapacity}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{m\_nCapacity}{m\_nCapacity}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_a6dfe36a8d6df4b1c7e3468f544e3d4f3} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
size\+\_\+t const \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::m\+\_\+n\+Capacity\hspace{0.3cm}{\ttfamily [protected]}}



array capacity 

\Hypertarget{classcds_1_1sync_1_1lock__array_a767853e8e1255dde4a38e0491a8a7150}\index{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}!m\_SelectCellPolicy@{m\_SelectCellPolicy}}
\index{m\_SelectCellPolicy@{m\_SelectCellPolicy}!cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$@{cds::sync::lock\_array$<$ Lock, SelectPolicy, Alloc $>$}}
\doxysubsubsection{\texorpdfstring{m\_SelectCellPolicy}{m\_SelectCellPolicy}}
{\footnotesize\ttfamily \label{classcds_1_1sync_1_1lock__array_a767853e8e1255dde4a38e0491a8a7150} 
template$<$typename Lock, typename Select\+Policy = mod\+\_\+select\+\_\+policy, class Alloc = CDS\+\_\+\+DEFAULT\+\_\+\+ALLOCATOR$>$ \\
\mbox{\hyperlink{classcds_1_1sync_1_1lock__array_a7b1c889a1cf63052f0205b671a50fcbe}{select\+\_\+cell\+\_\+policy}} \mbox{\hyperlink{classcds_1_1sync_1_1lock__array}{cds\+::sync\+::lock\+\_\+array}}$<$ Lock, Select\+Policy, Alloc $>$\+::m\+\_\+\+Select\+Cell\+Policy\hspace{0.3cm}{\ttfamily [protected]}}



\doxylink{class_cell}{Cell} selection policy 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/libcds/cds/sync/\mbox{\hyperlink{lock__array_8h}{lock\+\_\+array.\+h}}\end{DoxyCompactItemize}
