\doxysection{shader.\+h}
\hypertarget{shader_8h_source}{}\label{shader_8h_source}\index{runtime/runtime/shader.h@{runtime/runtime/shader.h}}
\mbox{\hyperlink{shader_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#ifdef\ LUISA\_ENABLE\_IR}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <luisa/ir/ir2ast.h>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{basic__types_8h}{runtime/core/basic\_types.h}}>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{function__builder_8h}{runtime/ast/function\_builder.h}}>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{runtime_2rhi_2resource_8h}{runtime/runtime/rhi/resource.h}}>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{device_8h}{runtime/runtime/device.h}}>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{bindless__array_8h}{runtime/runtime/bindless\_array.h}}>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dispatch__buffer_8h}{runtime/runtime/dispatch\_buffer.h}}>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{command__encoder_8h}{runtime/runtime/rhi/command\_encoder.h}}>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute}{luisa::compute}}\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{class\ }Accel;}
\DoxyCodeLine{00018\ \textcolor{keyword}{class\ }ByteBufferView;}
\DoxyCodeLine{00019\ \textcolor{keyword}{class\ }BindlessArray;}
\DoxyCodeLine{00020\ \textcolor{keyword}{class\ }IndirectDispatchBuffer;}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}>}
\DoxyCodeLine{00023\ \textcolor{keyword}{class\ }SOA;}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00026\ \textcolor{keyword}{class\ }\mbox{\hyperlink{namespaceluisa_1_1compute_aab361c3324ffe4cf1a9c21f005119c74}{SOAView}};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail}{detail}}\ \{}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00031\ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail_a88a6e62f70539d8db63250fb4df7edb7}{shader\_argument\_types}}()\ noexcept\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\textcolor{keyword}{sizeof}...(Args)\ ==\ 0)\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ luisa::span<const\ Type\ *const>\{\};}
\DoxyCodeLine{00034\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ std::array\ args\{Type::of<Args>()...\};}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ luisa::span\{args\};}
\DoxyCodeLine{00037\ \ \ \ \ \}}
\DoxyCodeLine{00038\ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00041\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation}{prototype\_to\_shader\_invocation}}\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation_ac1596c2b03f193e97763e8ee54848715}{type}}\ =\ \textcolor{keyword}{const}\ T\ \&;}
\DoxyCodeLine{00043\ \};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00046\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation}{prototype\_to\_shader\_invocation}}<\mbox{\hyperlink{classluisa_1_1compute_1_1_buffer}{Buffer}}<T>>\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation_3_01_buffer_3_01_t_01_4_01_4_ae2a237f138f6c0d3d6b78e2bc2e2d7d6}{type}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1_buffer_view}{BufferView<T>}};}
\DoxyCodeLine{00048\ \};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00051\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation}{prototype\_to\_shader\_invocation}}<\mbox{\hyperlink{classluisa_1_1compute_1_1_byte_buffer}{ByteBuffer}}>\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation_3_01_byte_buffer_01_4_afeeb3322a41f66118fcff701f1e552b0}{type}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1_byte_buffer_view}{ByteBufferView}};}
\DoxyCodeLine{00053\ \};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00056\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation}{prototype\_to\_shader\_invocation}}<\mbox{\hyperlink{classluisa_1_1compute_1_1_image}{Image}}<T>>\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation_3_01_image_3_01_t_01_4_01_4_a04192f644dc238280b51daa22c9c7c9b}{type}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1_image_view}{ImageView<T>}};}
\DoxyCodeLine{00058\ \};}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00061\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation}{prototype\_to\_shader\_invocation}}<\mbox{\hyperlink{classluisa_1_1compute_1_1_volume}{Volume}}<T>>\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation_3_01_volume_3_01_t_01_4_01_4_a2d30e4dc7007212d6de6bc6f19b982e4}{type}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1_volume_view}{VolumeView<T>}};}
\DoxyCodeLine{00063\ \};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00066\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation}{prototype\_to\_shader\_invocation}}<\mbox{\hyperlink{classluisa_1_1compute_1_1_s_o_a}{SOA}}<T>>\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation_3_01_s_o_a_3_01_t_01_4_01_4_a303b03e6e0288a7f8cbd00533cb9b508}{type}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1_s_o_a_view}{SOAView<T>}};}
\DoxyCodeLine{00068\ \};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00071\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail_ac31f94466e323f7a3e6a02b1613f13e1}{prototype\_to\_shader\_invocation\_t}}\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1prototype__to__shader__invocation_ac1596c2b03f193e97763e8ee54848715}{prototype\_to\_shader\_invocation<T>::type}};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{keyword}{class\ }\mbox{\hyperlink{dll__export_8h_ad06d699c99cabff41979e596b53ac25a}{LC\_RUNTIME\_API}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \{}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_compute_dispatch_cmd_encoder}{ComputeDispatchCmdEncoder}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}};}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}(\mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ handle,\ \textcolor{keywordtype}{size\_t}\ arg\_count,\ \textcolor{keywordtype}{size\_t}\ uniform\_size)\ noexcept}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}}\{handle,\ arg\_count,\ uniform\_size\}\ \{\}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_aca727fd1324a5a89e48d613ac9b142b3}{ShaderInvokeBase}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\&)\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00084\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\&)\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00085\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&operator=(const\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ template<typename\ T>}
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&operator<<(\mbox{\hyperlink{classluisa_1_1compute_1_1_buffer_view}{BufferView}}<T>\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}})\ noexcept\ \{}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}}.encode\_buffer(\mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}}.handle(),\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}}.offset\_bytes(),\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}}.size\_bytes());}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00091\ \ \ \ \ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a420d9809e90afb4ce924a767a95c2f1d}{operator<<}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_image_view}{ImageView<T>}}\ \mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}}.encode\_texture(\mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}}.handle(),\ \mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}}.level());}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00097\ \ \ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00100\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_af8694de709de5fd0b4d45f7cdc5aca9b}{operator<<}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_volume_view}{VolumeView<T>}}\ \mbox{\hyperlink{sugar_8h_adcb81e0af783d8f809d1f00eb598dbce}{volume}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}}.encode\_texture(\mbox{\hyperlink{sugar_8h_adcb81e0af783d8f809d1f00eb598dbce}{volume}}.handle(),\ \mbox{\hyperlink{sugar_8h_adcb81e0af783d8f809d1f00eb598dbce}{volume}}.level());}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00103\ \ \ \ \ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00106\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_ab7bf445c68ddd1ec31ed3485c8dad17d}{operator<<}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_buffer}{Buffer<T>}}\ \&\mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}}.\_check\_is\_valid();}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ <<\ \mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}}.view();}
\DoxyCodeLine{00109\ \ \ \ \ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base}{ShaderInvokeBase}}\ \&operator<<(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_byte_buffer}{ByteBuffer}}\ \&\mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00112\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base}{ShaderInvokeBase}}\ \&operator<<(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_byte_buffer_view}{ByteBufferView}}\ \&\mbox{\hyperlink{sugar_8h_aaadc06b5dac8070de2c8677210967bdb}{buffer}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00115\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_afbeb433f7e0331ca325ffcbf680d7e7c}{operator<<}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_image}{Image<T>}}\ \&\mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}}.\_check\_is\_valid();}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ <<\ \mbox{\hyperlink{sugar_8h_a06234ed94ec57f5880e6b23ca7c17891}{image}}.view();}
\DoxyCodeLine{00118\ \ \ \ \ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00121\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a60856908e75572c5b0c63300867c7897}{operator<<}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_volume}{Volume<T>}}\ \&\mbox{\hyperlink{sugar_8h_adcb81e0af783d8f809d1f00eb598dbce}{volume}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sugar_8h_adcb81e0af783d8f809d1f00eb598dbce}{volume}}.\_check\_is\_valid();}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ <<\ \mbox{\hyperlink{sugar_8h_adcb81e0af783d8f809d1f00eb598dbce}{volume}}.view();}
\DoxyCodeLine{00124\ \ \ \ \ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base}{ShaderInvokeBase}}\ \&operator<<(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_s_o_a}{SOA<T>}}\ \&soa)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base}{ShaderInvokeBase}}\ \&operator<<(\mbox{\hyperlink{classluisa_1_1compute_1_1_s_o_a_view}{SOAView<T>}}\ soa)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a59b355df7afa1dba08bccbe67b9f9207}{operator<<}}(T\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}}.encode\_uniform(\&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abd87654504355b4c1bb002dcb1d4d16a}{data}},\ \textcolor{keyword}{sizeof}(T));}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00136\ \ \ \ \ \}}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{comment}{//\ see\ definition\ in\ rtx/accel.cpp}}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ encode(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_dispatch_cmd_encoder}{ShaderDispatchCmdEncoder}}\ \&encoder,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_accel}{Accel}}\ \&\mbox{\hyperlink{sugar_8h_a6acbe853d002e5b9d9ab0e9bdeb0a6c6}{accel}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{comment}{//\ see\ definition\ in\ runtime/bindless\_array.cpp}}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ encode(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_dispatch_cmd_encoder}{ShaderDispatchCmdEncoder}}\ \&encoder,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_bindless_array}{BindlessArray}}\ \&\mbox{\hyperlink{sugar_8h_a95fe3ffca1c850e6cb156dddfaf3354c}{array}})\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{comment}{//\ see\ definition\ in\ runtime/dispatch\_buffer.cpp}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ encode(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_dispatch_cmd_encoder}{ShaderDispatchCmdEncoder}}\ \&encoder,\ \textcolor{keyword}{const}\ IndirectDispatchBuffer\ \&dispatch\_buffer)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00143\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a5b74d74f094f907424fc383dcc32f64d}{operator<<}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_accel}{Accel}}\ \&\mbox{\hyperlink{sugar_8h_a6acbe853d002e5b9d9ab0e9bdeb0a6c6}{accel}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a25fd17816aa868957a9e159998ac9feb}{encode}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}},\ \mbox{\hyperlink{sugar_8h_a6acbe853d002e5b9d9ab0e9bdeb0a6c6}{accel}});}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00146\ \ \ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_af28da399fa1713866cc24c50ac8f9733}{operator<<}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_bindless_array}{BindlessArray}}\ \&\mbox{\hyperlink{sugar_8h_a95fe3ffca1c850e6cb156dddfaf3354c}{array}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a25fd17816aa868957a9e159998ac9feb}{encode}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}},\ \mbox{\hyperlink{sugar_8h_a95fe3ffca1c850e6cb156dddfaf3354c}{array}});}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00151\ \ \ \ \ \}}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a67ce26599a51192f64deb3bc9c7628fa}{operator<<}}(\textcolor{keyword}{const}\ IndirectDispatchBuffer\ \&dispatch\_buffer)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a25fd17816aa868957a9e159998ac9feb}{encode}}(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}},\ dispatch\_buffer);}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00156\ \ \ \ \ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00159\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a353e73207110349406c20a9ddfd97a15}{\_parallelize}}(\mbox{\hyperlink{sugar_8h_a1b12c3dbe09fa4f18058466f0d8a393e}{uint3}}\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_aa5da0d0d9f870863996b0759efbd72b0}{dispatch\_size}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}}.set\_dispatch\_size(\mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_aa5da0d0d9f870863996b0759efbd72b0}{dispatch\_size}});}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::move(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}});}
\DoxyCodeLine{00162\ \ \ \ \ \}}
\DoxyCodeLine{00163\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a9680dd959f8d24f294269ff973ef8eca}{\_parallelize}}(luisa::span<const\ uint3>\ dispatch\_sizes)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}}.set\_dispatch\_sizes(dispatch\_sizes);}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::move(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}});}
\DoxyCodeLine{00166\ \ \ \ \ \}}
\DoxyCodeLine{00167\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_aac632c5eb68f80a4529bafe3868adb48}{\_parallelize}}(\textcolor{keyword}{const}\ IndirectDispatchBuffer\ \&indirect\_buffer,}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}}\ =\ 0,}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ max\_dispatch\_size\ =\ (std::numeric\_limits<uint32\_t>::max)())\ noexcept\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}}.set\_dispatch\_size(\mbox{\hyperlink{structluisa_1_1compute_1_1_indirect_dispatch_arg}{IndirectDispatchArg}}\{indirect\_buffer.handle(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}},\ max\_dispatch\_size\});}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::move(\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a736e29328346918739c8ec7ec6df15e7}{\_encoder}});}
\DoxyCodeLine{00172\ \ \ \ \ \}}
\DoxyCodeLine{00173\ \};}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ dim>}
\DoxyCodeLine{00176\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke}{ShaderInvoke}}\ \{}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespaceluisa_a8c7f286c84142da9a0aca4e38c58ce59}{always\_false\_v<std::index\_sequence<dim>}}>);}
\DoxyCodeLine{00178\ \};}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00181\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_011_01_4_af6b2625b22c9d97bd88584bc4797db5a}{ShaderInvoke}}<1>\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_011_01_4_af6b2625b22c9d97bd88584bc4797db5a}{ShaderInvoke}}(\mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ handle,\ \textcolor{keywordtype}{size\_t}\ arg\_count,\ \textcolor{keywordtype}{size\_t}\ uniform\_size)\ noexcept}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\{handle,\ arg\_count,\ uniform\_size\}\ \{\}}
\DoxyCodeLine{00184\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_011_01_4_a377f2159619723dd146e6beea22b4999}{dispatch}}(\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ size\_x)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a353e73207110349406c20a9ddfd97a15}{\_parallelize}}(\mbox{\hyperlink{sugar_8h_a1b12c3dbe09fa4f18058466f0d8a393e}{uint3}}\{size\_x,\ 1u,\ 1u\}).build();}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_011_01_4_a74464ffa8ec2c30ed0d511a89c370be9}{dispatch}}(luisa::span<const\ uint3>\ dispatch\_sizes)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a353e73207110349406c20a9ddfd97a15}{\_parallelize}}(dispatch\_sizes).build();}
\DoxyCodeLine{00189\ \ \ \ \ \}}
\DoxyCodeLine{00190\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_011_01_4_a294c51f65993e3d48c5f20b3989bb15e}{dispatch}}(\textcolor{keyword}{const}\ IndirectDispatchBuffer\ \&indirect\_buffer,}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}}\ =\ 0,}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ max\_dispatch\_size\ =\ (std::numeric\_limits<uint32\_t>::max)())\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a353e73207110349406c20a9ddfd97a15}{\_parallelize}}(indirect\_buffer,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}},\ max\_dispatch\_size).build();}
\DoxyCodeLine{00194\ \ \ \ \ \}}
\DoxyCodeLine{00195\ \};}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00198\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_012_01_4_a91aa5fc4b4794624e59c35ba2d67887b}{ShaderInvoke}}<2>\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_012_01_4_a91aa5fc4b4794624e59c35ba2d67887b}{ShaderInvoke}}(\mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ handle,\ \textcolor{keywordtype}{size\_t}\ arg\_count,\ \textcolor{keywordtype}{size\_t}\ uniform\_size)\ noexcept}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\{handle,\ arg\_count,\ uniform\_size\}\ \{\}}
\DoxyCodeLine{00201\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_012_01_4_aa79d74c49ed617f604794583257f636e}{dispatch}}(\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ size\_x,\ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ size\_y)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a353e73207110349406c20a9ddfd97a15}{\_parallelize}}(\mbox{\hyperlink{sugar_8h_a1b12c3dbe09fa4f18058466f0d8a393e}{uint3}}\{size\_x,\ size\_y,\ 1u\}).build();}
\DoxyCodeLine{00203\ \ \ \ \ \}}
\DoxyCodeLine{00204\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_012_01_4_a99ca64a4df0d9263c5ac15bf2212a55a}{dispatch}}(\mbox{\hyperlink{sugar_8h_a558ad5a0d5b02f1f24be1ae49b492a73}{uint2}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}})\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a353e73207110349406c20a9ddfd97a15}{\_parallelize}}(\mbox{\hyperlink{sugar_8h_a1b12c3dbe09fa4f18058466f0d8a393e}{uint3}}\{\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}}.x,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}}.y,\ 1u\}).build();}
\DoxyCodeLine{00206\ \ \ \ \ \}}
\DoxyCodeLine{00207\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_012_01_4_aa775eb4869d62dece9121f8de0e45e40}{dispatch}}(luisa::span<const\ uint3>\ dispatch\_sizes)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a353e73207110349406c20a9ddfd97a15}{\_parallelize}}(dispatch\_sizes).build();}
\DoxyCodeLine{00209\ \ \ \ \ \}}
\DoxyCodeLine{00210\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_012_01_4_a1b5ee7fed3f79f6cc49c9775e1f64903}{dispatch}}(\textcolor{keyword}{const}\ IndirectDispatchBuffer\ \&indirect\_buffer,}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}}\ =\ 0,}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ max\_dispatch\_size\ =\ (std::numeric\_limits<uint32\_t>::max)())\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::move(*this).\_parallelize(indirect\_buffer,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}},\ max\_dispatch\_size).build();}
\DoxyCodeLine{00214\ \ \ \ \ \}}
\DoxyCodeLine{00215\ \};}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00218\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_013_01_4_a1e62e83b788ae540cdb1e5e6d76bf4e7}{ShaderInvoke}}<3>\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\ \{}
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_013_01_4_a1e62e83b788ae540cdb1e5e6d76bf4e7}{ShaderInvoke}}(\mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ handle,\ \textcolor{keywordtype}{size\_t}\ arg\_count,\ \textcolor{keywordtype}{size\_t}\ uniform\_size)\ noexcept}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a08de388dd59cea7ee1771bf75fb68b00}{ShaderInvokeBase}}\{handle,\ arg\_count,\ uniform\_size\}\ \{\}}
\DoxyCodeLine{00221\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_013_01_4_a35eab30b9e8262a76ba2995633896084}{dispatch}}(\mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ size\_x,\ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ size\_y,\ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ size\_z)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a353e73207110349406c20a9ddfd97a15}{\_parallelize}}(\mbox{\hyperlink{sugar_8h_a1b12c3dbe09fa4f18058466f0d8a393e}{uint3}}\{size\_x,\ size\_y,\ size\_z\}).build();}
\DoxyCodeLine{00223\ \ \ \ \ \}}
\DoxyCodeLine{00224\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_013_01_4_a9aba7358c595fbd5cee29a4761aee286}{dispatch}}(luisa::span<const\ uint3>\ dispatch\_sizes)\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a353e73207110349406c20a9ddfd97a15}{\_parallelize}}(dispatch\_sizes).build();}
\DoxyCodeLine{00226\ \ \ \ \ \}}
\DoxyCodeLine{00227\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_013_01_4_a8bb40db51eac67309721cf987a7353ec}{dispatch}}(\textcolor{keyword}{const}\ IndirectDispatchBuffer\ \&indirect\_buffer,}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}}\ =\ 0,}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eabase_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ max\_dispatch\_size\ =\ (std::numeric\_limits<uint32\_t>::max)())\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classluisa_1_1compute_1_1detail_1_1_shader_invoke_base_a353e73207110349406c20a9ddfd97a15}{\_parallelize}}(indirect\_buffer,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ae1b92ae085ddef4b1cdca7d749339fb0}{offset}},\ max\_dispatch\_size).build();}
\DoxyCodeLine{00231\ \ \ \ \ \}}
\DoxyCodeLine{00232\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke_3_013_01_4_a4ab84c3099741b7c593adf51d22f14cf}{dispatch}}(\mbox{\hyperlink{sugar_8h_a1b12c3dbe09fa4f18058466f0d8a393e}{uint3}}\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}})\ \&\&\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::move(*this).dispatch(\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}}.x,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}}.y,\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}}.z);}
\DoxyCodeLine{00234\ \ \ \ \ \}}
\DoxyCodeLine{00235\ \};}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00238\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1shader__argument__encode__count}{shader\_argument\_encode\_count}}\ \{}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespaceluisa_a70f466a8a407b18f0870c81f4bd3bf66}{uint}}\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1shader__argument__encode__count_a67bb5b94db9983f0ebe315dcfeb96c49}{value}}\ =\ 1u;}
\DoxyCodeLine{00240\ \};}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \}\textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}\ \{}
\DoxyCodeLine{00245\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a28881febd01b72c088d11ac80bcb91c9}{\_uniform\_size}}\{\};}
\DoxyCodeLine{00247\ \ \ \ \ \mbox{\hyperlink{sugar_8h_a1b12c3dbe09fa4f18058466f0d8a393e}{uint3}}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a8489ab55dff31888c9cd890bccb2f0ab}{\_block\_size}};}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_device_interface}{DeviceInterface}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_creation_info}{ShaderCreationInfo}}\ \&info,}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a2204de819d35d0ad2ec6186f31444d4b}{uniform\_size}})\ noexcept}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ad04c9df5461ad463bc3bfa340590a61a}{Resource}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a3d72fc24a13e8e17d2284bf4f59a19d6aa05d35337eb28027e70aef2ea40ff1df}{Tag::SHADER}},\ info\},}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \_uniform\_size\{uniform\_size\},}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \_block\_size\{info.block\_size\}\ \{\}}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_adfe484030f9fe514ecc28f04cffe343f}{ShaderBase}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00257\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_ae24bfc6ce09c7d532684a378f2b3efba}{\string~ShaderBase}}()\ noexcept\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*\textcolor{keyword}{this})\ \{\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}}()-\/>destroy\_shader(\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a00d6db28ea14237c5c3ee4f3c1afbd46}{handle}}());\ \}}
\DoxyCodeLine{00259\ \ \ \ \ \}}
\DoxyCodeLine{00260\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a105b052fe7734fb8b1bea7ee23798f68}{ShaderBase}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\ \&\&)\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00261\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\ const\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00262\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\ \&\&rhs)\ noexcept\ \{}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_ac8bd4f95e29f120931f646355e51323a}{\_move\_from}}(std::move(rhs));}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00265\ \ \ \ \ \}}
\DoxyCodeLine{00266\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\ \&\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a365c56f5ab95e06dc63f253bcd20cd2c}{operator=}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\ \textcolor{keyword}{const}\ \&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keyword}{using\ }Resource::operator\ \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}};}
\DoxyCodeLine{00268\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a6d5668dcbdba6475fe9789d5d03fe259}{block\_size}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_acd4eeb601dbaa644497541380a30c9aa}{\_check\_is\_valid}}();}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a8489ab55dff31888c9cd890bccb2f0ab}{\_block\_size}};}
\DoxyCodeLine{00271\ \ \ \ \ \}}
\DoxyCodeLine{00272\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a2204de819d35d0ad2ec6186f31444d4b}{uniform\_size}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_acd4eeb601dbaa644497541380a30c9aa}{\_check\_is\_valid}}();}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a28881febd01b72c088d11ac80bcb91c9}{\_uniform\_size}};}
\DoxyCodeLine{00275\ \ \ \ \ \}}
\DoxyCodeLine{00276\ \};}
\DoxyCodeLine{00277\ \textcolor{keyword}{template}<\textcolor{keywordtype}{size\_t}\ dimension,\ \mbox{\hyperlink{conceptluisa_1_1concepts_1_1non__cvref}{concepts::non\_cvref}}...\ Args>}
\DoxyCodeLine{00278\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\ \{}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespaceluisa_1_1compute_ac3e21c07f979b7e10650e8fb95ee3234}{dimension}}\ ==\ 1u\ ||\ \mbox{\hyperlink{namespaceluisa_1_1compute_ac3e21c07f979b7e10650e8fb95ee3234}{dimension}}\ ==\ 2u\ ||\ \mbox{\hyperlink{namespaceluisa_1_1compute_ac3e21c07f979b7e10650e8fb95ee3234}{dimension}}\ ==\ 3u);}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a520fa05e0bf58785da428f7a0241eee2}{Device}};}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{comment}{//\ base\ ctor}}
\DoxyCodeLine{00286\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_device_interface}{DeviceInterface}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_creation_info}{ShaderCreationInfo}}\ \&info,}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a2204de819d35d0ad2ec6186f31444d4b}{uniform\_size}})\ noexcept}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},\ info,\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a2204de819d35d0ad2ec6186f31444d4b}{uniform\_size}}\}\ \{\}}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{comment}{//\ JIT\ shader}}
\DoxyCodeLine{00293\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_aaf07d0e09ce8f72ed44a7c38c31e1272}{Shader}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_device_interface}{DeviceInterface}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_function}{Function}}\ kernel,}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structluisa_1_1compute_1_1_shader_option}{ShaderOption}}\ \&\mbox{\hyperlink{structoption}{option}})\ noexcept}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}}-\/>create\_shader(\mbox{\hyperlink{structoption}{option}},\ kernel),}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_dispatch_cmd_encoder_ac9e7a629ef1dcdc1249bceaed6248395}{ShaderDispatchCmdEncoder::compute\_uniform\_size}}(kernel.unbound\_arguments())\}\ \{\}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \textcolor{preprocessor}{\#ifdef\ LUISA\_ENABLE\_IR}}
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{comment}{//\ JIT\ shader\ from\ IR\ module}}
\DoxyCodeLine{00301\ \ \ \ \ Shader(DeviceInterface\ *device,}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ir::KernelModule\ *\textcolor{keyword}{const}\ module,}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ShaderOption\ \&\mbox{\hyperlink{structoption}{option}})\ noexcept}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ :\ Shader\{device,\ IR2AST::build(module)-\/>function(),\ \mbox{\hyperlink{structoption}{option}}\}\ \{\}}
\DoxyCodeLine{00305\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{comment}{//\ AOT\ shader}}
\DoxyCodeLine{00308\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_ac5d84e3e788e20e6a2c5ee768b968f3a}{Shader}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_device_interface}{DeviceInterface}}\ *\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},\ \mbox{\hyperlink{base_8h_a204ca715c2febee035464fa53dfc50c4}{string\_view}}\ file\_path)\ noexcept}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a26a619bc27f10cc2648ff685cd0a3509}{ShaderBase}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}},}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a80d70cb175660af12e01637de33f32bc}{device}}-\/>load\_shader(file\_path,\ \mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail_a88a6e62f70539d8db63250fb4df7edb7}{detail::shader\_argument\_types<Args...>}}()),}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_dispatch_cmd_encoder_ac9e7a629ef1dcdc1249bceaed6248395}{ShaderDispatchCmdEncoder::compute\_uniform\_size}}(\mbox{\hyperlink{namespaceluisa_1_1compute_1_1detail_a88a6e62f70539d8db63250fb4df7edb7}{detail::shader\_argument\_types<Args...>}}())\}\ \{\}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00314\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a35d42a6b98c1929beb414cfc9784c219}{Shader}}()\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00315\ \ \ \ \ \string~\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}()\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00316\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}\ \&\&)\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00317\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}\ const\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00318\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}\ \&\&rhs)\ noexcept\ =\ \mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}};}
\DoxyCodeLine{00319\ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}\ \&operator=(\mbox{\hyperlink{classluisa_1_1compute_1_1_shader_a1209fcc089bdbe3f47353d709627df33}{Shader}}\ const\ \&)\ noexcept\ =\ delete;}
\DoxyCodeLine{00320\ \ \ \ \ using\ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource}{Resource}}::operator\ \textcolor{keywordtype}{bool};}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ \ \ [[nodiscard]]\ auto\ operator()(\mbox{\hyperlink{namespacedetail}{detail}}::prototype\_to\_shader\_invocation\_t<Args>...\ args)\ const\ noexcept\ \{}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classluisa_1_1compute_1_1_resource_acd4eeb601dbaa644497541380a30c9aa}{\_check\_is\_valid}}();}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }invoke\_type\ =\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1_shader_invoke}{detail::ShaderInvoke<dimension>}};}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ arg\_count\ =\ (0u\ +\ ...\ +\ \mbox{\hyperlink{structluisa_1_1compute_1_1detail_1_1shader__argument__encode__count_a67bb5b94db9983f0ebe315dcfeb96c49}{detail::shader\_argument\_encode\_count<Args>::value}});}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ invoke\_type\ \mbox{\hyperlink{namespaceluisa_afecc703e5abfd2fcd6f342e3e345249e}{invoke}}\{\mbox{\hyperlink{classluisa_1_1compute_1_1_resource_a00d6db28ea14237c5c3ee4f3c1afbd46}{handle}}(),\ arg\_count,\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader_base_a28881febd01b72c088d11ac80bcb91c9}{\_uniform\_size}}\};}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}\textcolor{keyword}{>}((\mbox{\hyperlink{namespaceluisa_afecc703e5abfd2fcd6f342e3e345249e}{invoke}}\ <<\ ...\ <<\ args));}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceluisa_afecc703e5abfd2fcd6f342e3e345249e}{invoke}};}
\DoxyCodeLine{00329\ \ \ \ \ \}}
\DoxyCodeLine{00330\ \};}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00333\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_a75dc91140f00a1d6c9df7232e4e799be}{Shader1D}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader}{Shader}}<1,\ Args...>;}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00336\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_acfb6953d7e078ebc9e90bd73d7eed06b}{Shader2D}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader}{Shader}}<2,\ Args...>;}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00339\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceluisa_1_1compute_a140afd13c96132f38605b42e742393ab}{Shader3D}}\ =\ \mbox{\hyperlink{classluisa_1_1compute_1_1_shader}{Shader}}<3,\ Args...>;}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \}\textcolor{comment}{//\ namespace\ luisa::compute}}

\end{DoxyCode}
