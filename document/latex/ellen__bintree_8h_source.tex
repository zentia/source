\doxysection{ellen\+\_\+bintree.\+h}
\hypertarget{ellen__bintree_8h_source}{}\label{ellen__bintree_8h_source}\index{external/libcds/cds/intrusive/impl/ellen\_bintree.h@{external/libcds/cds/intrusive/impl/ellen\_bintree.h}}
\mbox{\hyperlink{ellen__bintree_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ (c)\ 2006-\/2018\ Maxim\ Khizhinsky}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Distributed\ under\ the\ Boost\ Software\ License,\ Version\ 1.0.\ (See\ accompanying}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ file\ LICENSE\ or\ copy\ at\ http://www.boost.org/LICENSE\_1\_0.txt)}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#ifndef\ CDSLIB\_INTRUSIVE\_IMPL\_ELLEN\_BINTREE\_H}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#define\ CDSLIB\_INTRUSIVE\_IMPL\_ELLEN\_BINTREE\_H}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{intrusive_2details_2ellen__bintree__base_8h}{cds/intrusive/details/ellen\_bintree\_base.h}}>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{external_2libcds_2cds_2opt_2compare_8h}{cds/opt/compare.h}}>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{binary__functor__wrapper_8h}{cds/details/binary\_functor\_wrapper.h}}>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{check__deadlock_8h}{cds/urcu/details/check\_deadlock.h}}>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacecds}{cds}}\ \{\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacecds_1_1intrusive}{intrusive}}\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{template}\ <\ \textcolor{keyword}{class\ }GC,}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{namespaceluisa_1_1compute_aadc5aa11e9ee4ae71146a25cd0ab9c41}{Key}},}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}},}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#ifdef\ CDS\_DOXYGEN\_INVOKED}}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{keyword}{class\ }Traits\ =\ \mbox{\hyperlink{structcds_1_1intrusive_1_1ellen__bintree_1_1traits}{ellen\_bintree::traits}}}
\DoxyCodeLine{00107\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keyword}{class\ }Traits}
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00110\ \ \ \ \ >}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a384d04dfebb1bb014ab08a6884131536}{EllenBinTree}}}
\DoxyCodeLine{00112\ \ \ \ \ \{}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ GC\ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a413c08fbf97b94fe58b1a16fb43fdc30}{gc}};\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ Key\ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a0e4edbd33aad5489ef524d53cff9cfd6}{key\_type}};\ \ \ }
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{test__overwrite__node_8cpp_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}};\ }
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ Traits\ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a0cf41181fd495667fd9d74b6d1ca900d}{traits}};\ \ \ \ \ }
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ traits::hook\ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ac6a5408fe1fa3e8e3beda713cb4b0671}{hook}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ hook::node\_type\ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a3c599dec5e7bec7b60cd0850ffacdd0a}{node\_type}};\ \ \ }
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ traits::disposer\ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a5b4c68a7e676149968f99a49e9e298fd}{disposer}};\ \ \ \ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ traits::back\_off\ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_af2a6773346ab6a297e3f8924b6baabb2}{back\_off}};\ \ \ \ }
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ gc::template\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr<\ value\_type\ >}}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}};\ }
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structcds_1_1intrusive_1_1ellen__bintree_1_1base__node}{ellen\_bintree::base\_node<\ gc\ >}}\ \ \ \ \ \ \ \ \ \ \ \ tree\_node;\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a3c599dec5e7bec7b60cd0850ffacdd0a}{node\_type}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ leaf\_node;\ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structcds_1_1intrusive_1_1ellen__bintree_1_1node__types}{ellen\_bintree::node\_types<\ gc,\ key\_type,\ typename\ leaf\_node::tag\ >}}\ node\_factory;}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ node\_factory::internal\_node\_type\ internal\_node;\ }
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ node\_factory::update\_desc\_type\ \ \ update\_desc;\ \ \ }
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ update\_desc::update\_ptr\ \ \ \ \ \ \ \ \ \ update\_ptr;\ \ \ \ }
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00137\ \textcolor{preprocessor}{\#\ \ \ ifdef\ CDS\_DOXYGEN\_INVOKED}}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ implementation\_defined\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a3f8d9338763a561bdc979b3b8063119f}{key\_comparator}};\ \ \ \ }
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structcds_1_1intrusive_1_1get__node__traits}{get\_node\_traits<\ value\_type,\ node\_type,\ hook>::type}}\ \mbox{\hyperlink{structcds_1_1intrusive_1_1_ellen_bin_tree_1_1node__traits}{node\_traits}};\ }
\DoxyCodeLine{00140\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ opt::details::make\_comparator<\ value\_type,\ traits\ >::type\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a3f8d9338763a561bdc979b3b8063119f}{key\_comparator}};}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcds_1_1intrusive_1_1_ellen_bin_tree_1_1node__traits}{node\_traits}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structcds_1_1intrusive_1_1get__node__traits}{get\_node\_traits}}<\ value\_type,\ node\_type,\ hook>\mbox{\hyperlink{structcds_1_1intrusive_1_1get__node__traits}{::type}}}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ internal\_node\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{structcds_1_1intrusive_1_1_ellen_bin_tree_1_1node__traits_aa2f65479927cc55c78428394472b0227}{to\_internal\_node}}(\ tree\_node\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ )}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.is\_internal());}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}internal\_node\ const\&\textcolor{keyword}{>}(\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ );}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ leaf\_node\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{structcds_1_1intrusive_1_1_ellen_bin_tree_1_1node__traits_a12ae6be522926628c25069335c45b520}{to\_leaf\_node}}(\ tree\_node\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ )}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}.is\_leaf());}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}leaf\_node\ const\&\textcolor{keyword}{>}(\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ );}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00156\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ traits::item\_counter\ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a42a2adeb683a50285e982432107c5224}{item\_counter}};\ \ \ }
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ traits::memory\_model\ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a8d63317f793a2132a0be5fa44b8b2092}{memory\_model}};\ \ \ }
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ traits::stat\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a232a85a36b89febab156ca8ea4307db1}{stat}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ traits::key\_extractor\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a1b7c67ef9556e7d12546997c9cd527e0}{key\_extractor}};\ \ }
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ traits::node\_allocator\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a1e38dcc86a57e7445b6d291b26cf17ca}{node\_allocator}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ traits::update\_desc\_allocator\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a0c14f543492a02cd675811c9d51a70f9}{update\_desc\_allocator}};\ }
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_aafabeb801f7a00a0308b6d47c4c7d8b3}{c\_nHazardPtrCount}}\ =\ 9;\ }
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ ellen\_bintree::details::compare<\ key\_type,\ value\_type,\ key\_comparator,\ node\_traits\ >\ node\_compare;}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator}{cds::details::Allocator<\ internal\_node,\ node\_allocator\ >}}\ \ \ \ \ \ \ \ cxx\_node\_allocator;}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classcds_1_1details_1_1_allocator}{cds::details::Allocator<\ update\_desc,\ update\_desc\_allocator\ >}}\ \ \ cxx\_update\_desc\_allocator;}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }search\_result\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{enum}\ guard\_index\ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Guard\_GrandParent,}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Guard\_Parent,}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Guard\_Leaf,}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Guard\_updGrandParent,}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Guard\_updParent,}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Guard\_temporary,}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ end\ of\ guard\ indices}}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ guard\_count}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ gc::template\ GuardArray<\ guard\_count\ >\ guard\_array;}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ guard\_array\ guards;}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ internal\_node\ *\ \ \ \ \ pGrandParent;}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ internal\_node\ *\ \ \ \ \ pParent;}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ leaf\_node\ *\ \ \ \ \ \ \ \ \ pLeaf;}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ \ \ \ \ \ \ \ \ \ updParent;}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ \ \ \ \ \ \ \ \ \ updGrandParent;}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bRightLeaf;\ \ \ \textcolor{comment}{//\ true\ if\ pLeaf\ is\ right\ child\ of\ pParent,\ false\ otherwise}}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bRightParent;\ \textcolor{comment}{//\ true\ if\ pParent\ is\ right\ child\ of\ pGrandParent,\ false\ otherwise}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result()}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :pGrandParent(\ \textcolor{keyword}{nullptr}\ )}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,pParent(\ \textcolor{keyword}{nullptr}\ )}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,pLeaf(\ \textcolor{keyword}{nullptr}\ )}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,bRightLeaf(\ \textcolor{keyword}{false}\ )}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,bRightParent(\ \textcolor{keyword}{false}\ )}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \{\}}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ internal\_node\ \ \ \ \ \ \ m\_Root;\ \ \ \ \ }
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ leaf\_node\ \ \ \ \ \ \ \ \ \ \ m\_LeafInf1;\ }
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ leaf\_node\ \ \ \ \ \ \ \ \ \ \ m\_LeafInf2;\ }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a42a2adeb683a50285e982432107c5224}{item\_counter}}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2aa7e98673d7e142f3f13b35d64834ba}{m\_ItemCounter}};\ \ }
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{keyword}{mutable}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a232a85a36b89febab156ca8ea4307db1}{stat}}\ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}};\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ free\_leaf\_node(\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a5b4c68a7e676149968f99a49e9e298fd}{disposer}}()(\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}*\textcolor{keyword}{>}(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ ));}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ internal\_node\ *\ alloc\_internal\_node()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00227\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onInternalNodeCreated();}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ internal\_node\ *\ pNode\ =\ cxx\_node\_allocator().New();}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pNode;}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ free\_internal\_node(\ \textcolor{keywordtype}{void}*\ pNode\ )}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ cxx\_node\_allocator().Delete(\ \textcolor{keyword}{reinterpret\_cast<}internal\_node*\textcolor{keyword}{>}(\ pNode\ ));}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }internal\_node\_deleter\ \{}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ operator()(\ internal\_node*\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\textcolor{keyword}{\ const}}
\DoxyCodeLine{00240\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cxx\_node\_allocator().Delete(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ );}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ std::unique\_ptr<\ internal\_node,\ internal\_node\_deleter>\ \ unique\_internal\_node\_ptr;}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a3dc4be7577e7b5ed21cdb4993275c188}{update\_desc}}\ *\ alloc\_update\_desc()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00248\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onUpdateDescCreated();}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cxx\_update\_desc\_allocator().New();}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ free\_update\_desc(\ \textcolor{keywordtype}{void}*\ pDesc\ )}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ cxx\_update\_desc\_allocator().Delete(\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a3dc4be7577e7b5ed21cdb4993275c188}{update\_desc}}*\textcolor{keyword}{>}(\ pDesc\ ));}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ retire\_node(\ tree\_node\ *\ pNode\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00259\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pNode-\/>is\_leaf())\ \{}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\textcolor{keyword}{>}(\ pNode\ )\ !=\ \&m\_LeafInf1\ );}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\textcolor{keyword}{>}(\ pNode\ )\ !=\ \&m\_LeafInf2\ );}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gc::template\ retire(\ node\_traits::to\_value\_ptr(\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\textcolor{keyword}{>}(\ pNode\ )),\ free\_leaf\_node\ );}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\textcolor{keyword}{>}(\ pNode\ )\ !=\ \&m\_Root\ );}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onInternalNodeDeleted();}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gc::template\ retire(\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\textcolor{keyword}{>}(\ pNode\ ),\ free\_internal\_node\ );}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ retire\_update\_desc(\ update\_desc\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00275\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onUpdateDescDeleted();}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ gc::template\ retire(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}},\ free\_update\_desc\ );}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ make\_empty\_tree()}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Root.infinite\_key(\ 2\ );}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ m\_LeafInf1.infinite\_key(\ 1\ );}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ m\_LeafInf2.infinite\_key(\ 2\ );}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Root.m\_pLeft.store(\ \&m\_LeafInf1,\ memory\_model::memory\_order\_relaxed\ );}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Root.m\_pRight.store(\ \&m\_LeafInf2,\ memory\_model::memory\_order\_release\ );}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a384d04dfebb1bb014ab08a6884131536}{EllenBinTree}}()}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(\ !std::is\_same<\ key\_extractor,\ opt::none\ >::value,\ \textcolor{stringliteral}{"{}The\ key\ extractor\ option\ must\ be\ specified"{}}\ );}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ make\_empty\_tree();}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_adbf3e82fcef7ec85b4338e4b0f317b8d}{\string~EllenBinTree}}()}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a83c090226f67782b243718cfda4112cb}{unsafe\_clear}}();}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a8c43f98b99ad30b3ac6376e05af049db}{insert}}(\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}\&\ val\ )}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_sparse_matrix__coeffs_8cpp_ab35a6a022462a2c6584f51173eb05af6}{insert}}(\ val,\ [](\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}\&\ )\ \{\}\ );}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a31c4fbc7ce6d68b5bf5735322fd2e2f5}{insert}}(\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}\&\ val,\ Func\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ gc::Guard\ guardInsert;}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ guardInsert.assign(\ \&val\ );}
\DoxyCodeLine{00338\ }
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ unique\_internal\_node\_ptr\ pNewInternal;}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_af2a6773346ab6a297e3f8924b6baabb2}{back\_off}}\ bkoff;}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;;\ )\ \{}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ val,\ node\_compare()))\ \{}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pNewInternal.get())}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onInternalNodeDeleted()\ ;\ \ \ \ \textcolor{comment}{//\ unique\_internal\_node\_ptr\ deletes\ internal\ node}}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onInsertFailed();}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent.bits()\ ==\ update\_desc::Clean\ \&\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.bits()\ ==\ update\_desc::Clean\ )\ \{}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !pNewInternal.get())}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal.reset(\ alloc\_internal\_node());}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ try\_insert(\ val,\ pNewInternal.get(),\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ ))\ \{}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}(\ val\ );}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal.release();\ \textcolor{comment}{//\ internal\ node\ is\ linked\ into\ the\ tree\ and\ should\ not\ be\ deleted}}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bkoff();}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onInsertRetry();}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2aa7e98673d7e142f3f13b35d64834ba}{m\_ItemCounter}};}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onInsertSuccess();}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ std::pair<bool,\ bool>\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_af626fd8c9f84b93558ac1227861f2dc3}{update}}(\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}\&\ val,\ Func\ \mbox{\hyperlink{structfunc}{func}},\ \textcolor{keywordtype}{bool}\ bAllowInsert\ =\ \textcolor{keyword}{true}\ )}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ gc::Guard\ guardInsert;}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ guardInsert.assign(\ \&val\ );}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ unique\_internal\_node\_ptr\ pNewInternal;}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_af2a6773346ab6a297e3f8924b6baabb2}{back\_off}}\ bkoff;}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;;\ )\ \{}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ val,\ node\_compare()))\ \{}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{benchmarks_2async__task_2async__task_8hpp_abce53bb5cc1ee70cdc013fd9b93547eb}{func}}(\ \textcolor{keyword}{false},\ *node\_traits::to\_value\_ptr(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ ),\ val\ );}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pNewInternal.get())}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onInternalNodeDeleted()\ ;\ \ \ \ \textcolor{comment}{//\ unique\_internal\_node\_ptr\ deletes\ internal\ node}}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onUpdateExist();}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_pair(\ \textcolor{keyword}{true},\ \textcolor{keyword}{false}\ );}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent.bits()\ ==\ update\_desc::Clean\ \&\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.bits()\ ==\ update\_desc::Clean\ )\ \ \{}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !bAllowInsert\ )}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_pair(\ \textcolor{keyword}{false},\ \textcolor{keyword}{false}\ );}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !pNewInternal.get())}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal.reset(\ alloc\_internal\_node());}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ try\_insert(\ val,\ pNewInternal.get(),\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ ))\ \{}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{benchmarks_2async__task_2async__task_8hpp_abce53bb5cc1ee70cdc013fd9b93547eb}{func}}(\ \textcolor{keyword}{true},\ val,\ val\ );}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal.release()\ \ ;\ \ \ \textcolor{comment}{//\ internal\ node\ has\ been\ linked\ into\ the\ tree\ and\ should\ not\ be\ deleted}}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bkoff();}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onUpdateRetry();}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00436\ }
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2aa7e98673d7e142f3f13b35d64834ba}{m\_ItemCounter}};}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onUpdateNew();}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_pair(\ \textcolor{keyword}{true},\ \textcolor{keyword}{true}\ );}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{compiler_2gcc_2defs_8h_a40c9f703b39c9b3c4525fadd58120bdd}{CDS\_DEPRECATED}}(\textcolor{stringliteral}{"{}ensure()\ is\ deprecated,\ use\ update()"{}})}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacestd}{std}}::pair<\textcolor{keywordtype}{bool},\ \textcolor{keywordtype}{bool}>\ ensure(\ value\_type\&\ val,\ Func\ \mbox{\hyperlink{structfunc}{func}}\ )}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_af626fd8c9f84b93558ac1227861f2dc3}{update}}(\ val,\ \mbox{\hyperlink{structfunc}{func}},\ \textcolor{keyword}{true}\ );}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00449\ }
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ac2a6c46b4b6d495c45d5a738adaf2807}{unlink}}(\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}\&\ val\ )}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ erase\_(\ val,\ node\_compare(),}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}},\ leaf\_node\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ )\ -\/>\ \textcolor{keywordtype}{bool}\ \{\ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{_cwise__arg_8cpp_a49bb5a0db288a22a099643d44c5abbd6}{v}}\ ==\ node\_traits::to\_value\_ptr(\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__simple_8cpp_a5150192f625f4d7970d61169b9567f39}{n}}\ );\ \},}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}\ \textcolor{keyword}{const}\&)\ \{\}\ );}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00470\ }
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q>}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a22171203a1350b378388367be87f1705}{erase}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}}\ )}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ erase\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ node\_compare(),}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&,\ leaf\_node\ \textcolor{keyword}{const}\&\ )\ -\/>\ \textcolor{keywordtype}{bool}\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \},}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}\ \textcolor{keyword}{const}\&)\ \{\}\ );}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00489\ }
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less>}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a51012c5184cc2c06f66ee432a3fc9f07}{erase\_with}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Less\ pred\ )}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{details_2defs_8h_a782b7f1736e3581e010449d710517c25}{CDS\_UNUSED}}(\ pred\ );}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ ellen\_bintree::details::compare<}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a0e4edbd33aad5489ef524d53cff9cfd6}{key\_type}},}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}},}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ opt::details::make\_comparator\_from\_less<Less>,}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcds_1_1intrusive_1_1_ellen_bin_tree_1_1node__traits}{node\_traits}}}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \ \ \ \ >\ compare\_functor;}
\DoxyCodeLine{00506\ }
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ erase\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ compare\_functor(),}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&,\ leaf\_node\ \textcolor{keyword}{const}\&\ )\ -\/>\ \textcolor{keywordtype}{bool}\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \},}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}\ \textcolor{keyword}{const}\&)\ \{\}\ );}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00511\ }
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a029dc4db3e3af91b14379207ef3ea04f}{erase}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Func\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ erase\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ node\_compare(),}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&,\ leaf\_node\ \textcolor{keyword}{const}\&\ )\ -\/>\ \textcolor{keywordtype}{bool}\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \},}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ );}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00538\ }
\DoxyCodeLine{00540\ }
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less,\ \textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae28491a1f7db8419303ce8eb8644084d}{erase\_with}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Less\ pred,\ Func\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{details_2defs_8h_a782b7f1736e3581e010449d710517c25}{CDS\_UNUSED}}(\ pred\ );}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ ellen\_bintree::details::compare<}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a0e4edbd33aad5489ef524d53cff9cfd6}{key\_type}},}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}},}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ opt::details::make\_comparator\_from\_less<Less>,}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcds_1_1intrusive_1_1_ellen_bin_tree_1_1node__traits}{node\_traits}}}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ >\ compare\_functor;}
\DoxyCodeLine{00557\ }
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ erase\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ compare\_functor(),}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&,\ leaf\_node\ \textcolor{keyword}{const}\&\ )\ -\/>\ \textcolor{keywordtype}{bool}\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \},}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ );}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00562\ }
\DoxyCodeLine{00564\ }
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a7b4b540395597d0a296ef01fd15568f3}{extract\_min}}()}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ extract\_min\_();}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00583\ }
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a66fef3313f95b887854de03dd7032140}{extract\_max}}()}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ extract\_max\_();}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00600\ }
\DoxyCodeLine{00602\ }
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q>}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a5ecfd262bfa423fa5d2060455cffd765}{extract}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}}\ )}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ extract\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}}\ );}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00616\ }
\DoxyCodeLine{00618\ }
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less>}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_af9bc89890f38d35520dc3572efc35a2e}{extract\_with}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Less\ pred\ )}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ extract\_with\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ pred\ );}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00630\ }
\DoxyCodeLine{00632\ }
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q>}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_aa99009d956e125f94c71e376151833cc}{contains}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00638\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ node\_compare()))\ \{}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindSuccess();}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00644\ }
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindFailed();}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q>}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{compiler_2gcc_2defs_8h_a40c9f703b39c9b3c4525fadd58120bdd}{CDS\_DEPRECATED}}(\textcolor{stringliteral}{"{}deprecated,\ use\ contains()"{}})}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2e58a04f767c910f217531738d876e6b}{find}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ const\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00652\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_aa99009d956e125f94c71e376151833cc}{contains}}(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}}\ );}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00656\ }
\DoxyCodeLine{00658\ }
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less>}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_aeaf7e2456e78a71ec749e7707f68da07}{contains}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Less\ pred\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00665\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{details_2defs_8h_a782b7f1736e3581e010449d710517c25}{CDS\_UNUSED}}(\ pred\ );}
\DoxyCodeLine{00667\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ ellen\_bintree::details::compare<}
\DoxyCodeLine{00668\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a0e4edbd33aad5489ef524d53cff9cfd6}{key\_type}},}
\DoxyCodeLine{00669\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}},}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ opt::details::make\_comparator\_from\_less<Less>,}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcds_1_1intrusive_1_1_ellen_bin_tree_1_1node__traits}{node\_traits}}}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \ \ \ \ \ \ >\ compare\_functor;}
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00674\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{00675\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ compare\_functor()))\ \{}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindSuccess();}
\DoxyCodeLine{00677\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindFailed();}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less>}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{compiler_2gcc_2defs_8h_a40c9f703b39c9b3c4525fadd58120bdd}{CDS\_DEPRECATED}}(\textcolor{stringliteral}{"{}deprecated,\ use\ contains()"{}})}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a775994d72c13a21568853d7fc589ffe0}{find\_with}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ const\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Less\ pred\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00686\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_aa99009d956e125f94c71e376151833cc}{contains}}(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ pred\ );}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00690\ }
\DoxyCodeLine{00692\ }
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2e58a04f767c910f217531738d876e6b}{find}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Func\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00711\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ find\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ );}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2e58a04f767c910f217531738d876e6b}{find}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Func\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00717\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ find\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ );}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00721\ }
\DoxyCodeLine{00723\ }
\DoxyCodeLine{00730\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less,\ \textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a775994d72c13a21568853d7fc589ffe0}{find\_with}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Less\ pred,\ Func\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00732\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00733\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ find\_with\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ pred,\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ );}
\DoxyCodeLine{00734\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00735\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00736\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less,\ \textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a775994d72c13a21568853d7fc589ffe0}{find\_with}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Less\ pred,\ Func\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00738\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ find\_with\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ pred,\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ );}
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{00742\ }
\DoxyCodeLine{00744\ }
\DoxyCodeLine{00752\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q>}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_afa3db45989ed4a47acc07e00b8457e5a}{get}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00754\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ get\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}}\ );}
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00757\ }
\DoxyCodeLine{00759\ }
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less>}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a65ef19bb11bb7dd9f624b2233d35f79c}{get\_with}}(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Less\ pred\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00768\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ get\_with\_(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ pred\ );}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00771\ }
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a860e17683db2ac387fcbbcb3477f674c}{empty}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00774\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_Root.m\_pLeft.load(\ memory\_model::memory\_order\_relaxed\ )-\/>is\_leaf();}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00777\ }
\DoxyCodeLine{00779\ }
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a5c0fe86f1ae1ff30607eecd18f64e258}{clear}}()}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ gp;}
\DoxyCodeLine{00794\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gp\ =\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a7b4b540395597d0a296ef01fd15568f3}{extract\_min}}();}
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \textcolor{keywordflow}{while}\ (\ gp\ );}
\DoxyCodeLine{00797\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00798\ }
\DoxyCodeLine{00800\ }
\DoxyCodeLine{00804\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a83c090226f67782b243718cfda4112cb}{unsafe\_clear}}()}
\DoxyCodeLine{00805\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\ \textcolor{keyword}{true}\ )\ \{}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ internal\_node\ *\ pParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ internal\_node\ *\ pGrandParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ \ \ \ \ pLeaf\ =\ \textcolor{keyword}{const\_cast<}internal\_node\ *\textcolor{keyword}{>}(\ \&m\_Root\ );}
\DoxyCodeLine{00810\ }
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ leftmost\ leaf}}
\DoxyCodeLine{00812\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\ pLeaf-\/>is\_internal())\ \{}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pGrandParent\ =\ pParent;}
\DoxyCodeLine{00814\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pParent\ =\ \textcolor{keyword}{static\_cast<}internal\_node\ *\textcolor{keyword}{>}(\ pLeaf\ );}
\DoxyCodeLine{00815\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pLeaf\ =\ pParent-\/>\mbox{\hyperlink{structcds_1_1intrusive_1_1ellen__bintree_1_1internal__node_a84e0e3c88b33d62d9e1085a0f7ac603a}{m\_pLeft}}.load(\ memory\_model::memory\_order\_relaxed\ );}
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00817\ }
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pLeaf-\/>infinite\_key())\ \{}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ tree\ is\ empty}}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00821\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Remove\ leftmost\ leaf\ and\ its\ parent\ node}}
\DoxyCodeLine{00824\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ pGrandParent\ );}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ pParent\ );}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ pLeaf-\/>is\_leaf());}
\DoxyCodeLine{00827\ }
\DoxyCodeLine{00828\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pGrandParent-\/>m\_pLeft.store(\ pParent-\/>m\_pRight.load(\ memory\_model::memory\_order\_relaxed\ ),\ memory\_model::memory\_order\_relaxed\ );}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ free\_leaf\_node(\ node\_traits::to\_value\_ptr(\ \textcolor{keyword}{static\_cast<}leaf\_node\ *\textcolor{keyword}{>}(\ pLeaf\ )));}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ free\_internal\_node(\ pParent\ );}
\DoxyCodeLine{00831\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00832\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00833\ }
\DoxyCodeLine{00835\ }
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a58a405d398a2468d54e4cc78f09c6a40}{size}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00844\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2aa7e98673d7e142f3f13b35d64834ba}{m\_ItemCounter}};}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00847\ }
\DoxyCodeLine{00849\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a232a85a36b89febab156ca8ea4307db1}{stat}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a441faf13760b1e05297587c3d591e029}{statistics}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00850\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00851\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}};}
\DoxyCodeLine{00852\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00853\ }
\DoxyCodeLine{00855\ }
\DoxyCodeLine{00858\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a49762e77217a7fb556a12ca7453b5ded}{check\_consistency}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00859\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00860\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a49762e77217a7fb556a12ca7453b5ded}{check\_consistency}}(\ \&m\_Root\ );}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00862\ }
\DoxyCodeLine{00863\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00864\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@cond}}
\DoxyCodeLine{00865\ }
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a49762e77217a7fb556a12ca7453b5ded}{check\_consistency}}(\ internal\_node\ \textcolor{keyword}{const}\ *\ pRoot\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00867\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00868\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ pLeft\ \ =\ pRoot-\/>m\_pLeft.load(\ atomics::memory\_order\_relaxed\ );}
\DoxyCodeLine{00869\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ pRight\ =\ pRoot-\/>m\_pRight.load(\ atomics::memory\_order\_relaxed\ );}
\DoxyCodeLine{00870\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ pLeft\ );}
\DoxyCodeLine{00871\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ pRight\ );}
\DoxyCodeLine{00872\ }
\DoxyCodeLine{00873\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ node\_compare()(\ *pLeft,\ *pRoot\ )\ <\ 0}
\DoxyCodeLine{00874\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ node\_compare()(\ *pRoot,\ *pRight\ )\ <=\ 0}
\DoxyCodeLine{00875\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ node\_compare()(\ *pLeft,\ *pRight\ )\ <\ 0\ )}
\DoxyCodeLine{00876\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00877\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ bRet\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00878\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pLeft-\/>is\_internal())}
\DoxyCodeLine{00879\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bRet\ =\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a49762e77217a7fb556a12ca7453b5ded}{check\_consistency}}(\ \textcolor{keyword}{static\_cast<}internal\_node\ *\textcolor{keyword}{>}(\ pLeft\ ));}
\DoxyCodeLine{00880\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ bRet\ );}
\DoxyCodeLine{00881\ }
\DoxyCodeLine{00882\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ bRet\ \&\&\ pRight-\/>is\_internal())}
\DoxyCodeLine{00883\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bRet\ =\ bRet\ \&\&\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a49762e77217a7fb556a12ca7453b5ded}{check\_consistency}}(\ \textcolor{keyword}{static\_cast<}internal\_node\ *\textcolor{keyword}{>}(\ pRight\ ));}
\DoxyCodeLine{00884\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ bRet\ );}
\DoxyCodeLine{00885\ }
\DoxyCodeLine{00886\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ bRet;}
\DoxyCodeLine{00887\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00888\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00889\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00890\ }
\DoxyCodeLine{00891\ \ \ \ \ \ \ \ \ tree\_node\ *\ protect\_child\_node(\ search\_result\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ internal\_node\ *\ pParent,\ \textcolor{keywordtype}{bool}\ bRight,\ update\_ptr\ updParent\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00892\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00893\ \ \ \ \ \ \ \ \ retry:}
\DoxyCodeLine{00894\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ =\ bRight}
\DoxyCodeLine{00895\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.protect(\ search\_result::Guard\_Leaf,\ pParent-\/>m\_pRight,}
\DoxyCodeLine{00896\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\ tree\_node\ *\ pn\ )\ -\/>\ internal\_node*\ \{\ return\ static\_cast<internal\_node\ *>(pn);\})}
\DoxyCodeLine{00897\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.protect(\ search\_result::Guard\_Leaf,\ pParent-\/>m\_pLeft,}
\DoxyCodeLine{00898\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\ tree\_node\ *\ pn\ )\ -\/>\ internal\_node*\ \{\ return\ static\_cast<internal\_node\ *>(pn);\});}
\DoxyCodeLine{00899\ }
\DoxyCodeLine{00900\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ we\ use\ member\ hook,\ data\ node\ pointer\ !=\ internal\ node\ pointer}}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ So,\ we\ need\ protect\ the\ child\ twice:\ as\ internal\ node\ and\ as\ data\ node}}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ then\ analyze\ what\ kind\ of\ node\ we\ have}}
\DoxyCodeLine{00903\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ pVal\ =\ bRight}
\DoxyCodeLine{00904\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.protect(\ search\_result::Guard\_temporary,\ pParent-\/>m\_pRight,}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\ tree\_node\ *\ pn\ )\ -\/>\ value\_type*\ \{\ return\ node\_traits::to\_value\_ptr(\ static\_cast<leaf\_node\ *>(pn));\}\ )}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.protect(\ search\_result::Guard\_temporary,\ pParent-\/>m\_pLeft,}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\ tree\_node\ *\ pn\ )\ -\/>\ value\_type*\ \{\ return\ node\_traits::to\_value\_ptr(\ static\_cast<leaf\_node\ *>(pn));\}\ );}
\DoxyCodeLine{00908\ }
\DoxyCodeLine{00909\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ child\ node\ is\ guarded}}
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ See\ whether\ pParent-\/>m\_pUpdate\ has\ not\ been\ changed}}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pParent-\/>m\_pUpdate.load(\ memory\_model::memory\_order\_acquire\ )\ !=\ updParent\ )\ \{}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ update\ has\ been\ changed\ -\/\ returns\ nullptr\ as\ a\ flag\ to\ search\ retry}}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00914\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00915\ }
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ !=\ pVal\ )}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ retry;}
\DoxyCodeLine{00918\ }
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ \&\&\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}-\/>is\_leaf())}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.assign(\ search\_result::Guard\_Leaf,\ node\_traits::to\_value\_ptr(\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\textcolor{keyword}{>}(\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}\ )));}
\DoxyCodeLine{00921\ }
\DoxyCodeLine{00922\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.clear(\ search\_result::Guard\_temporary\ );}
\DoxyCodeLine{00923\ }
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}};}
\DoxyCodeLine{00925\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00926\ }
\DoxyCodeLine{00927\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ update\_ptr\ search\_protect\_update(\ search\_result\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ atomics::atomic<update\_ptr>\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}\ )}
\DoxyCodeLine{00928\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00929\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.protect(\ search\_result::Guard\_updParent,\ \mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}},\ [](update\_ptr\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\ -\/>\ update\_desc*\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}}.ptr();\ \});}
\DoxyCodeLine{00930\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00931\ }
\DoxyCodeLine{00932\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ KeyValue,\ \textcolor{keyword}{typename}\ Compare>}
\DoxyCodeLine{00933\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ search\_result\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ KeyValue\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Compare\ cmp\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00934\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\ pParent;}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\ pGrandParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00937\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ \ \ \ \ \ updParent;}
\DoxyCodeLine{00938\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ \ \ \ \ \ updGrandParent;}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ bRightLeaf;}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ bRightParent\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00941\ }
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ nCmp\ =\ 0;}
\DoxyCodeLine{00943\ }
\DoxyCodeLine{00944\ \ \ \ \ \ \ \ \ retry:}
\DoxyCodeLine{00945\ \ \ \ \ \ \ \ \ \ \ \ \ pParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00946\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//pGrandParent\ =\ nullptr;}}
\DoxyCodeLine{00947\ \ \ \ \ \ \ \ \ \ \ \ \ updParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00948\ \ \ \ \ \ \ \ \ \ \ \ \ bRightLeaf\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00949\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ pLeaf\ =\ \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\textcolor{keyword}{>}(\ \&m\_Root\ );}
\DoxyCodeLine{00950\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\ pLeaf-\/>is\_internal())\ \{}
\DoxyCodeLine{00951\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.copy(\ search\_result::Guard\_GrandParent,\ search\_result::Guard\_Parent\ );}
\DoxyCodeLine{00952\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pGrandParent\ =\ pParent;}
\DoxyCodeLine{00953\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.copy(\ search\_result::Guard\_Parent,\ search\_result::Guard\_Leaf\ );}
\DoxyCodeLine{00954\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pParent\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\textcolor{keyword}{>}(\ pLeaf\ );}
\DoxyCodeLine{00955\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bRightParent\ =\ bRightLeaf;}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.copy(\ search\_result::Guard\_updGrandParent,\ search\_result::Guard\_updParent\ );}
\DoxyCodeLine{00957\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ updGrandParent\ =\ updParent;}
\DoxyCodeLine{00958\ }
\DoxyCodeLine{00959\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ updParent\ =\ search\_protect\_update(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ pParent-\/>m\_pUpdate\ );}
\DoxyCodeLine{00960\ }
\DoxyCodeLine{00961\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\ updParent.bits())\ \{}
\DoxyCodeLine{00962\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ update\_desc::DFlag:}
\DoxyCodeLine{00963\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ update\_desc::Mark:}
\DoxyCodeLine{00964\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onSearchRetry();}
\DoxyCodeLine{00965\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ retry;}
\DoxyCodeLine{00966\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00967\ }
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nCmp\ =\ cmp(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ *pParent\ );}
\DoxyCodeLine{00969\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bRightLeaf\ =\ nCmp\ >=\ 0;}
\DoxyCodeLine{00970\ }
\DoxyCodeLine{00971\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pLeaf\ =\ protect\_child\_node(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ pParent,\ bRightLeaf,\ updParent\ );}
\DoxyCodeLine{00972\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !pLeaf\ )\ \{}
\DoxyCodeLine{00973\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onSearchRetry();}
\DoxyCodeLine{00974\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ retry;}
\DoxyCodeLine{00975\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00976\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00977\ }
\DoxyCodeLine{00978\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ pLeaf-\/>is\_leaf());}
\DoxyCodeLine{00979\ \ \ \ \ \ \ \ \ \ \ \ \ nCmp\ =\ cmp(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ *\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\textcolor{keyword}{>}(pLeaf));}
\DoxyCodeLine{00980\ }
\DoxyCodeLine{00981\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent\ \ \ \ =\ pGrandParent;}
\DoxyCodeLine{00982\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent\ \ \ \ \ \ \ \ \ =\ pParent;}
\DoxyCodeLine{00983\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\textcolor{keyword}{>}(\ pLeaf\ );}
\DoxyCodeLine{00984\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent\ \ \ \ \ \ \ =\ updParent;}
\DoxyCodeLine{00985\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent\ \ =\ updGrandParent;}
\DoxyCodeLine{00986\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightParent\ \ \ \ =\ bRightParent;}
\DoxyCodeLine{00987\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightLeaf\ \ \ \ \ \ =\ bRightLeaf;}
\DoxyCodeLine{00988\ }
\DoxyCodeLine{00989\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ nCmp\ ==\ 0;}
\DoxyCodeLine{00990\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00991\ }
\DoxyCodeLine{00992\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ search\_min(\ search\_result\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00993\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00994\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\ pParent;}
\DoxyCodeLine{00995\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\ pGrandParent;}
\DoxyCodeLine{00996\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ \ \ \ \ \ updParent;}
\DoxyCodeLine{00997\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ \ \ \ \ \ updGrandParent;}
\DoxyCodeLine{00998\ }
\DoxyCodeLine{00999\ \ \ \ \ \ \ \ \ retry:}
\DoxyCodeLine{01000\ \ \ \ \ \ \ \ \ \ \ \ \ pParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01001\ \ \ \ \ \ \ \ \ \ \ \ \ pGrandParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01002\ \ \ \ \ \ \ \ \ \ \ \ \ updParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01003\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ \ \ \ \ pLeaf\ =\ \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\textcolor{keyword}{>}(\ \&m\_Root\ );}
\DoxyCodeLine{01004\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\ pLeaf-\/>is\_internal())\ \{}
\DoxyCodeLine{01005\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.copy(\ search\_result::Guard\_GrandParent,\ search\_result::Guard\_Parent\ );}
\DoxyCodeLine{01006\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pGrandParent\ =\ pParent;}
\DoxyCodeLine{01007\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.copy(\ search\_result::Guard\_Parent,\ search\_result::Guard\_Leaf\ );}
\DoxyCodeLine{01008\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pParent\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\textcolor{keyword}{>}(\ pLeaf\ );}
\DoxyCodeLine{01009\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.copy(\ search\_result::Guard\_updGrandParent,\ search\_result::Guard\_updParent\ );}
\DoxyCodeLine{01010\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ updGrandParent\ =\ updParent;}
\DoxyCodeLine{01011\ }
\DoxyCodeLine{01012\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ updParent\ =\ search\_protect\_update(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ pParent-\/>m\_pUpdate\ );}
\DoxyCodeLine{01013\ }
\DoxyCodeLine{01014\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\ updParent.bits())\ \{}
\DoxyCodeLine{01015\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ update\_desc::DFlag:}
\DoxyCodeLine{01016\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ update\_desc::Mark:}
\DoxyCodeLine{01017\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onSearchRetry();}
\DoxyCodeLine{01018\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ retry;}
\DoxyCodeLine{01019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01020\ }
\DoxyCodeLine{01021\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pLeaf\ =\ protect\_child\_node(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ pParent,\ \textcolor{keyword}{false},\ updParent\ );}
\DoxyCodeLine{01022\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !pLeaf\ )\ \{}
\DoxyCodeLine{01023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onSearchRetry();}
\DoxyCodeLine{01024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ retry;}
\DoxyCodeLine{01025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01026\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01027\ }
\DoxyCodeLine{01028\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pLeaf-\/>infinite\_key())}
\DoxyCodeLine{01029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01030\ }
\DoxyCodeLine{01031\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent\ \ \ \ =\ pGrandParent;}
\DoxyCodeLine{01032\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent\ \ \ \ \ \ \ \ \ =\ pParent;}
\DoxyCodeLine{01033\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ pLeaf-\/>is\_leaf());}
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\textcolor{keyword}{>}(\ pLeaf\ );}
\DoxyCodeLine{01035\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent\ \ \ \ \ \ \ =\ updParent;}
\DoxyCodeLine{01036\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent\ \ =\ updGrandParent;}
\DoxyCodeLine{01037\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightParent\ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01038\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightLeaf\ \ \ \ \ \ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01039\ }
\DoxyCodeLine{01040\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01041\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01042\ }
\DoxyCodeLine{01043\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ search\_max(\ search\_result\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01044\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\ pParent;}
\DoxyCodeLine{01046\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\ pGrandParent;}
\DoxyCodeLine{01047\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ \ \ \ \ \ updParent;}
\DoxyCodeLine{01048\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ \ \ \ \ \ updGrandParent;}
\DoxyCodeLine{01049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ bRightLeaf;}
\DoxyCodeLine{01050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ bRightParent\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01051\ }
\DoxyCodeLine{01052\ \ \ \ \ \ \ \ \ retry:}
\DoxyCodeLine{01053\ \ \ \ \ \ \ \ \ \ \ \ \ pParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01054\ \ \ \ \ \ \ \ \ \ \ \ \ pGrandParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01055\ \ \ \ \ \ \ \ \ \ \ \ \ updParent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01056\ \ \ \ \ \ \ \ \ \ \ \ \ bRightLeaf\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01057\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ pLeaf\ =\ \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\textcolor{keyword}{>}(\ \&m\_Root\ );}
\DoxyCodeLine{01058\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\ pLeaf-\/>is\_internal())\ \{}
\DoxyCodeLine{01059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.copy(\ search\_result::Guard\_GrandParent,\ search\_result::Guard\_Parent\ );}
\DoxyCodeLine{01060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pGrandParent\ =\ pParent;}
\DoxyCodeLine{01061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.copy(\ search\_result::Guard\_Parent,\ search\_result::Guard\_Leaf\ );}
\DoxyCodeLine{01062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pParent\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\textcolor{keyword}{>}(\ pLeaf\ );}
\DoxyCodeLine{01063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bRightParent\ =\ bRightLeaf;}
\DoxyCodeLine{01064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.copy(\ search\_result::Guard\_updGrandParent,\ search\_result::Guard\_updParent\ );}
\DoxyCodeLine{01065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ updGrandParent\ =\ updParent;}
\DoxyCodeLine{01066\ }
\DoxyCodeLine{01067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ updParent\ =\ search\_protect\_update(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ pParent-\/>m\_pUpdate\ );}
\DoxyCodeLine{01068\ }
\DoxyCodeLine{01069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\ updParent.bits())\ \{}
\DoxyCodeLine{01070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ update\_desc::DFlag:}
\DoxyCodeLine{01071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ update\_desc::Mark:}
\DoxyCodeLine{01072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onSearchRetry();}
\DoxyCodeLine{01073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ retry;}
\DoxyCodeLine{01074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01075\ }
\DoxyCodeLine{01076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bRightLeaf\ =\ !pParent-\/>infinite\_key();}
\DoxyCodeLine{01077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pLeaf\ =\ protect\_child\_node(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ pParent,\ bRightLeaf,\ updParent\ );}
\DoxyCodeLine{01078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !pLeaf\ )\ \{}
\DoxyCodeLine{01079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onSearchRetry();}
\DoxyCodeLine{01080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ retry;}
\DoxyCodeLine{01081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01082\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01083\ }
\DoxyCodeLine{01084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pLeaf-\/>infinite\_key())}
\DoxyCodeLine{01085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01086\ }
\DoxyCodeLine{01087\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent\ \ \ \ =\ pGrandParent;}
\DoxyCodeLine{01088\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent\ \ \ \ \ \ \ \ \ =\ pParent;}
\DoxyCodeLine{01089\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ pLeaf-\/>is\_leaf());}
\DoxyCodeLine{01090\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ \ \ \ \ \ \ \ \ \ \ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\textcolor{keyword}{>}(\ pLeaf\ );}
\DoxyCodeLine{01091\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent\ \ \ \ \ \ \ =\ updParent;}
\DoxyCodeLine{01092\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent\ \ =\ updGrandParent;}
\DoxyCodeLine{01093\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightParent\ \ \ \ =\ bRightParent;}
\DoxyCodeLine{01094\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightLeaf\ \ \ \ \ \ =\ bRightLeaf;}
\DoxyCodeLine{01095\ }
\DoxyCodeLine{01096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01097\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01098\ }
\DoxyCodeLine{01099\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{01100\ \textcolor{comment}{\ \ \ \ \ \ \ \ void\ help(\ update\_ptr\ pUpdate\ )}}
\DoxyCodeLine{01101\ \textcolor{comment}{\ \ \ \ \ \ \ \ \{}}
\DoxyCodeLine{01102\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ //\ pUpdate\ must\ be\ guarded!}}
\DoxyCodeLine{01103\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ switch\ (\ pUpdate.bits())\ \{}}
\DoxyCodeLine{01104\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ case\ update\_desc::IFlag:}}
\DoxyCodeLine{01105\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ help\_insert(\ pUpdate.ptr());}}
\DoxyCodeLine{01106\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_Stat.onHelpInsert();}}
\DoxyCodeLine{01107\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{01108\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ case\ update\_desc::DFlag:}}
\DoxyCodeLine{01109\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ help\_delete(\ pUpdate.ptr());}}
\DoxyCodeLine{01110\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_Stat.onHelpDelete();}}
\DoxyCodeLine{01111\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{01112\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ case\ update\_desc::Mark:}}
\DoxyCodeLine{01113\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //m\_Stat.onHelpMark();}}
\DoxyCodeLine{01114\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //help\_marked(\ pUpdate.ptr());}}
\DoxyCodeLine{01115\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{01116\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{01117\ \textcolor{comment}{\ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{01118\ \textcolor{comment}{\ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{01119\ }
\DoxyCodeLine{01120\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ help\_insert(\ update\_desc\ *\ pOp\ )}
\DoxyCodeLine{01121\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01122\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ pOp\ must\ be\ guarded}}
\DoxyCodeLine{01123\ }
\DoxyCodeLine{01124\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ pLeaf\ =\ \textcolor{keyword}{static\_cast<}tree\_node\ *\textcolor{keyword}{>}(\ pOp-\/>iInfo.pLeaf\ );}
\DoxyCodeLine{01125\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pOp-\/>iInfo.bRightLeaf\ )\ \{}
\DoxyCodeLine{01126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{details_2defs_8h_a00d6647d66a58b0ff13db1a5f47ffd27}{CDS\_VERIFY}}(\ pOp-\/>iInfo.pParent-\/>m\_pRight.compare\_exchange\_strong(\ pLeaf,\ \textcolor{keyword}{static\_cast<}tree\_node\ *\textcolor{keyword}{>}(\ pOp-\/>iInfo.pNew\ ),}
\DoxyCodeLine{01127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_release,\ atomics::memory\_order\_relaxed\ ));}
\DoxyCodeLine{01128\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01129\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{details_2defs_8h_a00d6647d66a58b0ff13db1a5f47ffd27}{CDS\_VERIFY}}(\ pOp-\/>iInfo.pParent-\/>m\_pLeft.compare\_exchange\_strong(\ pLeaf,\ \textcolor{keyword}{static\_cast<}tree\_node\ *\textcolor{keyword}{>}(\ pOp-\/>iInfo.pNew\ ),}
\DoxyCodeLine{01131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_release,\ atomics::memory\_order\_relaxed\ ));}
\DoxyCodeLine{01132\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01133\ }
\DoxyCodeLine{01134\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Unflag\ parent}}
\DoxyCodeLine{01135\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ cur(\ pOp,\ update\_desc::IFlag\ );}
\DoxyCodeLine{01136\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{details_2defs_8h_a00d6647d66a58b0ff13db1a5f47ffd27}{CDS\_VERIFY}}(\ pOp-\/>iInfo.pParent-\/>m\_pUpdate.compare\_exchange\_strong(\ cur,\ pOp-\/>iInfo.pParent-\/>null\_update\_desc(),}
\DoxyCodeLine{01137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_release,\ atomics::memory\_order\_relaxed\ ));}
\DoxyCodeLine{01138\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01139\ }
\DoxyCodeLine{01140\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ check\_delete\_precondition(\ search\_result\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01141\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{01142\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ precondition:\ all\ member\ of\ res\ must\ be\ guarded}}
\DoxyCodeLine{01143\ }
\DoxyCodeLine{01144\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent\ !=\ \textcolor{keyword}{nullptr}\ );}
\DoxyCodeLine{01145\ }
\DoxyCodeLine{01146\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent-\/>get\_child(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightParent,\ memory\_model::memory\_order\_relaxed\ ))\ ==\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent}
\DoxyCodeLine{01147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\textcolor{keyword}{>}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent-\/>get\_child(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightLeaf,\ memory\_model::memory\_order\_relaxed\ ))\ ==\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf;}
\DoxyCodeLine{01148\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01149\ }
\DoxyCodeLine{01150\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ help\_delete(\ update\_desc\ *\ pOp\ )}
\DoxyCodeLine{01151\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01152\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ precondition:\ pOp\ must\ be\ guarded}}
\DoxyCodeLine{01153\ }
\DoxyCodeLine{01154\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ pUpdate(\ pOp-\/>dInfo.pUpdateParent\ );}
\DoxyCodeLine{01155\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ pMark(\ pOp,\ update\_desc::Mark\ );}
\DoxyCodeLine{01156\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pOp-\/>dInfo.pParent-\/>m\_pUpdate.compare\_exchange\_strong(\ pUpdate,\ pMark,\ \textcolor{comment}{//\ *}}
\DoxyCodeLine{01157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_acquire,\ atomics::memory\_order\_relaxed\ ))}
\DoxyCodeLine{01158\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ help\_marked(\ pOp\ );}
\DoxyCodeLine{01160\ }
\DoxyCodeLine{01161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retire\_node(\ pOp-\/>dInfo.pParent\ );}
\DoxyCodeLine{01162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retire\_node(\ pOp-\/>dInfo.pLeaf\ );}
\DoxyCodeLine{01163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retire\_update\_desc(\ pOp\ );}
\DoxyCodeLine{01164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01165\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01166\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\ pUpdate\ ==\ pMark\ )\ \{}
\DoxyCodeLine{01167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ some\ other\ thread\ is\ processing\ help\_marked()}}
\DoxyCodeLine{01168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ help\_marked(\ pOp\ );}
\DoxyCodeLine{01169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onHelpMark();}
\DoxyCodeLine{01170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01171\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01172\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Undo\ grandparent\ dInfo}}
\DoxyCodeLine{01174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ pDel(\ pOp,\ update\_desc::DFlag\ );}
\DoxyCodeLine{01175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pOp-\/>dInfo.pGrandParent-\/>m\_pUpdate.compare\_exchange\_strong(\ pDel,\ pOp-\/>dInfo.pGrandParent-\/>null\_update\_desc(),}
\DoxyCodeLine{01176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_release,\ atomics::memory\_order\_relaxed\ ))}
\DoxyCodeLine{01177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retire\_update\_desc(\ pOp\ );}
\DoxyCodeLine{01179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01181\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01182\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01183\ }
\DoxyCodeLine{01184\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ tree\_node\ *\ protect\_sibling(\ \textcolor{keyword}{typename}\ gc::Guard\&\ guard,\ atomics::atomic<tree\_node\ *>\&\ sibling\ )}
\DoxyCodeLine{01185\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01186\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ pSibling\ =\ guard.protect(\ sibling,\ [](tree\_node\ *\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\ -\/>\ internal\_node*\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a4803d95a9a31c948f2a4cf14f4a6b979}{internal\_node}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}});\ \}\ );}
\DoxyCodeLine{01187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pSibling-\/>is\_leaf())}
\DoxyCodeLine{01188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ guard.assign(\ node\_traits::to\_value\_ptr(\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\textcolor{keyword}{>}(\ pSibling\ )));}
\DoxyCodeLine{01189\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pSibling;}
\DoxyCodeLine{01190\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01191\ }
\DoxyCodeLine{01192\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ help\_marked(\ update\_desc\ *\ pOp\ )}
\DoxyCodeLine{01193\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01194\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ precondition:\ pOp\ must\ be\ guarded}}
\DoxyCodeLine{01195\ }
\DoxyCodeLine{01196\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ pParent\ =\ pOp-\/>dInfo.pParent;}
\DoxyCodeLine{01197\ }
\DoxyCodeLine{01198\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ gc::Guard\ guard;}
\DoxyCodeLine{01199\ \ \ \ \ \ \ \ \ \ \ \ \ tree\_node\ *\ pOpposite\ =\ protect\_sibling(\ guard,\ pOp-\/>dInfo.bRightLeaf\ ?\ pOp-\/>dInfo.pParent-\/>m\_pLeft\ :\ pOp-\/>dInfo.pParent-\/>m\_pRight\ );}
\DoxyCodeLine{01200\ }
\DoxyCodeLine{01201\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pOp-\/>dInfo.bRightParent\ )\ \{}
\DoxyCodeLine{01202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{details_2defs_8h_a00d6647d66a58b0ff13db1a5f47ffd27}{CDS\_VERIFY}}(\ pOp-\/>dInfo.pGrandParent-\/>m\_pRight.compare\_exchange\_strong(\ pParent,\ pOpposite,}
\DoxyCodeLine{01203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_release,\ atomics::memory\_order\_relaxed\ ));}
\DoxyCodeLine{01204\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01205\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{details_2defs_8h_a00d6647d66a58b0ff13db1a5f47ffd27}{CDS\_VERIFY}}(\ pOp-\/>dInfo.pGrandParent-\/>m\_pLeft.compare\_exchange\_strong(\ pParent,\ pOpposite,}
\DoxyCodeLine{01207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_release,\ atomics::memory\_order\_relaxed\ ));}
\DoxyCodeLine{01208\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01209\ }
\DoxyCodeLine{01210\ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ upd(\ pOp,\ update\_desc::DFlag\ );}
\DoxyCodeLine{01211\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{details_2defs_8h_a00d6647d66a58b0ff13db1a5f47ffd27}{CDS\_VERIFY}}(\ pOp-\/>dInfo.pGrandParent-\/>m\_pUpdate.compare\_exchange\_strong(\ upd,\ pOp-\/>dInfo.pGrandParent-\/>null\_update\_desc(),}
\DoxyCodeLine{01212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_release,\ atomics::memory\_order\_relaxed\ ));}
\DoxyCodeLine{01213\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01214\ }
\DoxyCodeLine{01215\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ try\_insert(\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}}\&\ val,\ internal\_node\ *\ pNewInternal,\ search\_result\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ )}
\DoxyCodeLine{01216\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01217\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.bits()\ ==\ update\_desc::Clean\ );}
\DoxyCodeLine{01218\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf-\/>is\_leaf());}
\DoxyCodeLine{01219\ }
\DoxyCodeLine{01220\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ search\ result}}
\DoxyCodeLine{01221\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent-\/>get\_child(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightLeaf,\ memory\_model::memory\_order\_acquire\ )\ ==\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ )\ \{}
\DoxyCodeLine{01222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a5eaf0717672e2462d26eadd37b056201}{leaf\_node}}\ *\ pNewLeaf\ =\ node\_traits::to\_node\_ptr(\ val\ );}
\DoxyCodeLine{01223\ }
\DoxyCodeLine{01224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ nCmp\ =\ node\_compare()(val,\ *\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf);}
\DoxyCodeLine{01225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ nCmp\ <\ 0\ )\ \{}
\DoxyCodeLine{01226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent\ )\ \{}
\DoxyCodeLine{01227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ !\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf-\/>infinite\_key());}
\DoxyCodeLine{01228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal-\/>infinite\_key(\ 0\ );}
\DoxyCodeLine{01229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a1b7c67ef9556e7d12546997c9cd527e0}{key\_extractor}}()(pNewInternal-\/>m\_Key,\ *node\_traits::to\_value\_ptr(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ ));}
\DoxyCodeLine{01230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf-\/>infinite\_key()\ ==\ tree\_node::key\_infinite1\ );}
\DoxyCodeLine{01233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal-\/>infinite\_key(\ 1\ );}
\DoxyCodeLine{01234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal-\/>m\_pLeft.store(\ \textcolor{keyword}{static\_cast<}tree\_node\ *\textcolor{keyword}{>}(pNewLeaf),\ memory\_model::memory\_order\_relaxed\ );}
\DoxyCodeLine{01236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal-\/>m\_pRight.store(\ \textcolor{keyword}{static\_cast<}tree\_node\ *\textcolor{keyword}{>}(\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf),\ memory\_model::memory\_order\_relaxed\ );}
\DoxyCodeLine{01237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ !\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf-\/>is\_internal());}
\DoxyCodeLine{01240\ }
\DoxyCodeLine{01241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal-\/>infinite\_key(\ 0\ );}
\DoxyCodeLine{01242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a1b7c67ef9556e7d12546997c9cd527e0}{key\_extractor}}()(pNewInternal-\/>m\_Key,\ val);}
\DoxyCodeLine{01243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal-\/>m\_pLeft.store(\ \textcolor{keyword}{static\_cast<}tree\_node\ *\textcolor{keyword}{>}(\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf),\ memory\_model::memory\_order\_relaxed\ );}
\DoxyCodeLine{01244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pNewInternal-\/>m\_pRight.store(\ \textcolor{keyword}{static\_cast<}tree\_node\ *\textcolor{keyword}{>}(pNewLeaf),\ memory\_model::memory\_order\_relaxed\ );}
\DoxyCodeLine{01245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ !\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf-\/>infinite\_key());}
\DoxyCodeLine{01246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01247\ }
\DoxyCodeLine{01248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ gc::Guard\ guard;}
\DoxyCodeLine{01249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a3dc4be7577e7b5ed21cdb4993275c188}{update\_desc}}\ *\ pOp\ =\ alloc\_update\_desc();}
\DoxyCodeLine{01250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ guard.assign(\ pOp\ );}
\DoxyCodeLine{01251\ }
\DoxyCodeLine{01252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>iInfo.pParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent;}
\DoxyCodeLine{01253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>iInfo.pNew\ =\ pNewInternal;}
\DoxyCodeLine{01254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>iInfo.pLeaf\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf;}
\DoxyCodeLine{01255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>iInfo.bRightLeaf\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightLeaf;}
\DoxyCodeLine{01256\ }
\DoxyCodeLine{01257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ updCur(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.ptr());}
\DoxyCodeLine{01258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent-\/>m\_pUpdate.compare\_exchange\_strong(\ updCur,\ update\_ptr(\ pOp,\ update\_desc::IFlag\ ),}
\DoxyCodeLine{01259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_acq\_rel,\ atomics::memory\_order\_relaxed\ ))\ \{}
\DoxyCodeLine{01260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ do\ insert}}
\DoxyCodeLine{01261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ help\_insert(\ pOp\ );}
\DoxyCodeLine{01262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retire\_update\_desc(\ pOp\ );}
\DoxyCodeLine{01263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onUpdateDescDeleted();}
\DoxyCodeLine{01267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ free\_update\_desc(\ pOp\ );}
\DoxyCodeLine{01268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01269\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01270\ }
\DoxyCodeLine{01271\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01272\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01273\ }
\DoxyCodeLine{01274\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Compare,\ \textcolor{keyword}{typename}\ Equal,\ \textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{01275\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ erase\_(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ val,\ Compare\ cmp,\ Equal\ eq,\ Func\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )}
\DoxyCodeLine{01276\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01277\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a3dc4be7577e7b5ed21cdb4993275c188}{update\_desc}}\ *\ pOp\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01278\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{01279\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_af2a6773346ab6a297e3f8924b6baabb2}{back\_off}}\ bkoff;}
\DoxyCodeLine{01280\ }
\DoxyCodeLine{01281\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;;\ )\ \{}
\DoxyCodeLine{01282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ val,\ cmp\ )\ ||\ !\mbox{\hyperlink{namespacedoctest_1_1detail_1_1binary_assert_comparison_a2117cafa5b007d26f2e0988f3a081569af644d2e3091c342ab78b12da1fcb06dc}{eq}}(\ val,\ *\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ ))\ \{}
\DoxyCodeLine{01283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pOp\ )}
\DoxyCodeLine{01284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retire\_update\_desc(\ pOp\ );}
\DoxyCodeLine{01285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onEraseFailed();}
\DoxyCodeLine{01286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01288\ }
\DoxyCodeLine{01289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent.bits()\ ==\ update\_desc::Clean\ \&\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.bits()\ ==\ update\_desc::Clean\ )\ \{}
\DoxyCodeLine{01290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !pOp\ )}
\DoxyCodeLine{01291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp\ =\ alloc\_update\_desc();}
\DoxyCodeLine{01292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ check\_delete\_precondition(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ ))\ \{}
\DoxyCodeLine{01293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ gc::Guard\ guard;}
\DoxyCodeLine{01294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ guard.assign(\ pOp\ );}
\DoxyCodeLine{01295\ }
\DoxyCodeLine{01296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pGrandParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent;}
\DoxyCodeLine{01297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent;}
\DoxyCodeLine{01298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pLeaf\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf;}
\DoxyCodeLine{01299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pUpdateParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.ptr();}
\DoxyCodeLine{01300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.bRightParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightParent;}
\DoxyCodeLine{01301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.bRightLeaf\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightLeaf;}
\DoxyCodeLine{01302\ }
\DoxyCodeLine{01303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ updGP(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent.ptr());}
\DoxyCodeLine{01304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent-\/>m\_pUpdate.compare\_exchange\_strong(\ updGP,\ update\_ptr(\ pOp,\ update\_desc::DFlag\ ),}
\DoxyCodeLine{01305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_acquire,\ atomics::memory\_order\_relaxed\ ))\ \{}
\DoxyCodeLine{01306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ help\_delete(\ pOp\ ))\ \{}
\DoxyCodeLine{01307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ res.pLeaf\ is\ not\ deleted\ yet\ since\ it\ is\ guarded}}
\DoxyCodeLine{01308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}(\ *node\_traits::to\_value\_ptr(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ ));}
\DoxyCodeLine{01309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01315\ }
\DoxyCodeLine{01316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bkoff();}
\DoxyCodeLine{01317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onEraseRetry();}
\DoxyCodeLine{01318\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01319\ }
\DoxyCodeLine{01320\ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2aa7e98673d7e142f3f13b35d64834ba}{m\_ItemCounter}};}
\DoxyCodeLine{01321\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onEraseSuccess();}
\DoxyCodeLine{01322\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01323\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01324\ }
\DoxyCodeLine{01325\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Compare>}
\DoxyCodeLine{01326\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ extract\_item(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Compare\ cmp\ )}
\DoxyCodeLine{01327\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01328\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a3dc4be7577e7b5ed21cdb4993275c188}{update\_desc}}\ *\ pOp\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01329\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{01330\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_af2a6773346ab6a297e3f8924b6baabb2}{back\_off}}\ bkoff;}
\DoxyCodeLine{01331\ }
\DoxyCodeLine{01332\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;;\ )\ \{}
\DoxyCodeLine{01333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !\mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ cmp\ ))\ \{}
\DoxyCodeLine{01334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pOp\ )}
\DoxyCodeLine{01335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retire\_update\_desc(\ pOp\ );}
\DoxyCodeLine{01336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onEraseFailed();}
\DoxyCodeLine{01337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}();}
\DoxyCodeLine{01338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01339\ }
\DoxyCodeLine{01340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent.bits()\ ==\ update\_desc::Clean\ \&\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.bits()\ ==\ update\_desc::Clean\ )\ \{}
\DoxyCodeLine{01341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !pOp\ )}
\DoxyCodeLine{01342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp\ =\ alloc\_update\_desc();}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ check\_delete\_precondition(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ ))\ \{}
\DoxyCodeLine{01344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ gc::Guard\ guard;}
\DoxyCodeLine{01345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ guard.assign(\ pOp\ );}
\DoxyCodeLine{01346\ }
\DoxyCodeLine{01347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pGrandParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent;}
\DoxyCodeLine{01348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent;}
\DoxyCodeLine{01349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pLeaf\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf;}
\DoxyCodeLine{01350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pUpdateParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.ptr();}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.bRightParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightParent;}
\DoxyCodeLine{01352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.bRightLeaf\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightLeaf;}
\DoxyCodeLine{01353\ }
\DoxyCodeLine{01354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ updGP(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent.ptr());}
\DoxyCodeLine{01355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent-\/>m\_pUpdate.compare\_exchange\_strong(\ updGP,\ update\_ptr(\ pOp,\ update\_desc::DFlag\ ),}
\DoxyCodeLine{01356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_acquire,\ atomics::memory\_order\_relaxed\ ))\ \{}
\DoxyCodeLine{01357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ help\_delete(\ pOp\ ))}
\DoxyCodeLine{01358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01363\ }
\DoxyCodeLine{01364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bkoff();}
\DoxyCodeLine{01365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onEraseRetry();}
\DoxyCodeLine{01366\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01367\ }
\DoxyCodeLine{01368\ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2aa7e98673d7e142f3f13b35d64834ba}{m\_ItemCounter}};}
\DoxyCodeLine{01369\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onEraseSuccess();}
\DoxyCodeLine{01370\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.release(\ search\_result::Guard\_Leaf\ ));}
\DoxyCodeLine{01371\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01372\ }
\DoxyCodeLine{01373\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q>}
\DoxyCodeLine{01374\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ extract\_(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}}\ )}
\DoxyCodeLine{01375\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01376\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ extract\_item(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ node\_compare());}
\DoxyCodeLine{01377\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01378\ }
\DoxyCodeLine{01379\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less>}
\DoxyCodeLine{01380\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ extract\_with\_(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ Less\ \textcolor{comment}{/*pred*/}\ )}
\DoxyCodeLine{01381\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01382\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ ellen\_bintree::details::compare<}
\DoxyCodeLine{01383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a0e4edbd33aad5489ef524d53cff9cfd6}{key\_type}},}
\DoxyCodeLine{01384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}},}
\DoxyCodeLine{01385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ opt::details::make\_comparator\_from\_less<Less>,}
\DoxyCodeLine{01386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcds_1_1intrusive_1_1_ellen_bin_tree_1_1node__traits}{node\_traits}}}
\DoxyCodeLine{01387\ \ \ \ \ \ \ \ \ \ \ \ \ >\ compare\_functor;}
\DoxyCodeLine{01388\ }
\DoxyCodeLine{01389\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ extract\_item(\ \mbox{\hyperlink{ittnotify__static_8h_aeeaf6235e69da2907f537f67e598fc9d}{key}},\ compare\_functor());}
\DoxyCodeLine{01390\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01391\ }
\DoxyCodeLine{01392\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ extract\_max\_()}
\DoxyCodeLine{01393\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01394\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a3dc4be7577e7b5ed21cdb4993275c188}{update\_desc}}\ *\ pOp\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01395\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{01396\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_af2a6773346ab6a297e3f8924b6baabb2}{back\_off}}\ bkoff;}
\DoxyCodeLine{01397\ }
\DoxyCodeLine{01398\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;;\ )\ \{}
\DoxyCodeLine{01399\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !search\_max(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ ))\ \{}
\DoxyCodeLine{01400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Tree\ is\ empty}}
\DoxyCodeLine{01401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pOp\ )}
\DoxyCodeLine{01402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retire\_update\_desc(\ pOp\ );}
\DoxyCodeLine{01403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onExtractMaxFailed();}
\DoxyCodeLine{01404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}();}
\DoxyCodeLine{01405\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01406\ }
\DoxyCodeLine{01407\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent.bits()\ ==\ update\_desc::Clean\ \&\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.bits()\ ==\ update\_desc::Clean\ )\ \{}
\DoxyCodeLine{01408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !pOp\ )}
\DoxyCodeLine{01409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp\ =\ alloc\_update\_desc();}
\DoxyCodeLine{01410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ check\_delete\_precondition(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ ))\ \{}
\DoxyCodeLine{01411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ gc::Guard\ guard;}
\DoxyCodeLine{01412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ guard.assign(\ pOp\ );}
\DoxyCodeLine{01413\ }
\DoxyCodeLine{01414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pGrandParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent;}
\DoxyCodeLine{01415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent;}
\DoxyCodeLine{01416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pLeaf\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf;}
\DoxyCodeLine{01417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pUpdateParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.ptr();}
\DoxyCodeLine{01418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.bRightParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightParent;}
\DoxyCodeLine{01419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.bRightLeaf\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightLeaf;}
\DoxyCodeLine{01420\ }
\DoxyCodeLine{01421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ updGP(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent.ptr());}
\DoxyCodeLine{01422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent-\/>m\_pUpdate.compare\_exchange\_strong(\ updGP,\ update\_ptr(\ pOp,\ update\_desc::DFlag\ ),}
\DoxyCodeLine{01423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_acquire,\ atomics::memory\_order\_relaxed\ ))}
\DoxyCodeLine{01424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ help\_delete(\ pOp\ ))}
\DoxyCodeLine{01426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01431\ }
\DoxyCodeLine{01432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bkoff();}
\DoxyCodeLine{01433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onExtractMaxRetry();}
\DoxyCodeLine{01434\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01435\ }
\DoxyCodeLine{01436\ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2aa7e98673d7e142f3f13b35d64834ba}{m\_ItemCounter}};}
\DoxyCodeLine{01437\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onExtractMaxSuccess();}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.release(\ search\_result::Guard\_Leaf\ ));}
\DoxyCodeLine{01439\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01440\ }
\DoxyCodeLine{01441\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ extract\_min\_()}
\DoxyCodeLine{01442\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01443\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceellen__bintree__pool_a3dc4be7577e7b5ed21cdb4993275c188}{update\_desc}}\ *\ pOp\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01444\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{01445\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_af2a6773346ab6a297e3f8924b6baabb2}{back\_off}}\ bkoff;}
\DoxyCodeLine{01446\ }
\DoxyCodeLine{01447\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;;\ )\ \{}
\DoxyCodeLine{01448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !search\_min(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ ))\ \{}
\DoxyCodeLine{01449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Tree\ is\ empty}}
\DoxyCodeLine{01450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ pOp\ )}
\DoxyCodeLine{01451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retire\_update\_desc(\ pOp\ );}
\DoxyCodeLine{01452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onExtractMinFailed();}
\DoxyCodeLine{01453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}();}
\DoxyCodeLine{01454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01455\ }
\DoxyCodeLine{01456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent.bits()\ ==\ update\_desc::Clean\ \&\&\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.bits()\ ==\ update\_desc::Clean\ )\ \{}
\DoxyCodeLine{01457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !pOp\ )}
\DoxyCodeLine{01458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp\ =\ alloc\_update\_desc();}
\DoxyCodeLine{01459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ check\_delete\_precondition(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ ))\ \{}
\DoxyCodeLine{01460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ gc::Guard\ guard;}
\DoxyCodeLine{01461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ guard.assign(\ pOp\ );}
\DoxyCodeLine{01462\ }
\DoxyCodeLine{01463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pGrandParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent;}
\DoxyCodeLine{01464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pParent;}
\DoxyCodeLine{01465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pLeaf\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf;}
\DoxyCodeLine{01466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.pUpdateParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updParent.ptr();}
\DoxyCodeLine{01467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.bRightParent\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightParent;}
\DoxyCodeLine{01468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp-\/>dInfo.bRightLeaf\ =\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.bRightLeaf;}
\DoxyCodeLine{01469\ }
\DoxyCodeLine{01470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ update\_ptr\ updGP(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.updGrandParent.ptr());}
\DoxyCodeLine{01471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pGrandParent-\/>m\_pUpdate.compare\_exchange\_strong(\ updGP,\ update\_ptr(\ pOp,\ update\_desc::DFlag\ ),}
\DoxyCodeLine{01472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memory\_model::memory\_order\_acquire,\ atomics::memory\_order\_relaxed\ ))}
\DoxyCodeLine{01473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ help\_delete(\ pOp\ ))}
\DoxyCodeLine{01475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pOp\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01480\ }
\DoxyCodeLine{01481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bkoff();}
\DoxyCodeLine{01482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onExtractMinRetry();}
\DoxyCodeLine{01483\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01484\ }
\DoxyCodeLine{01485\ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/\mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a2aa7e98673d7e142f3f13b35d64834ba}{m\_ItemCounter}};}
\DoxyCodeLine{01486\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onExtractMinSuccess();}
\DoxyCodeLine{01487\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.release(\ search\_result::Guard\_Leaf\ ));}
\DoxyCodeLine{01488\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01489\ }
\DoxyCodeLine{01490\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{01491\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ find\_(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\&\ val,\ Func\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01492\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{01493\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{01494\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ val,\ node\_compare()))\ \{}
\DoxyCodeLine{01495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ );}
\DoxyCodeLine{01496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}(\ *node\_traits::to\_value\_ptr(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ ),\ val\ );}
\DoxyCodeLine{01497\ }
\DoxyCodeLine{01498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindSuccess();}
\DoxyCodeLine{01499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01500\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01501\ }
\DoxyCodeLine{01502\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindFailed();}
\DoxyCodeLine{01503\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01504\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01505\ }
\DoxyCodeLine{01506\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less,\ \textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{01507\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ find\_with\_(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\&\ val,\ Less\ \textcolor{comment}{/*pred*/},\ Func\ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01508\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{01509\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ ellen\_bintree::details::compare<}
\DoxyCodeLine{01510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a0e4edbd33aad5489ef524d53cff9cfd6}{key\_type}},}
\DoxyCodeLine{01511\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}},}
\DoxyCodeLine{01512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ opt::details::make\_comparator\_from\_less<Less>,}
\DoxyCodeLine{01513\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcds_1_1intrusive_1_1_ellen_bin_tree_1_1node__traits}{node\_traits}}}
\DoxyCodeLine{01514\ \ \ \ \ \ \ \ \ \ \ \ \ >\ compare\_functor;}
\DoxyCodeLine{01515\ }
\DoxyCodeLine{01516\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{01517\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ val,\ compare\_functor()))\ \{}
\DoxyCodeLine{01518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ );}
\DoxyCodeLine{01519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{cxx11__tensor__map_8cpp_a7f507fea02198f6cb81c86640c7b1a4e}{f}}(\ *node\_traits::to\_value\_ptr(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ ),\ val\ );}
\DoxyCodeLine{01520\ }
\DoxyCodeLine{01521\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindSuccess();}
\DoxyCodeLine{01522\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01523\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01524\ }
\DoxyCodeLine{01525\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindFailed();}
\DoxyCodeLine{01526\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01527\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01528\ }
\DoxyCodeLine{01529\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q>}
\DoxyCodeLine{01530\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ get\_(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ val\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01531\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{01532\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{01533\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ val,\ node\_compare()))\ \{}
\DoxyCodeLine{01534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ );}
\DoxyCodeLine{01535\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindSuccess();}
\DoxyCodeLine{01536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.release(\ search\_result::Guard\_Leaf\ ));}
\DoxyCodeLine{01537\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01538\ }
\DoxyCodeLine{01539\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindFailed();}
\DoxyCodeLine{01540\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}();}
\DoxyCodeLine{01541\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01542\ }
\DoxyCodeLine{01543\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Q,\ \textcolor{keyword}{typename}\ Less>}
\DoxyCodeLine{01544\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}\ get\_with\_(\ \mbox{\hyperlink{_householder_q_r__householder_q_8cpp_a7e56035a736d269ad670f312496a0846}{Q}}\ \textcolor{keyword}{const}\&\ val,\ Less\ pred\ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01545\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{01546\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{details_2defs_8h_a782b7f1736e3581e010449d710517c25}{CDS\_UNUSED}}(\ pred\ );}
\DoxyCodeLine{01547\ }
\DoxyCodeLine{01548\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ ellen\_bintree::details::compare<}
\DoxyCodeLine{01549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a0e4edbd33aad5489ef524d53cff9cfd6}{key\_type}},}
\DoxyCodeLine{01550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ae3131f31b2cbbfd725105ae9ca8c99e6}{value\_type}},}
\DoxyCodeLine{01551\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ opt::details::make\_comparator\_from\_less<Less>,}
\DoxyCodeLine{01552\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcds_1_1intrusive_1_1_ellen_bin_tree_1_1node__traits}{node\_traits}}}
\DoxyCodeLine{01553\ \ \ \ \ \ \ \ \ \ \ \ \ >\ compare\_functor;}
\DoxyCodeLine{01554\ }
\DoxyCodeLine{01555\ \ \ \ \ \ \ \ \ \ \ \ \ search\_result\ \ \ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}};}
\DoxyCodeLine{01556\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{_animation_8c_ac63b5622d06728f748fa72280fc5f461}{search}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},\ val,\ compare\_functor()))\ \{}
\DoxyCodeLine{01557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.pLeaf\ );}
\DoxyCodeLine{01558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindSuccess();}
\DoxyCodeLine{01559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}(\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}.guards.release(\ search\_result::Guard\_Leaf\ ));}
\DoxyCodeLine{01560\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01561\ }
\DoxyCodeLine{01562\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_ad1208d9558392fbb129b605a1c6a8bdd}{m\_Stat}}.onFindFailed();}
\DoxyCodeLine{01563\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcds_1_1intrusive_1_1_ellen_bin_tree_a007f95a47cac63b2c14cd25d5cfb50d8}{guarded\_ptr}}();}
\DoxyCodeLine{01564\ }
\DoxyCodeLine{01565\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01566\ }
\DoxyCodeLine{01567\ \ \ \ \ \ \ \ \ \textcolor{comment}{//@endcond}}
\DoxyCodeLine{01568\ \ \ \ \ \};}
\DoxyCodeLine{01569\ }
\DoxyCodeLine{01570\ \}\}\ \textcolor{comment}{//\ namespace\ cds::intrusive}}
\DoxyCodeLine{01571\ }
\DoxyCodeLine{01572\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \#ifndef\ CDSLIB\_INTRUSIVE\_IMPL\_ELLEN\_BINTREE\_H}}

\end{DoxyCode}
