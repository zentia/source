\doxysection{Test\+\_\+\+SPMC类 参考}
\hypertarget{class_test___s_p_m_c}{}\label{class_test___s_p_m_c}\index{Test\_SPMC@{Test\_SPMC}}


类 Test\+\_\+\+SPMC 继承关系图\+:
% FIG 0


Test\+\_\+\+SPMC 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_test___s_p_m_c_a215c69171318ee10042be18999a36213}{Test\+\_\+\+SPMC}} (\mbox{\hyperlink{class_leaf_task_base}{Leaf\+Task\+Base}} \texorpdfstring{$\ast$}{*}leaf\+Task\+Ptr=\mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})
\end{DoxyCompactItemize}
\doxysubsection*{Public 成员函数 继承自 \mbox{\hyperlink{class_perf_1_1_test}{Perf\+::\+Test}}}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{class_perf_1_1_test_a61939f4b5be05881cffc51f43201f4cf}{\texorpdfstring{$\sim$}{\string~}\+Test}} ()
\item 
virtual \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{class_perf_1_1_test_ac56059ea14218db626951886e7f7f6db}{Min\+Num\+Masters}} ()
\begin{DoxyCompactList}\small\item\em Returns minimal number of master threads \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{class_perf_1_1_test_abbfd7f54b8d823e6a505dc0932a49ef4}{Max\+Num\+Masters}} ()
\begin{DoxyCompactList}\small\item\em Returns maximal number of master threads \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{class_perf_1_1_test_a87a68df5a69fe0805fc858ea9756d42d}{On\+Start}} (\mbox{\hyperlink{struct_perf_1_1_test_1_1_thread_info}{Thread\+Info}} \&ti)
\begin{DoxyCompactList}\small\item\em Invoked before each call to \doxylink{class_perf_1_1_test_a64ad02d5651eb526f14e8d17df229cfb}{Run()} \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{class_perf_1_1_test_a496b4663baca967436dad05299deed2b}{On\+Finish}} (\mbox{\hyperlink{struct_perf_1_1_test_1_1_thread_info}{Thread\+Info}} \&ti)
\begin{DoxyCompactList}\small\item\em Invoked after each call to \doxylink{class_perf_1_1_test_a64ad02d5651eb526f14e8d17df229cfb}{Run()} \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{class_perf_1_1_test_ac3d76a83270f92de9e7e0349d6765f51}{Baseline}} (\mbox{\hyperlink{struct_perf_1_1_test_1_1_thread_info}{Thread\+Info}} \&)
\begin{DoxyCompactList}\small\item\em Functionality, the cost of which has to be factored out from timing results \end{DoxyCompactList}\item 
virtual const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_perf_1_1_test_a50a9c013eb7d4156f20fab0b39fc233a}{Description}} ()
\begin{DoxyCompactList}\small\item\em Returns description string to be used in the benchmark info/summary output \end{DoxyCompactList}\item 
virtual const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_perf_1_1_test_ad35efcf786542fa445954e196ded268b}{Histogram\+Name}} ()
\begin{DoxyCompactList}\small\item\em Specifies if the histogram of individual run times in a series \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected 成员函数}
\begin{DoxyCompactItemize}
\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_test___s_p_m_c_a856ae81d43e03b5ee52a9c1a0d30cc76}{Name}} ()
\begin{DoxyCompactList}\small\item\em Returns short title string to be used in the regular output to identify the test \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{class_test___s_p_m_c_a24d8399150aa2a41577d5bed79447174}{Num\+Workloads}} ()
\begin{DoxyCompactList}\small\item\em Returns the number of workloads supported \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{class_test___s_p_m_c_acbd5640f40c9ad5718de33aa708d07d0}{Set\+Workload}} (\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} idx)
\begin{DoxyCompactList}\small\item\em Set workload info for the subsequent calls to \doxylink{class_test___s_p_m_c_ae9aa674af5d72d2615202ca7a22dadc0}{Run()} and \doxylink{class_test___s_p_m_c_a4e252a3e4b1ab3c4505d5347828c80c6}{Run\+Serial()} \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{class_test___s_p_m_c_ae9aa674af5d72d2615202ca7a22dadc0}{Run}} (\mbox{\hyperlink{struct_perf_1_1_test_1_1_thread_info}{Thread\+Info}} \&)
\begin{DoxyCompactList}\small\item\em \doxylink{class_test}{Test} implementation \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{class_test___s_p_m_c_a4e252a3e4b1ab3c4505d5347828c80c6}{Run\+Serial}} (\mbox{\hyperlink{struct_perf_1_1_test_1_1_thread_info}{Thread\+Info}} \&)
\begin{DoxyCompactList}\small\item\em Executes serial workload equivalent to the one processed by \doxylink{class_test___s_p_m_c_ae9aa674af5d72d2615202ca7a22dadc0}{Run()} \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_leaf_task_base}{Leaf\+Task\+Base}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_test___s_p_m_c_aa136a2c42a285028b98fea59ab1ba09a}{my\+\_\+leaf\+Task\+Ptr}}
\end{DoxyCompactItemize}
\doxysubsubsection*{静态 Protected 属性}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{class_test___s_p_m_c_a11e949133b63ff3ccb33132a7bfa8afa}{num\+Workloads}} = 4
\item 
static const \mbox{\hyperlink{perf__sched_8cpp_a798d46b16cade6e2f6eb0ed4f25e8aa1}{count\+\_\+t}} \mbox{\hyperlink{class_test___s_p_m_c_aee94c9a72d4e82b3a3410db3e97b19ca}{workloads}} \mbox{[}\mbox{\hyperlink{class_test___s_p_m_c_a11e949133b63ff3ccb33132a7bfa8afa}{num\+Workloads}}\mbox{]} = \{ 1, 50, 500, 5000 \}
\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\Hypertarget{class_test___s_p_m_c_a215c69171318ee10042be18999a36213}\index{Test\_SPMC@{Test\_SPMC}!Test\_SPMC@{Test\_SPMC}}
\index{Test\_SPMC@{Test\_SPMC}!Test\_SPMC@{Test\_SPMC}}
\doxysubsubsection{\texorpdfstring{Test\_SPMC()}{Test\_SPMC()}}
{\footnotesize\ttfamily \label{class_test___s_p_m_c_a215c69171318ee10042be18999a36213} 
Test\+\_\+\+SPMC\+::\+Test\+\_\+\+SPMC (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_leaf_task_base}{Leaf\+Task\+Base}} \texorpdfstring{$\ast$}{*}}]{leaf\+Task\+Ptr}{ = {\ttfamily \mbox{\hyperlink{eabase_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{成员函数说明}
\Hypertarget{class_test___s_p_m_c_a856ae81d43e03b5ee52a9c1a0d30cc76}\index{Test\_SPMC@{Test\_SPMC}!Name@{Name}}
\index{Name@{Name}!Test\_SPMC@{Test\_SPMC}}
\doxysubsubsection{\texorpdfstring{Name()}{Name()}}
{\footnotesize\ttfamily \label{class_test___s_p_m_c_a856ae81d43e03b5ee52a9c1a0d30cc76} 
const char \texorpdfstring{$\ast$}{*} Test\+\_\+\+SPMC\+::\+Name (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Returns short title string to be used in the regular output to identify the test 

Should uniquely identify the test among other ones in the given benchmark suite. If not implemented, the test implementation class\textquotesingle{} RTTI name is used. 

重载 \mbox{\hyperlink{class_perf_1_1_test_a65d68e9944caaaeae095bd47cb0d0d16}{Perf\+::\+Test}} .

\Hypertarget{class_test___s_p_m_c_a24d8399150aa2a41577d5bed79447174}\index{Test\_SPMC@{Test\_SPMC}!NumWorkloads@{NumWorkloads}}
\index{NumWorkloads@{NumWorkloads}!Test\_SPMC@{Test\_SPMC}}
\doxysubsubsection{\texorpdfstring{NumWorkloads()}{NumWorkloads()}}
{\footnotesize\ttfamily \label{class_test___s_p_m_c_a24d8399150aa2a41577d5bed79447174} 
\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Test\+\_\+\+SPMC\+::\+Num\+Workloads (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Returns the number of workloads supported 



实现了 \mbox{\hyperlink{class_perf_1_1_test_a6c29f916fc475135f7ab216991787233}{Perf\+::\+Test}}.

\Hypertarget{class_test___s_p_m_c_ae9aa674af5d72d2615202ca7a22dadc0}\index{Test\_SPMC@{Test\_SPMC}!Run@{Run}}
\index{Run@{Run}!Test\_SPMC@{Test\_SPMC}}
\doxysubsubsection{\texorpdfstring{Run()}{Run()}}
{\footnotesize\ttfamily \label{class_test___s_p_m_c_ae9aa674af5d72d2615202ca7a22dadc0} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} Test\+\_\+\+SPMC\+::\+Run (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_perf_1_1_test_1_1_thread_info}{Thread\+Info}} \&}]{ti}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



\doxylink{class_test}{Test} implementation 

Called by the timing framework several times in a loop to achieve approx. Run\+Duration time, and this loop is timed Num\+Runs times to collect statistics. Argument ti specifies information about the master thread calling this method. 

实现了 \mbox{\hyperlink{class_perf_1_1_test_a64ad02d5651eb526f14e8d17df229cfb}{Perf\+::\+Test}}.

\Hypertarget{class_test___s_p_m_c_a4e252a3e4b1ab3c4505d5347828c80c6}\index{Test\_SPMC@{Test\_SPMC}!RunSerial@{RunSerial}}
\index{RunSerial@{RunSerial}!Test\_SPMC@{Test\_SPMC}}
\doxysubsubsection{\texorpdfstring{RunSerial()}{RunSerial()}}
{\footnotesize\ttfamily \label{class_test___s_p_m_c_a4e252a3e4b1ab3c4505d5347828c80c6} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} Test\+\_\+\+SPMC\+::\+Run\+Serial (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_perf_1_1_test_1_1_thread_info}{Thread\+Info}} \&}]{ti}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Executes serial workload equivalent to the one processed by \doxylink{class_test___s_p_m_c_ae9aa674af5d72d2615202ca7a22dadc0}{Run()} 

Called by the timing framework several times in a loop to collect statistics. 

重载 \mbox{\hyperlink{class_perf_1_1_test_aa36442055c9cd1267cbdf8a0bf431239}{Perf\+::\+Test}} .

\Hypertarget{class_test___s_p_m_c_acbd5640f40c9ad5718de33aa708d07d0}\index{Test\_SPMC@{Test\_SPMC}!SetWorkload@{SetWorkload}}
\index{SetWorkload@{SetWorkload}!Test\_SPMC@{Test\_SPMC}}
\doxysubsubsection{\texorpdfstring{SetWorkload()}{SetWorkload()}}
{\footnotesize\ttfamily \label{class_test___s_p_m_c_acbd5640f40c9ad5718de33aa708d07d0} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} Test\+\_\+\+SPMC\+::\+Set\+Workload (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{workload\+Index}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Set workload info for the subsequent calls to \doxylink{class_test___s_p_m_c_ae9aa674af5d72d2615202ca7a22dadc0}{Run()} and \doxylink{class_test___s_p_m_c_a4e252a3e4b1ab3c4505d5347828c80c6}{Run\+Serial()} 

This method can use global helper function \doxylink{namespace_perf_a587f67e60d9cedbe7d5d289641857ec6}{Perf\+::\+Set\+Workload\+Name()} in order to specify the name of the current workload, which will be used in output to designate the workload. If Set\+Workload\+Name is not called, workload\+Index will be used for this purpose.

When testing task scheduler, make sure that this method does not trigger its automatic initialization. 

实现了 \mbox{\hyperlink{class_perf_1_1_test_a49e2b75f552355cea43b841bba1237b3}{Perf\+::\+Test}}.

函数调用图\+:
% FIG 2


\doxysubsection{类成员变量说明}
\Hypertarget{class_test___s_p_m_c_aa136a2c42a285028b98fea59ab1ba09a}\index{Test\_SPMC@{Test\_SPMC}!my\_leafTaskPtr@{my\_leafTaskPtr}}
\index{my\_leafTaskPtr@{my\_leafTaskPtr}!Test\_SPMC@{Test\_SPMC}}
\doxysubsubsection{\texorpdfstring{my\_leafTaskPtr}{my\_leafTaskPtr}}
{\footnotesize\ttfamily \label{class_test___s_p_m_c_aa136a2c42a285028b98fea59ab1ba09a} 
\mbox{\hyperlink{class_leaf_task_base}{Leaf\+Task\+Base}}\texorpdfstring{$\ast$}{*} Test\+\_\+\+SPMC\+::my\+\_\+leaf\+Task\+Ptr\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{class_test___s_p_m_c_a11e949133b63ff3ccb33132a7bfa8afa}\index{Test\_SPMC@{Test\_SPMC}!numWorkloads@{numWorkloads}}
\index{numWorkloads@{numWorkloads}!Test\_SPMC@{Test\_SPMC}}
\doxysubsubsection{\texorpdfstring{numWorkloads}{numWorkloads}}
{\footnotesize\ttfamily \label{class_test___s_p_m_c_a11e949133b63ff3ccb33132a7bfa8afa} 
const \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} Test\+\_\+\+SPMC\+::num\+Workloads = 4\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}

\Hypertarget{class_test___s_p_m_c_aee94c9a72d4e82b3a3410db3e97b19ca}\index{Test\_SPMC@{Test\_SPMC}!workloads@{workloads}}
\index{workloads@{workloads}!Test\_SPMC@{Test\_SPMC}}
\doxysubsubsection{\texorpdfstring{workloads}{workloads}}
{\footnotesize\ttfamily \label{class_test___s_p_m_c_aee94c9a72d4e82b3a3410db3e97b19ca} 
const \mbox{\hyperlink{perf__sched_8cpp_a798d46b16cade6e2f6eb0ed4f25e8aa1}{count\+\_\+t}} Test\+\_\+\+SPMC\+::workloads = \{ 1, 50, 500, 5000 \}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/src/perf/\mbox{\hyperlink{perf__sched_8cpp}{perf\+\_\+sched.\+cpp}}\end{DoxyCompactItemize}
