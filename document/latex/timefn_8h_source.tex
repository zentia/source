\doxysection{timefn.\+h}
\hypertarget{timefn_8h_source}{}\label{timefn_8h_source}\index{runtime/xxHash/tests/bench/timefn.h@{runtime/xxHash/tests/bench/timefn.h}}
\mbox{\hyperlink{timefn_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ Copyright\ (c)\ 2016-\/2021\ Yann\ Collet,\ Facebook,\ Inc.}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ All\ rights\ reserved.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ source\ code\ is\ licensed\ under\ both\ the\ BSD-\/style\ license\ (found\ in\ the}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ LICENSE\ file\ in\ the\ root\ directory\ of\ this\ source\ tree)\ and\ the\ GPLv2\ (found}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ in\ the\ COPYING\ file\ in\ the\ root\ directory\ of\ this\ source\ tree).}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ You\ may\ select,\ at\ your\ option,\ one\ of\ the\ above-\/listed\ licenses.}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ TIME\_FN\_H\_MODULE\_287987}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ TIME\_FN\_H\_MODULE\_287987}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#if\ defined\ (\_\_cplusplus)}}
\DoxyCodeLine{00015\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \{}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{comment}{/*-\/****************************************}}
\DoxyCodeLine{00020\ \textcolor{comment}{*\ \ Dependencies}}
\DoxyCodeLine{00021\ \textcolor{comment}{******************************************/}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <sys/types.h>}\ \ \ \ \textcolor{comment}{/*\ utime\ */}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#\ \ include\ <sys/utime.h>}\ \ \textcolor{comment}{/*\ utime\ */}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#\ \ include\ <utime.h>}\ \ \ \ \ \ \textcolor{comment}{/*\ utime\ */}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <time.h>}\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ clock\_t,\ clock,\ CLOCKS\_PER\_SEC\ */}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{comment}{/*-\/****************************************}}
\DoxyCodeLine{00033\ \textcolor{comment}{*\ \ Local\ Types}}
\DoxyCodeLine{00034\ \textcolor{comment}{******************************************/}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#if\ !defined\ (\_\_VMS)\ \&\&\ (defined\ (\_\_cplusplus)\ ||\ (defined\ (\_\_STDC\_VERSION\_\_)\ \&\&\ (\_\_STDC\_VERSION\_\_\ >=\ 199901L)\ }\textcolor{comment}{/*\ C99\ */}\textcolor{preprocessor}{)\ )}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#\ include\ <stdint.h>}}
\DoxyCodeLine{00038\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{eabase_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{timefn_8h_a95b731ad717914c63e88c0f855e9313e}{PTime}};\ \ \textcolor{comment}{/*\ Precise\ Time\ */}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00040\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{timefn_8h_a95b731ad717914c63e88c0f855e9313e}{PTime}};\ \ \textcolor{comment}{/*\ does\ not\ support\ compilers\ without\ long\ long\ support\ */}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{comment}{/*-\/****************************************}}
\DoxyCodeLine{00046\ \textcolor{comment}{*\ \ Time\ functions}}
\DoxyCodeLine{00047\ \textcolor{comment}{******************************************/}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#if\ defined(\_WIN32)\ \ \ }\textcolor{comment}{/*\ Windows\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\ \ \ \ \#include\ <Windows.h>}\ \ \ \textcolor{comment}{/*\ LARGE\_INTEGER\ */}}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{typedef}\ LARGE\_INTEGER\ \mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}};}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\ \ \ \ \#define\ UTIL\_TIME\_INITIALIZER\ \{\ \{\ 0,\ 0\ \}\ \}}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#elif\ defined(\_\_APPLE\_\_)\ \&\&\ defined(\_\_MACH\_\_)}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\ \ \ \ \#include\ <mach/mach\_time.h>}}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{timefn_8h_a95b731ad717914c63e88c0f855e9313e}{PTime}}\ \mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}};}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\ \ \ \ \#define\ UTIL\_TIME\_INITIALIZER\ 0}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#elif\ (defined\ (\_\_STDC\_VERSION\_\_)\ \&\&\ (\_\_STDC\_VERSION\_\_\ >=\ 201112L)\ }\textcolor{comment}{/*\ C11\ */}\textcolor{preprocessor}{)\ \(\backslash\)}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\ \ \ \ \&\&\ defined(TIME\_UTC)\ }\textcolor{comment}{/*\ C11\ requires\ timespec\_get,\ but\ FreeBSD\ 11\ lacks\ it,\ while\ still\ claiming\ C11\ compliance\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }timespec\ \mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}};}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\ \ \ \ \#define\ UTIL\_TIME\_INITIALIZER\ \{\ 0,\ 0\ \}}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#else\ \ \ }\textcolor{comment}{/*\ relies\ on\ standard\ C90\ (note\ :\ clock\_t\ measurements\ can\ be\ wrong\ when\ using\ multi-\/threading)\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{typedef}\ clock\_t\ \mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}};}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\ \ \ \ \#define\ UTIL\_TIME\_INITIALIZER\ 0}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}}\ \mbox{\hyperlink{timefn_8h_aaf26c1edbb821ac4db66bd111e563016}{UTIL\_getTime}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00075\ \mbox{\hyperlink{timefn_8h_a95b731ad717914c63e88c0f855e9313e}{PTime}}\ \mbox{\hyperlink{timefn_8h_afb31c426813a848b4215600214f7d412}{UTIL\_getSpanTimeMicro}}(\mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}}\ clockStart,\ \mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}}\ clockEnd);}
\DoxyCodeLine{00076\ \mbox{\hyperlink{timefn_8h_a95b731ad717914c63e88c0f855e9313e}{PTime}}\ \mbox{\hyperlink{timefn_8h_a093784c8f2938c3b0c36360c125ab641}{UTIL\_getSpanTimeNano}}(\mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}}\ clockStart,\ \mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}}\ clockEnd);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#define\ SEC\_TO\_MICRO\ ((PTime)1000000)}}
\DoxyCodeLine{00079\ \mbox{\hyperlink{timefn_8h_a95b731ad717914c63e88c0f855e9313e}{PTime}}\ \mbox{\hyperlink{timefn_8h_a71ed1085fdb6b1d5f4f05687108895d3}{UTIL\_clockSpanMicro}}(\mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}}\ clockStart);}
\DoxyCodeLine{00080\ \mbox{\hyperlink{timefn_8h_a95b731ad717914c63e88c0f855e9313e}{PTime}}\ \mbox{\hyperlink{timefn_8h_a7352a4b15c62053b1641758105243da7}{UTIL\_clockSpanNano}}(\mbox{\hyperlink{timefn_8h_ac87ed83c7e1e5fe0b90dbb9a23fc1ccf}{UTIL\_time\_t}}\ clockStart);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{timefn_8h_a9e71940cdfd62873337ad1afe1853933}{UTIL\_waitForNextTick}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \textcolor{preprocessor}{\#if\ defined\ (\_\_cplusplus)}}
\DoxyCodeLine{00086\ \}}
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ TIME\_FN\_H\_MODULE\_287987\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
