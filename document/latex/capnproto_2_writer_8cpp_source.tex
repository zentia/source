\doxysection{Writer.\+cpp}
\hypertarget{capnproto_2_writer_8cpp_source}{}\label{capnproto_2_writer_8cpp_source}\index{external/reflect-\/cpp/src/rfl/capnproto/Writer.cpp@{external/reflect-\/cpp/src/rfl/capnproto/Writer.cpp}}
\mbox{\hyperlink{capnproto_2_writer_8cpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{capnproto_2_writer_8hpp}{rfl/capnproto/Writer.hpp}}"{}}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <stdexcept>}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_is_schemaful_writer_8hpp}{rfl/parsing/schemaful/IsSchemafulWriter.hpp}}"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerfl_1_1capnproto}{rfl::capnproto}}\ \{}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{static\_assert}(parsing::schemaful::IsSchemafulWriter<Writer>,}
\DoxyCodeLine{00010\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ must\ be\ a\ schemaful\ writer."{}});}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ab4751648ee992d8cc750476ac1c95729}{Writer::Writer}}(capnp::DynamicStruct::Builder*\ \_root)\ :\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac9959fe2265c249cd2c20da5a36e3f86}{root\_}}(\_root)\{\};}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a44e58d20860b9639d1acea3528600747}{Writer::\string~Writer}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{Writer::OutputObjectType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a2b4e08466d24a0a455980bde560412c9}{Writer::object\_as\_root}}(}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00018\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{OutputObjectType}}\{\mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac9959fe2265c249cd2c20da5a36e3f86}{root\_}}-\/>as<capnp::DynamicStruct>()\};}
\DoxyCodeLine{00019\ \}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{Writer::OutputArrayType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_aba9cc0f6c3e3ee193a1ce3666eeb4156}{Writer::add\_array\_to\_array}}(}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00023\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}\{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \_parent-\/>val\_.init(\_parent-\/>ix\_++,\ \_size).as<capnp::DynamicList>()\};}
\DoxyCodeLine{00025\ \}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{Writer::OutputArrayType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a01ce35b574ec0dc4b3a46ef8d22fcaf8}{Writer::add\_array\_to\_map}}(}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\&\ \_name,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,}
\DoxyCodeLine{00029\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{OutputMapType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00030\ \ \ \textcolor{keyword}{auto}\ entries\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}\{}
\DoxyCodeLine{00031\ \ \ \ \ \ \ .val\_\ =\ \_parent-\/>val\_.get(\textcolor{stringliteral}{"{}entries"{}}).as<capnp::DynamicList>(),}
\DoxyCodeLine{00032\ \ \ \ \ \ \ .ix\_\ =\ \_parent-\/>ix\_++\};}
\DoxyCodeLine{00033\ \ \ \textcolor{keyword}{auto}\ new\_entry\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ade8a52f4d58bc2284542f2b5422f5075}{add\_object\_to\_array}}(2,\ \&entries);}
\DoxyCodeLine{00034\ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ab2a6e0b530a106d3b74586f6631cc4b9}{add\_value\_to\_object}}(\textcolor{stringliteral}{"{}key"{}},\ std::string(\_name),\ \&new\_entry);}
\DoxyCodeLine{00035\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af8c00559a8127ad943ce799503805c4f}{add\_array\_to\_object}}(\textcolor{stringliteral}{"{}value"{}},\ \_size,\ \&new\_entry);}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{Writer::OutputArrayType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af8c00559a8127ad943ce799503805c4f}{Writer::add\_array\_to\_object}}(}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\&\ \_name,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{OutputObjectType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00041\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}\{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \_parent-\/>val\_.init(\_name.data(),\ \_size).as<capnp::DynamicList>()\};}
\DoxyCodeLine{00043\ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{Writer::OutputArrayType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac789d3938b9e7859bf39d7443d934e73}{Writer::add\_array\_to\_union}}(}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_index,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{OutputUnionType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00048\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ field\ =\ \_parent-\/>val\_.getSchema().getFields()[\_index];}
\DoxyCodeLine{00049\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}\{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \_parent-\/>val\_.init(field,\ \_size).template\ \mbox{\hyperlink{namespacerfl_a6ed469a6082d8180235db125c13fc410}{as<capnp::DynamicList>}}()\};}
\DoxyCodeLine{00051\ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{Writer::OutputMapType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_abb9c0dbfdc853fa4d5f3b7c3b6b4e41d}{Writer::add\_map\_to\_array}}(}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00055\ \ \ \textcolor{keyword}{auto}\ new\_map\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ade8a52f4d58bc2284542f2b5422f5075}{add\_object\_to\_array}}(1,\ \_parent);}
\DoxyCodeLine{00056\ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af8c00559a8127ad943ce799503805c4f}{add\_array\_to\_object}}(\textcolor{stringliteral}{"{}entries"{}},\ \_size,\ \&new\_map);}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{OutputMapType}}\{new\_map.val\_\};}
\DoxyCodeLine{00058\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{Writer::OutputMapType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a1403ab78ef972eb4eb3675333d42e134}{Writer::add\_map\_to\_map}}(}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\&\ \_name,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,}
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{OutputMapType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00063\ \ \ \textcolor{keyword}{auto}\ new\_map\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ada6a3d40e9a552a7ff53a55fc93d5ba2}{add\_object\_to\_map}}(\_name,\ 1,\ \_parent);}
\DoxyCodeLine{00064\ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af8c00559a8127ad943ce799503805c4f}{add\_array\_to\_object}}(\textcolor{stringliteral}{"{}entries"{}},\ \_size,\ \&new\_map);}
\DoxyCodeLine{00065\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{OutputMapType}}\{new\_map.val\_\};}
\DoxyCodeLine{00066\ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{Writer::OutputMapType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a10aacaf3d925fe0da0a7e13f848f6f67}{Writer::add\_map\_to\_object}}(}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\&\ \_name,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,}
\DoxyCodeLine{00070\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{OutputObjectType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00071\ \ \ \textcolor{keyword}{auto}\ new\_map\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_aecf7dd92c6ab743d6911f02516f993e5}{add\_object\_to\_object}}(\_name,\ 1,\ \_parent);}
\DoxyCodeLine{00072\ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af8c00559a8127ad943ce799503805c4f}{add\_array\_to\_object}}(\textcolor{stringliteral}{"{}entries"{}},\ \_size,\ \&new\_map);}
\DoxyCodeLine{00073\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{OutputMapType}}\{new\_map.val\_\};}
\DoxyCodeLine{00074\ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{Writer::OutputMapType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_aead3475937a7ed9997aec1d9fc7fa487}{Writer::add\_map\_to\_union}}(}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_index,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{OutputUnionType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00079\ \ \ \textcolor{keyword}{auto}\ new\_map\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a796e52d22702a0bfb4f1fadfc9c149a5}{add\_object\_to\_union}}(\_index,\ 1,\ \_parent);}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af8c00559a8127ad943ce799503805c4f}{add\_array\_to\_object}}(\textcolor{stringliteral}{"{}entries"{}},\ \_size,\ \&new\_map);}
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{OutputMapType}}\{new\_map.val\_\};}
\DoxyCodeLine{00082\ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{Writer::OutputObjectType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ade8a52f4d58bc2284542f2b5422f5075}{Writer::add\_object\_to\_array}}(}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00086\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{OutputObjectType}}\{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \_parent-\/>val\_[\_parent-\/>ix\_++].as<capnp::DynamicStruct>()\};}
\DoxyCodeLine{00088\ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{Writer::OutputObjectType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ada6a3d40e9a552a7ff53a55fc93d5ba2}{Writer::add\_object\_to\_map}}(}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\&\ \_name,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{OutputMapType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00093\ \ \ \textcolor{keyword}{auto}\ entries\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}\{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ .val\_\ =\ \_parent-\/>val\_.get(\textcolor{stringliteral}{"{}entries"{}}).as<capnp::DynamicList>(),}
\DoxyCodeLine{00095\ \ \ \ \ \ \ .ix\_\ =\ \_parent-\/>ix\_++\};}
\DoxyCodeLine{00096\ \ \ \textcolor{keyword}{auto}\ new\_entry\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ade8a52f4d58bc2284542f2b5422f5075}{add\_object\_to\_array}}(2,\ \&entries);}
\DoxyCodeLine{00097\ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ab2a6e0b530a106d3b74586f6631cc4b9}{add\_value\_to\_object}}(\textcolor{stringliteral}{"{}key"{}},\ std::string(\_name),\ \&new\_entry);}
\DoxyCodeLine{00098\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_aecf7dd92c6ab743d6911f02516f993e5}{add\_object\_to\_object}}(\textcolor{stringliteral}{"{}value"{}},\ \_size,\ \&new\_entry);}
\DoxyCodeLine{00099\ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{Writer::OutputObjectType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_aecf7dd92c6ab743d6911f02516f993e5}{Writer::add\_object\_to\_object}}(}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\&\ \_name,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{OutputObjectType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00104\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{OutputObjectType}}\{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \_parent-\/>val\_.get(\_name.data()).as<capnp::DynamicStruct>()\};}
\DoxyCodeLine{00106\ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{Writer::OutputObjectType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a796e52d22702a0bfb4f1fadfc9c149a5}{Writer::add\_object\_to\_union}}(}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_index,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_size,}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{OutputUnionType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00111\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ field\ =\ \_parent-\/>val\_.getSchema().getFields()[\_index];}
\DoxyCodeLine{00112\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{OutputObjectType}}\{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \_parent-\/>val\_.init(field).template\ \mbox{\hyperlink{namespacerfl_a6ed469a6082d8180235db125c13fc410}{as<capnp::DynamicStruct>}}()\};}
\DoxyCodeLine{00114\ \}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{Writer::OutputUnionType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a6c770b184b0d5cd31fc246987362c8da}{Writer::add\_union\_to\_array}}(}
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00118\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{OutputUnionType}}\{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \_parent-\/>val\_[\_parent-\/>ix\_++].as<capnp::DynamicStruct>()\};}
\DoxyCodeLine{00120\ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{Writer::OutputUnionType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_aea2247272dccff24e23f5491bf3b8109}{Writer::add\_union\_to\_map}}(}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\&\ \_name,\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{OutputMapType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00124\ \ \ \textcolor{keyword}{auto}\ entries\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}\{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ .val\_\ =\ \_parent-\/>val\_.get(\textcolor{stringliteral}{"{}entries"{}}).as<capnp::DynamicList>(),}
\DoxyCodeLine{00126\ \ \ \ \ \ \ .ix\_\ =\ \_parent-\/>ix\_++\};}
\DoxyCodeLine{00127\ \ \ \textcolor{keyword}{auto}\ new\_entry\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ade8a52f4d58bc2284542f2b5422f5075}{add\_object\_to\_array}}(2,\ \&entries);}
\DoxyCodeLine{00128\ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ab2a6e0b530a106d3b74586f6631cc4b9}{add\_value\_to\_object}}(\textcolor{stringliteral}{"{}key"{}},\ std::string(\_name),\ \&new\_entry);}
\DoxyCodeLine{00129\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a31bccfc8060a2a754c519e0104bed479}{add\_union\_to\_object}}(\textcolor{stringliteral}{"{}value"{}},\ \&new\_entry);}
\DoxyCodeLine{00130\ \}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{Writer::OutputUnionType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a31bccfc8060a2a754c519e0104bed479}{Writer::add\_union\_to\_object}}(}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\&\ \_name,\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{OutputObjectType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00134\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{OutputUnionType}}\{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \_parent-\/>val\_.get(\_name.data()).as<capnp::DynamicStruct>()\};}
\DoxyCodeLine{00136\ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{Writer::OutputUnionType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a9503fcd0f93d8d6c5950d966fe6f02d4}{Writer::add\_union\_to\_union}}(}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_index,\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{OutputUnionType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00140\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ field\ =\ \_parent-\/>val\_.getSchema().getFields()[\_index];}
\DoxyCodeLine{00141\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{OutputUnionType}}\{}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \_parent-\/>val\_.init(field).template\ \mbox{\hyperlink{namespacerfl_a6ed469a6082d8180235db125c13fc410}{as<capnp::DynamicStruct>}}()\};}
\DoxyCodeLine{00143\ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a7e63721dbb7d9f4598df3babd93621c2}{Writer::OutputVarType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a2feee29b331d1d9f6196816a6ea03020}{Writer::add\_null\_to\_array}}(}
\DoxyCodeLine{00146\ \ \ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00147\ \ \ \_parent-\/>val\_.set(\_parent-\/>ix\_++,\ capnp::VOID);}
\DoxyCodeLine{00148\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a7e63721dbb7d9f4598df3babd93621c2}{OutputVarType}}\{\};}
\DoxyCodeLine{00149\ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a7e63721dbb7d9f4598df3babd93621c2}{Writer::OutputVarType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a39f6abbea740812d1e014554b9516bdc}{Writer::add\_null\_to\_map}}(}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\&\ \_name,\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_adac50589a3dcdd1b6cc82e14337634c4}{OutputMapType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00153\ \ \ \textcolor{keyword}{auto}\ entries\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ac50cdd11a4713faf51e096a2cdaa2680}{OutputArrayType}}\{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ .val\_\ =\ \_parent-\/>val\_.get(\textcolor{stringliteral}{"{}entries"{}}).as<capnp::DynamicList>(),}
\DoxyCodeLine{00155\ \ \ \ \ \ \ .ix\_\ =\ \_parent-\/>ix\_++\};}
\DoxyCodeLine{00156\ \ \ \textcolor{keyword}{auto}\ new\_entry\ =\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ade8a52f4d58bc2284542f2b5422f5075}{add\_object\_to\_array}}(2,\ \&entries);}
\DoxyCodeLine{00157\ \ \ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_ab2a6e0b530a106d3b74586f6631cc4b9}{add\_value\_to\_object}}(\textcolor{stringliteral}{"{}key"{}},\ std::string(\_name),\ \&new\_entry);}
\DoxyCodeLine{00158\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a230b6af21a904b78ae858e0d5b62955f}{add\_null\_to\_object}}(\textcolor{stringliteral}{"{}value"{}},\ \&new\_entry);}
\DoxyCodeLine{00159\ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a7e63721dbb7d9f4598df3babd93621c2}{Writer::OutputVarType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a230b6af21a904b78ae858e0d5b62955f}{Writer::add\_null\_to\_object}}(}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\&\ \_name,\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_af7a35a6a08a25ba7d888d4d834b3394d}{OutputObjectType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00163\ \ \ \_parent-\/>val\_.set(\_name.data(),\ capnp::VOID);}
\DoxyCodeLine{00164\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a7e63721dbb7d9f4598df3babd93621c2}{OutputVarType}}\{\};}
\DoxyCodeLine{00165\ \}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a7e63721dbb7d9f4598df3babd93621c2}{Writer::OutputVarType}}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a591eb77f257bd89836f40d9fd3df5e43}{Writer::add\_null\_to\_union}}(}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \_index,\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a341e308bea390da38955604a3dc1436b}{OutputUnionType}}*\ \_parent)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00169\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ field\ =\ \_parent-\/>val\_.getSchema().getFields()[\_index];}
\DoxyCodeLine{00170\ \ \ \_parent-\/>val\_.set(field,\ capnp::VOID);}
\DoxyCodeLine{00171\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classrfl_1_1capnproto_1_1_writer_a7e63721dbb7d9f4598df3babd93621c2}{OutputVarType}}\{\};}
\DoxyCodeLine{00172\ \}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \}\ \ \textcolor{comment}{//\ namespace\ rfl::capnproto}}

\end{DoxyCode}
