\doxysection{tf\+::sycl\+Flow类 参考}
\hypertarget{classtf_1_1sycl_flow}{}\label{classtf_1_1sycl_flow}\index{tf::syclFlow@{tf::syclFlow}}


class for building a SYCL task dependency graph  




{\ttfamily \#include $<$syclflow.\+hpp$>$}



tf\+::sycl\+Flow 的协作图\+:
% FIG 0
\doxysubsubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structtf_1_1sycl_flow_1_1_external}{External}}
\item 
struct \mbox{\hyperlink{structtf_1_1sycl_flow_1_1_internal}{Internal}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1sycl_flow_aca4297c5bcf7f6e3c59e43415afb0ebd}{sycl\+Flow}} (sycl\+::queue \&queue)
\begin{DoxyCompactList}\small\item\em constructs a standalone sycl\+Flow from the given queue \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1sycl_flow_a2dec29bec12f5270893f5d44b2fd79bd}{\texorpdfstring{$\sim$}{\string~}sycl\+Flow}} ()=\mbox{\hyperlink{sugar_8h_a6face89e97cccad5464dd9bb9c7efd23}{default}}
\begin{DoxyCompactList}\small\item\em destroys the sycl\+Flow \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtf_1_1sycl_flow_a0e33d2d4f26e52a55690d17f77d467b0}{empty}} () const
\begin{DoxyCompactList}\small\item\em queries the emptiness of the graph \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtf_1_1sycl_flow_aedcc6b3363f98c68762e7fb32ea45406}{num\+\_\+tasks}} () const
\begin{DoxyCompactList}\small\item\em queries the number of tasks \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a6284f266b5d603fbecd148304c107dc6}{dump}} (std\+::ostream \&os) const
\begin{DoxyCompactList}\small\item\em dumps the sycl\+Flow graph into a DOT format through an output stream \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a4d07f698f4defa3f8c0600c5c2f64c1c}{clear}} ()
\begin{DoxyCompactList}\small\item\em clear the associated graph \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, std\+::enable\+\_\+if\+\_\+t$<$ std\+::is\+\_\+invocable\+\_\+r\+\_\+v$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, sycl\+::handler \& $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_a20b79581d27eaed2812ffb14dc821a64}{on}} (\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \&\&\mbox{\hyperlink{structfunc}{func}})
\begin{DoxyCompactList}\small\item\em creates a task that launches the given command group function object \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, std\+::enable\+\_\+if\+\_\+t$<$ std\+::is\+\_\+invocable\+\_\+r\+\_\+v$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, sycl\+::handler \& $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a24827902c99771ecff1cfeb88d639af0}{on}} (\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \&\&\mbox{\hyperlink{structfunc}{func}})
\begin{DoxyCompactList}\small\item\em updates the task to the given command group function object \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_ac1e1eb858d9271ed61ff4fe00f135e92}{memcpy}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}tgt, const \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}, size\+\_\+t \mbox{\hyperlink{structbytes}{bytes}})
\begin{DoxyCompactList}\small\item\em creates a memcpy task that copies untyped data in bytes \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_a54b7497c0f4763bb4f8604f6c5654a5f}{memset}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}, size\+\_\+t \mbox{\hyperlink{structbytes}{bytes}})
\begin{DoxyCompactList}\small\item\em creates a memset task that fills untyped data with a byte value \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_a628843c986d60bea61eca8c48028159e}{fill}} (\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}, const \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&pattern, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em creates a fill task that fills typed data with the given value \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, std\+::enable\+\_\+if\+\_\+t$<$!std\+::is\+\_\+same\+\_\+v$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_ac433456f3960028fb12a53018b263aee}{copy}} (\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}target, const \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}source, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em creates a copy task that copies typed data from a source to a target memory block \end{DoxyCompactList}\item 
{\footnotesize template$<$typename... ArgsT$>$ }\\\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_ae42b1da441d5696dc589ee9ee89b9deb}{parallel\+\_\+for}} (ArgsT \&\&... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})
\begin{DoxyCompactList}\small\item\em creates a kernel task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}$>$ }\\\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_a05ff6f331b6cf48e21ae7f0d6aea9094}{single\+\_\+task}} (\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \&\&\mbox{\hyperlink{structfunc}{func}})
\begin{DoxyCompactList}\small\item\em invokes a SYCL kernel function using only one thread \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_a30c3f7a279d1f88b6052f7ded1ee381a}{for\+\_\+each}} (I first, I last, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable)
\begin{DoxyCompactList}\small\item\em applies a callable to each dereferenced element of the data array \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_a25e8aa7d7efbd05ef11353317174574a}{for\+\_\+each\+\_\+index}} (I first, I last, I step, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable)
\begin{DoxyCompactList}\small\item\em applies a callable to each index in the range with the step size \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename... S$>$ }\\\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_ae278939334a90b6d58d8771e87b2e793}{transform}} (I first, I last, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable, S... srcs)
\begin{DoxyCompactList}\small\item\em applies a callable to a source range and stores the result in a target range \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_acddd05832e53597ae9d30dc913d422ca}{reduce}} (I first, I last, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&op)
\begin{DoxyCompactList}\small\item\em performs parallel reduction over a range of items \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{classtf_1_1sycl_flow_a7a3af92f105114b1095a2cec2ccdffbf}{uninitialized\+\_\+reduce}} (I first, I last, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&op)
\begin{DoxyCompactList}\small\item\em similar to \doxylink{classtf_1_1sycl_flow_acddd05832e53597ae9d30dc913d422ca}{tf\+::sycl\+Flow\+::reduce} but does not assume any initial value to reduce \end{DoxyCompactList}\item 
{\footnotesize template$<$typename P$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a1b033143bcfd857b45a2c2bad213b769}{offload\+\_\+until}} (P \&\&predicate)
\begin{DoxyCompactList}\small\item\em offloads the sycl\+Flow onto a GPU and repeatedly runs it until the predicate becomes true \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a23fc8f965e05fb8788dcc9fa02473529}{offload\+\_\+n}} (size\+\_\+t \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}})
\begin{DoxyCompactList}\small\item\em offloads the sycl\+Flow and executes it by the given times \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a2928c2edc466dd625741080c147de4ef}{offload}} ()
\begin{DoxyCompactList}\small\item\em offloads the sycl\+Flow and executes it once \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a81baff4f1d0408a5b0e45abcc0a64ca0}{memcpy}} (\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}tgt, const \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{shortpath_8cpp_a8648ffe7342bea77e2698690589da3c1}{src}}, size\+\_\+t \mbox{\hyperlink{structbytes}{bytes}})
\begin{DoxyCompactList}\small\item\em rebinds the task to a memcpy task \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a8dd81cb78380804fa117797ce412601b}{memset}} (\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}, \mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}} \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_abe8e049f756b5ba547bda825af81b645}{value}}, size\+\_\+t \mbox{\hyperlink{structbytes}{bytes}})
\begin{DoxyCompactList}\small\item\em rebinds the task to a memset task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_ab44c2d34d333910d4c6d0823346a444d}{fill}} (\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{yyjson_8h_a26c622783fa717b24fe0bbd3e060f74a}{ptr}}, const \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&pattern, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em rebinds the task to a fill task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, std\+::enable\+\_\+if\+\_\+t$<$!std\+::is\+\_\+same\+\_\+v$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a4c4f4ddaac36346e0b9663aea45abe16}{copy}} (\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}target, const \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}source, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a78e23769680a273f948d4bd3e946fcae}{count}})
\begin{DoxyCompactList}\small\item\em rebinds the task to a copy task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename... ArgsT$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a90c1559f1db6644ce0f06c76659cc735}{parallel\+\_\+for}} (\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, ArgsT \&\&... \mbox{\hyperlink{tbbproxy_8cpp_acd08a6295eccfeb30c79985f047e4be5}{args}})
\begin{DoxyCompactList}\small\item\em rebinds the task to a parallel-\/for kernel task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_ad0d9d75c49a0d0efe4e026d8c874b598}{single\+\_\+task}} (\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \&\&\mbox{\hyperlink{structfunc}{func}})
\begin{DoxyCompactList}\small\item\em rebinds the task to a single-\/threaded kernel task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_ad4872f57666fef2bb55e63ca0f0b3501}{for\+\_\+each}} (\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, I first, I last, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&op)
\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_ade9343683da80029f003017698395319}{for\+\_\+each\+\_\+index}} (\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, I beg, I \mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}, I inc, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&op)
\item 
{\footnotesize template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename... S$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1sycl_flow_a8f26562bfd6aac3885d763527d5666e7}{transform}} (\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}, I first, I last, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&op, S... srcs)
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 类型}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classtf_1_1sycl_flow_a946b048dd1f13121d8998d8d943e216e}{handle\+\_\+t}} = std\+::variant$<$\mbox{\hyperlink{structtf_1_1sycl_flow_1_1_external}{External}}, \mbox{\hyperlink{structtf_1_1sycl_flow_1_1_internal}{Internal}}$>$
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1sycl_flow_a90ff935d7a98daadf3e4f9f4aa663b95}{sycl\+Flow}} (\mbox{\hyperlink{classtf_1_1_executor}{Executor}} \&, \mbox{\hyperlink{classtf_1_1sycl_graph}{sycl\+Graph}} \&, sycl\+::queue \&)
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
sycl\+::queue \& \mbox{\hyperlink{classtf_1_1sycl_flow_a5728aaf61105ae3ee37eaddb24c1008d}{\+\_\+queue}}
\item 
\mbox{\hyperlink{classtf_1_1sycl_flow_a946b048dd1f13121d8998d8d943e216e}{handle\+\_\+t}} \mbox{\hyperlink{classtf_1_1sycl_flow_ae1d0a6dc43a4a28080db9577599fa3fa}{\+\_\+handle}}
\item 
\mbox{\hyperlink{classtf_1_1sycl_graph}{sycl\+Graph}} \& \mbox{\hyperlink{classtf_1_1sycl_flow_ad686b504d6ea0edbef8e2be9d57e63c8}{\+\_\+graph}}
\item 
std\+::vector$<$ \mbox{\hyperlink{classtf_1_1sycl_node}{sycl\+Node}} \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{classtf_1_1sycl_flow_ab16047aa143c6ed5bbfbff91488251ab}{\+\_\+tpg}}
\item 
std\+::queue$<$ \mbox{\hyperlink{classtf_1_1sycl_node}{sycl\+Node}} \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{classtf_1_1sycl_flow_ab67081d930e69106d1c2b69994a9ebd8}{\+\_\+bfs}}
\end{DoxyCompactItemize}
\doxysubsubsection*{友元}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classtf_1_1sycl_flow_a763b2f90bc53f92d680a635fe28e858e}{Executor}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
class for building a SYCL task dependency graph 

\doxysubsection{成员类型定义说明}
\Hypertarget{classtf_1_1sycl_flow_a946b048dd1f13121d8998d8d943e216e}\index{tf::syclFlow@{tf::syclFlow}!handle\_t@{handle\_t}}
\index{handle\_t@{handle\_t}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{handle\_t}{handle\_t}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a946b048dd1f13121d8998d8d943e216e} 
using \mbox{\hyperlink{classtf_1_1sycl_flow_a946b048dd1f13121d8998d8d943e216e}{tf\+::sycl\+Flow\+::handle\+\_\+t}} = std\+::variant$<$\mbox{\hyperlink{structtf_1_1sycl_flow_1_1_external}{External}}, \mbox{\hyperlink{structtf_1_1sycl_flow_1_1_internal}{Internal}}$>$\hspace{0.3cm}{\ttfamily [private]}}



\doxysubsection{构造及析构函数说明}
\Hypertarget{classtf_1_1sycl_flow_aca4297c5bcf7f6e3c59e43415afb0ebd}\index{tf::syclFlow@{tf::syclFlow}!syclFlow@{syclFlow}}
\index{syclFlow@{syclFlow}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{syclFlow()}{syclFlow()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_aca4297c5bcf7f6e3c59e43415afb0ebd} 
tf\+::sycl\+Flow\+::sycl\+Flow (\begin{DoxyParamCaption}\item[{sycl\+::queue \&}]{queue}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



constructs a standalone sycl\+Flow from the given queue 

\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} standalone sycl\+Flow does not go through any taskflow and can be run by the caller thread using explicit offload methods (e.\+g., \doxylink{classtf_1_1sycl_flow_a2928c2edc466dd625741080c147de4ef}{tf\+::sycl\+Flow\+::offload}). \Hypertarget{classtf_1_1sycl_flow_a2dec29bec12f5270893f5d44b2fd79bd}\index{tf::syclFlow@{tf::syclFlow}!````~syclFlow@{\texorpdfstring{$\sim$}{\string~}syclFlow}}
\index{````~syclFlow@{\texorpdfstring{$\sim$}{\string~}syclFlow}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}syclFlow()}{\string~syclFlow()}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a2dec29bec12f5270893f5d44b2fd79bd} 
tf\+::sycl\+Flow\+::\texorpdfstring{$\sim$}{\string~}sycl\+Flow (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



destroys the sycl\+Flow 

函数调用图\+:
% FIG 1
\Hypertarget{classtf_1_1sycl_flow_a90ff935d7a98daadf3e4f9f4aa663b95}\index{tf::syclFlow@{tf::syclFlow}!syclFlow@{syclFlow}}
\index{syclFlow@{syclFlow}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{syclFlow()}{syclFlow()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a90ff935d7a98daadf3e4f9f4aa663b95} 
tf\+::sycl\+Flow\+::sycl\+Flow (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1_executor}{Executor}} \&}]{e}{, }\item[{\mbox{\hyperlink{classtf_1_1sycl_graph}{sycl\+Graph}} \&}]{g}{, }\item[{sycl\+::queue \&}]{queue}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

函数调用图\+:
% FIG 2


\doxysubsection{成员函数说明}
\Hypertarget{classtf_1_1sycl_flow_a4d07f698f4defa3f8c0600c5c2f64c1c}\index{tf::syclFlow@{tf::syclFlow}!clear@{clear}}
\index{clear@{clear}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a4d07f698f4defa3f8c0600c5c2f64c1c} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::clear (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



clear the associated graph 

\Hypertarget{classtf_1_1sycl_flow_a4c4f4ddaac36346e0b9663aea45abe16}\index{tf::syclFlow@{tf::syclFlow}!copy@{copy}}
\index{copy@{copy}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{copy()}{copy()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a4c4f4ddaac36346e0b9663aea45abe16} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, std\+::enable\+\_\+if\+\_\+t$<$!std\+::is\+\_\+same\+\_\+v$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::copy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}}}]{task}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}}]{target}{, }\item[{const \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}}]{source}{, }\item[{size\+\_\+t}]{count}{}\end{DoxyParamCaption})}



rebinds the task to a copy task 

Similar to \doxylink{classtf_1_1sycl_flow_ac433456f3960028fb12a53018b263aee}{tf\+::sycl\+Flow\+::copy} but operates on an existing task. 函数调用图\+:
% FIG 3
\Hypertarget{classtf_1_1sycl_flow_ac433456f3960028fb12a53018b263aee}\index{tf::syclFlow@{tf::syclFlow}!copy@{copy}}
\index{copy@{copy}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{copy()}{copy()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ac433456f3960028fb12a53018b263aee} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, std\+::enable\+\_\+if\+\_\+t$<$!std\+::is\+\_\+same\+\_\+v$<$ \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*}$>$ \\
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::copy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}}]{target}{, }\item[{const \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}}]{source}{, }\item[{size\+\_\+t}]{count}{}\end{DoxyParamCaption})}



creates a copy task that copies typed data from a source to a target memory block 


\begin{DoxyTemplParams}{模板参数}
{\em T} & trivially copyable value type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em target} & pointer to the memory to fill \\
\hline
{\em source} & pointer to the pattern value to fill into the memory \\
\hline
{\em count} & number of items to fill the value\\
\hline
\end{DoxyParams}
Creates a task that copies {\ttfamily count} items of type {\ttfamily T} from a source memory location to a target memory location. 函数调用图\+:
% FIG 4
\Hypertarget{classtf_1_1sycl_flow_a6284f266b5d603fbecd148304c107dc6}\index{tf::syclFlow@{tf::syclFlow}!dump@{dump}}
\index{dump@{dump}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{dump()}{dump()}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a6284f266b5d603fbecd148304c107dc6} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::dump (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



dumps the sycl\+Flow graph into a DOT format through an output stream 

\Hypertarget{classtf_1_1sycl_flow_a0e33d2d4f26e52a55690d17f77d467b0}\index{tf::syclFlow@{tf::syclFlow}!empty@{empty}}
\index{empty@{empty}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a0e33d2d4f26e52a55690d17f77d467b0} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} tf\+::sycl\+Flow\+::empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



queries the emptiness of the graph 

\Hypertarget{classtf_1_1sycl_flow_ab44c2d34d333910d4c6d0823346a444d}\index{tf::syclFlow@{tf::syclFlow}!fill@{fill}}
\index{fill@{fill}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{fill()}{fill()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ab44c2d34d333910d4c6d0823346a444d} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::fill (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}}}]{task}{, }\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}}]{ptr}{, }\item[{const \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{pattern}{, }\item[{size\+\_\+t}]{count}{}\end{DoxyParamCaption})}



rebinds the task to a fill task 

Similar to \doxylink{classtf_1_1sycl_flow_a628843c986d60bea61eca8c48028159e}{tf\+::sycl\+Flow\+::fill} but operates on an existing task. 函数调用图\+:
% FIG 5
\Hypertarget{classtf_1_1sycl_flow_a628843c986d60bea61eca8c48028159e}\index{tf::syclFlow@{tf::syclFlow}!fill@{fill}}
\index{fill@{fill}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{fill()}{fill()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a628843c986d60bea61eca8c48028159e} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::fill (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}}]{ptr}{, }\item[{const \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{pattern}{, }\item[{size\+\_\+t}]{count}{}\end{DoxyParamCaption})}



creates a fill task that fills typed data with the given value 


\begin{DoxyTemplParams}{模板参数}
{\em T} & trivially copyable value type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em ptr} & pointer to the memory to fill \\
\hline
{\em pattern} & pattern value to fill into the memory \\
\hline
{\em count} & number of items to fill the value\\
\hline
\end{DoxyParams}
Creates a task that fills the specified memory with the specified value. 函数调用图\+:
% FIG 6
\Hypertarget{classtf_1_1sycl_flow_a30c3f7a279d1f88b6052f7ded1ee381a}\index{tf::syclFlow@{tf::syclFlow}!for\_each@{for\_each}}
\index{for\_each@{for\_each}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{for\_each()}{for\_each()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a30c3f7a279d1f88b6052f7ded1ee381a} 
template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::for\+\_\+each (\begin{DoxyParamCaption}\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{callable}{}\end{DoxyParamCaption})}



applies a callable to each dereferenced element of the data array 


\begin{DoxyTemplParams}{模板参数}
{\em I} & iterator type \\
\hline
{\em C} & callable type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & iterator to the beginning (inclusive) \\
\hline
{\em last} & iterator to the end (exclusive) \\
\hline
{\em callable} & a callable object to apply to the dereferenced iterator\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1sycl_task}{tf\+::sycl\+Task} handle
\end{DoxyReturn}
This method is equivalent to the parallel execution of the following loop on a GPU\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ itr\ =\ first;\ itr\ !=\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ itr++)\ \{}
\DoxyCodeLine{\ \ callable(*itr);}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 7
\Hypertarget{classtf_1_1sycl_flow_ad4872f57666fef2bb55e63ca0f0b3501}\index{tf::syclFlow@{tf::syclFlow}!for\_each@{for\_each}}
\index{for\_each@{for\_each}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{for\_each()}{for\_each()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ad4872f57666fef2bb55e63ca0f0b3501} 
template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::for\+\_\+each (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}}}]{task}{, }\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{op}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 8
\Hypertarget{classtf_1_1sycl_flow_a25e8aa7d7efbd05ef11353317174574a}\index{tf::syclFlow@{tf::syclFlow}!for\_each\_index@{for\_each\_index}}
\index{for\_each\_index@{for\_each\_index}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{for\_each\_index()}{for\_each\_index()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a25e8aa7d7efbd05ef11353317174574a} 
template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::for\+\_\+each\+\_\+index (\begin{DoxyParamCaption}\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{I}]{step}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{callable}{}\end{DoxyParamCaption})}



applies a callable to each index in the range with the step size 


\begin{DoxyTemplParams}{模板参数}
{\em I} & index type \\
\hline
{\em C} & callable type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & beginning index \\
\hline
{\em last} & last index \\
\hline
{\em step} & step size \\
\hline
{\em callable} & the callable to apply to each element in the data array\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1sycl_task}{tf\+::sycl\+Task} handle
\end{DoxyReturn}
This method is equivalent to the parallel execution of the following loop on a GPU\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ step\ is\ positive\ [first,\ last)}}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=first;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}+=\mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a8af85ff0ba544ac84f4b42b0333f5d14}{step}})\ \{}
\DoxyCodeLine{\ \ callable(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ step\ is\ negative\ [first,\ last)}}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=first;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}>\mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}+=\mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a8af85ff0ba544ac84f4b42b0333f5d14}{step}})\ \{}
\DoxyCodeLine{\ \ callable(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 9
\Hypertarget{classtf_1_1sycl_flow_ade9343683da80029f003017698395319}\index{tf::syclFlow@{tf::syclFlow}!for\_each\_index@{for\_each\_index}}
\index{for\_each\_index@{for\_each\_index}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{for\_each\_index()}{for\_each\_index()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ade9343683da80029f003017698395319} 
template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::for\+\_\+each\+\_\+index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}}}]{task}{, }\item[{I}]{beg}{, }\item[{I}]{end}{, }\item[{I}]{inc}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{op}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 10
\Hypertarget{classtf_1_1sycl_flow_a81baff4f1d0408a5b0e45abcc0a64ca0}\index{tf::syclFlow@{tf::syclFlow}!memcpy@{memcpy}}
\index{memcpy@{memcpy}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{memcpy()}{memcpy()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a81baff4f1d0408a5b0e45abcc0a64ca0} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::memcpy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}}}]{task}{, }\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}}]{tgt}{, }\item[{const \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}}]{src}{, }\item[{size\+\_\+t}]{bytes}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



rebinds the task to a memcpy task 

Similar to \doxylink{classtf_1_1sycl_flow_ac1e1eb858d9271ed61ff4fe00f135e92}{tf\+::sycl\+Flow\+::memcpy} but operates on an existing task. 函数调用图\+:
% FIG 11
\Hypertarget{classtf_1_1sycl_flow_ac1e1eb858d9271ed61ff4fe00f135e92}\index{tf::syclFlow@{tf::syclFlow}!memcpy@{memcpy}}
\index{memcpy@{memcpy}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{memcpy()}{memcpy()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ac1e1eb858d9271ed61ff4fe00f135e92} 
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::memcpy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}}]{tgt}{, }\item[{const \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}}]{src}{, }\item[{size\+\_\+t}]{bytes}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



creates a memcpy task that copies untyped data in bytes 


\begin{DoxyParams}{参数}
{\em tgt} & pointer to the target memory block \\
\hline
{\em src} & pointer to the source memory block \\
\hline
{\em bytes} & bytes to copy\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1sycl_task}{tf\+::sycl\+Task} handle
\end{DoxyReturn}
\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} memcpy task transfers {\ttfamily bytes} of data from a source locationA {\ttfamily src} to a target location {\ttfamily tgt}. Both {\ttfamily src} and {\ttfamily tgt} may be either host or USM pointers. 函数调用图\+:
% FIG 12
\Hypertarget{classtf_1_1sycl_flow_a8dd81cb78380804fa117797ce412601b}\index{tf::syclFlow@{tf::syclFlow}!memset@{memset}}
\index{memset@{memset}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{memset()}{memset()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a8dd81cb78380804fa117797ce412601b} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::memset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}}}]{task}{, }\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}}]{ptr}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{value}{, }\item[{size\+\_\+t}]{bytes}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



rebinds the task to a memset task 

Similar to \doxylink{classtf_1_1sycl_flow_a54b7497c0f4763bb4f8604f6c5654a5f}{tf\+::sycl\+Flow\+::memset} but operates on an existing task. 函数调用图\+:
% FIG 13
\Hypertarget{classtf_1_1sycl_flow_a54b7497c0f4763bb4f8604f6c5654a5f}\index{tf::syclFlow@{tf::syclFlow}!memset@{memset}}
\index{memset@{memset}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{memset()}{memset()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a54b7497c0f4763bb4f8604f6c5654a5f} 
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::memset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \texorpdfstring{$\ast$}{*}}]{ptr}{, }\item[{\mbox{\hyperlink{sugar_8h_ae4f82344f573c70aa1066a2394bba345}{int}}}]{value}{, }\item[{size\+\_\+t}]{bytes}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



creates a memset task that fills untyped data with a byte value 


\begin{DoxyParams}{参数}
{\em ptr} & pointer to the destination device memory area \\
\hline
{\em value} & value to set for each byte of specified memory \\
\hline
{\em bytes} & number of bytes to set\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1sycl_task}{tf\+::sycl\+Task} handle
\end{DoxyReturn}
Fills {\ttfamily bytes} of memory beginning at address {\ttfamily ptr} with {\ttfamily value}. {\ttfamily ptr} must be a USM allocation. {\ttfamily value} is interpreted as an unsigned char. 函数调用图\+:
% FIG 14
\Hypertarget{classtf_1_1sycl_flow_aedcc6b3363f98c68762e7fb32ea45406}\index{tf::syclFlow@{tf::syclFlow}!num\_tasks@{num\_tasks}}
\index{num\_tasks@{num\_tasks}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{num\_tasks()}{num\_tasks()}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_aedcc6b3363f98c68762e7fb32ea45406} 
size\+\_\+t tf\+::sycl\+Flow\+::num\+\_\+tasks (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



queries the number of tasks 

\Hypertarget{classtf_1_1sycl_flow_a2928c2edc466dd625741080c147de4ef}\index{tf::syclFlow@{tf::syclFlow}!offload@{offload}}
\index{offload@{offload}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{offload()}{offload()}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a2928c2edc466dd625741080c147de4ef} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::offload (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



offloads the sycl\+Flow and executes it once 

函数调用图\+:
% FIG 15
\Hypertarget{classtf_1_1sycl_flow_a23fc8f965e05fb8788dcc9fa02473529}\index{tf::syclFlow@{tf::syclFlow}!offload\_n@{offload\_n}}
\index{offload\_n@{offload\_n}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{offload\_n()}{offload\_n()}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a23fc8f965e05fb8788dcc9fa02473529} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::offload\+\_\+n (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{N}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



offloads the sycl\+Flow and executes it by the given times 


\begin{DoxyParams}{参数}
{\em N} & number of executions \\
\hline
\end{DoxyParams}
函数调用图\+:
% FIG 16
\Hypertarget{classtf_1_1sycl_flow_a1b033143bcfd857b45a2c2bad213b769}\index{tf::syclFlow@{tf::syclFlow}!offload\_until@{offload\_until}}
\index{offload\_until@{offload\_until}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{offload\_until()}{offload\_until()}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a1b033143bcfd857b45a2c2bad213b769} 
template$<$typename P$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::offload\+\_\+until (\begin{DoxyParamCaption}\item[{P \&\&}]{predicate}{}\end{DoxyParamCaption})}



offloads the sycl\+Flow onto a GPU and repeatedly runs it until the predicate becomes true 


\begin{DoxyTemplParams}{模板参数}
{\em P} & predicate type (a binary callable)\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em predicate} & a binary predicate (returns {\ttfamily true} for stop)\\
\hline
\end{DoxyParams}
Repetitively executes the present sycl\+Flow through the given queue object until the predicate returns {\ttfamily true}.

By default, if users do not offload the sycl\+Flow, the executor will offload it once. 函数调用图\+:
% FIG 17
\Hypertarget{classtf_1_1sycl_flow_a20b79581d27eaed2812ffb14dc821a64}\index{tf::syclFlow@{tf::syclFlow}!on@{on}}
\index{on@{on}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{on()}{on()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a20b79581d27eaed2812ffb14dc821a64} 
template$<$typename \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, std\+::enable\+\_\+if\+\_\+t$<$ std\+::is\+\_\+invocable\+\_\+r\+\_\+v$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, sycl\+::handler \& $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*}$>$ \\
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::on (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \&\&}]{func}{}\end{DoxyParamCaption})}



creates a task that launches the given command group function object 


\begin{DoxyTemplParams}{模板参数}
{\em F} & type of command group function object \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em func} & function object that is constructible from std\+::function$<$void(sycl\+::handler\&)$>$\\
\hline
\end{DoxyParams}
Creates a task that is associated from the given command group. In SYCL, each command group function object is given a unique command group handler object to perform all the necessary work required to correctly process data on a device using a kernel. 函数调用图\+:
% FIG 18
\Hypertarget{classtf_1_1sycl_flow_a24827902c99771ecff1cfeb88d639af0}\index{tf::syclFlow@{tf::syclFlow}!on@{on}}
\index{on@{on}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{on()}{on()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a24827902c99771ecff1cfeb88d639af0} 
template$<$typename \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, std\+::enable\+\_\+if\+\_\+t$<$ std\+::is\+\_\+invocable\+\_\+r\+\_\+v$<$ \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}}, \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}, sycl\+::handler \& $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::on (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}}}]{task}{, }\item[{\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \&\&}]{func}{}\end{DoxyParamCaption})}



updates the task to the given command group function object 

Similar to \doxylink{classtf_1_1sycl_flow_a20b79581d27eaed2812ffb14dc821a64}{tf\+::sycl\+Flow\+::on} but operates on an existing task. 函数调用图\+:
% FIG 19
\Hypertarget{classtf_1_1sycl_flow_ae42b1da441d5696dc589ee9ee89b9deb}\index{tf::syclFlow@{tf::syclFlow}!parallel\_for@{parallel\_for}}
\index{parallel\_for@{parallel\_for}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{parallel\_for()}{parallel\_for()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ae42b1da441d5696dc589ee9ee89b9deb} 
template$<$typename... ArgsT$>$ \\
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::parallel\+\_\+for (\begin{DoxyParamCaption}\item[{ArgsT \&\&...}]{args}{}\end{DoxyParamCaption})}



creates a kernel task 


\begin{DoxyTemplParams}{模板参数}
{\em ArgsT} & arguments types\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em args} & arguments to forward to the parallel\+\_\+for methods defined in the handler object\\
\hline
\end{DoxyParams}
Creates a kernel task from a parallel\+\_\+for method through the handler object associated with a command group. 函数调用图\+:
% FIG 20
\Hypertarget{classtf_1_1sycl_flow_a90c1559f1db6644ce0f06c76659cc735}\index{tf::syclFlow@{tf::syclFlow}!parallel\_for@{parallel\_for}}
\index{parallel\_for@{parallel\_for}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{parallel\_for()}{parallel\_for()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a90c1559f1db6644ce0f06c76659cc735} 
template$<$typename... ArgsT$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::parallel\+\_\+for (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}}}]{task}{, }\item[{ArgsT \&\&...}]{args}{}\end{DoxyParamCaption})}



rebinds the task to a parallel-\/for kernel task 

Similar to \doxylink{classtf_1_1sycl_flow_ae42b1da441d5696dc589ee9ee89b9deb}{tf\+::sycl\+Flow\+::parallel\+\_\+for} but operates on an existing task. 函数调用图\+:
% FIG 21
\Hypertarget{classtf_1_1sycl_flow_acddd05832e53597ae9d30dc913d422ca}\index{tf::syclFlow@{tf::syclFlow}!reduce@{reduce}}
\index{reduce@{reduce}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{reduce()}{reduce()}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_acddd05832e53597ae9d30dc913d422ca} 
template$<$typename I, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::reduce (\begin{DoxyParamCaption}\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}}]{result}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{op}{}\end{DoxyParamCaption})}



performs parallel reduction over a range of items 


\begin{DoxyTemplParams}{模板参数}
{\em I} & input iterator type \\
\hline
{\em T} & value type \\
\hline
{\em C} & callable type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & iterator to the beginning (inclusive) \\
\hline
{\em last} & iterator to the end (exclusive) \\
\hline
{\em result} & pointer to the result with an initialized value \\
\hline
{\em op} & binary reduction operator\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1sycl_task}{tf\+::sycl\+Task} handle
\end{DoxyReturn}
This method is equivalent to the parallel execution of the following loop on a SYCL device\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{while}\ (first\ !=\ last)\ \{}
\DoxyCodeLine{\ \ *\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ op(*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}},\ *first++);}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 22
\Hypertarget{classtf_1_1sycl_flow_a05ff6f331b6cf48e21ae7f0d6aea9094}\index{tf::syclFlow@{tf::syclFlow}!single\_task@{single\_task}}
\index{single\_task@{single\_task}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{single\_task()}{single\_task()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a05ff6f331b6cf48e21ae7f0d6aea9094} 
template$<$typename \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}$>$ \\
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::single\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \&\&}]{func}{}\end{DoxyParamCaption})}



invokes a SYCL kernel function using only one thread 


\begin{DoxyTemplParams}{模板参数}
{\em F} & kernel function type \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em func} & kernel function\\
\hline
\end{DoxyParams}
Creates a task that launches the given function object using only one kernel thread. 函数调用图\+:
% FIG 23
\Hypertarget{classtf_1_1sycl_flow_ad0d9d75c49a0d0efe4e026d8c874b598}\index{tf::syclFlow@{tf::syclFlow}!single\_task@{single\_task}}
\index{single\_task@{single\_task}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{single\_task()}{single\_task()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ad0d9d75c49a0d0efe4e026d8c874b598} 
template$<$typename \mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::single\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}}}]{task}{, }\item[{\mbox{\hyperlink{test__flow__graph_8cpp_a1c83625ec20fd09ecaf0e5b37c75f6f8}{F}} \&\&}]{func}{}\end{DoxyParamCaption})}



rebinds the task to a single-\/threaded kernel task 

Similar to \doxylink{classtf_1_1sycl_flow_a05ff6f331b6cf48e21ae7f0d6aea9094}{tf\+::sycl\+Flow\+::single\+\_\+task} but operates on an existing task. 函数调用图\+:
% FIG 24
\Hypertarget{classtf_1_1sycl_flow_ae278939334a90b6d58d8771e87b2e793}\index{tf::syclFlow@{tf::syclFlow}!transform@{transform}}
\index{transform@{transform}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ae278939334a90b6d58d8771e87b2e793} 
template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename... S$>$ \\
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::transform (\begin{DoxyParamCaption}\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{callable}{, }\item[{S...}]{srcs}{}\end{DoxyParamCaption})}



applies a callable to a source range and stores the result in a target range 


\begin{DoxyTemplParams}{模板参数}
{\em I} & iterator type \\
\hline
{\em C} & callable type \\
\hline
{\em S} & source types\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & iterator to the beginning (inclusive) \\
\hline
{\em last} & iterator to the end (exclusive) \\
\hline
{\em callable} & the callable to apply to each element in the range \\
\hline
{\em srcs} & iterators to the source ranges\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1sycl_task}{tf\+::sycl\+Task} handle
\end{DoxyReturn}
This method is equivalent to the parallel execution of the following loop on a SYCL device\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{while}\ (first\ !=\ last)\ \{}
\DoxyCodeLine{\ \ *\mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}}++\ =\ callable(*src1++,\ *src2++,\ *src3++,\ ...);}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 25
\Hypertarget{classtf_1_1sycl_flow_a8f26562bfd6aac3885d763527d5666e7}\index{tf::syclFlow@{tf::syclFlow}!transform@{transform}}
\index{transform@{transform}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a8f26562bfd6aac3885d763527d5666e7} 
template$<$typename I, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename... S$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::sycl\+Flow\+::transform (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}}}]{task}{, }\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{op}{, }\item[{S...}]{srcs}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 26
\Hypertarget{classtf_1_1sycl_flow_a7a3af92f105114b1095a2cec2ccdffbf}\index{tf::syclFlow@{tf::syclFlow}!uninitialized\_reduce@{uninitialized\_reduce}}
\index{uninitialized\_reduce@{uninitialized\_reduce}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{uninitialized\_reduce()}{uninitialized\_reduce()}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a7a3af92f105114b1095a2cec2ccdffbf} 
template$<$typename I, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1sycl_task}{sycl\+Task}} tf\+::sycl\+Flow\+::uninitialized\+\_\+reduce (\begin{DoxyParamCaption}\item[{I}]{first}{, }\item[{I}]{last}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \texorpdfstring{$\ast$}{*}}]{result}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{op}{}\end{DoxyParamCaption})}



similar to \doxylink{classtf_1_1sycl_flow_acddd05832e53597ae9d30dc913d422ca}{tf\+::sycl\+Flow\+::reduce} but does not assume any initial value to reduce 

This method is equivalent to the parallel execution of the following loop on a SYCL device\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ *\mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}}++;\ \ \textcolor{comment}{//\ no\ initial\ values\ partitipcate\ in\ the\ loop}}
\DoxyCodeLine{\textcolor{keywordflow}{while}\ (first\ !=\ last)\ \{}
\DoxyCodeLine{\ \ *\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ =\ op(*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}},\ *first++);}
\DoxyCodeLine{\}}

\end{DoxyCode}
 函数调用图\+:
% FIG 27


\doxysubsection{友元及相关符号说明}
\Hypertarget{classtf_1_1sycl_flow_a763b2f90bc53f92d680a635fe28e858e}\index{tf::syclFlow@{tf::syclFlow}!Executor@{Executor}}
\index{Executor@{Executor}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{Executor}{Executor}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a763b2f90bc53f92d680a635fe28e858e} 
friend class \mbox{\hyperlink{classtf_1_1_executor}{Executor}}\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{类成员变量说明}
\Hypertarget{classtf_1_1sycl_flow_ab67081d930e69106d1c2b69994a9ebd8}\index{tf::syclFlow@{tf::syclFlow}!\_bfs@{\_bfs}}
\index{\_bfs@{\_bfs}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{\_bfs}{\_bfs}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ab67081d930e69106d1c2b69994a9ebd8} 
std\+::queue$<$\mbox{\hyperlink{classtf_1_1sycl_node}{sycl\+Node}}\texorpdfstring{$\ast$}{*}$>$ tf\+::sycl\+Flow\+::\+\_\+bfs\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1sycl_flow_ad686b504d6ea0edbef8e2be9d57e63c8}\index{tf::syclFlow@{tf::syclFlow}!\_graph@{\_graph}}
\index{\_graph@{\_graph}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{\_graph}{\_graph}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ad686b504d6ea0edbef8e2be9d57e63c8} 
\mbox{\hyperlink{classtf_1_1sycl_graph}{sycl\+Graph}}\& tf\+::sycl\+Flow\+::\+\_\+graph\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1sycl_flow_ae1d0a6dc43a4a28080db9577599fa3fa}\index{tf::syclFlow@{tf::syclFlow}!\_handle@{\_handle}}
\index{\_handle@{\_handle}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{\_handle}{\_handle}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ae1d0a6dc43a4a28080db9577599fa3fa} 
\mbox{\hyperlink{classtf_1_1sycl_flow_a946b048dd1f13121d8998d8d943e216e}{handle\+\_\+t}} tf\+::sycl\+Flow\+::\+\_\+handle\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1sycl_flow_a5728aaf61105ae3ee37eaddb24c1008d}\index{tf::syclFlow@{tf::syclFlow}!\_queue@{\_queue}}
\index{\_queue@{\_queue}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{\_queue}{\_queue}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_a5728aaf61105ae3ee37eaddb24c1008d} 
sycl\+::queue\& tf\+::sycl\+Flow\+::\+\_\+queue\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1sycl_flow_ab16047aa143c6ed5bbfbff91488251ab}\index{tf::syclFlow@{tf::syclFlow}!\_tpg@{\_tpg}}
\index{\_tpg@{\_tpg}!tf::syclFlow@{tf::syclFlow}}
\doxysubsubsection{\texorpdfstring{\_tpg}{\_tpg}}
{\footnotesize\ttfamily \label{classtf_1_1sycl_flow_ab16047aa143c6ed5bbfbff91488251ab} 
std\+::vector$<$\mbox{\hyperlink{classtf_1_1sycl_node}{sycl\+Node}}\texorpdfstring{$\ast$}{*}$>$ tf\+::sycl\+Flow\+::\+\_\+tpg\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/taskflow/sycl/\mbox{\hyperlink{syclflow_8hpp}{syclflow.\+hpp}}\item 
external/taskflow/taskflow/sycl/algorithm/\mbox{\hyperlink{taskflow_2sycl_2algorithm_2reduce_8hpp}{reduce.\+hpp}}\item 
external/taskflow/taskflow/sycl/algorithm/\mbox{\hyperlink{sycl__for__each_8hpp}{sycl\+\_\+for\+\_\+each.\+hpp}}\item 
external/taskflow/taskflow/sycl/algorithm/\mbox{\hyperlink{sycl__transform_8hpp}{sycl\+\_\+transform.\+hpp}}\end{DoxyCompactItemize}
