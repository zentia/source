\doxysection{rml\+::internal\+::job\+\_\+automaton类 参考}
\hypertarget{classrml_1_1internal_1_1job__automaton}{}\label{classrml_1_1internal_1_1job__automaton}\index{rml::internal::job\_automaton@{rml::internal::job\_automaton}}


Finite state machine.  




{\ttfamily \#include $<$job\+\_\+automaton.\+h$>$}



类 rml\+::internal\+::job\+\_\+automaton 继承关系图\+:
% FIG 0


rml\+::internal\+::job\+\_\+automaton 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classrml_1_1internal_1_1job__automaton_a718f6b9c70693c1acd2505a09fe70573}{job\+\_\+automaton}} ()
\item 
\mbox{\hyperlink{classrml_1_1internal_1_1job__automaton_a413b3068986317a1a7eef69cea825bbf}{\texorpdfstring{$\sim$}{\string~}job\+\_\+automaton}} ()
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classrml_1_1internal_1_1job__automaton_a7827846c262b57f3675d9daa26a99f5c}{try\+\_\+acquire}} ()
\begin{DoxyCompactList}\small\item\em Try to transition 0-\/-\/\texorpdfstring{$>$}{>}1 or ptr-\/-\/\texorpdfstring{$>$}{>}ptr\texorpdfstring{$\vert$}{|}1. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1internal_1_1job__automaton_a4ff55249f0b1e04a734544d1dacaa981}{release}} ()
\begin{DoxyCompactList}\small\item\em Transition ptr\texorpdfstring{$\vert$}{|}1-\/-\/\texorpdfstring{$>$}{>}ptr \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classrml_1_1internal_1_1job__automaton_acaa873dc2d6f18617d09a0ca1048a021}{set\+\_\+and\+\_\+release}} (\mbox{\hyperlink{classrml_1_1job}{rml\+::job}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classrml_1_1job}{job}})
\begin{DoxyCompactList}\small\item\em Transition 1-\/-\/\texorpdfstring{$>$}{>}ptr \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classrml_1_1internal_1_1job__automaton_aa02562dab9cd5c9fea74de1230954a52}{try\+\_\+plug\+\_\+null}} ()
\begin{DoxyCompactList}\small\item\em Transition 0-\/-\/\texorpdfstring{$>$}{>}-\/1 \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classrml_1_1internal_1_1job__automaton_aecec366a488ff3144fa9be54fc2cce94}{try\+\_\+plug}} (\mbox{\hyperlink{classrml_1_1job}{rml\+::job}} \texorpdfstring{$\ast$}{*}\&\mbox{\hyperlink{tut__arithmetic__redux__minmax_8cpp_a39513f0f8d942bf9ef17b2e87ac6d34e}{j}})
\begin{DoxyCompactList}\small\item\em Try to transition to -\/1. If successful, set j to contents and return true. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classrml_1_1job}{rml\+::job}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classrml_1_1internal_1_1job__automaton_ab4149979a8e7f48053fdb9315684bcb6}{wait\+\_\+for\+\_\+job}} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
tbb\+::atomic$<$ intptr\+\_\+t $>$ \mbox{\hyperlink{classrml_1_1internal_1_1job__automaton_ae59500b6f153316cb01578fbafa9ecb8}{my\+\_\+job}}
\end{DoxyCompactItemize}
\doxysubsubsection*{额外继承的成员函数}
\doxysubsection*{Private 成员函数 继承自 \mbox{\hyperlink{classrml_1_1no__copy}{rml\+::no\+\_\+copy}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classrml_1_1no__copy_a3374ec4e128b34d86188af29225da503}{no\+\_\+copy}} ()
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
Finite state machine. 

/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---\textbackslash{} / V 0 -\/-\/\texorpdfstring{$>$}{>} 1-\/-\/\texorpdfstring{$>$}{>} ptr -\/-\/\texorpdfstring{$>$}{>} -\/1 \texorpdfstring{$^\wedge$}{\string^} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} V ptr\texorpdfstring{$\vert$}{|}1

"{}owner"{} = corresponding \doxylink{classrml_1_1internal_1_1server__thread}{server\+\_\+thread}. Odd states (except -\/1) indicate that someone is executing code on the job. Most transitions driven only by owner. Transition 0-\/-\/\texorpdfstring{$>$}{>}-\/1 is driven by non-\/owner. Transition ptr-\/\texorpdfstring{$>$}{>}-\/1 is driven by owner or non-\/owner. 

\doxysubsection{构造及析构函数说明}
\Hypertarget{classrml_1_1internal_1_1job__automaton_a718f6b9c70693c1acd2505a09fe70573}\index{rml::internal::job\_automaton@{rml::internal::job\_automaton}!job\_automaton@{job\_automaton}}
\index{job\_automaton@{job\_automaton}!rml::internal::job\_automaton@{rml::internal::job\_automaton}}
\doxysubsubsection{\texorpdfstring{job\_automaton()}{job\_automaton()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1job__automaton_a718f6b9c70693c1acd2505a09fe70573} 
rml\+::internal\+::job\+\_\+automaton\+::job\+\_\+automaton (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Created by non-\/owner \Hypertarget{classrml_1_1internal_1_1job__automaton_a413b3068986317a1a7eef69cea825bbf}\index{rml::internal::job\_automaton@{rml::internal::job\_automaton}!````~job\_automaton@{\texorpdfstring{$\sim$}{\string~}job\_automaton}}
\index{````~job\_automaton@{\texorpdfstring{$\sim$}{\string~}job\_automaton}!rml::internal::job\_automaton@{rml::internal::job\_automaton}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}job\_automaton()}{\string~job\_automaton()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1job__automaton_a413b3068986317a1a7eef69cea825bbf} 
rml\+::internal\+::job\+\_\+automaton\+::\texorpdfstring{$\sim$}{\string~}job\+\_\+automaton (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{成员函数说明}
\Hypertarget{classrml_1_1internal_1_1job__automaton_a4ff55249f0b1e04a734544d1dacaa981}\index{rml::internal::job\_automaton@{rml::internal::job\_automaton}!release@{release}}
\index{release@{release}!rml::internal::job\_automaton@{rml::internal::job\_automaton}}
\doxysubsubsection{\texorpdfstring{release()}{release()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1job__automaton_a4ff55249f0b1e04a734544d1dacaa981} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::internal\+::job\+\_\+automaton\+::release (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Transition ptr\texorpdfstring{$\vert$}{|}1-\/-\/\texorpdfstring{$>$}{>}ptr 

Should only be called by owner. \Hypertarget{classrml_1_1internal_1_1job__automaton_acaa873dc2d6f18617d09a0ca1048a021}\index{rml::internal::job\_automaton@{rml::internal::job\_automaton}!set\_and\_release@{set\_and\_release}}
\index{set\_and\_release@{set\_and\_release}!rml::internal::job\_automaton@{rml::internal::job\_automaton}}
\doxysubsubsection{\texorpdfstring{set\_and\_release()}{set\_and\_release()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1job__automaton_acaa873dc2d6f18617d09a0ca1048a021} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} rml\+::internal\+::job\+\_\+automaton\+::set\+\_\+and\+\_\+release (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrml_1_1job}{rml\+::job}} \texorpdfstring{$\ast$}{*}}]{job}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Transition 1-\/-\/\texorpdfstring{$>$}{>}ptr 

Should only be called by owner. \Hypertarget{classrml_1_1internal_1_1job__automaton_a7827846c262b57f3675d9daa26a99f5c}\index{rml::internal::job\_automaton@{rml::internal::job\_automaton}!try\_acquire@{try\_acquire}}
\index{try\_acquire@{try\_acquire}!rml::internal::job\_automaton@{rml::internal::job\_automaton}}
\doxysubsubsection{\texorpdfstring{try\_acquire()}{try\_acquire()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1job__automaton_a7827846c262b57f3675d9daa26a99f5c} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} rml\+::internal\+::job\+\_\+automaton\+::try\+\_\+acquire (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Try to transition 0-\/-\/\texorpdfstring{$>$}{>}1 or ptr-\/-\/\texorpdfstring{$>$}{>}ptr\texorpdfstring{$\vert$}{|}1. 

Should only be called by owner. \Hypertarget{classrml_1_1internal_1_1job__automaton_aecec366a488ff3144fa9be54fc2cce94}\index{rml::internal::job\_automaton@{rml::internal::job\_automaton}!try\_plug@{try\_plug}}
\index{try\_plug@{try\_plug}!rml::internal::job\_automaton@{rml::internal::job\_automaton}}
\doxysubsubsection{\texorpdfstring{try\_plug()}{try\_plug()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1job__automaton_aecec366a488ff3144fa9be54fc2cce94} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} rml\+::internal\+::job\+\_\+automaton\+::try\+\_\+plug (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrml_1_1job}{rml\+::job}} \texorpdfstring{$\ast$}{*}\&}]{j}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Try to transition to -\/1. If successful, set j to contents and return true. 

Called by owner or non-\/owner. (for Open\+MP and the likes) \Hypertarget{classrml_1_1internal_1_1job__automaton_aa02562dab9cd5c9fea74de1230954a52}\index{rml::internal::job\_automaton@{rml::internal::job\_automaton}!try\_plug\_null@{try\_plug\_null}}
\index{try\_plug\_null@{try\_plug\_null}!rml::internal::job\_automaton@{rml::internal::job\_automaton}}
\doxysubsubsection{\texorpdfstring{try\_plug\_null()}{try\_plug\_null()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1job__automaton_aa02562dab9cd5c9fea74de1230954a52} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} rml\+::internal\+::job\+\_\+automaton\+::try\+\_\+plug\+\_\+null (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Transition 0-\/-\/\texorpdfstring{$>$}{>}-\/1 

If successful, return true. called by non-\/owner (for \doxylink{struct_t_b_b}{TBB} and the likes) \Hypertarget{classrml_1_1internal_1_1job__automaton_ab4149979a8e7f48053fdb9315684bcb6}\index{rml::internal::job\_automaton@{rml::internal::job\_automaton}!wait\_for\_job@{wait\_for\_job}}
\index{wait\_for\_job@{wait\_for\_job}!rml::internal::job\_automaton@{rml::internal::job\_automaton}}
\doxysubsubsection{\texorpdfstring{wait\_for\_job()}{wait\_for\_job()}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1job__automaton_ab4149979a8e7f48053fdb9315684bcb6} 
\mbox{\hyperlink{classrml_1_1job}{rml\+::job}} \texorpdfstring{$\ast$}{*} rml\+::internal\+::job\+\_\+automaton\+::wait\+\_\+for\+\_\+job (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Called by non-\/owner to wait for transition to ptr. 

\doxysubsection{类成员变量说明}
\Hypertarget{classrml_1_1internal_1_1job__automaton_ae59500b6f153316cb01578fbafa9ecb8}\index{rml::internal::job\_automaton@{rml::internal::job\_automaton}!my\_job@{my\_job}}
\index{my\_job@{my\_job}!rml::internal::job\_automaton@{rml::internal::job\_automaton}}
\doxysubsubsection{\texorpdfstring{my\_job}{my\_job}}
{\footnotesize\ttfamily \label{classrml_1_1internal_1_1job__automaton_ae59500b6f153316cb01578fbafa9ecb8} 
tbb\+::atomic$<$intptr\+\_\+t$>$ rml\+::internal\+::job\+\_\+automaton\+::my\+\_\+job\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/src/rml/server/\mbox{\hyperlink{job__automaton_8h}{job\+\_\+automaton.\+h}}\end{DoxyCompactItemize}
