\doxysection{tbb\+::interface5\+::concurrent\+\_\+hash\+\_\+map\texorpdfstring{$<$}{<} Key, T, Hash\+Compare, Allocator \texorpdfstring{$>$}{>}\+::bucket\+\_\+accessor类 参考}
\hypertarget{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor}{}\label{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor}\index{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}}


bucket accessor is to find, rehash, acquire a lock, and access a bucket  




{\ttfamily \#include $<$concurrent\+\_\+hash\+\_\+map.\+h$>$}



类 tbb\+::interface5\+::concurrent\+\_\+hash\+\_\+map\texorpdfstring{$<$}{<} Key, T, Hash\+Compare, Allocator \texorpdfstring{$>$}{>}\+::bucket\+\_\+accessor 继承关系图\+:
% FIG 0


tbb\+::interface5\+::concurrent\+\_\+hash\+\_\+map\texorpdfstring{$<$}{<} Key, T, Hash\+Compare, Allocator \texorpdfstring{$>$}{>}\+::bucket\+\_\+accessor 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a363fdc2cb5049f533b7a0bf365ed8e07}{bucket\+\_\+accessor}} (\mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map}{concurrent\+\_\+hash\+\_\+map}} \texorpdfstring{$\ast$}{*}base, const hashcode\+\_\+t \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classwriter}{writer}}=\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})
\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a31a5ea9a4ec5a497513b9ad10dcb6f8d}{acquire}} (\mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map}{concurrent\+\_\+hash\+\_\+map}} \texorpdfstring{$\ast$}{*}base, const hashcode\+\_\+t \mbox{\hyperlink{ittnotify__static_8h_ae68700d2ebda197674e2fdd0f916f00c}{h}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classwriter}{writer}}=\mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}})
\begin{DoxyCompactList}\small\item\em find a bucket by masked hashcode, optionally rehash, and acquire the lock \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_af25396304aa698bad0249263c7cccc5e}{is\+\_\+writer}} ()
\begin{DoxyCompactList}\small\item\em check whether bucket is locked for write \end{DoxyCompactList}\item 
bucket \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a84c7b9172501039dcffcc31c6165bc63}{operator()}} ()
\begin{DoxyCompactList}\small\item\em get bucket pointer \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
bucket \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a8d85c0f3264b7a9ddc41bcc87d86300b}{my\+\_\+b}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename Key, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Hash\+Compare, typename Allocator$>$\newline
class tbb\+::interface5\+::concurrent\+\_\+hash\+\_\+map$<$ Key, T, Hash\+Compare, Allocator $>$\+::bucket\+\_\+accessor}
bucket accessor is to find, rehash, acquire a lock, and access a bucket 

\doxysubsection{构造及析构函数说明}
\Hypertarget{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a363fdc2cb5049f533b7a0bf365ed8e07}\index{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}!bucket\_accessor@{bucket\_accessor}}
\index{bucket\_accessor@{bucket\_accessor}!tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}}
\doxysubsubsection{\texorpdfstring{bucket\_accessor()}{bucket\_accessor()}}
{\footnotesize\ttfamily \label{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a363fdc2cb5049f533b7a0bf365ed8e07} 
template$<$typename Key, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Hash\+Compare, typename Allocator$>$ \\
\mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map}{tbb\+::interface5\+::concurrent\+\_\+hash\+\_\+map}}$<$ Key, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Hash\+Compare, Allocator $>$\+::bucket\+\_\+accessor\+::bucket\+\_\+accessor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map}{concurrent\+\_\+hash\+\_\+map}} \texorpdfstring{$\ast$}{*}}]{base}{, }\item[{const hashcode\+\_\+t}]{h}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{writer}{ = {\ttfamily \mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:
% FIG 2


\doxysubsection{成员函数说明}
\Hypertarget{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a31a5ea9a4ec5a497513b9ad10dcb6f8d}\index{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}!acquire@{acquire}}
\index{acquire@{acquire}!tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}}
\doxysubsubsection{\texorpdfstring{acquire()}{acquire()}}
{\footnotesize\ttfamily \label{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a31a5ea9a4ec5a497513b9ad10dcb6f8d} 
template$<$typename Key, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Hash\+Compare, typename Allocator$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map}{tbb\+::interface5\+::concurrent\+\_\+hash\+\_\+map}}$<$ Key, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Hash\+Compare, Allocator $>$\+::bucket\+\_\+accessor\+::acquire (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map}{concurrent\+\_\+hash\+\_\+map}} \texorpdfstring{$\ast$}{*}}]{base}{, }\item[{const hashcode\+\_\+t}]{h}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{writer}{ = {\ttfamily \mbox{\hyperlink{yyjson_8h_a65e9886d74aaee76545e83dd09011727}{false}}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



find a bucket by masked hashcode, optionally rehash, and acquire the lock 

函数调用图\+:
% FIG 3
\Hypertarget{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_af25396304aa698bad0249263c7cccc5e}\index{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}!is\_writer@{is\_writer}}
\index{is\_writer@{is\_writer}!tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}}
\doxysubsubsection{\texorpdfstring{is\_writer()}{is\_writer()}}
{\footnotesize\ttfamily \label{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_af25396304aa698bad0249263c7cccc5e} 
template$<$typename Key, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Hash\+Compare, typename Allocator$>$ \\
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map}{tbb\+::interface5\+::concurrent\+\_\+hash\+\_\+map}}$<$ Key, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Hash\+Compare, Allocator $>$\+::bucket\+\_\+accessor\+::is\+\_\+writer (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



check whether bucket is locked for write 

\Hypertarget{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a84c7b9172501039dcffcc31c6165bc63}\index{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}!operator()@{operator()}}
\index{operator()@{operator()}!tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily \label{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a84c7b9172501039dcffcc31c6165bc63} 
template$<$typename Key, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Hash\+Compare, typename Allocator$>$ \\
bucket \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map}{tbb\+::interface5\+::concurrent\+\_\+hash\+\_\+map}}$<$ Key, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Hash\+Compare, Allocator $>$\+::bucket\+\_\+accessor\+::operator() (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



get bucket pointer 



\doxysubsection{类成员变量说明}
\Hypertarget{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a8d85c0f3264b7a9ddc41bcc87d86300b}\index{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}!my\_b@{my\_b}}
\index{my\_b@{my\_b}!tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor@{tbb::interface5::concurrent\_hash\_map$<$ Key, T, HashCompare, Allocator $>$::bucket\_accessor}}
\doxysubsubsection{\texorpdfstring{my\_b}{my\_b}}
{\footnotesize\ttfamily \label{classtbb_1_1interface5_1_1concurrent__hash__map_1_1bucket__accessor_a8d85c0f3264b7a9ddc41bcc87d86300b} 
template$<$typename Key, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename Hash\+Compare, typename Allocator$>$ \\
bucket\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classtbb_1_1interface5_1_1concurrent__hash__map}{tbb\+::interface5\+::concurrent\+\_\+hash\+\_\+map}}$<$ Key, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, Hash\+Compare, Allocator $>$\+::bucket\+\_\+accessor\+::my\+\_\+b\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/3rd-\/party/tbb/include/tbb/\mbox{\hyperlink{concurrent__hash__map_8h}{concurrent\+\_\+hash\+\_\+map.\+h}}\end{DoxyCompactItemize}
