\doxysection{tf\+::Flow\+Builder类 参考}
\hypertarget{classtf_1_1_flow_builder}{}\label{classtf_1_1_flow_builder}\index{tf::FlowBuilder@{tf::FlowBuilder}}


class to build a task dependency graph  




{\ttfamily \#include $<$flow\+\_\+builder.\+hpp$>$}



类 tf\+::Flow\+Builder 继承关系图\+:
% FIG 0


tf\+::Flow\+Builder 的协作图\+:
% FIG 1
\doxysubsubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1_flow_builder_a67d023d5493da1594a1d2eaea89da179}{Flow\+Builder}} (\mbox{\hyperlink{classtf_1_1_graph}{Graph}} \&graph)
\begin{DoxyCompactList}\small\item\em constructs a flow builder with a graph \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_a11fc9c98eb3a0d3a9aa55598b1f4d614}{is\+\_\+static\+\_\+task\+\_\+v}}$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}} (\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable)
\begin{DoxyCompactList}\small\item\em creates a static task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_af3d94f0be0f7b49e195c4e92737b1f85}{is\+\_\+runtime\+\_\+task\+\_\+v}}$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}} (\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable)
\begin{DoxyCompactList}\small\item\em creates a runtime task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_aefeb96086f4a99f0e58a0f321012a52c}{is\+\_\+subflow\+\_\+task\+\_\+v}}$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}} (\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable)
\begin{DoxyCompactList}\small\item\em creates a dynamic task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_a00ca2fc2de0e679a7d9b8039340343df}{is\+\_\+condition\+\_\+task\+\_\+v}}$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}} (\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable)
\begin{DoxyCompactList}\small\item\em creates a condition task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_a78c40dc8776735b0f2c27cd446481aff}{is\+\_\+multi\+\_\+condition\+\_\+task\+\_\+v}}$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}} (\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&callable)
\begin{DoxyCompactList}\small\item\em creates a multi-\/condition task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename... C, std\+::enable\+\_\+if\+\_\+t$<$(sizeof...(\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}})$>$1), \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\auto \mbox{\hyperlink{classtf_1_1_flow_builder_a1f6118326ad434f6c839007a1a79fe1b}{emplace}} (\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&... callables)
\begin{DoxyCompactList}\small\item\em creates multiple tasks from a list of callable objects \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_flow_builder_a5627f7962099ac7c4986993cffa7b909}{erase}} (\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}})
\begin{DoxyCompactList}\small\item\em removes a task from a taskflow \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_ac6f22228d4c2ea2e643c4b0d42c0e92a}{composed\+\_\+of}} (\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{classobject}{object}})
\begin{DoxyCompactList}\small\item\em creates a module task for the target object \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_acab0b4ac82260f47fdb36a3244ee3aaf}{placeholder}} ()
\begin{DoxyCompactList}\small\item\em creates a placeholder task \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_flow_builder_a90f3d9b9d6fcf4df8e7d7878dfdd130d}{linearize}} (std\+::vector$<$ \mbox{\hyperlink{classtf_1_1_task}{Task}} $>$ \&tasks)
\begin{DoxyCompactList}\small\item\em adds adjacent dependency links to a linear list of tasks \end{DoxyCompactList}\item 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_flow_builder_a4ec89b554d15ad5fb96f4fdb10dbbb16}{linearize}} (\mbox{\hyperlink{classstd_1_1initializer__list}{std\+::initializer\+\_\+list}}$<$ \mbox{\hyperlink{classtf_1_1_task}{Task}} $>$ tasks)
\begin{DoxyCompactList}\small\item\em adds adjacent dependency links to a linear list of tasks \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P = Default\+Partitioner$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_aae3edfa278baa75b08414e083c14c836}{for\+\_\+each}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} callable, P part=P())
\begin{DoxyCompactList}\small\item\em constructs an STL-\/styled parallel-\/for task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P = Default\+Partitioner$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a3b132bd902331a11b04b4ad66cf8bf77}{for\+\_\+each\+\_\+index}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}} step, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} callable, P part=P())
\begin{DoxyCompactList}\small\item\em constructs an index-\/based parallel-\/for task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P = Default\+Partitioner$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a2582a216d54dacca2b7022ea7e89452a}{for\+\_\+each\+\_\+by\+\_\+index}} (\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}} range, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} callable, P part=P())
\begin{DoxyCompactList}\small\item\em constructs an index range-\/based parallel-\/for task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P = Default\+Partitioner, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_a73c20705fc54763f195a00b6e626e301}{is\+\_\+partitioner\+\_\+v}}$<$ std\+::decay\+\_\+t$<$ P $>$ $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a97be7ceef6fa4276e3b074c10c13b826}{transform}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first1, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last1, O d\+\_\+first, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}, P part=P())
\begin{DoxyCompactList}\small\item\em constructs a parallel-\/transform task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename B1, typename E1, typename B2, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P = Default\+Partitioner, std\+::enable\+\_\+if\+\_\+t$<$!\mbox{\hyperlink{namespacetf_a73c20705fc54763f195a00b6e626e301}{is\+\_\+partitioner\+\_\+v}}$<$ std\+::decay\+\_\+t$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$ $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a7ea96d3fa0aa9e3ff337a9f1e37682b0}{transform}} (B1 first1, E1 last1, B2 first2, O d\+\_\+first, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}, P part=P())
\begin{DoxyCompactList}\small\item\em constructs a parallel-\/transform task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename O, typename P = Default\+Partitioner$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_afb24798ebf46e253a40b01bffb1da6a7}{reduce}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{structinit}{init}}, O bop, P part=P())
\begin{DoxyCompactList}\small\item\em constructs an STL-\/styled parallel-\/reduction task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{_l_l_t__example_8cpp_a2913877890361a28ee108aafe462ee93}{L}}, typename \mbox{\hyperlink{struct_g}{G}}, typename P = Default\+Partitioner$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a3ea810696c4b29824d1aaef15342c825}{reduce\+\_\+by\+\_\+index}} (\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}} range, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{structinit}{init}}, \mbox{\hyperlink{_l_l_t__example_8cpp_a2913877890361a28ee108aafe462ee93}{L}} lop, \mbox{\hyperlink{struct_g}{G}} gop, P part=P())
\begin{DoxyCompactList}\small\item\em constructs an index range-\/based parallel-\/reduction task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename BOP, typename UOP, typename P = Default\+Partitioner, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_a73c20705fc54763f195a00b6e626e301}{is\+\_\+partitioner\+\_\+v}}$<$ std\+::decay\+\_\+t$<$ P $>$ $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_aa62d24438c0860e76153ffd129deba41}{transform\+\_\+reduce}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{structinit}{init}}, BOP bop, UOP uop, P part=P())
\begin{DoxyCompactList}\small\item\em constructs an STL-\/styled parallel transform-\/reduce task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename B1, typename E1, typename B2, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename BOP\+\_\+R, typename BOP\+\_\+T, typename P = Default\+Partitioner, std\+::enable\+\_\+if\+\_\+t$<$!\mbox{\hyperlink{namespacetf_a73c20705fc54763f195a00b6e626e301}{is\+\_\+partitioner\+\_\+v}}$<$ std\+::decay\+\_\+t$<$ BOP\+\_\+T $>$ $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_adcd90e5b46299f4ccab33caf46edcbc0}{transform\+\_\+reduce}} (B1 first1, E1 last1, B2 first2, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{structinit}{init}}, BOP\+\_\+R bop\+\_\+r, BOP\+\_\+T bop\+\_\+t, P part=P())
\begin{DoxyCompactList}\small\item\em constructs an STL-\/styled parallel transform-\/reduce task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename BOP$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a1c2ace9290d83c2a006614a4d66ad588}{inclusive\+\_\+scan}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}} d\+\_\+first, BOP bop)
\begin{DoxyCompactList}\small\item\em creates an STL-\/styled parallel inclusive-\/scan task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename BOP, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a0b589a5bbf9b18e6484fa9e554d39a39}{inclusive\+\_\+scan}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}} d\+\_\+first, BOP bop, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{structinit}{init}})
\begin{DoxyCompactList}\small\item\em creates an STL-\/styled parallel inclusive-\/scan task with an initial value \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename BOP$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a4e0d618d8eb0b3b2e5e00443a10bf512}{exclusive\+\_\+scan}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}} d\+\_\+first, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{structinit}{init}}, BOP bop)
\begin{DoxyCompactList}\small\item\em creates an STL-\/styled parallel exclusive-\/scan task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename BOP, typename UOP$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a82f3c3f49a2d52cd52f6eac07a659e9c}{transform\+\_\+inclusive\+\_\+scan}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}} d\+\_\+first, BOP bop, UOP uop)
\begin{DoxyCompactList}\small\item\em creates an STL-\/styled parallel transform-\/inclusive scan task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename BOP, typename UOP, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a49f7e17d02c708035b9134d8c6c89f90}{transform\+\_\+inclusive\+\_\+scan}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}} d\+\_\+first, BOP bop, UOP uop, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{structinit}{init}})
\begin{DoxyCompactList}\small\item\em creates an STL-\/styled parallel transform-\/inclusive scan task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename BOP, typename UOP$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a8549478ef819699b30f8daf88f04d577}{transform\+\_\+exclusive\+\_\+scan}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}} d\+\_\+first, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \mbox{\hyperlink{structinit}{init}}, BOP bop, UOP uop)
\begin{DoxyCompactList}\small\item\em creates an STL-\/styled parallel transform-\/exclusive scan task \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename UOP, typename P = Default\+Partitioner$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a46a96f5889e6ac87b1ff8d6313b5f471}{find\+\_\+if}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}, UOP predicate, P part=P())
\begin{DoxyCompactList}\small\item\em constructs a task to perform STL-\/styled find-\/if algorithm \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename UOP, typename P = Default\+Partitioner$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a95fa2719fa7bbe7d171cf474ddb06726}{find\+\_\+if\+\_\+not}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}, UOP predicate, P part=P())
\begin{DoxyCompactList}\small\item\em constructs a task to perform STL-\/styled find-\/if-\/not algorithm \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a6bf43eeaa81900084a472be1d36d46a6}{min\+\_\+element}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}}, P part)
\begin{DoxyCompactList}\small\item\em constructs a task to perform STL-\/styled min-\/element algorithm \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a6be5d7f053a868647c3b9e0d9cdf6b68}{max\+\_\+element}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}}, P part)
\begin{DoxyCompactList}\small\item\em constructs a task to perform STL-\/styled max-\/element algorithm \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a35e180eb63de6c9f28e43185e837a4fa}{sort}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} cmp)
\begin{DoxyCompactList}\small\item\em constructs a dynamic task to perform STL-\/styled parallel sort \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a7d844e9856c7c65b26ccdb83ffdab1d6}{sort}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} first, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} last)
\begin{DoxyCompactList}\small\item\em constructs a dynamic task to perform STL-\/styled parallel sort using the {\ttfamily std\+::less$<$\+T$>$} comparator, where {\ttfamily T} is the element type \end{DoxyCompactList}\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a499b4cd6536050894272778c87bc6f2c}{for\+\_\+each}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} \&\&beg, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} \&\&\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_ab4f68c11dd3bd7571463b2c9844bb84c}{for\+\_\+each\+\_\+index}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} \&\&beg, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} \&\&\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}, \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}} \&\&inc, \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&\mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}})
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename O$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a9de23fd7b3e11338b663eed41579b038}{reduce}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} \&\&beg, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} \&\&\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{structinit}{init}}, O \&\&bop)
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename BOP, typename UOP$>$ }\\\mbox{\hyperlink{classtf_1_1_task}{Task}} \mbox{\hyperlink{classtf_1_1_flow_builder_a07db24a358be27374be2ee15374bbad7}{transform\+\_\+reduce}} (\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} \&\&beg, \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} \&\&\mbox{\hyperlink{ittnotify__static_8h_a30bf4ccd4623b7a8276bbc7f99e491c7}{end}}, \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&\mbox{\hyperlink{structinit}{init}}, BOP \&\&bop, UOP \&\&uop)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtf_1_1_graph}{Graph}} \& \mbox{\hyperlink{classtf_1_1_flow_builder_a9404a57d9d37a4d49d20b686e4e5f68f}{\+\_\+graph}}
\begin{DoxyCompactList}\small\item\em associated graph object \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{_l_l_t__example_8cpp_a2913877890361a28ee108aafe462ee93}{L}}$>$ }\\\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} \mbox{\hyperlink{classtf_1_1_flow_builder_a04115519f61efc42d018ea697054135d}{\+\_\+linearize}} (\mbox{\hyperlink{_l_l_t__example_8cpp_a2913877890361a28ee108aafe462ee93}{L}} \&)
\end{DoxyCompactItemize}
\doxysubsubsection*{友元}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classtf_1_1_flow_builder_a763b2f90bc53f92d680a635fe28e858e}{Executor}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
class to build a task dependency graph 

The class provides essential methods to construct a task dependency graph from which \doxylink{classtf_1_1_taskflow}{tf\+::\+Taskflow} and \doxylink{classtf_1_1_subflow}{tf\+::\+Subflow} are derived. 

\doxysubsection{构造及析构函数说明}
\Hypertarget{classtf_1_1_flow_builder_a67d023d5493da1594a1d2eaea89da179}\index{tf::FlowBuilder@{tf::FlowBuilder}!FlowBuilder@{FlowBuilder}}
\index{FlowBuilder@{FlowBuilder}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{FlowBuilder()}{FlowBuilder()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a67d023d5493da1594a1d2eaea89da179} 
tf\+::\+Flow\+Builder\+::\+Flow\+Builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1_graph}{Graph}} \&}]{graph}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



constructs a flow builder with a graph 



\doxysubsection{成员函数说明}
\Hypertarget{classtf_1_1_flow_builder_a04115519f61efc42d018ea697054135d}\index{tf::FlowBuilder@{tf::FlowBuilder}!\_linearize@{\_linearize}}
\index{\_linearize@{\_linearize}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{\_linearize()}{\_linearize()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a04115519f61efc42d018ea697054135d} 
template$<$typename \mbox{\hyperlink{_l_l_t__example_8cpp_a2913877890361a28ee108aafe462ee93}{L}}$>$ \\
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::\+Flow\+Builder\+::\+\_\+linearize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_l_l_t__example_8cpp_a2913877890361a28ee108aafe462ee93}{L}} \&}]{keys}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classtf_1_1_flow_builder_ac6f22228d4c2ea2e643c4b0d42c0e92a}\index{tf::FlowBuilder@{tf::FlowBuilder}!composed\_of@{composed\_of}}
\index{composed\_of@{composed\_of}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{composed\_of()}{composed\_of()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_ac6f22228d4c2ea2e643c4b0d42c0e92a} 
template$<$typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::composed\+\_\+of (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{object}{}\end{DoxyParamCaption})}



creates a module task for the target object 


\begin{DoxyTemplParams}{模板参数}
{\em T} & target object type \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em object} & a custom object that defines the method {\ttfamily T\+::graph()} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The example below demonstrates a taskflow composition using the {\ttfamily composed\+\_\+of} method.


\begin{DoxyCode}{0}
\DoxyCodeLine{tf::Taskflow\ t1,\ t2;}
\DoxyCodeLine{t1.\mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}}([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}t1"{}};\ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ t2\ is\ partially\ composed\ of\ t1}}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}}\ =\ t2.\mbox{\hyperlink{classtf_1_1_flow_builder_ac6f22228d4c2ea2e643c4b0d42c0e92a}{composed\_of}}(t1);}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}}\ =\ t2.\mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}}([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}t2"{}};\ \});}
\DoxyCodeLine{\mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}}.\mbox{\hyperlink{classtf_1_1_task_a8c78c453295a553c1c016e4062da8588}{precede}}(\mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}});}

\end{DoxyCode}


The taskflow object {\ttfamily t2} is composed of another taskflow object {\ttfamily t1}, preceded by another static task {\ttfamily init}. When taskflow {\ttfamily t2} is submitted to an executor, {\ttfamily init} will run first and then {\ttfamily comp} which spawns its definition in taskflow {\ttfamily t1}.

The target {\ttfamily object} being composed must define the method {\ttfamily T\+::graph()} that returns a reference to a graph object of type \doxylink{classtf_1_1_graph}{tf\+::\+Graph} such that it can interact with the executor. For example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ custom\ struct}}
\DoxyCodeLine{\textcolor{keyword}{struct\ }MyObj\ \{}
\DoxyCodeLine{\ \ tf::Graph\ graph;}
\DoxyCodeLine{\ \ MyObj()\ \{}
\DoxyCodeLine{\ \ \ \ tf::FlowBuilder\ builder(graph);}
\DoxyCodeLine{\ \ \ \ tf::Task\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ builder.emplace([]()\{}
\DoxyCodeLine{\ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}a\ task\(\backslash\)n"{}};\ \ \textcolor{comment}{//\ static\ task}}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ Graph\&\ graph()\ \{\ \textcolor{keywordflow}{return}\ graph;\ \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{MyObj\ obj;}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.composed\_of(obj);}

\end{DoxyCode}


Please refer to \doxylink{ComposableTasking}{Composable Tasking} for details. \Hypertarget{classtf_1_1_flow_builder_a1f6118326ad434f6c839007a1a79fe1b}\index{tf::FlowBuilder@{tf::FlowBuilder}!emplace@{emplace}}
\index{emplace@{emplace}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}\hspace{0.1cm}{\footnotesize\ttfamily [1/6]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a1f6118326ad434f6c839007a1a79fe1b} 
template$<$typename... C, std\+::enable\+\_\+if\+\_\+t$<$(sizeof...(\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}})$>$1), \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*}$>$ \\
auto tf\+::\+Flow\+Builder\+::emplace (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&...}]{callables}{}\end{DoxyParamCaption})}



creates multiple tasks from a list of callable objects 


\begin{DoxyTemplParams}{模板参数}
{\em C} & callable types\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em callables} & one or multiple callable objects constructible from each task category\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The method returns a tuple of tasks each corresponding to the given callable target. You can use structured binding to get the return tasks one by one. The following example creates four static tasks and assign them to {\ttfamily \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}, {\ttfamily \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, {\ttfamily C}, and {\ttfamily D} using structured binding.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{auto}\ [\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}},\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}]\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace(}
\DoxyCodeLine{\ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}A"{}};\ \},}
\DoxyCodeLine{\ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}B"{}};\ \},}
\DoxyCodeLine{\ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}C"{}};\ \},}
\DoxyCodeLine{\ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}D"{}};\ \}}
\DoxyCodeLine{);}

\end{DoxyCode}
 函数调用图\+:
% FIG 2
\Hypertarget{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}\index{tf::FlowBuilder@{tf::FlowBuilder}!emplace@{emplace}}
\index{emplace@{emplace}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}\hspace{0.1cm}{\footnotesize\ttfamily [2/6]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, std\+::enable\+\_\+if\+\_\+t$<$ is\+\_\+syclflow\+\_\+task\+\_\+v$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::emplace (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{callable}{}\end{DoxyParamCaption})}



creates a static task 


\begin{DoxyTemplParams}{模板参数}
{\em C} & callable type constructible from std\+::function$<$void()$>$\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em callable} & callable to construct a static task\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The following example creates a static task.


\begin{DoxyCode}{0}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{test__exceptions_8cpp_a438fcbf3d5e1ec1098df680d42e89d71}{static\_task}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\});}

\end{DoxyCode}


Please refer to \doxylink{StaticTasking}{Static Tasking} for details. \Hypertarget{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}\index{tf::FlowBuilder@{tf::FlowBuilder}!emplace@{emplace}}
\index{emplace@{emplace}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}\hspace{0.1cm}{\footnotesize\ttfamily [3/6]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_af3d94f0be0f7b49e195c4e92737b1f85}{is\+\_\+runtime\+\_\+task\+\_\+v}}$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::emplace (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{callable}{}\end{DoxyParamCaption})}



creates a runtime task 


\begin{DoxyTemplParams}{模板参数}
{\em C} & callable type constructible from std\+::function$<$void(tf\+::\+Runtime\&)$>$\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em callable} & callable to construct a runtime task\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The following example creates a runtime task.


\begin{DoxyCode}{0}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{test__exceptions_8cpp_a438fcbf3d5e1ec1098df680d42e89d71}{static\_task}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([](tf::Runtime\&)\{\});}

\end{DoxyCode}


Please refer to \doxylink{RuntimeTasking}{Interact with the Runtime} for details. \Hypertarget{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}\index{tf::FlowBuilder@{tf::FlowBuilder}!emplace@{emplace}}
\index{emplace@{emplace}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}\hspace{0.1cm}{\footnotesize\ttfamily [4/6]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_aefeb96086f4a99f0e58a0f321012a52c}{is\+\_\+subflow\+\_\+task\+\_\+v}}$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::emplace (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{callable}{}\end{DoxyParamCaption})}



creates a dynamic task 


\begin{DoxyTemplParams}{模板参数}
{\em C} & callable type constructible from std\+::function$<$void(tf\+::\+Subflow\&)$>$\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em callable} & callable to construct a dynamic task\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The following example creates a dynamic task (\doxylink{classtf_1_1_subflow}{tf\+::\+Subflow}) that spawns two static tasks.


\begin{DoxyCode}{0}
\DoxyCodeLine{tf::Task\ dynamic\_task\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([](tf::Subflow\&\ sf)\{}
\DoxyCodeLine{\ \ tf::Task\ static\_task1\ =\ sf.\mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}}([]()\{\});}
\DoxyCodeLine{\ \ tf::Task\ static\_task2\ =\ sf.\mbox{\hyperlink{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}{emplace}}([]()\{\});}
\DoxyCodeLine{\});}

\end{DoxyCode}


Please refer to \doxylink{SubflowTasking}{Subflow Tasking} for details. \Hypertarget{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}\index{tf::FlowBuilder@{tf::FlowBuilder}!emplace@{emplace}}
\index{emplace@{emplace}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}\hspace{0.1cm}{\footnotesize\ttfamily [5/6]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_a00ca2fc2de0e679a7d9b8039340343df}{is\+\_\+condition\+\_\+task\+\_\+v}}$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::emplace (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{callable}{}\end{DoxyParamCaption})}



creates a condition task 


\begin{DoxyTemplParams}{模板参数}
{\em C} & callable type constructible from std\+::function$<$int()$>$\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em callable} & callable to construct a condition task\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The following example creates an if-\/else block using one condition task and three static tasks.


\begin{DoxyCode}{0}
\DoxyCodeLine{tf::Taskflow\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{auto}\ [\mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}},\ cond,\ yes,\ no]\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace(}
\DoxyCodeLine{\ \ []\ ()\ \{\ \},}
\DoxyCodeLine{\ \ []\ ()\ \{\ \textcolor{keywordflow}{return}\ 0;\ \},}
\DoxyCodeLine{\ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}yes\(\backslash\)n"{}};\ \},}
\DoxyCodeLine{\ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}no\(\backslash\)n"{}};\ \}}
\DoxyCodeLine{);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ executes\ yes\ if\ cond\ returns\ 0,\ or\ no\ if\ cond\ returns\ 1}}
\DoxyCodeLine{cond.precede(yes,\ no);}
\DoxyCodeLine{cond.succeed(\mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}});}

\end{DoxyCode}


Please refer to \doxylink{ConditionalTasking}{Conditional Tasking} for details. \Hypertarget{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57}\index{tf::FlowBuilder@{tf::FlowBuilder}!emplace@{emplace}}
\index{emplace@{emplace}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{emplace()}{emplace()}\hspace{0.1cm}{\footnotesize\ttfamily [6/6]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a60d7a666cab71ecfa3010b2efb0d6b57} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_a78c40dc8776735b0f2c27cd446481aff}{is\+\_\+multi\+\_\+condition\+\_\+task\+\_\+v}}$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*} = nullptr$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::emplace (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{callable}{}\end{DoxyParamCaption})}



creates a multi-\/condition task 


\begin{DoxyTemplParams}{模板参数}
{\em C} & callable type constructible from std\+::function\texorpdfstring{$<$}{<}tf\+::\+Small\+Vector$<$int$>$()\texorpdfstring{$>$}{>}\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em callable} & callable to construct a multi-\/condition task\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The following example creates a multi-\/condition task that selectively jumps to two successor tasks.


\begin{DoxyCode}{0}
\DoxyCodeLine{tf::Taskflow\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{auto}\ [\mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}},\ cond,\ branch1,\ branch2,\ branch3]\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace(}
\DoxyCodeLine{\ \ []\ ()\ \{\ \},}
\DoxyCodeLine{\ \ []\ ()\ \{\ \textcolor{keywordflow}{return}\ tf::SmallVector\{0,\ 2\};\ \},}
\DoxyCodeLine{\ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}branch1\(\backslash\)n"{}};\ \},}
\DoxyCodeLine{\ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}branch2\(\backslash\)n"{}};\ \},}
\DoxyCodeLine{\ \ []\ ()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}branch3\(\backslash\)n"{}};\ \}}
\DoxyCodeLine{);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ executes\ branch1\ and\ branch3\ when\ cond\ returns\ 0\ and\ 2}}
\DoxyCodeLine{cond.precede(branch1,\ branch2,\ branch3);}
\DoxyCodeLine{cond.succeed(\mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}});}

\end{DoxyCode}


Please refer to \doxylink{ConditionalTasking}{Conditional Tasking} for details. 函数调用图\+:
% FIG 3
\Hypertarget{classtf_1_1_flow_builder_a5627f7962099ac7c4986993cffa7b909}\index{tf::FlowBuilder@{tf::FlowBuilder}!erase@{erase}}
\index{erase@{erase}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{erase()}{erase()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a5627f7962099ac7c4986993cffa7b909} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::\+Flow\+Builder\+::erase (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtf_1_1_task}{Task}}}]{task}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



removes a task from a taskflow 


\begin{DoxyParams}{参数}
{\em task} & task to remove\\
\hline
\end{DoxyParams}
Removes a task and its input and output dependencies from the graph associated with the flow builder. If the task does not belong to the graph, nothing will happen.


\begin{DoxyCode}{0}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}A"{}};\ \});}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}B"{}};\ \});}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}C"{}};\ \});}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}D"{}};\ \});}
\DoxyCodeLine{\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}.precede(\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}},\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ erase\ A\ from\ the\ taskflow\ and\ its\ dependencies\ to\ B,\ C,\ and\ D}}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.erase(\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}});}

\end{DoxyCode}
 \Hypertarget{classtf_1_1_flow_builder_a4e0d618d8eb0b3b2e5e00443a10bf512}\index{tf::FlowBuilder@{tf::FlowBuilder}!exclusive\_scan@{exclusive\_scan}}
\index{exclusive\_scan@{exclusive\_scan}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{exclusive\_scan()}{exclusive\_scan()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a4e0d618d8eb0b3b2e5e00443a10bf512} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename BOP$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::exclusive\+\_\+scan (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}}]{d\+\_\+first}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}}]{init}{, }\item[{BOP}]{bop}{}\end{DoxyParamCaption})}



creates an STL-\/styled parallel exclusive-\/scan task 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em D} & destination iterator type \\
\hline
{\em T} & initial value type \\
\hline
{\em BOP} & summation operator type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & start of input range \\
\hline
{\em last} & end of input range \\
\hline
{\em d\+\_\+first} & start of output range (may be the same as input range) \\
\hline
{\em init} & initial value \\
\hline
{\em bop} & function to perform summation\\
\hline
\end{DoxyParams}
Performs the cumulative sum (aka prefix sum, aka scan) of the input range and writes the result to the output range. Each element of the output range contains the running total of all earlier elements (and the initial value) using the given binary operator for summation.

This function generates an {\itshape exclusive} scan, meaning the N-\/th element of the output range is the sum of the first N-\/1 input elements, so the N-\/th input element is not included.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ \{1,\ 2,\ 3,\ 4,\ 5\};}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.exclusive\_scan(}
\DoxyCodeLine{\ \ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.end(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ -\/1,\ std::plus<int>\{\}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ input\ is\ \{-\/1,\ 0,\ 2,\ 5,\ 9\}}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelScan}{Parallel Scan} for details. 函数调用图\+:
% FIG 4
\Hypertarget{classtf_1_1_flow_builder_a46a96f5889e6ac87b1ff8d6313b5f471}\index{tf::FlowBuilder@{tf::FlowBuilder}!find\_if@{find\_if}}
\index{find\_if@{find\_if}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{find\_if()}{find\_if()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a46a96f5889e6ac87b1ff8d6313b5f471} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename UOP, typename P$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::find\+\_\+if (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{result}{, }\item[{UOP}]{predicate}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs a task to perform STL-\/styled find-\/if algorithm 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em T} & resulting iterator type \\
\hline
{\em UOP} & unary predicate type \\
\hline
{\em P} & partitioner type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & start of the input range \\
\hline
{\em last} & end of the input range \\
\hline
{\em result} & resulting iterator to the found element in the input range \\
\hline
{\em predicate} & unary predicate which returns {\ttfamily true} for the required element \\
\hline
{\em part} & partitioning algorithm (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyParams}
Returns an iterator to the first element in the range {\ttfamily \mbox{[}first, last)} that satisfies the given criteria (or last if there is no such iterator). This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{auto}\ \mbox{\hyperlink{classtf_1_1_flow_builder_a46a96f5889e6ac87b1ff8d6313b5f471}{find\_if}}(InputIt\ first,\ InputIt\ last,\ UnaryPredicate\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{for}\ (;\ \mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}}\ !=\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ ++\mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}})\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (predicate(*first))\{}
\DoxyCodeLine{\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};}
\DoxyCodeLine{\}}

\end{DoxyCode}


For example, the code below find the element that satisfies the given criteria (value plus one is equal to 23) from an input range of 10 elements\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ \{1,\ 6,\ 9,\ 10,\ 22,\ 5,\ 7,\ 8,\ 9,\ 11\};}
\DoxyCodeLine{std::vector<int>::iterator\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.find\_if(}
\DoxyCodeLine{\ \ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.end(),\ [](\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\{\ return\ i+1\ =\ 23;\ \},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{assert(*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ ==\ 22);}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper 函数调用图\+:
% FIG 5
\Hypertarget{classtf_1_1_flow_builder_a95fa2719fa7bbe7d171cf474ddb06726}\index{tf::FlowBuilder@{tf::FlowBuilder}!find\_if\_not@{find\_if\_not}}
\index{find\_if\_not@{find\_if\_not}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{find\_if\_not()}{find\_if\_not()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a95fa2719fa7bbe7d171cf474ddb06726} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename UOP, typename P$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::find\+\_\+if\+\_\+not (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{result}{, }\item[{UOP}]{predicate}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs a task to perform STL-\/styled find-\/if-\/not algorithm 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em T} & resulting iterator type \\
\hline
{\em UOP} & unary predicate type \\
\hline
{\em P} & partitioner type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & start of the input range \\
\hline
{\em last} & end of the input range \\
\hline
{\em result} & resulting iterator to the found element in the input range \\
\hline
{\em predicate} & unary predicate which returns {\ttfamily false} for the required element \\
\hline
{\em part} & partitioning algorithm (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyParams}
Returns an iterator to the first element in the range {\ttfamily \mbox{[}first, last)} that satisfies the given criteria (or last if there is no such iterator). This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{auto}\ \mbox{\hyperlink{classtf_1_1_flow_builder_a46a96f5889e6ac87b1ff8d6313b5f471}{find\_if}}(InputIt\ first,\ InputIt\ last,\ UnaryPredicate\ \mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{for}\ (;\ \mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}}\ !=\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ ++\mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}})\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (!predicate(*first))\{}
\DoxyCodeLine{\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};}
\DoxyCodeLine{\}}

\end{DoxyCode}


For example, the code below find the element that satisfies the given criteria (value is not equal to 1) from an input range of 10 elements\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ \{1,\ 1,\ 1,\ 1,\ 22,\ 1,\ 1,\ 1,\ 1,\ 1\};}
\DoxyCodeLine{std::vector<int>::iterator\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.find\_if\_not(}
\DoxyCodeLine{\ \ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.end(),\ [](\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}})\{\ return\ i\ ==\ 1;\ \},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{assert(*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ ==\ 22);}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper 函数调用图\+:
% FIG 6
\Hypertarget{classtf_1_1_flow_builder_a499b4cd6536050894272778c87bc6f2c}\index{tf::FlowBuilder@{tf::FlowBuilder}!for\_each@{for\_each}}
\index{for\_each@{for\_each}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{for\_each()}{for\_each()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a499b4cd6536050894272778c87bc6f2c} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::for\+\_\+each (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} \&\&}]{beg}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} \&\&}]{end}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{c}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 7
\Hypertarget{classtf_1_1_flow_builder_aae3edfa278baa75b08414e083c14c836}\index{tf::FlowBuilder@{tf::FlowBuilder}!for\_each@{for\_each}}
\index{for\_each@{for\_each}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{for\_each()}{for\_each()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_aae3edfa278baa75b08414e083c14c836} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::for\+\_\+each (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{callable}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs an STL-\/styled parallel-\/for task 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em C} & callable type \\
\hline
{\em P} & partitioner type (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & iterator to the beginning (inclusive) \\
\hline
{\em last} & iterator to the end (exclusive) \\
\hline
{\em callable} & callable object to apply to the dereferenced iterator \\
\hline
{\em part} & partitioning algorithm to schedule parallel iterations\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The task spawns asynchronous tasks that applies the callable object to each object obtained by dereferencing every iterator in the range {\ttfamily \mbox{[}first, last)}. This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ itr=first;\ itr!=\mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ itr++)\ \{}
\DoxyCodeLine{\ \ callable(*itr);}
\DoxyCodeLine{\}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper The callable needs to take a single argument of the dereferenced iterator type.

Please refer to \doxylink{ParallelIterations}{Parallel Iterations} for details. 函数调用图\+:
% FIG 8
\Hypertarget{classtf_1_1_flow_builder_a2582a216d54dacca2b7022ea7e89452a}\index{tf::FlowBuilder@{tf::FlowBuilder}!for\_each\_by\_index@{for\_each\_by\_index}}
\index{for\_each\_by\_index@{for\_each\_by\_index}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{for\_each\_by\_index()}{for\_each\_by\_index()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a2582a216d54dacca2b7022ea7e89452a} 
template$<$typename \mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::for\+\_\+each\+\_\+by\+\_\+index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}}}]{range}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{callable}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs an index range-\/based parallel-\/for task 


\begin{DoxyTemplParams}{模板参数}
{\em R} & index range type (\doxylink{classtf_1_1_index_range}{tf\+::\+Index\+Range}) \\
\hline
{\em C} & callable type \\
\hline
{\em P} & partitioner type (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em range} & index range \\
\hline
{\em callable} & callable object to apply to each valid index \\
\hline
{\em part} & partitioning algorithm to schedule parallel iterations\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The task spawns asynchronous tasks that applies the callable object to in the range {\ttfamily \mbox{[}first, last)} with the step size.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ [0,\ 17)\ with\ a\ step\ size\ of\ 2\ using\ tf::IndexRange}}
\DoxyCodeLine{tf::IndexRange<int>\ \mbox{\hyperlink{namespacectre_a5665451ee65edf999c573c57bb155def}{range}}(0,\ 17,\ 2);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ parallelize\ the\ sequence\ [0,\ 2,\ 4,\ 6,\ 8,\ 10,\ 12,\ 14,\ 16]}}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.for\_each\_by\_index(range,\ [](tf::IndexRange<int>\ range)\ \{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ iterate\ each\ index\ in\ the\ subrange}}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=\mbox{\hyperlink{namespacectre_a5665451ee65edf999c573c57bb155def}{range}}.begin();\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{namespacectre_a5665451ee65edf999c573c57bb155def}{range}}.end();\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}+=\mbox{\hyperlink{namespacectre_a5665451ee65edf999c573c57bb155def}{range}}.step\_size())\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}(\textcolor{stringliteral}{"{}iterate\ \%d\(\backslash\)n"{}},\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}

\end{DoxyCode}


The callable needs to take a single argument of type \doxylink{classtf_1_1_index_range}{tf\+::\+Index\+Range}.

Please refer to \doxylink{ParallelIterations}{Parallel Iterations} for details. 函数调用图\+:
% FIG 9
\Hypertarget{classtf_1_1_flow_builder_ab4f68c11dd3bd7571463b2c9844bb84c}\index{tf::FlowBuilder@{tf::FlowBuilder}!for\_each\_index@{for\_each\_index}}
\index{for\_each\_index@{for\_each\_index}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{for\_each\_index()}{for\_each\_index()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_ab4f68c11dd3bd7571463b2c9844bb84c} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::for\+\_\+each\+\_\+index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} \&\&}]{beg}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} \&\&}]{end}{, }\item[{\mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}} \&\&}]{inc}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} \&\&}]{c}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 10
\Hypertarget{classtf_1_1_flow_builder_a3b132bd902331a11b04b4ad66cf8bf77}\index{tf::FlowBuilder@{tf::FlowBuilder}!for\_each\_index@{for\_each\_index}}
\index{for\_each\_index@{for\_each\_index}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{for\_each\_index()}{for\_each\_index()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a3b132bd902331a11b04b4ad66cf8bf77} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::for\+\_\+each\+\_\+index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{ittnotify__static_8h_aa0c5e6692c4ba3a25e31cb65dc5ee3ef}{S}}}]{step}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{callable}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs an index-\/based parallel-\/for task 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning index type (must be integral) \\
\hline
{\em E} & ending index type (must be integral) \\
\hline
{\em S} & step type (must be integral) \\
\hline
{\em C} & callable type \\
\hline
{\em P} & partitioner type (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & index of the beginning (inclusive) \\
\hline
{\em last} & index of the end (exclusive) \\
\hline
{\em step} & step size \\
\hline
{\em callable} & callable object to apply to each valid index \\
\hline
{\em part} & partitioning algorithm to schedule parallel iterations\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The task spawns asynchronous tasks that applies the callable object to each index in the range {\ttfamily \mbox{[}first, last)} with the step size. This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ case\ 1:\ step\ size\ is\ positive}}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=first;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<\mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}+=\mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a8af85ff0ba544ac84f4b42b0333f5d14}{step}})\ \{}
\DoxyCodeLine{\ \ callable(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ case\ 2:\ step\ size\ is\ negative}}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=first,\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}>last;\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}+=\mbox{\hyperlink{namespaceluisa_1_1compute_1_1dsl_a8af85ff0ba544ac84f4b42b0333f5d14}{step}})\ \{}
\DoxyCodeLine{\ \ callable(\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}});}
\DoxyCodeLine{\}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper The callable needs to take a single argument of the integral index type.

Please refer to \doxylink{ParallelIterations}{Parallel Iterations} for details. 函数调用图\+:
% FIG 11
\Hypertarget{classtf_1_1_flow_builder_a1c2ace9290d83c2a006614a4d66ad588}\index{tf::FlowBuilder@{tf::FlowBuilder}!inclusive\_scan@{inclusive\_scan}}
\index{inclusive\_scan@{inclusive\_scan}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{inclusive\_scan()}{inclusive\_scan()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a1c2ace9290d83c2a006614a4d66ad588} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename BOP$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::inclusive\+\_\+scan (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}}]{d\+\_\+first}{, }\item[{BOP}]{bop}{}\end{DoxyParamCaption})}



creates an STL-\/styled parallel inclusive-\/scan task 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em D} & destination iterator type \\
\hline
{\em BOP} & summation operator type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & start of input range \\
\hline
{\em last} & end of input range \\
\hline
{\em d\+\_\+first} & start of output range (may be the same as input range) \\
\hline
{\em bop} & function to perform summation\\
\hline
\end{DoxyParams}
Performs the cumulative sum (aka prefix sum, aka scan) of the input range and writes the result to the output range. Each element of the output range contains the running total of all earlier elements using the given binary operator for summation.

This function generates an {\itshape inclusive} scan, meaning that the N-\/th element of the output range is the sum of the first N input elements, so the N-\/th input element is included.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ \{1,\ 2,\ 3,\ 4,\ 5\};}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.inclusive\_scan(}
\DoxyCodeLine{\ \ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.end(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ std::plus<int>\{\}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ input\ is\ \{1,\ 3,\ 6,\ 10,\ 15\}}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelScan}{Parallel Scan} for details. 函数调用图\+:
% FIG 12
\Hypertarget{classtf_1_1_flow_builder_a0b589a5bbf9b18e6484fa9e554d39a39}\index{tf::FlowBuilder@{tf::FlowBuilder}!inclusive\_scan@{inclusive\_scan}}
\index{inclusive\_scan@{inclusive\_scan}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{inclusive\_scan()}{inclusive\_scan()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a0b589a5bbf9b18e6484fa9e554d39a39} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename BOP, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::inclusive\+\_\+scan (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}}]{d\+\_\+first}{, }\item[{BOP}]{bop}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}}]{init}{}\end{DoxyParamCaption})}



creates an STL-\/styled parallel inclusive-\/scan task with an initial value 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em D} & destination iterator type \\
\hline
{\em BOP} & summation operator type \\
\hline
{\em T} & initial value type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & start of input range \\
\hline
{\em last} & end of input range \\
\hline
{\em d\+\_\+first} & start of output range (may be the same as input range) \\
\hline
{\em bop} & function to perform summation \\
\hline
{\em init} & initial value\\
\hline
\end{DoxyParams}
Performs the cumulative sum (aka prefix sum, aka scan) of the input range and writes the result to the output range. Each element of the output range contains the running total of all earlier elements (and the initial value) using the given binary operator for summation.

This function generates an {\itshape inclusive} scan, meaning the N-\/th element of the output range is the sum of the first N input elements, so the N-\/th input element is included.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ \{1,\ 2,\ 3,\ 4,\ 5\};}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.inclusive\_scan(}
\DoxyCodeLine{\ \ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.end(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ std::plus<int>\{\},\ -\/1}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ input\ is\ \{0,\ 2,\ 5,\ 9,\ 14\}}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelScan}{Parallel Scan} for details. 函数调用图\+:
% FIG 13
\Hypertarget{classtf_1_1_flow_builder_a4ec89b554d15ad5fb96f4fdb10dbbb16}\index{tf::FlowBuilder@{tf::FlowBuilder}!linearize@{linearize}}
\index{linearize@{linearize}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{linearize()}{linearize()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a4ec89b554d15ad5fb96f4fdb10dbbb16} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::\+Flow\+Builder\+::linearize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classstd_1_1initializer__list}{std\+::initializer\+\_\+list}}$<$ \mbox{\hyperlink{classtf_1_1_task}{Task}} $>$}]{tasks}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



adds adjacent dependency links to a linear list of tasks 


\begin{DoxyParams}{参数}
{\em tasks} & an initializer list of tasks\\
\hline
\end{DoxyParams}
This member function creates linear dependencies over a list of tasks.


\begin{DoxyCode}{0}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}A"{}};\ \});}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}B"{}};\ \});}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}C"{}};\ \});}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}D"{}};\ \});}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.linearize(\{\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}},\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}\});\ \ \textcolor{comment}{//\ A-\/>B-\/>C-\/>D}}

\end{DoxyCode}
 函数调用图\+:
% FIG 14
\Hypertarget{classtf_1_1_flow_builder_a90f3d9b9d6fcf4df8e7d7878dfdd130d}\index{tf::FlowBuilder@{tf::FlowBuilder}!linearize@{linearize}}
\index{linearize@{linearize}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{linearize()}{linearize()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a90f3d9b9d6fcf4df8e7d7878dfdd130d} 
\mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} tf\+::\+Flow\+Builder\+::linearize (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classtf_1_1_task}{Task}} $>$ \&}]{tasks}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



adds adjacent dependency links to a linear list of tasks 


\begin{DoxyParams}{参数}
{\em tasks} & a vector of tasks\\
\hline
\end{DoxyParams}
This member function creates linear dependencies over a vector of tasks.


\begin{DoxyCode}{0}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}A"{}};\ \});}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}B"{}};\ \});}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}C"{}};\ \});}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.emplace([]()\{\ std::cout\ <<\ \textcolor{stringliteral}{"{}D"{}};\ \});}
\DoxyCodeLine{std::vector<tf::Task>\ tasks\ \{\mbox{\hyperlink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A}},\ \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}},\ \mbox{\hyperlink{test__buffer__node_8cpp_ac4cf4b2ab929bd23951a8676eeac086b}{C}},\ \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}\}}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.linearize(tasks);\ \ \textcolor{comment}{//\ A-\/>B-\/>C-\/>D}}

\end{DoxyCode}
 函数调用图\+:
% FIG 15
\Hypertarget{classtf_1_1_flow_builder_a6be5d7f053a868647c3b9e0d9cdf6b68}\index{tf::FlowBuilder@{tf::FlowBuilder}!max\_element@{max\_element}}
\index{max\_element@{max\_element}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{max\_element()}{max\_element()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a6be5d7f053a868647c3b9e0d9cdf6b68} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::max\+\_\+element (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{result}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{comp}{, }\item[{P}]{part}{}\end{DoxyParamCaption})}



constructs a task to perform STL-\/styled max-\/element algorithm 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em T} & resulting iterator type \\
\hline
{\em C} & comparator type \\
\hline
{\em P} & partitioner type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & start of the input range \\
\hline
{\em last} & end of the input range \\
\hline
{\em result} & resulting iterator to the found element in the input range \\
\hline
{\em comp} & comparison function object \\
\hline
{\em part} & partitioning algorithm (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyParams}
Finds the largest element in the {\ttfamily \mbox{[}first, last)} using the given comparison function object. The iterator to that largest element is stored in {\ttfamily result}. This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (first\ ==\ last)\{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{keyword}{auto}\ largest\ =\ \mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}};}
\DoxyCodeLine{++\mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}};}
\DoxyCodeLine{\textcolor{keywordflow}{for}\ (;\ \mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}}\ !=\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ ++\mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}})\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}}(*largest,\ *first))\ \{}
\DoxyCodeLine{\ \ \ \ largest\ =\ \mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}};}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{keywordflow}{return}\ largest;}

\end{DoxyCode}


For example, the code below find the largest element from an input range of 10 elements.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ \{1,\ 1,\ 1,\ 1,\ 1,\ 2,\ 1,\ 1,\ 1,\ 1\};}
\DoxyCodeLine{std::vector<int>::iterator\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.max\_element(}
\DoxyCodeLine{\ \ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.end(),\ std::less<int>(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{assert(*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ ==\ 2);}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper 函数调用图\+:
% FIG 16
\Hypertarget{classtf_1_1_flow_builder_a6bf43eeaa81900084a472be1d36d46a6}\index{tf::FlowBuilder@{tf::FlowBuilder}!min\_element@{min\_element}}
\index{min\_element@{min\_element}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{min\_element()}{min\_element()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a6bf43eeaa81900084a472be1d36d46a6} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::min\+\_\+element (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{result}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{comp}{, }\item[{P}]{part}{}\end{DoxyParamCaption})}



constructs a task to perform STL-\/styled min-\/element algorithm 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em T} & resulting iterator type \\
\hline
{\em C} & comparator type \\
\hline
{\em P} & partitioner type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & start of the input range \\
\hline
{\em last} & end of the input range \\
\hline
{\em result} & resulting iterator to the found element in the input range \\
\hline
{\em comp} & comparison function object \\
\hline
{\em part} & partitioning algorithm (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyParams}
Finds the smallest element in the {\ttfamily \mbox{[}first, last)} using the given comparison function object. The iterator to that smallest element is stored in {\ttfamily result}. This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (first\ ==\ last)\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{keyword}{auto}\ smallest\ =\ \mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}};}
\DoxyCodeLine{++\mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}};}
\DoxyCodeLine{\textcolor{keywordflow}{for}\ (;\ \mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}}\ !=\ \mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ ++\mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}})\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{external_2taskflow_2sandbox_2jacobi_2main_8cpp_aaa178026ff13e667efcb0104a55252e7}{comp}}(*first,\ *smallest))\ \{}
\DoxyCodeLine{\ \ \ \ smallest\ =\ \mbox{\hyperlink{namespacedetail_a02319a3deb124802b88b61f85987df5e}{first}};}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{keywordflow}{return}\ smallest;}

\end{DoxyCode}


For example, the code below find the smallest element from an input range of 10 elements.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ \{1,\ 1,\ 1,\ 1,\ 1,\ -\/1,\ 1,\ 1,\ 1,\ 1\};}
\DoxyCodeLine{std::vector<int>::iterator\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}};}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.min\_element(}
\DoxyCodeLine{\ \ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.end(),\ std::less<int>(),\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{assert(*\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aa7f56a70231ed8bc64f97aa7c37fcb19}{result}}\ ==\ -\/1);}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper 函数调用图\+:
% FIG 17
\Hypertarget{classtf_1_1_flow_builder_acab0b4ac82260f47fdb36a3244ee3aaf}\index{tf::FlowBuilder@{tf::FlowBuilder}!placeholder@{placeholder}}
\index{placeholder@{placeholder}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{placeholder()}{placeholder()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_acab0b4ac82260f47fdb36a3244ee3aaf} 
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::placeholder (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



creates a placeholder task 

\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
\doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} placeholder task maps to a node in the taskflow graph, but it does not have any callable work assigned yet. \doxylink{bench__gemm_8cpp_addc86e8508f14411ec98f521c520f875}{A} placeholder task is different from an empty task handle that does not point to any node in a graph.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ create\ a\ placeholder\ task\ with\ no\ callable\ target\ assigned}}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{classtf_1_1_flow_builder_acab0b4ac82260f47fdb36a3244ee3aaf}{placeholder}}\ =\ \mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.placeholder();}
\DoxyCodeLine{assert(\mbox{\hyperlink{classtf_1_1_flow_builder_acab0b4ac82260f47fdb36a3244ee3aaf}{placeholder}}.empty()\ ==\ \textcolor{keyword}{false}\ \&\&\ \mbox{\hyperlink{classtf_1_1_flow_builder_acab0b4ac82260f47fdb36a3244ee3aaf}{placeholder}}.has\_work()\ ==\ \textcolor{keyword}{false});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ create\ an\ empty\ task\ handle}}
\DoxyCodeLine{tf::Task\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}};}
\DoxyCodeLine{assert(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}.empty()\ ==\ \textcolor{keyword}{true});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ assign\ the\ task\ handle\ to\ the\ placeholder\ task}}
\DoxyCodeLine{\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}\ =\ \mbox{\hyperlink{classtf_1_1_flow_builder_acab0b4ac82260f47fdb36a3244ee3aaf}{placeholder}};}
\DoxyCodeLine{assert(\mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}.empty()\ ==\ \textcolor{keyword}{false}\ \&\&\ \mbox{\hyperlink{test__partitioner__whitebox_8h_a5c4cf3d37a4eee22275de22cb9619863}{task}}.has\_work()\ ==\ \textcolor{keyword}{false});}

\end{DoxyCode}
 \Hypertarget{classtf_1_1_flow_builder_a9de23fd7b3e11338b663eed41579b038}\index{tf::FlowBuilder@{tf::FlowBuilder}!reduce@{reduce}}
\index{reduce@{reduce}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{reduce()}{reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a9de23fd7b3e11338b663eed41579b038} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename O$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::reduce (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} \&\&}]{beg}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} \&\&}]{end}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{init}{, }\item[{O \&\&}]{bop}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 18
\Hypertarget{classtf_1_1_flow_builder_afb24798ebf46e253a40b01bffb1da6a7}\index{tf::FlowBuilder@{tf::FlowBuilder}!reduce@{reduce}}
\index{reduce@{reduce}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{reduce()}{reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_afb24798ebf46e253a40b01bffb1da6a7} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename O, typename P$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::reduce (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{init}{, }\item[{O}]{bop}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs an STL-\/styled parallel-\/reduction task 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em T} & result type \\
\hline
{\em O} & binary reducer type \\
\hline
{\em P} & partitioner type (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & iterator to the beginning (inclusive) \\
\hline
{\em last} & iterator to the end (exclusive) \\
\hline
{\em init} & initial value of the reduction and the storage for the reduced result \\
\hline
{\em bop} & binary operator that will be applied \\
\hline
{\em part} & partitioning algorithm to schedule parallel iterations\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The task spawns asynchronous tasks to perform parallel reduction over {\ttfamily init} and the elements in the range {\ttfamily \mbox{[}first, last)}. The reduced result is store in {\ttfamily init}. This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ itr=first;\ itr!=\mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ itr++)\ \{}
\DoxyCodeLine{\ \ \mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}}\ =\ bop(\mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}},\ *itr);}
\DoxyCodeLine{\}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelReduction}{Parallel Reduction} for details. 函数调用图\+:
% FIG 19
\Hypertarget{classtf_1_1_flow_builder_a3ea810696c4b29824d1aaef15342c825}\index{tf::FlowBuilder@{tf::FlowBuilder}!reduce\_by\_index@{reduce\_by\_index}}
\index{reduce\_by\_index@{reduce\_by\_index}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{reduce\_by\_index()}{reduce\_by\_index()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a3ea810696c4b29824d1aaef15342c825} 
template$<$typename \mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename \mbox{\hyperlink{_l_l_t__example_8cpp_a2913877890361a28ee108aafe462ee93}{L}}, typename \mbox{\hyperlink{struct_g}{G}}, typename P$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::reduce\+\_\+by\+\_\+index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{test__broadcast__node_8cpp_a554e63228b946db0d44c4f398b18e212}{R}}}]{range}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{init}{, }\item[{\mbox{\hyperlink{_l_l_t__example_8cpp_a2913877890361a28ee108aafe462ee93}{L}}}]{lop}{, }\item[{\mbox{\hyperlink{struct_g}{G}}}]{gop}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs an index range-\/based parallel-\/reduction task 


\begin{DoxyTemplParams}{模板参数}
{\em R} & index range type (\doxylink{classtf_1_1_index_range}{tf\+::\+Index\+Range}) \\
\hline
{\em T} & result type \\
\hline
{\em L} & local reducer type \\
\hline
{\em \doxylink{struct_g}{G}} & global reducer type \\
\hline
{\em P} & partitioner type (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em range} & index range \\
\hline
{\em init} & initial value of the reduction and the storage for the reduced result \\
\hline
{\em lop} & binary operator that will be applied locally per worker \\
\hline
{\em gop} & binary operator that will be applied globally among worker \\
\hline
{\em part} & partitioning algorithm to schedule parallel iterations\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The task spawns asynchronous tasks to perform parallel reduction over a range with {\ttfamily init}. The reduced result is store in {\ttfamily init}. Unlike the iterator-\/based reduction, index range-\/based reduction is particularly useful for applications that benefit from SIMD optimizations or other range-\/based processing strategies.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}\ =\ 1000000;}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}(\mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}});\ \ \textcolor{comment}{//\ uninitialized\ data\ vector}}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ 1;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ res\ will\ participate\ in\ the\ reduction}}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.reduce\_by\_index(}
\DoxyCodeLine{\ \ tf::IndexRange<size\_t>(0,\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}},\ 1),}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ final\ result}}
\DoxyCodeLine{\ \ \mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}},}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ local\ reducer}}
\DoxyCodeLine{\ \ [\&](tf::IndexRange<size\_t>\ subrange,\ std::optional<int>\ running\_total)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ residual\ =\ running\_total\ ?\ *running\_total\ :\ 0.0;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=subrange.\mbox{\hyperlink{classtf_1_1_index_range_a2b52381358ab392efa257e185a33d4af}{begin}}();\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<subrange.\mbox{\hyperlink{classtf_1_1_index_range_a280096cb4056bc19b86da77d019434e4}{end}}();\ \mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}+=subrange.\mbox{\hyperlink{classtf_1_1_index_range_aafd4f2d04614e550649cd9b7912e0bf1}{step\_size}}())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]\ =\ 1.0;}
\DoxyCodeLine{\ \ \ \ \ \ residual\ +=\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a02796e583e939f923a255e43d2c3b177}{data}}[\mbox{\hyperlink{_bi_c_g_s_t_a_b__step__by__step_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{printf_8h_aee3ed3a831f25f07e7be3919fff2203a}{printf}}(\textcolor{stringliteral}{"{}partial\ sum\ =\ \%lf\(\backslash\)n"{}},\ residual);}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ residual;}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ global\ reducer}}
\DoxyCodeLine{\ \ std::plus<int>()}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{assert(\mbox{\hyperlink{_partial_redux__count_8cpp_acbe60897559b79afc28b79b0687b5f29}{res}}\ =\ \mbox{\hyperlink{main-override-static_8c_a0240ac851181b84ac374872dc5434ee4}{N}}\ +\ 1);}

\end{DoxyCode}


\doxylink{test__parallel__scan_8cpp_a7bc3babd450e7afd1af6c7616d0547f7}{Range} can be made stateful by using std\+::reference\+\_\+wrapper.

Please refer to \doxylink{ParallelReduction}{Parallel Reduction} for details. 函数调用图\+:
% FIG 20
\Hypertarget{classtf_1_1_flow_builder_a7d844e9856c7c65b26ccdb83ffdab1d6}\index{tf::FlowBuilder@{tf::FlowBuilder}!sort@{sort}}
\index{sort@{sort}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{sort()}{sort()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a7d844e9856c7c65b26ccdb83ffdab1d6} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::sort (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{}\end{DoxyParamCaption})}



constructs a dynamic task to perform STL-\/styled parallel sort using the {\ttfamily std\+::less$<$\+T$>$} comparator, where {\ttfamily T} is the element type 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type (random-\/accessible) \\
\hline
{\em E} & ending iterator type (random-\/accessible)\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & iterator to the beginning (inclusive) \\
\hline
{\em last} & iterator to the end (exclusive)\\
\hline
\end{DoxyParams}
The task spawns asynchronous tasks to parallel sort elements in the range {\ttfamily \mbox{[}first, last)} using the {\ttfamily std\+::less$<$\+T$>$} comparator, where {\ttfamily T} is the dereferenced iterator type.

Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelSort}{Parallel Sort} for details. 函数调用图\+:
% FIG 21
\Hypertarget{classtf_1_1_flow_builder_a35e180eb63de6c9f28e43185e837a4fa}\index{tf::FlowBuilder@{tf::FlowBuilder}!sort@{sort}}
\index{sort@{sort}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{sort()}{sort()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a35e180eb63de6c9f28e43185e837a4fa} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::sort (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{cmp}{}\end{DoxyParamCaption})}



constructs a dynamic task to perform STL-\/styled parallel sort 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type (random-\/accessible) \\
\hline
{\em E} & ending iterator type (random-\/accessible) \\
\hline
{\em C} & comparator type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & iterator to the beginning (inclusive) \\
\hline
{\em last} & iterator to the end (exclusive) \\
\hline
{\em cmp} & comparison operator\\
\hline
\end{DoxyParams}
The task spawns asynchronous tasks to sort elements in the range {\ttfamily \mbox{[}first, last)} in parallel.

Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelSort}{Parallel Sort} for details. 函数调用图\+:
% FIG 22
\Hypertarget{classtf_1_1_flow_builder_a97be7ceef6fa4276e3b074c10c13b826}\index{tf::FlowBuilder@{tf::FlowBuilder}!transform@{transform}}
\index{transform@{transform}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a97be7ceef6fa4276e3b074c10c13b826} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_a73c20705fc54763f195a00b6e626e301}{is\+\_\+partitioner\+\_\+v}}$<$ std\+::decay\+\_\+t$<$ P $>$ $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::transform (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first1}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last1}{, }\item[{O}]{d\+\_\+first}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{c}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs a parallel-\/transform task 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning input iterator type \\
\hline
{\em E} & ending input iterator type \\
\hline
{\em O} & output iterator type \\
\hline
{\em C} & callable type \\
\hline
{\em P} & partitioner type (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first1} & iterator to the beginning of the first range \\
\hline
{\em last1} & iterator to the end of the first range \\
\hline
{\em d\+\_\+first} & iterator to the beginning of the output range \\
\hline
{\em c} & an unary callable to apply to dereferenced input elements \\
\hline
{\em part} & partitioning algorithm to schedule parallel iterations\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The task spawns asynchronous tasks that applies the callable object to an input range and stores the result in another output range. This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{while}\ (first1\ !=\ last1)\ \{}
\DoxyCodeLine{\ \ *d\_first++\ =\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}(*first1++);}
\DoxyCodeLine{\}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper The callable needs to take a single argument of the dereferenced iterator type.

Please refer to \doxylink{ParallelTransforms}{Parallel Transforms} for details. 函数调用图\+:
% FIG 23
\Hypertarget{classtf_1_1_flow_builder_a7ea96d3fa0aa9e3ff337a9f1e37682b0}\index{tf::FlowBuilder@{tf::FlowBuilder}!transform@{transform}}
\index{transform@{transform}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a7ea96d3fa0aa9e3ff337a9f1e37682b0} 
template$<$typename B1, typename E1, typename B2, typename O, typename \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}, typename P, std\+::enable\+\_\+if\+\_\+t$<$!\mbox{\hyperlink{namespacetf_a73c20705fc54763f195a00b6e626e301}{is\+\_\+partitioner\+\_\+v}}$<$ std\+::decay\+\_\+t$<$ \mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}} $>$ $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::transform (\begin{DoxyParamCaption}\item[{B1}]{first1}{, }\item[{E1}]{last1}{, }\item[{B2}]{first2}{, }\item[{O}]{d\+\_\+first}{, }\item[{\mbox{\hyperlink{bench__gemm_8cpp_aaee470c3acb6b181fd804d072284fbaa}{C}}}]{c}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs a parallel-\/transform task 


\begin{DoxyTemplParams}{模板参数}
{\em B1} & beginning input iterator type for the first input range \\
\hline
{\em E1} & ending input iterator type for the first input range \\
\hline
{\em B2} & beginning input iterator type for the first second range \\
\hline
{\em O} & output iterator type \\
\hline
{\em C} & callable type \\
\hline
{\em P} & partitioner type (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first1} & iterator to the beginning of the first input range \\
\hline
{\em last1} & iterator to the end of the first input range \\
\hline
{\em first2} & iterator to the beginning of the second input range \\
\hline
{\em d\+\_\+first} & iterator to the beginning of the output range \\
\hline
{\em c} & a binary operator to apply to dereferenced input elements \\
\hline
{\em part} & partitioning algorithm to schedule parallel iterations\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The task spawns asynchronous tasks that applies the callable object to two input ranges and stores the result in another output range. This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{while}\ (first1\ !=\ last1)\ \{}
\DoxyCodeLine{\ \ *d\_first++\ =\ \mbox{\hyperlink{bench_vec_add_8cpp_a41689956983587b085f9da3e48f31d99}{c}}(*first1++,\ *first2++);}
\DoxyCodeLine{\}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper The callable needs to take two arguments of dereferenced elements from the two input ranges.

Please refer to \doxylink{ParallelTransforms}{Parallel Transforms} for details. 函数调用图\+:
% FIG 24
\Hypertarget{classtf_1_1_flow_builder_a8549478ef819699b30f8daf88f04d577}\index{tf::FlowBuilder@{tf::FlowBuilder}!transform\_exclusive\_scan@{transform\_exclusive\_scan}}
\index{transform\_exclusive\_scan@{transform\_exclusive\_scan}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{transform\_exclusive\_scan()}{transform\_exclusive\_scan()}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a8549478ef819699b30f8daf88f04d577} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename BOP, typename UOP$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::transform\+\_\+exclusive\+\_\+scan (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}}]{d\+\_\+first}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}}]{init}{, }\item[{BOP}]{bop}{, }\item[{UOP}]{uop}{}\end{DoxyParamCaption})}



creates an STL-\/styled parallel transform-\/exclusive scan task 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em D} & destination iterator type \\
\hline
{\em BOP} & summation operator type \\
\hline
{\em UOP} & transform operator type \\
\hline
{\em T} & initial value type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & start of input range \\
\hline
{\em last} & end of input range \\
\hline
{\em d\+\_\+first} & start of output range (may be the same as input range) \\
\hline
{\em bop} & function to perform summation \\
\hline
{\em uop} & function to transform elements of the input range \\
\hline
{\em init} & initial value\\
\hline
\end{DoxyParams}
Write the cumulative sum (aka prefix sum, aka scan) of the input range to the output range. Each element of the output range contains the running total of all earlier elements (including an initial value) using {\ttfamily uop} to transform the input elements and using {\ttfamily bop} for summation.

This function generates an {\itshape exclusive} scan, meaning the Nth element of the output range is the sum of the first N-\/1 input elements, so the Nth input element is not included.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ \{1,\ 2,\ 3,\ 4,\ 5\};}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.transform\_exclusive\_scan(}
\DoxyCodeLine{\ \ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.end(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ -\/1,\ std::plus<int>\{\},}
\DoxyCodeLine{\ \ [](\textcolor{keywordtype}{int}\ item)\ \{\ return\ -\/item;\ \}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ input\ is\ \{-\/1,\ -\/2,\ -\/4,\ -\/7,\ -\/11\}}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelScan}{Parallel Scan} for details. 函数调用图\+:
% FIG 25
\Hypertarget{classtf_1_1_flow_builder_a82f3c3f49a2d52cd52f6eac07a659e9c}\index{tf::FlowBuilder@{tf::FlowBuilder}!transform\_inclusive\_scan@{transform\_inclusive\_scan}}
\index{transform\_inclusive\_scan@{transform\_inclusive\_scan}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{transform\_inclusive\_scan()}{transform\_inclusive\_scan()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a82f3c3f49a2d52cd52f6eac07a659e9c} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename BOP, typename UOP$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::transform\+\_\+inclusive\+\_\+scan (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}}]{d\+\_\+first}{, }\item[{BOP}]{bop}{, }\item[{UOP}]{uop}{}\end{DoxyParamCaption})}



creates an STL-\/styled parallel transform-\/inclusive scan task 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em D} & destination iterator type \\
\hline
{\em BOP} & summation operator type \\
\hline
{\em UOP} & transform operator type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & start of input range \\
\hline
{\em last} & end of input range \\
\hline
{\em d\+\_\+first} & start of output range (may be the same as input range) \\
\hline
{\em bop} & function to perform summation \\
\hline
{\em uop} & function to transform elements of the input range\\
\hline
\end{DoxyParams}
Write the cumulative sum (aka prefix sum, aka scan) of the input range to the output range. Each element of the output range contains the running total of all earlier elements using {\ttfamily uop} to transform the input elements and using {\ttfamily bop} for summation.

This function generates an {\itshape inclusive} scan, meaning the Nth element of the output range is the sum of the first N input elements, so the Nth input element is included.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ \{1,\ 2,\ 3,\ 4,\ 5\};}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.transform\_inclusive\_scan(}
\DoxyCodeLine{\ \ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.end(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ std::plus<int>\{\},\ }
\DoxyCodeLine{\ \ []\ (\textcolor{keywordtype}{int}\ item)\ \{\ return\ -\/item;\ \}}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ input\ is\ \{-\/1,\ -\/3,\ -\/6,\ -\/10,\ -\/15\}}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelScan}{Parallel Scan} for details. 函数调用图\+:
% FIG 26
\Hypertarget{classtf_1_1_flow_builder_a49f7e17d02c708035b9134d8c6c89f90}\index{tf::FlowBuilder@{tf::FlowBuilder}!transform\_inclusive\_scan@{transform\_inclusive\_scan}}
\index{transform\_inclusive\_scan@{transform\_inclusive\_scan}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{transform\_inclusive\_scan()}{transform\_inclusive\_scan()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a49f7e17d02c708035b9134d8c6c89f90} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}, typename BOP, typename UOP, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::transform\+\_\+inclusive\+\_\+scan (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_eigen_solver___eigen_solver___matrix_type_8cpp_a925331f9b6e4844293d36a8df2256d38}{D}}}]{d\+\_\+first}{, }\item[{BOP}]{bop}{, }\item[{UOP}]{uop}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}}]{init}{}\end{DoxyParamCaption})}



creates an STL-\/styled parallel transform-\/inclusive scan task 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em D} & destination iterator type \\
\hline
{\em BOP} & summation operator type \\
\hline
{\em UOP} & transform operator type \\
\hline
{\em T} & initial value type\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & start of input range \\
\hline
{\em last} & end of input range \\
\hline
{\em d\+\_\+first} & start of output range (may be the same as input range) \\
\hline
{\em bop} & function to perform summation \\
\hline
{\em uop} & function to transform elements of the input range \\
\hline
{\em init} & initial value\\
\hline
\end{DoxyParams}
Write the cumulative sum (aka prefix sum, aka scan) of the input range to the output range. Each element of the output range contains the running total of all earlier elements (including an initial value) using {\ttfamily uop} to transform the input elements and using {\ttfamily bop} for summation.

This function generates an {\itshape inclusive} scan, meaning the Nth element of the output range is the sum of the first N input elements, so the Nth input element is included.


\begin{DoxyCode}{0}
\DoxyCodeLine{std::vector<int>\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}\ =\ \{1,\ 2,\ 3,\ 4,\ 5\};}
\DoxyCodeLine{\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}.transform\_inclusive\_scan(}
\DoxyCodeLine{\ \ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.end(),\ \mbox{\hyperlink{benchmarks_2scan_2scan_8hpp_ab7e6955a695fad0be513586926040b1a}{input}}.begin(),\ std::plus<int>\{\},\ }
\DoxyCodeLine{\ \ []\ (\textcolor{keywordtype}{int}\ item)\ \{\ return\ -\/item;\ \},}
\DoxyCodeLine{\ \ -\/1}
\DoxyCodeLine{);}
\DoxyCodeLine{\mbox{\hyperlink{thread__pool_8cpp_a543e564a8407bbeac15cb2d929fec755}{executor}}.\mbox{\hyperlink{classtf_1_1_executor_a519777f5783981d534e9e53b99712069}{run}}(\mbox{\hyperlink{poisson_8hpp_aa56fe360bb0ae38e0082f49e394ff825}{taskflow}}).wait();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ input\ is\ \{-\/2,\ -\/4,\ -\/7,\ -\/11,\ -\/16\}}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelScan}{Parallel Scan} for details. 函数调用图\+:
% FIG 27
\Hypertarget{classtf_1_1_flow_builder_a07db24a358be27374be2ee15374bbad7}\index{tf::FlowBuilder@{tf::FlowBuilder}!transform\_reduce@{transform\_reduce}}
\index{transform\_reduce@{transform\_reduce}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{transform\_reduce()}{transform\_reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a07db24a358be27374be2ee15374bbad7} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename BOP, typename UOP$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::transform\+\_\+reduce (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} \&\&}]{beg}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}} \&\&}]{end}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{init}{, }\item[{BOP \&\&}]{bop}{, }\item[{UOP \&\&}]{uop}{}\end{DoxyParamCaption})}

函数调用图\+:
% FIG 28
\Hypertarget{classtf_1_1_flow_builder_aa62d24438c0860e76153ffd129deba41}\index{tf::FlowBuilder@{tf::FlowBuilder}!transform\_reduce@{transform\_reduce}}
\index{transform\_reduce@{transform\_reduce}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{transform\_reduce()}{transform\_reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_aa62d24438c0860e76153ffd129deba41} 
template$<$typename \mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}, typename \mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename BOP, typename UOP, typename P, std\+::enable\+\_\+if\+\_\+t$<$ \mbox{\hyperlink{namespacetf_a73c20705fc54763f195a00b6e626e301}{is\+\_\+partitioner\+\_\+v}}$<$ std\+::decay\+\_\+t$<$ P $>$ $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::transform\+\_\+reduce (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}}}]{first}{, }\item[{\mbox{\hyperlink{sandbox_2strassen_2omp_8cpp_a4bfa035cad7c3258704669810cd5de5d}{E}}}]{last}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{init}{, }\item[{BOP}]{bop}{, }\item[{UOP}]{uop}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs an STL-\/styled parallel transform-\/reduce task 


\begin{DoxyTemplParams}{模板参数}
{\em \doxylink{bench__gemm_8cpp_a37a83060ac796961b44991c836f083f7}{B}} & beginning iterator type \\
\hline
{\em E} & ending iterator type \\
\hline
{\em T} & result type \\
\hline
{\em BOP} & binary reducer type \\
\hline
{\em UOP} & unary transformation type \\
\hline
{\em P} & partitioner type (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first} & iterator to the beginning (inclusive) \\
\hline
{\em last} & iterator to the end (exclusive) \\
\hline
{\em init} & initial value of the reduction and the storage for the reduced result \\
\hline
{\em bop} & binary operator that will be applied in unspecified order to the results of {\ttfamily uop} \\
\hline
{\em uop} & unary operator that will be applied to transform each element in the range to the result type \\
\hline
{\em part} & partitioning algorithm to schedule parallel iterations\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The task spawns asynchronous tasks to perform parallel reduction over {\ttfamily init} and the transformed elements in the range {\ttfamily \mbox{[}first, last)}. The reduced result is store in {\ttfamily init}. This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ itr=first;\ itr!=\mbox{\hyperlink{namespacetbb_1_1internal_a18405c9631e7064d3af5662f30a84dd2}{last}};\ itr++)\ \{}
\DoxyCodeLine{\ \ \mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}}\ =\ bop(\mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}},\ uop(*itr));}
\DoxyCodeLine{\}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelReduction}{Parallel Reduction} for details. 函数调用图\+:
% FIG 29
\Hypertarget{classtf_1_1_flow_builder_adcd90e5b46299f4ccab33caf46edcbc0}\index{tf::FlowBuilder@{tf::FlowBuilder}!transform\_reduce@{transform\_reduce}}
\index{transform\_reduce@{transform\_reduce}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{transform\_reduce()}{transform\_reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_adcd90e5b46299f4ccab33caf46edcbc0} 
template$<$typename B1, typename E1, typename B2, typename \mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}}, typename BOP\+\_\+R, typename BOP\+\_\+T, typename P, std\+::enable\+\_\+if\+\_\+t$<$!\mbox{\hyperlink{namespacetf_a73c20705fc54763f195a00b6e626e301}{is\+\_\+partitioner\+\_\+v}}$<$ std\+::decay\+\_\+t$<$ BOP\+\_\+T $>$ $>$, \mbox{\hyperlink{ittnotify__static_8h_a61af67d9d838a9497ca5b188dabc1aa0}{void}} $>$ \texorpdfstring{$\ast$}{*}$>$ \\
\mbox{\hyperlink{classtf_1_1_task}{Task}} tf\+::\+Flow\+Builder\+::transform\+\_\+reduce (\begin{DoxyParamCaption}\item[{B1}]{first1}{, }\item[{E1}]{last1}{, }\item[{B2}]{first2}{, }\item[{\mbox{\hyperlink{_tutorial__sparse__example_8cpp_af639fb96631ba0018f0b2259fc95edfb}{T}} \&}]{init}{, }\item[{BOP\+\_\+R}]{bop\+\_\+r}{, }\item[{BOP\+\_\+T}]{bop\+\_\+t}{, }\item[{P}]{part}{ = {\ttfamily P()}}\end{DoxyParamCaption})}



constructs an STL-\/styled parallel transform-\/reduce task 


\begin{DoxyTemplParams}{模板参数}
{\em B1} & first beginning iterator type \\
\hline
{\em E1} & first ending iterator type \\
\hline
{\em B2} & second beginning iterator type \\
\hline
{\em T} & result type \\
\hline
{\em BOP\+\_\+R} & binary reducer type \\
\hline
{\em BOP\+\_\+T} & binary transformation type \\
\hline
{\em P} & partitioner type (default \doxylink{namespacetf_ace2c5adcd5039483eebb6dbdbb6f33e3}{tf\+::\+Default\+Partitioner})\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{参数}
{\em first1} & iterator to the beginning of the first range (inclusive) \\
\hline
{\em last1} & iterator to the end of the first range (exclusive) \\
\hline
{\em first2} & iterator to the beginning of the second range \\
\hline
{\em init} & initial value of the reduction and the storage for the reduced result \\
\hline
{\em bop\+\_\+r} & binary operator that will be applied in unspecified order to the results of {\ttfamily bop\+\_\+t} \\
\hline
{\em bop\+\_\+t} & binary operator that will be applied to transform each element in the range to the result type \\
\hline
{\em part} & partitioning algorithm to schedule parallel iterations\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a \doxylink{classtf_1_1_task}{tf\+::\+Task} handle
\end{DoxyReturn}
The task spawns asynchronous tasks to perform parallel reduction over {\ttfamily init} and transformed elements in the range {\ttfamily \mbox{[}first, last)}. The reduced result is store in {\ttfamily init}. This method is equivalent to the parallel execution of the following loop\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ itr1=first1,\ itr2=first2;\ itr1!=last1;\ itr1++,\ itr2++)\ \{}
\DoxyCodeLine{\ \ \mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}}\ =\ bop\_r(\mbox{\hyperlink{boing_8c_a2858154e2009b0e6e616f313177762bc}{init}},\ bop\_t(*itr1,\ *itr2));}
\DoxyCodeLine{\}}

\end{DoxyCode}


Iterators can be made stateful by using std\+::reference\+\_\+wrapper

Please refer to \doxylink{ParallelReduction}{Parallel Reduction} for details. 函数调用图\+:
% FIG 30


\doxysubsection{友元及相关符号说明}
\Hypertarget{classtf_1_1_flow_builder_a763b2f90bc53f92d680a635fe28e858e}\index{tf::FlowBuilder@{tf::FlowBuilder}!Executor@{Executor}}
\index{Executor@{Executor}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{Executor}{Executor}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a763b2f90bc53f92d680a635fe28e858e} 
friend class \mbox{\hyperlink{classtf_1_1_executor}{Executor}}\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{类成员变量说明}
\Hypertarget{classtf_1_1_flow_builder_a9404a57d9d37a4d49d20b686e4e5f68f}\index{tf::FlowBuilder@{tf::FlowBuilder}!\_graph@{\_graph}}
\index{\_graph@{\_graph}!tf::FlowBuilder@{tf::FlowBuilder}}
\doxysubsubsection{\texorpdfstring{\_graph}{\_graph}}
{\footnotesize\ttfamily \label{classtf_1_1_flow_builder_a9404a57d9d37a4d49d20b686e4e5f68f} 
\mbox{\hyperlink{classtf_1_1_graph}{Graph}}\& tf\+::\+Flow\+Builder\+::\+\_\+graph\hspace{0.3cm}{\ttfamily [protected]}}



associated graph object 



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
external/taskflow/taskflow/core/\mbox{\hyperlink{flow__builder_8hpp}{flow\+\_\+builder.\+hpp}}\item 
external/taskflow/sandbox/snapshot/042621/\mbox{\hyperlink{sandbox_2snapshot_2042621_2for__each_8hpp}{for\+\_\+each.\+hpp}}\item 
external/taskflow/sandbox/snapshot/042621/\mbox{\hyperlink{sandbox_2snapshot_2042621_2reduce_8hpp}{reduce.\+hpp}}\item 
external/taskflow/taskflow/algorithm/\mbox{\hyperlink{algorithm_2find_8hpp}{find.\+hpp}}\item 
external/taskflow/taskflow/algorithm/\mbox{\hyperlink{taskflow_2algorithm_2for__each_8hpp}{for\+\_\+each.\+hpp}}\item 
external/taskflow/taskflow/algorithm/\mbox{\hyperlink{taskflow_2algorithm_2reduce_8hpp}{reduce.\+hpp}}\item 
external/taskflow/taskflow/algorithm/\mbox{\hyperlink{taskflow_2algorithm_2scan_8hpp}{scan.\+hpp}}\item 
external/taskflow/taskflow/algorithm/\mbox{\hyperlink{taskflow_2algorithm_2sort_8hpp}{sort.\+hpp}}\item 
external/taskflow/taskflow/algorithm/\mbox{\hyperlink{algorithm_2transform_8hpp}{transform.\+hpp}}\item 
external/taskflow/taskflow/sycl/\mbox{\hyperlink{syclflow_8hpp}{syclflow.\+hpp}}\end{DoxyCompactItemize}
