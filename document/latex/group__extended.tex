\doxysection{Extended Functions}
\hypertarget{group__extended}{}\label{group__extended}\index{Extended Functions@{Extended Functions}}
\doxysubsubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__extended_ga1ea64283508718d9d645c38efc2f4305}{MI\+\_\+\+SMALL\+\_\+\+SIZE\+\_\+\+MAX}}~(128\texorpdfstring{$\ast$}{*}sizeof(\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}\texorpdfstring{$\ast$}{*}))
\end{DoxyCompactItemize}
\doxysubsubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_ga292a45f7dbc7cd23c5352ce1f0002816}{mi\+\_\+deferred\+\_\+free\+\_\+fun}}(\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} force, unsigned long long \mbox{\hyperlink{mimalloc_8h_a411f6e94394a2400aa460c796beff8d8}{heartbeat}}, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})
\item 
typedef \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_gadf31cea7d0332a81c8b882cbbdbadb8d}{mi\+\_\+output\+\_\+fun}}(const char \texorpdfstring{$\ast$}{*}msg, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})
\item 
typedef \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_ga83fc6a688b322261e1c2deab000b0591}{mi\+\_\+error\+\_\+fun}}(\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} err, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})
\item 
typedef \mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} \mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}}
\item 
typedef \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}{mi\+\_\+subproc\+\_\+id\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__extended_ga7f050bc6b897da82692174f5fce59cde}{mi\+\_\+malloc\+\_\+small}} (size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}})
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__extended_ga51c47637e81df0e2f13a2d7a2dec123e}{mi\+\_\+zalloc\+\_\+small}} (size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}})
\item 
size\+\_\+t \mbox{\hyperlink{group__extended_ga089c859d9eddc5f9b4bd946cd53cebee}{mi\+\_\+usable\+\_\+size}} (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})
\item 
size\+\_\+t \mbox{\hyperlink{group__extended_gac057927cd06c854b45fe7847e921bd47}{mi\+\_\+good\+\_\+size}} (size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}})
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_ga421430e2226d7d468529cec457396756}{mi\+\_\+collect}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} force)
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_ga2d126e5c62d3badc35445e5d84166df2}{mi\+\_\+stats\+\_\+print}} (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}out)
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_ga537f13b299ddf801e49a5a94fde02c79}{mi\+\_\+stats\+\_\+print\+\_\+out}} (\mbox{\hyperlink{group__extended_gadf31cea7d0332a81c8b882cbbdbadb8d}{mi\+\_\+output\+\_\+fun}} \texorpdfstring{$\ast$}{*}out, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_ga3bb8468b8cfcc6e2a61d98aee85c5f99}{mi\+\_\+stats\+\_\+reset}} (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}})
\begin{DoxyCompactList}\small\item\em Reset statistics. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_ga854b1de8cb067c7316286c28b2fcd3d1}{mi\+\_\+stats\+\_\+merge}} (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}})
\begin{DoxyCompactList}\small\item\em Merge thread local statistics with the main statistics and reset. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_gaf8e73efc2cbca9ebfdfb166983a04c17}{mi\+\_\+thread\+\_\+init}} (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}})
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_ga0ae4581e85453456a0d658b2b98bf7bf}{mi\+\_\+thread\+\_\+done}} (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}})
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_gab1dac8476c46cb9eecab767eb40c1525}{mi\+\_\+thread\+\_\+stats\+\_\+print\+\_\+out}} (\mbox{\hyperlink{group__extended_gadf31cea7d0332a81c8b882cbbdbadb8d}{mi\+\_\+output\+\_\+fun}} \texorpdfstring{$\ast$}{*}out, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_ga3460a6ca91af97be4058f523d3cb8ece}{mi\+\_\+register\+\_\+deferred\+\_\+free}} (\mbox{\hyperlink{group__extended_ga292a45f7dbc7cd23c5352ce1f0002816}{mi\+\_\+deferred\+\_\+free\+\_\+fun}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{page_8c_ad1a540f25b510d62f9be16198a22dadc}{deferred\+\_\+free}}, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_gae5b17ff027cd2150b43a33040250cf3f}{mi\+\_\+register\+\_\+output}} (\mbox{\hyperlink{group__extended_gadf31cea7d0332a81c8b882cbbdbadb8d}{mi\+\_\+output\+\_\+fun}} \texorpdfstring{$\ast$}{*}out, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_gaa1d55e0e894be240827e5d87ec3a1f45}{mi\+\_\+register\+\_\+error}} (\mbox{\hyperlink{group__extended_ga83fc6a688b322261e1c2deab000b0591}{mi\+\_\+error\+\_\+fun}} \texorpdfstring{$\ast$}{*}errfun, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{group__extended_ga5f071b10d4df1c3658e04e7fd67a94e6}{mi\+\_\+is\+\_\+in\+\_\+heap\+\_\+region}} (const \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{main-override_8cpp_a117104b82864d3b23ec174af6d392709}{p}})
\item 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} \mbox{\hyperlink{group__extended_ga00ec3324b6b2591c7fe3677baa30a767}{mi\+\_\+reserve\+\_\+os\+\_\+memory}} (size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} commit, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} allow\+\_\+large)
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{group__extended_gaee14003b3ae120dc3e30f55c10d2854a}{mi\+\_\+manage\+\_\+os\+\_\+memory}} (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}start, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+committed, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+pinned, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+zero, \mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} numa\+\_\+node)
\item 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} \mbox{\hyperlink{group__extended_ga3132f521fb756fc0e8ec0b74fb58df50}{mi\+\_\+reserve\+\_\+huge\+\_\+os\+\_\+pages\+\_\+interleave}} (size\+\_\+t pages, size\+\_\+t numa\+\_\+nodes, size\+\_\+t timeout\+\_\+msecs)
\item 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} \mbox{\hyperlink{group__extended_ga7795a13d20087447281858d2c771cca1}{mi\+\_\+reserve\+\_\+huge\+\_\+os\+\_\+pages\+\_\+at}} (size\+\_\+t pages, \mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} numa\+\_\+node, size\+\_\+t timeout\+\_\+msecs)
\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{group__extended_gaad25050b19f30cd79397b227e0157a3f}{mi\+\_\+is\+\_\+redirected}} ()
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_ga7d862c2affd5790381da14eb102a364d}{mi\+\_\+process\+\_\+info}} (size\+\_\+t \texorpdfstring{$\ast$}{*}elapsed\+\_\+msecs, size\+\_\+t \texorpdfstring{$\ast$}{*}user\+\_\+msecs, size\+\_\+t \texorpdfstring{$\ast$}{*}system\+\_\+msecs, size\+\_\+t \texorpdfstring{$\ast$}{*}current\+\_\+rss, size\+\_\+t \texorpdfstring{$\ast$}{*}peak\+\_\+rss, size\+\_\+t \texorpdfstring{$\ast$}{*}current\+\_\+commit, size\+\_\+t \texorpdfstring{$\ast$}{*}peak\+\_\+commit, size\+\_\+t \texorpdfstring{$\ast$}{*}page\+\_\+faults)
\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_gad7439207f8f71fb6c382a9ea20b997e7}{mi\+\_\+debug\+\_\+show\+\_\+arenas}} (\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} show\+\_\+inuse, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} show\+\_\+abandoned, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} show\+\_\+purge)
\begin{DoxyCompactList}\small\item\em Show all current arena\textquotesingle{}s. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__extended_ga9a25a00a22151619a0be91a10af7787f}{mi\+\_\+arena\+\_\+area}} (\mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}} arena\+\_\+id, size\+\_\+t \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}})
\begin{DoxyCompactList}\small\item\em Return the size of an arena. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} \mbox{\hyperlink{group__extended_ga591aab1c2bc2ca920e33f0f9f9cb5c52}{mi\+\_\+reserve\+\_\+huge\+\_\+os\+\_\+pages\+\_\+at\+\_\+ex}} (size\+\_\+t pages, \mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} numa\+\_\+node, size\+\_\+t timeout\+\_\+msecs, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} exclusive, \mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}} \texorpdfstring{$\ast$}{*}arena\+\_\+id)
\begin{DoxyCompactList}\small\item\em Reserve huge OS pages (1GiB) into a single arena. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} \mbox{\hyperlink{group__extended_ga32f519797fd9a81acb4f52d36e6d751b}{mi\+\_\+reserve\+\_\+os\+\_\+memory\+\_\+ex}} (size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} commit, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} allow\+\_\+large, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} exclusive, \mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}} \texorpdfstring{$\ast$}{*}arena\+\_\+id)
\begin{DoxyCompactList}\small\item\em Reserve OS memory to be managed in an arena. \end{DoxyCompactList}\item 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} \mbox{\hyperlink{group__extended_ga41ce8525d77bbb60f618fa1029994f6e}{mi\+\_\+manage\+\_\+os\+\_\+memory\+\_\+ex}} (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}start, size\+\_\+t \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a3d1e3edfcf61ca2d831883e1afbad89e}{size}}, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+committed, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+large, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} is\+\_\+zero, \mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} numa\+\_\+node, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} exclusive, \mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}} \texorpdfstring{$\ast$}{*}arena\+\_\+id)
\begin{DoxyCompactList}\small\item\em Manage externally allocated memory as a mimalloc arena. This memory will not be freed by mimalloc. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__heap_ga34a47cde5a5b38c29f1aa3c5e76943c2}{mi\+\_\+heap\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__extended_gaaf2d9976576d5efd5544be12848af949}{mi\+\_\+heap\+\_\+new\+\_\+in\+\_\+arena}} (\mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}} arena\+\_\+id)
\begin{DoxyCompactList}\small\item\em Create a new heap that only allocates in the specified arena. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__heap_ga34a47cde5a5b38c29f1aa3c5e76943c2}{mi\+\_\+heap\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__extended_ga3ae360583f4351aa5267ee7e43008faf}{mi\+\_\+heap\+\_\+new\+\_\+ex}} (\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} heap\+\_\+tag, \mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} allow\+\_\+destroy, \mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}} arena\+\_\+id)
\begin{DoxyCompactList}\small\item\em Create a new heap \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}{mi\+\_\+subproc\+\_\+id\+\_\+t}} \mbox{\hyperlink{group__extended_ga2ecba0d7ebdc99e71bb985c4a1609806}{mi\+\_\+subproc\+\_\+main}} (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}})
\begin{DoxyCompactList}\small\item\em Get the main sub-\/process identifier. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}{mi\+\_\+subproc\+\_\+id\+\_\+t}} \mbox{\hyperlink{group__extended_ga8068cac328e41fa2170faef707315243}{mi\+\_\+subproc\+\_\+new}} (\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}})
\begin{DoxyCompactList}\small\item\em Create a fresh sub-\/process (with no associated threads yet). \end{DoxyCompactList}\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_gaa7d263e9429bac9ac8345c9d25de610e}{mi\+\_\+subproc\+\_\+delete}} (\mbox{\hyperlink{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}{mi\+\_\+subproc\+\_\+id\+\_\+t}} subproc)
\begin{DoxyCompactList}\small\item\em Delete a previously created sub-\/process. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \mbox{\hyperlink{group__extended_gadbc53414eb68b275588ec001ce1ddc7c}{mi\+\_\+subproc\+\_\+add\+\_\+current\+\_\+thread}} (\mbox{\hyperlink{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}{mi\+\_\+subproc\+\_\+id\+\_\+t}} subproc)
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
Extended functionality. 

\doxysubsection{宏定义说明}
\Hypertarget{group__extended_ga1ea64283508718d9d645c38efc2f4305}\index{Extended Functions@{Extended Functions}!MI\_SMALL\_SIZE\_MAX@{MI\_SMALL\_SIZE\_MAX}}
\index{MI\_SMALL\_SIZE\_MAX@{MI\_SMALL\_SIZE\_MAX}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{MI\_SMALL\_SIZE\_MAX}{MI\_SMALL\_SIZE\_MAX}}
{\footnotesize\ttfamily \label{group__extended_ga1ea64283508718d9d645c38efc2f4305} 
\#define MI\+\_\+\+SMALL\+\_\+\+SIZE\+\_\+\+MAX~(128\texorpdfstring{$\ast$}{*}sizeof(\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}\texorpdfstring{$\ast$}{*}))}

Maximum size allowed for small allocations in \doxylink{group__extended_ga7f050bc6b897da82692174f5fce59cde}{mi\+\_\+malloc\+\_\+small} and \doxylink{group__extended_ga51c47637e81df0e2f13a2d7a2dec123e}{mi\+\_\+zalloc\+\_\+small} (usually {\ttfamily 128\texorpdfstring{$\ast$}{*}sizeof(void\texorpdfstring{$\ast$}{*})} (= 1KB on 64-\/bit systems)) 

\doxysubsection{类型定义说明}
\Hypertarget{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}\index{Extended Functions@{Extended Functions}!mi\_arena\_id\_t@{mi\_arena\_id\_t}}
\index{mi\_arena\_id\_t@{mi\_arena\_id\_t}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_arena\_id\_t}{mi\_arena\_id\_t}}
{\footnotesize\ttfamily \label{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3} 
typedef \mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} \mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}}}

Mimalloc uses large (virtual) memory areas, called "{}arena"{}s, from the OS to manage its memory. Each arena has an associated identifier. \Hypertarget{group__extended_ga292a45f7dbc7cd23c5352ce1f0002816}\index{Extended Functions@{Extended Functions}!mi\_deferred\_free\_fun@{mi\_deferred\_free\_fun}}
\index{mi\_deferred\_free\_fun@{mi\_deferred\_free\_fun}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_deferred\_free\_fun}{mi\_deferred\_free\_fun}}
{\footnotesize\ttfamily \label{group__extended_ga292a45f7dbc7cd23c5352ce1f0002816} 
typedef \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+deferred\+\_\+free\+\_\+fun(\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} force, unsigned long long \mbox{\hyperlink{mimalloc_8h_a411f6e94394a2400aa460c796beff8d8}{heartbeat}}, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})}

\doxylink{ir__common_8h_a1ac75f8fee198af783521627f1fecfbc}{Type} of deferred free functions. 
\begin{DoxyParams}{参数}
{\em force} & If {\itshape true} all outstanding items should be freed. \\
\hline
{\em heartbeat} & A monotonically increasing count. \\
\hline
{\em arg} & Argument that was passed at registration to hold extra state.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{参见}
\doxylink{group__extended_ga3460a6ca91af97be4058f523d3cb8ece}{mi\+\_\+register\+\_\+deferred\+\_\+free} 
\end{DoxySeeAlso}
\Hypertarget{group__extended_ga83fc6a688b322261e1c2deab000b0591}\index{Extended Functions@{Extended Functions}!mi\_error\_fun@{mi\_error\_fun}}
\index{mi\_error\_fun@{mi\_error\_fun}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_error\_fun}{mi\_error\_fun}}
{\footnotesize\ttfamily \label{group__extended_ga83fc6a688b322261e1c2deab000b0591} 
typedef \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+error\+\_\+fun(\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} err, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})}

\doxylink{ir__common_8h_a1ac75f8fee198af783521627f1fecfbc}{Type} of error callback functions. 
\begin{DoxyParams}{参数}
{\em err} & Error code (see \doxylink{group__extended_gaa1d55e0e894be240827e5d87ec3a1f45}{mi\+\_\+register\+\_\+error()} for a complete list). \\
\hline
{\em arg} & Argument that was passed at registration to hold extra state.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{参见}
\doxylink{group__extended_gaa1d55e0e894be240827e5d87ec3a1f45}{mi\+\_\+register\+\_\+error()} 
\end{DoxySeeAlso}
\Hypertarget{group__extended_gadf31cea7d0332a81c8b882cbbdbadb8d}\index{Extended Functions@{Extended Functions}!mi\_output\_fun@{mi\_output\_fun}}
\index{mi\_output\_fun@{mi\_output\_fun}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_output\_fun}{mi\_output\_fun}}
{\footnotesize\ttfamily \label{group__extended_gadf31cea7d0332a81c8b882cbbdbadb8d} 
typedef \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+output\+\_\+fun(const char \texorpdfstring{$\ast$}{*}msg, \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mimalloc_8h_ac9ca0390aa991912667416f6baf99e51}{arg}})}

\doxylink{ir__common_8h_a1ac75f8fee198af783521627f1fecfbc}{Type} of output functions. 
\begin{DoxyParams}{参数}
{\em msg} & Message to output. \\
\hline
{\em arg} & Argument that was passed at registration to hold extra state.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{参见}
\doxylink{group__extended_gae5b17ff027cd2150b43a33040250cf3f}{mi\+\_\+register\+\_\+output()} 
\end{DoxySeeAlso}
\Hypertarget{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}\index{Extended Functions@{Extended Functions}!mi\_subproc\_id\_t@{mi\_subproc\_id\_t}}
\index{mi\_subproc\_id\_t@{mi\_subproc\_id\_t}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_subproc\_id\_t}{mi\_subproc\_id\_t}}
{\footnotesize\ttfamily \label{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d} 
typedef \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}{mi\+\_\+subproc\+\_\+id\+\_\+t}}}

A process can associate threads with sub-\/processes. A sub-\/process will not reclaim memory from (abandoned heaps/threads) other subprocesses. 

\doxysubsection{函数说明}
\Hypertarget{group__extended_ga9a25a00a22151619a0be91a10af7787f}\index{Extended Functions@{Extended Functions}!mi\_arena\_area@{mi\_arena\_area}}
\index{mi\_arena\_area@{mi\_arena\_area}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_arena\_area()}{mi\_arena\_area()}}
{\footnotesize\ttfamily \label{group__extended_ga9a25a00a22151619a0be91a10af7787f} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*} mi\+\_\+arena\+\_\+area (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}}}]{arena\+\_\+id}{, }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{size}{}\end{DoxyParamCaption})}



Return the size of an arena. 


\begin{DoxyParams}{参数}
{\em arena\+\_\+id} & The arena identifier. \\
\hline
{\em size} & Returned size in bytes of the (virtual) arena area. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
base address of the arena. 
\end{DoxyReturn}
函数调用图\+:
% FIG 0
\Hypertarget{group__extended_ga421430e2226d7d468529cec457396756}\index{Extended Functions@{Extended Functions}!mi\_collect@{mi\_collect}}
\index{mi\_collect@{mi\_collect}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_collect()}{mi\_collect()}}
{\footnotesize\ttfamily \label{group__extended_ga421430e2226d7d468529cec457396756} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+collect (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{force}{}\end{DoxyParamCaption})}

Eagerly free memory. 
\begin{DoxyParams}{参数}
{\em force} & If {\itshape true}, aggressively return memory to the OS (can be expensive!)\\
\hline
\end{DoxyParams}
Regular code should not have to call this function. It can be beneficial in very narrow circumstances; in particular, when a long running thread allocates a lot of blocks that are freed by other threads it may improve resource usage by calling this every once in a while. 函数调用图\+:
% FIG 1
\Hypertarget{group__extended_gad7439207f8f71fb6c382a9ea20b997e7}\index{Extended Functions@{Extended Functions}!mi\_debug\_show\_arenas@{mi\_debug\_show\_arenas}}
\index{mi\_debug\_show\_arenas@{mi\_debug\_show\_arenas}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_debug\_show\_arenas()}{mi\_debug\_show\_arenas()}}
{\footnotesize\ttfamily \label{group__extended_gad7439207f8f71fb6c382a9ea20b997e7} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+debug\+\_\+show\+\_\+arenas (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{show\+\_\+inuse}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{show\+\_\+abandoned}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{show\+\_\+purge}{}\end{DoxyParamCaption})}



Show all current arena\textquotesingle{}s. 


\begin{DoxyParams}{参数}
{\em show\+\_\+inuse} & Show the arena blocks that are in use. \\
\hline
{\em show\+\_\+abandoned} & Show the abandoned arena blocks. \\
\hline
{\em show\+\_\+purge} & Show arena blocks scheduled for purging. \\
\hline
\end{DoxyParams}
\Hypertarget{group__extended_gac057927cd06c854b45fe7847e921bd47}\index{Extended Functions@{Extended Functions}!mi\_good\_size@{mi\_good\_size}}
\index{mi\_good\_size@{mi\_good\_size}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_good\_size()}{mi\_good\_size()}}
{\footnotesize\ttfamily \label{group__extended_gac057927cd06c854b45fe7847e921bd47} 
size\+\_\+t mi\+\_\+good\+\_\+size (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size}{}\end{DoxyParamCaption})}

Return the used allocation size. 
\begin{DoxyParams}{参数}
{\em size} & The minimal required size in bytes. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
the size {\ttfamily n} that will be allocated, where {\ttfamily n \texorpdfstring{$>$}{>}= size}.
\end{DoxyReturn}
Generally, {\ttfamily mi\+\_\+usable\+\_\+size(mi\+\_\+malloc(size)) == mi\+\_\+good\+\_\+size(size)}. This can be used to reduce internal wasted space when allocating buffers for example.

\begin{DoxySeeAlso}{参见}
\doxylink{group__extended_ga089c859d9eddc5f9b4bd946cd53cebee}{mi\+\_\+usable\+\_\+size()} 
\end{DoxySeeAlso}
函数调用图\+:
% FIG 2
\Hypertarget{group__extended_ga3ae360583f4351aa5267ee7e43008faf}\index{Extended Functions@{Extended Functions}!mi\_heap\_new\_ex@{mi\_heap\_new\_ex}}
\index{mi\_heap\_new\_ex@{mi\_heap\_new\_ex}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_heap\_new\_ex()}{mi\_heap\_new\_ex()}}
{\footnotesize\ttfamily \label{group__extended_ga3ae360583f4351aa5267ee7e43008faf} 
\mbox{\hyperlink{group__heap_ga34a47cde5a5b38c29f1aa3c5e76943c2}{mi\+\_\+heap\+\_\+t}} \texorpdfstring{$\ast$}{*} mi\+\_\+heap\+\_\+new\+\_\+ex (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}}}]{heap\+\_\+tag}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{allow\+\_\+destroy}{, }\item[{\mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}}}]{arena\+\_\+id}{}\end{DoxyParamCaption})}



Create a new heap 


\begin{DoxyParams}{参数}
{\em heap\+\_\+tag} & The heap tag associated with this heap; heaps only reclaim memory between heaps with the same tag. \\
\hline
{\em allow\+\_\+destroy} & Is {\itshape mi\+\_\+heap\+\_\+destroy} allowed? Not allowing this allows the heap to reclaim memory from terminated threads. \\
\hline
{\em arena\+\_\+id} & If not 0, the heap will only allocate from the specified arena. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
A new heap or {\ttfamily NULL} on failure.
\end{DoxyReturn}
The {\itshape arena\+\_\+id} can be used by runtimes to allocate only in a specified pre-\/reserved arena. This is used for example for a compressed pointer heap in Koka. The {\itshape heap\+\_\+tag} enables heaps to keep objects of a certain type isolated to heaps with that tag. This is used for example in the CPython integration. 函数调用图\+:
% FIG 3
\Hypertarget{group__extended_gaaf2d9976576d5efd5544be12848af949}\index{Extended Functions@{Extended Functions}!mi\_heap\_new\_in\_arena@{mi\_heap\_new\_in\_arena}}
\index{mi\_heap\_new\_in\_arena@{mi\_heap\_new\_in\_arena}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_heap\_new\_in\_arena()}{mi\_heap\_new\_in\_arena()}}
{\footnotesize\ttfamily \label{group__extended_gaaf2d9976576d5efd5544be12848af949} 
\mbox{\hyperlink{group__heap_ga34a47cde5a5b38c29f1aa3c5e76943c2}{mi\+\_\+heap\+\_\+t}} \texorpdfstring{$\ast$}{*} mi\+\_\+heap\+\_\+new\+\_\+in\+\_\+arena (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}}}]{arena\+\_\+id}{}\end{DoxyParamCaption})}



Create a new heap that only allocates in the specified arena. 


\begin{DoxyParams}{参数}
{\em arena\+\_\+id} & The arena identifier. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
The new heap or {\ttfamily NULL}. 
\end{DoxyReturn}
函数调用图\+:
% FIG 4
\Hypertarget{group__extended_ga5f071b10d4df1c3658e04e7fd67a94e6}\index{Extended Functions@{Extended Functions}!mi\_is\_in\_heap\_region@{mi\_is\_in\_heap\_region}}
\index{mi\_is\_in\_heap\_region@{mi\_is\_in\_heap\_region}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_is\_in\_heap\_region()}{mi\_is\_in\_heap\_region()}}
{\footnotesize\ttfamily \label{group__extended_ga5f071b10d4df1c3658e04e7fd67a94e6} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} mi\+\_\+is\+\_\+in\+\_\+heap\+\_\+region (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{p}{}\end{DoxyParamCaption})}

Is a pointer part of our heap? 
\begin{DoxyParams}{参数}
{\em p} & The pointer to check. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
{\itshape true} if this is a pointer into our heap. This function is relatively fast. 
\end{DoxyReturn}
函数调用图\+:
% FIG 5
\Hypertarget{group__extended_gaad25050b19f30cd79397b227e0157a3f}\index{Extended Functions@{Extended Functions}!mi\_is\_redirected@{mi\_is\_redirected}}
\index{mi\_is\_redirected@{mi\_is\_redirected}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_is\_redirected()}{mi\_is\_redirected()}}
{\footnotesize\ttfamily \label{group__extended_gaad25050b19f30cd79397b227e0157a3f} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} mi\+\_\+is\+\_\+redirected (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Is the C runtime {\itshape malloc} API redirected? \begin{DoxyReturn}{返回}
{\itshape true} if all malloc API calls are redirected to mimalloc.
\end{DoxyReturn}
Currently only used on Windows. 函数调用图\+:
% FIG 6
\Hypertarget{group__extended_ga7f050bc6b897da82692174f5fce59cde}\index{Extended Functions@{Extended Functions}!mi\_malloc\_small@{mi\_malloc\_small}}
\index{mi\_malloc\_small@{mi\_malloc\_small}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_malloc\_small()}{mi\_malloc\_small()}}
{\footnotesize\ttfamily \label{group__extended_ga7f050bc6b897da82692174f5fce59cde} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*} mi\+\_\+malloc\+\_\+small (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Allocate a small object. 
\begin{DoxyParams}{参数}
{\em size} & The size in bytes, can be at most \doxylink{group__extended_ga1ea64283508718d9d645c38efc2f4305}{MI\+\_\+\+SMALL\+\_\+\+SIZE\+\_\+\+MAX}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a pointer to newly allocated memory of at least {\itshape size} bytes, or {\itshape NULL} if out of memory. This function is meant for use in run-\/time systems for best performance and does not check if {\itshape size} was indeed small -- use with care! 
\end{DoxyReturn}
函数调用图\+:
% FIG 7
\Hypertarget{group__extended_gaee14003b3ae120dc3e30f55c10d2854a}\index{Extended Functions@{Extended Functions}!mi\_manage\_os\_memory@{mi\_manage\_os\_memory}}
\index{mi\_manage\_os\_memory@{mi\_manage\_os\_memory}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_manage\_os\_memory()}{mi\_manage\_os\_memory()}}
{\footnotesize\ttfamily \label{group__extended_gaee14003b3ae120dc3e30f55c10d2854a} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} mi\+\_\+manage\+\_\+os\+\_\+memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{start}{, }\item[{size\+\_\+t}]{size}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+committed}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+pinned}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+zero}{, }\item[{\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}}}]{numa\+\_\+node}{}\end{DoxyParamCaption})}

Manage a particular memory area for use by mimalloc. This is just like {\ttfamily mi\+\_\+reserve\+\_\+os\+\_\+memory} except that the area should already be allocated in some manner and available for use my mimalloc. 
\begin{DoxyParams}{参数}
{\em start} & Start of the memory area \\
\hline
{\em size} & The size of the memory area. \\
\hline
{\em is\+\_\+committed} & Is the area already committed? \\
\hline
{\em is\+\_\+pinned} & Can the memory not be decommitted or reset? (usually the case for large OS pages) \\
\hline
{\em is\+\_\+zero} & Does the area consists of zero\textquotesingle{}s? \\
\hline
{\em numa\+\_\+node} & Possible associated numa node or {\ttfamily -\/1}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
{\itshape true} if successful, and {\itshape false} on error. 
\end{DoxyReturn}
函数调用图\+:
% FIG 8
\Hypertarget{group__extended_ga41ce8525d77bbb60f618fa1029994f6e}\index{Extended Functions@{Extended Functions}!mi\_manage\_os\_memory\_ex@{mi\_manage\_os\_memory\_ex}}
\index{mi\_manage\_os\_memory\_ex@{mi\_manage\_os\_memory\_ex}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_manage\_os\_memory\_ex()}{mi\_manage\_os\_memory\_ex()}}
{\footnotesize\ttfamily \label{group__extended_ga41ce8525d77bbb60f618fa1029994f6e} 
\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}} mi\+\_\+manage\+\_\+os\+\_\+memory\+\_\+ex (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{start}{, }\item[{size\+\_\+t}]{size}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+committed}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+large}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{is\+\_\+zero}{, }\item[{\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}}}]{numa\+\_\+node}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{exclusive}{, }\item[{\mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{arena\+\_\+id}{}\end{DoxyParamCaption})}



Manage externally allocated memory as a mimalloc arena. This memory will not be freed by mimalloc. 


\begin{DoxyParams}{参数}
{\em start} & Start address of the area. \\
\hline
{\em size} & Size in bytes of the area. \\
\hline
{\em is\+\_\+committed} & Is the memory already committed? \\
\hline
{\em is\+\_\+large} & Does it consist of (pinned) large OS pages? \\
\hline
{\em is\+\_\+zero} & Is the memory zero-\/initialized? \\
\hline
{\em numa\+\_\+node} & Associated NUMA node, or -\/1 to have no NUMA preference. \\
\hline
{\em exclusive} & Is the arena exclusive (where only heaps associated with the arena can allocate in it) \\
\hline
{\em arena\+\_\+id} & The new arena identifier. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
{\ttfamily true} if successful. 
\end{DoxyReturn}
函数调用图\+:
% FIG 9
\Hypertarget{group__extended_ga7d862c2affd5790381da14eb102a364d}\index{Extended Functions@{Extended Functions}!mi\_process\_info@{mi\_process\_info}}
\index{mi\_process\_info@{mi\_process\_info}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_process\_info()}{mi\_process\_info()}}
{\footnotesize\ttfamily \label{group__extended_ga7d862c2affd5790381da14eb102a364d} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+process\+\_\+info (\begin{DoxyParamCaption}\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{elapsed\+\_\+msecs}{, }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{user\+\_\+msecs}{, }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{system\+\_\+msecs}{, }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{current\+\_\+rss}{, }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{peak\+\_\+rss}{, }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{current\+\_\+commit}{, }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{peak\+\_\+commit}{, }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{page\+\_\+faults}{}\end{DoxyParamCaption})}

Return process information (time and memory usage). 
\begin{DoxyParams}{参数}
{\em elapsed\+\_\+msecs} & Optional. Elapsed wall-\/clock time of the process in milli-\/seconds. \\
\hline
{\em user\+\_\+msecs} & Optional. User time in milli-\/seconds (as the sum over all threads). \\
\hline
{\em system\+\_\+msecs} & Optional. System time in milli-\/seconds. \\
\hline
{\em current\+\_\+rss} & Optional. Current working set size (touched pages). \\
\hline
{\em peak\+\_\+rss} & Optional. Peak working set size (touched pages). \\
\hline
{\em current\+\_\+commit} & Optional. Current committed memory (backed by the page file). \\
\hline
{\em peak\+\_\+commit} & Optional. Peak committed memory (backed by the page file). \\
\hline
{\em page\+\_\+faults} & Optional. Count of hard page faults.\\
\hline
\end{DoxyParams}
The {\itshape current\+\_\+rss} is precise on Windows and Mac\+OSX; other systems estimate this using {\itshape current\+\_\+commit}. The {\itshape commit} is precise on Windows but estimated on other systems as the amount of read/write accessible memory reserved by mimalloc. 函数调用图\+:
% FIG 10
\Hypertarget{group__extended_ga3460a6ca91af97be4058f523d3cb8ece}\index{Extended Functions@{Extended Functions}!mi\_register\_deferred\_free@{mi\_register\_deferred\_free}}
\index{mi\_register\_deferred\_free@{mi\_register\_deferred\_free}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_register\_deferred\_free()}{mi\_register\_deferred\_free()}}
{\footnotesize\ttfamily \label{group__extended_ga3460a6ca91af97be4058f523d3cb8ece} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+register\+\_\+deferred\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__extended_ga292a45f7dbc7cd23c5352ce1f0002816}{mi\+\_\+deferred\+\_\+free\+\_\+fun}} \texorpdfstring{$\ast$}{*}}]{deferred\+\_\+free}{, }\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{arg}{}\end{DoxyParamCaption})}

Register a deferred free function. 
\begin{DoxyParams}{参数}
{\em deferred\+\_\+free} & Address of a deferred free-\/ing function or {\itshape NULL} to unregister. \\
\hline
{\em arg} & Argument that will be passed on to the deferred free function.\\
\hline
\end{DoxyParams}
Some runtime systems use deferred free-\/ing, for example when using reference counting to limit the worst case free time. Such systems can register (re-\/entrant) deferred free function to free more memory on demand. When the {\itshape force} parameter is {\itshape true} all possible memory should be freed. The per-\/thread {\itshape heartbeat} parameter is monotonically increasing and guaranteed to be deterministic if the program allocates deterministically. The {\itshape deferred\+\_\+free} function is guaranteed to be called deterministically after some number of allocations (regardless of freeing or available free memory). At most one {\itshape deferred\+\_\+free} function can be active. \Hypertarget{group__extended_gaa1d55e0e894be240827e5d87ec3a1f45}\index{Extended Functions@{Extended Functions}!mi\_register\_error@{mi\_register\_error}}
\index{mi\_register\_error@{mi\_register\_error}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_register\_error()}{mi\_register\_error()}}
{\footnotesize\ttfamily \label{group__extended_gaa1d55e0e894be240827e5d87ec3a1f45} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+register\+\_\+error (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__extended_ga83fc6a688b322261e1c2deab000b0591}{mi\+\_\+error\+\_\+fun}} \texorpdfstring{$\ast$}{*}}]{errfun}{, }\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{arg}{}\end{DoxyParamCaption})}

Register an error callback function. 
\begin{DoxyParams}{参数}
{\em errfun} & The error function that is called on an error (use {\itshape NULL} for default) \\
\hline
{\em arg} & Extra argument that will be passed on to the error function.\\
\hline
\end{DoxyParams}
The {\itshape errfun} function is called on an error in mimalloc after emitting an error message (through the output function). It as always legal to just return from the {\itshape errfun} function in which case allocation functions generally return {\itshape NULL} or ignore the condition. The default function only calls abort() when compiled in secure mode with an {\itshape EFAULT} error. The possible error codes are\+:
\begin{DoxyItemize}
\item {\itshape EAGAIN\+:} Double free was detected (only in debug and secure mode).
\item {\itshape EFAULT\+:} Corrupted free list or meta-\/data was detected (only in debug and secure mode).
\item {\itshape ENOMEM\+:} Not enough memory available to satisfy the request.
\item {\itshape EOVERFLOW\+:} Too large a request, for example in \doxylink{group__malloc_ga6686568014b54d1e6c7ac64a076e4f56}{mi\+\_\+calloc()}, the {\itshape count} and {\itshape size} parameters are too large.
\item {\itshape EINVAL\+:} Trying to free or re-\/allocate an invalid pointer. 
\end{DoxyItemize}\Hypertarget{group__extended_gae5b17ff027cd2150b43a33040250cf3f}\index{Extended Functions@{Extended Functions}!mi\_register\_output@{mi\_register\_output}}
\index{mi\_register\_output@{mi\_register\_output}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_register\_output()}{mi\_register\_output()}}
{\footnotesize\ttfamily \label{group__extended_gae5b17ff027cd2150b43a33040250cf3f} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+register\+\_\+output (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__extended_gadf31cea7d0332a81c8b882cbbdbadb8d}{mi\+\_\+output\+\_\+fun}} \texorpdfstring{$\ast$}{*}}]{out}{, }\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{arg}{}\end{DoxyParamCaption})}

Register an output function. 
\begin{DoxyParams}{参数}
{\em out} & The output function, use {\ttfamily NULL} to output to stderr. \\
\hline
{\em arg} & Argument that will be passed on to the output function.\\
\hline
\end{DoxyParams}
The {\ttfamily out} function is called to output any information from mimalloc, like verbose or warning messages. 函数调用图\+:
% FIG 11
\Hypertarget{group__extended_ga7795a13d20087447281858d2c771cca1}\index{Extended Functions@{Extended Functions}!mi\_reserve\_huge\_os\_pages\_at@{mi\_reserve\_huge\_os\_pages\_at}}
\index{mi\_reserve\_huge\_os\_pages\_at@{mi\_reserve\_huge\_os\_pages\_at}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_reserve\_huge\_os\_pages\_at()}{mi\_reserve\_huge\_os\_pages\_at()}}
{\footnotesize\ttfamily \label{group__extended_ga7795a13d20087447281858d2c771cca1} 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} mi\+\_\+reserve\+\_\+huge\+\_\+os\+\_\+pages\+\_\+at (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{pages}{, }\item[{\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}}}]{numa\+\_\+node}{, }\item[{size\+\_\+t}]{timeout\+\_\+msecs}{}\end{DoxyParamCaption})}

Reserve {\itshape pages} of huge OS pages (1GiB) at a specific {\itshape numa\+\_\+node}, but stops after at most {\ttfamily timeout\+\_\+msecs} seconds. 
\begin{DoxyParams}{参数}
{\em pages} & The number of 1GiB pages to reserve. \\
\hline
{\em numa\+\_\+node} & The NUMA node where the memory is reserved (start at 0). Use -\/1 for no affinity. \\
\hline
{\em timeout\+\_\+msecs} & Maximum number of milli-\/seconds to try reserving, or 0 for no timeout. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
0 if successful, {\itshape ENOMEM} if running out of memory, or {\itshape ETIMEDOUT} if timed out.
\end{DoxyReturn}
The reserved memory is used by mimalloc to satisfy allocations. May quit before {\itshape timeout\+\_\+msecs} are expired if it estimates it will take more than 1.\+5 times {\itshape timeout\+\_\+msecs}. The time limit is needed because on some operating systems it can take a long time to reserve contiguous memory if the physical memory is fragmented. 函数调用图\+:
% FIG 12
\Hypertarget{group__extended_ga591aab1c2bc2ca920e33f0f9f9cb5c52}\index{Extended Functions@{Extended Functions}!mi\_reserve\_huge\_os\_pages\_at\_ex@{mi\_reserve\_huge\_os\_pages\_at\_ex}}
\index{mi\_reserve\_huge\_os\_pages\_at\_ex@{mi\_reserve\_huge\_os\_pages\_at\_ex}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_reserve\_huge\_os\_pages\_at\_ex()}{mi\_reserve\_huge\_os\_pages\_at\_ex()}}
{\footnotesize\ttfamily \label{group__extended_ga591aab1c2bc2ca920e33f0f9f9cb5c52} 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} mi\+\_\+reserve\+\_\+huge\+\_\+os\+\_\+pages\+\_\+at\+\_\+ex (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{pages}{, }\item[{\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}}}]{numa\+\_\+node}{, }\item[{size\+\_\+t}]{timeout\+\_\+msecs}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{exclusive}{, }\item[{\mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{arena\+\_\+id}{}\end{DoxyParamCaption})}



Reserve huge OS pages (1GiB) into a single arena. 


\begin{DoxyParams}{参数}
{\em pages} & Number of 1GiB pages to reserve. \\
\hline
{\em numa\+\_\+node} & The associated NUMA node, or -\/1 for no NUMA preference. \\
\hline
{\em timeout\+\_\+msecs} & Max amount of milli-\/seconds this operation is allowed to take. (0 is infinite) \\
\hline
{\em exclusive} & If exclusive, only a heap associated with this arena can allocate in it. \\
\hline
{\em arena\+\_\+id} & The arena identifier. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
0 if successful, {\itshape ENOMEM} if running out of memory, or {\itshape ETIMEDOUT} if timed out. 
\end{DoxyReturn}
函数调用图\+:
% FIG 13
\Hypertarget{group__extended_ga3132f521fb756fc0e8ec0b74fb58df50}\index{Extended Functions@{Extended Functions}!mi\_reserve\_huge\_os\_pages\_interleave@{mi\_reserve\_huge\_os\_pages\_interleave}}
\index{mi\_reserve\_huge\_os\_pages\_interleave@{mi\_reserve\_huge\_os\_pages\_interleave}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_reserve\_huge\_os\_pages\_interleave()}{mi\_reserve\_huge\_os\_pages\_interleave()}}
{\footnotesize\ttfamily \label{group__extended_ga3132f521fb756fc0e8ec0b74fb58df50} 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} mi\+\_\+reserve\+\_\+huge\+\_\+os\+\_\+pages\+\_\+interleave (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{pages}{, }\item[{size\+\_\+t}]{numa\+\_\+nodes}{, }\item[{size\+\_\+t}]{timeout\+\_\+msecs}{}\end{DoxyParamCaption})}

Reserve {\itshape pages} of huge OS pages (1GiB) evenly divided over {\itshape numa\+\_\+nodes} nodes, but stops after at most {\ttfamily timeout\+\_\+msecs} seconds. 
\begin{DoxyParams}{参数}
{\em pages} & The number of 1GiB pages to reserve. \\
\hline
{\em numa\+\_\+nodes} & The number of nodes do evenly divide the pages over, or 0 for using the actual number of NUMA nodes. \\
\hline
{\em timeout\+\_\+msecs} & Maximum number of milli-\/seconds to try reserving, or 0 for no timeout. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
0 if successful, {\itshape ENOMEM} if running out of memory, or {\itshape ETIMEDOUT} if timed out.
\end{DoxyReturn}
The reserved memory is used by mimalloc to satisfy allocations. May quit before {\itshape timeout\+\_\+msecs} are expired if it estimates it will take more than 1.\+5 times {\itshape timeout\+\_\+msecs}. The time limit is needed because on some operating systems it can take a long time to reserve contiguous memory if the physical memory is fragmented. 函数调用图\+:
% FIG 14
\Hypertarget{group__extended_ga00ec3324b6b2591c7fe3677baa30a767}\index{Extended Functions@{Extended Functions}!mi\_reserve\_os\_memory@{mi\_reserve\_os\_memory}}
\index{mi\_reserve\_os\_memory@{mi\_reserve\_os\_memory}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_reserve\_os\_memory()}{mi\_reserve\_os\_memory()}}
{\footnotesize\ttfamily \label{group__extended_ga00ec3324b6b2591c7fe3677baa30a767} 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} mi\+\_\+reserve\+\_\+os\+\_\+memory (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{commit}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{allow\+\_\+large}{}\end{DoxyParamCaption})}

Reserve OS memory for use by mimalloc. Reserved areas are used before allocating from the OS again. By reserving a large area upfront, allocation can be more efficient, and can be better managed on systems without {\ttfamily mmap}/{\ttfamily Virtual\+Alloc} (like WASM for example). 
\begin{DoxyParams}{参数}
{\em size} & The size to reserve. \\
\hline
{\em commit} & Commit the memory upfront. \\
\hline
{\em allow\+\_\+large} & Allow large OS pages (2MiB) to be used? \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
{\itshape 0} if successful, and an error code otherwise (e.\+g. {\ttfamily ENOMEM}). 
\end{DoxyReturn}
函数调用图\+:
% FIG 15
\Hypertarget{group__extended_ga32f519797fd9a81acb4f52d36e6d751b}\index{Extended Functions@{Extended Functions}!mi\_reserve\_os\_memory\_ex@{mi\_reserve\_os\_memory\_ex}}
\index{mi\_reserve\_os\_memory\_ex@{mi\_reserve\_os\_memory\_ex}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_reserve\_os\_memory\_ex()}{mi\_reserve\_os\_memory\_ex()}}
{\footnotesize\ttfamily \label{group__extended_ga32f519797fd9a81acb4f52d36e6d751b} 
\mbox{\hyperlink{sugar_8h_ae88a82478e3818cade3f598c25437904}{int}} mi\+\_\+reserve\+\_\+os\+\_\+memory\+\_\+ex (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{commit}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{allow\+\_\+large}{, }\item[{\mbox{\hyperlink{sugar_8h_abb452686968e48b67397da5f97445f5b}{bool}}}]{exclusive}{, }\item[{\mbox{\hyperlink{group__extended_ga99fe38650d0b02e0e0f89ee024db91d3}{mi\+\_\+arena\+\_\+id\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{arena\+\_\+id}{}\end{DoxyParamCaption})}



Reserve OS memory to be managed in an arena. 


\begin{DoxyParams}{参数}
{\em size} & Size the reserve. \\
\hline
{\em commit} & Should the memory be initially committed? \\
\hline
{\em allow\+\_\+large} & Allow the use of large OS pages? \\
\hline
{\em exclusive} & Is the returned arena exclusive? \\
\hline
{\em arena\+\_\+id} & The new arena identifier. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
Zero on success, an error code otherwise. 
\end{DoxyReturn}
函数调用图\+:
% FIG 16
\Hypertarget{group__extended_ga854b1de8cb067c7316286c28b2fcd3d1}\index{Extended Functions@{Extended Functions}!mi\_stats\_merge@{mi\_stats\_merge}}
\index{mi\_stats\_merge@{mi\_stats\_merge}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_stats\_merge()}{mi\_stats\_merge()}}
{\footnotesize\ttfamily \label{group__extended_ga854b1de8cb067c7316286c28b2fcd3d1} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+stats\+\_\+merge (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}}]{}{}\end{DoxyParamCaption})}



Merge thread local statistics with the main statistics and reset. 

函数调用图\+:
% FIG 17
\Hypertarget{group__extended_ga2d126e5c62d3badc35445e5d84166df2}\index{Extended Functions@{Extended Functions}!mi\_stats\_print@{mi\_stats\_print}}
\index{mi\_stats\_print@{mi\_stats\_print}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_stats\_print()}{mi\_stats\_print()}}
{\footnotesize\ttfamily \label{group__extended_ga2d126e5c62d3badc35445e5d84166df2} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+stats\+\_\+print (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{out}{}\end{DoxyParamCaption})}

Deprecated 
\begin{DoxyParams}{参数}
{\em out} & Ignored, outputs to the registered output function or stderr by default.\\
\hline
\end{DoxyParams}
Most detailed when using a debug build. 函数调用图\+:
% FIG 18
\Hypertarget{group__extended_ga537f13b299ddf801e49a5a94fde02c79}\index{Extended Functions@{Extended Functions}!mi\_stats\_print\_out@{mi\_stats\_print\_out}}
\index{mi\_stats\_print\_out@{mi\_stats\_print\_out}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_stats\_print\_out()}{mi\_stats\_print\_out()}}
{\footnotesize\ttfamily \label{group__extended_ga537f13b299ddf801e49a5a94fde02c79} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+stats\+\_\+print\+\_\+out (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__extended_gadf31cea7d0332a81c8b882cbbdbadb8d}{mi\+\_\+output\+\_\+fun}} \texorpdfstring{$\ast$}{*}}]{out}{, }\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{arg}{}\end{DoxyParamCaption})}

Print the main statistics. 
\begin{DoxyParams}{参数}
{\em out} & An output function or {\itshape NULL} for the default. \\
\hline
{\em arg} & Optional argument passed to {\itshape out} (if not {\itshape NULL})\\
\hline
\end{DoxyParams}
Most detailed when using a debug build. 函数调用图\+:
% FIG 19
\Hypertarget{group__extended_ga3bb8468b8cfcc6e2a61d98aee85c5f99}\index{Extended Functions@{Extended Functions}!mi\_stats\_reset@{mi\_stats\_reset}}
\index{mi\_stats\_reset@{mi\_stats\_reset}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_stats\_reset()}{mi\_stats\_reset()}}
{\footnotesize\ttfamily \label{group__extended_ga3bb8468b8cfcc6e2a61d98aee85c5f99} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+stats\+\_\+reset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}}]{}{}\end{DoxyParamCaption})}



Reset statistics. 

函数调用图\+:
% FIG 20
\Hypertarget{group__extended_gadbc53414eb68b275588ec001ce1ddc7c}\index{Extended Functions@{Extended Functions}!mi\_subproc\_add\_current\_thread@{mi\_subproc\_add\_current\_thread}}
\index{mi\_subproc\_add\_current\_thread@{mi\_subproc\_add\_current\_thread}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_subproc\_add\_current\_thread()}{mi\_subproc\_add\_current\_thread()}}
{\footnotesize\ttfamily \label{group__extended_gadbc53414eb68b275588ec001ce1ddc7c} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+subproc\+\_\+add\+\_\+current\+\_\+thread (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}{mi\+\_\+subproc\+\_\+id\+\_\+t}}}]{subproc}{}\end{DoxyParamCaption})}

Add the current thread to the given sub-\/process. This should be called right after a thread is created (and no allocation has taken place yet) 函数调用图\+:
% FIG 21
\Hypertarget{group__extended_gaa7d263e9429bac9ac8345c9d25de610e}\index{Extended Functions@{Extended Functions}!mi\_subproc\_delete@{mi\_subproc\_delete}}
\index{mi\_subproc\_delete@{mi\_subproc\_delete}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_subproc\_delete()}{mi\_subproc\_delete()}}
{\footnotesize\ttfamily \label{group__extended_gaa7d263e9429bac9ac8345c9d25de610e} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+subproc\+\_\+delete (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}{mi\+\_\+subproc\+\_\+id\+\_\+t}}}]{subproc}{}\end{DoxyParamCaption})}



Delete a previously created sub-\/process. 


\begin{DoxyParams}{参数}
{\em subproc} & The sub-\/process identifier. Only delete sub-\/processes if all associated threads have terminated. \\
\hline
\end{DoxyParams}
函数调用图\+:
% FIG 22
\Hypertarget{group__extended_ga2ecba0d7ebdc99e71bb985c4a1609806}\index{Extended Functions@{Extended Functions}!mi\_subproc\_main@{mi\_subproc\_main}}
\index{mi\_subproc\_main@{mi\_subproc\_main}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_subproc\_main()}{mi\_subproc\_main()}}
{\footnotesize\ttfamily \label{group__extended_ga2ecba0d7ebdc99e71bb985c4a1609806} 
\mbox{\hyperlink{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}{mi\+\_\+subproc\+\_\+id\+\_\+t}} mi\+\_\+subproc\+\_\+main (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}}]{}{}\end{DoxyParamCaption})}



Get the main sub-\/process identifier. 

\Hypertarget{group__extended_ga8068cac328e41fa2170faef707315243}\index{Extended Functions@{Extended Functions}!mi\_subproc\_new@{mi\_subproc\_new}}
\index{mi\_subproc\_new@{mi\_subproc\_new}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_subproc\_new()}{mi\_subproc\_new()}}
{\footnotesize\ttfamily \label{group__extended_ga8068cac328e41fa2170faef707315243} 
\mbox{\hyperlink{group__extended_ga8c0bcd1fee27c7641e9c3c0d991b3b7d}{mi\+\_\+subproc\+\_\+id\+\_\+t}} mi\+\_\+subproc\+\_\+new (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}}]{}{}\end{DoxyParamCaption})}



Create a fresh sub-\/process (with no associated threads yet). 

\begin{DoxyReturn}{返回}
The new sub-\/process identifier. 
\end{DoxyReturn}
函数调用图\+:
% FIG 23
\Hypertarget{group__extended_ga0ae4581e85453456a0d658b2b98bf7bf}\index{Extended Functions@{Extended Functions}!mi\_thread\_done@{mi\_thread\_done}}
\index{mi\_thread\_done@{mi\_thread\_done}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_thread\_done()}{mi\_thread\_done()}}
{\footnotesize\ttfamily \label{group__extended_ga0ae4581e85453456a0d658b2b98bf7bf} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+thread\+\_\+done (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}}]{}{}\end{DoxyParamCaption})}

Uninitialize mimalloc on a thread. Should not be used as on most systems (pthreads, windows) this is done automatically. Ensures that any memory that is not freed yet (but will be freed by other threads in the future) is properly handled. 函数调用图\+:
% FIG 24
\Hypertarget{group__extended_gaf8e73efc2cbca9ebfdfb166983a04c17}\index{Extended Functions@{Extended Functions}!mi\_thread\_init@{mi\_thread\_init}}
\index{mi\_thread\_init@{mi\_thread\_init}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_thread\_init()}{mi\_thread\_init()}}
{\footnotesize\ttfamily \label{group__extended_gaf8e73efc2cbca9ebfdfb166983a04c17} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+thread\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}}}]{}{}\end{DoxyParamCaption})}

Initialize mimalloc on a thread. Should not be used as on most systems (pthreads, windows) this is done automatically. 函数调用图\+:
% FIG 25
\Hypertarget{group__extended_gab1dac8476c46cb9eecab767eb40c1525}\index{Extended Functions@{Extended Functions}!mi\_thread\_stats\_print\_out@{mi\_thread\_stats\_print\_out}}
\index{mi\_thread\_stats\_print\_out@{mi\_thread\_stats\_print\_out}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_thread\_stats\_print\_out()}{mi\_thread\_stats\_print\_out()}}
{\footnotesize\ttfamily \label{group__extended_gab1dac8476c46cb9eecab767eb40c1525} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} mi\+\_\+thread\+\_\+stats\+\_\+print\+\_\+out (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__extended_gadf31cea7d0332a81c8b882cbbdbadb8d}{mi\+\_\+output\+\_\+fun}} \texorpdfstring{$\ast$}{*}}]{out}{, }\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{arg}{}\end{DoxyParamCaption})}

Print out heap statistics for this thread. 
\begin{DoxyParams}{参数}
{\em out} & An output function or {\itshape NULL} for the default. \\
\hline
{\em arg} & Optional argument passed to {\itshape out} (if not {\itshape NULL})\\
\hline
\end{DoxyParams}
Most detailed when using a debug build. 函数调用图\+:
% FIG 26
\Hypertarget{group__extended_ga089c859d9eddc5f9b4bd946cd53cebee}\index{Extended Functions@{Extended Functions}!mi\_usable\_size@{mi\_usable\_size}}
\index{mi\_usable\_size@{mi\_usable\_size}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_usable\_size()}{mi\_usable\_size()}}
{\footnotesize\ttfamily \label{group__extended_ga089c859d9eddc5f9b4bd946cd53cebee} 
size\+\_\+t mi\+\_\+usable\+\_\+size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*}}]{p}{}\end{DoxyParamCaption})}

Return the available bytes in a memory block. 
\begin{DoxyParams}{参数}
{\em p} & Pointer to previously allocated memory (or {\itshape NULL}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
Returns the available bytes in the memory block, or 0 if {\itshape p} was {\itshape NULL}.
\end{DoxyReturn}
The returned size can be used to call {\itshape mi\+\_\+expand} successfully. The returned size is always at least equal to the allocated size of {\itshape p}.

\begin{DoxySeeAlso}{参见}
\href{https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/msize?view=vs-2017}{\texttt{ \+\_\+msize}} (Windows) 

\href{http://man7.org/linux/man-pages/man3/malloc_usable_size.3.html}{\texttt{ malloc\+\_\+usable\+\_\+size}} (Linux) 

\doxylink{group__extended_gac057927cd06c854b45fe7847e921bd47}{mi\+\_\+good\+\_\+size()} 
\end{DoxySeeAlso}
\Hypertarget{group__extended_ga51c47637e81df0e2f13a2d7a2dec123e}\index{Extended Functions@{Extended Functions}!mi\_zalloc\_small@{mi\_zalloc\_small}}
\index{mi\_zalloc\_small@{mi\_zalloc\_small}!Extended Functions@{Extended Functions}}
\doxysubsubsection{\texorpdfstring{mi\_zalloc\_small()}{mi\_zalloc\_small()}}
{\footnotesize\ttfamily \label{group__extended_ga51c47637e81df0e2f13a2d7a2dec123e} 
\mbox{\hyperlink{mimalloc_8h_a9d6d8aef94ac19034a5f163606f84830}{void}} \texorpdfstring{$\ast$}{*} mi\+\_\+zalloc\+\_\+small (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size}{}\end{DoxyParamCaption})}

Allocate a zero initialized small object. 
\begin{DoxyParams}{参数}
{\em size} & The size in bytes, can be at most \doxylink{group__extended_ga1ea64283508718d9d645c38efc2f4305}{MI\+\_\+\+SMALL\+\_\+\+SIZE\+\_\+\+MAX}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
a pointer to newly allocated zero-\/initialized memory of at least {\itshape size} bytes, or {\itshape NULL} if out of memory. This function is meant for use in run-\/time systems for best performance and does not check if {\itshape size} was indeed small -- use with care! 
\end{DoxyReturn}
函数调用图\+:
% FIG 27
